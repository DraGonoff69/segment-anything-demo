function _mergeNamespaces(o,i){for(var a=0;a<i.length;a++){const s=i[a];if(typeof s!="string"&&!Array.isArray(s)){for(const $ in s)if($!=="default"&&!($ in o)){const et=Object.getOwnPropertyDescriptor(s,$);et&&Object.defineProperty(o,$,et.get?et:{enumerable:!0,get:()=>s[$]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))s($);new MutationObserver($=>{for(const et of $)if(et.type==="childList")for(const _e of et.addedNodes)_e.tagName==="LINK"&&_e.rel==="modulepreload"&&s(_e)}).observe(document,{childList:!0,subtree:!0});function a($){const et={};return $.integrity&&(et.integrity=$.integrity),$.referrerPolicy&&(et.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?et.credentials="include":$.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function s($){if($.ep)return;$.ep=!0;const et=a($);fetch($.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(o){return o===null||typeof o!="object"?null:(o=z$2&&o[z$2]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,i,a){this.props=o,this.context=i,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,i,a){this.props=o,this.context=i,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,i,a){var s,$={},et=null,_e=null;if(i!=null)for(s in i.ref!==void 0&&(_e=i.ref),i.key!==void 0&&(et=""+i.key),i)J.call(i,s)&&!L$1.hasOwnProperty(s)&&($[s]=i[s]);var rt=arguments.length-2;if(rt===1)$.children=a;else if(1<rt){for(var ot=Array(rt),it=0;it<rt;it++)ot[it]=arguments[it+2];$.children=ot}if(o&&o.defaultProps)for(s in rt=o.defaultProps,rt)$[s]===void 0&&($[s]=rt[s]);return{$$typeof:l$2,type:o,key:et,ref:_e,props:$,_owner:K$1.current}}function N$1(o,i){return{$$typeof:l$2,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return i[a]})}var P$1=/\/+/g;function Q$1(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):i.toString(36)}function R$1(o,i,a,s,$){var et=typeof o;(et==="undefined"||et==="boolean")&&(o=null);var _e=!1;if(o===null)_e=!0;else switch(et){case"string":case"number":_e=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:_e=!0}}if(_e)return _e=o,$=$(_e),o=s===""?"."+Q$1(_e,0):s,I$1($)?(a="",o!=null&&(a=o.replace(P$1,"$&/")+"/"),R$1($,i,a,"",function(it){return it})):$!=null&&(O$1($)&&($=N$1($,a+(!$.key||_e&&_e.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+o)),i.push($)),1;if(_e=0,s=s===""?".":s+":",I$1(o))for(var rt=0;rt<o.length;rt++){et=o[rt];var ot=s+Q$1(et,rt);_e+=R$1(et,i,a,ot,$)}else if(ot=A$2(o),typeof ot=="function")for(o=ot.call(o),rt=0;!(et=o.next()).done;)et=et.value,ot=s+Q$1(et,rt++),_e+=R$1(et,i,a,ot,$);else if(et==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return _e}function S$1(o,i,a){if(o==null)return o;var s=[],$=0;return R$1(o,s,"","",function(et){return i.call(a,et,$++)}),s}function T$1(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,i,a){S$1(o,function(){i.apply(this,arguments)},a)},count:function(o){var i=0;return S$1(o,function(){i++}),i},toArray:function(o){return S$1(o,function(i){return i})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,i,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var s=C$1({},o.props),$=o.key,et=o.ref,_e=o._owner;if(i!=null){if(i.ref!==void 0&&(et=i.ref,_e=K$1.current),i.key!==void 0&&($=""+i.key),o.type&&o.type.defaultProps)var rt=o.type.defaultProps;for(ot in i)J.call(i,ot)&&!L$1.hasOwnProperty(ot)&&(s[ot]=i[ot]===void 0&&rt!==void 0?rt[ot]:i[ot])}var ot=arguments.length-2;if(ot===1)s.children=a;else if(1<ot){rt=Array(ot);for(var it=0;it<ot;it++)rt[it]=arguments[it+2];s.children=rt}return{$$typeof:l$2,type:o.type,key:$,ref:et,props:s,_owner:_e}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var i=M$1.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,i){return{$$typeof:x$1,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,i){return U$1.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$1.current.useEffect(o,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,i,a){return U$1.current.useImperativeHandle(o,i,a)};react_production_min.useInsertionEffect=function(o,i){return U$1.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$1.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$1.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,a){return U$1.current.useReducer(o,i,a)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,a){return U$1.current.useSyncExternalStore(o,i,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,i,a){var s,$={},et=null,_e=null;a!==void 0&&(et=""+a),i.key!==void 0&&(et=""+i.key),i.ref!==void 0&&(_e=i.ref);for(s in i)m$2.call(i,s)&&!p$2.hasOwnProperty(s)&&($[s]=i[s]);if(o&&o.defaultProps)for(s in i=o.defaultProps,i)$[s]===void 0&&($[s]=i[s]);return{$$typeof:k$1,type:o,key:et,ref:_e,props:$,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(Vt,Kt){var Yt=Vt.length;Vt.push(Kt);e:for(;0<Yt;){var Jt=Yt-1>>>1,ln=Vt[Jt];if(0<$(ln,Kt))Vt[Jt]=Kt,Vt[Yt]=ln,Yt=Jt;else break e}}function a(Vt){return Vt.length===0?null:Vt[0]}function s(Vt){if(Vt.length===0)return null;var Kt=Vt[0],Yt=Vt.pop();if(Yt!==Kt){Vt[0]=Yt;e:for(var Jt=0,ln=Vt.length,wn=ln>>>1;Jt<wn;){var _n=2*(Jt+1)-1,kn=Vt[_n],Cn=_n+1,Ht=Vt[Cn];if(0>$(kn,Yt))Cn<ln&&0>$(Ht,kn)?(Vt[Jt]=Ht,Vt[Cn]=Yt,Jt=Cn):(Vt[Jt]=kn,Vt[_n]=Yt,Jt=_n);else if(Cn<ln&&0>$(Ht,Yt))Vt[Jt]=Ht,Vt[Cn]=Yt,Jt=Cn;else break e}}return Kt}function $(Vt,Kt){var Yt=Vt.sortIndex-Kt.sortIndex;return Yt!==0?Yt:Vt.id-Kt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;o.unstable_now=function(){return et.now()}}else{var _e=Date,rt=_e.now();o.unstable_now=function(){return _e.now()-rt}}var ot=[],it=[],at=1,j=null,_=3,tt=!1,nt=!1,st=!1,dt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Vt){for(var Kt=a(it);Kt!==null;){if(Kt.callback===null)s(it);else if(Kt.startTime<=Vt)s(it),Kt.sortIndex=Kt.expirationTime,i(ot,Kt);else break;Kt=a(it)}}function mt(Vt){if(st=!1,pt(Vt),!nt)if(a(ot)!==null)nt=!0,Dt(vt);else{var Kt=a(it);Kt!==null&&Mt(mt,Kt.startTime-Vt)}}function vt(Vt,Kt){nt=!1,st&&(st=!1,ft(wt),wt=-1),tt=!0;var Yt=_;try{for(pt(Kt),j=a(ot);j!==null&&(!(j.expirationTime>Kt)||Vt&&!At());){var Jt=j.callback;if(typeof Jt=="function"){j.callback=null,_=j.priorityLevel;var ln=Jt(j.expirationTime<=Kt);Kt=o.unstable_now(),typeof ln=="function"?j.callback=ln:j===a(ot)&&s(ot),pt(Kt)}else s(ot);j=a(ot)}if(j!==null)var wn=!0;else{var _n=a(it);_n!==null&&Mt(mt,_n.startTime-Kt),wn=!1}return wn}finally{j=null,_=Yt,tt=!1}}var yt=!1,xt=null,wt=-1,St=5,Ct=-1;function At(){return!(o.unstable_now()-Ct<St)}function $t(){if(xt!==null){var Vt=o.unstable_now();Ct=Vt;var Kt=!0;try{Kt=xt(!0,Vt)}finally{Kt?Rt():(yt=!1,xt=null)}}else yt=!1}var Rt;if(typeof gt=="function")Rt=function(){gt($t)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Lt=kt.port2;kt.port1.onmessage=$t,Rt=function(){Lt.postMessage(null)}}else Rt=function(){dt($t,0)};function Dt(Vt){xt=Vt,yt||(yt=!0,Rt())}function Mt(Vt,Kt){wt=dt(function(){Vt(o.unstable_now())},Kt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Vt){Vt.callback=null},o.unstable_continueExecution=function(){nt||tt||(nt=!0,Dt(vt))},o.unstable_forceFrameRate=function(Vt){0>Vt||125<Vt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<Vt?Math.floor(1e3/Vt):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_getFirstCallbackNode=function(){return a(ot)},o.unstable_next=function(Vt){switch(_){case 1:case 2:case 3:var Kt=3;break;default:Kt=_}var Yt=_;_=Kt;try{return Vt()}finally{_=Yt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Vt,Kt){switch(Vt){case 1:case 2:case 3:case 4:case 5:break;default:Vt=3}var Yt=_;_=Vt;try{return Kt()}finally{_=Yt}},o.unstable_scheduleCallback=function(Vt,Kt,Yt){var Jt=o.unstable_now();switch(typeof Yt=="object"&&Yt!==null?(Yt=Yt.delay,Yt=typeof Yt=="number"&&0<Yt?Jt+Yt:Jt):Yt=Jt,Vt){case 1:var ln=-1;break;case 2:ln=250;break;case 5:ln=1073741823;break;case 4:ln=1e4;break;default:ln=5e3}return ln=Yt+ln,Vt={id:at++,callback:Kt,priorityLevel:Vt,startTime:Yt,expirationTime:ln,sortIndex:-1},Yt>Jt?(Vt.sortIndex=Yt,i(it,Vt),a(ot)===null&&Vt===a(it)&&(st?(ft(wt),wt=-1):st=!0,Mt(mt,Yt-Jt))):(Vt.sortIndex=ln,i(ot,Vt),nt||tt||(nt=!0,Dt(vt))),Vt},o.unstable_shouldYield=At,o.unstable_wrapCallback=function(Vt){var Kt=_;return function(){var Yt=_;_=Kt;try{return Vt.apply(this,arguments)}finally{_=Yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,i){ha(o,i),ha(o+"Capture",i)}function ha(o,i){for(ea[o]=i,o=0;o<i.length;o++)da.add(i[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,i,a,s){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,i,a,s){if(i===null||typeof i>"u"||pa(o,i,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(o,i,a,s,$,et,_e){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=s,this.attributeNamespace=$,this.mustUseProperty=a,this.propertyName=o,this.type=i,this.sanitizeURL=et,this.removeEmptyString=_e}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$1[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z$1[i]=new v$1(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$1[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$1[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$1[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$1[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$1[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$1[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$1[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$1[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$1[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,i,a,s){var $=z$1.hasOwnProperty(i)?z$1[i]:null;($!==null?$.type!==0:s||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,a,$,s)&&(a=null),s||$===null?oa(i)&&(a===null?o.removeAttribute(i):o.setAttribute(i,""+a)):$.mustUseProperty?o[$.propertyName]=a===null?$.type===3?!1:"":a:(i=$.attributeName,s=$.attributeNamespace,a===null?o.removeAttribute(i):($=$.type,a=$===3||$===4&&a===!0?"":""+a,s?o.setAttributeNS(s,i,a):o.setAttribute(i,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$1=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na=!1;function Oa(o,i){if(!o||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(it){var s=it}Reflect.construct(o,[],i)}else{try{i.call()}catch(it){s=it}o.call(i.prototype)}else{try{throw Error()}catch(it){s=it}o()}}catch(it){if(it&&s&&typeof it.stack=="string"){for(var $=it.stack.split(`
`),et=s.stack.split(`
`),_e=$.length-1,rt=et.length-1;1<=_e&&0<=rt&&$[_e]!==et[rt];)rt--;for(;1<=_e&&0<=rt;_e--,rt--)if($[_e]!==et[rt]){if(_e!==1||rt!==1)do if(_e--,rt--,0>rt||$[_e]!==et[rt]){var ot=`
`+$[_e].replace(" at new "," at ");return o.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",o.displayName)),ot}while(1<=_e&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return i=o.displayName||null,i!==null?i:Qa(o.type)||"Memo";case Ha:i=o._payload,o=o._init;try{return Qa(o(i))}catch{}}return null}function Ra(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(o){var i=Ta(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),s=""+o[i];if(!o.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var $=a.get,et=a.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return $.call(this)},set:function(_e){s=""+_e,et.call(this,_e)}}),Object.defineProperty(o,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(_e){s=""+_e},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return o&&(s=Ta(o)?o.checked?"true":"false":o.value),o=s,o!==a?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,i){var a=i.checked;return A$1({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function Za(o,i){var a=i.defaultValue==null?"":i.defaultValue,s=i.checked!=null?i.checked:i.defaultChecked;a=Sa(i.value!=null?i.value:a),o._wrapperState={initialChecked:s,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(o,i){i=i.checked,i!=null&&ta(o,"checked",i,!1)}function bb(o,i){ab(o,i);var a=Sa(i.value),s=i.type;if(a!=null)s==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(s==="submit"||s==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb(o,i.type,a):i.hasOwnProperty("defaultValue")&&cb(o,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db(o,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var s=i.type;if(!(s!=="submit"&&s!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,a||i===o.value||(o.value=i),o.defaultValue=i}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function cb(o,i,a){(i!=="number"||Xa(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var eb=Array.isArray;function fb(o,i,a,s){if(o=o.options,i){i={};for(var $=0;$<a.length;$++)i["$"+a[$]]=!0;for(a=0;a<o.length;a++)$=i.hasOwnProperty("$"+o[a].value),o[a].selected!==$&&(o[a].selected=$),$&&s&&(o[a].defaultSelected=!0)}else{for(a=""+Sa(a),i=null,$=0;$<o.length;$++){if(o[$].value===a){o[$].selected=!0,s&&(o[$].defaultSelected=!0);return}i!==null||o[$].disabled||(i=o[$])}i!==null&&(i.selected=!0)}}function gb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}i=a}i==null&&(i=""),a=i}o._wrapperState={initialValue:Sa(a)}}function ib(o,i){var a=Sa(i.value),s=Sa(i.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),i.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),s!=null&&(o.defaultValue=""+s)}function jb(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,s,$){MSApp.execUnsafeLocalFunction(function(){return o(i,a,s,$)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob(o,i){if(i){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=i;return}}o.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb[i]=pb[o]})});function rb(o,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pb.hasOwnProperty(o)&&pb[o]?(""+i).trim():i+"px"}function sb(o,i){o=o.style;for(var a in i)if(i.hasOwnProperty(a)){var s=a.indexOf("--")===0,$=rb(a,i[a],s);a==="float"&&(a="cssFloat"),s?o.setProperty(a,$):o[a]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,i){if(i){if(tb[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$1(280));var i=o.stateNode;i&&(i=Db(i),yb(o.stateNode,o.type,i))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,i=Ab;if(Ab=zb=null,Bb(o),i)for(o=0;o<i.length;o++)Bb(i[o])}}function Gb(o,i){return o(i)}function Hb(){}var Ib=!1;function Jb(o,i,a){if(Ib)return o(i,a);Ib=!0;try{return Gb(o,i,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,i){var a=o.stateNode;if(a===null)return null;var s=Db(a);if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(o=o.type,s=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!s;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(p$1(231,i,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,i,a,s,$,et,_e,rt,ot){var it=Array.prototype.slice.call(arguments,3);try{i.apply(a,it)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,i,a,s,$,et,_e,rt,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,i,a,s,$,et,_e,rt,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(o){var i=o,a=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(a=i.return),o=i.return;while(o)}return i.tag===3?a:null}function Wb(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$1(188))}function Yb(o){var i=o.alternate;if(!i){if(i=Vb(o),i===null)throw Error(p$1(188));return i!==o?null:o}for(var a=o,s=i;;){var $=a.return;if($===null)break;var et=$.alternate;if(et===null){if(s=$.return,s!==null){a=s;continue}break}if($.child===et.child){for(et=$.child;et;){if(et===a)return Xb($),o;if(et===s)return Xb($),i;et=et.sibling}throw Error(p$1(188))}if(a.return!==s.return)a=$,s=et;else{for(var _e=!1,rt=$.child;rt;){if(rt===a){_e=!0,a=$,s=et;break}if(rt===s){_e=!0,s=$,a=et;break}rt=rt.sibling}if(!_e){for(rt=et.child;rt;){if(rt===a){_e=!0,a=et,s=$;break}if(rt===s){_e=!0,s=et,a=$;break}rt=rt.sibling}if(!_e)throw Error(p$1(189))}}if(a.alternate!==s)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?o:i}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b(o);if(i!==null)return i;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,i){var a=o.pendingLanes;if(a===0)return 0;var s=0,$=o.suspendedLanes,et=o.pingedLanes,_e=a&268435455;if(_e!==0){var rt=_e&~$;rt!==0?s=tc(rt):(et&=_e,et!==0&&(s=tc(et)))}else _e=a&~$,_e!==0?s=tc(_e):et!==0&&(s=tc(et));if(s===0)return 0;if(i!==0&&i!==s&&!(i&$)&&($=s&-s,et=i&-i,$>=et||$===16&&(et&4194240)!==0))return i;if(s&4&&(s|=a&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=s;0<i;)a=31-oc(i),$=1<<a,s|=o[a],i&=~$;return s}function vc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,i){for(var a=o.suspendedLanes,s=o.pingedLanes,$=o.expirationTimes,et=o.pendingLanes;0<et;){var _e=31-oc(et),rt=1<<_e,ot=$[_e];ot===-1?(!(rt&a)||rt&s)&&($[_e]=vc(rt,i)):ot<=i&&(o.expiredLanes|=rt),et&=~rt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var i=[],a=0;31>a;a++)i.push(o);return i}function Ac(o,i,a){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc(i),o[i]=a}function Bc(o,i){var a=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var s=o.eventTimes;for(o=o.expirationTimes;0<a;){var $=31-oc(a),et=1<<$;i[$]=0,s[$]=-1,o[$]=-1,a&=~et}}function Cc(o,i){var a=o.entangledLanes|=i;for(o=o.entanglements;a;){var s=31-oc(a),$=1<<s;$&i|o[s]&i&&(o[s]|=i),a&=~$}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,i){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(o,i,a,s,$,et){return o===null||o.nativeEvent!==et?(o={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:et,targetContainers:[$]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),o):(o.eventSystemFlags|=s,i=o.targetContainers,$!==null&&i.indexOf($)===-1&&i.push($),o)}function Uc(o,i,a,s,$){switch(i){case"focusin":return Lc=Tc(Lc,o,i,a,s,$),!0;case"dragenter":return Mc=Tc(Mc,o,i,a,s,$),!0;case"mouseover":return Nc=Tc(Nc,o,i,a,s,$),!0;case"pointerover":var et=$.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,o,i,a,s,$)),!0;case"gotpointercapture":return et=$.pointerId,Pc.set(et,Tc(Pc.get(et)||null,o,i,a,s,$)),!0}return!1}function Vc(o){var i=Wc(o.target);if(i!==null){var a=Vb(i);if(a!==null){if(i=a.tag,i===13){if(i=Wb(a),i!==null){o.blockedOn=i,Ic(o.priority,function(){Gc(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var a=Yc(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var s=new a.constructor(a.type,a);wb=s,a.target.dispatchEvent(s),wb=null}else return i=Cb(a),i!==null&&Fc(i),o.blockedOn=a,!1;i.shift()}return!0}function Zc(o,i,a){Xc(o)&&a.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function i($){return ad($,o)}if(0<Kc.length){ad(Kc[0],o);for(var a=1;a<Kc.length;a++){var s=Kc[a];s.blockedOn===o&&(s.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(i),Pc.forEach(i),a=0;a<Qc.length;a++)s=Qc[a],s.blockedOn===o&&(s.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,i,a,s){var $=C,et=cd.transition;cd.transition=null;try{C=1,fd(o,i,a,s)}finally{C=$,cd.transition=et}}function gd(o,i,a,s){var $=C,et=cd.transition;cd.transition=null;try{C=4,fd(o,i,a,s)}finally{C=$,cd.transition=et}}function fd(o,i,a,s){if(dd){var $=Yc(o,i,a,s);if($===null)hd(o,i,s,id,a),Sc(o,s);else if(Uc($,o,i,a,s))s.stopPropagation();else if(Sc(o,s),i&4&&-1<Rc.indexOf(o)){for(;$!==null;){var et=Cb($);if(et!==null&&Ec(et),et=Yc(o,i,a,s),et===null&&hd(o,i,s,id,a),et===$)break;$=et}$!==null&&s.stopPropagation()}else hd(o,i,s,null,a)}}var id=null;function Yc(o,i,a,s){if(id=null,o=xb(s),o=Wc(o),o!==null)if(i=Vb(o),i===null)o=null;else if(a=i.tag,a===13){if(o=Wb(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,i=ld,a=i.length,s,$="value"in kd?kd.value:kd.textContent,et=$.length;for(o=0;o<a&&i[o]===$[o];o++);var _e=a-o;for(s=1;s<=_e&&i[a-s]===$[et-s];s++);return md=$.slice(o,1<s?1-s:void 0)}function od(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function i(a,s,$,et,_e){this._reactName=a,this._targetInst=$,this.type=s,this.nativeEvent=et,this.target=_e,this.currentTarget=null;for(var rt in o)o.hasOwnProperty(rt)&&(a=o[rt],this[rt]=a?a(et):et[rt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od[o])?!!i[o]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(o){if(o.key){var i=Md[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,i){switch(o){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,i){switch(o){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return o=i.data,o===ee&&fe?null:o;default:return null}}function ke(o,i){if(ie)return o==="compositionend"||!ae&&ge(o,i)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le[o.type]:i==="textarea"}function ne(o,i,a,s){Eb(s),i=oe(i,"onChange"),0<i.length&&(a=new td("onChange","change",null,a,s),o.push({event:a,listeners:i}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var i=ue(o);if(Wa(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,o,xb(o)),Jb(re,i)}}function Ce(o,i,a){o==="focusin"?(Ae(),pe=i,qe=a,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,i){if(o==="click")return te(i)}function Fe(o,i){if(o==="input"||o==="change")return te(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var a=Object.keys(o),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var $=a[s];if(!ja.call(i,$)||!He(o[$],i[$]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var a=Je(o);o=0;for(var s;a;){if(a.nodeType===3){if(s=o+a.textContent.length,o<=i&&s>=i)return{node:a,offset:i-o};o=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),a=o.focusedElem,s=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(s!==null&&Ne(a)){if(i=s.start,o=s.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var $=a.textContent.length,et=Math.min(s.start,$);s=s.end===void 0?et:Math.min(s.end,$),!o.extend&&et>s&&($=s,s=et,et=$),$=Ke(a,et);var _e=Ke(a,s);$&&_e&&(o.rangeCount!==1||o.anchorNode!==$.node||o.anchorOffset!==$.offset||o.focusNode!==_e.node||o.focusOffset!==_e.offset)&&(i=i.createRange(),i.setStart($.node,$.offset),o.removeAllRanges(),et>s?(o.addRange(i),o.extend(_e.node,_e.offset)):(i.setEnd(_e.node,_e.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Ne(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Ie(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(i=new td("onSelect","select",null,i,a),o.push({event:i,listeners:s}),i.target=Qe)))}function Ve(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit"+o]="webkit"+i,a["Moz"+o]="moz"+i,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ye)return Xe[o]=i[a];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,a){var s=o.type||"unknown-event";o.currentTarget=a,Ub(s,i,void 0,o),o.currentTarget=null}function se(o,i){i=(i&4)!==0;for(var a=0;a<o.length;a++){var s=o[a],$=s.event;s=s.listeners;e:{var et=void 0;if(i)for(var _e=s.length-1;0<=_e;_e--){var rt=s[_e],ot=rt.instance,it=rt.currentTarget;if(rt=rt.listener,ot!==et&&$.isPropagationStopped())break e;nf($,rt,it),et=ot}else for(_e=0;_e<s.length;_e++){if(rt=s[_e],ot=rt.instance,it=rt.currentTarget,rt=rt.listener,ot!==et&&$.isPropagationStopped())break e;nf($,rt,it),et=ot}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,i){var a=i[of];a===void 0&&(a=i[of]=new Set);var s=o+"__bubble";a.has(s)||(pf(i,o,2,!1),a.add(s))}function qf(o,i,a){var s=0;i&&(s|=4),pf(a,o,s,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,o),qf(a,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,a,s){switch(jd(i)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}a=$.bind(null,i,a,o),$=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||($=!0),s?$!==void 0?o.addEventListener(i,a,{capture:!0,passive:$}):o.addEventListener(i,a,!0):$!==void 0?o.addEventListener(i,a,{passive:$}):o.addEventListener(i,a,!1)}function hd(o,i,a,s,$){var et=s;if(!(i&1)&&!(i&2)&&s!==null)e:for(;;){if(s===null)return;var _e=s.tag;if(_e===3||_e===4){var rt=s.stateNode.containerInfo;if(rt===$||rt.nodeType===8&&rt.parentNode===$)break;if(_e===4)for(_e=s.return;_e!==null;){var ot=_e.tag;if((ot===3||ot===4)&&(ot=_e.stateNode.containerInfo,ot===$||ot.nodeType===8&&ot.parentNode===$))return;_e=_e.return}for(;rt!==null;){if(_e=Wc(rt),_e===null)return;if(ot=_e.tag,ot===5||ot===6){s=et=_e;continue e}rt=rt.parentNode}}s=s.return}Jb(function(){var it=et,at=xb(a),j=[];e:{var _=df.get(o);if(_!==void 0){var tt=td,nt=o;switch(o){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":nt="focus",tt=Fd;break;case"focusout":nt="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var st=(i&4)!==0,dt=!st&&o==="scroll",ft=st?_!==null?_+"Capture":null:_;st=[];for(var gt=it,pt;gt!==null;){pt=gt;var mt=pt.stateNode;if(pt.tag===5&&mt!==null&&(pt=mt,ft!==null&&(mt=Kb(gt,ft),mt!=null&&st.push(tf(gt,mt,pt)))),dt)break;gt=gt.return}0<st.length&&(_=new tt(_,nt,null,a,at),j.push({event:_,listeners:st}))}}if(!(i&7)){e:{if(_=o==="mouseover"||o==="pointerover",tt=o==="mouseout"||o==="pointerout",_&&a!==wb&&(nt=a.relatedTarget||a.fromElement)&&(Wc(nt)||nt[uf]))break e;if((tt||_)&&(_=at.window===at?at:(_=at.ownerDocument)?_.defaultView||_.parentWindow:window,tt?(nt=a.relatedTarget||a.toElement,tt=it,nt=nt?Wc(nt):null,nt!==null&&(dt=Vb(nt),nt!==dt||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(tt=null,nt=it),tt!==nt)){if(st=Bd,mt="onMouseLeave",ft="onMouseEnter",gt="mouse",(o==="pointerout"||o==="pointerover")&&(st=Td,mt="onPointerLeave",ft="onPointerEnter",gt="pointer"),dt=tt==null?_:ue(tt),pt=nt==null?_:ue(nt),_=new st(mt,gt+"leave",tt,a,at),_.target=dt,_.relatedTarget=pt,mt=null,Wc(at)===it&&(st=new st(ft,gt+"enter",nt,a,at),st.target=pt,st.relatedTarget=dt,mt=st),dt=mt,tt&&nt)t:{for(st=tt,ft=nt,gt=0,pt=st;pt;pt=vf(pt))gt++;for(pt=0,mt=ft;mt;mt=vf(mt))pt++;for(;0<gt-pt;)st=vf(st),gt--;for(;0<pt-gt;)ft=vf(ft),pt--;for(;gt--;){if(st===ft||ft!==null&&st===ft.alternate)break t;st=vf(st),ft=vf(ft)}st=null}else st=null;tt!==null&&wf(j,_,tt,st,!1),nt!==null&&dt!==null&&wf(j,dt,nt,st,!0)}}e:{if(_=it?ue(it):window,tt=_.nodeName&&_.nodeName.toLowerCase(),tt==="select"||tt==="input"&&_.type==="file")var vt=ve;else if(me(_))if(we)vt=Fe;else{vt=De;var yt=Ce}else(tt=_.nodeName)&&tt.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(o,it))){ne(j,vt,a,at);break e}yt&&yt(o,_,it),o==="focusout"&&(yt=_._wrapperState)&&yt.controlled&&_.type==="number"&&cb(_,"number",_.value)}switch(yt=it?ue(it):window,o){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,a,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,a,at)}var xt;if(ae)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge(o,a)&&(wt="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(de&&a.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(xt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(it,wt),0<yt.length&&(wt=new Ld(wt,o,null,a,at),j.push({event:wt,listeners:yt}),xt?wt.data=xt:(xt=he(a),xt!==null&&(wt.data=xt)))),(xt=ce?je(o,a):ke(o,a))&&(it=oe(it,"onBeforeInput"),0<it.length&&(at=new Ld("onBeforeInput","beforeinput",null,a,at),j.push({event:at,listeners:it}),at.data=xt))}se(j,i)})}function tf(o,i,a){return{instance:o,listener:i,currentTarget:a}}function oe(o,i){for(var a=i+"Capture",s=[];o!==null;){var $=o,et=$.stateNode;$.tag===5&&et!==null&&($=et,et=Kb(o,a),et!=null&&s.unshift(tf(o,et,$)),et=Kb(o,i),et!=null&&s.push(tf(o,et,$))),o=o.return}return s}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,a,s,$){for(var et=i._reactName,_e=[];a!==null&&a!==s;){var rt=a,ot=rt.alternate,it=rt.stateNode;if(ot!==null&&ot===s)break;rt.tag===5&&it!==null&&(rt=it,$?(ot=Kb(a,et),ot!=null&&_e.unshift(tf(a,ot,rt))):$||(ot=Kb(a,et),ot!=null&&_e.push(tf(a,ot,rt)))),a=a.return}_e.length!==0&&o.push({event:i,listeners:_e})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,a){if(i=zf(i),zf(o)!==i&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var a=i,s=0;do{var $=a.nextSibling;if(o.removeChild(a),$&&$.nodeType===8)if(a=$.data,a==="/$"){if(s===0){o.removeChild($),bd(i);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=$}while(a);bd(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return o;i--}else a==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var i=o[Of];if(i)return i;for(var a=o.parentNode;a;){if(i=a[uf]||a[Of]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(o=Mf(o);o!==null;){if(a=o[Of])return a;o=Mf(o)}return i}o=a,a=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$1(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var a=o.type.contextTypes;if(!a)return Vf;var s=o.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===i)return s.__reactInternalMemoizedMaskedChildContext;var $={},et;for(et in a)$[et]=i[et];return s&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,i,a){if(H.current!==Vf)throw Error(p$1(168));G(H,i),G(Wf,a)}function bg(o,i,a){var s=o.stateNode;if(i=i.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var $ in s)if(!($ in i))throw Error(p$1(108,Ra(o)||"Unknown",$));return A$1({},a,s)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,i,a){var s=o.stateNode;if(!s)throw Error(p$1(169));a?(o=bg(o,i,Xf),s.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C;try{var a=eg;for(C=1;o<a.length;o++){var s=a[o];do s=s(!0);while(s!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),$}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var s=rg;o=sg;var $=32-oc(s)-1;s&=~(1<<$),a+=1;var et=32-oc(i)+$;if(30<et){var _e=$-$%5;et=(s&(1<<_e)-1).toString(32),s>>=_e,$-=_e,rg=1<<32-oc(i)+$|a<<$|s,sg=et+o}else rg=1<<et|a<<$|s,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,i){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=o,i=o.deletions,i===null?(o.deletions=[a],o.flags|=16):i.push(a)}function Cg(o,i){switch(o.tag){case 5:var a=o.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=i,a.return=o,o.child=a,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var i=yg;if(i){var a=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$1(418));i=Lf(a.nextSibling);var s=xg;i&&Cg(o,i)?Ag(s,a):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$1(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$1(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$1(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,i){if(o&&o.defaultProps){i=A$1({},i),o=o.defaultProps;for(var a in o)i[a]===void 0&&(i[a]=o[a]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var i=Mg.current;E(Mg),o._currentValue=i}function Sg(o,i,a){for(;o!==null;){var s=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),o===a)break;o=o.return}}function Tg(o,i){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(Ug=!0),o.firstContext=null)}function Vg(o){var i=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return i}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,i,a,s){var $=i.interleaved;return $===null?(a.next=a,Xg(i)):(a.next=$.next,$.next=a),i.interleaved=a,Zg(o,s)}function Zg(o,i){o.lanes|=i;var a=o.alternate;for(a!==null&&(a.lanes|=i),a=o,o=o.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),a=o,o=o.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(o,i,a){var s=o.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var $=s.pending;return $===null?i.next=i:(i.next=$.next,$.next=i),s.pending=i,Zg(o,a)}return $=s.interleaved,$===null?(i.next=i,Xg(s)):(i.next=$.next,$.next=i),s.interleaved=i,Zg(o,a)}function eh(o,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var s=i.lanes;s&=o.pendingLanes,a|=s,i.lanes=a,Cc(o,a)}}function fh(o,i){var a=o.updateQueue,s=o.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var $=null,et=null;if(a=a.firstBaseUpdate,a!==null){do{var _e={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};et===null?$=et=_e:et=et.next=_e,a=a.next}while(a!==null);et===null?$=et=i:et=et.next=i}else $=et=i;a={baseState:s.baseState,firstBaseUpdate:$,lastBaseUpdate:et,shared:s.shared,effects:s.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=i:o.next=i,a.lastBaseUpdate=i}function gh(o,i,a,s){var $=o.updateQueue;$g=!1;var et=$.firstBaseUpdate,_e=$.lastBaseUpdate,rt=$.shared.pending;if(rt!==null){$.shared.pending=null;var ot=rt,it=ot.next;ot.next=null,_e===null?et=it:_e.next=it,_e=ot;var at=o.alternate;at!==null&&(at=at.updateQueue,rt=at.lastBaseUpdate,rt!==_e&&(rt===null?at.firstBaseUpdate=it:rt.next=it,at.lastBaseUpdate=ot))}if(et!==null){var j=$.baseState;_e=0,at=it=ot=null,rt=et;do{var _=rt.lane,tt=rt.eventTime;if((s&_)===_){at!==null&&(at=at.next={eventTime:tt,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var nt=o,st=rt;switch(_=i,tt=a,st.tag){case 1:if(nt=st.payload,typeof nt=="function"){j=nt.call(tt,j,_);break e}j=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=st.payload,_=typeof nt=="function"?nt.call(tt,j,_):nt,_==null)break e;j=A$1({},j,_);break e;case 2:$g=!0}}rt.callback!==null&&rt.lane!==0&&(o.flags|=64,_=$.effects,_===null?$.effects=[rt]:_.push(rt))}else tt={eventTime:tt,lane:_,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},at===null?(it=at=tt,ot=j):at=at.next=tt,_e|=_;if(rt=rt.next,rt===null){if(rt=$.shared.pending,rt===null)break;_=rt,rt=_.next,_.next=null,$.lastBaseUpdate=_,$.shared.pending=null}}while(1);if(at===null&&(ot=j),$.baseState=ot,$.firstBaseUpdate=it,$.lastBaseUpdate=at,i=$.shared.interleaved,i!==null){$=i;do _e|=$.lane,$=$.next;while($!==i)}else et===null&&($.shared.lanes=0);hh|=_e,o.lanes=_e,o.memoizedState=j}}function ih(o,i,a){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var s=o[i],$=s.callback;if($!==null){if(s.callback=null,s=a,typeof $!="function")throw Error(p$1(191,$));$.call(s)}}}var jh=new aa.Component().refs;function kh(o,i,a,s){i=o.memoizedState,a=a(s,i),a=a==null?i:A$1({},i,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,i,a){o=o._reactInternals;var s=L(),$=lh(o),et=ch(s,$);et.payload=i,a!=null&&(et.callback=a),i=dh(o,et,$),i!==null&&(mh(i,o,$,s),eh(i,o,$))},enqueueReplaceState:function(o,i,a){o=o._reactInternals;var s=L(),$=lh(o),et=ch(s,$);et.tag=1,et.payload=i,a!=null&&(et.callback=a),i=dh(o,et,$),i!==null&&(mh(i,o,$,s),eh(i,o,$))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var a=L(),s=lh(o),$=ch(a,s);$.tag=2,i!=null&&($.callback=i),i=dh(o,$,s),i!==null&&(mh(i,o,s,a),eh(i,o,s))}};function oh(o,i,a,s,$,et,_e){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(s,et,_e):i.prototype&&i.prototype.isPureReactComponent?!Ie(a,s)||!Ie($,et):!0}function ph(o,i,a){var s=!1,$=Vf,et=i.contextType;return typeof et=="object"&&et!==null?et=Vg(et):($=Zf(i)?Xf:H.current,s=i.contextTypes,et=(s=s!=null)?Yf(o,$):Vf),i=new i(a,et),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,o.stateNode=i,i._reactInternals=o,s&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=$,o.__reactInternalMemoizedMaskedChildContext=et),i}function qh(o,i,a,s){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==o&&nh.enqueueReplaceState(i,i.state,null)}function rh(o,i,a,s){var $=o.stateNode;$.props=a,$.state=o.memoizedState,$.refs=jh,ah(o);var et=i.contextType;typeof et=="object"&&et!==null?$.context=Vg(et):(et=Zf(i)?Xf:H.current,$.context=Yf(o,et)),$.state=o.memoizedState,et=i.getDerivedStateFromProps,typeof et=="function"&&(kh(o,i,et,a),$.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(i=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),i!==$.state&&nh.enqueueReplaceState($,$.state,null),gh(o,a,$,s),$.state=o.memoizedState),typeof $.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,i,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var s=a.stateNode}if(!s)throw Error(p$1(147,o));var $=s,et=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===et?i.ref:(i=function(_e){var rt=$.refs;rt===jh&&(rt=$.refs={}),_e===null?delete rt[et]:rt[et]=_e},i._stringRef=et,i)}if(typeof o!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,o))}return o}function th(o,i){throw o=Object.prototype.toString.call(i),Error(p$1(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function uh(o){var i=o._init;return i(o._payload)}function vh(o){function i(ft,gt){if(o){var pt=ft.deletions;pt===null?(ft.deletions=[gt],ft.flags|=16):pt.push(gt)}}function a(ft,gt){if(!o)return null;for(;gt!==null;)i(ft,gt),gt=gt.sibling;return null}function s(ft,gt){for(ft=new Map;gt!==null;)gt.key!==null?ft.set(gt.key,gt):ft.set(gt.index,gt),gt=gt.sibling;return ft}function $(ft,gt){return ft=wh(ft,gt),ft.index=0,ft.sibling=null,ft}function et(ft,gt,pt){return ft.index=pt,o?(pt=ft.alternate,pt!==null?(pt=pt.index,pt<gt?(ft.flags|=2,gt):pt):(ft.flags|=2,gt)):(ft.flags|=1048576,gt)}function _e(ft){return o&&ft.alternate===null&&(ft.flags|=2),ft}function rt(ft,gt,pt,mt){return gt===null||gt.tag!==6?(gt=xh(pt,ft.mode,mt),gt.return=ft,gt):(gt=$(gt,pt),gt.return=ft,gt)}function ot(ft,gt,pt,mt){var vt=pt.type;return vt===ya?at(ft,gt,pt.props.children,mt,pt.key):gt!==null&&(gt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===gt.type)?(mt=$(gt,pt.props),mt.ref=sh(ft,gt,pt),mt.return=ft,mt):(mt=yh(pt.type,pt.key,pt.props,null,ft.mode,mt),mt.ref=sh(ft,gt,pt),mt.return=ft,mt)}function it(ft,gt,pt,mt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==pt.containerInfo||gt.stateNode.implementation!==pt.implementation?(gt=zh(pt,ft.mode,mt),gt.return=ft,gt):(gt=$(gt,pt.children||[]),gt.return=ft,gt)}function at(ft,gt,pt,mt,vt){return gt===null||gt.tag!==7?(gt=Ah(pt,ft.mode,mt,vt),gt.return=ft,gt):(gt=$(gt,pt),gt.return=ft,gt)}function j(ft,gt,pt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,ft.mode,pt),gt.return=ft,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return pt=yh(gt.type,gt.key,gt.props,null,ft.mode,pt),pt.ref=sh(ft,null,gt),pt.return=ft,pt;case wa:return gt=zh(gt,ft.mode,pt),gt.return=ft,gt;case Ha:var mt=gt._init;return j(ft,mt(gt._payload),pt)}if(eb(gt)||Ka(gt))return gt=Ah(gt,ft.mode,pt,null),gt.return=ft,gt;th(ft,gt)}return null}function _(ft,gt,pt,mt){var vt=gt!==null?gt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return vt!==null?null:rt(ft,gt,""+pt,mt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===vt?ot(ft,gt,pt,mt):null;case wa:return pt.key===vt?it(ft,gt,pt,mt):null;case Ha:return vt=pt._init,_(ft,gt,vt(pt._payload),mt)}if(eb(pt)||Ka(pt))return vt!==null?null:at(ft,gt,pt,mt,null);th(ft,pt)}return null}function tt(ft,gt,pt,mt,vt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ft=ft.get(pt)||null,rt(gt,ft,""+mt,vt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return ft=ft.get(mt.key===null?pt:mt.key)||null,ot(gt,ft,mt,vt);case wa:return ft=ft.get(mt.key===null?pt:mt.key)||null,it(gt,ft,mt,vt);case Ha:var yt=mt._init;return tt(ft,gt,pt,yt(mt._payload),vt)}if(eb(mt)||Ka(mt))return ft=ft.get(pt)||null,at(gt,ft,mt,vt,null);th(gt,mt)}return null}function nt(ft,gt,pt,mt){for(var vt=null,yt=null,xt=gt,wt=gt=0,St=null;xt!==null&&wt<pt.length;wt++){xt.index>wt?(St=xt,xt=null):St=xt.sibling;var Ct=_(ft,xt,pt[wt],mt);if(Ct===null){xt===null&&(xt=St);break}o&&xt&&Ct.alternate===null&&i(ft,xt),gt=et(Ct,gt,wt),yt===null?vt=Ct:yt.sibling=Ct,yt=Ct,xt=St}if(wt===pt.length)return a(ft,xt),I&&tg(ft,wt),vt;if(xt===null){for(;wt<pt.length;wt++)xt=j(ft,pt[wt],mt),xt!==null&&(gt=et(xt,gt,wt),yt===null?vt=xt:yt.sibling=xt,yt=xt);return I&&tg(ft,wt),vt}for(xt=s(ft,xt);wt<pt.length;wt++)St=tt(xt,ft,wt,pt[wt],mt),St!==null&&(o&&St.alternate!==null&&xt.delete(St.key===null?wt:St.key),gt=et(St,gt,wt),yt===null?vt=St:yt.sibling=St,yt=St);return o&&xt.forEach(function(At){return i(ft,At)}),I&&tg(ft,wt),vt}function st(ft,gt,pt,mt){var vt=Ka(pt);if(typeof vt!="function")throw Error(p$1(150));if(pt=vt.call(pt),pt==null)throw Error(p$1(151));for(var yt=vt=null,xt=gt,wt=gt=0,St=null,Ct=pt.next();xt!==null&&!Ct.done;wt++,Ct=pt.next()){xt.index>wt?(St=xt,xt=null):St=xt.sibling;var At=_(ft,xt,Ct.value,mt);if(At===null){xt===null&&(xt=St);break}o&&xt&&At.alternate===null&&i(ft,xt),gt=et(At,gt,wt),yt===null?vt=At:yt.sibling=At,yt=At,xt=St}if(Ct.done)return a(ft,xt),I&&tg(ft,wt),vt;if(xt===null){for(;!Ct.done;wt++,Ct=pt.next())Ct=j(ft,Ct.value,mt),Ct!==null&&(gt=et(Ct,gt,wt),yt===null?vt=Ct:yt.sibling=Ct,yt=Ct);return I&&tg(ft,wt),vt}for(xt=s(ft,xt);!Ct.done;wt++,Ct=pt.next())Ct=tt(xt,ft,wt,Ct.value,mt),Ct!==null&&(o&&Ct.alternate!==null&&xt.delete(Ct.key===null?wt:Ct.key),gt=et(Ct,gt,wt),yt===null?vt=Ct:yt.sibling=Ct,yt=Ct);return o&&xt.forEach(function($t){return i(ft,$t)}),I&&tg(ft,wt),vt}function dt(ft,gt,pt,mt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var vt=pt.key,yt=gt;yt!==null;){if(yt.key===vt){if(vt=pt.type,vt===ya){if(yt.tag===7){a(ft,yt.sibling),gt=$(yt,pt.props.children),gt.return=ft,ft=gt;break e}}else if(yt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===yt.type){a(ft,yt.sibling),gt=$(yt,pt.props),gt.ref=sh(ft,yt,pt),gt.return=ft,ft=gt;break e}a(ft,yt);break}else i(ft,yt);yt=yt.sibling}pt.type===ya?(gt=Ah(pt.props.children,ft.mode,mt,pt.key),gt.return=ft,ft=gt):(mt=yh(pt.type,pt.key,pt.props,null,ft.mode,mt),mt.ref=sh(ft,gt,pt),mt.return=ft,ft=mt)}return _e(ft);case wa:e:{for(yt=pt.key;gt!==null;){if(gt.key===yt)if(gt.tag===4&&gt.stateNode.containerInfo===pt.containerInfo&&gt.stateNode.implementation===pt.implementation){a(ft,gt.sibling),gt=$(gt,pt.children||[]),gt.return=ft,ft=gt;break e}else{a(ft,gt);break}else i(ft,gt);gt=gt.sibling}gt=zh(pt,ft.mode,mt),gt.return=ft,ft=gt}return _e(ft);case Ha:return yt=pt._init,dt(ft,gt,yt(pt._payload),mt)}if(eb(pt))return nt(ft,gt,pt,mt);if(Ka(pt))return st(ft,gt,pt,mt);th(ft,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,gt!==null&&gt.tag===6?(a(ft,gt.sibling),gt=$(gt,pt),gt.return=ft,ft=gt):(a(ft,gt),gt=xh(pt,ft.mode,mt),gt.return=ft,ft=gt),_e(ft)):a(ft,gt)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$1(174));return o}function Ih(o,i){switch(G(Gh,i),G(Fh,o),G(Eh,Dh),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb(i,o)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var i=Hh(Eh.current),a=lb(i,o.type);i!==a&&(G(Fh,o),G(Eh,a))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var i=o;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(o,i){if(i===null)return!1;for(var a=0;a<i.length&&a<o.length;a++)if(!He(o[a],i[a]))return!1;return!0}function Xh(o,i,a,s,$,et){if(Rh=et,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=a(s,$),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$1(301));et+=1,P=O=null,i.updateQueue=null,Ph.current=$h,o=a(s,$)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p$1(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=o;else{if(o===null)throw Error(p$1(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,i){return typeof i=="function"?i(o):i}function fi(o){var i=di(),a=i.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=o;var s=O,$=s.baseQueue,et=a.pending;if(et!==null){if($!==null){var _e=$.next;$.next=et.next,et.next=_e}s.baseQueue=$=et,a.pending=null}if($!==null){et=$.next,s=s.baseState;var rt=_e=null,ot=null,it=et;do{var at=it.lane;if((Rh&at)===at)ot!==null&&(ot=ot.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),s=it.hasEagerState?it.eagerState:o(s,it.action);else{var j={lane:at,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};ot===null?(rt=ot=j,_e=s):ot=ot.next=j,N.lanes|=at,hh|=at}it=it.next}while(it!==null&&it!==et);ot===null?_e=s:ot.next=rt,He(s,i.memoizedState)||(Ug=!0),i.memoizedState=s,i.baseState=_e,i.baseQueue=ot,a.lastRenderedState=s}if(o=a.interleaved,o!==null){$=o;do et=$.lane,N.lanes|=et,hh|=et,$=$.next;while($!==o)}else $===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gi(o){var i=di(),a=i.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=o;var s=a.dispatch,$=a.pending,et=i.memoizedState;if($!==null){a.pending=null;var _e=$=$.next;do et=o(et,_e.action),_e=_e.next;while(_e!==$);He(et,i.memoizedState)||(Ug=!0),i.memoizedState=et,i.baseQueue===null&&(i.baseState=et),a.lastRenderedState=et}return[et,s]}function hi(){}function ii(o,i){var a=N,s=di(),$=i(),et=!He(s.memoizedState,$);if(et&&(s.memoizedState=$,Ug=!0),s=s.queue,ji(ki.bind(null,a,s,o),[o]),s.getSnapshot!==i||et||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,s,$,i),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(a,i,$)}return $}function ni(o,i,a){o.flags|=16384,o={getSnapshot:i,value:a},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[o]):(a=i.stores,a===null?i.stores=[o]:a.push(o))}function mi(o,i,a,s){i.value=a,i.getSnapshot=s,oi(i)&&pi(o)}function ki(o,i,a){return a(function(){oi(i)&&pi(o)})}function oi(o){var i=o.getSnapshot;o=o.value;try{var a=i();return!He(o,a)}catch{return!0}}function pi(o){var i=Zg(o,1);i!==null&&mh(i,o,1,-1)}function qi(o){var i=ci();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},i.queue=o,o=o.dispatch=ri.bind(null,N,o),[i.memoizedState,o]}function li(o,i,a,s){return o={tag:o,create:i,destroy:a,deps:s,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=o.next=o):(a=i.lastEffect,a===null?i.lastEffect=o.next=o:(s=a.next,a.next=o,o.next=s,i.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,i,a,s){var $=ci();N.flags|=o,$.memoizedState=li(1|i,a,void 0,s===void 0?null:s)}function ui(o,i,a,s){var $=di();s=s===void 0?null:s;var et=void 0;if(O!==null){var _e=O.memoizedState;if(et=_e.destroy,s!==null&&Wh(s,_e.deps)){$.memoizedState=li(i,a,et,s);return}}N.flags|=o,$.memoizedState=li(1|i,a,et,s)}function vi(o,i){return ti(8390656,8,o,i)}function ji(o,i){return ui(2048,8,o,i)}function wi(o,i){return ui(4,2,o,i)}function xi(o,i){return ui(4,4,o,i)}function yi(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function zi(o,i,a){return a=a!=null?a.concat([o]):null,ui(4,4,yi.bind(null,i,o),a)}function Ai(){}function Bi(o,i){var a=di();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(a.memoizedState=[o,i],o)}function Ci(o,i){var a=di();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(o=o(),a.memoizedState=[o,i],o)}function Di(o,i,a){return Rh&21?(He(a,i)||(a=yc(),N.lanes|=a,hh|=a,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=a)}function Ei(o,i){var a=C;C=a!==0&&4>a?a:4,o(!0);var s=Qh.transition;Qh.transition={};try{o(!1),i()}finally{C=a,Qh.transition=s}}function Fi(){return di().memoizedState}function Gi(o,i,a){var s=lh(o);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(i,a);else if(a=Yg(o,i,a,s),a!==null){var $=L();mh(a,o,s,$),Ji(a,i,s)}}function ri(o,i,a){var s=lh(o),$={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(i,$);else{var et=o.alternate;if(o.lanes===0&&(et===null||et.lanes===0)&&(et=i.lastRenderedReducer,et!==null))try{var _e=i.lastRenderedState,rt=et(_e,a);if($.hasEagerState=!0,$.eagerState=rt,He(rt,_e)){var ot=i.interleaved;ot===null?($.next=$,Xg(i)):($.next=ot.next,ot.next=$),i.interleaved=$;return}}catch{}finally{}a=Yg(o,i,$,s),a!==null&&($=L(),mh(a,o,s,$),Ji(a,i,s))}}function Hi(o){var i=o.alternate;return o===N||i!==null&&i===N}function Ii(o,i){Th=Sh=!0;var a=o.pending;a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i}function Ji(o,i,a){if(a&4194240){var s=i.lanes;s&=o.pendingLanes,a|=s,i.lanes=a,Cc(o,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,i){return ci().memoizedState=[o,i===void 0?null:i],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,i,a){return a=a!=null?a.concat([o]):null,ti(4194308,4,yi.bind(null,i,o),a)},useLayoutEffect:function(o,i){return ti(4194308,4,o,i)},useInsertionEffect:function(o,i){return ti(4,2,o,i)},useMemo:function(o,i){var a=ci();return i=i===void 0?null:i,o=o(),a.memoizedState=[o,i],o},useReducer:function(o,i,a){var s=ci();return i=a!==void 0?a(i):i,s.memoizedState=s.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},s.queue=o,o=o.dispatch=Gi.bind(null,N,o),[s.memoizedState,o]},useRef:function(o){var i=ci();return o={current:o},i.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),i=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,a){var s=N,$=ci();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=i(),R===null)throw Error(p$1(349));Rh&30||ni(s,i,a)}$.memoizedState=a;var et={value:a,getSnapshot:i};return $.queue=et,vi(ki.bind(null,s,et,o),[o]),s.flags|=2048,li(9,mi.bind(null,s,et,a,i),void 0,null),a},useId:function(){var o=ci(),i=R.identifierPrefix;if(I){var a=sg,s=rg;a=(s&~(1<<32-oc(s)-1)).toString(32)+a,i=":"+i+"R"+a,a=Uh++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Vh++,i=":"+i+"r"+a.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return Di(i,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return O===null?i.memoizedState=o:Di(i,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,i){try{var a="",s=i;do a+=Pa(s),s=s.return;while(s);var $=a}catch(et){$=`
Error generating stack: `+et.message+`
`+et.stack}return{value:o,source:i,stack:$,digest:null}}function Li(o,i,a){return{value:o,source:null,stack:a??null,digest:i??null}}function Mi(o,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,i,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var s=i.value;return a.callback=function(){Pi||(Pi=!0,Qi=s),Mi(o,i)},a}function Ri(o,i,a){a=ch(-1,a),a.tag=3;var s=o.type.getDerivedStateFromError;if(typeof s=="function"){var $=i.value;a.payload=function(){return s($)},a.callback=function(){Mi(o,i)}}var et=o.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(a.callback=function(){Mi(o,i),typeof s!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var _e=i.stack;this.componentDidCatch(i.value,{componentStack:_e!==null?_e:""})}),a}function Ti(o,i,a){var s=o.pingCache;if(s===null){s=o.pingCache=new Ni;var $=new Set;s.set(i,$)}else $=s.get(i),$===void 0&&($=new Set,s.set(i,$));$.has(a)||($.add(a),o=Ui.bind(null,o,i,a),i.then(o,o))}function Vi(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Wi(o,i,a,s,$){return o.mode&1?(o.flags|=65536,o.lanes=$,o):(o===i?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ch(-1,1),i.tag=2,dh(a,i,1))),a.lanes|=1),o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,i,a,s){i.child=o===null?Ch(i,null,a,s):Bh(i,o.child,a,s)}function Zi(o,i,a,s,$){a=a.render;var et=i.ref;return Tg(i,$),s=Xh(o,i,a,s,et,$),a=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~$,$i(o,i,$)):(I&&a&&vg(i),i.flags|=1,Yi(o,i,s,$),i.child)}function aj(o,i,a,s,$){if(o===null){var et=a.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=et,cj(o,i,et,s,$)):(o=yh(a.type,null,s,i,i.mode,$),o.ref=i.ref,o.return=i,i.child=o)}if(et=o.child,!(o.lanes&$)){var _e=et.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(_e,s)&&o.ref===i.ref)return $i(o,i,$)}return i.flags|=1,o=wh(et,s),o.ref=i.ref,o.return=i,i.child=o}function cj(o,i,a,s,$){if(o!==null){var et=o.memoizedProps;if(Ie(et,s)&&o.ref===i.ref)if(Ug=!1,i.pendingProps=s=et,(o.lanes&$)!==0)o.flags&131072&&(Ug=!0);else return i.lanes=o.lanes,$i(o,i,$)}return dj(o,i,a,s,$)}function ej(o,i,a){var s=i.pendingProps,$=s.children,et=o!==null?o.memoizedState:null;if(s.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return o=et!==null?et.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=et!==null?et.baseLanes:a,G(fj,gj),gj|=s}else et!==null?(s=et.baseLanes|a,i.memoizedState=null):s=a,G(fj,gj),gj|=s;return Yi(o,i,$,a),i.child}function hj(o,i){var a=i.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function dj(o,i,a,s,$){var et=Zf(a)?Xf:H.current;return et=Yf(i,et),Tg(i,$),a=Xh(o,i,a,s,et,$),s=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~$,$i(o,i,$)):(I&&s&&vg(i),i.flags|=1,Yi(o,i,a,$),i.child)}function ij(o,i,a,s,$){if(Zf(a)){var et=!0;cg(i)}else et=!1;if(Tg(i,$),i.stateNode===null)jj(o,i),ph(i,a,s),rh(i,a,s,$),s=!0;else if(o===null){var _e=i.stateNode,rt=i.memoizedProps;_e.props=rt;var ot=_e.context,it=a.contextType;typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(a)?Xf:H.current,it=Yf(i,it));var at=a.getDerivedStateFromProps,j=typeof at=="function"||typeof _e.getSnapshotBeforeUpdate=="function";j||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(rt!==s||ot!==it)&&qh(i,_e,s,it),$g=!1;var _=i.memoizedState;_e.state=_,gh(i,s,_e,$),ot=i.memoizedState,rt!==s||_!==ot||Wf.current||$g?(typeof at=="function"&&(kh(i,a,at,s),ot=i.memoizedState),(rt=$g||oh(i,a,rt,s,_,ot,it))?(j||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount()),typeof _e.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _e.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=ot),_e.props=s,_e.state=ot,_e.context=it,s=rt):(typeof _e.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{_e=i.stateNode,bh(o,i),rt=i.memoizedProps,it=i.type===i.elementType?rt:Lg(i.type,rt),_e.props=it,j=i.pendingProps,_=_e.context,ot=a.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(a)?Xf:H.current,ot=Yf(i,ot));var tt=a.getDerivedStateFromProps;(at=typeof tt=="function"||typeof _e.getSnapshotBeforeUpdate=="function")||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(rt!==j||_!==ot)&&qh(i,_e,s,ot),$g=!1,_=i.memoizedState,_e.state=_,gh(i,s,_e,$);var nt=i.memoizedState;rt!==j||_!==nt||Wf.current||$g?(typeof tt=="function"&&(kh(i,a,tt,s),nt=i.memoizedState),(it=$g||oh(i,a,it,s,_,nt,ot)||!1)?(at||typeof _e.UNSAFE_componentWillUpdate!="function"&&typeof _e.componentWillUpdate!="function"||(typeof _e.componentWillUpdate=="function"&&_e.componentWillUpdate(s,nt,ot),typeof _e.UNSAFE_componentWillUpdate=="function"&&_e.UNSAFE_componentWillUpdate(s,nt,ot)),typeof _e.componentDidUpdate=="function"&&(i.flags|=4),typeof _e.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _e.componentDidUpdate!="function"||rt===o.memoizedProps&&_===o.memoizedState||(i.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&_===o.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=nt),_e.props=s,_e.state=nt,_e.context=ot,s=it):(typeof _e.componentDidUpdate!="function"||rt===o.memoizedProps&&_===o.memoizedState||(i.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&_===o.memoizedState||(i.flags|=1024),s=!1)}return kj(o,i,a,s,et,$)}function kj(o,i,a,s,$,et){hj(o,i);var _e=(i.flags&128)!==0;if(!s&&!_e)return $&&dg(i,a,!1),$i(o,i,et);s=i.stateNode,Xi.current=i;var rt=_e&&typeof a.getDerivedStateFromError!="function"?null:s.render();return i.flags|=1,o!==null&&_e?(i.child=Bh(i,o.child,null,et),i.child=Bh(i,null,rt,et)):Yi(o,i,rt,et),i.memoizedState=s.state,$&&dg(i,a,!0),i.child}function lj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),Ih(o,i.containerInfo)}function mj(o,i,a,s,$){return Ig(),Jg($),i.flags|=256,Yi(o,i,a,s),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,i,a){var s=i.pendingProps,$=M.current,et=!1,_e=(i.flags&128)!==0,rt;if((rt=_e)||(rt=o!==null&&o.memoizedState===null?!1:($&2)!==0),rt?(et=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&($|=1),G(M,$&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_e=s.children,o=s.fallback,et?(s=i.mode,et=i.child,_e={mode:"hidden",children:_e},!(s&1)&&et!==null?(et.childLanes=0,et.pendingProps=_e):et=qj(_e,s,0,null),o=Ah(o,s,a,null),et.return=i,o.return=i,et.sibling=o,i.child=et,i.child.memoizedState=oj(a),i.memoizedState=nj,o):rj(i,_e));if($=o.memoizedState,$!==null&&(rt=$.dehydrated,rt!==null))return sj(o,i,_e,s,rt,$,a);if(et){et=s.fallback,_e=i.mode,$=o.child,rt=$.sibling;var ot={mode:"hidden",children:s.children};return!(_e&1)&&i.child!==$?(s=i.child,s.childLanes=0,s.pendingProps=ot,i.deletions=null):(s=wh($,ot),s.subtreeFlags=$.subtreeFlags&14680064),rt!==null?et=wh(rt,et):(et=Ah(et,_e,a,null),et.flags|=2),et.return=i,s.return=i,s.sibling=et,i.child=s,s=et,et=i.child,_e=o.child.memoizedState,_e=_e===null?oj(a):{baseLanes:_e.baseLanes|a,cachePool:null,transitions:_e.transitions},et.memoizedState=_e,et.childLanes=o.childLanes&~a,i.memoizedState=nj,s}return et=o.child,o=et.sibling,s=wh(et,{mode:"visible",children:s.children}),!(i.mode&1)&&(s.lanes=a),s.return=i,s.sibling=null,o!==null&&(a=i.deletions,a===null?(i.deletions=[o],i.flags|=16):a.push(o)),i.child=s,i.memoizedState=null,s}function rj(o,i){return i=qj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function tj(o,i,a,s){return s!==null&&Jg(s),Bh(i,o.child,null,a),o=rj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function sj(o,i,a,s,$,et,_e){if(a)return i.flags&256?(i.flags&=-257,s=Li(Error(p$1(422))),tj(o,i,_e,s)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(et=s.fallback,$=i.mode,s=qj({mode:"visible",children:s.children},$,0,null),et=Ah(et,$,_e,null),et.flags|=2,s.return=i,et.return=i,s.sibling=et,i.child=s,i.mode&1&&Bh(i,o.child,null,_e),i.child.memoizedState=oj(_e),i.memoizedState=nj,et);if(!(i.mode&1))return tj(o,i,_e,null);if($.data==="$!"){if(s=$.nextSibling&&$.nextSibling.dataset,s)var rt=s.dgst;return s=rt,et=Error(p$1(419)),s=Li(et,s,void 0),tj(o,i,_e,s)}if(rt=(_e&o.childLanes)!==0,Ug||rt){if(s=R,s!==null){switch(_e&-_e){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(s.suspendedLanes|_e)?0:$,$!==0&&$!==et.retryLane&&(et.retryLane=$,Zg(o,$),mh(s,o,$,-1))}return uj(),s=Li(Error(p$1(421))),tj(o,i,_e,s)}return $.data==="$?"?(i.flags|=128,i.child=o.child,i=vj.bind(null,o),$._reactRetry=i,null):(o=et.treeContext,yg=Lf($.nextSibling),xg=i,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=rj(i,s.children),i.flags|=4096,i)}function wj(o,i,a){o.lanes|=i;var s=o.alternate;s!==null&&(s.lanes|=i),Sg(o.return,i,a)}function xj(o,i,a,s,$){var et=o.memoizedState;et===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:$}:(et.isBackwards=i,et.rendering=null,et.renderingStartTime=0,et.last=s,et.tail=a,et.tailMode=$)}function yj(o,i,a){var s=i.pendingProps,$=s.revealOrder,et=s.tail;if(Yi(o,i,s.children,a),s=M.current,s&2)s=s&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,a,i);else if(o.tag===19)wj(o,a,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}s&=1}if(G(M,s),!(i.mode&1))i.memoizedState=null;else switch($){case"forwards":for(a=i.child,$=null;a!==null;)o=a.alternate,o!==null&&Mh(o)===null&&($=a),a=a.sibling;a=$,a===null?($=i.child,i.child=null):($=a.sibling,a.sibling=null),xj(i,!1,$,a,et);break;case"backwards":for(a=null,$=i.child,i.child=null;$!==null;){if(o=$.alternate,o!==null&&Mh(o)===null){i.child=$;break}o=$.sibling,$.sibling=a,a=$,$=o}xj(i,!0,a,null,et);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function $i(o,i,a){if(o!==null&&(i.dependencies=o.dependencies),hh|=i.lanes,!(a&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$1(153));if(i.child!==null){for(o=i.child,a=wh(o,o.pendingProps),i.child=a,a.return=i;o.sibling!==null;)o=o.sibling,a=a.sibling=wh(o,o.pendingProps),a.return=i;a.sibling=null}return i.child}function zj(o,i,a){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var s=i.type._context,$=i.memoizedProps.value;G(Mg,s._currentValue),s._currentValue=$;break;case 13:if(s=i.memoizedState,s!==null)return s.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):a&i.child.childLanes?pj(o,i,a):(G(M,M.current&1),o=$i(o,i,a),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if(s=(a&i.childLanes)!==0,o.flags&128){if(s)return yj(o,i,a);i.flags|=128}if($=i.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(M,M.current),s)break;return null;case 22:case 23:return i.lanes=0,ej(o,i,a)}return $i(o,i,a)}var Aj,Bj,Cj,Dj;Aj=function(o,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(o,i,a,s){var $=o.memoizedProps;if($!==s){o=i.stateNode,Hh(Eh.current);var et=null;switch(a){case"input":$=Ya(o,$),s=Ya(o,s),et=[];break;case"select":$=A$1({},$,{value:void 0}),s=A$1({},s,{value:void 0}),et=[];break;case"textarea":$=gb(o,$),s=gb(o,s),et=[];break;default:typeof $.onClick!="function"&&typeof s.onClick=="function"&&(o.onclick=Bf)}ub(a,s);var _e;a=null;for(it in $)if(!s.hasOwnProperty(it)&&$.hasOwnProperty(it)&&$[it]!=null)if(it==="style"){var rt=$[it];for(_e in rt)rt.hasOwnProperty(_e)&&(a||(a={}),a[_e]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in s){var ot=s[it];if(rt=$!=null?$[it]:void 0,s.hasOwnProperty(it)&&ot!==rt&&(ot!=null||rt!=null))if(it==="style")if(rt){for(_e in rt)!rt.hasOwnProperty(_e)||ot&&ot.hasOwnProperty(_e)||(a||(a={}),a[_e]="");for(_e in ot)ot.hasOwnProperty(_e)&&rt[_e]!==ot[_e]&&(a||(a={}),a[_e]=ot[_e])}else a||(et||(et=[]),et.push(it,a)),a=ot;else it==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,rt=rt?rt.__html:void 0,ot!=null&&rt!==ot&&(et=et||[]).push(it,ot)):it==="children"?typeof ot!="string"&&typeof ot!="number"||(et=et||[]).push(it,""+ot):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(ot!=null&&it==="onScroll"&&D("scroll",o),et||rt===ot||(et=[])):(et=et||[]).push(it,ot))}a&&(et=et||[]).push("style",a);var it=et;(i.updateQueue=it)&&(i.flags|=4)}};Dj=function(o,i,a,s){a!==s&&(i.flags|=4)};function Ej(o,i){if(!I)switch(o.tailMode){case"hidden":i=o.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:s.sibling=null}}function S(o){var i=o.alternate!==null&&o.alternate.child===o.child,a=0,s=0;if(i)for(var $=o.child;$!==null;)a|=$.lanes|$.childLanes,s|=$.subtreeFlags&14680064,s|=$.flags&14680064,$.return=o,$=$.sibling;else for($=o.child;$!==null;)a|=$.lanes|$.childLanes,s|=$.subtreeFlags,s|=$.flags,$.return=o,$=$.sibling;return o.subtreeFlags|=s,o.childLanes=a,i}function Fj(o,i,a){var s=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return s=i.stateNode,Jh(),E(Wf),E(H),Oh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,i),S(i),null;case 5:Lh(i);var $=Hh(Gh.current);if(a=i.type,o!==null&&i.stateNode!=null)Cj(o,i,a,s,$),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!s){if(i.stateNode===null)throw Error(p$1(166));return S(i),null}if(o=Hh(Eh.current),Gg(i)){s=i.stateNode,a=i.type;var et=i.memoizedProps;switch(s[Of]=i,s[Pf]=et,o=(i.mode&1)!==0,a){case"dialog":D("cancel",s),D("close",s);break;case"iframe":case"object":case"embed":D("load",s);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],s);break;case"source":D("error",s);break;case"img":case"image":case"link":D("error",s),D("load",s);break;case"details":D("toggle",s);break;case"input":Za(s,et),D("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!et.multiple},D("invalid",s);break;case"textarea":hb(s,et),D("invalid",s)}ub(a,et),$=null;for(var _e in et)if(et.hasOwnProperty(_e)){var rt=et[_e];_e==="children"?typeof rt=="string"?s.textContent!==rt&&(et.suppressHydrationWarning!==!0&&Af(s.textContent,rt,o),$=["children",rt]):typeof rt=="number"&&s.textContent!==""+rt&&(et.suppressHydrationWarning!==!0&&Af(s.textContent,rt,o),$=["children",""+rt]):ea.hasOwnProperty(_e)&&rt!=null&&_e==="onScroll"&&D("scroll",s)}switch(a){case"input":Va(s),db(s,et,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(s.onclick=Bf)}s=$,i.updateQueue=s,s!==null&&(i.flags|=4)}else{_e=$.nodeType===9?$:$.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=_e.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof s.is=="string"?o=_e.createElement(a,{is:s.is}):(o=_e.createElement(a),a==="select"&&(_e=o,s.multiple?_e.multiple=!0:s.size&&(_e.size=s.size))):o=_e.createElementNS(o,a),o[Of]=i,o[Pf]=s,Aj(o,i,!1,!1),i.stateNode=o;e:{switch(_e=vb(a,s),a){case"dialog":D("cancel",o),D("close",o),$=s;break;case"iframe":case"object":case"embed":D("load",o),$=s;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],o);$=s;break;case"source":D("error",o),$=s;break;case"img":case"image":case"link":D("error",o),D("load",o),$=s;break;case"details":D("toggle",o),$=s;break;case"input":Za(o,s),$=Ya(o,s),D("invalid",o);break;case"option":$=s;break;case"select":o._wrapperState={wasMultiple:!!s.multiple},$=A$1({},s,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,s),$=gb(o,s),D("invalid",o);break;default:$=s}ub(a,$),rt=$;for(et in rt)if(rt.hasOwnProperty(et)){var ot=rt[et];et==="style"?sb(o,ot):et==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(o,ot)):et==="children"?typeof ot=="string"?(a!=="textarea"||ot!=="")&&ob(o,ot):typeof ot=="number"&&ob(o,""+ot):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?ot!=null&&et==="onScroll"&&D("scroll",o):ot!=null&&ta(o,et,ot,_e))}switch(a){case"input":Va(o),db(o,s,!1);break;case"textarea":Va(o),jb(o);break;case"option":s.value!=null&&o.setAttribute("value",""+Sa(s.value));break;case"select":o.multiple=!!s.multiple,et=s.value,et!=null?fb(o,!!s.multiple,et,!1):s.defaultValue!=null&&fb(o,!!s.multiple,s.defaultValue,!0);break;default:typeof $.onClick=="function"&&(o.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(o&&i.stateNode!=null)Dj(o,i,o.memoizedProps,s);else{if(typeof s!="string"&&i.stateNode===null)throw Error(p$1(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(s=i.stateNode,a=i.memoizedProps,s[Of]=i,(et=s.nodeValue!==a)&&(o=xg,o!==null))switch(o.tag){case 3:Af(s.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(s.nodeValue,a,(o.mode&1)!==0)}et&&(i.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[Of]=i,i.stateNode=s}return S(i),null;case 13:if(E(M),s=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,et=!1;else if(et=Gg(i),s!==null&&s.dehydrated!==null){if(o===null){if(!et)throw Error(p$1(318));if(et=i.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(s=s!==null,s!==(o!==null&&o.memoizedState!==null)&&s&&(i.child.flags|=8192,i.mode&1&&(o===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(o,i),o===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),et=i.memoizedState,et===null)return S(i),null;if(s=(i.flags&128)!==0,_e=et.rendering,_e===null)if(s)Ej(et,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(_e=Mh(o),_e!==null){for(i.flags|=128,Ej(et,!1),s=_e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),i.subtreeFlags=0,s=a,a=i.child;a!==null;)et=a,o=s,et.flags&=14680066,_e=et.alternate,_e===null?(et.childLanes=0,et.lanes=o,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,et.type=_e.type,o=_e.dependencies,et.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return G(M,M.current&1|2),i.child}o=o.sibling}et.tail!==null&&B()>Hj&&(i.flags|=128,s=!0,Ej(et,!1),i.lanes=4194304)}else{if(!s)if(o=Mh(_e),o!==null){if(i.flags|=128,s=!0,a=o.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!_e.alternate&&!I)return S(i),null}else 2*B()-et.renderingStartTime>Hj&&a!==1073741824&&(i.flags|=128,s=!0,Ej(et,!1),i.lanes=4194304);et.isBackwards?(_e.sibling=i.child,i.child=_e):(a=et.last,a!==null?a.sibling=_e:i.child=_e,et.last=_e)}return et.tail!==null?(i=et.tail,et.rendering=i,et.tail=i.sibling,et.renderingStartTime=B(),i.sibling=null,a=M.current,G(M,s?a&1|2:a&1),i):(S(i),null);case 22:case 23:return Ij(),s=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==s&&(i.flags|=8192),s&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Jj(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,i){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){W(o,i,s)}else a.current=null}function Nj(o,i,a){try{a()}catch(s){W(o,i,s)}}var Oj=!1;function Pj(o,i){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var $=s.anchorOffset,et=s.focusNode;s=s.focusOffset;try{a.nodeType,et.nodeType}catch{a=null;break e}var _e=0,rt=-1,ot=-1,it=0,at=0,j=o,_=null;t:for(;;){for(var tt;j!==a||$!==0&&j.nodeType!==3||(rt=_e+$),j!==et||s!==0&&j.nodeType!==3||(ot=_e+s),j.nodeType===3&&(_e+=j.nodeValue.length),(tt=j.firstChild)!==null;)_=j,j=tt;for(;;){if(j===o)break t;if(_===a&&++it===$&&(rt=_e),_===et&&++at===s&&(ot=_e),(tt=j.nextSibling)!==null)break;j=_,_=j.parentNode}j=tt}a=rt===-1||ot===-1?null:{start:rt,end:ot}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:o,selectionRange:a},dd=!1,V=i;V!==null;)if(i=V,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V=o;else for(;V!==null;){i=V;try{var nt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var st=nt.memoizedProps,dt=nt.memoizedState,ft=i.stateNode,gt=ft.getSnapshotBeforeUpdate(i.elementType===i.type?st:Lg(i.type,st),dt);ft.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var pt=i.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(mt){W(i,i.return,mt)}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}return nt=Oj,Oj=!1,nt}function Qj(o,i,a){var s=i.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var $=s=s.next;do{if(($.tag&o)===o){var et=$.destroy;$.destroy=void 0,et!==void 0&&Nj(i,a,et)}$=$.next}while($!==s)}}function Rj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&o)===o){var s=a.create;a.destroy=s()}a=a.next}while(a!==i)}}function Sj(o){var i=o.ref;if(i!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof i=="function"?i(o):i.current=o}}function Tj(o){var i=o.alternate;i!==null&&(o.alternate=null,Tj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,i,a){var s=o.tag;if(s===5||s===6)o=o.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(o,i):a.insertBefore(o,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(o,a)):(i=a,i.appendChild(o)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bf));else if(s!==4&&(o=o.child,o!==null))for(Wj(o,i,a),o=o.sibling;o!==null;)Wj(o,i,a),o=o.sibling}function Xj(o,i,a){var s=o.tag;if(s===5||s===6)o=o.stateNode,i?a.insertBefore(o,i):a.appendChild(o);else if(s!==4&&(o=o.child,o!==null))for(Xj(o,i,a),o=o.sibling;o!==null;)Xj(o,i,a),o=o.sibling}var X=null,Yj=!1;function Zj(o,i,a){for(a=a.child;a!==null;)ak(o,i,a),a=a.sibling}function ak(o,i,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,i);case 6:var s=X,$=Yj;X=null,Zj(o,i,a),X=s,Yj=$,X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?Kf(o.parentNode,a):o.nodeType===1&&Kf(o,a),bd(o)):Kf(X,a.stateNode));break;case 4:s=X,$=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(o,i,a),X=s,Yj=$;break;case 0:case 11:case 14:case 15:if(!U&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){$=s=s.next;do{var et=$,_e=et.destroy;et=et.tag,_e!==void 0&&(et&2||et&4)&&Nj(a,i,_e),$=$.next}while($!==s)}Zj(o,i,a);break;case 1:if(!U&&(Mj(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(rt){W(a,i,rt)}Zj(o,i,a);break;case 21:Zj(o,i,a);break;case 22:a.mode&1?(U=(s=U)||a.memoizedState!==null,Zj(o,i,a),U=s):Zj(o,i,a);break;default:Zj(o,i,a)}}function bk(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new Lj),i.forEach(function(s){var $=ck.bind(null,o,s);a.has(s)||(a.add(s),s.then($,$))})}}function dk(o,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var $=a[s];try{var et=o,_e=i,rt=_e;e:for(;rt!==null;){switch(rt.tag){case 5:X=rt.stateNode,Yj=!1;break e;case 3:X=rt.stateNode.containerInfo,Yj=!0;break e;case 4:X=rt.stateNode.containerInfo,Yj=!0;break e}rt=rt.return}if(X===null)throw Error(p$1(160));ak(et,_e,$),X=null,Yj=!1;var ot=$.alternate;ot!==null&&(ot.return=null),$.return=null}catch(it){W($,i,it)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,o),i=i.sibling}function ek(o,i){var a=o.alternate,s=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(i,o),fk(o),s&4){try{Qj(3,o,o.return),Rj(3,o)}catch(st){W(o,o.return,st)}try{Qj(5,o,o.return)}catch(st){W(o,o.return,st)}}break;case 1:dk(i,o),fk(o),s&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(i,o),fk(o),s&512&&a!==null&&Mj(a,a.return),o.flags&32){var $=o.stateNode;try{ob($,"")}catch(st){W(o,o.return,st)}}if(s&4&&($=o.stateNode,$!=null)){var et=o.memoizedProps,_e=a!==null?a.memoizedProps:et,rt=o.type,ot=o.updateQueue;if(o.updateQueue=null,ot!==null)try{rt==="input"&&et.type==="radio"&&et.name!=null&&ab($,et),vb(rt,_e);var it=vb(rt,et);for(_e=0;_e<ot.length;_e+=2){var at=ot[_e],j=ot[_e+1];at==="style"?sb($,j):at==="dangerouslySetInnerHTML"?nb($,j):at==="children"?ob($,j):ta($,at,j,it)}switch(rt){case"input":bb($,et);break;case"textarea":ib($,et);break;case"select":var _=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!et.multiple;var tt=et.value;tt!=null?fb($,!!et.multiple,tt,!1):_!==!!et.multiple&&(et.defaultValue!=null?fb($,!!et.multiple,et.defaultValue,!0):fb($,!!et.multiple,et.multiple?[]:"",!1))}$[Pf]=et}catch(st){W(o,o.return,st)}}break;case 6:if(dk(i,o),fk(o),s&4){if(o.stateNode===null)throw Error(p$1(162));$=o.stateNode,et=o.memoizedProps;try{$.nodeValue=et}catch(st){W(o,o.return,st)}}break;case 3:if(dk(i,o),fk(o),s&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(st){W(o,o.return,st)}break;case 4:dk(i,o),fk(o);break;case 13:dk(i,o),fk(o),$=o.child,$.flags&8192&&(et=$.memoizedState!==null,$.stateNode.isHidden=et,!et||$.alternate!==null&&$.alternate.memoizedState!==null||(gk=B())),s&4&&bk(o);break;case 22:if(at=a!==null&&a.memoizedState!==null,o.mode&1?(U=(it=U)||at,dk(i,o),U=it):dk(i,o),fk(o),s&8192){if(it=o.memoizedState!==null,(o.stateNode.isHidden=it)&&!at&&o.mode&1)for(V=o,at=o.child;at!==null;){for(j=V=at;V!==null;){switch(_=V,tt=_.child,_.tag){case 0:case 11:case 14:case 15:Qj(4,_,_.return);break;case 1:Mj(_,_.return);var nt=_.stateNode;if(typeof nt.componentWillUnmount=="function"){s=_,a=_.return;try{i=s,nt.props=i.memoizedProps,nt.state=i.memoizedState,nt.componentWillUnmount()}catch(st){W(s,a,st)}}break;case 5:Mj(_,_.return);break;case 22:if(_.memoizedState!==null){hk(j);continue}}tt!==null?(tt.return=_,V=tt):hk(j)}at=at.sibling}e:for(at=null,j=o;;){if(j.tag===5){if(at===null){at=j;try{$=j.stateNode,it?(et=$.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(rt=j.stateNode,ot=j.memoizedProps.style,_e=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,rt.style.display=rb("display",_e))}catch(st){W(o,o.return,st)}}}else if(j.tag===6){if(at===null)try{j.stateNode.nodeValue=it?"":j.memoizedProps}catch(st){W(o,o.return,st)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===o)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;at===j&&(at=null),j=j.return}at===j&&(at=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:dk(i,o),fk(o),s&4&&bk(o);break;case 21:break;default:dk(i,o),fk(o)}}function fk(o){var i=o.flags;if(i&2){try{e:{for(var a=o.return;a!==null;){if(Uj(a)){var s=a;break e}a=a.return}throw Error(p$1(160))}switch(s.tag){case 5:var $=s.stateNode;s.flags&32&&(ob($,""),s.flags&=-33);var et=Vj(o);Xj(o,et,$);break;case 3:case 4:var _e=s.stateNode.containerInfo,rt=Vj(o);Wj(o,rt,_e);break;default:throw Error(p$1(161))}}catch(ot){W(o,o.return,ot)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function ik(o,i,a){V=o,jk(o)}function jk(o,i,a){for(var s=(o.mode&1)!==0;V!==null;){var $=V,et=$.child;if($.tag===22&&s){var _e=$.memoizedState!==null||Kj;if(!_e){var rt=$.alternate,ot=rt!==null&&rt.memoizedState!==null||U;rt=Kj;var it=U;if(Kj=_e,(U=ot)&&!it)for(V=$;V!==null;)_e=V,ot=_e.child,_e.tag===22&&_e.memoizedState!==null?kk($):ot!==null?(ot.return=_e,V=ot):kk($);for(;et!==null;)V=et,jk(et),et=et.sibling;V=$,Kj=rt,U=it}lk(o)}else $.subtreeFlags&8772&&et!==null?(et.return=$,V=et):lk(o)}}function lk(o){for(;V!==null;){var i=V;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var s=i.stateNode;if(i.flags&4&&!U)if(a===null)s.componentDidMount();else{var $=i.elementType===i.type?a.memoizedProps:Lg(i.type,a.memoizedProps);s.componentDidUpdate($,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var et=i.updateQueue;et!==null&&ih(i,et,s);break;case 3:var _e=i.updateQueue;if(_e!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}ih(i,_e,a)}break;case 5:var rt=i.stateNode;if(a===null&&i.flags&4){a=rt;var ot=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&a.focus();break;case"img":ot.src&&(a.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var it=i.alternate;if(it!==null){var at=it.memoizedState;if(at!==null){var j=at.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||i.flags&512&&Sj(i)}catch(_){W(i,i.return,_)}}if(i===o){V=null;break}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}}function hk(o){for(;V!==null;){var i=V;if(i===o){V=null;break}var a=i.sibling;if(a!==null){a.return=i.return,V=a;break}V=i.return}}function kk(o){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Rj(4,i)}catch(ot){W(i,a,ot)}break;case 1:var s=i.stateNode;if(typeof s.componentDidMount=="function"){var $=i.return;try{s.componentDidMount()}catch(ot){W(i,$,ot)}}var et=i.return;try{Sj(i)}catch(ot){W(i,et,ot)}break;case 5:var _e=i.return;try{Sj(i)}catch(ot){W(i,_e,ot)}}}catch(ot){W(i,i.return,ot)}if(i===o){V=null;break}var rt=i.sibling;if(rt!==null){rt.return=i.return,V=rt;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function mh(o,i,a,s){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(o,a,s),(!(K&2)||o!==R)&&(o===R&&(!(K&2)&&(rk|=a),T===4&&Dk(o,Z)),Ek(o,s),a===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(o,i){var a=o.callbackNode;wc(o,i);var s=uc(o,o===R?Z:0);if(s===0)a!==null&&bc(a),o.callbackNode=null,o.callbackPriority=0;else if(i=s&-s,o.callbackPriority!==i){if(a!=null&&bc(a),i===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(s)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,o))}o.callbackPriority=i,o.callbackNode=a}}function Hk(o,i){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var a=o.callbackNode;if(Ik()&&o.callbackNode!==a)return null;var s=uc(o,o===R?Z:0);if(s===0)return null;if(s&30||s&o.expiredLanes||i)i=Jk(o,s);else{i=s;var $=K;K|=2;var et=Kk();(R!==o||Z!==i)&&(vk=null,Hj=B()+500,Lk(o,i));do try{Mk();break}catch(rt){Nk(o,rt)}while(1);Qg(),nk.current=et,K=$,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&($=xc(o),$!==0&&(s=$,i=Ok(o,$))),i===1)throw a=qk,Lk(o,0),Dk(o,s),Ek(o,B()),a;if(i===6)Dk(o,s);else{if($=o.current.alternate,!(s&30)&&!Pk($)&&(i=Jk(o,s),i===2&&(et=xc(o),et!==0&&(s=et,i=Ok(o,et))),i===1))throw a=qk,Lk(o,0),Dk(o,s),Ek(o,B()),a;switch(o.finishedWork=$,o.finishedLanes=s,i){case 0:case 1:throw Error(p$1(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,s),(s&130023424)===s&&(i=gk+500-B(),10<i)){if(uc(o,0)!==0)break;if($=o.suspendedLanes,($&s)!==s){L(),o.pingedLanes|=o.suspendedLanes&$;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),i);break}Qk(o,uk,vk);break;case 4:if(Dk(o,s),(s&4194240)===s)break;for(i=o.eventTimes,$=-1;0<s;){var _e=31-oc(s);et=1<<_e,_e=i[_e],_e>$&&($=_e),s&=~et}if(s=$,s=B()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*mk(s/1960))-s,10<s){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(o,B()),o.callbackNode===a?Hk.bind(null,o):null}function Ok(o,i){var a=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,i).flags|=256),o=Jk(o,i),o!==2&&(i=uk,uk=a,i!==null&&Gj(i)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var i=o;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var $=a[s],et=$.getSnapshot;$=$.value;try{if(!He(et(),$))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(o,i){for(i&=~sk,i&=~rk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var a=31-oc(i),s=1<<a;o[a]=-1,i&=~s}}function Fk(o){if(K&6)throw Error(p$1(327));Ik();var i=uc(o,0);if(!(i&1))return Ek(o,B()),null;var a=Jk(o,i);if(o.tag!==0&&a===2){var s=xc(o);s!==0&&(i=s,a=Ok(o,s))}if(a===1)throw a=qk,Lk(o,0),Dk(o,i),Ek(o,B()),a;if(a===6)throw Error(p$1(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,i){var a=K;K|=1;try{return o(i)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var a=pk.transition,s=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=s,pk.transition=a,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,i){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var s=a;switch(wg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(s);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(s.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=o,Y=o=wh(o.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(a=Wg[i],s=a.interleaved,s!==null){a.interleaved=null;var $=s.next,et=a.pending;if(et!==null){var _e=et.next;et.next=$,s.next=_e}a.pending=s}Wg=null}return o}function Nk(o,i){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var s=N.memoizedState;s!==null;){var $=s.queue;$!==null&&($.pending=null),s=s.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=i,Y=null;break}e:{var et=o,_e=a.return,rt=a,ot=i;if(i=Z,rt.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var it=ot,at=rt,j=at.tag;if(!(at.mode&1)&&(j===0||j===11||j===15)){var _=at.alternate;_?(at.updateQueue=_.updateQueue,at.memoizedState=_.memoizedState,at.lanes=_.lanes):(at.updateQueue=null,at.memoizedState=null)}var tt=Vi(_e);if(tt!==null){tt.flags&=-257,Wi(tt,_e,rt,et,i),tt.mode&1&&Ti(et,it,i),i=tt,ot=it;var nt=i.updateQueue;if(nt===null){var st=new Set;st.add(ot),i.updateQueue=st}else nt.add(ot);break e}else{if(!(i&1)){Ti(et,it,i),uj();break e}ot=Error(p$1(426))}}else if(I&&rt.mode&1){var dt=Vi(_e);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,_e,rt,et,i),Jg(Ki(ot,rt));break e}}et=ot=Ki(ot,rt),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=_e;do{switch(et.tag){case 3:et.flags|=65536,i&=-i,et.lanes|=i;var ft=Oi(et,ot,i);fh(et,ft);break e;case 1:rt=ot;var gt=et.type,pt=et.stateNode;if(!(et.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Si===null||!Si.has(pt)))){et.flags|=65536,i&=-i,et.lanes|=i;var mt=Ri(et,rt,i);fh(et,mt);break e}}et=et.return}while(et!==null)}Tk(a)}catch(vt){i=vt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(o,i){var a=K;K|=2;var s=Kk();(R!==o||Z!==i)&&(vk=null,Lk(o,i));do try{Uk();break}catch($){Nk(o,$)}while(1);if(Qg(),K=a,nk.current=s,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(o){var i=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,i===null?Tk(o):Y=i,ok.current=null}function Tk(o){var i=o;do{var a=i.alternate;if(o=i.return,i.flags&32768){if(a=Jj(a,i),a!==null){a.flags&=32767,Y=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,i,gj),a!==null){Y=a;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=o}while(i!==null);T===0&&(T=5)}function Qk(o,i,a){var s=C,$=pk.transition;try{pk.transition=null,C=1,Xk(o,i,a,s)}finally{pk.transition=$,C=s}return null}function Xk(o,i,a,s){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));a=o.finishedWork;var $=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(p$1(177));o.callbackNode=null,o.callbackPriority=0;var et=a.lanes|a.childLanes;if(Bc(o,et),o===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(a.flags&15990)!==0,a.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var _e=C;C=1;var rt=K;K|=4,ok.current=null,Pj(o,a),ek(a,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=a,ik(a),dc(),K=rt,C=_e,pk.transition=et}else o.current=a;if(wk&&(wk=!1,xk=o,yk=$),et=o.pendingLanes,et===0&&(Si=null),mc(a.stateNode),Ek(o,B()),i!==null)for(s=o.onRecoverableError,a=0;a<i.length;a++)$=i[a],s($.value,{componentStack:$.stack,digest:$.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),et=o.pendingLanes,et&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),i=pk.transition,a=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var s=!1;else{if(o=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var $=K;for(K|=4,V=o.current;V!==null;){var et=V,_e=et.child;if(V.flags&16){var rt=et.deletions;if(rt!==null){for(var ot=0;ot<rt.length;ot++){var it=rt[ot];for(V=it;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Qj(8,at,et)}var j=at.child;if(j!==null)j.return=at,V=j;else for(;V!==null;){at=V;var _=at.sibling,tt=at.return;if(Tj(at),at===it){V=null;break}if(_!==null){_.return=tt,V=_;break}V=tt}}}var nt=et.alternate;if(nt!==null){var st=nt.child;if(st!==null){nt.child=null;do{var dt=st.sibling;st.sibling=null,st=dt}while(st!==null)}}V=et}}if(et.subtreeFlags&2064&&_e!==null)_e.return=et,V=_e;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var ft=et.sibling;if(ft!==null){ft.return=et.return,V=ft;break e}V=et.return}}var gt=o.current;for(V=gt;V!==null;){_e=V;var pt=_e.child;if(_e.subtreeFlags&2064&&pt!==null)pt.return=_e,V=pt;else e:for(_e=gt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Rj(9,rt)}}catch(vt){W(rt,rt.return,vt)}if(rt===_e){V=null;break e}var mt=rt.sibling;if(mt!==null){mt.return=rt.return,V=mt;break e}V=rt.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}s=!0}return s}finally{C=a,pk.transition=i}}return!1}function Yk(o,i,a){i=Ki(a,i),i=Oi(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i))}function W(o,i,a){if(o.tag===3)Yk(o,o,a);else for(;i!==null;){if(i.tag===3){Yk(i,o,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Si===null||!Si.has(s))){o=Ki(a,o),o=Ri(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o));break}}i=i.return}}function Ui(o,i,a){var s=o.pingCache;s!==null&&s.delete(i),i=L(),o.pingedLanes|=o.suspendedLanes&a,R===o&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(o,0):sk|=a),Ek(o,i)}function Zk(o,i){i===0&&(o.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var a=L();o=Zg(o,i),o!==null&&(Ac(o,i,a),Ek(o,a))}function vj(o){var i=o.memoizedState,a=0;i!==null&&(a=i.retryLane),Zk(o,a)}function ck(o,i){var a=0;switch(o.tag){case 13:var s=o.stateNode,$=o.memoizedState;$!==null&&(a=$.retryLane);break;case 19:s=o.stateNode;break;default:throw Error(p$1(314))}s!==null&&s.delete(i),Zk(o,a)}var Wk;Wk=function(o,i,a){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&a)&&!(i.flags&128))return Ug=!1,zj(o,i,a);Ug=!!(o.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var s=i.type;jj(o,i),o=i.pendingProps;var $=Yf(i,H.current);Tg(i,a),$=Xh(null,i,s,o,$,a);var et=bi();return i.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(s)?(et=!0,cg(i)):et=!1,i.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,ah(i),$.updater=nh,i.stateNode=$,$._reactInternals=i,rh(i,s,o,a),i=kj(null,i,s,!0,et,a)):(i.tag=0,I&&et&&vg(i),Yi(null,i,$,a),i=i.child),i;case 16:s=i.elementType;e:{switch(jj(o,i),o=i.pendingProps,$=s._init,s=$(s._payload),i.type=s,$=i.tag=$k(s),o=Lg(s,o),$){case 0:i=dj(null,i,s,o,a);break e;case 1:i=ij(null,i,s,o,a);break e;case 11:i=Zi(null,i,s,o,a);break e;case 14:i=aj(null,i,s,Lg(s.type,o),a);break e}throw Error(p$1(306,s,""))}return i;case 0:return s=i.type,$=i.pendingProps,$=i.elementType===s?$:Lg(s,$),dj(o,i,s,$,a);case 1:return s=i.type,$=i.pendingProps,$=i.elementType===s?$:Lg(s,$),ij(o,i,s,$,a);case 3:e:{if(lj(i),o===null)throw Error(p$1(387));s=i.pendingProps,et=i.memoizedState,$=et.element,bh(o,i),gh(i,s,null,a);var _e=i.memoizedState;if(s=_e.element,et.isDehydrated)if(et={element:s,isDehydrated:!1,cache:_e.cache,pendingSuspenseBoundaries:_e.pendingSuspenseBoundaries,transitions:_e.transitions},i.updateQueue.baseState=et,i.memoizedState=et,i.flags&256){$=Ki(Error(p$1(423)),i),i=mj(o,i,s,a,$);break e}else if(s!==$){$=Ki(Error(p$1(424)),i),i=mj(o,i,s,a,$);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,a=Ch(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),s===$){i=$i(o,i,a);break e}Yi(o,i,s,a)}i=i.child}return i;case 5:return Kh(i),o===null&&Eg(i),s=i.type,$=i.pendingProps,et=o!==null?o.memoizedProps:null,_e=$.children,Ef(s,$)?_e=null:et!==null&&Ef(s,et)&&(i.flags|=32),hj(o,i),Yi(o,i,_e,a),i.child;case 6:return o===null&&Eg(i),null;case 13:return pj(o,i,a);case 4:return Ih(i,i.stateNode.containerInfo),s=i.pendingProps,o===null?i.child=Bh(i,null,s,a):Yi(o,i,s,a),i.child;case 11:return s=i.type,$=i.pendingProps,$=i.elementType===s?$:Lg(s,$),Zi(o,i,s,$,a);case 7:return Yi(o,i,i.pendingProps,a),i.child;case 8:return Yi(o,i,i.pendingProps.children,a),i.child;case 12:return Yi(o,i,i.pendingProps.children,a),i.child;case 10:e:{if(s=i.type._context,$=i.pendingProps,et=i.memoizedProps,_e=$.value,G(Mg,s._currentValue),s._currentValue=_e,et!==null)if(He(et.value,_e)){if(et.children===$.children&&!Wf.current){i=$i(o,i,a);break e}}else for(et=i.child,et!==null&&(et.return=i);et!==null;){var rt=et.dependencies;if(rt!==null){_e=et.child;for(var ot=rt.firstContext;ot!==null;){if(ot.context===s){if(et.tag===1){ot=ch(-1,a&-a),ot.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var at=it.pending;at===null?ot.next=ot:(ot.next=at.next,at.next=ot),it.pending=ot}}et.lanes|=a,ot=et.alternate,ot!==null&&(ot.lanes|=a),Sg(et.return,a,i),rt.lanes|=a;break}ot=ot.next}}else if(et.tag===10)_e=et.type===i.type?null:et.child;else if(et.tag===18){if(_e=et.return,_e===null)throw Error(p$1(341));_e.lanes|=a,rt=_e.alternate,rt!==null&&(rt.lanes|=a),Sg(_e,a,i),_e=et.sibling}else _e=et.child;if(_e!==null)_e.return=et;else for(_e=et;_e!==null;){if(_e===i){_e=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,_e=et;break}_e=_e.return}et=_e}Yi(o,i,$.children,a),i=i.child}return i;case 9:return $=i.type,s=i.pendingProps.children,Tg(i,a),$=Vg($),s=s($),i.flags|=1,Yi(o,i,s,a),i.child;case 14:return s=i.type,$=Lg(s,i.pendingProps),$=Lg(s.type,$),aj(o,i,s,$,a);case 15:return cj(o,i,i.type,i.pendingProps,a);case 17:return s=i.type,$=i.pendingProps,$=i.elementType===s?$:Lg(s,$),jj(o,i),i.tag=1,Zf(s)?(o=!0,cg(i)):o=!1,Tg(i,a),ph(i,s,$),rh(i,s,$,a),kj(null,i,s,!0,o,a);case 19:return yj(o,i,a);case 22:return ej(o,i,a)}throw Error(p$1(156,i.tag))};function Gk(o,i){return ac(o,i)}function al(o,i,a,s){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,a,s){return new al(o,i,a,s)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,i){var a=o.alternate;return a===null?(a=Bg(o.tag,i,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=i,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function yh(o,i,a,s,$,et){var _e=2;if(s=o,typeof o=="function")bj(o)&&(_e=1);else if(typeof o=="string")_e=5;else e:switch(o){case ya:return Ah(a.children,$,et,i);case za:_e=8,$|=8;break;case Aa:return o=Bg(12,a,i,$|2),o.elementType=Aa,o.lanes=et,o;case Ea:return o=Bg(13,a,i,$),o.elementType=Ea,o.lanes=et,o;case Fa:return o=Bg(19,a,i,$),o.elementType=Fa,o.lanes=et,o;case Ia:return qj(a,$,et,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:_e=10;break e;case Ca:_e=9;break e;case Da:_e=11;break e;case Ga:_e=14;break e;case Ha:_e=16,s=null;break e}throw Error(p$1(130,o==null?o:typeof o,""))}return i=Bg(_e,a,i,$),i.elementType=o,i.type=s,i.lanes=et,i}function Ah(o,i,a,s){return o=Bg(7,o,s,i),o.lanes=a,o}function qj(o,i,a,s){return o=Bg(22,o,s,i),o.elementType=Ia,o.lanes=a,o.stateNode={isHidden:!1},o}function xh(o,i,a){return o=Bg(6,o,null,i),o.lanes=a,o}function zh(o,i,a){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=a,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function bl(o,i,a,s,$){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function cl(o,i,a,s,$,et,_e,rt,ot){return o=new bl(o,i,a,rt,ot),i===1?(i=1,et===!0&&(i|=8)):i=0,et=Bg(3,null,null,i),o.current=et,et.stateNode=o,et.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),o}function dl(o,i,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:o,containerInfo:i,implementation:a}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$1(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(o.tag===1){var a=o.type;if(Zf(a))return bg(o,a,i)}return i}function fl(o,i,a,s,$,et,_e,rt,ot){return o=cl(a,s,!0,o,$,et,_e,rt,ot),o.context=el(null),a=o.current,s=L(),$=lh(a),et=ch(s,$),et.callback=i??null,dh(a,et,$),o.current.lanes=$,Ac(o,$,s),Ek(o,s),o}function gl(o,i,a,s){var $=i.current,et=L(),_e=lh($);return a=el(a),i.context===null?i.context=a:i.pendingContext=a,i=ch(et,_e),i.payload={element:o},s=s===void 0?null:s,s!==null&&(i.callback=s),o=dh($,i,_e),o!==null&&(mh(o,$,_e,et),eh(o,$,_e)),_e}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<i?a:i}}function jl(o,i){il(o,i),(o=o.alternate)&&il(o,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$1(409));gl(o,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Sk(function(){gl(null,o,null,null)}),i[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc();o={blockedOn:null,target:o,priority:i};for(var a=0;a<Qc.length&&i!==0&&i<Qc[a].priority;a++);Qc.splice(a,0,o),a===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,i,a,s,$){if($){if(typeof s=="function"){var et=s;s=function(){var it=hl(_e);et.call(it)}}var _e=fl(i,s,o,0,null,!1,!1,"",ql);return o._reactRootContainer=_e,o[uf]=_e.current,sf(o.nodeType===8?o.parentNode:o),Sk(),_e}for(;$=o.lastChild;)o.removeChild($);if(typeof s=="function"){var rt=s;s=function(){var it=hl(ot);rt.call(it)}}var ot=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=ot,o[uf]=ot.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(i,ot,a,s)}),ot}function sl(o,i,a,s,$){var et=a._reactRootContainer;if(et){var _e=et;if(typeof $=="function"){var rt=$;$=function(){var ot=hl(_e);rt.call(ot)}}gl(i,_e,o,$)}else _e=rl(a,i,o,$,s);return hl(_e)}Ec=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var a=tc(i.pendingLanes);a!==0&&(Cc(i,a|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var s=Zg(o,1);if(s!==null){var $=L();mh(s,o,1,$)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var i=Zg(o,134217728);if(i!==null){var a=L();mh(i,o,134217728,a)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var i=lh(o),a=Zg(o,i);if(a!==null){var s=L();mh(a,o,i,s)}jl(o,i)}};Hc=function(){return C};Ic=function(o,i){var a=C;try{return C=o,i()}finally{C=a}};yb=function(o,i,a){switch(i){case"input":if(bb(o,a),i=a.name,a.type==="radio"&&i!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==o&&s.form===o.form){var $=Db(s);if(!$)throw Error(p$1(90));Wa(s),bb(s,$)}}}break;case"textarea":ib(o,a);break;case"select":i=a.value,i!=null&&fb(o,!!a.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p$1(200));return dl(o,i,null,a)};reactDom_production_min.createRoot=function(o,i){if(!ol(o))throw Error(p$1(299));var a=!1,s="",$=ll;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&($=i.onRecoverableError)),i=cl(o,1,!1,null,null,a,!1,s,$),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ml(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$1(188)):(o=Object.keys(o).join(","),Error(p$1(268,o)));return o=Zb(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,i,a){if(!pl(i))throw Error(p$1(200));return sl(null,o,i,!0,a)};reactDom_production_min.hydrateRoot=function(o,i,a){if(!ol(o))throw Error(p$1(405));var s=a!=null&&a.hydratedSources||null,$=!1,et="",_e=ll;if(a!=null&&(a.unstable_strictMode===!0&&($=!0),a.identifierPrefix!==void 0&&(et=a.identifierPrefix),a.onRecoverableError!==void 0&&(_e=a.onRecoverableError)),i=fl(i,null,o,1,a??null,$,!1,et,_e),o[uf]=i.current,sf(o),s)for(o=0;o<s.length;o++)a=s[o],$=a._getVersion,$=$(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,$]:i.mutableSourceEagerHydrationData.push(a,$);return new nl(i)};reactDom_production_min.render=function(o,i,a){if(!pl(i))throw Error(p$1(200));return sl(null,o,i,!1,a)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$1(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,a,s){if(!pl(a))throw Error(p$1(200));if(o==null||o._reactInternals===void 0)throw Error(p$1(38));return sl(o,i,a,!1,s)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$4.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function i(s,$){let{pathname:et,search:_e,hash:rt}=s.location;return createLocation("",{pathname:et,search:_e,hash:rt},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}function a(s,$){return typeof $=="string"?$:createPath($)}return getUrlBasedHistory(i,a,null,o)}function invariant(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function warning$3(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,i){return{usr:o.state,key:o.key,idx:i}}function createLocation(o,i,a,s){return a===void 0&&(a=null),_extends$4({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:a,key:i&&i.key||s||createKey()})}function createPath(o){let{pathname:i="/",search:a="",hash:s=""}=o;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function parsePath(o){let i={};if(o){let a=o.indexOf("#");a>=0&&(i.hash=o.substr(a),o=o.substr(0,a));let s=o.indexOf("?");s>=0&&(i.search=o.substr(s),o=o.substr(0,s)),o&&(i.pathname=o)}return i}function getUrlBasedHistory(o,i,a,s){s===void 0&&(s={});let{window:$=document.defaultView,v5Compat:et=!1}=s,_e=$.history,rt=Action.Pop,ot=null,it=at();it==null&&(it=0,_e.replaceState(_extends$4({},_e.state,{idx:it}),""));function at(){return(_e.state||{idx:null}).idx}function j(){rt=Action.Pop;let dt=at(),ft=dt==null?null:dt-it;it=dt,ot&&ot({action:rt,location:st.location,delta:ft})}function _(dt,ft){rt=Action.Push;let gt=createLocation(st.location,dt,ft);a&&a(gt,dt),it=at()+1;let pt=getHistoryState(gt,it),mt=st.createHref(gt);try{_e.pushState(pt,"",mt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;$.location.assign(mt)}et&&ot&&ot({action:rt,location:st.location,delta:1})}function tt(dt,ft){rt=Action.Replace;let gt=createLocation(st.location,dt,ft);a&&a(gt,dt),it=at();let pt=getHistoryState(gt,it),mt=st.createHref(gt);_e.replaceState(pt,"",mt),et&&ot&&ot({action:rt,location:st.location,delta:0})}function nt(dt){let ft=$.location.origin!=="null"?$.location.origin:$.location.href,gt=typeof dt=="string"?dt:createPath(dt);return invariant(ft,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,ft)}let st={get action(){return rt},get location(){return o($,_e)},listen(dt){if(ot)throw new Error("A history only accepts one active listener");return $.addEventListener(PopStateEventType,j),ot=dt,()=>{$.removeEventListener(PopStateEventType,j),ot=null}},createHref(dt){return i($,dt)},createURL:nt,encodeLocation(dt){let ft=nt(dt);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:_,replace:tt,go(dt){return _e.go(dt)}};return st}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(o){return o.index===!0}function convertRoutesToDataRoutes(o,i,a,s){return a===void 0&&(a=[]),s===void 0&&(s={}),o.map(($,et)=>{let _e=[...a,et],rt=typeof $.id=="string"?$.id:_e.join("-");if(invariant($.index!==!0||!$.children,"Cannot specify children on an index route"),invariant(!s[rt],'Found a route id collision on id "'+rt+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute($)){let ot=_extends$4({},$,i($),{id:rt});return s[rt]=ot,ot}else{let ot=_extends$4({},$,i($),{id:rt,children:void 0});return s[rt]=ot,$.children&&(ot.children=convertRoutesToDataRoutes($.children,i,_e,s)),ot}})}function matchRoutes(o,i,a){a===void 0&&(a="/");let s=typeof i=="string"?parsePath(i):i,$=stripBasename(s.pathname||"/",a);if($==null)return null;let et=flattenRoutes(o);rankRouteBranches(et);let _e=null;for(let rt=0;_e==null&&rt<et.length;++rt)_e=matchRouteBranch(et[rt],safelyDecodeURI($));return _e}function flattenRoutes(o,i,a,s){i===void 0&&(i=[]),a===void 0&&(a=[]),s===void 0&&(s="");let $=(et,_e,rt)=>{let ot={relativePath:rt===void 0?et.path||"":rt,caseSensitive:et.caseSensitive===!0,childrenIndex:_e,route:et};ot.relativePath.startsWith("/")&&(invariant(ot.relativePath.startsWith(s),'Absolute route path "'+ot.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ot.relativePath=ot.relativePath.slice(s.length));let it=joinPaths([s,ot.relativePath]),at=a.concat(ot);et.children&&et.children.length>0&&(invariant(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+it+'".')),flattenRoutes(et.children,i,at,it)),!(et.path==null&&!et.index)&&i.push({path:it,score:computeScore(it,et.index),routesMeta:at})};return o.forEach((et,_e)=>{var rt;if(et.path===""||!((rt=et.path)!=null&&rt.includes("?")))$(et,_e);else for(let ot of explodeOptionalSegments(et.path))$(et,_e,ot)}),i}function explodeOptionalSegments(o){let i=o.split("/");if(i.length===0)return[];let[a,...s]=i,$=a.endsWith("?"),et=a.replace(/\?$/,"");if(s.length===0)return $?[et,""]:[et];let _e=explodeOptionalSegments(s.join("/")),rt=[];return rt.push(..._e.map(ot=>ot===""?et:[et,ot].join("/"))),$&&rt.push(..._e),rt.map(ot=>o.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches(o){o.sort((i,a)=>i.score!==a.score?a.score-i.score:compareIndexes(i.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,i){let a=o.split("/"),s=a.length;return a.some(isSplat)&&(s+=splatPenalty),i&&(s+=indexRouteValue),a.filter($=>!isSplat($)).reduce(($,et)=>$+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),s)}function compareIndexes(o,i){return o.length===i.length&&o.slice(0,-1).every((s,$)=>s===i[$])?o[o.length-1]-i[i.length-1]:0}function matchRouteBranch(o,i){let{routesMeta:a}=o,s={},$="/",et=[];for(let _e=0;_e<a.length;++_e){let rt=a[_e],ot=_e===a.length-1,it=$==="/"?i:i.slice($.length)||"/",at=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:ot},it);if(!at)return null;Object.assign(s,at.params);let j=rt.route;et.push({params:s,pathname:joinPaths([$,at.pathname]),pathnameBase:normalizePathname(joinPaths([$,at.pathnameBase])),route:j}),at.pathnameBase!=="/"&&($=joinPaths([$,at.pathnameBase]))}return et}function matchPath(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,s]=compilePath(o.path,o.caseSensitive,o.end),$=i.match(a);if(!$)return null;let et=$[0],_e=et.replace(/(.)\/+$/,"$1"),rt=$.slice(1);return{params:s.reduce((it,at,j)=>{if(at==="*"){let _=rt[j]||"";_e=et.slice(0,et.length-_.length).replace(/(.)\/+$/,"$1")}return it[at]=safelyDecodeURIComponent(rt[j]||"",at),it},{}),pathname:et,pathnameBase:_e,pattern:o}}function compilePath(o,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),warning$3(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let s=[],$="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(_e,rt)=>(s.push(rt),"/([^\\/]+)"));return o.endsWith("*")?(s.push("*"),$+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?$+="\\/*$":o!==""&&o!=="/"&&($+="(?:(?=\\/|$))"),[new RegExp($,i?void 0:"i"),s]}function safelyDecodeURI(o){try{return decodeURI(o)}catch(i){return warning$3(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function safelyDecodeURIComponent(o,i){try{return decodeURIComponent(o)}catch(a){return warning$3(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),o}}function stripBasename(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,s=o.charAt(a);return s&&s!=="/"?null:o.slice(a)||"/"}function resolvePath(o,i){i===void 0&&(i="/");let{pathname:a,search:s="",hash:$=""}=typeof o=="string"?parsePath(o):o;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,i):i,search:normalizeSearch(s),hash:normalizeHash($)}}function resolvePathname(o,i){let a=i.replace(/\/+$/,"").split("/");return o.split("/").forEach($=>{$===".."?a.length>1&&a.pop():$!=="."&&a.push($)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(o,i,a,s){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function resolveTo(o,i,a,s){s===void 0&&(s=!1);let $;typeof o=="string"?$=parsePath(o):($=_extends$4({},o),invariant(!$.pathname||!$.pathname.includes("?"),getInvalidPathError("?","pathname","search",$)),invariant(!$.pathname||!$.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$)),invariant(!$.search||!$.search.includes("#"),getInvalidPathError("#","search","hash",$)));let et=o===""||$.pathname==="",_e=et?"/":$.pathname,rt;if(s||_e==null)rt=a;else{let j=i.length-1;if(_e.startsWith("..")){let _=_e.split("/");for(;_[0]==="..";)_.shift(),j-=1;$.pathname=_.join("/")}rt=j>=0?i[j]:"/"}let ot=resolvePath($,rt),it=_e&&_e!=="/"&&_e.endsWith("/"),at=(et||_e===".")&&a.endsWith("/");return!ot.pathname.endsWith("/")&&(it||at)&&(ot.pathname+="/"),ot}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;class ErrorResponse{constructor(i,a,s,$){$===void 0&&($=!1),this.status=i,this.statusText=a||"",this.internal=$,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=o=>({hasErrorBoundary:!!o.hasErrorBoundary});function createRouter(o){const i=o.window?o.window:typeof window<"u"?window:void 0,a=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u",s=!a;invariant(o.routes.length>0,"You must provide a non-empty routes array to createRouter");let $;if(o.mapRouteProperties)$=o.mapRouteProperties;else if(o.detectErrorBoundary){let Ft=o.detectErrorBoundary;$=Bt=>({hasErrorBoundary:Ft(Bt)})}else $=defaultMapRouteProperties;let et={},_e=convertRoutesToDataRoutes(o.routes,$,void 0,et),rt,ot=o.basename||"/",it=_extends$4({v7_normalizeFormMethod:!1,v7_prependBasename:!1},o.future),at=null,j=new Set,_=null,tt=null,nt=null,st=o.hydrationData!=null,dt=matchRoutes(_e,o.history.location,ot),ft=null;if(dt==null){let Ft=getInternalRouterError(404,{pathname:o.history.location.pathname}),{matches:Bt,route:Gt}=getShortCircuitMatches(_e);dt=Bt,ft={[Gt.id]:Ft}}let gt=!dt.some(Ft=>Ft.route.lazy)&&(!dt.some(Ft=>Ft.route.loader)||o.hydrationData!=null),pt,mt={historyAction:o.history.action,location:o.history.location,matches:dt,initialized:gt,navigation:IDLE_NAVIGATION,restoreScrollPosition:o.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:o.hydrationData&&o.hydrationData.loaderData||{},actionData:o.hydrationData&&o.hydrationData.actionData||null,errors:o.hydrationData&&o.hydrationData.errors||ft,fetchers:new Map,blockers:new Map},vt=Action.Pop,yt=!1,xt,wt=!1,St=!1,Ct=[],At=[],$t=new Map,Rt=0,kt=-1,Lt=new Map,Dt=new Set,Mt=new Map,Vt=new Map,Kt=new Map,Yt=!1;function Jt(){return at=o.history.listen(Ft=>{let{action:Bt,location:Gt,delta:Qt}=Ft;if(Yt){Yt=!1;return}warning$3(Kt.size===0||Qt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let en=lr({currentLocation:mt.location,nextLocation:Gt,historyAction:Bt});if(en&&Qt!=null){Yt=!0,o.history.go(Qt*-1),pr(en,{state:"blocked",location:Gt,proceed(){pr(en,{state:"proceeding",proceed:void 0,reset:void 0,location:Gt}),o.history.go(Qt)},reset(){Nn(en),_n({blockers:new Map(pt.state.blockers)})}});return}return cn(Bt,Gt)}),mt.initialized||cn(Action.Pop,mt.location),pt}function ln(){at&&at(),j.clear(),xt&&xt.abort(),mt.fetchers.forEach((Ft,Bt)=>or(Bt)),mt.blockers.forEach((Ft,Bt)=>Nn(Bt))}function wn(Ft){return j.add(Ft),()=>j.delete(Ft)}function _n(Ft){mt=_extends$4({},mt,Ft),j.forEach(Bt=>Bt(mt))}function kn(Ft,Bt){var Gt,Qt;let en=mt.actionData!=null&&mt.navigation.formMethod!=null&&isMutationMethod(mt.navigation.formMethod)&&mt.navigation.state==="loading"&&((Gt=Ft.state)==null?void 0:Gt._isRedirect)!==!0,sn;Bt.actionData?Object.keys(Bt.actionData).length>0?sn=Bt.actionData:sn=null:en?sn=mt.actionData:sn=null;let un=Bt.loaderData?mergeLoaderData(mt.loaderData,Bt.loaderData,Bt.matches||[],Bt.errors):mt.loaderData;for(let[Sn]of Kt)Nn(Sn);let hn=yt===!0||mt.navigation.formMethod!=null&&isMutationMethod(mt.navigation.formMethod)&&((Qt=Ft.state)==null?void 0:Qt._isRedirect)!==!0;rt&&(_e=rt,rt=void 0),_n(_extends$4({},Bt,{actionData:sn,loaderData:un,historyAction:vt,location:Ft,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Jr(Ft,Bt.matches||mt.matches),preventScrollReset:hn,blockers:new Map(mt.blockers)})),wt||vt===Action.Pop||(vt===Action.Push?o.history.push(Ft,Ft.state):vt===Action.Replace&&o.history.replace(Ft,Ft.state)),vt=Action.Pop,yt=!1,wt=!1,St=!1,Ct=[],At=[]}async function Cn(Ft,Bt){if(typeof Ft=="number"){o.history.go(Ft);return}let Gt=normalizeTo(mt.location,mt.matches,ot,it.v7_prependBasename,Ft,Bt==null?void 0:Bt.fromRouteId,Bt==null?void 0:Bt.relative),{path:Qt,submission:en,error:sn}=normalizeNavigateOptions(it.v7_normalizeFormMethod,!1,Gt,Bt),un=mt.location,hn=createLocation(mt.location,Qt,Bt&&Bt.state);hn=_extends$4({},hn,o.history.encodeLocation(hn));let Sn=Bt&&Bt.replace!=null?Bt.replace:void 0,$n=Action.Push;Sn===!0?$n=Action.Replace:Sn===!1||en!=null&&isMutationMethod(en.formMethod)&&en.formAction===mt.location.pathname+mt.location.search&&($n=Action.Replace);let In=Bt&&"preventScrollReset"in Bt?Bt.preventScrollReset===!0:void 0,Ln=lr({currentLocation:un,nextLocation:hn,historyAction:$n});if(Ln){pr(Ln,{state:"blocked",location:hn,proceed(){pr(Ln,{state:"proceeding",proceed:void 0,reset:void 0,location:hn}),Cn(Ft,Bt)},reset(){Nn(Ln),_n({blockers:new Map(mt.blockers)})}});return}return await cn($n,hn,{submission:en,pendingError:sn,preventScrollReset:In,replace:Bt&&Bt.replace})}function Ht(){if(Jn(),_n({revalidation:"loading"}),mt.navigation.state!=="submitting"){if(mt.navigation.state==="idle"){cn(mt.historyAction,mt.location,{startUninterruptedRevalidation:!0});return}cn(vt||mt.historyAction,mt.navigation.location,{overrideNavigation:mt.navigation})}}async function cn(Ft,Bt,Gt){xt&&xt.abort(),xt=null,vt=Ft,wt=(Gt&&Gt.startUninterruptedRevalidation)===!0,jr(mt.location,mt.matches),yt=(Gt&&Gt.preventScrollReset)===!0;let Qt=rt||_e,en=Gt&&Gt.overrideNavigation,sn=matchRoutes(Qt,Bt,ot);if(!sn){let ir=getInternalRouterError(404,{pathname:Bt.pathname}),{matches:rn,route:Hn}=getShortCircuitMatches(Qt);Tr(),kn(Bt,{matches:rn,loaderData:{},errors:{[Hn.id]:ir}});return}if(mt.initialized&&!St&&isHashChangeOnly(mt.location,Bt)&&!(Gt&&Gt.submission&&isMutationMethod(Gt.submission.formMethod))){kn(Bt,{matches:sn});return}xt=new AbortController;let un=createClientSideRequest(o.history,Bt,xt.signal,Gt&&Gt.submission),hn,Sn;if(Gt&&Gt.pendingError)Sn={[findNearestBoundary(sn).route.id]:Gt.pendingError};else if(Gt&&Gt.submission&&isMutationMethod(Gt.submission.formMethod)){let ir=await gn(un,Bt,Gt.submission,sn,{replace:Gt.replace});if(ir.shortCircuited)return;hn=ir.pendingActionData,Sn=ir.pendingActionError,en=_extends$4({state:"loading",location:Bt},Gt.submission),un=new Request(un.url,{signal:un.signal})}let{shortCircuited:$n,loaderData:In,errors:Ln}=await jn(un,Bt,sn,en,Gt&&Gt.submission,Gt&&Gt.fetcherSubmission,Gt&&Gt.replace,hn,Sn);$n||(xt=null,kn(Bt,_extends$4({matches:sn},hn?{actionData:hn}:{},{loaderData:In,errors:Ln})))}async function gn(Ft,Bt,Gt,Qt,en){Jn();let sn=_extends$4({state:"submitting",location:Bt},Gt);_n({navigation:sn});let un,hn=getTargetMatch(Qt,Bt);if(!hn.route.action&&!hn.route.lazy)un={type:ResultType.error,error:getInternalRouterError(405,{method:Ft.method,pathname:Bt.pathname,routeId:hn.route.id})};else if(un=await callLoaderOrAction("action",Ft,hn,Qt,et,$,ot),Ft.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(un)){let Sn;return en&&en.replace!=null?Sn=en.replace:Sn=un.location===mt.location.pathname+mt.location.search,await Fn(mt,un,{submission:Gt,replace:Sn}),{shortCircuited:!0}}if(isErrorResult(un)){let Sn=findNearestBoundary(Qt,hn.route.id);return(en&&en.replace)!==!0&&(vt=Action.Push),{pendingActionData:{},pendingActionError:{[Sn.route.id]:un.error}}}if(isDeferredResult(un))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[hn.route.id]:un.data}}}async function jn(Ft,Bt,Gt,Qt,en,sn,un,hn,Sn){let $n=Qt;$n||($n=_extends$4({state:"loading",location:Bt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},en));let In=en||sn?en||sn:$n.formMethod&&$n.formAction&&$n.formData&&$n.formEncType?{formMethod:$n.formMethod,formAction:$n.formAction,formData:$n.formData,formEncType:$n.formEncType}:void 0,Ln=rt||_e,[ir,rn]=getMatchesToLoad(o.history,mt,Gt,In,Bt,St,Ct,At,Mt,Ln,ot,hn,Sn);if(Tr(er=>!(Gt&&Gt.some(Rr=>Rr.route.id===er))||ir&&ir.some(Rr=>Rr.route.id===er)),ir.length===0&&rn.length===0){let er=Qn();return kn(Bt,_extends$4({matches:Gt,loaderData:{},errors:Sn||null},hn?{actionData:hn}:{},er?{fetchers:new Map(mt.fetchers)}:{})),{shortCircuited:!0}}if(!wt){rn.forEach(Rr=>{let Do=mt.fetchers.get(Rr.key),tr={state:"loading",data:Do&&Do.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};mt.fetchers.set(Rr.key,tr)});let er=hn||mt.actionData;_n(_extends$4({navigation:$n},er?Object.keys(er).length===0?{actionData:null}:{actionData:er}:{},rn.length>0?{fetchers:new Map(mt.fetchers)}:{}))}kt=++Rt,rn.forEach(er=>{er.controller&&$t.set(er.key,er.controller)});let Hn=()=>rn.forEach(er=>Gn(er.key));xt&&xt.signal.addEventListener("abort",Hn);let{results:sr,loaderResults:Gr,fetcherResults:Hr}=await wr(mt.matches,Gt,ir,rn,Ft);if(Ft.signal.aborted)return{shortCircuited:!0};xt&&xt.signal.removeEventListener("abort",Hn),rn.forEach(er=>$t.delete(er.key));let oo=findRedirect(sr);if(oo)return await Fn(mt,oo,{replace:un}),{shortCircuited:!0};let{loaderData:go,errors:mo}=processLoaderData(mt,Gt,ir,Gr,Sn,rn,Hr,Vt);Vt.forEach((er,Rr)=>{er.subscribe(Do=>{(Do||er.done)&&Vt.delete(Rr)})});let fr=Qn(),yr=ar(kt),_r=fr||yr||rn.length>0;return _extends$4({loaderData:go,errors:mo},_r?{fetchers:new Map(mt.fetchers)}:{})}function xn(Ft){return mt.fetchers.get(Ft)||IDLE_FETCHER}function Bn(Ft,Bt,Gt,Qt){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$t.has(Ft)&&Gn(Ft);let en=rt||_e,sn=normalizeTo(mt.location,mt.matches,ot,it.v7_prependBasename,Gt,Bt,Qt==null?void 0:Qt.relative),un=matchRoutes(en,sn,ot);if(!un){dr(Ft,Bt,getInternalRouterError(404,{pathname:sn}));return}let{path:hn,submission:Sn}=normalizeNavigateOptions(it.v7_normalizeFormMethod,!0,sn,Qt),$n=getTargetMatch(un,hn);if(yt=(Qt&&Qt.preventScrollReset)===!0,Sn&&isMutationMethod(Sn.formMethod)){Mn(Ft,Bt,hn,$n,un,Sn);return}Mt.set(Ft,{routeId:Bt,path:hn}),Zn(Ft,Bt,hn,$n,un,Sn)}async function Mn(Ft,Bt,Gt,Qt,en,sn){if(Jn(),Mt.delete(Ft),!Qt.route.action&&!Qt.route.lazy){let tr=getInternalRouterError(405,{method:sn.formMethod,pathname:Gt,routeId:Bt});dr(Ft,Bt,tr);return}let un=mt.fetchers.get(Ft),hn=_extends$4({state:"submitting"},sn,{data:un&&un.data," _hasFetcherDoneAnything ":!0});mt.fetchers.set(Ft,hn),_n({fetchers:new Map(mt.fetchers)});let Sn=new AbortController,$n=createClientSideRequest(o.history,Gt,Sn.signal,sn);$t.set(Ft,Sn);let In=await callLoaderOrAction("action",$n,Qt,en,et,$,ot);if($n.signal.aborted){$t.get(Ft)===Sn&&$t.delete(Ft);return}if(isRedirectResult(In)){$t.delete(Ft),Dt.add(Ft);let tr=_extends$4({state:"loading"},sn,{data:void 0," _hasFetcherDoneAnything ":!0});return mt.fetchers.set(Ft,tr),_n({fetchers:new Map(mt.fetchers)}),Fn(mt,In,{submission:sn,isFetchActionRedirect:!0})}if(isErrorResult(In)){dr(Ft,Bt,In.error);return}if(isDeferredResult(In))throw getInternalRouterError(400,{type:"defer-action"});let Ln=mt.navigation.location||mt.location,ir=createClientSideRequest(o.history,Ln,Sn.signal),rn=rt||_e,Hn=mt.navigation.state!=="idle"?matchRoutes(rn,mt.navigation.location,ot):mt.matches;invariant(Hn,"Didn't find any matches after fetcher action");let sr=++Rt;Lt.set(Ft,sr);let Gr=_extends$4({state:"loading",data:In.data},sn,{" _hasFetcherDoneAnything ":!0});mt.fetchers.set(Ft,Gr);let[Hr,oo]=getMatchesToLoad(o.history,mt,Hn,sn,Ln,St,Ct,At,Mt,rn,ot,{[Qt.route.id]:In.data},void 0);oo.filter(tr=>tr.key!==Ft).forEach(tr=>{let Eo=tr.key,Mo=mt.fetchers.get(Eo),vo={state:"loading",data:Mo&&Mo.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};mt.fetchers.set(Eo,vo),tr.controller&&$t.set(Eo,tr.controller)}),_n({fetchers:new Map(mt.fetchers)});let go=()=>oo.forEach(tr=>Gn(tr.key));Sn.signal.addEventListener("abort",go);let{results:mo,loaderResults:fr,fetcherResults:yr}=await wr(mt.matches,Hn,Hr,oo,ir);if(Sn.signal.aborted)return;Sn.signal.removeEventListener("abort",go),Lt.delete(Ft),$t.delete(Ft),oo.forEach(tr=>$t.delete(tr.key));let _r=findRedirect(mo);if(_r)return Fn(mt,_r);let{loaderData:er,errors:Rr}=processLoaderData(mt,mt.matches,Hr,fr,void 0,oo,yr,Vt);if(mt.fetchers.has(Ft)){let tr={state:"idle",data:In.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};mt.fetchers.set(Ft,tr)}let Do=ar(sr);mt.navigation.state==="loading"&&sr>kt?(invariant(vt,"Expected pending action"),xt&&xt.abort(),kn(mt.navigation.location,{matches:Hn,loaderData:er,errors:Rr,fetchers:new Map(mt.fetchers)})):(_n(_extends$4({errors:Rr,loaderData:mergeLoaderData(mt.loaderData,er,Hn,Rr)},Do||oo.length>0?{fetchers:new Map(mt.fetchers)}:{})),St=!1)}async function Zn(Ft,Bt,Gt,Qt,en,sn){let un=mt.fetchers.get(Ft),hn=_extends$4({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},sn,{data:un&&un.data," _hasFetcherDoneAnything ":!0});mt.fetchers.set(Ft,hn),_n({fetchers:new Map(mt.fetchers)});let Sn=new AbortController,$n=createClientSideRequest(o.history,Gt,Sn.signal);$t.set(Ft,Sn);let In=await callLoaderOrAction("loader",$n,Qt,en,et,$,ot);if(isDeferredResult(In)&&(In=await resolveDeferredData(In,$n.signal,!0)||In),$t.get(Ft)===Sn&&$t.delete(Ft),$n.signal.aborted)return;if(isRedirectResult(In)){Dt.add(Ft),await Fn(mt,In);return}if(isErrorResult(In)){let ir=findNearestBoundary(mt.matches,Bt);mt.fetchers.delete(Ft),_n({fetchers:new Map(mt.fetchers),errors:{[ir.route.id]:In.error}});return}invariant(!isDeferredResult(In),"Unhandled fetcher deferred data");let Ln={state:"idle",data:In.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};mt.fetchers.set(Ft,Ln),_n({fetchers:new Map(mt.fetchers)})}async function Fn(Ft,Bt,Gt){let{submission:Qt,replace:en,isFetchActionRedirect:sn}=Gt===void 0?{}:Gt;Bt.revalidate&&(St=!0);let un=createLocation(Ft.location,Bt.location,_extends$4({_isRedirect:!0},sn?{_isFetchActionRedirect:!0}:{}));if(invariant(un,"Expected a location on the redirect navigation"),ABSOLUTE_URL_REGEX.test(Bt.location)&&a){let ir=o.history.createURL(Bt.location),rn=stripBasename(ir.pathname,ot)==null;if(i.location.origin!==ir.origin||rn){en?i.location.replace(Bt.location):i.location.assign(Bt.location);return}}xt=null;let hn=en===!0?Action.Replace:Action.Push,{formMethod:Sn,formAction:$n,formEncType:In,formData:Ln}=Ft.navigation;!Qt&&Sn&&$n&&Ln&&In&&(Qt={formMethod:Sn,formAction:$n,formEncType:In,formData:Ln}),redirectPreserveMethodStatusCodes.has(Bt.status)&&Qt&&isMutationMethod(Qt.formMethod)?await cn(hn,un,{submission:_extends$4({},Qt,{formAction:Bt.location}),preventScrollReset:yt}):sn?await cn(hn,un,{overrideNavigation:{state:"loading",location:un,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Qt,preventScrollReset:yt}):await cn(hn,un,{overrideNavigation:{state:"loading",location:un,formMethod:Qt?Qt.formMethod:void 0,formAction:Qt?Qt.formAction:void 0,formEncType:Qt?Qt.formEncType:void 0,formData:Qt?Qt.formData:void 0},preventScrollReset:yt})}async function wr(Ft,Bt,Gt,Qt,en){let sn=await Promise.all([...Gt.map(Sn=>callLoaderOrAction("loader",en,Sn,Bt,et,$,ot)),...Qt.map(Sn=>Sn.matches&&Sn.match&&Sn.controller?callLoaderOrAction("loader",createClientSideRequest(o.history,Sn.path,Sn.controller.signal),Sn.match,Sn.matches,et,$,ot):{type:ResultType.error,error:getInternalRouterError(404,{pathname:Sn.path})})]),un=sn.slice(0,Gt.length),hn=sn.slice(Gt.length);return await Promise.all([resolveDeferredResults(Ft,Gt,un,un.map(()=>en.signal),!1,mt.loaderData),resolveDeferredResults(Ft,Qt.map(Sn=>Sn.match),hn,Qt.map(Sn=>Sn.controller?Sn.controller.signal:null),!0)]),{results:sn,loaderResults:un,fetcherResults:hn}}function Jn(){St=!0,Ct.push(...Tr()),Mt.forEach((Ft,Bt)=>{$t.has(Bt)&&(At.push(Bt),Gn(Bt))})}function dr(Ft,Bt,Gt){let Qt=findNearestBoundary(mt.matches,Bt);or(Ft),_n({errors:{[Qt.route.id]:Gt},fetchers:new Map(mt.fetchers)})}function or(Ft){let Bt=mt.fetchers.get(Ft);$t.has(Ft)&&!(Bt&&Bt.state==="loading"&&Lt.has(Ft))&&Gn(Ft),Mt.delete(Ft),Lt.delete(Ft),Dt.delete(Ft),mt.fetchers.delete(Ft)}function Gn(Ft){let Bt=$t.get(Ft);invariant(Bt,"Expected fetch controller: "+Ft),Bt.abort(),$t.delete(Ft)}function rr(Ft){for(let Bt of Ft){let Qt={state:"idle",data:xn(Bt).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};mt.fetchers.set(Bt,Qt)}}function Qn(){let Ft=[],Bt=!1;for(let Gt of Dt){let Qt=mt.fetchers.get(Gt);invariant(Qt,"Expected fetcher: "+Gt),Qt.state==="loading"&&(Dt.delete(Gt),Ft.push(Gt),Bt=!0)}return rr(Ft),Bt}function ar(Ft){let Bt=[];for(let[Gt,Qt]of Lt)if(Qt<Ft){let en=mt.fetchers.get(Gt);invariant(en,"Expected fetcher: "+Gt),en.state==="loading"&&(Gn(Gt),Lt.delete(Gt),Bt.push(Gt))}return rr(Bt),Bt.length>0}function On(Ft,Bt){let Gt=mt.blockers.get(Ft)||IDLE_BLOCKER;return Kt.get(Ft)!==Bt&&Kt.set(Ft,Bt),Gt}function Nn(Ft){mt.blockers.delete(Ft),Kt.delete(Ft)}function pr(Ft,Bt){let Gt=mt.blockers.get(Ft)||IDLE_BLOCKER;invariant(Gt.state==="unblocked"&&Bt.state==="blocked"||Gt.state==="blocked"&&Bt.state==="blocked"||Gt.state==="blocked"&&Bt.state==="proceeding"||Gt.state==="blocked"&&Bt.state==="unblocked"||Gt.state==="proceeding"&&Bt.state==="unblocked","Invalid blocker state transition: "+Gt.state+" -> "+Bt.state),mt.blockers.set(Ft,Bt),_n({blockers:new Map(mt.blockers)})}function lr(Ft){let{currentLocation:Bt,nextLocation:Gt,historyAction:Qt}=Ft;if(Kt.size===0)return;Kt.size>1&&warning$3(!1,"A router only supports one blocker at a time");let en=Array.from(Kt.entries()),[sn,un]=en[en.length-1],hn=mt.blockers.get(sn);if(!(hn&&hn.state==="proceeding")&&un({currentLocation:Bt,nextLocation:Gt,historyAction:Qt}))return sn}function Tr(Ft){let Bt=[];return Vt.forEach((Gt,Qt)=>{(!Ft||Ft(Qt))&&(Gt.cancel(),Bt.push(Qt),Vt.delete(Qt))}),Bt}function Br(Ft,Bt,Gt){if(_=Ft,nt=Bt,tt=Gt||(Qt=>Qt.key),!st&&mt.navigation===IDLE_NAVIGATION){st=!0;let Qt=Jr(mt.location,mt.matches);Qt!=null&&_n({restoreScrollPosition:Qt})}return()=>{_=null,nt=null,tt=null}}function jr(Ft,Bt){if(_&&tt&&nt){let Gt=Bt.map(en=>createUseMatchesMatch(en,mt.loaderData)),Qt=tt(Ft,Gt)||Ft.key;_[Qt]=nt()}}function Jr(Ft,Bt){if(_&&tt&&nt){let Gt=Bt.map(sn=>createUseMatchesMatch(sn,mt.loaderData)),Qt=tt(Ft,Gt)||Ft.key,en=_[Qt];if(typeof en=="number")return en}return null}function Xn(Ft){et={},rt=convertRoutesToDataRoutes(Ft,$,void 0,et)}return pt={get basename(){return ot},get state(){return mt},get routes(){return _e},initialize:Jt,subscribe:wn,enableScrollRestoration:Br,navigate:Cn,fetch:Bn,revalidate:Ht,createHref:Ft=>o.history.createHref(Ft),encodeLocation:Ft=>o.history.encodeLocation(Ft),getFetcher:xn,deleteFetcher:or,dispose:ln,getBlocker:On,deleteBlocker:Nn,_internalFetchControllers:$t,_internalActiveDeferreds:Vt,_internalSetRoutes:Xn},pt}function isSubmissionNavigation(o){return o!=null&&"formData"in o}function normalizeTo(o,i,a,s,$,et,_e){let rt,ot;if(et!=null&&_e!=="path"){rt=[];for(let at of i)if(rt.push(at),at.route.id===et){ot=at;break}}else rt=i,ot=i[i.length-1];let it=resolveTo($||".",getPathContributingMatches(rt).map(at=>at.pathnameBase),stripBasename(o.pathname,a)||o.pathname,_e==="path");return $==null&&(it.search=o.search,it.hash=o.hash),($==null||$===""||$===".")&&ot&&ot.route.index&&!hasNakedIndexQuery(it.search)&&(it.search=it.search?it.search.replace(/^\?/,"?index&"):"?index"),s&&a!=="/"&&(it.pathname=it.pathname==="/"?a:joinPaths([a,it.pathname])),createPath(it)}function normalizeNavigateOptions(o,i,a,s){if(!s||!isSubmissionNavigation(s))return{path:a};if(s.formMethod&&!isValidMethod(s.formMethod))return{path:a,error:getInternalRouterError(405,{method:s.formMethod})};let $;if(s.formData){let rt=s.formMethod||"get";if($={formMethod:o?rt.toUpperCase():rt.toLowerCase(),formAction:stripHashFromPath(a),formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:s.formData},isMutationMethod($.formMethod))return{path:a,submission:$}}let et=parsePath(a),_e=convertFormDataToSearchParams(s.formData);return i&&et.search&&hasNakedIndexQuery(et.search)&&_e.append("index",""),et.search="?"+_e,{path:createPath(et),submission:$}}function getLoaderMatchesUntilBoundary(o,i){let a=o;if(i){let s=o.findIndex($=>$.route.id===i);s>=0&&(a=o.slice(0,s))}return a}function getMatchesToLoad(o,i,a,s,$,et,_e,rt,ot,it,at,j,_){let tt=_?Object.values(_)[0]:j?Object.values(j)[0]:void 0,nt=o.createURL(i.location),st=o.createURL($),dt=_?Object.keys(_)[0]:void 0,gt=getLoaderMatchesUntilBoundary(a,dt).filter((mt,vt)=>{if(mt.route.lazy)return!0;if(mt.route.loader==null)return!1;if(isNewLoader(i.loaderData,i.matches[vt],mt)||_e.some(wt=>wt===mt.route.id))return!0;let yt=i.matches[vt],xt=mt;return shouldRevalidateLoader(mt,_extends$4({currentUrl:nt,currentParams:yt.params,nextUrl:st,nextParams:xt.params},s,{actionResult:tt,defaultShouldRevalidate:et||nt.pathname+nt.search===st.pathname+st.search||nt.search!==st.search||isNewRouteInstance(yt,xt)}))}),pt=[];return ot.forEach((mt,vt)=>{if(!a.some(St=>St.route.id===mt.routeId))return;let yt=matchRoutes(it,mt.path,at);if(!yt){pt.push({key:vt,routeId:mt.routeId,path:mt.path,matches:null,match:null,controller:null});return}let xt=getTargetMatch(yt,mt.path);if(rt.includes(vt)){pt.push({key:vt,routeId:mt.routeId,path:mt.path,matches:yt,match:xt,controller:new AbortController});return}shouldRevalidateLoader(xt,_extends$4({currentUrl:nt,currentParams:i.matches[i.matches.length-1].params,nextUrl:st,nextParams:a[a.length-1].params},s,{actionResult:tt,defaultShouldRevalidate:et}))&&pt.push({key:vt,routeId:mt.routeId,path:mt.path,matches:yt,match:xt,controller:new AbortController})}),[gt,pt]}function isNewLoader(o,i,a){let s=!i||a.route.id!==i.route.id,$=o[a.route.id]===void 0;return s||$}function isNewRouteInstance(o,i){let a=o.route.path;return o.pathname!==i.pathname||a!=null&&a.endsWith("*")&&o.params["*"]!==i.params["*"]}function shouldRevalidateLoader(o,i){if(o.route.shouldRevalidate){let a=o.route.shouldRevalidate(i);if(typeof a=="boolean")return a}return i.defaultShouldRevalidate}async function loadLazyRouteModule(o,i,a){if(!o.lazy)return;let s=await o.lazy();if(!o.lazy)return;let $=a[o.id];invariant($,"No route found in manifest");let et={};for(let _e in s){let ot=$[_e]!==void 0&&_e!=="hasErrorBoundary";warning$3(!ot,'Route "'+$.id+'" has a static property "'+_e+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+_e+'" will be ignored.')),!ot&&!immutableRouteKeys.has(_e)&&(et[_e]=s[_e])}Object.assign($,et),Object.assign($,_extends$4({},i($),{lazy:void 0}))}async function callLoaderOrAction(o,i,a,s,$,et,_e,rt,ot,it){rt===void 0&&(rt=!1),ot===void 0&&(ot=!1);let at,j,_,tt=dt=>{let ft,gt=new Promise((pt,mt)=>ft=mt);return _=()=>ft(),i.signal.addEventListener("abort",_),Promise.race([dt({request:i,params:a.params,context:it}),gt])};try{let dt=a.route[o];if(a.route.lazy)if(dt)j=(await Promise.all([tt(dt),loadLazyRouteModule(a.route,et,$)]))[0];else if(await loadLazyRouteModule(a.route,et,$),dt=a.route[o],dt)j=await tt(dt);else if(o==="action"){let ft=new URL(i.url),gt=ft.pathname+ft.search;throw getInternalRouterError(405,{method:i.method,pathname:gt,routeId:a.route.id})}else return{type:ResultType.data,data:void 0};else if(dt)j=await tt(dt);else{let ft=new URL(i.url),gt=ft.pathname+ft.search;throw getInternalRouterError(404,{pathname:gt})}invariant(j!==void 0,"You defined "+(o==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+o+"` ")+"function. Please return a value or `null`.")}catch(dt){at=ResultType.error,j=dt}finally{_&&i.signal.removeEventListener("abort",_)}if(isResponse(j)){let dt=j.status;if(redirectStatusCodes.has(dt)){let pt=j.headers.get("Location");if(invariant(pt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(pt))pt=normalizeTo(new URL(i.url),s.slice(0,s.indexOf(a)+1),_e,!0,pt);else if(!rt){let mt=new URL(i.url),vt=pt.startsWith("//")?new URL(mt.protocol+pt):new URL(pt),yt=stripBasename(vt.pathname,_e)!=null;vt.origin===mt.origin&&yt&&(pt=vt.pathname+vt.search+vt.hash)}if(rt)throw j.headers.set("Location",pt),j;return{type:ResultType.redirect,status:dt,location:pt,revalidate:j.headers.get("X-Remix-Revalidate")!==null}}if(ot)throw{type:at||ResultType.data,response:j};let ft,gt=j.headers.get("Content-Type");return gt&&/\bapplication\/json\b/.test(gt)?ft=await j.json():ft=await j.text(),at===ResultType.error?{type:at,error:new ErrorResponse(dt,j.statusText,ft),headers:j.headers}:{type:ResultType.data,data:ft,statusCode:j.status,headers:j.headers}}if(at===ResultType.error)return{type:at,error:j};if(isDeferredData(j)){var nt,st;return{type:ResultType.deferred,deferredData:j,statusCode:(nt=j.init)==null?void 0:nt.status,headers:((st=j.init)==null?void 0:st.headers)&&new Headers(j.init.headers)}}return{type:ResultType.data,data:j}}function createClientSideRequest(o,i,a,s){let $=o.createURL(stripHashFromPath(i)).toString(),et={signal:a};if(s&&isMutationMethod(s.formMethod)){let{formMethod:_e,formEncType:rt,formData:ot}=s;et.method=_e.toUpperCase(),et.body=rt==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(ot):ot}return new Request($,et)}function convertFormDataToSearchParams(o){let i=new URLSearchParams;for(let[a,s]of o.entries())i.append(a,s instanceof File?s.name:s);return i}function processRouteLoaderData(o,i,a,s,$){let et={},_e=null,rt,ot=!1,it={};return a.forEach((at,j)=>{let _=i[j].route.id;if(invariant(!isRedirectResult(at),"Cannot handle redirect results in processLoaderData"),isErrorResult(at)){let tt=findNearestBoundary(o,_),nt=at.error;s&&(nt=Object.values(s)[0],s=void 0),_e=_e||{},_e[tt.route.id]==null&&(_e[tt.route.id]=nt),et[_]=void 0,ot||(ot=!0,rt=isRouteErrorResponse(at.error)?at.error.status:500),at.headers&&(it[_]=at.headers)}else isDeferredResult(at)?($.set(_,at.deferredData),et[_]=at.deferredData.data):et[_]=at.data,at.statusCode!=null&&at.statusCode!==200&&!ot&&(rt=at.statusCode),at.headers&&(it[_]=at.headers)}),s&&(_e=s,et[Object.keys(s)[0]]=void 0),{loaderData:et,errors:_e,statusCode:rt||200,loaderHeaders:it}}function processLoaderData(o,i,a,s,$,et,_e,rt){let{loaderData:ot,errors:it}=processRouteLoaderData(i,a,s,$,rt);for(let at=0;at<et.length;at++){let{key:j,match:_,controller:tt}=et[at];invariant(_e!==void 0&&_e[at]!==void 0,"Did not find corresponding fetcher result");let nt=_e[at];if(!(tt&&tt.signal.aborted))if(isErrorResult(nt)){let st=findNearestBoundary(o.matches,_==null?void 0:_.route.id);it&&it[st.route.id]||(it=_extends$4({},it,{[st.route.id]:nt.error})),o.fetchers.delete(j)}else if(isRedirectResult(nt))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(nt))invariant(!1,"Unhandled fetcher deferred data");else{let st={state:"idle",data:nt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};o.fetchers.set(j,st)}}return{loaderData:ot,errors:it}}function mergeLoaderData(o,i,a,s){let $=_extends$4({},i);for(let et of a){let _e=et.route.id;if(i.hasOwnProperty(_e)?i[_e]!==void 0&&($[_e]=i[_e]):o[_e]!==void 0&&et.route.loader&&($[_e]=o[_e]),s&&s.hasOwnProperty(_e))break}return $}function findNearestBoundary(o,i){return(i?o.slice(0,o.findIndex(s=>s.route.id===i)+1):[...o]).reverse().find(s=>s.route.hasErrorBoundary===!0)||o[0]}function getShortCircuitMatches(o){let i=o.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function getInternalRouterError(o,i){let{pathname:a,routeId:s,method:$,type:et}=i===void 0?{}:i,_e="Unknown Server Error",rt="Unknown @remix-run/router error";return o===400?(_e="Bad Request",$&&a&&s?rt="You made a "+$+' request to "'+a+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":et==="defer-action"&&(rt="defer() is not supported in actions")):o===403?(_e="Forbidden",rt='Route "'+s+'" does not match URL "'+a+'"'):o===404?(_e="Not Found",rt='No route matches URL "'+a+'"'):o===405&&(_e="Method Not Allowed",$&&a&&s?rt="You made a "+$.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":$&&(rt='Invalid request method "'+$.toUpperCase()+'"')),new ErrorResponse(o||500,_e,new Error(rt),!0)}function findRedirect(o){for(let i=o.length-1;i>=0;i--){let a=o[i];if(isRedirectResult(a))return a}}function stripHashFromPath(o){let i=typeof o=="string"?parsePath(o):o;return createPath(_extends$4({},i,{hash:""}))}function isHashChangeOnly(o,i){return o.pathname!==i.pathname||o.search!==i.search?!1:o.hash===""?i.hash!=="":o.hash===i.hash?!0:i.hash!==""}function isDeferredResult(o){return o.type===ResultType.deferred}function isErrorResult(o){return o.type===ResultType.error}function isRedirectResult(o){return(o&&o.type)===ResultType.redirect}function isDeferredData(o){let i=o;return i&&typeof i=="object"&&typeof i.data=="object"&&typeof i.subscribe=="function"&&typeof i.cancel=="function"&&typeof i.resolveData=="function"}function isResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.headers=="object"&&typeof o.body<"u"}function isValidMethod(o){return validRequestMethods.has(o.toLowerCase())}function isMutationMethod(o){return validMutationMethods.has(o.toLowerCase())}async function resolveDeferredResults(o,i,a,s,$,et){for(let _e=0;_e<a.length;_e++){let rt=a[_e],ot=i[_e];if(!ot)continue;let it=o.find(j=>j.route.id===ot.route.id),at=it!=null&&!isNewRouteInstance(it,ot)&&(et&&et[ot.route.id])!==void 0;if(isDeferredResult(rt)&&($||at)){let j=s[_e];invariant(j,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(rt,j,$).then(_=>{_&&(a[_e]=_||a[_e])})}}}async function resolveDeferredData(o,i,a){if(a===void 0&&(a=!1),!await o.deferredData.resolveData(i)){if(a)try{return{type:ResultType.data,data:o.deferredData.unwrappedData}}catch($){return{type:ResultType.error,error:$}}return{type:ResultType.data,data:o.deferredData.data}}}function hasNakedIndexQuery(o){return new URLSearchParams(o).getAll("index").some(i=>i==="")}function createUseMatchesMatch(o,i){let{route:a,pathname:s,params:$}=o;return{id:a.id,pathname:s,params:$,data:i[a.id],handle:a.handle}}function getTargetMatch(o,i){let a=typeof i=="string"?parsePath(i).search:i.search;if(o[o.length-1].route.index&&hasNakedIndexQuery(a||""))return o[o.length-1];let s=getPathContributingMatches(o);return s[s.length-1]}/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$3.apply(this,arguments)}const START_TRANSITION="startTransition";var startTransitionImpl=React$1[START_TRANSITION];const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:i,navigator:a}=reactExports.useContext(NavigationContext),{matches:s}=reactExports.useContext(RouteContext),{pathname:$}=useLocation(),et=JSON.stringify(getPathContributingMatches(s).map(ot=>ot.pathnameBase)),_e=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{_e.current=!0}),reactExports.useCallback(function(ot,it){if(it===void 0&&(it={}),!_e.current)return;if(typeof ot=="number"){a.go(ot);return}let at=resolveTo(ot,JSON.parse(et),$,it.relative==="path");o==null&&i!=="/"&&(at.pathname=at.pathname==="/"?i:joinPaths([i,at.pathname])),(it.replace?a.replace:a.push)(at,it.state,it)},[i,a,et,$,o])}function useRoutesImpl(o,i,a){useInRouterContext()||invariant(!1);let{navigator:s}=reactExports.useContext(NavigationContext),{matches:$}=reactExports.useContext(RouteContext),et=$[$.length-1],_e=et?et.params:{};et&&et.pathname;let rt=et?et.pathnameBase:"/";et&&et.route;let ot=useLocation(),it;if(i){var at;let st=typeof i=="string"?parsePath(i):i;rt==="/"||(at=st.pathname)!=null&&at.startsWith(rt)||invariant(!1),it=st}else it=ot;let j=it.pathname||"/",_=rt==="/"?j:j.slice(rt.length)||"/",tt=matchRoutes(o,{pathname:_}),nt=_renderMatches(tt&&tt.map(st=>Object.assign({},st,{params:Object.assign({},_e,st.params),pathname:joinPaths([rt,s.encodeLocation?s.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?rt:joinPaths([rt,s.encodeLocation?s.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),$,a);return i&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},it),navigationType:Action.Pop}},nt):nt}function DefaultErrorComponent(){let o=useRouteError(),i=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,$={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},et=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),a?reactExports.createElement("pre",{style:$},a):null,et)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:i,match:a,children:s}=o,$=reactExports.useContext(DataRouterContext);return $&&$.static&&$.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&($.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:i},s)}function _renderMatches(o,i,a){var s;if(i===void 0&&(i=[]),a===void 0&&(a=null),o==null){var $;if(($=a)!=null&&$.errors)o=a.matches;else return null}let et=o,_e=(s=a)==null?void 0:s.errors;if(_e!=null){let rt=et.findIndex(ot=>ot.route.id&&(_e==null?void 0:_e[ot.route.id]));rt>=0||invariant(!1),et=et.slice(0,Math.min(et.length,rt+1))}return et.reduceRight((rt,ot,it)=>{let at=ot.route.id?_e==null?void 0:_e[ot.route.id]:null,j=null;a&&(j=ot.route.errorElement||defaultErrorElement);let _=i.concat(et.slice(0,it+1)),tt=()=>{let nt;return at?nt=j:ot.route.Component?nt=reactExports.createElement(ot.route.Component,null):ot.route.element?nt=ot.route.element:nt=rt,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:rt,matches:_,isDataRoute:a!=null},children:nt})};return a&&(ot.route.ErrorBoundary||ot.route.errorElement||it===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:j,error:at,children:tt(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):tt()},null)}var DataRouterHook$1;(function(o){o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(o){o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(o){let i=reactExports.useContext(DataRouterContext);return i||invariant(!1),i}function useDataRouterState(o){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(o){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(o){let i=useRouteContext(),a=i.matches[i.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var o;let i=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),s=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i||((o=a.errors)==null?void 0:o[s])}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{a.current=!0}),reactExports.useCallback(function($,et){et===void 0&&(et={}),a.current&&(typeof $=="number"?o.navigate($):o.navigate($,_extends$3({fromRouteId:i},et)))},[o,i])}function RouterProvider(o){let{fallbackElement:i,router:a,future:s}=o,[$,et]=reactExports.useState(a.state),{v7_startTransition:_e}=s||{},rt=reactExports.useCallback(j=>{_e&&startTransitionImpl?startTransitionImpl(()=>et(j)):et(j)},[et,_e]);reactExports.useLayoutEffect(()=>a.subscribe(rt),[a,rt]);let ot=reactExports.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:j=>a.navigate(j),push:(j,_,tt)=>a.navigate(j,{state:_,preventScrollReset:tt==null?void 0:tt.preventScrollReset}),replace:(j,_,tt)=>a.navigate(j,{replace:!0,state:_,preventScrollReset:tt==null?void 0:tt.preventScrollReset})}),[a]),it=a.basename||"/",at=reactExports.useMemo(()=>({router:a,navigator:ot,static:!1,basename:it}),[a,ot,it]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:at},reactExports.createElement(DataRouterStateContext.Provider,{value:$},reactExports.createElement(Router,{basename:it,location:$.location,navigationType:$.historyAction,navigator:ot},$.initialized?reactExports.createElement(DataRoutes,{routes:a.routes,state:$}):i))),null)}function DataRoutes(o){let{routes:i,state:a}=o;return useRoutesImpl(i,void 0,a)}function Router(o){let{basename:i="/",children:a=null,location:s,navigationType:$=Action.Pop,navigator:et,static:_e=!1}=o;useInRouterContext()&&invariant(!1);let rt=i.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:rt,navigator:et,static:_e}),[rt,et,_e]);typeof s=="string"&&(s=parsePath(s));let{pathname:it="/",search:at="",hash:j="",state:_=null,key:tt="default"}=s,nt=reactExports.useMemo(()=>{let st=stripBasename(it,rt);return st==null?null:{location:{pathname:st,search:at,hash:j,state:_,key:tt},navigationType:$}},[rt,it,at,j,_,tt,$]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:a,value:nt}))}var AwaitRenderStatus;(function(o){o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function mapRouteProperties(o){let i={hasErrorBoundary:o.ErrorBoundary!=null||o.errorElement!=null};return o.Component&&Object.assign(i,{element:reactExports.createElement(o.Component),Component:void 0}),o.ErrorBoundary&&Object.assign(i,{errorElement:reactExports.createElement(o.ErrorBoundary),ErrorBoundary:void 0}),i}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$2.apply(this,arguments)}function createBrowserRouter(o,i){return createRouter({basename:i==null?void 0:i.basename,future:_extends$2({},i==null?void 0:i.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:i==null?void 0:i.window}),hydrationData:(i==null?void 0:i.hydrationData)||parseHydrationData(),routes:o,mapRouteProperties}).initialize()}function parseHydrationData(){var o;let i=(o=window)==null?void 0:o.__staticRouterHydrationData;return i&&i.errors&&(i=_extends$2({},i,{errors:deserializeErrors(i.errors)})),i}function deserializeErrors(o){if(!o)return null;let i=Object.entries(o),a={};for(let[s,$]of i)if($&&$.__type==="RouteErrorResponse")a[s]=new ErrorResponse($.status,$.statusText,$.data,$.internal===!0);else if($&&$.__type==="Error"){let et=new Error($.message);et.stack="",a[s]=et}else a[s]=$;return a}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmitImpl="useSubmitImpl",o.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.15.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,i){module.exports=i()})(self,()=>(()=>{var __webpack_modules__={8453:(o,i,a)=>{a.r(i),a.d(i,{InferenceSession:()=>tt,Tensor:()=>j,env:()=>_e,registerBackend:()=>et});const s={},$=[],et=(nt,st,dt)=>{if(!st||typeof st.init!="function"||typeof st.createSessionHandler!="function")throw new TypeError("not a valid backend");{const ft=s[nt];if(ft===void 0)s[nt]={backend:st,priority:dt};else{if(ft.priority>dt)return;if(ft.priority===dt&&ft.backend!==st)throw new Error(`cannot register backend "${nt}" using priority ${dt}`)}if(dt>=0){const gt=$.indexOf(nt);gt!==-1&&$.splice(gt,1);for(let pt=0;pt<$.length;pt++)if(s[$[pt]].priority<=dt)return void $.splice(pt,0,nt);$.push(nt)}}},_e=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(nt){if(nt!==void 0){if(typeof nt!="string"||["verbose","info","warning","error","fatal"].indexOf(nt)===-1)throw new Error(`Unsupported logging level: ${nt}`);this.logLevelInternal=nt}}get logLevel(){return this.logLevelInternal}},rt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ot=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let it=!1;class at{constructor(st,dt,ft){let gt,pt,mt;if((()=>{if(!it){it=!0;const yt=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",xt=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";yt&&(rt.set("int64",BigInt64Array),ot.set(BigInt64Array,"int64")),xt&&(rt.set("uint64",BigUint64Array),ot.set(BigUint64Array,"uint64"))}})(),typeof st=="string")if(gt=st,mt=ft,st==="string"){if(!Array.isArray(dt))throw new TypeError("A string tensor's data must be a string array.");pt=dt}else{const yt=rt.get(st);if(yt===void 0)throw new TypeError(`Unsupported tensor type: ${st}.`);if(Array.isArray(dt))pt=yt.from(dt);else{if(!(dt instanceof yt))throw new TypeError(`A ${gt} tensor's data must be type of ${yt}`);pt=dt}}else if(mt=dt,Array.isArray(st)){if(st.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const yt=typeof st[0];if(yt==="string")gt="string",pt=st;else{if(yt!=="boolean")throw new TypeError(`Invalid element type of data array: ${yt}.`);gt="bool",pt=Uint8Array.from(st)}}else{const yt=ot.get(st.constructor);if(yt===void 0)throw new TypeError(`Unsupported type for tensor data: ${st.constructor}.`);gt=yt,pt=st}if(mt===void 0)mt=[pt.length];else if(!Array.isArray(mt))throw new TypeError("A tensor's dims must be a number array");const vt=(yt=>{let xt=1;for(let wt=0;wt<yt.length;wt++){const St=yt[wt];if(typeof St!="number"||!Number.isSafeInteger(St))throw new TypeError(`dims[${wt}] must be an integer, got: ${St}`);if(St<0)throw new RangeError(`dims[${wt}] must be a non-negative integer, got: ${St}`);xt*=St}return xt})(mt);if(vt!==pt.length)throw new Error(`Tensor's size(${vt}) does not match data length(${pt.length}).`);this.dims=mt,this.type=gt,this.data=pt,this.size=vt}static bufferToTensor(st,dt){if(st===void 0)throw new Error("Image buffer must be defined");if(dt.height===void 0||dt.width===void 0)throw new Error("Image height and width must be defined");if(dt.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:ft,width:gt}=dt,pt=dt.norm??{mean:255,bias:0};let mt,vt;mt=typeof pt.mean=="number"?[pt.mean,pt.mean,pt.mean,pt.mean]:[pt.mean[0],pt.mean[1],pt.mean[2],pt.mean[3]??255],vt=typeof pt.bias=="number"?[pt.bias,pt.bias,pt.bias,pt.bias]:[pt.bias[0],pt.bias[1],pt.bias[2],pt.bias[3]??0];const yt=dt.bitmapFormat!==void 0?dt.bitmapFormat:"RGBA",xt=dt.tensorFormat!==void 0&&dt.tensorFormat!==void 0?dt.tensorFormat:"RGB",wt=ft*gt,St=xt==="RGBA"?new Float32Array(4*wt):new Float32Array(3*wt);let Ct=4,At=0,$t=1,Rt=2,kt=3,Lt=0,Dt=wt,Mt=2*wt,Vt=-1;yt==="RGB"&&(Ct=3,At=0,$t=1,Rt=2,kt=-1),xt==="RGBA"?Vt=3*wt:xt==="RBG"?(Lt=0,Mt=wt,Dt=2*wt):xt==="BGR"&&(Mt=0,Dt=wt,Lt=2*wt);for(let Kt=0;Kt<wt;Kt++,At+=Ct,Rt+=Ct,$t+=Ct,kt+=Ct)St[Lt++]=(st[At]+vt[0])/mt[0],St[Dt++]=(st[$t]+vt[1])/mt[1],St[Mt++]=(st[Rt]+vt[2])/mt[2],Vt!==-1&&kt!==-1&&(St[Vt++]=(st[kt]+vt[3])/mt[3]);return new at("float32",St,xt==="RGBA"?[1,4,ft,gt]:[1,3,ft,gt])}static async fromImage(st,dt){const ft=typeof HTMLImageElement<"u"&&st instanceof HTMLImageElement,gt=typeof ImageData<"u"&&st instanceof ImageData,pt=typeof ImageBitmap<"u"&&st instanceof ImageBitmap,mt=typeof st=="string";let vt,yt=dt??{};if(ft){const xt=document.createElement("canvas");xt.width=st.width,xt.height=st.height;const wt=xt.getContext("2d");if(wt==null)throw new Error("Can not access image data");{let St=st.height,Ct=st.width;if(dt!==void 0&&dt.resizedHeight!==void 0&&dt.resizedWidth!==void 0&&(St=dt.resizedHeight,Ct=dt.resizedWidth),dt!==void 0){if(yt=dt,dt.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(yt.tensorFormat="RGBA",dt.height!==void 0&&dt.height!==St)throw new Error("Image input config height doesn't match HTMLImageElement height");if(yt.height=St,dt.width!==void 0&&dt.width!==Ct)throw new Error("Image input config width doesn't match HTMLImageElement width");yt.width=Ct}else yt.tensorFormat="RGBA",yt.height=St,yt.width=Ct;wt.drawImage(st,0,0),vt=wt.getImageData(0,0,Ct,St).data}}else{if(!gt){if(pt){if(dt===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(dt.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const xt=document.createElement("canvas").getContext("2d");if(xt!=null){const wt=st.height,St=st.width;if(xt.drawImage(st,0,0,St,wt),vt=xt.getImageData(0,0,St,wt).data,dt!==void 0){if(dt.height!==void 0&&dt.height!==wt)throw new Error("Image input config height doesn't match ImageBitmap height");if(yt.height=wt,dt.width!==void 0&&dt.width!==St)throw new Error("Image input config width doesn't match ImageBitmap width");yt.width=St}else yt.height=wt,yt.width=St;return at.bufferToTensor(vt,yt)}throw new Error("Can not access image data")}if(mt)return new Promise((xt,wt)=>{const St=document.createElement("canvas"),Ct=St.getContext("2d");if(!st||!Ct)return wt();const At=new Image;At.crossOrigin="Anonymous",At.src=st,At.onload=()=>{St.width=At.width,St.height=At.height,Ct.drawImage(At,0,0,St.width,St.height);const $t=Ct.getImageData(0,0,St.width,St.height);if(dt!==void 0){if(dt.height!==void 0&&dt.height!==St.height)throw new Error("Image input config height doesn't match height");if(yt.height=St.height,dt.width!==void 0&&dt.width!==St.width)throw new Error("Image input config width doesn't match width");yt.width=St.width}else yt.height=St.height,yt.width=St.width;xt(at.bufferToTensor($t.data,yt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const xt="RGBA";let wt,St;if(dt!==void 0&&dt.resizedWidth!==void 0&&dt.resizedHeight!==void 0?(wt=dt.resizedHeight,St=dt.resizedWidth):(wt=st.height,St=st.width),dt!==void 0){if(yt=dt,dt.bitmapFormat!==void 0&&dt.bitmapFormat!==xt)throw new Error("Image input config format must be RGBA for ImageData");yt.bitmapFormat="RGBA"}else yt.bitmapFormat="RGBA";if(yt.height=wt,yt.width=St,dt!==void 0){const Ct=document.createElement("canvas");Ct.width=St,Ct.height=wt;const At=Ct.getContext("2d");if(At==null)throw new Error("Can not access image data");At.putImageData(st,0,0),vt=At.getImageData(0,0,St,wt).data}else vt=st.data}}if(vt!==void 0)return at.bufferToTensor(vt,yt);throw new Error("Input data provided is not supported - aborted tensor creation")}toDataURL(st){const dt=document.createElement("canvas");dt.width=this.dims[3],dt.height=this.dims[2];const ft=dt.getContext("2d");if(ft!=null){let gt,pt;(st==null?void 0:st.tensorLayout)!==void 0&&st.tensorLayout==="NHWC"?(gt=this.dims[2],pt=this.dims[3]):(gt=this.dims[3],pt=this.dims[2]);const mt=(st==null?void 0:st.format)!==void 0?st.format:"RGB",vt=st==null?void 0:st.norm;let yt,xt;vt===void 0||vt.mean===void 0?yt=[255,255,255,255]:typeof vt.mean=="number"?yt=[vt.mean,vt.mean,vt.mean,vt.mean]:(yt=[vt.mean[0],vt.mean[1],vt.mean[2],0],vt.mean[3]!==void 0&&(yt[3]=vt.mean[3])),vt===void 0||vt.bias===void 0?xt=[0,0,0,0]:typeof vt.bias=="number"?xt=[vt.bias,vt.bias,vt.bias,vt.bias]:(xt=[vt.bias[0],vt.bias[1],vt.bias[2],0],vt.bias[3]!==void 0&&(xt[3]=vt.bias[3]));const wt=pt*gt;let St=0,Ct=wt,At=2*wt,$t=-1;mt==="RGBA"?(St=0,Ct=wt,At=2*wt,$t=3*wt):mt==="RGB"?(St=0,Ct=wt,At=2*wt):mt==="RBG"&&(St=0,At=wt,Ct=2*wt);for(let Rt=0;Rt<pt;Rt++)for(let kt=0;kt<gt;kt++){const Lt=(this.data[St++]-xt[0])*yt[0],Dt=(this.data[Ct++]-xt[1])*yt[1],Mt=(this.data[At++]-xt[2])*yt[2],Vt=$t===-1?255:(this.data[$t++]-xt[3])*yt[3];ft.fillStyle="rgba("+Lt+","+Dt+","+Mt+","+Vt+")",ft.fillRect(kt,Rt,1,1)}return dt.toDataURL()}throw new Error("Can not access image data")}toImageData(st){const dt=document.createElement("canvas").getContext("2d");let ft;if(dt==null)throw new Error("Can not access image data");{let gt,pt,mt;(st==null?void 0:st.tensorLayout)!==void 0&&st.tensorLayout==="NHWC"?(gt=this.dims[2],pt=this.dims[1],mt=this.dims[3]):(gt=this.dims[3],pt=this.dims[2],mt=this.dims[1]);const vt=st!==void 0&&st.format!==void 0?st.format:"RGB",yt=st==null?void 0:st.norm;let xt,wt;yt===void 0||yt.mean===void 0?xt=[255,255,255,255]:typeof yt.mean=="number"?xt=[yt.mean,yt.mean,yt.mean,yt.mean]:(xt=[yt.mean[0],yt.mean[1],yt.mean[2],255],yt.mean[3]!==void 0&&(xt[3]=yt.mean[3])),yt===void 0||yt.bias===void 0?wt=[0,0,0,0]:typeof yt.bias=="number"?wt=[yt.bias,yt.bias,yt.bias,yt.bias]:(wt=[yt.bias[0],yt.bias[1],yt.bias[2],0],yt.bias[3]!==void 0&&(wt[3]=yt.bias[3]));const St=pt*gt;if(st!==void 0){if(st.height!==void 0&&st.height!==pt)throw new Error("Image output config height doesn't match tensor height");if(st.width!==void 0&&st.width!==gt)throw new Error("Image output config width doesn't match tensor width");if(st.format!==void 0&&mt===4&&st.format!=="RGBA"||mt===3&&st.format!=="RGB"&&st.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const Ct=4;let At=0,$t=1,Rt=2,kt=3,Lt=0,Dt=St,Mt=2*St,Vt=-1;vt==="RGBA"?(Lt=0,Dt=St,Mt=2*St,Vt=3*St):vt==="RGB"?(Lt=0,Dt=St,Mt=2*St):vt==="RBG"&&(Lt=0,Mt=St,Dt=2*St),ft=dt.createImageData(gt,pt);for(let Kt=0;Kt<pt*gt;At+=Ct,$t+=Ct,Rt+=Ct,kt+=Ct,Kt++)ft.data[At]=(this.data[Lt++]-wt[0])*xt[0],ft.data[$t]=(this.data[Dt++]-wt[1])*xt[1],ft.data[Rt]=(this.data[Mt++]-wt[2])*xt[2],ft.data[kt]=Vt===-1?255:(this.data[Vt++]-wt[3])*xt[3]}return ft}reshape(st){return new at(this.type,this.data,st)}}const j=at;class _{constructor(st){this.handler=st}async run(st,dt,ft){const gt={};let pt={};if(typeof st!="object"||st===null||st instanceof j||Array.isArray(st))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let mt=!0;if(typeof dt=="object"){if(dt===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(dt instanceof j)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(dt)){if(dt.length===0)throw new TypeError("'fetches' cannot be an empty array.");mt=!1;for(const xt of dt){if(typeof xt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(xt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${xt}.`);gt[xt]=null}if(typeof ft=="object"&&ft!==null)pt=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else{let xt=!1;const wt=Object.getOwnPropertyNames(dt);for(const St of this.outputNames)if(wt.indexOf(St)!==-1){const Ct=dt[St];(Ct===null||Ct instanceof j)&&(xt=!0,mt=!1,gt[St]=Ct)}if(xt){if(typeof ft=="object"&&ft!==null)pt=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else pt=dt}}else if(dt!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const xt of this.inputNames)if(st[xt]===void 0)throw new Error(`input '${xt}' is missing in 'feeds'.`);if(mt)for(const xt of this.outputNames)gt[xt]=null;const vt=await this.handler.run(st,gt,pt),yt={};for(const xt in vt)Object.hasOwnProperty.call(vt,xt)&&(yt[xt]=new j(vt[xt].type,vt[xt].data,vt[xt].dims));return yt}static async create(st,dt,ft,gt){let pt,mt={};if(typeof st=="string"){if(pt=st,typeof dt=="object"&&dt!==null)mt=dt;else if(dt!==void 0)throw new TypeError("'options' must be an object.")}else if(st instanceof Uint8Array){if(pt=st,typeof dt=="object"&&dt!==null)mt=dt;else if(dt!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(st instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&st instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const wt=st;let St=0,Ct=st.byteLength;if(typeof dt=="object"&&dt!==null)mt=dt;else if(typeof dt=="number"){if(St=dt,!Number.isSafeInteger(St))throw new RangeError("'byteOffset' must be an integer.");if(St<0||St>=wt.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${wt.byteLength}).`);if(Ct=st.byteLength-St,typeof ft=="number"){if(Ct=ft,!Number.isSafeInteger(Ct))throw new RangeError("'byteLength' must be an integer.");if(Ct<=0||St+Ct>wt.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${wt.byteLength-St}].`);if(typeof gt=="object"&&gt!==null)mt=gt;else if(gt!==void 0)throw new TypeError("'options' must be an object.")}else if(ft!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(dt!==void 0)throw new TypeError("'options' must be an object.");pt=new Uint8Array(wt,St,Ct)}}const vt=(mt.executionProviders||[]).map(wt=>typeof wt=="string"?wt:wt.name),yt=await(async wt=>{const St=wt.length===0?$:wt,Ct=[];for(const At of St){const $t=s[At];if($t){if($t.initialized)return $t.backend;if($t.aborted)continue;const Rt=!!$t.initPromise;try{return Rt||($t.initPromise=$t.backend.init()),await $t.initPromise,$t.initialized=!0,$t.backend}catch(kt){Rt||Ct.push({name:At,err:kt}),$t.aborted=!0}finally{delete $t.initPromise}}}throw new Error(`no available backend found. ERR: ${Ct.map(At=>`[${At.name}] ${At.err}`).join(", ")}`)})(vt),xt=await yt.createSessionHandler(pt,mt);return new _(xt)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const tt=_},5716:(o,i,a)=>{i.R=void 0;const s=a(6027),$=a(1723);i.R=new class{async init(){}async createSessionHandler(et,_e){const rt=new s.Session(_e);return await rt.loadModel(et),new $.OnnxjsSessionHandler(rt)}}},2818:(o,i,a)=>{i.c8=i.rX=void 0;const s=a(8453),$=a(5381),et=a(9544),_e=a(6640);i.rX=()=>{if((typeof s.env.wasm.initTimeout!="number"||s.env.wasm.initTimeout<0)&&(s.env.wasm.initTimeout=0),typeof s.env.wasm.simd!="boolean"&&(s.env.wasm.simd=!0),typeof s.env.wasm.proxy!="boolean"&&(s.env.wasm.proxy=!1),typeof s.env.wasm.numThreads!="number"||!Number.isInteger(s.env.wasm.numThreads)||s.env.wasm.numThreads<=0){const rt=typeof navigator>"u"?(0,$.cpus)().length:navigator.hardwareConcurrency;s.env.wasm.numThreads=Math.min(4,Math.ceil((rt||1)/2))}},i.c8=new class{async init(){(0,i.rX)(),await(0,et.initWasm)()}async createSessionHandler(rt,ot){const it=new _e.OnnxruntimeWebAssemblySessionHandler;return await it.loadModel(rt,ot),Promise.resolve(it)}}},1057:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(_e,rt,ot,it){it===void 0&&(it=ot);var at=Object.getOwnPropertyDescriptor(rt,ot);at&&!("get"in at?!rt.__esModule:at.writable||at.configurable)||(at={enumerable:!0,get:function(){return rt[ot]}}),Object.defineProperty(_e,it,at)}:function(_e,rt,ot,it){it===void 0&&(it=ot),_e[it]=rt[ot]}),$=this&&this.__exportStar||function(_e,rt){for(var ot in _e)ot==="default"||Object.prototype.hasOwnProperty.call(rt,ot)||s(rt,_e,ot)};Object.defineProperty(i,"__esModule",{value:!0}),$(a(8453),i);const et=a(8453);{const _e=a(5716).R;(0,et.registerBackend)("webgl",_e,-10)}{const _e=a(2818).c8;(0,et.registerBackend)("cpu",_e,10),(0,et.registerBackend)("wasm",_e,10),(0,et.registerBackend)("xnnpack",_e,9)}},4910:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createAttributeWithCacheKey=void 0;class a{constructor($){Object.assign(this,$)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map($=>`${this[$]}`).join(";")),this._cacheKey}}i.createAttributeWithCacheKey=s=>new a(s)},6874:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Attribute=void 0;const s=a(1446),$=a(1287),et=a(9240),_e=a(7273);var rt=$.onnxruntime.experimental.fbs;class ot{constructor(at){if(this._attributes=new Map,at!=null){for(const j of at)j instanceof s.onnx.AttributeProto?this._attributes.set(j.name,[ot.getValue(j),ot.getType(j)]):j instanceof rt.Attribute&&this._attributes.set(j.name(),[ot.getValue(j),ot.getType(j)]);if(this._attributes.size<at.length)throw new Error("duplicated attribute names")}}set(at,j,_){this._attributes.set(at,[_,j])}delete(at){this._attributes.delete(at)}getFloat(at,j){return this.get(at,"float",j)}getInt(at,j){return this.get(at,"int",j)}getString(at,j){return this.get(at,"string",j)}getTensor(at,j){return this.get(at,"tensor",j)}getFloats(at,j){return this.get(at,"floats",j)}getInts(at,j){return this.get(at,"ints",j)}getStrings(at,j){return this.get(at,"strings",j)}getTensors(at,j){return this.get(at,"tensors",j)}get(at,j,_){const tt=this._attributes.get(at);if(tt===void 0){if(_!==void 0)return _;throw new Error(`required attribute not found: ${at}`)}if(tt[1]!==j)throw new Error(`type mismatch: expected ${j} but got ${tt[1]}`);return tt[0]}static getType(at){const j=at instanceof s.onnx.AttributeProto?at.type:at.type();switch(j){case s.onnx.AttributeProto.AttributeType.FLOAT:return"float";case s.onnx.AttributeProto.AttributeType.INT:return"int";case s.onnx.AttributeProto.AttributeType.STRING:return"string";case s.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case s.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case s.onnx.AttributeProto.AttributeType.INTS:return"ints";case s.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case s.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${s.onnx.AttributeProto.AttributeType[j]}`)}}static getValue(at){const j=at instanceof s.onnx.AttributeProto?at.type:at.type();if(j===s.onnx.AttributeProto.AttributeType.GRAPH||j===s.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const _=this.getValueNoCheck(at);if(j===s.onnx.AttributeProto.AttributeType.INT&&_e.LongUtil.isLong(_))return _e.LongUtil.longToNumber(_);if(j===s.onnx.AttributeProto.AttributeType.INTS){const tt=_,nt=new Array(tt.length);for(let st=0;st<tt.length;st++){const dt=tt[st];nt[st]=_e.LongUtil.longToNumber(dt)}return nt}if(j===s.onnx.AttributeProto.AttributeType.TENSOR)return at instanceof s.onnx.AttributeProto?et.Tensor.fromProto(_):et.Tensor.fromOrtTensor(_);if(j===s.onnx.AttributeProto.AttributeType.TENSORS){if(at instanceof s.onnx.AttributeProto)return _.map(tt=>et.Tensor.fromProto(tt));if(at instanceof rt.Attribute)return _.map(tt=>et.Tensor.fromOrtTensor(tt))}if(j===s.onnx.AttributeProto.AttributeType.STRING&&at instanceof s.onnx.AttributeProto){const tt=_;return(0,_e.decodeUtf8String)(tt)}return j===s.onnx.AttributeProto.AttributeType.STRINGS&&at instanceof s.onnx.AttributeProto?_.map(_e.decodeUtf8String):_}static getValueNoCheck(at){return at instanceof s.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(at):this.getValueNoCheckFromOrtFormat(at)}static getValueNoCheckFromOnnxFormat(at){switch(at.type){case s.onnx.AttributeProto.AttributeType.FLOAT:return at.f;case s.onnx.AttributeProto.AttributeType.INT:return at.i;case s.onnx.AttributeProto.AttributeType.STRING:return at.s;case s.onnx.AttributeProto.AttributeType.TENSOR:return at.t;case s.onnx.AttributeProto.AttributeType.GRAPH:return at.g;case s.onnx.AttributeProto.AttributeType.FLOATS:return at.floats;case s.onnx.AttributeProto.AttributeType.INTS:return at.ints;case s.onnx.AttributeProto.AttributeType.STRINGS:return at.strings;case s.onnx.AttributeProto.AttributeType.TENSORS:return at.tensors;case s.onnx.AttributeProto.AttributeType.GRAPHS:return at.graphs;default:throw new Error(`unsupported attribute type: ${s.onnx.AttributeProto.AttributeType[at.type]}`)}}static getValueNoCheckFromOrtFormat(at){switch(at.type()){case rt.AttributeType.FLOAT:return at.f();case rt.AttributeType.INT:return at.i();case rt.AttributeType.STRING:return at.s();case rt.AttributeType.TENSOR:return at.t();case rt.AttributeType.GRAPH:return at.g();case rt.AttributeType.FLOATS:return at.floatsArray();case rt.AttributeType.INTS:{const j=[];for(let _=0;_<at.intsLength();_++)j.push(at.ints(_));return j}case rt.AttributeType.STRINGS:{const j=[];for(let _=0;_<at.stringsLength();_++)j.push(at.strings(_));return j}case rt.AttributeType.TENSORS:{const j=[];for(let _=0;_<at.tensorsLength();_++)j.push(at.tensors(_));return j}default:throw new Error(`unsupported attribute type: ${rt.AttributeType[at.type()]}`)}}}i.Attribute=ot},1975:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.resolveBackend=i.backend=void 0;const s=a(4418),$=new Map;async function et(_e){const rt=i.backend;if(rt[_e]!==void 0&&function(ot){const it=ot;return"initialize"in it&&typeof it.initialize=="function"&&"createSessionHandler"in it&&typeof it.createSessionHandler=="function"&&"dispose"in it&&typeof it.dispose=="function"}(rt[_e])){const ot=rt[_e];let it=ot.initialize();if(typeof it=="object"&&"then"in it&&(it=await it),it)return $.set(_e,ot),ot}}i.backend={webgl:new s.WebGLBackend},i.resolveBackend=async function _e(rt){if(!rt)return _e(["webgl"]);{const ot=typeof rt=="string"?[rt]:rt;for(const it of ot){const at=$.get(it);if(at)return at;const j=await et(it);if(j)return j}}throw new Error("no available backend to use")}},4418:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLBackend=void 0;const s=a(8453),$=a(1315),et=a(2171),_e=a(3389);i.WebGLBackend=class{get contextId(){return s.env.webgl.contextId}set contextId(rt){s.env.webgl.contextId=rt}get matmulMaxBatchSize(){return s.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(rt){s.env.webgl.matmulMaxBatchSize=rt}get textureCacheMode(){return s.env.webgl.textureCacheMode}set textureCacheMode(rt){s.env.webgl.textureCacheMode=rt}get pack(){return s.env.webgl.pack}set pack(rt){s.env.webgl.pack=rt}get async(){return s.env.webgl.async}set async(rt){s.env.webgl.async=rt}initialize(){try{return this.glContext=(0,_e.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),$.Logger.setWithEnv(s.env),$.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(rt){return $.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${rt}`),!1}}createSessionHandler(rt){return new et.WebGLSessionHandler(this,rt)}dispose(){this.glContext.dispose()}}},6859:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoordsGlslLib=void 0;const s=a(7273),$=a(1997),et=a(6757),_e=a(7618),rt=a(432);class ot extends $.GlslLib{constructor(at){super(at)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new $.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new $.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const at=this.context.outputTextureLayout;return at.isPacked?this.getPackedOutputSamplingSnippet(at):this.getUnpackedOutputSamplingSnippet(at)}getPackedOutputSamplingSnippet(at){const j=at.unpackedShape,_=[at.width,at.height],tt={},nt="getOutputCoords";switch(j.length){case 0:tt[nt]=this.getOutputScalarCoords();break;case 1:tt[nt]=this.getOutputPacked1DCoords(j,_);break;case 2:tt[nt]=this.getOutputPacked2DCoords(j,_);break;case 3:tt[nt]=this.getOutputPacked3DCoords(j,_);break;default:tt[nt]=this.getOutputPackedNDCoords(j,_)}const st=`
      void setOutput(vec4 val) {
        ${(0,et.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return tt.floatTextureSetRGBA=new $.GlslLibRoutine(st),tt}getUnpackedOutputSamplingSnippet(at){const j=at.unpackedShape,_=[at.width,at.height],tt={},nt="getOutputCoords";switch(j.length){case 0:tt[nt]=this.getOutputScalarCoords();break;case 1:tt[nt]=this.getOutputUnpacked1DCoords(j,_);break;case 2:tt[nt]=this.getOutputUnpacked2DCoords(j,_);break;case 3:tt[nt]=this.getOutputUnpacked3DCoords(j,_);break;case 4:tt[nt]=this.getOutputUnpacked4DCoords(j,_);break;case 5:tt[nt]=this.getOutputUnpacked5DCoords(j,_);break;case 6:tt[nt]=this.getOutputUnpacked6DCoords(j,_);break;default:throw new Error(`Unsupported output dimensionality: ${j.length}`)}const st=`
        void setOutput(float val) {
          ${(0,et.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return tt.floatTextureSetR=new $.GlslLibRoutine(st),tt}getOutputScalarCoords(){return new $.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(at,j){const _=j;let tt="";return _[0]===1?(tt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${_[1]}.0);
          }
        `,new $.GlslLibRoutine(tt)):_[1]===1?(tt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${_[0]}.0);
          }
        `,new $.GlslLibRoutine(tt)):(tt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${_[0]}, ${_[1]}));
          return 2 * (resTexRC.y * ${_[0]} + resTexRC.x);
        }
      `,new $.GlslLibRoutine(tt))}getOutputPacked2DCoords(at,j){let _="";if(s.ArrayUtil.arraysEqual(at,j))return _=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${j[0]}, ${j[1]}));
        }
      `,new $.GlslLibRoutine(_);const tt=j,nt=Math.ceil(at[1]/2);return _=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));

          int index = resTexRC.y * ${tt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${nt}) * 2;
          int c = 2 * (index / ${nt});

          return ivec2(r, c);
        }
      `,new $.GlslLibRoutine(_)}getOutputPacked3DCoords(at,j){const _=[j[0],j[1]],tt=Math.ceil(at[2]/2),nt=tt*Math.ceil(at[1]/2),st=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_[0]}, ${_[1]}));
          int index = resTexRC.y * ${_[0]} + resTexRC.x;

          int b = index / ${nt};
          index -= b * ${nt};

          // reverse r and c order for packed texture
          int r = imod(index, ${tt}) * 2;
          int c = 2 * (index / ${tt});

          return ivec3(b, r, c);
        }
      `;return new $.GlslLibRoutine(st)}getOutputPackedNDCoords(at,j){const _=[j[0],j[1]],tt=Math.ceil(at[at.length-1]/2),nt=tt*Math.ceil(at[at.length-2]/2);let st=nt,dt="",ft="b, r, c";for(let pt=2;pt<at.length-1;pt++)st*=at[at.length-pt-1],dt=`
      int b${pt} = index / ${st};
      index -= b${pt} * ${st};
    `+dt,ft=`b${pt}, `+ft;const gt=`
      ivec${at.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${_[0]}, ${_[1]}));
        int index = resTexRC.y * ${_[0]} + resTexRC.x;

        ${dt}

        int b = index / ${nt};
        index -= b * ${nt};

        // reverse r and c order for packed texture
        int r = imod(index, ${tt}) * 2;
        int c = 2 * (index / ${tt});

        return ivec${at.length}(${ft});
      }
    `;return new $.GlslLibRoutine(gt)}getOutputUnpacked1DCoords(at,j){const _=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          return resTexRC.y * ${j[0]} + resTexRC.x;
        }
      `;return new $.GlslLibRoutine(_)}getOutputUnpacked2DCoords(at,j){const _=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;
          int r = index / ${at[1]};
          int c = index - r * ${at[1]};
          return ivec2(r, c);
        }
      `;return new $.GlslLibRoutine(_)}getOutputUnpacked3DCoords(at,j){let _="";const tt=at.length;let nt=null;tt<2&&(nt=[]),nt=new Array(tt-1),nt[tt-2]=at[tt-1];for(let ft=tt-3;ft>=0;--ft)nt[ft]=nt[ft+1]*at[ft+1];const st=["r","c","d"],dt=nt.map((ft,gt)=>`int ${st[gt]} = index / ${ft}; ${gt===nt.length-1?`int ${st[gt+1]} = index - ${st[gt]} * ${ft}`:`index -= ${st[gt]} * ${ft}`};`).join("");return _=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;
          ${dt}
          return ivec3(r, c, d);
        }
      `,new $.GlslLibRoutine(_)}getOutputUnpacked4DCoords(at,j){let _="";const tt=at.length;let nt=null;tt<2&&(nt=[]),nt=new Array(tt-1),nt[tt-2]=at[tt-1];for(let ft=tt-3;ft>=0;--ft)nt[ft]=nt[ft+1]*at[ft+1];const st=["r","c","d","d2"],dt=nt.map((ft,gt)=>`int ${st[gt]} = index / ${ft}; ${gt===nt.length-1?`int ${st[gt+1]} = index - ${st[gt]} * ${ft}`:`index -= ${st[gt]} * ${ft}`};`).join("");return _=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;
          ${dt}
          return ivec4(r, c, d, d2);
        }
      `,new $.GlslLibRoutine(_)}getOutputUnpacked5DCoords(at,j){let _="";const tt=at.length;let nt=null;tt<2&&(nt=[]),nt=new Array(tt-1),nt[tt-2]=at[tt-1];for(let ft=tt-3;ft>=0;--ft)nt[ft]=nt[ft+1]*at[ft+1];const st=["r","c","d","d2","d3"],dt=nt.map((ft,gt)=>`int ${st[gt]} = index / ${ft}; ${gt===nt.length-1?`int ${st[gt+1]} = index - ${st[gt]} * ${ft}`:`index -= ${st[gt]} * ${ft}`};`).join("");return _=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${j[0]}, ${j[1]}));
          int index = resTexRC.y * ${j[0]} + resTexRC.x;
          ${dt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new $.GlslLibRoutine(_)}getOutputUnpacked6DCoords(at,j){let _="";const tt=at.length;let nt=null;tt<2&&(nt=[]),nt=new Array(tt-1),nt[tt-2]=at[tt-1];for(let ft=tt-3;ft>=0;--ft)nt[ft]=nt[ft+1]*at[ft+1];const st=["r","c","d","d2","d3","d4"],dt=nt.map((ft,gt)=>`int ${st[gt]} = index / ${ft}; ${gt===nt.length-1?`int ${st[gt+1]} = index - ${st[gt]} * ${ft}`:`index -= ${st[gt]} * ${ft}`};`).join("");return _=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${j[0]}, ${j[1]}));
         int index = resTexRC.y * ${j[0]} + resTexRC.x;
         ${dt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new $.GlslLibRoutine(_)}getCommonUtilFuncs(){const at={};let j="uvFromFlat";at[j]=new $.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),j="packedUVfrom1D",at[j]=new $.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),j="packedUVfrom2D",at[j]=new $.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),j="packedUVfrom3D",at[j]=new $.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),j="sampleTexture";const _=(0,et.getGlsl)(this.context.glContext.version);return at[j]=new $.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${_.texture2D}(textureSampler, uv).r;
        }`),at}getInputsSamplingSnippets(){const at={},j=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((_,tt)=>{const nt=this.context.inputTextureLayouts[tt],st=(0,rt.generateShaderFuncNameFromInputSamplerName)(_);nt.isPacked?at[st]=this.getPackedSamplerFromInput(st,_,nt):at[st]=this.getUnpackedSamplerFromInput(st,_,nt);const dt=(0,rt.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(_);nt.unpackedShape.length<=j.unpackedShape.length&&(nt.isPacked?at[dt]=this.getPackedSamplerAtOutputCoords(dt,nt,j,_):at[dt]=this.getUnpackedSamplerAtOutputCoords(dt,nt,j,_))}),at}getPackedSamplerAtOutputCoords(at,j,_,tt){const nt=j.unpackedShape,st=_.unpackedShape,dt=tt,ft=(0,rt.generateShaderFuncNameFromInputSamplerName)(dt),gt=nt.length,pt=st.length,mt=s.BroadcastUtil.getBroadcastDims(nt,st),vt=(0,rt.getCoordsDataType)(pt),yt=pt-gt;let xt;const wt=(0,rt.getGlChannels)();xt=gt===0?"":pt<2&&mt.length>=1?"coords = 0;":mt.map(kt=>`coords.${wt[kt+yt]} = 0;`).join(`
`);let St="";St=pt<2&&gt>0?"coords":nt.map((kt,Lt)=>`coords.${wt[Lt+yt]}`).join(", ");let Ct="return outputValue;";const At=s.ShapeUtil.size(nt)===1,$t=s.ShapeUtil.size(st)===1;if(gt!==1||At||$t){if(At&&!$t)Ct=pt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(mt.length){const kt=gt-2,Lt=gt-1;mt.indexOf(kt)>-1&&mt.indexOf(Lt)>-1?Ct="return vec4(outputValue.x);":mt.indexOf(kt)>-1?Ct="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":mt.indexOf(Lt)>-1&&(Ct="return vec4(outputValue.xx, outputValue.zz);")}}else Ct=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Rt=`
      vec4 ${at}() {
        ${vt} coords = getOutputCoords();
        
        int lastDim = coords.${wt[pt-1]};
        coords.${wt[pt-1]} = coords.${wt[pt-2]};
        coords.${wt[pt-2]} = lastDim;
      
        ${xt}
        vec4 outputValue = ${ft}(${St});
        ${Ct}
      }
    `;return new $.GlslLibRoutine(Rt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(at,j,_,tt){const nt=[_.width,_.height],st=[j.width,j.height],dt=j.unpackedShape.length,ft=_.unpackedShape.length,gt=j.unpackedShape,pt=_.unpackedShape,mt=(0,rt.generateShaderFuncNameFromInputSamplerName)(tt);if(dt===ft&&s.ArrayUtil.arraysEqual(st,nt)){const $t=`
          float ${at}() {
            return sampleTexture(${tt}, TexCoords);
          }
        `;return new $.GlslLibRoutine($t,["coordinates.sampleTexture"])}const vt=(0,rt.getCoordsDataType)(ft),yt=s.BroadcastUtil.getBroadcastDims(gt,pt),xt=ft-dt;let wt;const St=(0,rt.getGlChannels)();wt=dt===0?"":ft<2&&yt.length>=1?"coords = 0;":yt.map($t=>`coords.${St[$t+xt]} = 0;`).join(`
`);let Ct="";Ct=ft<2&&dt>0?"coords":j.unpackedShape.map(($t,Rt)=>`coords.${St[Rt+xt]}`).join(", ");const At=`
        float ${at}() {
          ${vt} coords = getOutputCoords();
          ${wt}
          return ${mt}(${Ct});
        }
      `;return new $.GlslLibRoutine(At,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(at,j,_){switch(_.unpackedShape.length){case 0:return this.getPackedSamplerScalar(at,j);case 1:return this.getPackedSampler1D(at,j,_);case 2:return this.getPackedSampler2D(at,j,_);case 3:return this.getPackedSampler3D(at,j,_);default:return this.getPackedSamplerND(at,j,_)}}getUnpackedSamplerFromInput(at,j,_){const tt=_.unpackedShape;switch(tt.length){case 0:return this.getUnpackedSamplerScalar(at,j,_);case 1:return this.getUnpackedSampler1D(at,j,_);case 2:return this.getUnpackedSampler2D(at,j,_);case 3:return this.getUnpackedSampler3D(at,j,_);case 4:return this.getUnpackedSampler4D(at,j,_);case 5:return this.getUnpackedSampler5D(at,j,_);case 6:return this.getUnpackedSampler6D(at,j,_);default:throw new Error(`Unsupported dimension ${tt.length}-D`)}}getPackedSamplerScalar(at,j){const _=`
          vec4 ${at}() {
            return ${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${j}, halfCR);
          }
        `;return new $.GlslLibRoutine(_)}getPackedSampler1D(at,j,_){const tt=[_.width,_.height],nt=[tt[1],tt[0]],st=(0,et.getGlsl)(this.context.glContext.version),dt=`vec4 ${at}(int index) {
      vec2 uv = packedUVfrom1D(
      ${nt[0]}, ${nt[1]}, index);
      return ${st.texture2D}(${j}, uv);
    }`;return new $.GlslLibRoutine(dt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(at,j,_){const tt=_.unpackedShape,nt=[_.width,_.height],st=(0,et.getGlsl)(this.context.glContext.version),dt=nt[0],ft=nt[1];if(nt!=null&&s.ArrayUtil.arraysEqual(tt,nt)){const vt=`vec4 ${at}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${ft}.0, ${dt}.0);
        return ${st.texture2D}(${j}, uv);
      }`;return new $.GlslLibRoutine(vt)}const gt=nt,pt=Math.ceil(tt[1]/2),mt=`vec4 ${at}(int row, int col) {
      vec2 uv = packedUVfrom2D(${gt[1]}, ${gt[0]}, ${pt}, row, col);
      return ${st.texture2D}(${j}, uv);
    }`;return new $.GlslLibRoutine(mt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(at,j,_){const tt=_.unpackedShape,nt=[_.width,_.height],st=[nt[0],nt[1]],dt=(0,et.getGlsl)(this.context.glContext.version);if(tt[0]===1){const vt=tt.slice(1),yt=[1,2],xt=(0,rt.squeezeInputShape)(tt,vt),wt=["b","row","col"],St=JSON.parse(JSON.stringify(_));St.unpackedShape=xt;const Ct=this.getPackedSamplerFromInput(at,j,St),At=`${Ct.routineBody}
      vec4 ${at}(int b, int row, int col) {
        return ${at}(${(0,rt.getSqueezedParams)(wt,yt)});
      } `;return new $.GlslLibRoutine(At,Ct.dependencies)}const ft=st[0],gt=st[1],pt=Math.ceil(tt[2]/2),mt=`vec4 ${at}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${gt}, ${ft}, ${pt*Math.ceil(tt[1]/2)}, ${pt}, b, row, col);
      return ${dt.texture2D}(${j}, uv);}`;return new $.GlslLibRoutine(mt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(at,j,_){const tt=_.unpackedShape,nt=tt.length,st=[_.width,_.height],dt=(0,et.getGlsl)(this.context.glContext.version),ft=[st[0],st[1]],gt=ft[1],pt=ft[0],mt=Math.ceil(tt[nt-1]/2);let vt=mt*Math.ceil(tt[nt-2]/2),yt="int b, int row, int col",xt=`b * ${vt} + (row / 2) * ${mt} + (col / 2)`;for(let St=2;St<nt-1;St++)yt=`int b${St}, `+yt,vt*=tt[nt-St-1],xt=`b${St} * ${vt} + `+xt;const wt=`vec4 ${at}(${yt}) {
      int index = ${xt};
      int texR = index / ${pt};
      int texC = index - texR * ${pt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${pt}, ${gt});
      return ${dt.texture2D}(${j}, uv);
    }`;return new $.GlslLibRoutine(wt)}getUnpackedSamplerScalar(at,j,_){const[tt,nt]=[_.width,_.height];if(tt===1&&nt===1){const dt=`
          float ${at}() {
            return sampleTexture(${j}, halfCR);
          }
        `;return new $.GlslLibRoutine(dt,["coordinates.sampleTexture"])}const st=`
        float ${at}() {
          int offset_${j} = coordsToOffset(TexCoords, ${tt}, ${nt});
          vec2 uv = uvFromFlat(${tt}, ${nt}, offset_${j});
          return sampleTexture(${j}, uv);
        }
      `;return new $.GlslLibRoutine(st,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(at,j,_){const tt=_.width,nt=_.height;if(nt===1&&tt===1){const dt=`
        float ${at}(int index) {
          return sampleTexture(${j}, halfCR);
        }
      `;return new $.GlslLibRoutine(dt,["coordinates.sampleTexture"])}if(nt===1){const dt=`
          float ${at}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${tt}.0, 0.5);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(dt,["coordinates.sampleTexture"])}if(tt===1){const dt=`
          float ${at}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${nt}.0);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(dt,["coordinates.sampleTexture"])}const st=`
        float ${at}(int index) {
          vec2 uv = uvFromFlat(${tt}, ${nt}, index);
          return sampleTexture(${j}, uv);
        }
      `;return new $.GlslLibRoutine(st,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(at,j,_){const tt=_.unpackedShape,nt=[_.height,_.width];if(nt!=null&&s.ArrayUtil.arraysEqual(tt,nt)){const vt=`
          float ${at}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${nt[1]}.0, ${nt[0]}.0);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.sampleTexture"])}const{newShape:st,keptDims:dt}=(0,_e.squeezeShape)(tt),ft=st;if(ft.length<tt.length){const vt=(0,rt.squeezeInputShape)(tt,ft),yt=JSON.parse(JSON.stringify(_));yt.unpackedShape=vt;const xt=["col","row"],wt=`
          ${this.getUnpackedSamplerFromInput(at,j,yt).routineBody}
          float ${at}(int row, int col) {
            return ${at}(${(0,rt.getSqueezedParams)(xt,dt)});
          }
        `;return new $.GlslLibRoutine(wt,["coordinates.sampleTexture"])}const gt=nt[1],pt=nt[0];if(pt===1){const vt=`
          float ${at}(int row, int col) {
            int offset_${j} = coordsToOffset(TexCoords, ${gt}, ${pt});
            float index = dot(vec3(row, col, offset_${j}), vec3(${tt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${gt}.0);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(gt===1){const vt=`
          float ${at}(int row, int col) {
            int offset_${j} = coordsToOffset(TexCoords, ${gt}, ${pt});
            float index = dot(vec3(row, col, offset_${j}), vec3(${tt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${pt}.0, 0.5);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const mt=`
        float ${at}(int row, int col) {
          int index = col * ${tt[1]} + row;
          vec2 uv = uvFromFlat(${gt}, ${pt}, index);
          return sampleTexture(${j}, uv);
        }
      `;return new $.GlslLibRoutine(mt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(at,j,_){const tt=_.unpackedShape,nt=tt[1]*tt[2],st=tt[2],{newShape:dt,keptDims:ft}=(0,_e.squeezeShape)(tt),gt=dt;if(gt.length<tt.length){const mt=(0,rt.squeezeInputShape)(tt,gt),vt=["batch","col","row"],yt=JSON.parse(JSON.stringify(_));yt.unpackedShape=mt;const xt=this.getUnpackedSamplerFromInput(at,j,yt),wt=ft.reverse(),St=`
          ${xt.routineBody}
          float ${at}(int batch, int row, int col) {
            return ${at}(${(0,rt.getSqueezedParams)(vt,wt)});
          }
        `;return new $.GlslLibRoutine(St,xt.dependencies)}const pt=`
          float ${at}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${nt} + col * ${st} + row;
            vec2 uv = uvFromFlat(${_.width}, ${_.height}, index);
            return sampleTexture(${j}, uv);
          }
      `;return new $.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(at,j,_){const tt=_.unpackedShape,nt=tt[3],st=tt[2]*nt,dt=`
        float ${at}(int row, int col, int depth, int depth2) {
          int index = row * ${tt[1]*st} + col * ${st} +
              depth2 * ${nt} + depth;
          vec2 uv = uvFromFlat(${_.width}, ${_.height}, index);
          return sampleTexture(${j}, uv);
        }
      `;return new $.GlslLibRoutine(dt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(at,j,_){const tt=_.unpackedShape,nt=tt[4],st=tt[3]*nt,dt=tt[2]*st,ft=tt[1]*dt,{newShape:gt,keptDims:pt}=(0,_e.squeezeShape)(tt);if(gt.length<tt.length){const vt=(0,rt.squeezeInputShape)(tt,gt),yt=["row","col","depth","depth2","depth3"],xt=JSON.parse(JSON.stringify(_));xt.unpackedShape=vt;const wt=`
          ${this.getUnpackedSamplerFromInput(at,j,xt).routineBody}
          float ${at}(int row, int col, int depth, int depth2, int depth3) {
            return ${at}(${(0,rt.getSqueezedParams)(yt,pt)});
          }
        `;return new $.GlslLibRoutine(wt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const mt=`
        float ${at}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${ft} + col * ${dt} + depth * ${st} +
          depth3 * ${nt} + depth2;
          vec2 uv = uvFromFlat(${_.width}, ${_.height}, index);
          return sampleTexture(${j}, uv);
        }
      `;return new $.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(at,j,_){const tt=_.unpackedShape,nt=tt[5],st=tt[4]*nt,dt=tt[3]*st,ft=tt[2]*dt,gt=tt[1]*ft,{newShape:pt,keptDims:mt}=(0,_e.squeezeShape)(tt);if(pt.length<tt.length){const yt=(0,rt.squeezeInputShape)(tt,pt),xt=["row","col","depth","depth2","depth3","depth4"],wt=JSON.parse(JSON.stringify(_));wt.unpackedShape=yt;const St=`
            ${this.getUnpackedSamplerFromInput(at,j,wt).routineBody}
            float ${at}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${at}(${(0,rt.getSqueezedParams)(xt,mt)});
            }
          `;return new $.GlslLibRoutine(St,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const vt=`
          float ${at}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${gt} + col * ${ft} + depth * ${dt} +
            depth2 * ${st} + depth3 * ${nt} + depth4;
            vec2 uv = uvFromFlat(${_.width}, ${_.height}, index);
            return sampleTexture(${j}, uv);
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const at=this.context.outputTextureLayout,j=at.shape.length,_=at.strides,tt=at.width,nt=at.height,st=[];for(let ft=0;ft<j-1;++ft)st.push(`
        c[${ft}] = offset / ${_[ft]};`),st.push(`
        offset -= c[${ft}] * ${_[ft]};`);st.push(`
        c[${j-1}] = offset;`);const dt=`
      void toVec(vec2 texCoords, out int c[${j}]) {
        int offset = coordsToOffset(texCoords, ${tt}, ${nt});
        ${st.join("")}
      }
      void toVec(int offset, out int c[${j}]) {
        ${st.join("")}
      }
    `;return{toVec:new $.GlslLibRoutine(dt,["coordinates.coordsToOffset"])}}valueFrom(){const at={};return this.context.programInfo.inputNames.forEach((j,_)=>{const tt=this.context.inputTextureLayouts[_],nt=(tt.unpackedShape.length>0?tt.unpackedShape:tt.shape).length;let st=`_${j}`;at[st]=new $.GlslLibRoutine(this.getValueFromSingle(j,nt,tt.width,tt.height,!1),[`shapeUtils.indicesToOffset${st}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),st+="_T",at[st]=new $.GlslLibRoutine(this.getValueFromSingle(j,nt,tt.width,tt.height,!0),[`shapeUtils.indicesToOffset${st}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),at}getValueFromSingle(at,j,_,tt,nt){let st=`_${at}`;return nt&&(st+="_T"),`
        float ${st}(int m[${j}]) {
          int offset = indicesToOffset${st}(m);
          vec2 coords = offsetToCoords(offset, ${_}, ${tt});
          float value = getColorAsFloat(${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${at}, coords));
          return value;
        }
        `}getPackedValueFrom(at,j,_,tt,nt){let st=`_${at}_Pack`;return nt&&(st+="_T"),`
        vec4 ${st}(int m[${j}]) {
          int offset = indicesToOffset_${at}(m);
          vec2 coords = offsetToCoords(offset, ${_}, ${tt});
          return ${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${at}, coords);
        }
        `}}i.CoordsGlslLib=ot},1997:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.TopologicalSortGlslRoutines=i.GlslLibRoutineNode=i.GlslLibRoutine=i.GlslLib=i.GlslContext=i.FunctionType=void 0,(a=i.FunctionType||(i.FunctionType={}))[a.ValueBased=0]="ValueBased",a[a.Positional=1]="Positional",i.GlslContext=class{constructor(s,$,et,_e){this.glContext=s,this.programInfo=$,this.inputTextureLayouts=et,this.outputTextureLayout=_e}},i.GlslLib=class{constructor(s){this.context=s}},i.GlslLibRoutine=class{constructor(s,$){this.routineBody=s,this.dependencies=$}},i.GlslLibRoutineNode=class{constructor(s,$,et){this.name=s,this.dependencies=et||[],$&&(this.routineBody=$)}addDependency(s){s&&this.dependencies.push(s)}},i.TopologicalSortGlslRoutines=class{static returnOrderedNodes(s){if(!s||s.length===0)return[];if(s.length===1)return s;const $=new Set,et=new Set,_e=new Array;return this.createOrderedNodes(s,$,et,_e),_e}static createOrderedNodes(s,$,et,_e){for(let rt=0;rt<s.length;++rt)this.dfsTraverse(s[rt],$,et,_e)}static dfsTraverse(s,$,et,_e){if(!s||et.has(s.name))return;if($.has(s.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");$.add(s.name);const rt=s.dependencies;if(rt&&rt.length>0)for(let ot=0;ot<rt.length;++ot)this.dfsTraverse(rt[ot],$,et,_e);_e.push(s),et.add(s.name),$.delete(s.name)}}},1371:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EncodingGlslLib=void 0;const s=a(1997);class $ extends s.GlslLib{constructor(_e){super(_e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new s.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new s.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const _e=$.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new s.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${_e}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const _e=$.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new s.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${_e}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const _e=new ArrayBuffer(4),rt=new Uint32Array(_e),ot=new Uint8Array(_e);if(rt[0]=3735928559,ot[0]===239)return!0;if(ot[0]===222)return!1;throw new Error("unknown endianness")}}i.EncodingGlslLib=$},2691:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FragColorGlslLib=void 0;const s=a(1997),$=a(6757);class et extends s.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const rt=(0,$.getGlsl)(this.context.glContext.version);return{setFragColor:new s.GlslLibRoutine(`
        void setFragColor(float value) {
            ${rt.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new s.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}i.FragColorGlslLib=et},3878:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.replaceInlines=void 0;const a=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;i.replaceInlines=function(s){const $={};let et;for(;(et=a.exec(s))!==null;){const _e=et[3].split(",").map(rt=>{const ot=rt.trim().split(" ");return ot&&ot.length===2?{type:ot[0],name:ot[1]}:null}).filter(rt=>rt!==null);$[et[2]]={params:_e,body:et[4]}}for(const _e in $){const rt="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",_e),ot=new RegExp(rt,"gm");for(;(et=ot.exec(s))!==null;){const it=et[1],at=et[2],j=et[3].split(","),_=it?`${it} ${at};`:"";let tt=$[_e].body,nt="";$[_e].params.forEach((dt,ft)=>{dt&&(nt+=`${dt.type} ${dt.name} = ${j[ft]};
`)}),tt=`${nt}
 ${tt}`,tt=tt.replace("return",`${at} = `);const st=`
      ${_}
      {
        ${tt}
      }
      `;s=s.replace(et[0],st)}}return s.replace(a,"")}},8897:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlslPreprocessor=void 0;const s=a(1997),$=a(3878),et=a(1248),_e=a(6757);i.GlslPreprocessor=class{constructor(rt,ot,it,at){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new s.GlslContext(rt,ot,it,at),Object.keys(et.glslRegistry).forEach(_=>{const tt=new et.glslRegistry[_](this.context);this.libs[_]=tt});const j=this.glslLibRoutineDependencyGraph;for(const _ in this.libs){const tt=this.libs[_].getFunctions();for(const nt in tt){const st=_+"."+nt;let dt;j[st]?(dt=j[st],dt.routineBody=tt[nt].routineBody):(dt=new s.GlslLibRoutineNode(st,tt[nt].routineBody),j[st]=dt);const ft=tt[nt].dependencies;if(ft)for(let gt=0;gt<ft.length;++gt)if(j[ft[gt]])dt.addDependency(j[ft[gt]]);else{const pt=new s.GlslLibRoutineNode(ft[gt]);j[ft[gt]]=pt,dt.addDependency(pt)}}}}preprocess(){const rt=this.context.programInfo;let ot=rt.shaderSource;return this.context.programInfo.hasMain||(ot=`${ot}
      ${(0,_e.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),ot=(0,$.replaceInlines)(ot),`${(0,_e.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(rt.inputNames,rt.variables)}
    ${this.getImports(ot)}
    ${ot}`}getImports(rt){const ot=this.selectGlslLibRoutinesToBeIncluded(rt);if(ot.length===0)return"";let it="";for(let at=0;at<ot.length;++at){if(!ot[at].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${ot[at].name}`);it+=ot[at].routineBody+`
`}return it}selectGlslLibRoutinesToBeIncluded(rt){const ot=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(it=>{const at=it.split(".")[1];rt.indexOf(at)!==-1&&ot.push(this.glslLibRoutineDependencyGraph[it])}),s.TopologicalSortGlslRoutines.returnOrderedNodes(ot)}getUniforms(rt,ot){const it=[];if(rt)for(const at of rt)it.push(`uniform sampler2D ${at};`);if(ot)for(const at of ot)it.push(`uniform ${at.type} ${at.name}${at.arrayLength?`[${at.arrayLength}]`:""};`);return it.join(`
`)}}},1248:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.glslRegistry=void 0;const s=a(6859),$=a(1371),et=a(2691),_e=a(9183),rt=a(9314);i.glslRegistry={encoding:$.EncodingGlslLib,fragcolor:et.FragColorGlslLib,vec:rt.VecGlslLib,shapeUtils:_e.ShapeUtilsGlslLib,coordinates:s.CoordsGlslLib}},9183:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ShapeUtilsGlslLib=void 0;const s=a(1997);class $ extends s.GlslLib{constructor(_e){super(_e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const _e=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((ot,it)=>{const at=this.context.inputTextureLayouts[it].unpackedShape;if(at.length<=_e){const j=at.length,_=_e-j,tt=`bcastIndices_${ot}`;let nt="";for(let dt=0;dt<j;++dt)nt+=`
          realIndices[${dt}] = int( mod(float(bcastedIndices[${_+dt}]), ${at[dt]}.0) );
          `;const st=`
        void ${tt} (int bcastedIndices[${_e}], out int realIndices[${j}]) {
          ${nt}
        }
        `;rt[tt]=new s.GlslLibRoutine(st)}}),rt}bcastMatmulIndex(){const _e=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((ot,it)=>{const at=this.context.inputTextureLayouts[it].shape;if(!(at.length<2||at.length>_e)){const j=at.length,_=_e-j,tt=`bcastMatmulIndices_${ot}`;let nt="";for(let dt=0;dt<j-2;++dt)nt+=`
          realIndices[${dt}] = int( mod(float(bcastedIndices[${_+dt}]), ${at[dt]}.0) );
          `;const st=`
        void ${tt}(int bcastedIndices[${_e}], out int realIndices[${j}]) {
          ${nt}
          realIndices[${j-1}] = bcastedIndices[${_e-1}];
          realIndices[${j-2}] = bcastedIndices[${_e-2}];
        }
        `;rt[tt]=new s.GlslLibRoutine(st)}}),rt}indicesToOffset(){const _e={};return this.context.programInfo.inputNames.forEach((rt,ot)=>{const it=this.context.inputTextureLayouts[ot].shape,at=this.context.inputTextureLayouts[ot].strides,j=it.length;let _=`indicesToOffset_${rt}`;_e[_]=new s.GlslLibRoutine($.indexToOffsetSingle(_,j,at)),_=`indicesToOffset_${rt}_T`,_e[_]=new s.GlslLibRoutine($.indexToOffsetSingle(_,j,at.slice().reverse()))}),_e}static indexToOffsetSingle(_e,rt,ot){let it="";for(let at=rt-1;at>=0;--at)it+=`
        offset += indices[${at}] * ${ot[at]};
        `;return`
      int ${_e}(int indices[${rt}]) {
        int offset = 0;
        ${it}
        return offset;
      }
      `}offsetToIndices(){const _e={};return this.context.programInfo.inputNames.forEach((rt,ot)=>{const it=this.context.inputTextureLayouts[ot].shape,at=this.context.inputTextureLayouts[ot].strides,j=it.length;let _=`offsetToIndices_${rt}`;_e[_]=new s.GlslLibRoutine($.offsetToIndicesSingle(_,j,at)),_=`offsetToIndices_${rt}_T`,_e[_]=new s.GlslLibRoutine($.offsetToIndicesSingle(_,j,at.slice().reverse()))}),_e}static offsetToIndicesSingle(_e,rt,ot){const it=[];for(let at=0;at<rt-1;++at)it.push(`
      indices[${at}] = offset / ${ot[at]};`),it.push(`
        offset -= indices[${at}] * ${ot[at]};`);return it.push(`
      indices[${rt-1}] = offset;`),`
      void ${_e}(int offset, out int indices[${rt}]) {
        ${it.join("")}
      }
      `}incrementIndices(){const _e={};return this.context.programInfo.inputNames.forEach((rt,ot)=>{const it=this.context.inputTextureLayouts[ot].shape,at=it.length,j=`incrementIndices_${rt}`;let _="";for(let nt=0;nt<at;++nt)_+=`
        shape[${nt}] = ${it[nt]};`;const tt=`
        void ${j}(int axis, out int indices[${at}]) {
          int shape[${at}];
          ${_};
          for(int i = ${at} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;_e[j]=new s.GlslLibRoutine(tt)}),_e}}i.ShapeUtilsGlslLib=$},6757:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getDefaultFragShaderMain=i.getFragShaderPreamble=i.getVertexShaderSource=i.getGlsl=void 0;const a={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},s={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function $(et){return et===1?a:s}i.getGlsl=$,i.getVertexShaderSource=function(et){const _e=$(et);return`${_e.version}
      precision highp float;
      ${_e.attribute} vec3 position;
      ${_e.attribute} vec2 textureCoord;

      ${_e.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},i.getFragShaderPreamble=function(et){const _e=$(et);return`${_e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${_e.varyingFrag} vec2 TexCoords;
    ${_e.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},i.getDefaultFragShaderMain=function(et,_e){return`
  void main() {
    int indices[${_e}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${$(et).output} = result;
  }
  `}},9314:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VecGlslLib=void 0;const s=a(1997);class $ extends s.GlslLib{constructor(_e){super(_e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const _e=this.context.outputTextureLayout.shape.length,rt={add:"+=",sub:"-=",mul:"*=",div:"/="},ot={};for(const it in rt){const at=`${it}Vec`;let j="";for(let tt=0;tt<_e;++tt)j+=`
          dest[${tt}] ${rt[it]} src[${tt}];
          `;const _=`
        void ${at}(int src[${_e}], out int dest[${_e}]) {
          ${j}
        }
        `;ot[at]=new s.GlslLibRoutine(_)}return ot}copyVec(){const _e=this.context.outputTextureLayout.shape.length;let rt="";for(let it=0;it<_e;++it)rt+=`
        dest[${it}] = src[${it}];
        `;const ot=`
      void copyVec(int src[${_e}], out int dest[${_e}]) {
        ${rt}
      }
      `;return{copyVec:new s.GlslLibRoutine(ot)}}setVecItem(){const _e=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index =${_e} + index;
        if (index == 0)
            m[0] = value;
        `;for(let it=1;it<_e-1;++it)rt+=`
        else if (index == ${it})
            m[${it}] = value;
            `;rt+=`
        else
            m[${_e-1}] = value;
        `;const ot=`
      void setVecItem(out int m[${_e}], int index, int value) {
        ${rt}
      }
        `;return{setVecItem:new s.GlslLibRoutine(ot)}}getVecItem(){const _e=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index = ${_e} + index;
        if (index == 0)
            return m[0];
      `;for(let it=1;it<_e-1;++it)rt+=`
        else if (index == ${it})
            return m[${it}];
      `;rt+=`
        else
            return m[${_e-1}];
        `;const ot=`
      int getVecItem(int m[${_e}], int index) {
        ${rt}
      }
    `;return{getVecItem:new s.GlslLibRoutine(ot)}}}i.VecGlslLib=$},7860:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLInferenceHandler=void 0;const s=a(1315),$=a(9240),et=a(7273),_e=a(9),rt=a(7379),ot=a(2488),it=a(540),at=a(3314),j=a(5639);i.WebGLInferenceHandler=class{constructor(_){this.session=_,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(_,tt){return(0,at.calculateTextureWidthAndHeight)(this.session.layoutStrategy,_,tt)}executeProgram(_,tt){if(tt.length<_.inputNames.length)throw new Error(`Input size mustn't be less than ${_.inputNames.length}.`);if(_.inputNames.length!==_.inputTypes.length)throw new Error("input names size does not match input types");const nt=[];for(let mt=0;mt<_.inputNames.length;++mt)nt[mt]=this.getOrCreateTextureData(tt[mt],_.inputTypes[mt]);const st=((mt,vt)=>{const yt=vt.map(wt=>`${wt.unpackedShape.join(",")};${wt.width}x${wt.height}`).join("_");let xt=mt.name;return mt.cacheHint&&(xt+="["+mt.cacheHint+"]"),xt+=":"+yt,xt})(_,nt);let dt=this.session.programManager.getArtifact(st);const ft=dt?dt.programInfo:typeof _.get=="function"?_.get():_,gt=(0,at.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ft.output.dims,ft.output.textureType),pt=this.createTextureData(gt,ft.output.type);return dt||(dt=this.session.programManager.build(ft,nt,pt),this.session.programManager.setArtifact(st,dt)),this.runProgram(dt,nt,pt),pt}run(_,tt){return this.executeProgram(_,tt).tensor}runProgram(_,tt,nt){for(let st=0;st<tt.length;++st)if(!!tt[st].isPacked!=(_.programInfo.inputTypes[st]===j.TextureType.packed))throw new Error(`input[${st}] property packed inconsistent`);if(!!nt.isPacked!=(_.programInfo.output.textureType===j.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(_,tt,nt)}getOrCreateTextureData(_,tt){let nt=this.getTextureData(_.dataId,tt===j.TextureType.packed);if(!nt&&(nt=this.getTextureData(_.dataId,tt!==j.TextureType.packed),nt))return tt===j.TextureType.packed?this.pack(nt):this.unpack(nt);if(!nt){const st=(0,at.createTextureLayoutFromTextureType)(this.session.layoutStrategy,_.dims,tt);if(tt===j.TextureType.packedLastDimension){const gt=_.dims;if(gt.length===4){const pt=[gt[0],Math.ceil(gt[1]*gt[2]*gt[3]/4)],mt=(0,at.createTextureLayoutFromTextureType)(this.session.layoutStrategy,pt,tt);let vt=_.numberData;if(gt[1]*gt[2]*gt[3]%4!=0){const yt=gt[0],xt=gt[1]*gt[2]*gt[3],wt=Math.ceil(xt*1/4)*4;vt=new Float32Array(yt*wt);for(let St=0;St<yt;++St){const Ct=St*xt,At=St*wt+St%1*xt;vt.set(_.numberData.subarray(Ct,Ct+xt),At)}}return this.createTextureData(mt,_.type,vt,_,1)}}if(tt===j.TextureType.packed){const dt=(0,at.createTextureLayoutFromShape)(this.session.layoutStrategy,_.dims,1,[],{reverseWH:!0}),ft=this.createTextureData(dt,_.type,_.numberData,_,1);nt=this.pack(ft)}else nt=this.createTextureData(st,_.type,_.numberData,_,1)}return nt}createTextureDataFromLayoutBindTensor(_,tt,nt,st){return this.createTextureData(_,tt,nt,st,1)}createTextureData(_,tt,nt,st,dt){s.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(_)}]`);const ft=this.session.textureManager.createTextureFromLayout(tt,_,nt,dt);return this.createTextureDataFromTexture(_,tt,ft,st)}reshapeUnpacked(_,tt){const nt=this.getOrCreateTextureData(_,j.TextureType.unpacked),st={channels:nt.channels,height:nt.height,width:nt.width,shape:tt.length!==0?tt:[1],strides:et.ShapeUtil.computeStrides(tt),unpackedShape:tt};return this.createTextureDataFromTexture(st,_.type,nt.texture).tensor}reshapePacked(_,tt){const nt=this.getOrCreateTextureData(_,j.TextureType.packed);if((0,rt.isReshapeCheap)(_.dims,tt)){const pt={channels:nt.channels,height:nt.height,width:nt.width,shape:tt.length!==0?tt:[1],strides:et.ShapeUtil.computeStrides(tt),unpackedShape:tt,isPacked:!0};return this.createTextureDataFromTexture(pt,_.type,nt.texture).tensor}const st=(0,rt.processDims3D)(_.dims),dt=(0,rt.processDims3D)(tt),ft=this.reshapePacked(_,st),gt=this.run((0,rt.createPackedReshape3DProgramInfoLoader)(this,ft,dt),[ft]);return this.reshapePacked(gt,tt)}cast(_,tt){const nt=this.getOrCreateTextureData(_,j.TextureType.unpacked);return this.createTextureDataFromTexture(nt,tt,nt.texture).tensor}createTextureDataFromTexture(_,tt,nt,st,dt){const ft=Object.assign(Object.assign({},_),{tensor:st||new $.Tensor(_.unpackedShape,tt,gt=>this.readTexture(ft),async gt=>this.readTextureAsync(ft),void 0,dt),texture:nt});return this.setTextureData(ft.tensor.dataId,ft,_.isPacked),ft}getTextureData(_,tt=!1){return this.session.isInitializer(_)?this.session.getTextureData(_,tt):tt?this.packedTextureDataCache.get(_):this.unpackedTextureDataCache.get(_)}setTextureData(_,tt,nt=!1){this.session.isInitializer(_)?this.session.setTextureData(_,tt,nt):(nt?this.packedTextureDataCache:this.unpackedTextureDataCache).set(_,tt)}isTextureLayoutCached(_,tt=!1){return!!this.getTextureData(_.dataId,tt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(_=>this.session.textureManager.releaseTexture(_)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(_=>this.session.textureManager.releaseTexture(_)),this.unpackedTextureDataCache=new Map}readTexture(_){return _.isPacked?this.readTexture(this.unpack(_)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(_,_.tensor.type,_.channels):this.session.textureManager.readUint8TextureAsFloat((0,ot.encodeAsUint8)(this,_))}async readTextureAsync(_){return _.isPacked?this.readTextureAsync(this.unpack(_)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(_,_.tensor.type,_.channels):this.session.textureManager.readUint8TextureAsFloat((0,ot.encodeAsUint8)(this,_))}pack(_){return this.executeProgram((0,_e.createPackProgramInfoLoader)(this,_.tensor),[_.tensor])}unpack(_){return this.executeProgram((0,it.createUnpackProgramInfoLoader)(this,_.tensor),[_.tensor])}}},4110:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(Yt,Jt,ln,wn){wn===void 0&&(wn=ln);var _n=Object.getOwnPropertyDescriptor(Jt,ln);_n&&!("get"in _n?!Jt.__esModule:_n.writable||_n.configurable)||(_n={enumerable:!0,get:function(){return Jt[ln]}}),Object.defineProperty(Yt,wn,_n)}:function(Yt,Jt,ln,wn){wn===void 0&&(wn=ln),Yt[wn]=Jt[ln]}),$=this&&this.__setModuleDefault||(Object.create?function(Yt,Jt){Object.defineProperty(Yt,"default",{enumerable:!0,value:Jt})}:function(Yt,Jt){Yt.default=Jt}),et=this&&this.__importStar||function(Yt){if(Yt&&Yt.__esModule)return Yt;var Jt={};if(Yt!=null)for(var ln in Yt)ln!=="default"&&Object.prototype.hasOwnProperty.call(Yt,ln)&&s(Jt,Yt,ln);return $(Jt,Yt),Jt};Object.defineProperty(i,"__esModule",{value:!0}),i.WEBGL_OP_RESOLVE_RULES=void 0;const _e=a(8817),rt=et(a(5194)),ot=a(4752),it=a(6668),at=a(9754),j=a(5042),_=a(6742),tt=a(4125),nt=a(6149),st=a(5378),dt=a(6981),ft=a(7413),gt=a(7006),pt=a(8276),mt=a(5565),vt=a(2834),yt=a(1010),xt=a(8126),wt=a(2801),St=a(565),Ct=a(2444),At=a(815),$t=a(564),Rt=a(5416),kt=a(1240),Lt=a(5944),Dt=a(5707),Mt=et(a(9087)),Vt=a(7862),Kt=a(3980);i.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Mt.abs],["Acos","","7+",Mt.acos],["Add","","7+",rt.add],["And","","7+",rt.and],["Asin","","7+",Mt.asin],["Atan","","7+",Mt.atan],["AveragePool","","7+",vt.averagePool,vt.parseAveragePoolAttributes],["BatchNormalization","","7+",_e.batchNormalization,_e.parseBatchNormalizationAttributes],["Cast","","6+",ot.cast,ot.parseCastAttributes],["Ceil","","6+",Mt.ceil],["Clip","","6-10",Mt.clip,Mt.parseClipAttributes],["Clip","","11+",Mt.clipV11],["Concat","","4+",it.concat,it.parseConcatAttributes],["Conv","","1+",at.conv,at.parseConvAttributes],["ConvTranspose","","1+",j.convTranspose,j.parseConvTransposeAttributes],["Cos","","7+",Mt.cos],["Div","","7+",rt.div],["Dropout","","7+",Mt.identity],["DepthToSpace","","1+",_.depthToSpace,_.parseDepthToSpaceAttributes],["Equal","","7+",rt.equal],["Elu","","6+",Mt.elu,Mt.parseEluAttributes],["Exp","","6+",Mt.exp],["Flatten","","1+",tt.flatten,tt.parseFlattenAttributes],["Floor","","6+",Mt.floor],["FusedConv","com.microsoft","1+",at.conv,at.parseConvAttributes],["Gather","","1+",nt.gather,nt.parseGatherAttributes],["Gemm","","7-10",st.gemm,st.parseGemmAttributesV7],["Gemm","","11+",st.gemm,st.parseGemmAttributesV11],["GlobalAveragePool","","1+",vt.globalAveragePool,vt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",vt.globalMaxPool],["Greater","","7+",rt.greater],["Identity","","1+",Mt.identity],["ImageScaler","","1+",dt.imageScaler,dt.parseImageScalerAttributes],["InstanceNormalization","","6+",ft.instanceNormalization,ft.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Mt.leakyRelu,Mt.parseLeakyReluAttributes],["Less","","7+",rt.less],["LRN","","1+",gt.lrn,gt.parseLrnAttributes],["Log","","6+",Mt.log],["MatMul","","1+",pt.matMul,pt.parseMatMulAttributes],["MaxPool","","1+",vt.maxPool,vt.parseMaxPoolAttributes],["Mul","","7+",rt.mul],["Neg","","6+",Mt.neg],["Not","","1+",Mt.not],["Or","","7+",rt.or],["Pad","","2-10",mt.padV2,mt.parsePadAttributesV2],["Pad","","11+",mt.padV11,mt.parsePadAttributesV11],["Pow","","7+",rt.pow],["PRelu","","7+",rt.pRelu],["ReduceLogSum","","1+",yt.reduceLogSum,yt.parseReduceAttributes],["ReduceMax","","1+",yt.reduceMax,yt.parseReduceAttributes],["ReduceMean","","1+",yt.reduceMean,yt.parseReduceAttributes],["ReduceMin","","1+",yt.reduceMin,yt.parseReduceAttributes],["ReduceProd","","1+",yt.reduceProd,yt.parseReduceAttributes],["ReduceSum","","1-12",yt.reduceSum,yt.parseReduceAttributes],["ReduceSumSquare","","1+",yt.reduceLogSumSquare,yt.parseReduceAttributes],["Relu","","6+",Mt.relu],["Reshape","","5+",xt.reshape],["Resize","","10",wt.resize,wt.parseResizeAttributesV10],["Resize","","11+",wt.resize,wt.parseResizeAttributesV11],["Shape","","1+",St.shape],["Sigmoid","","6+",Mt.sigmoid],["Sin","","7+",Mt.sin],["Slice","","10+",Ct.sliceV10],["Slice","","1-9",Ct.slice,Ct.parseSliceAttributes],["Softmax","","1-12",At.softmax,At.parseSoftmaxAttributes],["Softmax","","13+",At.softmaxV13,At.parseSoftmaxAttributesV13],["Split","","2-12",$t.split,$t.parseSplitAttributes],["Sqrt","","6+",Mt.sqrt],["Squeeze","","1-12",Rt.squeeze,Rt.parseSqueezeAttributes],["Squeeze","","13+",Rt.squeezeV13],["Sub","","7+",rt.sub],["Sum","","6+",kt.sum],["Tan","","7+",Mt.tan],["Tanh","","6+",Mt.tanh],["Tile","","6+",Lt.tile],["Transpose","","1+",Dt.transpose,Dt.parseTransposeAttributes],["Upsample","","7-8",Kt.upsample,Kt.parseUpsampleAttributesV7],["Upsample","","9",Kt.upsample,Kt.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Vt.unsqueeze,Vt.parseUnsqueezeAttributes],["Unsqueeze","","13+",Vt.unsqueezeV13],["Xor","","7+",rt.xor]]},8817:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseBatchNormalizationAttributes=i.batchNormalization=void 0;const s=a(4910),$=a(6757),et=a(5639),_e={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]};i.batchNormalization=(it,at,j)=>(ot(at),[it.run(Object.assign(Object.assign({},_e),{cacheHint:j.cacheKey,get:()=>rt(it,at,j)}),at)]),i.parseBatchNormalizationAttributes=it=>{const at=it.attributes.getFloat("epsilon",1e-5),j=it.attributes.getFloat("momentum",.9),_=it.attributes.getInt("spatial",1);return(0,s.createAttributeWithCacheKey)({epsilon:at,momentum:j,spatial:_})};const rt=(it,at,j)=>{const _=(0,$.getGlsl)(it.session.backend.glContext.version),tt=at[0].dims.length,[nt,st]=it.calculateTextureWidthAndHeight(at[1].dims,et.TextureType.unpacked),dt=`
  float process(int[${tt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${nt}, ${st});
    float scale = getColorAsFloat(${_.texture2D}(Scale, position));
    float mean = getColorAsFloat(${_.texture2D}(Mean, position));
    float variance = getColorAsFloat(${_.texture2D}(Variance, position));
    float b = getColorAsFloat(${_.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${j.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},_e),{output:{dims:at[0].dims,type:at[0].type,textureType:et.TextureType.unpacked},shaderSource:dt})},ot=it=>{if(!it||it.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const at=it[0],j=it[1],_=it[2],tt=it[3],nt=it[4];if(at.dims.length<3||j.dims.length!==1||_.dims.length!==1||tt.dims.length!==1||nt.dims.length!==1)throw new Error("invalid input shape.");if(j.dims[0]!==at.dims[1]||_.dims[0]!==at.dims[1]||tt.dims[0]!==at.dims[1]||nt.dims[0]!==at.dims[1])throw new Error("invalid input shape.");if(at.type!=="float32"&&at.type!=="float64"||j.type!=="float32"&&j.type!=="float64"||_.type!=="float32"&&_.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.xor=i.sub=i.pRelu=i.pow=i.or=i.mul=i.less=i.greater=i.equal=i.div=i.and=i.add=i.glslPRelu=i.glslPow=i.glslXor=i.glslOr=i.glslAnd=i.glslLess=i.glslGreater=i.glslEqual=i.glslSub=i.glslMul=i.glslDiv=i.glslAdd=void 0;const s=a(7273),$=a(1997),et=a(6757),_e=a(5639);function rt(){const vt="add_";return{body:`
  float ${vt}(float a, float b) {
    return a + b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function ot(){const vt="div_";return{body:`
  float ${vt}(float a, float b) {
    return a / b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function it(){const vt="mul_";return{body:`
  float ${vt}(float a, float b) {
    return a * b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function at(){const vt="sub_";return{body:`
  float ${vt}(float a, float b) {
    return a - b;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function j(){const vt="equal_";return{body:`
  float ${vt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function _(){const vt="greater_";return{body:`
  float ${vt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function tt(){const vt="less_";return{body:`
  float ${vt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function nt(){const vt="and_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function st(){const vt="or_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function dt(){const vt="xor_";return{body:`
  float ${vt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}function ft(){return function(vt){const yt=`${vt}_`;return{body:`
  float ${yt}(float a, float b) {
    return ${vt}(a, b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return ${vt}(v1, v2);
  }
  `,name:yt,type:$.FunctionType.ValueBased}}("pow")}function gt(){const vt="prelu_";return{body:`
  float ${vt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${vt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:vt,type:$.FunctionType.ValueBased}}i.glslAdd=rt,i.glslDiv=ot,i.glslMul=it,i.glslSub=at,i.glslEqual=j,i.glslGreater=_,i.glslLess=tt,i.glslAnd=nt,i.glslOr=st,i.glslXor=dt,i.glslPow=ft,i.glslPRelu=gt;const pt=(vt,yt,xt,wt=yt[0].type,St)=>{const Ct=vt.session.pack?_e.TextureType.packed:_e.TextureType.unpacked;return{name:xt.name,inputNames:["A","B"],inputTypes:[Ct,Ct],cacheHint:St,get:()=>mt(vt,yt,xt,wt)}},mt=(vt,yt,xt,wt=yt[0].type)=>{const St=vt.session.pack?_e.TextureType.packed:_e.TextureType.unpacked,Ct=!s.ShapeUtil.areEqual(yt[0].dims,yt[1].dims);let At=yt[0].dims;const $t=vt.session.pack;if(Ct){const Lt=s.BroadcastUtil.calcShape(yt[0].dims,yt[1].dims,!1);if(!Lt)throw new Error("Can't perform binary op on the given tensors");At=Lt;const Dt=At.length,Mt=yt[0].dims.length!==0?yt[0].dims.length:1,Vt=yt[1].dims.length!==0?yt[1].dims.length:1,Kt=yt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Yt=yt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Jt=(0,et.getGlsl)(vt.session.backend.glContext.version),ln=$t?`
      ${xt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${xt.name}(a, b);
        ${Jt.output} = result;
      }`:`
      ${xt.body}
      float process(int indices[${Dt}]) {
        int aindices[${Mt}];
        int bindices[${Vt}];
        ${Kt}
        ${Yt}
        return ${xt.name}(_A(aindices), _B(bindices));
      }`;return{name:xt.name,inputNames:["A","B"],inputTypes:[St,St],output:{dims:At,type:wt,textureType:St},shaderSource:ln,hasMain:$t}}const Rt=(0,et.getGlsl)(vt.session.backend.glContext.version),kt=`
    ${xt.body}
    void main() {
      vec4 v1 = ${Rt.texture2D}(A, TexCoords);
      vec4 v2 = ${Rt.texture2D}(B, TexCoords);
      vec4 result = ${xt.name}(v1, v2);
      ${Rt.output} = result;
    }
    `;return{name:xt.name,inputNames:["A","B"],inputTypes:[St,St],output:{dims:yt[0].dims,type:wt,textureType:St},shaderSource:kt,hasMain:!0}};i.add=(vt,yt)=>[vt.run(pt(vt,yt,rt()),yt)],i.and=(vt,yt)=>[vt.run(pt(vt,yt,nt(),"bool"),yt)],i.div=(vt,yt)=>[vt.run(pt(vt,yt,ot()),yt)],i.equal=(vt,yt)=>[vt.run(pt(vt,yt,j(),"bool"),yt)],i.greater=(vt,yt)=>[vt.run(pt(vt,yt,_(),"bool"),yt)],i.less=(vt,yt)=>[vt.run(pt(vt,yt,tt(),"bool"),yt)],i.mul=(vt,yt)=>[vt.run(pt(vt,yt,it()),yt)],i.or=(vt,yt)=>[vt.run(pt(vt,yt,st(),"bool"),yt)],i.pow=(vt,yt)=>[vt.run(pt(vt,yt,ft()),yt)],i.pRelu=(vt,yt)=>[vt.run(pt(vt,yt,gt()),yt)],i.sub=(vt,yt)=>[vt.run(pt(vt,yt,at()),yt)],i.xor=(vt,yt)=>[vt.run(pt(vt,yt,dt(),"bool"),yt)]},4752:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseCastAttributes=i.cast=void 0;const s=a(7273);i.cast=(et,_e,rt)=>($(_e),[et.cast(_e[0],rt)]),i.parseCastAttributes=et=>s.ProtoUtil.tensorDataTypeFromProto(et.attributes.getInt("to"));const $=et=>{if(!et||et.length!==1)throw new Error("Cast requires 1 input.");if(et[0].type==="string")throw new Error("Invalid input type.")}},4595:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedConcatProgramInfoLoader=void 0;const s=a(6757),$=a(5639),et=a(432),_e=a(5614);i.createPackedConcatProgramInfoLoader=(ot,it,at)=>{const j=(_=it.length,tt=at.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:_},(nt,st)=>`X${st}`),inputTypes:Array(_).fill($.TextureType.packed),cacheHint:tt});var _,tt;return Object.assign(Object.assign({},j),{get:()=>((nt,st,dt,ft)=>{const gt=dt[0].dims.slice();if(ft>=gt.length||ft<-1*gt.length)throw new Error("axis specified for concat doesn't match input dimensionality");ft<0&&(ft=gt.length+ft);const pt=gt.slice(0);for(let Kt=1;Kt<dt.length;Kt++){const Yt=dt[Kt].dims.slice();for(let Jt=0;Jt<gt.length;Jt++)if(Jt===ft)pt[ft]+=Yt[Jt];else if(gt[Jt]!==Yt[Jt])throw new Error("non concat dimensions must match")}const mt=pt.length,vt=(0,_e.getChannels)("coords",mt),yt=(0,et.getCoordsDataType)(mt),xt=(0,_e.unpackFromChannel)(),wt=dt.map(Kt=>Kt.dims),St=(0,et.getGlChannels)(mt),Ct=new Array(wt.length-1);Ct[0]=wt[0][ft];for(let Kt=1;Kt<Ct.length;Kt++)Ct[Kt]=Ct[Kt-1]+wt[Kt][ft];const At=St[ft],$t=St.slice(-2),Rt=St.join();let kt=`if (${At} < ${Ct[0]}) {
        return getChannel(
            getX0(${Rt}), vec2(${$t.join()}));
        }`;for(let Kt=1;Kt<Ct.length;Kt++){const Yt=Ct[Kt-1];kt+=`
            if (${At} < ${Ct[Kt]}  && ${At} >= ${Ct[Kt-1]}) {
              return getChannel(
                getX${Kt}(${rt(St,At,Yt)}),
                vec2(${rt($t,At,Yt)}));
            }`}const Lt=Ct.length,Dt=Ct[Ct.length-1];kt+=`
            return getChannel(
              getX${Lt}(${rt(St,At,Dt)}),
              vec2(${rt($t,At,Dt)}));`;const Mt=(0,s.getGlsl)(nt.session.backend.glContext.version),Vt=`
          ${xt}
          float getValue(${St.map(Kt=>"int "+Kt)}) {
            ${kt}
          }

          void main() {
            ${yt} coords = getOutputCoords();
            int lastDim = coords.${St[mt-1]};
            coords.${St[mt-1]} = coords.${St[mt-2]};
            coords.${St[mt-2]} = lastDim;

            vec4 result = vec4(getValue(${vt}), 0., 0., 0.);

            ${vt[mt-1]} = ${vt[mt-1]} + 1;
            if (${vt[mt-1]} < ${pt[mt-1]}) {
              result.g = getValue(${vt});
            }

            ${vt[mt-2]} = ${vt[mt-2]} + 1;
            if (${vt[mt-2]} < ${pt[mt-2]}) {
              result.a = getValue(${vt});
            }

            ${vt[mt-1]} = ${vt[mt-1]} - 1;
            if (${vt[mt-2]} < ${pt[mt-2]} &&
                ${vt[mt-1]} < ${pt[mt-1]}) {
              result.b = getValue(${vt});
            }
            ${Mt.output} = result;
          }
        `;return Object.assign(Object.assign({},st),{output:{dims:pt,type:dt[0].type,textureType:$.TextureType.packed},shaderSource:Vt,hasMain:!0})})(ot,j,it,at.axis)})};const rt=(ot,it,at)=>{const j=ot.indexOf(it);return ot.map((_,tt)=>tt===j?`${_} - ${at}`:_).join()}},6668:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConcatAttributes=i.concat=void 0;const s=a(4910),$=a(5639),et=a(4595);i.concat=(_,tt,nt)=>(j(tt),_.session.pack&&tt[0].dims.length>1?[_.run((0,et.createPackedConcatProgramInfoLoader)(_,tt,nt),tt)]:[_.run(_e(_,tt,nt),tt)]);const _e=(_,tt,nt)=>{const st=(dt=tt.length,ft=nt.cacheKey,{name:"Concat",inputNames:Array.from({length:dt},(gt,pt)=>`X${pt}`),inputTypes:Array(dt).fill($.TextureType.unpacked),cacheHint:ft});var dt,ft;return Object.assign(Object.assign({},st),{get:()=>((gt,pt,mt,vt)=>{const yt=mt[0].dims.slice();if(vt>=yt.length||vt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");vt<0&&(vt=yt.length+vt);const xt=yt.slice(0);for(let Rt=1;Rt<mt.length;Rt++){const kt=mt[Rt].dims.slice();for(let Lt=0;Lt<yt.length;Lt++)if(Lt===vt)xt[vt]+=kt[Lt];else if(yt[Lt]!==kt[Lt])throw new Error("non concat dimensions must match")}const wt=xt.length,St=new Array(mt.length);let Ct=0;for(let Rt=0;Rt<St.length;++Rt)Ct+=mt[Rt].dims[vt],St[Rt]=Ct;let At="";At=mt.length<5?rt(St):ot(St);const $t=`
        ${it(mt.length,wt)}
        ${at(St)}
        ${At}
        float process(int indices[${wt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${vt}]);

          if(textureIndex != 0) {
            indices[${vt}] = indices[${vt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},pt),{output:{dims:xt,type:mt[0].type,textureType:$.TextureType.unpacked},shaderSource:$t})})(0,st,tt,nt.axis)})},rt=_=>`int getTextureWhereDataResides(int index) {
      ${_.map((tt,nt)=>`if(index<${tt}) {return ${nt};}
`).join("")}
    }`,ot=_=>rt(_),it=(_,tt)=>{const nt=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${tt}]) {`];for(let st=0;st<_;++st)st===0?nt.push(`	if (textureIndex == ${st}) { return _X${st}(indices); }`):st===_-1?nt.push(`	else { return _X${st}(indices); }`):nt.push(`	else if (textureIndex == ${st}) { return _X${st}(indices); }`);return nt.push("	}"),nt.join(`
`)},at=_=>{const tt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let nt=0;nt<_.length;++nt)nt===0?tt.push(`	if (index == ${nt}) { return ${_[nt]}; }`):nt===_.length-1?tt.push(`	else { return ${_[nt]}; }`):tt.push(`	else if (index == ${nt}) { return ${_[nt]}; }`);return tt.push("	}"),tt.join(`
`)};i.parseConcatAttributes=_=>(0,s.createAttributeWithCacheKey)({axis:_.attributes.getInt("axis")});const j=_=>{if(!_||_.length<1)throw new Error("too few inputs");const tt=_[0].type,nt=_[0].dims.length;if(tt==="string")throw new Error("string tensor is not supported yet");for(const st of _){if(st.type!==tt)throw new Error("input tensors should be one type");if(st.dims.length!==nt)throw new Error("input tensors should have the same shape")}}},7825:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackedGroupedConvProgramInfoLoader=void 0;const s=a(1315),$=a(6757),et=a(5639),_e=a(9754),rt=a(2150);i.createUnpackedGroupedConvProgramInfoLoader=(ot,it,at)=>{const j=(_=it.length>2,tt=at.cacheKey,{name:"GroupedConv",inputNames:_?["X","W","Bias"]:["X","W"],inputTypes:_?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],cacheHint:tt});var _,tt;return Object.assign(Object.assign({},j),{get:()=>((nt,st,dt,ft)=>{const gt=st.length>2?"value += getBias(output_channel);":"",pt=st[0].dims.slice(),mt=st[1].dims.slice(),vt=mt[0]/ft.group;s.Logger.verbose("GroupedConv",`autpPad:${ft.autoPad}, dilations:${ft.dilations}, group:${ft.group}, kernelShape:${ft.kernelShape}, pads:${ft.pads}, strides:${ft.strides}`);const yt=(0,_e.calculateOutputShape)(pt,mt,ft.dilations,ft.pads,ft.strides),xt=(0,$.getGlsl)(nt.session.backend.glContext.version),{activationFunction:wt,applyActivation:St}=(0,rt.getActivationSnippet)(ft),Ct=`
  const ivec2 strides = ivec2(${ft.strides[0]}, ${ft.strides[1]});
  const ivec2 pads = ivec2(${ft.pads[0]}, ${ft.pads[1]});
  ${wt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${vt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${mt[1]}; wInChannel++) {
      int input_channel = group_id * ${mt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${mt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${ft.dilations[0]};

        if (xHeight < 0 || xHeight >= ${pt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${mt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${ft.dilations[1]};
          if (xWidth < 0 || xWidth >= ${pt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${gt}
    ${St}
    ${xt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},dt),{output:{dims:yt,type:st[0].type,textureType:et.TextureType.unpacked},shaderSource:Ct,hasMain:!0})})(ot,it,j,at)})}},7708:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.conv2DPacked=i.conv2DPackedPointwise=void 0;const s=a(9754),$=a(5950),et=a(5632);i.conv2DPackedPointwise=(_e,rt,ot)=>{const it=rt[0].dims,at=rt[1].dims,j=(0,s.calculateOutputShape)(it,at,ot.dilations,ot.pads,ot.strides),_=_e.reshapePacked(rt[0],[it[1],it[2]*it[3]]),tt=_e.reshapePacked(rt[1],[at[0],at[1]]),nt=rt.length>2?[tt,_,rt[2]]:[tt,_],st=_e.run((0,et.createPackedMatmulProgramInfoLoader)(_e,nt,ot),nt);return _e.reshapePacked(st,j)},i.conv2DPacked=(_e,rt,ot)=>{const it=rt[0].dims,at=rt[1].dims,j=(0,s.calculateOutputShape)(it,at,ot.dilations,ot.pads,ot.strides),_=_e.run((0,$.createPackedIm2ColProgramInfoLoader)(_e,rt[0],rt[1],j,ot),[rt[0]]),tt=_e.reshapePacked(rt[1],[at[0],at[1]*at[2]*at[3]]),nt=rt.length===3?[tt,_,rt[2]]:[tt,_],st=_e.run((0,et.createPackedMatmulProgramInfoLoader)(_e,nt,ot),nt);return _e.reshapePacked(st,j)}},5042:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvTransposeAttributes=i.convTranspose=void 0;const s=a(4910),$=a(6757),et=a(5639),_e=a(2150),rt=(tt,nt,st,dt,ft,gt)=>(tt-1)*nt+st+(dt-1)*ft+1-gt,ot=(tt,nt,st,dt,ft)=>{const gt=Math.floor(tt/2);nt==="SAME_UPPER"?(st[dt]=gt,st[ft]=tt-gt):nt==="SAME_LOWER"&&(st[dt]=tt-gt,st[ft]=gt)};i.convTranspose=(tt,nt,st)=>(_(nt,st),it(tt,nt,st));const it=(tt,nt,st)=>{const dt=j(st,nt);return[at(tt,nt,dt)]},at=(tt,nt,st)=>tt.run(((dt,ft,gt)=>{const pt=(mt=ft.length>2,vt=gt.cacheKey,{name:"ConvTranspose",inputNames:mt?["X","W","B"]:["X","W"],inputTypes:mt?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],cacheHint:vt});var mt,vt;return Object.assign(Object.assign({},pt),{get:()=>((yt,xt,wt,St)=>{const Ct=xt.length>2?"getB(output_channel)":"0.0",At=xt[0].dims,$t=xt[1].dims,Rt=$t[1],kt=$t[0]/St.group,Lt=[xt[0].dims[0],xt[1].dims[1]*St.group,...St.outputShape],Dt=(0,$.getGlsl)(yt.session.backend.glContext.version),{activationFunction:Mt,applyActivation:Vt}=(0,_e.getActivationSnippet)(St),Kt=`
  const ivec2 strides = ivec2(${St.strides[0]}, ${St.strides[1]});
  const ivec2 pads = ivec2(${St.pads[0]}, ${St.pads[1]});
  ${Mt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Rt};
    int wOutChannel = output_channel - group_id * ${Rt};

    float value = ${Ct};
    for (int inChannelOffset = 0; inChannelOffset < ${kt}; inChannelOffset++) {
      int input_channel = group_id * ${kt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${$t[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${$t[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${St.dilations[0]}, wHOff * ${St.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${At[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${At[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Vt}
    ${Dt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},wt),{output:{dims:Lt,type:xt[0].type,textureType:et.TextureType.unpacked},shaderSource:Kt,hasMain:!0})})(dt,ft,pt,gt)})})(tt,nt,st),nt),j=(tt,nt)=>{const st=tt.kernelShape.slice();if(tt.kernelShape.length===0)for(let pt=2;pt<nt[1].dims.length;++pt)st.push(nt[1].dims[pt]);const dt=tt.pads.slice(),ft=tt.outputShape.slice();((pt,mt,vt,yt,xt,wt,St,Ct)=>{const At=pt.length-2,$t=Ct.length===0;for(let Rt=0;Rt<At;++Rt){const kt=$t?pt[Rt+2]*wt[Rt]:Ct[Rt],Lt=rt(pt[Rt+2],wt[Rt],xt[Rt],mt[Rt],vt[Rt],kt);ot(Lt,yt,xt,Rt,Rt+At),$t&&Ct.push(wt[Rt]*(pt[Rt+2]-1)+St[Rt]+(mt[Rt]-1)*vt[Rt]+1-xt[Rt]-xt[Rt+At])}})(nt[0].dims,st,tt.dilations,tt.autoPad,dt,tt.strides,tt.outputPadding,ft);const gt=Object.assign({},tt);return Object.assign(gt,{kernelShape:st,pads:dt,outputShape:ft,cacheKey:tt.cacheKey}),gt};i.parseConvTransposeAttributes=tt=>{const nt=tt.attributes,st=(0,_e.parseInternalActivationAttributes)(nt),dt=nt.getString("auto_pad","NOTSET"),ft=nt.getInts("dilations",[1,1]),gt=nt.getInt("group",1),pt=nt.getInts("kernel_shape",[]),mt=nt.getInts("output_padding",[0,0]),vt=nt.getInts("output_shape",[]),yt=nt.getInts("pads",[0,0,0,0]),xt=nt.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:dt,dilations:ft,group:gt,kernelShape:pt,outputPadding:mt,outputShape:vt,pads:yt,strides:xt},st))};const _=(tt,nt)=>{if(!tt||tt.length!==2&&tt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(tt[0].dims.length!==4||tt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(tt[0].dims[1]!==tt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const st=tt[1].dims[1]*nt.group;if(tt.length===3&&(tt[2].dims.length!==1||tt[2].dims[0]!==st))throw new Error("invalid bias");const dt=tt[0].dims.length-2;if(nt.dilations.length!==dt)throw new Error(`dilations should be ${dt}D`);if(nt.strides.length!==dt)throw new Error(`strides should be ${dt}D`);if(nt.pads.length!==2*dt)throw new Error(`pads should be ${2*dt}D`);if(nt.outputPadding.length!==dt)throw new Error(`output_padding should be ${dt}D`);if(nt.kernelShape.length!==0&&nt.kernelShape.length!==tt[1].dims.length-2)throw new Error("invalid kernel shape");if(nt.outputShape.length!==0&&nt.outputShape.length!==tt[0].dims.length-2)throw new Error("invalid output shape");if(tt[0].type!=="float32"||tt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(tt.length===3&&tt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvAttributes=i.conv=i.calculateOutputShape=void 0;const s=a(4910),$=a(7273),et=a(7825),_e=a(7708),rt=a(3281),ot=a(2150),it=a(1625),at=a(8276);i.calculateOutputShape=(dt,ft,gt,pt,mt)=>{const vt=dt[0],yt=dt.slice(2),xt=yt.length,wt=ft[0],St=ft.slice(2).map((At,$t)=>At+(At-1)*(gt[$t]-1)),Ct=yt.map((At,$t)=>At+pt[$t]+pt[$t+xt]).map((At,$t)=>Math.floor((At-St[$t]+mt[$t])/mt[$t]));return[vt,wt].concat(...Ct)},i.conv=(dt,ft,gt)=>(st(ft,gt),j(dt,ft,gt));const j=(dt,ft,gt)=>{const pt=nt(gt,ft),mt=dt.session.pack,vt=pt.kernelShape[0]===1&&pt.kernelShape[1]===1;return pt.group>1?[dt.run((0,et.createUnpackedGroupedConvProgramInfoLoader)(dt,ft,pt),ft)]:vt&&mt?[_(dt,ft,pt)]:mt&&ft[0].dims.length===4&&ft[0].dims[0]===1&&!vt?[(0,_e.conv2DPacked)(dt,ft,pt)]:[tt(dt,ft,pt)]},_=(dt,ft,gt)=>{const pt=ft[0].dims,mt=ft[1].dims,vt=(0,i.calculateOutputShape)(pt,mt,gt.dilations,gt.pads,gt.strides),yt=dt.reshapeUnpacked(ft[0],[pt[1],pt[2]*pt[3]]),xt=dt.reshapeUnpacked(ft[1],[mt[0],mt[1]]),wt=ft.length>2?[xt,yt,ft[2]]:[xt,yt],St=dt.run((0,at.createMatmulProgramInfoLoader)(wt,gt),wt);return dt.reshapeUnpacked(St,vt)},tt=(dt,ft,gt)=>{const pt=ft[0].dims,mt=ft[1].dims,vt=(0,i.calculateOutputShape)(pt,mt,gt.dilations,gt.pads,gt.strides),yt=dt.run((0,it.createIm2ColProgramInfoLoader)(dt,ft[0],ft[1],vt,gt),[ft[0]]),xt=ft.length===3?[yt,ft[1],ft[2]]:[yt,ft[1]];return dt.run((0,rt.createDotProductProgramInfoLoader)(dt,ft,vt,gt),xt)},nt=(dt,ft)=>{const gt=dt.kernelShape.slice();if(dt.kernelShape.length===0)for(let vt=2;vt<ft[1].dims.length;++vt)gt.push(ft[1].dims[vt]);const pt=dt.pads.slice();$.PoolConvUtil.adjustPadsBasedOnAutoPad(ft[0].dims,dt.strides,dt.dilations,gt,pt,dt.autoPad);const mt=Object.assign({},dt);return Object.assign(mt,{kernelShape:gt,pads:pt,cacheKey:dt.cacheKey}),mt};i.parseConvAttributes=dt=>{const ft=dt.attributes,gt=(0,ot.parseInternalActivationAttributes)(ft),pt=ft.getString("auto_pad","NOTSET"),mt=ft.getInts("dilations",[1,1]),vt=ft.getInt("group",1),yt=ft.getInts("kernel_shape",[]),xt=ft.getInts("pads",[0,0,0,0]),wt=ft.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:pt,dilations:mt,group:vt,kernelShape:yt,pads:xt,strides:wt},gt))};const st=(dt,ft)=>{if(!dt||dt.length!==2&&dt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(dt[0].dims.length!==4||dt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(dt[0].dims[1]!==dt[1].dims[1]*ft.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(dt.length===3&&(dt[2].dims.length!==1||dt[1].dims[0]!==dt[2].dims[0]))throw new Error("invalid bias");const gt=dt[0].dims.length-2;if(ft.dilations.length!==gt)throw new Error(`dilations should be ${gt}D`);if(ft.strides.length!==gt)throw new Error(`strides should be ${gt}D`);if(ft.pads.length!==2*gt)throw new Error(`pads should be ${2*gt}D`);if(ft.kernelShape.length!==0&&ft.kernelShape.length!==dt[1].dims.length-2)throw new Error("invalid kernel shape");if(dt[0].type!=="float32"||dt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(dt.length===3&&dt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseDepthToSpaceAttributes=i.depthToSpace=void 0;const s=a(5707);i.depthToSpace=(et,_e,rt)=>{$(_e);const ot=rt.blocksize,it=ot*ot,at=rt.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],j=rt.mode==="DCR"?[_e[0].dims[0],ot,ot,_e[0].dims[1]/it,_e[0].dims[2],_e[0].dims[3]]:[_e[0].dims[0],_e[0].dims[1]/it,ot,ot,_e[0].dims[2],_e[0].dims[3]],_=et.reshapeUnpacked(_e[0],j),tt={perm:at,cacheKey:`${at}`},[nt]=(0,s.transpose)(et,[_],tt),st=[_e[0].dims[0],_e[0].dims[1]/it,_e[0].dims[2]*ot,_e[0].dims[3]*ot];return[et.reshapeUnpacked(nt,st)]},i.parseDepthToSpaceAttributes=et=>{const _e=et.attributes.getInt("blocksize");if(_e<1)throw new Error(`blocksize must be >= 1, but got : ${_e} for DepthToSpace`);const rt=et.attributes.getString("mode","DCR");if(rt!=="DCR"&&rt!=="CRD")throw new Error(`unrecognized mode: ${rt} for DepthToSpace`);return{mode:rt,blocksize:_e}};const $=et=>{if(et.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${et.length}`);if(et[0].type==="string"||et[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDotProductProgramInfoLoader=void 0;const s=a(7273),$=a(6757),et=a(5639),_e=a(2150),rt=a(1625);i.createDotProductProgramInfoLoader=(ot,it,at,j)=>{const _=((tt,nt)=>({name:"ConvDotProduct",inputNames:tt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:tt?[et.TextureType.unpacked,et.TextureType.packedLastDimension,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.packedLastDimension],cacheKey:nt.activationCacheKey}))(it.length>2,j);return Object.assign(Object.assign({},_),{get:()=>((tt,nt,st,dt,ft)=>{const gt=st[0].dims,pt=st[1].dims,mt=[pt[0],Math.ceil(gt[1]*pt[2]*pt[3]/4)],vt=(0,rt.calculateIm2ColDims)(gt,pt,dt),[yt,xt]=tt.calculateTextureWidthAndHeight(mt,et.TextureType.packedLastDimension),wt=s.ShapeUtil.computeStrides(vt),[St,Ct]=tt.calculateTextureWidthAndHeight(vt,et.TextureType.packedLastDimension),At=dt.length,$t=st.length<3?"0.0":"_B(b)",Rt=Math.ceil(gt[1]*pt[2]*pt[3]/4),{activationFunction:kt,applyActivation:Lt}=(0,_e.getActivationSnippet)(ft),Dt=(0,$.getGlsl)(tt.session.backend.glContext.version),Mt=`
${kt}
float process(int indices[${At}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${wt[0]} + im2col[1] * ${wt[1]} + im2col[2] * ${wt[2]};
  int kernelOffset = indices[1] * ${mt[1]};
  float value = ${$t};
  for (int i = 0; i < ${Rt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${St}, ${Ct});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${yt}, ${xt});
    value += dot(${Dt.texture2D}(Im2Col, im2colCoords), ${Dt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Lt}
  return value;
}`;return Object.assign(Object.assign({},nt),{output:{dims:dt,type:st[0].type,textureType:et.TextureType.unpacked},shaderSource:Mt})})(ot,_,it,at,j)})}},4125:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseFlattenAttributes=i.flatten=void 0;const s=a(7273);i.flatten=(et,_e,rt)=>{$(_e,rt);const ot=s.ShapeUtil.flattenShape(_e[0].dims,rt);return[et.reshapeUnpacked(_e[0],ot)]},i.parseFlattenAttributes=et=>et.attributes.getInt("axis",1);const $=(et,_e)=>{if(!et||et.length!==1)throw new Error("Flatten requires 1 input.");const rt=et[0].dims.length;if(rt===0)throw new Error("scalar tensor is not supported.");if(_e<-rt||_e>rt)throw new Error("Invalid axis");if(et[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInternalActivationAttributes=i.getActivationSnippet=void 0;const s=a(7273),$=a(9087);i.getActivationSnippet=function(et){let _e;switch(et.activation){case"Relu":_e=(0,$.glslRelu)();break;case"Sigmoid":_e=(0,$.glslSigmoid)();break;case"Clip":_e=(0,$.glslClip)(et.clipMin,et.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const rt=_e.name;return{activationFunction:_e.body,applyActivation:`value = ${rt}_(value);`}},i.parseInternalActivationAttributes=et=>{const _e=et.getString("activation","");if(_e==="Clip"){const[rt,ot]=et.getFloats("activation_params",[s.MIN_CLIP,s.MAX_CLIP]);return{activation:_e,clipMax:ot,clipMin:rt,activationCacheKey:`${_e}:${rt},${ot}`}}return{activation:_e,activationCacheKey:_e}}},6149:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGatherAttributes=i.gather=void 0;const s=a(4910),$=a(6145),et=a(7273),_e=a(5639);i.gather=(at,j,_)=>(it(j,_.axis),[at.run(ot(at,j,_),j)]),i.parseGatherAttributes=at=>(0,s.createAttributeWithCacheKey)({axis:at.attributes.getInt("axis",0)});const rt={name:"Gather",inputNames:["A","B"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked]},ot=(at,j,_)=>{const tt=Object.assign(Object.assign({},rt),{cacheHint:_.cacheKey});return Object.assign(Object.assign({},tt),{get:()=>((nt,st,dt,ft)=>{const gt=dt[0].dims.slice(),pt=dt[1].dims.slice(),mt=new Array(gt.length+pt.length-1);ft=et.ShapeUtil.normalizeAxis(ft,gt.length);const vt=[];for(let xt=0;xt<mt.length;xt++)xt<ft?(mt[xt]=gt[xt],vt.push(`inputIdx[${xt}] = outputIdx[${xt}];`)):xt<ft+pt.length?(mt[xt]=pt[xt-ft],vt.push(`indexDataIdx[${xt-ft}] = outputIdx[${xt}];`)):(mt[xt]=gt[xt-pt.length+1],vt.push(`inputIdx[${xt-pt.length+1}] = outputIdx[${xt}];`));const yt=`
      float process(int outputIdx[${mt.length||1}]) {
        int inputIdx[${gt.length}];
        int indexDataIdx[${pt.length||1}];
        indexDataIdx[0] = 0;
        ${vt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${ft}] = idx < 0 ? idx + ${gt[ft]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},st),{output:{dims:mt,type:dt[0].type,textureType:_e.TextureType.unpacked},shaderSource:yt})})(0,tt,j,_.axis)})},it=(at,j)=>{if(!at||at.length!==2)throw new Error("Gather requires 2 inputs.");const _=at[0].dims.length;if(_<1)throw new Error("Invalid input shape.");if(j<-_||j>_-1)throw new Error("Invalid axis.");if($.NUMBER_TYPES.indexOf(at[0].type)===-1)throw new Error("Invaid input type.");if(at[1].type!=="int32"&&at[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGemmAttributesV11=i.parseGemmAttributesV7=i.gemm=void 0;const s=a(4910),$=a(7273),et=a(5639);i.gemm=(at,j,_)=>(it(j,_),[at.run(rt(j,_),j)]);const _e=(at,j)=>{const _=at.attributes.getInt("transA",0)!==0,tt=at.attributes.getInt("transB",0)!==0,nt=at.attributes.getFloat("alpha",1),st=at.attributes.getFloat("beta",1);return(0,s.createAttributeWithCacheKey)({transA:_,transB:tt,alpha:nt,beta:st,isOptionalC:j})};i.parseGemmAttributesV7=at=>_e(at,!1),i.parseGemmAttributesV11=at=>_e(at,!0);const rt=(at,j)=>{const _={name:"Gemm",inputNames:at.length===3?["A","B","C"]:["A","B"],inputTypes:at.length===3?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],key:j.cacheKey};return Object.assign(Object.assign({},_),{get:()=>ot(_,at,j)})},ot=(at,j,_)=>{const tt=j[0].dims.slice(),nt=j[1].dims.slice(),[st,dt]=$.GemmUtil.getShapeOfGemmResult(tt,_.transA,nt,_.transB,j.length===3?j[2].dims:void 0),ft=[st,dt];if(!ft)throw new Error("Can't use gemm on the given tensors");let gt=tt[tt.length-1],pt="";_.transA&&(gt=tt[0]),_.transA&&_.transB?pt="value += _A_T(a) * _B_T(b);":_.transA&&!_.transB?pt="value += _A_T(a) * _B(b);":!_.transA&&_.transB?pt="value += _A(a) * _B_T(b);":_.transA||_.transB||(pt="value += _A(a) * _B(b);");const mt=ft.length,vt=`
      float process(int indices[${mt}]) {
          int a[${mt}];
          int b[${mt}];
          ${j.length===3?`int c[${j[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${j.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${gt}; ++k) {
              a[${mt-1}] = k;
              b[${mt-2}] = k;
              ${pt}
          }

          value = value * alpha;
          ${j.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},at),{output:{dims:ft,type:j[0].type,textureType:et.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:_.alpha},{name:"beta",type:"float",data:_.beta}],shaderSource:vt})},it=(at,j)=>{if(!at)throw new Error("Input is missing");if(j.isOptionalC&&(at.length<2||at.length>3))throw new Error("Invaid input shape.");if(!j.isOptionalC&&at.length!==3)throw new Error("Gemm requires 3 inputs");if(at.length===3&&at[2].dims.length!==1&&at[2].dims.length!==2)throw new Error("Invalid input shape of C");if(at[0].type!=="float32"&&at[0].type!=="float64"||at[1].type!=="float32"&&at[1].type!=="float64"||at.length===3&&at[2].type!=="float32"&&at[2].type!=="float64")throw new Error("Invalid input type.");if(at[0].type!==at[1].type||at.length===3&&at[0].type!==at[2].type)throw new Error("Input types are mismatched")}},5950:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedIm2ColProgramInfoLoader=void 0;const s=a(6757),$=a(5639),et=a(5614);i.createPackedIm2ColProgramInfoLoader=(_e,rt,ot,it,at)=>{const j=(_=at.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[$.TextureType.packed],cacheHint:_});var _;return Object.assign(Object.assign({},j),{get:()=>((tt,nt,st,dt,ft,gt)=>{const pt=st.dims,mt=dt.dims,vt=ft.length,yt=[mt[1]*mt[2]*mt[3],ft[2]*ft[3]],xt=mt[2]*mt[3],wt=(0,et.unpackFromChannel)(),St=(0,s.getGlsl)(tt.session.backend.glContext.version);let Ct="";for(let $t=0;$t<=1;$t++)for(let Rt=0;Rt<=1;Rt++)Ct+=`
            blockIndex = rc.x + ${Rt};
            pos = rc.y + ${$t};

            if(blockIndex < ${yt[1]} && pos < ${yt[0]}) {
              offsetY = int(blockIndex / (${ft[vt-1]})) * ${gt.strides[0]} -
                ${gt.pads[0]};
              d0 = offsetY + ${gt.dilations[0]} * (imod(pos, ${xt}) / ${mt[2]});

              if(d0 < ${pt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${ft[vt-1]}) * ${gt.strides[1]} -
                  ${gt.pads[1]};
                d1 = offsetX + ${gt.dilations[1]} * imod(imod(pos, ${xt}), ${mt[2]});

                if(d1 < ${pt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${xt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*$t+Rt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const At=`
      ${wt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${Ct}
          ${St.output} = result;
      }
            `;return Object.assign(Object.assign({},nt),{output:{dims:yt,type:st.type,textureType:$.TextureType.packed},shaderSource:At,hasMain:!0})})(_e,j,rt,ot,it,at)})}},1625:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.calculateIm2ColDims=i.createIm2ColProgramInfoLoader=void 0;const s=a(5639);i.createIm2ColProgramInfoLoader=($,et,_e,rt,ot)=>{const it=(at=ot.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[s.TextureType.unpacked],cacheHint:at});var at;return Object.assign(Object.assign({},it),{get:()=>((j,_,tt,nt,st,dt)=>{const ft=tt.dims,gt=nt.dims,pt=st.length,mt=(0,i.calculateIm2ColDims)(ft,gt,st,4),vt=`
        const int XC = ${ft[1]};
        const int XH = ${ft[2]};
        const int XW = ${ft[3]};
        const int KH = ${dt.kernelShape[0]};
        const int KW = ${dt.kernelShape[1]};
        const int dilationH = ${dt.dilations[0]};
        const int dilationW = ${dt.dilations[1]};
        const int strideH = ${dt.strides[0]};
        const int strideW = ${dt.strides[1]};
        const int padH = ${dt.pads[0]};
        const int padW = ${dt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${pt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${ft.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},_),{output:{dims:mt,type:tt.type,textureType:s.TextureType.packedLastDimension},shaderSource:vt})})(0,it,et,_e,rt,ot)})},i.calculateIm2ColDims=($,et,_e,rt=4)=>[_e[0],_e[2],_e[3],Math.ceil($[1]*et[2]*et[3]/rt)]},6981:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseImageScalerAttributes=i.imageScaler=void 0;const s=a(4910),$=a(5639);i.imageScaler=(it,at,j)=>(ot(at),[it.run(_e(it,at,j),at)]),i.parseImageScalerAttributes=it=>{const at=it.attributes.getFloat("scale"),j=it.attributes.getFloats("bias");return(0,s.createAttributeWithCacheKey)({scale:at,bias:j})};const et={name:"ImageScaler",inputNames:["X"],inputTypes:[$.TextureType.unpacked]},_e=(it,at,j)=>{const _=Object.assign(Object.assign({},et),{cacheHint:j.cacheKey});return Object.assign(Object.assign({},_),{get:()=>((tt,nt,st,dt)=>{const ft=st[0].dims.slice(),gt=ft.length,pt=`
      ${rt(dt.bias.length)}
      float process(int indices[${gt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},nt),{output:{dims:ft,type:st[0].type,textureType:$.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:dt.bias.length,data:dt.bias},{name:"scale",type:"float",data:dt.scale}],shaderSource:pt})})(0,_,at,j)})},rt=it=>{const at=[`float getBias(float bias[${it}], int channel) {`];for(let j=0;j<it;++j)j===0?at.push(`	if (channel == ${j}) { return bias[${j}]; }`):j===it-1?at.push(`	else { return bias[${j}]; }`):at.push(`	else if (channel == ${j}) { return bias[${j}]; }`);return at.push("	}"),at.join(`
`)},ot=it=>{if(!it||it.length!==1)throw new Error("ImageScaler requires 1 input.");if(it[0].dims.length!==4)throw new Error("Invalid input shape.");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInstanceNormalizationAttributes=i.instanceNormalization=void 0;const s=a(6757),$=a(5639);i.instanceNormalization=(at,j,_)=>{it(j);const tt=at.run(_e(j[0]),j);return[at.run(ot(at,j[0],_,tt.dims),[j[0],tt,j[1],j[2]])]},i.parseInstanceNormalizationAttributes=at=>at.attributes.getFloat("epsilon",1e-5);const et={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[$.TextureType.unpacked]},_e=at=>Object.assign(Object.assign({},et),{get:()=>((j,_)=>{const tt=_.dims.slice(),nt=tt[1],st=tt[2]*tt[3],dt=[tt[0],nt],ft=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${tt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${tt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${st});
        temp = 0.0;
        for(int a2=0; a2<${tt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${tt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${st});

        return v;
      }`;return Object.assign(Object.assign({},j),{output:{dims:dt,type:_.type,textureType:$.TextureType.packedLastDimension},shaderSource:ft})})(et,at)}),rt={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[$.TextureType.unpacked,$.TextureType.packedLastDimension,$.TextureType.unpacked,$.TextureType.unpacked]},ot=(at,j,_,tt)=>{const nt=Object.assign(Object.assign({},rt),{cacheHint:`${_}`});return Object.assign(Object.assign({},nt),{get:()=>((st,dt,ft,gt,pt)=>{const mt=(0,s.getGlsl)(st.session.backend.glContext.version),[vt,yt]=st.calculateTextureWidthAndHeight(pt,$.TextureType.packedLastDimension),[xt,wt]=[vt/4,yt],St=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${xt}, ${wt});
        return ${mt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},dt),{output:{dims:ft.dims,type:ft.type,textureType:$.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:gt}],shaderSource:St})})(at,nt,j,_,tt)})},it=at=>{if(!at||at.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const j=at[0],_=at[1],tt=at[2];if(j.dims.length<3||_.dims.length!==1||tt.dims.length!==1)throw new Error("Invalid input shape.");if(_.dims[0]!==j.dims[1]||tt.dims[0]!==j.dims[1])throw new Error("Input shapes are mismatched.");if(j.type!=="float32"&&j.type!=="float64"||_.type!=="float32"&&_.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64")throw new Error("Invalid input type.");if(at[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createLrnProgramInfoLoader=i.parseLrnAttributes=i.lrn=void 0;const s=a(4910),$=a(5639);i.lrn=(ot,it,at)=>(rt(it),[ot.run(_e(it,at),it)]),i.parseLrnAttributes=ot=>{const it=ot.attributes.getFloat("alpha",1e-4),at=ot.attributes.getFloat("beta",.75),j=ot.attributes.getFloat("bias",1),_=ot.attributes.getInt("size");return(0,s.createAttributeWithCacheKey)({alpha:it,beta:at,bias:j,size:_})};const et={name:"LRN",inputNames:["X"],inputTypes:[$.TextureType.unpacked]};function _e(ot,it){return Object.assign(Object.assign({},et),{cacheHint:it.cacheKey,get:()=>function(at,j){const _=at[0].dims[1],tt=at[0].dims.length,nt=-Math.floor((j.size-1)/2),st=Math.ceil((j.size-1)/2),dt=`float(${j.alpha}) / float(${j.size})`,ft=`
    float process(int indices[${tt}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${nt}; i <= ${st}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${_}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${j.bias}) + ${dt} * square_sum, float(${j.beta}));
    }`;return Object.assign(Object.assign({},et),{cacheHint:j.cacheKey,output:{dims:at[0].dims,type:at[0].type,textureType:$.TextureType.unpacked},shaderSource:ft})}(ot,it)})}i.createLrnProgramInfoLoader=_e;const rt=ot=>{if(!ot||ot.length!==1)throw new Error("LRN requires 1 input.");if(ot[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(ot[0].type!=="float32")throw new Error("input should be float type")}},5632:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedMatmulProgramInfoLoader=void 0;const s=a(7273),$=a(6757),et=a(5639),_e=a(432),rt=a(2150),ot=a(8276);i.createPackedMatmulProgramInfoLoader=(it,at,j)=>{const _=(tt=at.length>2,nt=j.activationCacheKey,{name:"MatMul (packed)",inputNames:tt?["A","B","Bias"]:["A","B"],inputTypes:tt?[et.TextureType.packed,et.TextureType.packed,et.TextureType.packed]:[et.TextureType.packed,et.TextureType.packed],cacheHint:nt});var tt,nt;return Object.assign(Object.assign({},_),{get:()=>((st,dt,ft,gt)=>{const pt=ft.length>2,mt=pt?"value += getBiasForMatmul();":"",vt=ft[0].dims,yt=ft[1].dims,xt=s.BroadcastUtil.calcShape(vt,yt,!0),wt=!s.ShapeUtil.areEqual(ft[0].dims,ft[1].dims);if(!xt)throw new Error("Can't use matmul on the given tensors");const St=vt[vt.length-1],Ct=Math.ceil(St/2),At=vt.length,$t=yt.length,Rt=(0,$.getGlsl)(st.session.backend.glContext.version),kt=(0,_e.getCoordsDataType)(xt.length),Lt=xt.length,Dt=(0,_e.getGlChannels)(),{activationFunction:Mt,applyActivation:Vt}=(0,rt.getActivationSnippet)(gt),Kt=pt?`${(0,ot.getBiasForMatmul)(kt,Dt,ft[2].dims,xt,!0)}`:"",Yt=wt?`${function(_n,kn,Cn,Ht){let cn=[],gn=[];const jn=Cn[0].dims,xn=Cn[1].dims,Bn=jn.length,Mn=xn.length,Zn=Ht.length,Fn=Zn-Bn,wr=Zn-Mn;cn=jn.map((Qn,ar)=>`coords.${kn[ar+Fn]}`),cn[Bn-1]="i*2",cn.join(", "),gn=xn.map((Qn,ar)=>`coords.${kn[ar+wr]}`),gn[Mn-2]="i*2",gn.join(", ");const Jn=s.BroadcastUtil.getBroadcastDims(jn,Ht),dr=s.BroadcastUtil.getBroadcastDims(xn,Ht),or=Jn.map(Qn=>`coords.${kn[Qn+Fn]} = 0;`).join(`
`),Gn=dr.map(Qn=>`coords.${kn[Qn+wr]} = 0;`).join(`
`),rr=`int lastDim = coords.${kn[Zn-1]};
  coords.${kn[Zn-1]} = coords.${kn[Zn-2]};
  coords.${kn[Zn-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${_n} coords = getOutputCoords();
  ${rr}
  ${or}
  vec4 outputValue = getA(${cn});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${_n} coords = getOutputCoords();
  ${rr}
  ${Gn}
  vec4 outputValue = getB(${gn});
  return outputValue;
}`}(kt,Dt,ft,xt)}`:"",Jt=wt?"getAAtOutCoordsMatmul(i)":`getA(${function(_n,kn){let Cn="";for(let Ht=0;Ht<kn-2;Ht++)Cn+=`rc.${_n[Ht]}, `;return Cn+=`rc.${_n[kn-2]}, i*2`,Cn}(Dt,At)})`,ln=wt?"getBAtOutCoordsMatmul(i)":`getB(${function(_n,kn){let Cn="";for(let Ht=0;Ht<kn-2;Ht++)Cn+=`rc.${_n[Ht]}, `;return Cn+=`i*2, rc.${_n[kn-1]}`,Cn}(Dt,$t)})`,wn=`
            ${Yt}
            ${Kt}
            ${Mt}
            void main() {
              ${wt?"":`${kt} rc =
          getOutputCoords(); int lastDim = rc.${Dt[Lt-1]}; rc.${Dt[Lt-1]} =
          rc.${Dt[Lt-2]}; rc.${Dt[Lt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${Ct}; i++) {
                vec4 a = ${Jt};
                vec4 b = ${ln};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${mt}
              ${Vt}
              ${Rt.output} = value;
            }`;return Object.assign(Object.assign({},dt),{output:{dims:xt,type:ft[0].type,textureType:et.TextureType.packed},shaderSource:wn,hasMain:!0})})(it,_,at,j)})}},8276:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBiasForMatmul=i.createMatmulProgramInfoLoader=i.parseMatMulAttributes=i.matMul=void 0;const s=a(7273),$=a(5639),et=a(432),_e=a(2150),rt=a(5632);i.matMul=(_,tt,nt)=>(at(tt),_.session.pack?[_.run((0,rt.createPackedMatmulProgramInfoLoader)(_,tt,nt),tt)]:[_.run(it(tt,nt),tt)]),i.parseMatMulAttributes=_=>(0,_e.parseInternalActivationAttributes)(_.attributes);const ot=(_,tt)=>({name:"MatMul",inputNames:_?["A","B","Bias"]:["A","B"],inputTypes:_?[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.unpacked],cacheHint:tt});function it(_,tt){const nt=ot(_.length>2,tt.activationCacheKey);return Object.assign(Object.assign({},nt),{get:()=>function(st,dt,ft){const gt=dt[0].dims,pt=dt[1].dims,mt=s.BroadcastUtil.calcShape(gt,pt,!0);if(!mt)throw new Error("Can't use matmul on the given tensors");const vt=(0,et.getCoordsDataType)(mt.length),yt=(0,et.getGlChannels)(),{activationFunction:xt,applyActivation:wt}=(0,_e.getActivationSnippet)(ft),St=dt.length>2,Ct=St?"value += getBiasForMatmul();":"",At=St?`${j(vt,yt,dt[2].dims,mt,!1)}`:"",$t=mt.length,Rt=gt.length,kt=pt.length,Lt=`
    ${xt}
    ${At}
    float process(int indices[${$t}]) {
        int a[${Rt}];
        int b[${kt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${gt[gt.length-1]}; ++k) {
            a[${Rt-1}] = k;
            b[${kt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Ct}
        ${wt}
        return value;
    }`;return Object.assign(Object.assign({},st),{output:{dims:mt,type:dt[0].type,textureType:$.TextureType.unpacked},shaderSource:Lt})}(nt,_,tt)})}i.createMatmulProgramInfoLoader=it;const at=_=>{if(!_||_.length!==2)throw new Error("MatMul requires 2 inputs.");if(_[0].dims[_[0].dims.length-1]!==_[1].dims[_[1].dims.length-2])throw new Error("shared dimension does not match.");if(_[0].type!=="float32"&&_[0].type!=="float64"||_[1].type!=="float32"&&_[1].type!=="float64")throw new Error("inputs should be float type");if(_[0].type!==_[1].type)throw new Error("inputs types should match")};function j(_,tt,nt,st,dt){let ft="";const gt=nt.length,pt=st.length,mt=pt-gt;ft=pt<2&&gt>0?"coords":nt.map((xt,wt)=>`coords.${tt[wt+mt]}`).join(", ");const vt=s.BroadcastUtil.getBroadcastDims(nt,st).map(xt=>`coords.${tt[xt+mt]} = 0;`).join(`
`);let yt="vec4(outputValue.xx, outputValue.yy)";return s.ShapeUtil.size(nt)===1&&(yt="vec4(outputValue.x)"),dt?`
vec4 getBiasForMatmul() {
  ${_} coords = getOutputCoords();
  ${vt}
  vec4 outputValue = getBias(${ft});
  return ${yt};
}`:`
float getBiasForMatmul() {
  ${_} coords = getOutputCoords();
  ${vt}
  return getBias(coords.x);
}`}i.getBiasForMatmul=j},9:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackProgramInfoLoader=void 0;const s=a(6757),$=a(5639),et=a(432),_e=a(5614),rt={name:"pack",inputNames:["A"],inputTypes:[$.TextureType.unpackedReversed]};i.createPackProgramInfoLoader=(ot,it)=>Object.assign(Object.assign({},rt),{get:()=>((at,j)=>{const _=(0,s.getGlsl)(at.session.backend.glContext.version),tt=j.dims,nt=tt.length,st=j.dims.length,dt=(0,et.getCoordsDataType)(st),ft=(0,_e.getChannels)("rc",st),gt=(pt=st,mt=ft,vt=tt[tt.length-2],yt=tt[tt.length-1],pt===0||pt===1?"":`
    int r = ${mt[pt-2]};
    int c = ${mt[pt-1]};
    int rp1 = ${mt[pt-2]} + 1;
    int cp1 = ${mt[pt-1]} + 1;
    bool rEdge = rp1 >= ${yt};
    bool cEdge = cp1 >= ${vt};
    `);var pt,mt,vt,yt;let xt;xt=nt===0?[1,1]:nt===1?[tt[0],1]:[tt[st-1],tt[st-2]];const wt=function(At,$t,Rt){if(At===0)return"false";if(At===1)return`rc > ${$t[0]}`;let kt="";for(let Lt=At-2;Lt<At;Lt++)kt+=`${Rt[Lt]} >= ${$t[Lt-At+2]}`,Lt<At-1&&(kt+="||");return kt}(st,xt,ft),St=function(At,$t){const Rt=At.length;if(Rt===0)return"getA(), 0, 0, 0";if(Rt===1)return`getA(rc),
            rc + 1 >= ${At[0]} ? 0. : getA(rc + 1),
            0, 0`;let kt="";if(Rt>2)for(let Lt=0;Lt<Rt-2;++Lt)kt+=`${$t[Lt]},`;return`getA(${kt}r, c),
          rEdge ? 0. : getA(${kt}rp1, c),
          cEdge ? 0. : getA(${kt}r, cp1),
          rEdge || cEdge ? 0. : getA(${kt}rp1, cp1)`}(tt,ft),Ct=`
        void main() {
          ${dt} rc = getOutputCoords();

          if(${wt}) {
            ${_.output} = vec4(0);
          } else {
            ${gt}

            ${_.output} = vec4(${St});
          }
        }
      `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:j.dims,type:j.type,textureType:$.TextureType.packed},shaderSource:Ct})})(ot,it)})},5614:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.unpackFromChannel=i.getChannels=i.getVecChannels=void 0;const s=a(432);function $(et,_e){return(0,s.getGlChannels)(_e).map(rt=>`${et}.${rt}`)}i.getVecChannels=$,i.getChannels=function(et,_e){return _e===1?[et]:$(et,_e)},i.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parsePadAttributesV11=i.padV11=i.parsePadAttributesV2=i.padV2=void 0;const s=a(4910),$=a(7273),et=a(6757),_e=a(5639),rt={name:"Pad",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};i.padV2=(dt,ft,gt)=>(at(ft),[dt.run(Object.assign(Object.assign({},rt),{cacheHint:gt.cacheKey,get:()=>it(dt,ft[0],gt)}),ft)]),i.parsePadAttributesV2=dt=>{const ft=dt.attributes.getString("mode","constant"),gt=dt.attributes.getFloat("value",0),pt=dt.attributes.getInts("pads");return(0,s.createAttributeWithCacheKey)({mode:ft,value:gt,pads:pt})},i.padV11=(dt,ft,gt)=>{j(ft);const pt=ot(dt,ft,gt);return(0,i.padV2)(dt,[ft[0]],pt)},i.parsePadAttributesV11=dt=>dt.attributes.getString("mode","constant");const ot=(dt,ft,gt)=>{if(!dt.session.isInitializer(ft[1].dataId)||ft.length>=3&&!dt.session.isInitializer(ft[2].dataId))throw new Error("dynamic pad attributes are not allowed");const pt=Array.from(ft[1].integerData),mt=ft.length>=3?ft[2].floatData[0]:0;return(0,s.createAttributeWithCacheKey)({mode:gt,pads:pt,value:mt})},it=(dt,ft,gt)=>{const pt=$.ShapeUtil.padShape(ft.dims.slice(),gt.pads),mt=pt.length,vt=`
      ${_(dt,ft,gt)}
      float process(int[${mt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[_e.TextureType.unpacked],output:{dims:pt,type:ft.type,textureType:_e.TextureType.unpacked},shaderSource:vt}},at=dt=>{if(!dt||dt.length!==1)throw new Error("Pad requires 1 input");if(dt[0].type!=="float32"&&dt[0].type!=="float64")throw new Error("Invalid input type.")},j=dt=>{if(!dt||dt.length!==2&&dt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(dt[1].type!=="int32")throw new Error("Invalid input type.");if(dt.length>=3&&dt[2].type==="string")throw new Error("Invalid input type.")},_=(dt,ft,gt)=>{const pt=(0,et.getGlsl)(dt.session.backend.glContext.version),[mt,vt]=dt.calculateTextureWidthAndHeight(ft.dims,_e.TextureType.unpacked),yt=$.ShapeUtil.computeStrides(ft.dims);switch(gt.mode){case"constant":return tt(pt,ft.dims,yt,mt,vt,gt.pads,gt.value);case"reflect":return nt(pt,ft.dims,yt,mt,vt,gt.pads);case"edge":return st(pt,ft.dims,yt,mt,vt,gt.pads);default:throw new Error("Invalid mode")}},tt=(dt,ft,gt,pt,mt,vt,yt)=>{const xt=ft.length;let wt="";for(let St=xt-1;St>=0;--St)wt+=`
        k = m[${St}] - ${vt[St]};
        if (k < 0)  return constant;
        if (k >= ${ft[St]}) return constant;
        offset += k * ${gt[St]};
        `;return`
      float padA(int m[${xt}]) {
        const float constant = float(${yt});
        int offset = 0;
        int k = 0;
        ${wt}
        vec2 coords = offsetToCoords(offset, ${pt}, ${mt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `},nt=(dt,ft,gt,pt,mt,vt)=>{const yt=ft.length;let xt="";for(let wt=yt-1;wt>=0;--wt)xt+=`
        k = m[${wt}] - ${vt[wt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(ft[wt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${ft[wt]}) { k = _2n_1 - k; }
        }
        offset += k * ${gt[wt]};
        `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${xt}
        vec2 coords = offsetToCoords(offset, ${pt}, ${mt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `},st=(dt,ft,gt,pt,mt,vt)=>{const yt=ft.length;let xt="";for(let wt=yt-1;wt>=0;--wt)xt+=`
        k = m[${wt}] - ${vt[wt]};
        if (k < 0)  k = 0;
        if (k >= ${ft[wt]}) k = ${ft[wt]-1};
        offset += k * ${gt[wt]};
      `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${xt}
        vec2 coords = offsetToCoords(offset, ${pt}, ${mt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `}},2834:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.globalMaxPool=i.parseMaxPoolAttributes=i.maxPool=i.parseGlobalAveragePoolAttributes=i.globalAveragePool=i.parseAveragePoolAttributes=i.averagePool=void 0;const s=a(4910),$=a(7273),et=a(5639);i.averagePool=(st,dt,ft)=>{j(dt);const gt={name:"AveragePool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:ft.cacheKey};return[st.run(Object.assign(Object.assign({},gt),{get:()=>_e(dt,gt,!1,ft)}),dt)]},i.parseAveragePoolAttributes=st=>{const dt=st.attributes.getString("auto_pad","NOTSET"),ft=st.attributes.getInt("ceil_mode",0),gt=st.attributes.getInt("count_include_pad",0)!==0,pt=st.attributes.getInts("kernel_shape"),mt=st.attributes.getInts("strides",[]),vt=st.attributes.getInts("pads",[]);if(ft!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,s.createAttributeWithCacheKey)({autoPad:dt,ceilMode:ft,countIncludePad:gt,kernelShape:pt,strides:mt,pads:vt})};const _e=(st,dt,ft,gt)=>{const[pt,mt]=ot(st,gt,ft),vt=$.ShapeUtil.size(pt.kernelShape);let yt="";pt.countIncludePad?yt+=`value /= float(${vt});`:yt+=`value /= float(${vt} - pad);`;const xt=`
        ${_(st[0].dims,pt,"value += _X(x);",yt,"0.0")}
      `;return Object.assign(Object.assign({},dt),{output:{dims:mt,type:st[0].type,textureType:et.TextureType.unpacked},shaderSource:xt})};i.globalAveragePool=(st,dt,ft)=>{j(dt);const gt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:`${ft.countIncludePad}`};return[st.run(Object.assign(Object.assign({},gt),{get:()=>_e(dt,gt,!0,ft)}),dt)]},i.parseGlobalAveragePoolAttributes=st=>{const dt=st.attributes.getInt("count_include_pad",0)!==0;return(0,s.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:dt,kernelShape:[],strides:[],pads:[]})},i.maxPool=(st,dt,ft)=>{j(dt);const gt={name:"MaxPool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:ft.cacheKey};return[st.run(Object.assign(Object.assign({},gt),{get:()=>rt(dt,gt,!1,ft)}),dt)]},i.parseMaxPoolAttributes=st=>{const dt=st.attributes.getString("auto_pad","NOTSET"),ft=st.attributes.getInt("ceil_mode",0),gt=st.attributes.getInts("kernel_shape"),pt=st.attributes.getInts("strides",[]),mt=st.attributes.getInts("pads",[]),vt=st.attributes.getInt("storage_order",0),yt=st.attributes.getInts("dilations",[]);if(vt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ft!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,s.createAttributeWithCacheKey)({autoPad:dt,ceilMode:ft,countIncludePad:!1,kernelShape:gt,strides:pt,pads:mt,storageOrder:vt,dilations:yt})};const rt=(st,dt,ft,gt)=>{const[pt,mt]=ot(st,gt,ft),vt=`
      ${_(st[0].dims,pt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},dt),{output:{dims:mt,type:st[0].type,textureType:et.TextureType.unpacked},shaderSource:vt})},ot=(st,dt,ft)=>{const gt=st[0].dims.slice(),pt=Object.hasOwnProperty.call(dt,"dilations"),mt=dt.kernelShape.slice(),vt=dt.strides.slice(),yt=pt?dt.dilations.slice():[],xt=dt.pads.slice();$.PoolConvUtil.adjustPoolAttributes(ft,gt,mt,vt,yt,xt);const wt=$.PoolConvUtil.computePoolOutputShape(ft,gt,vt,yt,mt,xt,dt.autoPad),St=Object.assign({},dt);return pt?Object.assign(St,{kernelShape:mt,strides:vt,pads:xt,dilations:yt,cacheKey:dt.cacheKey}):Object.assign(St,{kernelShape:mt,strides:vt,pads:xt,cacheKey:dt.cacheKey}),[St,wt]},it={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},at={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[et.TextureType.unpacked]};i.globalMaxPool=(st,dt)=>(j(dt),[st.run(Object.assign(Object.assign({},at),{get:()=>rt(dt,at,!0,it)}),dt)]);const j=st=>{if(!st||st.length!==1)throw new Error("Pool ops requires 1 input.");if(st[0].type!=="float32"&&st[0].type!=="float64")throw new Error("Invalid input type.")},_=(st,dt,ft,gt,pt)=>{const mt=st.length;if(dt.kernelShape.length<=2){const vt=dt.kernelShape[dt.kernelShape.length-1],yt=dt.strides[dt.strides.length-1],xt=dt.pads[dt.pads.length/2-1],wt=dt.pads[dt.pads.length-1],St=st[mt-1];let Ct="",At="",$t="";if(Ct=xt+wt!==0?`
          for (int i = 0; i < ${vt}; i++) {
            x[${mt} - 1] = indices[${mt} - 1] * ${yt} - ${xt} + i;
            if (x[${mt} - 1] < 0 || x[${mt} - 1] >= ${St}) {
              pad++;
              continue;
            }
            ${ft}
          }`:`
          for (int i = 0; i < ${vt}; i++) {
            x[${mt} - 1] = indices[${mt} - 1] * ${yt} - ${xt} + i;
            ${ft}
          }`,dt.kernelShape.length===2){const Rt=dt.kernelShape[dt.kernelShape.length-2],kt=dt.strides[dt.strides.length-2],Lt=dt.pads[dt.pads.length/2-2],Dt=dt.pads[dt.pads.length-2],Mt=st[mt-2];At=Lt+Dt!==0?`
            for (int j = 0; j < ${Rt}; j++) {
              x[${mt} - 2] = indices[${mt} - 2] * ${kt} - ${Lt} + j;
              if (x[${mt} - 2] < 0 || x[${mt} - 2] >= ${Mt}) {
                pad+= ${vt};
                continue;
              }
          `:`
            for (int j = 0; j < ${Rt}; j++) {
              x[${mt} - 2] = indices[${mt} - 2] * ${kt} - ${Lt} + j;
            `,$t=`
          }
        `}return`
        float process(int indices[${mt}]) {
          int x[${mt}];
          copyVec(indices, x);

          float value = ${pt};
          int pad = 0;
          ${At}
          ${Ct}
          ${$t}
          ${gt}
          return value;
        }
      `}{const vt=$.ShapeUtil.size(dt.kernelShape),yt=$.ShapeUtil.computeStrides(dt.kernelShape),xt=yt.length,wt=dt.pads.length,St=nt(xt),Ct=tt(st,"inputDims"),At=tt(dt.pads,"pads"),$t=tt(yt,"kernelStrides"),Rt=tt(dt.strides,"strides");let kt="";return kt=dt.pads.reduce((Lt,Dt)=>Lt+Dt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${ft}
          }`:`
          }
          ${ft}
        `,`
        ${St}
        float process(int indices[${mt}]) {
          int x[${mt}];
          copyVec(indices, x);
          int offset[${xt}];
          int pads[${wt}];
          int inputDims[${mt}];
          int kernelStrides[${xt}];
          int strides[${xt}];
          ${At}
          ${Ct}
          ${Rt}
          ${$t}

          float value = ${pt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${vt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${mt} - ${xt}; j < ${mt}; j++) {
              x[j] = indices[j] * strides[j - ${mt} + ${xt}]
                + offset[j - ${mt} + ${xt}] - pads[j - 2];
              ${kt}
          }
          ${gt}

          return value;
        }
      `}},tt=(st,dt)=>{let ft="";for(let gt=0;gt<st.length;gt++)ft+=`
      ${dt}[${gt}] = ${st[gt]};
    `;return ft},nt=st=>`
  void offsetToIndices(int offset, int[${st}] strides, out int[${st}] indices) {
    if (${st} == 0) {
      return;
    }
    for (int i = 0; i < ${st} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${st} - 1] = offset;
  }`},1010:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reduceLogSumSquare=i.reduceLogSum=i.reduceProd=i.reduceMin=i.reduceMax=i.reduceMean=i.reduceSum=i.parseReduceAttributes=void 0;const s=a(4910),$=a(6145),et=a(7273),_e=a(5639),rt=(at,j,_,tt,nt)=>{it(j);const st={name:tt,inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};return[at.run(Object.assign(Object.assign({},st),{cacheHint:_.cacheKey,get:()=>ot(at,j,_,tt,nt,st)}),j)]};i.parseReduceAttributes=at=>{const j=at.attributes.getInts("axes",[]),_=at.attributes.getInt("keepdims",1)===1;return(0,s.createAttributeWithCacheKey)({axes:j,keepDims:_})};const ot=(at,j,_,tt,nt,st)=>{const dt=[],ft=j[0].dims.length||1,gt=[],pt=et.ShapeUtil.normalizeAxes(_.axes,j[0].dims.length),mt=nt(j,pt);let vt=mt[1];for(let xt=0;xt<j[0].dims.length;xt++)pt.indexOf(xt)>=0||pt.length===0?(_.keepDims&&dt.push(1),vt=`
          for(int j${xt} = 0; j${xt} < ${j[0].dims[xt]}; j${xt}++) {
            inputIdx[${xt}] = j${xt};
            ${vt}
          }`):(gt.push(`inputIdx[${xt}] = outputIdx[${dt.length}];`),dt.push(j[0].dims[xt]));const yt=`
      float process(int outputIdx[${dt.length||1}]) {
        float value;                 // final result
        int inputIdx[${ft}];      // addressing input data
        ${gt.join(`
`)}
        ${mt[0]}       // init ops for reduce max/min
        ${vt}
        ${mt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},st),{output:{dims:dt,type:j[0].type,textureType:_e.TextureType.unpacked},shaderSource:yt})},it=at=>{if(!at||at.length!==1)throw new Error("Reduce op requires 1 input.");if($.NUMBER_TYPES.indexOf(at[0].type)===-1)throw new Error("Invalid input type.")};i.reduceSum=(at,j,_)=>rt(at,j,_,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),i.reduceMean=(at,j,_)=>rt(at,j,_,"ReduceMean",(tt,nt)=>{let st=1;for(let dt=0;dt<tt[0].dims.length;dt++)(nt.indexOf(dt)>=0||nt.length===0)&&(st*=tt[0].dims[dt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${st}.;`]}),i.reduceMax=(at,j,_)=>rt(at,j,_,"ReduceMax",(tt,nt)=>{const st=[];for(let dt=0;dt<tt[0].dims.length;dt++)(nt.indexOf(dt)>=0||nt.length===0)&&st.push(`inputIdx[${dt}] = 0;`);return[`${st.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),i.reduceMin=(at,j,_)=>rt(at,j,_,"ReduceMin",(tt,nt)=>{const st=[];for(let dt=0;dt<tt[0].dims.length;dt++)(nt.indexOf(dt)>=0||nt.length===0)&&st.push(`inputIdx[${dt}] = 0;`);return[`${st.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),i.reduceProd=(at,j,_)=>rt(at,j,_,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),i.reduceLogSum=(at,j,_)=>rt(at,j,_,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),i.reduceLogSumSquare=(at,j,_)=>rt(at,j,_,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isReshapeCheap=i.processDims3D=i.createPackedReshape3DProgramInfoLoader=void 0;const s=a(7273),$=a(6757),et=a(5639),_e=a(5614);i.createPackedReshape3DProgramInfoLoader=(rt,ot,it)=>{const at=(j=>({name:"Reshape (packed)",inputTypes:[et.TextureType.packed],inputNames:["A"],cacheHint:`${j}`}))(it);return Object.assign(Object.assign({},at),{get:()=>((j,_,tt,nt)=>{const st=_.dims,dt=nt;let ft="";for(let mt=0;mt<4;mt++){let vt="";switch(mt){case 0:vt="outputCoords = rc;";break;case 1:vt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:vt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:vt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}ft+=`
        ${vt}
        ${mt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${mt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${mt>0?"}":""}
      `}const gt=(0,$.getGlsl)(j.session.backend.glContext.version),pt=`
      ${function(mt){const vt=s.ShapeUtil.computeStrides(mt),yt=["b","r","c"],xt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${vt.map((wt,St)=>`int ${yt[St]} = ${xt} / ${wt}; ${St===vt.length-1?`int ${yt[St+1]} = ${xt} - ${yt[St]} * ${wt}`:`index -= ${yt[St]} * ${wt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(st)}
      ${function(mt){const vt=s.ShapeUtil.computeStrides(mt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${vt[0]} + coords.z * ${vt[1]} + coords.y;
  }
`}(dt)}
      ${(0,_e.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${dt[2]};
        int cols = ${dt[1]};

        ${ft}
        ${gt.output} = result;
      }
    `;return Object.assign(Object.assign({},tt),{output:{dims:dt,type:_.type,textureType:et.TextureType.packed},shaderSource:pt,hasMain:!0})})(rt,ot,at,it)})},i.processDims3D=function(rt){if(rt.length===0)return[1,1,1];let ot=1;for(let it=0;it<rt.length-2;++it)ot*=rt[it];return[ot,rt.length>1?rt[rt.length-2]:1,rt[rt.length-1]]},i.isReshapeCheap=function(rt,ot){let it=!1;return it=rt.length===0||ot.length===0||(rt.length<2||ot.length<2?rt[rt.length-1]===ot[ot.length-1]:rt[rt.length-1]===ot[ot.length-1]&&rt[rt.length-2]===ot[ot.length-2]),it}},8126:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reshape=void 0;const s=a(7273);i.reshape=($,et)=>{const _e=s.ShapeUtil.calculateReshapedDims(et[0].dims,et[1].integerData);return $.session.pack?[$.reshapePacked(et[0],_e)]:[$.reshapeUnpacked(et[0],_e)]}},2801:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseResizeAttributesV11=i.parseResizeAttributesV10=i.resize=void 0;const s=a(6757),$=a(5639),et=a(432),_e=a(5614),rt=a(3980),ot={name:"Resize",inputNames:["A"],inputTypes:[$.TextureType.packed]};i.resize=(tt,nt,st)=>((0,rt.validateInputs)(nt,st),[tt.run(Object.assign(Object.assign({},ot),{cacheHint:st.cacheKey,get:()=>it(tt,nt,st)}),nt)]),i.parseResizeAttributesV10=tt=>(0,rt.parseUpsampleAttributes)(tt,10),i.parseResizeAttributesV11=tt=>(0,rt.parseUpsampleAttributes)(tt,11);const it=(tt,nt,st)=>{const dt=(0,s.getGlsl)(tt.session.backend.glContext.version),[ft,gt]=at(nt,st);if(ft.every(kt=>kt===1)&&st.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},ot),{output:{dims:gt,type:nt[0].type,textureType:$.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${dt.texture2D}(X, TexCoords);
                    ${dt.output} = v;
                }`});const pt=gt.length;if(pt<2)throw new Error(`output dimension should be at least 2, but got ${pt}`);const mt=gt[pt-2],vt=gt[pt-1],yt=nt[0].dims;if(pt!==yt.length)throw new Error(`output dimension should match input ${yt.length}, but got ${pt}`);const xt=yt[pt-2],wt=yt[pt-1],St=ft[pt-2],Ct=ft[pt-1];let At="";if(st.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${st.mode}'`);switch(st.coordinateTransformMode){case"asymmetric":At=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":At=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":At=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${vt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${mt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${mt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":At=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${vt}.0 - 1.0, ${mt}.0 - 1.0, ${vt}.0 - 1.0,
                            ${mt}.0 - 1.0);
                        vec4 original = vec4(${wt}.0 - 1.0, ${xt}.0 - 1.0, ${wt}.0 - 1.0,
                            ${xt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${st.coordinateTransformMode}'`)}const $t=(0,et.getCoordsDataType)(pt),Rt=`
            const vec2 inputWH = vec2(${xt}.0, ${wt}.0);
            const vec4 scaleWHWH = vec4(float(${St}), float(${Ct}), float(${St}), float(${Ct}));
            ${(0,_e.unpackFromChannel)()}
            ${At}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${$t} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${mt-1};
                bool hasNextCol = rc.z < ${vt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${dt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},ot),{output:{dims:gt,type:nt[0].type,textureType:$.TextureType.packed},hasMain:!0,shaderSource:Rt})},at=(tt,nt)=>{const st=tt[0].dims;let dt,ft=nt.scales;if(ft.length===0){const pt=tt[nt.scalesInputIdx];if(pt&&pt.size!==0){if(tt[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");ft=j(pt,nt.mode,nt.isResize)}else{const mt=tt[nt.sizesInputIdx];if(!mt||mt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");dt=Array.from(mt.integerData),ft=_(dt,st,nt.mode,nt.isResize)}}else if(tt[nt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const gt=dt||st.map((pt,mt)=>Math.floor(pt*ft[mt]));return[ft,gt]},j=(tt,nt,st)=>{const dt=Array.from(tt.floatData);return(0,rt.scalesValidation)(dt,nt,st),dt},_=(tt,nt,st,dt)=>{const ft=nt.length,gt=new Array(ft);for(let pt=0,mt=ft;pt<mt;pt++)if(nt[pt]===0){if(tt[pt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");gt[pt]=1}else gt[pt]=tt[pt]/nt[pt];return(0,rt.scalesValidation)(gt,st,dt),gt}},565:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shape=void 0;const s=a(9240);i.shape=(et,_e)=>($(_e),[new s.Tensor([_e[0].dims.length],"int32",void 0,void 0,new Int32Array(_e[0].dims))]);const $=et=>{if(!et||et.length!==1)throw new Error("Shape requires 1 input.")}},2444:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sliceV10=i.parseSliceAttributes=i.slice=void 0;const s=a(4910),$=a(6145),et=a(7273),_e=a(5639),rt={name:"Slice",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]};i.slice=(_,tt,nt)=>(it(tt),[_.run(Object.assign(Object.assign({},rt),{cacheHint:nt.cacheKey,get:()=>ot(_,tt[0],nt)}),tt)]),i.parseSliceAttributes=_=>{const tt=_.attributes.getInts("starts"),nt=_.attributes.getInts("ends"),st=_.attributes.getInts("axes",[]);return(0,s.createAttributeWithCacheKey)({starts:tt,ends:nt,axes:st})};const ot=(_,tt,nt)=>{const st=nt.axes.length===0?tt.dims.slice(0).map((yt,xt)=>xt):nt.axes,dt=et.ShapeUtil.normalizeAxes(st,tt.dims.length),ft=nt.starts.map((yt,xt)=>yt>tt.dims[dt[xt]]-1?tt.dims[dt[xt]]:et.ShapeUtil.normalizeAxis(yt,tt.dims[dt[xt]])),gt=nt.ends.map((yt,xt)=>yt>tt.dims[dt[xt]]-1?tt.dims[dt[xt]]:et.ShapeUtil.normalizeAxis(yt,tt.dims[dt[xt]])),pt=tt.dims.slice(),mt=[];for(let yt=0;yt<dt.length;yt++)pt[dt[yt]]=gt[yt]-ft[yt],ft[yt]>0&&mt.push(`outputIdx[${dt[yt]}] += ${ft[yt]};`);const vt=`
      float process(int outputIdx[${pt.length}]) {
        ${mt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:pt,type:tt.type,textureType:_e.TextureType.unpacked},shaderSource:vt})},it=_=>{if(!_||_.length!==1)throw new Error("Slice requires 1 input.");if($.NUMBER_TYPES.indexOf(_[0].type)===-1)throw new Error("Invalid input type.")};i.sliceV10=(_,tt)=>{j(tt);const nt=at(_,tt);return[_.run(Object.assign(Object.assign({},rt),{cacheHint:nt.cacheKey,get:()=>ot(_,tt[0],nt)}),[tt[0]])]};const at=(_,tt)=>{if(!_.session.isInitializer(tt[1].dataId)||!_.session.isInitializer(tt[2].dataId)||tt.length>=4&&!_.session.isInitializer(tt[3].dataId)||tt.length>=5&&!_.session.isInitializer(tt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(tt.length>=5&&tt[4].integerData.some(ft=>ft!==1))throw new Error("currently non-1 steps is not supported for Slice");const nt=Array.from(tt[1].integerData),st=Array.from(tt[2].integerData),dt=tt.length>=4?Array.from(tt[3].integerData):[];return{starts:nt,ends:st,axes:dt,cacheKey:`${dt};${nt};${st}`}},j=_=>{if(!_||_.length<3||_.length>5)throw new Error("Invalid input number.");if(_[1].type!=="int32"||_[1].dims.length!==1)throw new Error("Invalid input type.");if(_[2].type!=="int32"||_[2].dims.length!==1)throw new Error("Invalid input type.");if(_.length>=4&&(_[3].type!=="int32"||_[3].dims.length!==1))throw new Error("Invalid input type.");if(_.length>=5&&(_[4].type!=="int32"||_[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.softmaxV13=i.parseSoftmaxAttributesV13=i.parseSoftmaxAttributes=i.softmax=void 0;const s=a(4910),$=a(7273),et=a(6757),_e=a(5639),rt=a(5707),ot={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[_e.TextureType.unpacked]},it={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked]},at={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[_e.TextureType.unpacked,_e.TextureType.unpacked,_e.TextureType.unpacked]};i.softmax=(dt,ft,gt)=>{st(ft);const pt=ft[0].dims.slice(),mt=$.ShapeUtil.normalizeAxis(gt.axis,pt.length),vt=$.ShapeUtil.sizeToDimension(pt,mt),yt=$.ShapeUtil.sizeFromDimension(pt,mt);return j(dt,ft,gt,vt,yt)},i.parseSoftmaxAttributes=dt=>(0,s.createAttributeWithCacheKey)({axis:dt.attributes.getInt("axis",1)}),i.parseSoftmaxAttributesV13=dt=>(0,s.createAttributeWithCacheKey)({axis:dt.attributes.getInt("axis",-1)}),i.softmaxV13=(dt,ft,gt)=>{st(ft);const pt=ft[0].dims.slice(),mt=$.ShapeUtil.normalizeAxis(gt.axis,pt.length),vt=pt.length,yt=mt!==vt-1,xt=[];let wt,St=[],Ct=[];yt&&(St=Array.from({length:vt}).map((kt,Lt)=>Lt),St[mt]=vt-1,St[vt-1]=mt,St.map(kt=>xt.push(pt[kt])),wt=(0,s.createAttributeWithCacheKey)({perm:St}),Ct=(0,rt.transpose)(dt,ft,wt));const At=yt?$.ShapeUtil.sizeToDimension(xt,vt-1):$.ShapeUtil.sizeToDimension(pt,vt-1),$t=yt?$.ShapeUtil.sizeFromDimension(xt,vt-1):$.ShapeUtil.sizeFromDimension(pt,vt-1),Rt=j(dt,yt?Ct:ft,gt,At,$t);return yt?(0,rt.transpose)(dt,Rt,wt):Rt};const j=(dt,ft,gt,pt,mt)=>{const vt=_(dt,ft[0],pt,mt,[pt]),yt=dt.run(Object.assign(Object.assign({},ot),{cacheHint:gt.cacheKey,get:()=>vt}),ft),xt=tt(dt,ft[0],pt,mt,vt.output.dims,[pt]),wt=dt.run(Object.assign(Object.assign({},it),{cacheHint:gt.cacheKey,get:()=>xt}),[ft[0],yt]),St=nt(dt,ft[0],pt,mt,vt.output.dims,xt.output.dims);return[dt.run(Object.assign(Object.assign({},at),{cacheHint:gt.cacheKey,get:()=>St}),[ft[0],yt,wt])]},_=(dt,ft,gt,pt,mt)=>{const[vt,yt]=dt.calculateTextureWidthAndHeight(ft.dims,_e.TextureType.unpacked),xt=mt.length;if(gt<1||pt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(mt.length!==1)throw new Error("Dimensionality of the output should be 1");if(mt[0]!==gt)throw new Error("Shape of the output should be equal to logical row count");const wt=(0,et.getGlsl)(dt.session.backend.glContext.version),St=`
      float process(int[${xt}] indices) {
        int logical_row_start_offset = indices[0] * ${pt};

        float max = getColorAsFloat(${wt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${vt},
        ${yt} )));
        for(int i=1; i<${pt}; ++i)
        {
          float current = getColorAsFloat(${wt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${vt}, ${yt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:mt,type:ft.type,textureType:_e.TextureType.unpacked},shaderSource:St})},tt=(dt,ft,gt,pt,mt,vt)=>{const[yt,xt]=dt.calculateTextureWidthAndHeight(ft.dims,_e.TextureType.unpacked),wt=vt.length;if(gt<1||pt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1)throw new Error("Dimensionality of the output should be 1");if(vt[0]!==gt)throw new Error("Shape of the output should be equal to logical row count");if(mt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(mt[0]!==gt)throw new Error("Shape of the intermediate results should be equal to logical row count");const St=`
      float process(int[${wt}] indices) {
        int logical_row_start_offset = indices[0] * ${pt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${pt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,et.getGlsl)(dt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${yt}, ${xt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},it),{output:{dims:vt,type:ft.type,textureType:_e.TextureType.unpacked},shaderSource:St})},nt=(dt,ft,gt,pt,mt,vt)=>{const[yt,xt]=dt.calculateTextureWidthAndHeight(ft.dims,_e.TextureType.unpacked),wt=ft.dims.length;if(gt<1||pt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(mt.length!==1||vt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(mt[0]!==gt||vt[0]!==gt)throw new Error("Shape of the intermediate results should be equal to logical row count");const St=`
      float process(int[${wt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${yt}, ${xt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${pt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},at),{output:{dims:ft.dims,type:ft.type,textureType:_e.TextureType.unpacked},shaderSource:St})},st=dt=>{if(!dt||dt.length!==1)throw new Error("Softmax requires 1 input.");if(dt[0].type!=="float32"&&dt[0].type!=="float64")throw new Error("Invalid input type")}},564:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSplitAttributes=i.split=void 0;const s=a(4910),$=a(7273),et=a(5639),_e={name:"Split",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.split=(at,j,_)=>{it(j);const tt=$.ShapeUtil.normalizeAxis(_.axis,j[0].dims.length),nt=rt(at,j,tt,_),st=[];for(let dt=0;dt<nt;++dt)st.push(at.run(Object.assign(Object.assign({},_e),{cacheHint:`${_.cacheKey};${dt}`,get:()=>ot(at,j[0],_,tt,dt)}),j));return st},i.parseSplitAttributes=at=>{const j=at.attributes.getInt("axis",0),_=at.attributes.getInts("split",[]),tt=at.outputs.length;return(0,s.createAttributeWithCacheKey)({axis:j,split:_,numOutputs:tt})};const rt=(at,j,_,tt)=>{const[,nt]=$.SplitUtil.splitShape(j[0].dims,_,tt.split,tt.numOutputs);return nt.length},ot=(at,j,_,tt,nt)=>{const[st,dt]=$.SplitUtil.splitShape(j.dims,tt,_.split,_.numOutputs),ft=dt[nt],gt=st[nt],pt=`
      float process(int indices[${gt.length}]) {
        indices[${tt}] += ${ft};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},_e),{cacheHint:`${_.cacheKey}:${nt}`,output:{dims:gt,type:j.type,textureType:et.TextureType.unpacked},shaderSource:pt})},it=at=>{if(!at||at.length!==1)throw new Error("Split requires one input.");if(at[0].type!=="int8"&&at[0].type!=="uint8"&&at[0].type!=="int16"&&at[0].type!=="uint16"&&at[0].type!=="int32"&&at[0].type!=="uint32"&&at[0].type!=="float32"&&at[0].type!=="float64"&&at[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSqueezeAttributes=i.squeezeV13=i.squeeze=void 0;const s=a(7273);i.squeeze=(_e,rt,ot)=>{$(rt);const it=s.ShapeUtil.squeezeShape(rt[0].dims,ot);return[_e.reshapeUnpacked(rt[0],it)]},i.squeezeV13=(_e,rt)=>(et(rt),(0,i.squeeze)(_e,[rt[0]],Array.from(rt[1].integerData))),i.parseSqueezeAttributes=_e=>_e.attributes.getInts("axes");const $=_e=>{if(!_e||_e.length!==1)throw new Error("Squeeze requires 1 input.");if(_e[0].type==="string")throw new Error("invalid input tensor types.")},et=_e=>{if(!_e||_e.length!==2)throw new Error("Squeeze requires 2 inputs.");if(_e[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sum=void 0;const s=a(6757),$=a(5639);i.sum=(rt,ot)=>{_e(ot);const it={name:"Sum",inputNames:ot.map((at,j)=>`X${j}`),inputTypes:new Array(ot.length).fill($.TextureType.unpacked)};return[rt.run(Object.assign(Object.assign({},it),{get:()=>et(rt,ot,it)}),ot)]};const et=(rt,ot,it)=>{const at=(0,s.getGlsl)(rt.session.backend.glContext.version),j=ot[0].dims.slice(),_=`
      void main() {
        vec4 result = ${ot.map((tt,nt)=>`${at.texture2D}(X${nt},TexCoords)`).join(" + ")};
        ${at.output} = result;
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:j,type:ot[0].type,textureType:$.TextureType.unpacked},hasMain:!0,shaderSource:_})},_e=rt=>{if(!rt||rt.length===0)throw new Error("Sum requires inputs.");const ot=rt[0].dims.length;for(let it=1;it<rt.length;it++){if(ot!==rt[it].dims.length)throw new Error("Input shapes are mismatched.");for(let at=0;at<ot;at++)if(rt[0].dims[at]!==rt[it].dims[at])throw new Error("Input shapes are not matched.")}if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type.");for(let it=1;it<rt.length;it++)if(rt[0].type!==rt[it].type)throw new Error("Input types are not matched.")}},5944:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tile=void 0;const s=a(6145),$=a(5639);i.tile=(rt,ot)=>{_e(ot);const it={name:"Tile",inputNames:["A"],inputTypes:[$.TextureType.unpacked]};return[rt.run(Object.assign(Object.assign({},it),{get:()=>et(rt,ot,it)}),ot)]};const et=(rt,ot,it)=>{const at=ot[0].dims.slice(),j=new Array(at.length),_=[];for(let st=0;st<at.length;st++)j[st]=at[st]*ot[1].numberData[st],_.push(`inputIdx[${st}] = int(mod(float(outputIdx[${st}]), ${at[st]}.));`);const tt=j.length,nt=`
      float process(int outputIdx[${tt}]) {
        int inputIdx[${tt}];
        ${_.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:j,type:ot[0].type,textureType:$.TextureType.unpacked},shaderSource:nt})},_e=rt=>{if(!rt||rt.length!==2)throw new Error("Tile requires 2 input.");if(rt[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(rt[1].dims[0]!==rt[0].dims.length)throw new Error("Invalid input shape.");if(s.NUMBER_TYPES.indexOf(rt[0].type)===-1)throw new Error("Invalid input type.");if(rt[1].type!=="int32"&&rt[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseTransposeAttributes=i.transpose=void 0;const s=a(4910),$=a(7273),et=a(5639),_e={name:"Transpose",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.transpose=(_,tt,nt)=>(j(tt),[_.run(Object.assign(Object.assign({},_e),{cacheHint:nt.cacheKey,get:()=>rt(_,tt[0],nt.perm)}),tt)]),i.parseTransposeAttributes=_=>(0,s.createAttributeWithCacheKey)({perm:_.attributes.getInts("perm",[])});const rt=(_,tt,nt)=>{const st=tt.dims;nt=ot(st,nt);const dt=it(st,nt),ft=st.length,gt=`
      ${at("perm",nt,ft)}
      float process(int indices[${ft}]) {
        int a[${ft}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},_e),{output:{dims:dt,type:tt.type,textureType:et.TextureType.unpacked},shaderSource:gt})},ot=(_,tt)=>(tt&&tt.length!==_.length&&(tt=[..._.keys()].reverse()),tt),it=(_,tt)=>(tt=ot(_,tt),$.ShapeUtil.sortBasedOnPerm(_,tt)),at=(_,tt,nt)=>{const st=[];st.push(`void ${_}(out int a[${nt}], int src[${nt}]) {`);for(let dt=0;dt<nt;++dt)st.push(`	a[${tt[dt]}]=src[${dt}];`);return st.push("	}"),st.join(`
`)},j=_=>{if(!_||_.length!==1)throw new Error("Transpose requires 1 input.");if(_[0].type!=="float32"&&_[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.encodeAsUint8=void 0;const s=a(6757),$=a(5639);i.encodeAsUint8=(et,_e)=>{const rt=_e.shape,ot=(0,s.getGlsl)(et.session.backend.glContext.version),it=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${ot.texture2D}(X,TexCoords).r;
      ${ot.output} = encodeAsUint8(value);
    }`,at={name:"Uint8Encode",inputTypes:[$.TextureType.unpacked],inputNames:["X"],output:{dims:rt,type:_e.tensor.type,textureType:$.TextureType.downloadUint8AsFloat},shaderSource:it,hasMain:!0};return et.executeProgram(at,[_e.tensor])}},9087:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tanh=i.tan=i.sqrt=i.sin=i.sigmoid=i.relu=i.not=i.neg=i.log=i.parseLeakyReluAttributes=i.leakyRelu=i.identity=i.floor=i.exp=i.parseEluAttributes=i.elu=i.cos=i.ceil=i.clipV11=i.parseClipAttributes=i.clip=i.atan=i.asin=i.acos=i.abs=i.glslTanh=i.glslTan=i.glslSqrt=i.glslSigmoid=i.glslRelu=i.glslSin=i.glslNot=i.glslNeg=i.glslLog=i.glslLeakyRelu=i.glslIdentity=i.glslClip=i.glslFloor=i.glslExp=i.glslElu=i.glslCos=i.glslCeil=i.glslAtan=i.glslAsin=i.glslAcos=i.glslAbs=void 0;const s=a(4910),$=a(7273),et=a(1997),_e=a(6757),rt=a(5639);function ot(){return Rt("abs")}function it(){return Rt("acos")}function at(){return Rt("asin")}function j(){return Rt("atan")}function _(){return Rt("ceil")}function tt(){return Rt("cos")}function nt(Dt){const Mt="elu";return{body:`
  const float alpha = float(${Dt});

  float ${Mt}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Mt}_(vec4 v) {
    return vec4(${Mt}_(v.x), ${Mt}_(v.y), ${Mt}_(v.z), ${Mt}_(v.w));
  }
  `,name:Mt,type:et.FunctionType.ValueBased}}function st(){return Rt("exp")}function dt(){return Rt("floor")}function ft(Dt,Mt){const Vt="clip";return{body:`
  const float min = float(${Dt});
  const float max = float(${Mt});

  float ${Vt}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Vt}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Vt,type:et.FunctionType.ValueBased}}function gt(){const Dt="indentity";return{body:`
  float ${Dt}_(float a) {
    return a;
  }
  vec4 ${Dt}_(vec4 v) {
    return v;
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function pt(Dt){const Mt="leakyRelu";return{body:`
  const float alpha = float(${Dt});

  float ${Mt}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Mt}_(vec4 v) {
    return vec4(${Mt}_(v.x), ${Mt}_(v.y), ${Mt}_(v.z), ${Mt}_(v.w));
  }
  `,name:Mt,type:et.FunctionType.ValueBased}}function mt(){return Rt("log")}function vt(){const Dt="neg";return{body:`
  float ${Dt}_(float a) {
    return -a;
  }
  vec4 ${Dt}_(vec4 v) {
    return -v;
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function yt(){const Dt="not";return{body:`
  float ${Dt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Dt}_(bool a) {
    return !a;
  }
  vec4 ${Dt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Dt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function xt(){return Rt("sin")}function wt(){const Dt="relu";return{body:`
  float ${Dt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Dt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function St(){const Dt="sigmoid";return{body:`
  float ${Dt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Dt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function Ct(){return Rt("sqrt")}function At(){return Rt("tan")}function $t(){const Dt="tanh";return{body:`
  float ${Dt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Dt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}function Rt(Dt){return{body:`
  float ${Dt}_(float a) {
    return ${Dt}(a);
  }
  vec4 ${Dt}_(vec4 v) {
    return ${Dt}(v);
  }
  `,name:Dt,type:et.FunctionType.ValueBased}}i.glslAbs=ot,i.glslAcos=it,i.glslAsin=at,i.glslAtan=j,i.glslCeil=_,i.glslCos=tt,i.glslElu=nt,i.glslExp=st,i.glslFloor=dt,i.glslClip=ft,i.glslIdentity=gt,i.glslLeakyRelu=pt,i.glslLog=mt,i.glslNeg=vt,i.glslNot=yt,i.glslSin=xt,i.glslRelu=wt,i.glslSigmoid=St,i.glslSqrt=Ct,i.glslTan=At,i.glslTanh=$t;const kt=(Dt,Mt,Vt,Kt)=>{const Yt=Dt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,Jt={name:Vt.name,inputTypes:[Yt],inputNames:["A"],cacheHint:Kt};return Object.assign(Object.assign({},Jt),{get:()=>((ln,wn,_n,kn)=>{const Cn=ln.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,Ht=(0,_e.getGlsl)(ln.session.backend.glContext.version);return Object.assign(Object.assign({},wn),{output:{dims:_n.dims,type:_n.type,textureType:Cn},shaderSource:`
     ${kn.body}
     void main() {
       vec4 v = ${Ht.texture2D}(A, TexCoords);
       v = ${kn.name}_(v);
       ${Ht.output} = v;
     }
     `,hasMain:!0})})(Dt,Jt,Mt,Vt)})};i.abs=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],ot()),Mt)],i.acos=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],it()),Mt)],i.asin=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],at()),Mt)],i.atan=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],j()),Mt)],i.clip=(Dt,Mt,Vt)=>[Dt.run(kt(Dt,Mt[0],ft(Vt.min,Vt.max),Vt.cacheKey),Mt)],i.parseClipAttributes=Dt=>(0,s.createAttributeWithCacheKey)({min:Dt.attributes.getFloat("min",$.MIN_CLIP),max:Dt.attributes.getFloat("max",$.MAX_CLIP)}),i.clipV11=(Dt,Mt)=>{const Vt=Lt(Dt,Mt);return(0,i.clip)(Dt,[Mt[0]],Vt)};const Lt=(Dt,Mt)=>{if(Mt.length>=3&&(!Dt.session.isInitializer(Mt[1].dataId)||!Dt.session.isInitializer(Mt[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Vt=Mt.length>=3?Mt[1].numberData[0]:$.MIN_CLIP,Kt=Mt.length>=3?Mt[2].numberData[0]:$.MAX_CLIP;return(0,s.createAttributeWithCacheKey)({min:Vt,max:Kt})};i.ceil=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],_()),Mt)],i.cos=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],tt()),Mt)],i.elu=(Dt,Mt,Vt)=>[Dt.run(kt(Dt,Mt[0],nt(Vt.alpha),Vt.cacheKey),Mt)],i.parseEluAttributes=Dt=>(0,s.createAttributeWithCacheKey)({alpha:Dt.attributes.getFloat("alpha",1)}),i.exp=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],st()),Mt)],i.floor=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],dt()),Mt)],i.identity=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],gt()),Mt)],i.leakyRelu=(Dt,Mt,Vt)=>[Dt.run(kt(Dt,Mt[0],pt(Vt.alpha),Vt.cacheKey),Mt)],i.parseLeakyReluAttributes=Dt=>(0,s.createAttributeWithCacheKey)({alpha:Dt.attributes.getFloat("alpha",.01)}),i.log=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],mt()),Mt)],i.neg=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],vt()),Mt)],i.not=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],yt()),Mt)],i.relu=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],wt()),Mt)],i.sigmoid=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],St()),Mt)],i.sin=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],xt()),Mt)],i.sqrt=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],Ct()),Mt)],i.tan=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],At()),Mt)],i.tanh=(Dt,Mt)=>[Dt.run(kt(Dt,Mt[0],$t()),Mt)]},540:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackProgramInfoLoader=i.createUnpackProgramInfo=void 0;const s=a(6757),$=a(5639),et=a(432),_e=a(5614),rt={name:"unpack",inputNames:["A"],inputTypes:[$.TextureType.packed]};i.createUnpackProgramInfo=(ot,it)=>{const at=it.dims.length,j=(0,_e.getChannels)("rc",at),_=j.slice(-2),tt=(0,et.getCoordsDataType)(at),nt=(0,_e.unpackFromChannel)(),st=it.dims.length===0?"":function(gt,pt){if(gt===1)return"rc";let mt="";for(let vt=0;vt<gt;vt++)mt+=pt[vt],vt<gt-1&&(mt+=",");return mt}(at,j),dt=at<=1?"rc":`vec2(${_.join(",")})`,ft=`
    ${nt}
    void main() {
      ${tt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${st});

       ${(0,s.getGlsl)(ot.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${dt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:it.dims,type:it.type,textureType:$.TextureType.unpacked},shaderSource:ft})},i.createUnpackProgramInfoLoader=(ot,it)=>Object.assign(Object.assign({},rt),{get:()=>(0,i.createUnpackProgramInfo)(ot,it)})},7862:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseUnsqueezeAttributes=i.unsqueezeV13=i.unsqueeze=void 0;const s=a(7273);i.unsqueeze=(_e,rt,ot)=>{$(rt);const it=s.ShapeUtil.unsqueezeShape(rt[0].dims,ot);return[_e.reshapeUnpacked(rt[0],it)]},i.unsqueezeV13=(_e,rt)=>(et(rt),(0,i.unsqueeze)(_e,[rt[0]],Array.from(rt[1].integerData))),i.parseUnsqueezeAttributes=_e=>_e.attributes.getInts("axes");const $=_e=>{if(!_e||_e.length!==1)throw new Error("Unsqueeze requires 1 input.");if(_e[0].type==="string")throw new Error("invalid input tensor types.")},et=_e=>{if(!_e||_e.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(_e[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.scalesValidation=i.validateInputs=i.parseUpsampleAttributes=i.parseUpsampleAttributesV9=i.parseUpsampleAttributesV7=i.upsample=void 0;const s=a(4910),$=a(6757),et=a(5639),_e={name:"Upsample",inputNames:["X"],inputTypes:[et.TextureType.unpacked]};i.upsample=(ot,it,at)=>((0,i.validateInputs)(it,at),[ot.run(Object.assign(Object.assign({},_e),{cacheHint:at.cacheKey,get:()=>rt(ot,it,at)}),it)]),i.parseUpsampleAttributesV7=ot=>(0,i.parseUpsampleAttributes)(ot,7),i.parseUpsampleAttributesV9=ot=>(0,i.parseUpsampleAttributes)(ot,9),i.parseUpsampleAttributes=(ot,it)=>{const at=it>=10,j=ot.attributes.getString("mode","nearest");if(j!=="nearest"&&j!=="linear"&&(it<11||j!=="cubic"))throw new Error(`unrecognized mode: ${j}`);let _=[];it<9&&(_=ot.attributes.getFloats("scales"),(0,i.scalesValidation)(_,j,at));const tt=ot.attributes.getFloat("extrapolation_value",0),nt=it>10?ot.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(nt)===-1)throw new Error(`coordinate_transform_mode '${nt}' is not supported`);const st=nt==="tf_crop_and_resize",dt=st,ft=j==="nearest"&&it>=11?ot.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(ft)===-1)throw new Error(`nearest_mode '${ft}' is not supported`);const gt=ot.attributes.getFloat("cubic_coeff_a",-.75),pt=ot.attributes.getInt("exclude_outside",0)!==0;if(pt&&j!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const mt=it<11||j==="nearest"&&nt==="asymmetric"&&ft==="floor";let vt=0,yt=0,xt=0;return it>10?ot.inputs.length>2?(vt=1,yt=2,xt=3):(yt=1,xt=2):it===9&&(yt=1),(0,s.createAttributeWithCacheKey)({opset:it,isResize:at,mode:j,scales:_,extrapolationValue:tt,coordinateTransformMode:nt,useExtrapolation:dt,needRoiInput:st,nearestMode:ft,cubicCoefficientA:gt,excludeOutside:pt,useNearest2xOptimization:mt,roiInputIdx:vt,scalesInputIdx:yt,sizesInputIdx:xt})};const rt=(ot,it,at)=>{const j=(0,$.getGlsl)(ot.session.backend.glContext.version),[_,tt]=ot.calculateTextureWidthAndHeight(it[0].dims,et.TextureType.unpacked),nt=it[0].dims.map((xt,wt)=>Math.floor(xt*at.scales[wt])),[st,dt]=ot.calculateTextureWidthAndHeight(nt,et.TextureType.unpacked),ft=nt.length,gt=new Array(ft),pt=new Array(ft);let mt=`
      int output_pitches[${ft}];
      int input_pitches[${ft}];
      `;for(let xt=ft-1;xt>=0;xt--)gt[xt]=xt===ft-1?1:gt[xt+1]*nt[xt+1],pt[xt]=xt===ft-1?1:pt[xt+1]*it[0].dims[xt+1],mt+=`
        output_pitches[${xt}] = ${gt[xt]};
        input_pitches[${xt}] = ${pt[xt]};
        `;const vt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${_}, ${tt});
        float value = getColorAsFloat(${j.texture2D}(X, coords));
        return value;
      }
      `,yt=at.mode==="nearest"?`
    ${vt}
    float process(int indices[${ft}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${st}, ${dt});

      ${mt}

      int d, m;
      for (int dim = 0; dim < ${ft}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:ft===4?`
    ${vt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${st}, ${dt});

      ${mt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${it[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${vt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${st}, ${dt});

      ${mt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${it[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},_e),{output:{dims:nt,type:it[0].type,textureType:et.TextureType.unpacked},shaderSource:yt,variables:[{name:"scales",type:"int",arrayLength:at.scales.length,data:at.scales.map(xt=>Math.ceil(xt))}]})};i.validateInputs=(ot,it)=>{if(!ot||it.opset<9&&ot.length!==1||it.opset>=9&&it.opset<11&&ot.length!==2||it.opset>=11&&ot.length<2)throw new Error("invalid inputs.");if(it.scales.length>0&&ot[0].dims.length!==it.scales.length)throw new Error("Invalid input shape.");if(ot[0].type==="string")throw new Error("Invalid input tensor types.")},i.scalesValidation=(ot,it,at)=>{if(at){for(const j of ot)if(j<=0)throw new Error("Scale value should be greater than 0.")}else for(const j of ot)if(j<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(it!=="linear"&&it!=="cubic"||ot.length===2||ot.length===4&&ot[0]===1&&ot[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${at?"Resize":"Upsample"} opeartor.`)}},2757:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ProgramManager=void 0;const s=a(8453),$=a(1315),et=a(8897),_e=a(6757);i.ProgramManager=class{constructor(rt,ot,it){this.profiler=rt,this.glContext=ot,this.textureLayoutStrategy=it,this.repo=new Map,this.attributesBound=!1}getArtifact(rt){return this.repo.get(rt)}setArtifact(rt,ot){this.repo.set(rt,ot)}run(rt,ot,it){var at;this.profiler.event("op",`ProgramManager.run ${(at=rt.programInfo.name)!==null&&at!==void 0?at:"unknown kernel"}`,()=>{var j;const _=this.glContext.gl,tt=rt.program;_.useProgram(tt);try{this.bindOutput(it),this.attributesBound||this.bindAttributes(rt.attribLocations),this.bindUniforms(rt.uniformLocations,(j=rt.programInfo.variables)!==null&&j!==void 0?j:[],ot)}catch(nt){throw $.Logger.error("ProgramManager",rt.programInfo.shaderSource),nt}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(rt=>this.glContext.deleteProgram(rt.program))}build(rt,ot,it){return this.profiler.event("backend","ProgramManager.build",()=>{const at=new et.GlslPreprocessor(this.glContext,rt,ot,it),j=at.preprocess(),_=this.compile(j);return{programInfo:rt,program:_,uniformLocations:this.getUniformLocations(_,at.context.programInfo.inputNames,at.context.programInfo.variables),attribLocations:this.getAttribLocations(_)}})}compile(rt){if(!this.vertexShader){$.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const at=(0,_e.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(at,this.glContext.gl.VERTEX_SHADER)}s.env.debug&&$.Logger.verbose("ProrgramManager",`FragShader:
${rt}
`);const ot=this.glContext.compileShader(rt,this.glContext.gl.FRAGMENT_SHADER),it=this.glContext.createProgram(this.vertexShader,ot);return this.glContext.deleteShader(ot),it}bindOutput(rt){const ot=rt.width,it=rt.height;$.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${ot}/${it}, shape=${rt.shape}, type=${rt.tensor.type}`),this.glContext.attachFramebuffer(rt.texture,ot,it)}bindAttributes(rt){const ot=rt.position,it=rt.textureCoord;this.glContext.setVertexAttributes(ot,it),this.attributesBound=!0}bindUniforms(rt,ot,it){var at;const j=this.glContext.gl;let _=0;for(const{name:tt,type:nt,location:st,arrayLength:dt}of rt){const ft=(at=ot.find(gt=>gt.name===tt))===null||at===void 0?void 0:at.data;if(nt!=="sampler2D"&&!ft)throw new Error(`variable '${tt}' does not have data defined in program info`);switch(nt){case"sampler2D":this.bindTexture(it[_],st,_),_++;break;case"float":dt?j.uniform1fv(st,ft):j.uniform1f(st,ft);break;case"int":dt?j.uniform1iv(st,ft):j.uniform1i(st,ft);break;default:throw new Error(`Uniform not implemented: ${nt}`)}}}bindTexture(rt,ot,it){this.glContext.bindTextureToUniform(rt.texture,it,ot)}getAttribLocations(rt){return{position:this.getAttribLocation(rt,"position"),textureCoord:this.getAttribLocation(rt,"textureCoord")}}getUniformLocations(rt,ot,it){const at=[];if(ot)for(const j of ot)at.push({name:j,type:"sampler2D",location:this.getUniformLocation(rt,j)});if(it)for(const j of it)at.push(Object.assign(Object.assign({},j),{location:this.getUniformLocation(rt,j.name)}));return at}getUniformLocation(rt,ot){const it=this.glContext.gl.getUniformLocation(rt,ot);if(it===null)throw new Error(`Uniform ${ot} not found.`);return it}getAttribLocation(rt,ot){return this.glContext.gl.getAttribLocation(rt,ot)}}},2171:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLSessionHandler=void 0;const s=a(1315),$=a(5881),et=a(7860),_e=a(4110),rt=a(2757),ot=a(7618),it=a(5243);i.WebGLSessionHandler=class{constructor(at,j){this.backend=at,this.context=j,this.layoutStrategy=new ot.PreferLogicalStrategy(at.glContext.maxTextureSize),this.programManager=new rt.ProgramManager(this.context.profiler,at.glContext,this.layoutStrategy),this.textureManager=new it.TextureManager(at.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:at.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=at.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new et.WebGLInferenceHandler(this)}onGraphInitialized(at){const j=at.getValues().filter(_=>_.from===-1&&_.tensor).map(_=>_.tensor.dataId);this.initializers=new Set(j)}isInitializer(at){return!!this.initializers&&this.initializers.has(at)}addInitializer(at){this.initializers.add(at)}getTextureData(at,j){return j?this.packedTextureDataCache.get(at):this.unpackedTextureDataCache.get(at)}setTextureData(at,j,_=!1){s.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),_?this.packedTextureDataCache.set(at,j):this.unpackedTextureDataCache.set(at,j)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(at=>this.textureManager.releaseTexture(at,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(at=>this.textureManager.releaseTexture(at,!0)),this.unpackedTextureDataCache=new Map}resolve(at,j,_){const tt=(0,$.resolveOperator)(at,j,_e.WEBGL_OP_RESOLVE_RULES);return{impl:tt.opImpl,context:tt.opInit?tt.opInit(at,_):at}}}},9622:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Uint8DataEncoder=i.RGBAFloatDataEncoder=i.RedFloat32DataEncoder=void 0;const s=a(1315);i.RedFloat32DataEncoder=class{constructor($,et=1){if(et===1)this.internalFormat=$.R32F,this.format=$.RED,this.textureType=$.FLOAT,this.channelSize=et;else{if(et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=$.RGBA32F,this.format=$.RGBA,this.textureType=$.FLOAT,this.channelSize=et}}encode($,et){let _e,rt;return $.constructor!==Float32Array&&(s.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),rt=new Float32Array($)),et*this.channelSize>$.length?(s.Logger.warning("Encoder","Source data too small. Allocating larger array"),rt=$,_e=this.allocate(et*this.channelSize),rt.forEach((ot,it)=>_e[it]=ot)):(rt=$,_e=rt),_e}allocate($){return new Float32Array(4*$)}decode($,et){return this.channelSize===1?$.filter((_e,rt)=>rt%4==0).subarray(0,et):$.subarray(0,et)}},i.RGBAFloatDataEncoder=class{constructor($,et=1,_e){if(et!==1&&et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=$.RGBA,this.format=$.RGBA,this.channelSize=et,this.textureType=_e||$.FLOAT}encode($,et){let _e=$;return this.channelSize===1&&(s.Logger.verbose("Encoder","Exploding into a larger array"),_e=this.allocate(et),$.forEach((rt,ot)=>_e[4*ot]=rt)),_e}allocate($){return new Float32Array(4*$)}decode($,et){return this.channelSize===1?$.filter((_e,rt)=>rt%4==0).subarray(0,et):$.subarray(0,et)}},i.Uint8DataEncoder=class{constructor($,et=1){if(this.channelSize=4,et===1)this.internalFormat=$.ALPHA,this.format=$.ALPHA,this.textureType=$.UNSIGNED_BYTE,this.channelSize=et;else{if(et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=$.RGBA,this.format=$.RGBA,this.textureType=$.UNSIGNED_BYTE,this.channelSize=et}}encode($,et){return new Uint8Array($.buffer,$.byteOffset,$.byteLength)}allocate($){return new Uint8Array($*this.channelSize)}decode($,et){if($ instanceof Uint8Array)return $.subarray(0,et);throw new Error(`Invalid array type: ${$.constructor}`)}}},7618:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBatchDim=i.sizeToSquarishShape=i.getRowsCols=i.sizeFromShape=i.isInt=i.parseAxisParam=i.squeezeShape=i.PreferLogicalStrategy=i.AlwaysKeepOriginalSizeStrategy=void 0;const s=a(1315),$=a(7273);function et(at,j){const _=[],tt=[],nt=j!=null&&Array.isArray(j)&&j.length===0,st=j==null||nt?null:_e(j,at).sort();let dt=0;for(let ft=0;ft<at.length;++ft){if(st!=null){if(st[dt]===ft&&at[ft]!==1)throw new Error(`Can't squeeze axis ${ft} since its dim '${at[ft]}' is not 1`);(st[dt]==null||st[dt]>ft)&&at[ft]===1&&(_.push(at[ft]),tt.push(ft)),st[dt]<=ft&&dt++}at[ft]!==1&&(_.push(at[ft]),tt.push(ft))}return{newShape:_,keptDims:tt}}function _e(at,j){const _=j.length;return at=at==null?j.map((tt,nt)=>nt):[].concat(at),(0,$.assert)(at.every(tt=>tt>=-_&&tt<_),()=>`All values in axis param must be in range [-${_}, ${_}) but got axis ${at}`),(0,$.assert)(at.every(rt),()=>`All values in axis param must be integers but got axis ${at}`),at.map(tt=>tt<0?_+tt:tt)}function rt(at){return at%1==0}function ot(at){if(at.length===0)return 1;let j=at[0];for(let _=1;_<at.length;_++)j*=at[_];return j}function it(at){const j=Math.ceil(Math.sqrt(at));return[j,Math.ceil(at/j)]}i.AlwaysKeepOriginalSizeStrategy=class{constructor(at){this.maxTextureSize=at}computeTextureWH(at,j){if(at.length===0)return[1,1];const _=this.maxTextureSize;if(j&&j.breakAxis!==void 0){const st=j.breakAxis>=at.length?1:at.slice(j.breakAxis).reduce((ft,gt)=>ft*gt),dt=j.breakAxis<=0?1:at.slice(0,j.breakAxis).reduce((ft,gt)=>ft*gt);if(!(st>_||dt>_))return[st,dt];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${at}, breakAxis:${j.breakAxis}`)}const tt=at.reduce((st,dt)=>st*dt);let nt=Math.floor(Math.sqrt(tt));for(;nt<_&&nt<tt&&tt%nt!=0;nt++);if(nt>=_||tt%nt!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${at}`);return[nt,tt/nt]}},i.PreferLogicalStrategy=class{constructor(at){this.maxTextureSize=at}computeTextureWH(at,j){const _=this.computeTexture(at,j);return j&&j.isPacked&&(_[0]/=2,_[1]/=2),j&&j.reverseWH?[_[1],_[0]]:_}computeTexture(at,j){const _=j&&j.isPacked;if(at.length===0)return _?[2,2]:[1,1];let tt=this.maxTextureSize;if(j&&j.breakAxis!==void 0){const dt=j.breakAxis>=at.length?1:at.slice(j.breakAxis).reduce((gt,pt)=>gt*pt),ft=j.breakAxis<=0?1:at.slice(0,j.breakAxis).reduce((gt,pt)=>gt*pt);if(!(dt>tt||ft>tt))return[dt,ft];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${at}, breakAxis:${j.breakAxis}`)}let nt=at.slice(0);_&&(tt*=2,nt=nt.map((dt,ft)=>ft>=nt.length-2?nt[ft]%2==0?nt[ft]:nt[ft]+1:nt[ft]),nt.length===1&&(nt=[2,nt[0]])),nt.length!==2&&(nt=et(nt).newShape);const st=ot(nt);return nt.length<=1&&st<=tt?[1,st]:nt.length===2&&nt[0]<=tt&&nt[1]<=tt?nt:nt.length===3&&nt[0]*nt[1]<=tt&&nt[2]<=tt?[nt[0]*nt[1],nt[2]]:nt.length===3&&nt[0]<=tt&&nt[1]*nt[2]<=tt?[nt[0],nt[1]*nt[2]]:nt.length===4&&nt[0]*nt[1]*nt[2]<=tt&&nt[3]<=tt?[nt[0]*nt[1]*nt[2],nt[3]]:nt.length===4&&nt[0]<=tt&&nt[1]*nt[2]*nt[3]<=tt?[nt[0],nt[1]*nt[2]*nt[3]]:_?it(st/4).map(dt=>2*dt):it(st)}},i.squeezeShape=et,i.parseAxisParam=_e,i.isInt=rt,i.sizeFromShape=ot,i.getRowsCols=function(at){if(at.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[at.length>1?at[at.length-2]:1,at[at.length-1]]},i.sizeToSquarishShape=it,i.getBatchDim=function(at,j=2){return ot(at.slice(0,at.length-j))}},3314:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createTextureLayoutFromShape=i.calculateTextureWidthAndHeight=i.createTextureLayoutFromTextureType=void 0;const s=a(7273),$=a(5639);i.createTextureLayoutFromTextureType=(et,_e,rt)=>{const ot=rt===$.TextureType.unpacked||rt===$.TextureType.unpackedReversed?1:4,it=rt===$.TextureType.packed,at=rt===$.TextureType.unpackedReversed||rt===$.TextureType.packed,j=rt===$.TextureType.packedLastDimension?_e.length-1:void 0,_=rt===$.TextureType.packedLastDimension?_e.map((tt,nt)=>nt===_e.length-1?4*tt:tt):void 0;return(0,i.createTextureLayoutFromShape)(et,_e,ot,_,{isPacked:it,reverseWH:at,breakAxis:j})},i.calculateTextureWidthAndHeight=(et,_e,rt)=>{const ot=(0,i.createTextureLayoutFromTextureType)(et,_e,rt);return[ot.width,ot.height]},i.createTextureLayoutFromShape=(et,_e,rt=1,ot,it)=>{const at=!(!it||!it.isPacked),[j,_]=et.computeTextureWH(at&&ot||_e,it),tt=_e.length;let nt=_e.slice(0);if(tt===0&&(nt=[1]),rt===1)ot=_e;else if(at){if(rt!==4)throw new Error("a packed texture must be 4-channel");ot=_e,tt>0&&(nt[tt-1]=Math.ceil(nt[tt-1]/2)),tt>1&&(nt[tt-2]=Math.ceil(nt[tt-2]/2))}else if(!ot)throw new Error("Unpacked shape is needed when using channels > 1");return{width:j,height:_,channels:rt,isPacked:at,shape:nt,strides:s.ShapeUtil.computeStrides(nt),unpackedShape:ot,reversedWH:it&&it.reverseWH}}},5243:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextureManager=void 0;const s=a(1315);i.TextureManager=class{constructor($,et,_e,rt){this.glContext=$,this.layoutStrategy=et,this.profiler=_e,this.config=rt,this.pendingRead=new Map,rt.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout($,et,_e,rt){const ot=this.toEncoderType($),it=this.glContext.getEncoder(ot,et.channels||1,rt);if(et.isPacked&&rt===1)throw new Error("not implemented");const at=et.width,j=et.height;let _,tt;if(this.config.reuseTextures){_=`${at}x${j}_${it.format}_${it.internalFormat}_${it.textureType}`,tt=this.inUseTextures.get(_),tt||(tt=[],this.inUseTextures.set(_,tt));const st=this.idleTextures.get(_);if(st&&st.length>0){const dt=st.pop();return tt.push(dt),rt===1&&this.glContext.updateTexture(dt,at,j,it,this.toTextureData($,_e)),dt}}s.Logger.verbose("TextureManager",`Creating new texture of size ${et.width}x${et.height}`);const nt=this.glContext.allocateTexture(at,j,it,this.toTextureData($,_e));return this.config.reuseTextures&&(tt.push(nt),this.textureLookup.set(nt,_)),nt}readTexture($,et,_e){return _e||(_e=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const rt=$.shape.reduce((it,at)=>it*at)*_e,ot=this.glContext.readTexture($.texture,$.width,$.height,rt,this.toEncoderType(et),_e);return this.toTensorData(et,ot)})}async readTextureAsync($,et,_e){const rt=$.tensor.dataId;if(_e||(_e=1),this.pendingRead.has(rt)){const ot=this.pendingRead.get(rt);return new Promise(it=>ot==null?void 0:ot.push(it))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(rt,[]);const ot=$.shape.reduce((_,tt)=>_*tt)*_e;await this.glContext.createAndWaitForFence();const it=this.glContext.readTexture($.texture,$.width,$.height,ot,this.toEncoderType(et),_e),at=this.toTensorData(et,it),j=this.pendingRead.get(rt);return this.pendingRead.delete(rt),j==null||j.forEach(_=>_(at)),at})}readUint8TextureAsFloat($){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const et=$.shape.reduce((rt,ot)=>rt*ot),_e=this.glContext.readTexture($.texture,$.width,$.height,4*et,"byte",4);return new Float32Array(_e.buffer,_e.byteOffset,et)})}releaseTexture($,et){let _e;if(this.config.reuseTextures&&(_e=this.textureLookup.get($.texture),_e)){et&&this.textureLookup.delete(_e);const rt=this.inUseTextures.get(_e);if(rt){const ot=rt.indexOf($.texture);if(ot!==-1){rt.splice(ot,1);let it=this.idleTextures.get(_e);it||(it=[],this.idleTextures.set(_e,it)),it.push($.texture)}}}_e&&!et||(s.Logger.verbose("TextureManager",`Deleting texture of size ${$.width}x${$.height}`),this.glContext.deleteTexture($.texture))}toTensorData($,et){switch($){case"int16":return et instanceof Int16Array?et:Int16Array.from(et);case"int32":return et instanceof Int32Array?et:Int32Array.from(et);case"int8":return et instanceof Int8Array?et:Int8Array.from(et);case"uint16":return et instanceof Uint16Array?et:Uint16Array.from(et);case"uint32":return et instanceof Uint32Array?et:Uint32Array.from(et);case"uint8":case"bool":return et instanceof Uint8Array?et:Uint8Array.from(et);case"float32":return et instanceof Float32Array?et:Float32Array.from(et);case"float64":return et instanceof Float64Array?et:Float64Array.from(et);default:throw new Error(`TensorData type ${$} is not supported`)}}toTextureData($,et){if(et)return et instanceof Float32Array?et:new Float32Array(et)}toEncoderType($){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.TextureType=void 0,(a=i.TextureType||(i.TextureType={}))[a.unpacked=0]="unpacked",a[a.unpackedReversed=1]="unpackedReversed",a[a.packed=2]="packed",a[a.downloadUint8AsFloat=3]="downloadUint8AsFloat",a[a.packedLastDimension=4]="packedLastDimension"},432:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getGlChannels=i.getCoordsDataType=i.getSqueezedParams=i.squeezeInputShape=i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=i.generateShaderFuncNameFromInputSamplerName=i.repeatedTry=i.getPackedShape=void 0;const s=a(7273);i.getPackedShape=function($){const et=$.length;return $.slice(0,et-1).concat($[et-1]/4)},i.repeatedTry=async function($,et=rt=>0,_e){return new Promise((rt,ot)=>{let it=0;const at=()=>{if($())return void rt();it++;const j=et(it);_e!=null&&it>=_e?ot():setTimeout(at,j)};at()})},i.generateShaderFuncNameFromInputSamplerName=function($){return(0,s.assert)($!==void 0&&$.length!==0,()=>"empty string found for sampler name"),"get"+$.charAt(0).toUpperCase()+$.slice(1)},i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function($){return(0,s.assert)($!==void 0&&$.length!==0,()=>"empty string found for sampler name"),"get"+$.charAt(0).toUpperCase()+$.slice(1)+"AtOutCoords"},i.squeezeInputShape=function($,et){let _e=JSON.parse(JSON.stringify($));return _e=et,_e},i.getSqueezedParams=function($,et){return et.map(_e=>$[_e]).join(", ")},i.getCoordsDataType=function($){if($<=1)return"int";if($===2)return"ivec2";if($===3)return"ivec3";if($===4)return"ivec4";if($===5)return"ivec5";if($===6)return"ivec6";throw Error(`GPU for rank ${$} is not yet supported`)},i.getGlChannels=function($=6){return["x","y","z","w","u","v"].slice(0,$)}},3389:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createNewWebGLContext=i.createWebGLContext=void 0;const s=a(1315),$=a(3524),et={};function _e(rt){const ot=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const j=document.createElement("canvas");return j.width=1,j.height=1,j}();let it;const at={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!rt||rt==="webgl2")&&(it=ot.getContext("webgl2",at),it))try{return new $.WebGLContext(it,2)}catch(j){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${j}`)}if((!rt||rt==="webgl")&&(it=ot.getContext("webgl",at)||ot.getContext("experimental-webgl",at),it))try{return new $.WebGLContext(it,1)}catch(j){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${j}`)}throw new Error("WebGL is not supported")}i.createWebGLContext=function rt(ot){let it;ot&&ot!=="webgl2"||!("webgl2"in et)?ot&&ot!=="webgl"||!("webgl"in et)||(it=et.webgl):it=et.webgl2,it=it||_e(ot),ot=ot||it.version===1?"webgl":"webgl2";const at=it.gl;return et[ot]=it,at.isContextLost()?(delete et[ot],rt(ot)):(at.disable(at.DEPTH_TEST),at.disable(at.STENCIL_TEST),at.disable(at.BLEND),at.disable(at.DITHER),at.disable(at.POLYGON_OFFSET_FILL),at.disable(at.SAMPLE_COVERAGE),at.enable(at.SCISSOR_TEST),at.enable(at.CULL_FACE),at.cullFace(at.BACK),it)},i.createNewWebGLContext=_e},3524:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(at,j,_,tt){tt===void 0&&(tt=_);var nt=Object.getOwnPropertyDescriptor(j,_);nt&&!("get"in nt?!j.__esModule:nt.writable||nt.configurable)||(nt={enumerable:!0,get:function(){return j[_]}}),Object.defineProperty(at,tt,nt)}:function(at,j,_,tt){tt===void 0&&(tt=_),at[tt]=j[_]}),$=this&&this.__setModuleDefault||(Object.create?function(at,j){Object.defineProperty(at,"default",{enumerable:!0,value:j})}:function(at,j){at.default=j}),et=this&&this.__importStar||function(at){if(at&&at.__esModule)return at;var j={};if(at!=null)for(var _ in at)_!=="default"&&Object.prototype.hasOwnProperty.call(at,_)&&s(j,at,_);return $(j,at),j};Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLContext=i.linearSearchLastTrue=void 0;const _e=a(8453),rt=et(a(9622)),ot=a(432);function it(at){let j=0;for(;j<at.length&&at[j]();++j);return j-1}i.linearSearchLastTrue=it,i.WebGLContext=class{constructor(at,j){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=at,this.version=j,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(at,j,_,tt){const nt=this.gl,st=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,st),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.NEAREST),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE);const dt=tt?_.encode(tt,at*j):null;return nt.texImage2D(nt.TEXTURE_2D,0,_.internalFormat,at,j,0,_.format,_.textureType,dt),this.checkError(),st}updateTexture(at,j,_,tt,nt){const st=this.gl;st.bindTexture(st.TEXTURE_2D,at);const dt=tt.encode(nt,j*_);st.texSubImage2D(st.TEXTURE_2D,0,0,0,j,_,tt.format,tt.textureType,dt),this.checkError()}attachFramebuffer(at,j,_){const tt=this.gl;tt.bindTexture(tt.TEXTURE_2D,at),tt.bindFramebuffer(tt.FRAMEBUFFER,this.framebuffer),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,at,0),this.checkError(),tt.viewport(0,0,j,_),tt.scissor(0,0,j,_)}readTexture(at,j,_,tt,nt,st){const dt=this.gl;st||(st=1),this.frameBufferBound||this.attachFramebuffer(at,j,_);const ft=this.getEncoder(nt,st),gt=ft.allocate(j*_);return dt.bindTexture(dt.TEXTURE_2D,at),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,at,0),dt.readPixels(0,0,j,_,dt.RGBA,ft.textureType,gt),this.checkError(),ft.decode(gt,tt)}isFramebufferReady(){return!0}getActiveTexture(){const at=this.gl;return"TEXTURE"+(at.getParameter(this.gl.ACTIVE_TEXTURE)-at.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(at,j){const _=this.gl;_.vertexAttribPointer(at,3,_.FLOAT,!1,20,0),_.enableVertexAttribArray(at),j!==-1&&(_.vertexAttribPointer(j,2,_.FLOAT,!1,20,12),_.enableVertexAttribArray(j)),this.checkError()}createProgram(at,j){const _=this.gl,tt=_.createProgram();return _.attachShader(tt,at),_.attachShader(tt,j),_.linkProgram(tt),tt}compileShader(at,j){const _=this.gl,tt=_.createShader(j);if(!tt)throw new Error(`createShader() returned null with type ${j}`);if(_.shaderSource(tt,at),_.compileShader(tt),_.getShaderParameter(tt,_.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${_.getShaderInfoLog(tt)}
Shader source:
${at}`);return tt}deleteShader(at){this.gl.deleteShader(at)}bindTextureToUniform(at,j,_){const tt=this.gl;tt.activeTexture(tt.TEXTURE0+j),this.checkError(),tt.bindTexture(tt.TEXTURE_2D,at),this.checkError(),tt.uniform1i(_,j),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(_e.env.debug){const at=this.gl,j=at.getError();let _="";switch(j){case at.NO_ERROR:return;case at.INVALID_ENUM:_="INVALID_ENUM";break;case at.INVALID_VALUE:_="INVALID_VALUE";break;case at.INVALID_OPERATION:_="INVALID_OPERATION";break;case at.INVALID_FRAMEBUFFER_OPERATION:_="INVALID_FRAMEBUFFER_OPERATION";break;case at.OUT_OF_MEMORY:_="OUT_OF_MEMORY";break;case at.CONTEXT_LOST_WEBGL:_="CONTEXT_LOST_WEBGL";break;default:_=`Unknown WebGL Error: ${j.toString(16)}`}throw new Error(_)}}deleteTexture(at){this.gl.deleteTexture(at)}deleteProgram(at){this.gl.deleteProgram(at)}getEncoder(at,j,_=0){if(this.version===2)return new rt.RedFloat32DataEncoder(this.gl,j);switch(at){case"float":return _===1||this.isRenderFloat32Supported?new rt.RGBAFloatDataEncoder(this.gl,j):new rt.RGBAFloatDataEncoder(this.gl,j,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new rt.Uint8DataEncoder(this.gl,j);default:throw new Error(`Invalid dataType: ${at}`)}}clearActiveTextures(){const at=this.gl;for(let j=0;j<this.maxTextureImageUnits;++j)at.activeTexture(at.TEXTURE0+j),at.bindTexture(at.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const at=this.gl;at.bindFramebuffer(at.FRAMEBUFFER,null),at.deleteFramebuffer(this.framebuffer),at.bindBuffer(at.ARRAY_BUFFER,null),at.deleteBuffer(this.vertexbuffer),at.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),at.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const at=this.gl,j=at.createBuffer();if(!j)throw new Error("createBuffer() returned null");const _=this.createDefaultGeometry();return at.bindBuffer(at.ARRAY_BUFFER,j),at.bufferData(at.ARRAY_BUFFER,_,at.STATIC_DRAW),this.checkError(),j}createFramebuffer(){const at=this.gl.createFramebuffer();if(!at)throw new Error("createFramebuffer returned null");return at}queryVitalParameters(){const at=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=at.getParameter(at.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=at.getParameter(at.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const at=this.gl,j=at.createTexture();at.bindTexture(at.TEXTURE_2D,j);const _=this.version===2?at.RGBA32F:at.RGBA;at.texImage2D(at.TEXTURE_2D,0,_,1,1,0,at.RGBA,at.FLOAT,null);const tt=at.createFramebuffer();at.bindFramebuffer(at.FRAMEBUFFER,tt),at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,j,0);const nt=at.checkFramebufferStatus(at.FRAMEBUFFER)===at.FRAMEBUFFER_COMPLETE;return at.bindTexture(at.TEXTURE_2D,null),at.bindFramebuffer(at.FRAMEBUFFER,null),at.deleteTexture(j),at.deleteFramebuffer(tt),nt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const at=this.gl;let j,_,tt,nt,st;try{j=at.createTexture(),_=at.createFramebuffer(),at.bindTexture(at.TEXTURE_2D,j);const dt=this.version===2?at.RGBA32F:at.RGBA;return at.texImage2D(at.TEXTURE_2D,0,dt,1,1,0,at.RGBA,at.FLOAT,null),at.bindFramebuffer(at.FRAMEBUFFER,_),at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,j,0),at.enable(at.BLEND),tt=at.createShader(at.VERTEX_SHADER),!!tt&&(at.shaderSource(tt,"void main(){}"),at.compileShader(tt),nt=at.createShader(at.FRAGMENT_SHADER),!!nt&&(at.shaderSource(nt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),at.compileShader(nt),st=at.createProgram(),!!st&&(at.attachShader(st,tt),at.attachShader(st,nt),at.linkProgram(st),at.useProgram(st),at.drawArrays(at.POINTS,0,1),at.getError()===at.NO_ERROR)))}finally{at.disable(at.BLEND),st&&at.deleteProgram(st),tt&&at.deleteShader(tt),nt&&at.deleteShader(nt),_&&(at.bindFramebuffer(at.FRAMEBUFFER,null),at.deleteFramebuffer(_)),j&&(at.bindTexture(at.TEXTURE_2D,null),at.deleteTexture(j))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const at=this.gl,j=this.disjointTimerQueryWebgl2Extension,_=at.createQuery();return at.beginQuery(j.TIME_ELAPSED_EXT,_),_}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const at=this.gl,j=this.disjointTimerQueryWebgl2Extension;at.endQuery(j.TIME_ELAPSED_EXT)}}isTimerResultAvailable(at){let j=!1,_=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const tt=this.gl,nt=this.disjointTimerQueryWebgl2Extension;j=tt.getQueryParameter(at,tt.QUERY_RESULT_AVAILABLE),_=tt.getParameter(nt.GPU_DISJOINT_EXT)}return j&&!_}getTimerResult(at){let j=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const _=this.gl;j=_.getQueryParameter(at,_.QUERY_RESULT),_.deleteQuery(at)}return j/1e6}async waitForQueryAndGetTime(at){return await(0,ot.repeatedTry)(()=>this.isTimerResultAvailable(at)),this.getTimerResult(at)}async createAndWaitForFence(){const at=this.createFence(this.gl);return this.pollFence(at)}createFence(at){let j;const _=at,tt=_.fenceSync(_.SYNC_GPU_COMMANDS_COMPLETE,0);return at.flush(),j=tt===null?()=>!0:()=>{const nt=_.clientWaitSync(tt,0,0);return nt===_.ALREADY_SIGNALED||nt===_.CONDITION_SATISFIED},{query:tt,isFencePassed:j}}async pollFence(at){return new Promise(j=>{this.addItemToPoll(()=>at.isFencePassed(),()=>j())})}pollItems(){const at=it(this.itemsToPoll.map(j=>j.isDoneFn));for(let j=0;j<=at;++j){const{resolveFn:_}=this.itemsToPoll[j];_()}this.itemsToPoll=this.itemsToPoll.slice(at+1)}async addItemToPoll(at,j){this.itemsToPoll.push({isDoneFn:at,resolveFn:j}),this.itemsToPoll.length>1||await(0,ot.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExecutionPlan=void 0;const s=a(1315);class ${constructor(_e,rt){this.op=_e,this.node=rt}}i.ExecutionPlan=class{constructor(et,_e,rt){this.graph=et,this.profiler=rt,this.initialize(_e)}initialize(et){this.profiler.event("session","ExecutionPlan.initialize",()=>{const _e=this.graph.getNodes();if(_e.length!==et.length)throw new Error("The size of nodes and OPs do not match.");this._ops=et.map((rt,ot)=>new $(rt,_e[ot])),this.reset(),this._starter=[],this._ops.forEach((rt,ot)=>{let it=!0;for(const at of rt.node.inputs)if(!this._values[at]&&this.graph.getInputIndices().indexOf(at)===-1){it=!1;break}it&&this._starter.push(ot)})})}reset(){this._values=this.graph.getValues().map(et=>et.tensor)}async execute(et,_e){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const rt=et.createInferenceHandler(),ot=this.graph.getInputIndices();if(_e.length!==ot.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${_e.length} expected: ${ot.length}`);_e.forEach((nt,st)=>{const dt=ot[st];this._values[dt]=nt});const it=this._starter.slice(0),at=this.graph.getValues(),j=this.graph.getNodes();let _=0;for(;_<it.length;){const nt=it[_++],st=this._ops[nt],dt=st.node.inputs.map(mt=>this._values[mt]);if(dt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${st.node}`);const ft=dt;s.Logger.verbose("ExecPlan",`Runing op:${st.node.name} (${ft.map((mt,vt)=>`'${st.node.inputs[vt]}': ${mt.type}[${mt.dims.join(",")}]`).join(", ")})`);const gt=await this.profiler.event("node",st.node.name,async()=>st.op.impl(rt,ft,st.op.context));if(gt.length!==st.node.outputs.length)throw new Error("the size of output does not match model definition.");gt.forEach((mt,vt)=>{const yt=st.node.outputs[vt];if(this._values[yt])throw new Error(`output [${yt}] already has value: op:${st.node.name}`);this._values[yt]=mt});const pt=new Set;gt.forEach((mt,vt)=>{const yt=st.node.outputs[vt];for(const xt of at[yt].to){const wt=j[xt];let St=!0;for(const Ct of wt.inputs)if(!this._values[Ct]){St=!1;break}St&&pt.add(xt)}}),it.push(...pt)}const tt=[];for(let nt=0;nt<this.graph.getOutputIndices().length;nt++){const st=this.graph.getOutputIndices()[nt],dt=this._values[st];if(dt===void 0)throw new Error(`required output [${st}] does not have value`);st===0?await dt.getData():dt.data,tt.push(dt)}return s.Logger.verbose("ExecPlan","disposing of inferenceHandler"),rt.dispose(),tt})}}},4662:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Graph=void 0;const s=a(1446),$=a(6874),et=a(1287),_e=a(9240),rt=a(7273);var ot=et.onnxruntime.experimental.fbs;i.Graph={from:(_,tt)=>new j(_,tt)};class it{constructor(tt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,tt&&(this.type=rt.ProtoUtil.tensorValueTypeFromProto(tt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class at{constructor(tt,nt){tt instanceof s.onnx.NodeProto?(this.name=tt.name,this.opType=tt.opType,this.attributes=new $.Attribute(tt.attribute)):tt instanceof ot.Node&&(this.name=nt??tt.name(),this.opType=tt.opType(),this.attributes=new $.Attribute(rt.ProtoUtil.tensorAttributesFromORTFormat(tt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class j{constructor(tt,nt){if(!tt)throw new TypeError("graph is empty");this.buildGraph(tt),this.transformGraph(nt),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(tt){if(tt instanceof s.onnx.GraphProto)this.buildGraphFromOnnxFormat(tt);else{if(!(tt instanceof ot.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(tt)}}buildGraphFromOnnxFormat(tt){const nt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const st=new Map;if(!tt.input)throw new Error("missing information in graph: input");const dt=[];for(const ft of tt.input){if(nt.has(ft.name))throw new Error(`duplicated input name: ${ft.name}`);const gt=this._allData.push(new it(ft))-1;nt.set(ft.name,gt),dt.push(ft.name)}if(!tt.initializer)throw new Error("missing information in graph: initializer");for(const ft of tt.initializer){let gt=nt.get(ft.name);if(gt===void 0){const pt=new it;pt.type={shape:{dims:rt.ProtoUtil.tensorDimsFromProto(ft.dims)},tensorType:rt.ProtoUtil.tensorDataTypeFromProto(ft.dataType)},gt=this._allData.push(pt)-1,nt.set(ft.name,gt)}this._allData[gt]._from=-1,this._allData[gt].tensor=_e.Tensor.fromProto(ft)}for(let ft=0;ft<this._allData.length;ft++)this._allData[ft].tensor||(this._allInputIndices.push(ft),this._allInputNames.push(dt[ft]));if(!tt.output)throw new Error("missing information in graph: output");for(const ft of tt.output){if(nt.has(ft.name))throw new Error(`duplicated output name: ${ft.name}`);const gt=this._allData.push(new it(ft))-1;nt.set(ft.name,gt),this._allOutputIndices.push(gt),this._allOutputNames.push(ft.name)}if(!tt.node)throw new Error("missing information in graph: node");for(const ft of tt.node){if(!ft.name)for(let pt=0;;pt++){const mt=`unnamed_${ft.opType}_${pt}`;if(!st.has(mt)){ft.name=mt;break}}if(st.has(ft.name))throw new Error(`duplicated node name: ${ft.name}`);const gt=this._nodes.push(new at(ft))-1;st.set(ft.name,gt)}for(let ft=0;ft<this._nodes.length;ft++){const gt=this._nodes[ft],pt=tt.node[ft];if(!pt.output)throw new Error(`missing output for node: ${pt.name}`);for(const mt of pt.output){let vt=nt.get(mt);if(vt===void 0&&(vt=this._allData.push(new it)-1,nt.set(mt,vt)),gt.outputs.push(vt),this._allData[vt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${vt}`);if(this._allData[vt]._from=ft,pt.opType==="Constant"){if(!pt.attribute||pt.attribute.length!==1||!pt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!pt.output||pt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");gt.outputs.pop(),gt.executeNode=!1,this._allData[vt]._from=-1,this._allData[vt].tensor=_e.Tensor.fromProto(pt.attribute[0].t)}}}for(let ft=0;ft<this._nodes.length;ft++){const gt=this._nodes[ft],pt=tt.node[ft];if(!pt.input)throw new Error(`missing input for node: ${pt.name}`);for(const mt of pt.input){const vt=nt.get(mt);if(vt===void 0){if(mt===""&&pt.input.length===3&&pt.opType==="Resize")continue;throw new Error(`unrecognized input '${mt}' for node: ${pt.name}`)}gt.inputs.push(vt),this._allData[vt]._to.push(ft)}}return!0}buildGraphFromOrtFormat(tt){var nt,st,dt;const ft=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const gt=new Map,pt=[];for(let mt=0;mt<tt.inputsLength();mt++){const vt=tt.inputs(mt);if(ft.has(vt))throw new Error(`duplicated input name: ${vt}`);for(let yt=0;yt<tt.nodeArgsLength();yt++)if(((nt=tt.nodeArgs(yt))===null||nt===void 0?void 0:nt.name())===vt){const xt=new it;if(((dt=(st=tt.nodeArgs(yt))===null||st===void 0?void 0:st.type())===null||dt===void 0?void 0:dt.valueType())!==ot.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const wt=tt.nodeArgs(yt).type().value(new ot.TensorTypeAndShape),St=rt.ProtoUtil.tensorDataTypeFromProto(wt.elemType()),Ct=wt.shape(),At=[];for(let Rt=0;Rt<Ct.dimLength();Rt++)At.push(rt.LongUtil.longToNumber(Ct.dim(Rt).value().dimValue()));xt.type={shape:{dims:At},tensorType:St};const $t=this._allData.push(xt)-1;ft.set(vt,$t),pt.push(vt)}}for(let mt=0;mt<tt.initializersLength();mt++){const vt=tt.initializers(mt);let yt=ft.get(vt.name());if(yt===void 0){const xt=new it,wt=rt.ProtoUtil.tensorDimsFromORTFormat(vt),St=rt.ProtoUtil.tensorDataTypeFromProto(vt.dataType());xt.type={shape:{dims:wt},tensorType:St},yt=this._allData.push(xt)-1,ft.set(vt.name(),yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=_e.Tensor.fromOrtTensor(vt)}for(let mt=0;mt<this._allData.length;mt++)this._allData[mt].tensor||(this._allInputIndices.push(mt),this._allInputNames.push(pt[mt]));for(let mt=0;mt<tt.outputsLength();mt++){const vt=tt.outputs(mt);if(ft.has(vt))throw new Error(`duplicated output name: ${vt}`);const yt=this._allData.push(new it)-1;ft.set(vt,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(vt)}if(!tt.nodes)throw new Error("missing information in graph: node");for(let mt=0;mt<tt.nodesLength();mt++){const vt=tt.nodes(mt);let yt=vt.name();if(!yt)for(let wt=0;yt=`unnamed_${vt.opType()}_${wt}`,gt.has(yt);wt++);if(gt.has(yt))throw new Error(`duplicated node name: ${yt}`);const xt=this._nodes.push(new at(vt,yt))-1;gt.set(yt,xt)}for(let mt=0;mt<this._nodes.length;mt++){const vt=this._nodes[mt],yt=tt.nodes(mt);if(yt==null)throw new Error(`No node exists at index ${mt}`);if((yt==null?void 0:yt.outputsLength())===0)throw new Error(`missing output for node: ${yt.name}`);for(let xt=0;xt<(yt==null?void 0:yt.outputsLength());xt++){const wt=yt==null?void 0:yt.outputs(xt);let St=ft.get(wt);if(St===void 0&&(St=this._allData.push(new it)-1,ft.set(wt,St)),vt.outputs.push(St),this._allData[St]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${St}`);if(this._allData[St]._from=mt,yt.opType()==="Constant"){if(yt.attributesLength()!==1||!yt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(yt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");vt.outputs.pop(),vt.executeNode=!1,this._allData[St]._from=-1,this._allData[St].tensor=_e.Tensor.fromOrtTensor(yt.attributes(0).t())}}}for(let mt=0;mt<this._nodes.length;mt++){const vt=this._nodes[mt],yt=tt.nodes(mt);if(yt.inputsLength()===0)throw new Error(`missing input for node: ${yt.name}`);for(let xt=0;xt<yt.inputsLength();xt++){const wt=yt.inputs(xt),St=ft.get(wt);if(St===void 0)throw new Error(`unrecognized input '${wt}' for node: ${yt.name()}`);vt.inputs.push(St),this._allData[St]._to.push(mt)}}}checkIsAcyclic(){const tt=new Set;this._allInputIndices.forEach(dt=>{this._allData[dt]._to.forEach(ft=>{tt.add(ft)})});const nt=Array.from(tt),st=new Array(this._nodes.length).fill("white");for(;nt.length>0;){const dt=nt.pop();st[dt]==="gray"?st[dt]="black":(nt.push(dt),st[dt]="gray",this._nodes[dt].outputs.forEach(ft=>{const gt=this._allData[ft];if(gt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(gt._from!==dt)throw new Error("from property of the Value object doesn't match index of Node being processed");gt._to.forEach(pt=>{if(st[pt]==="gray")throw new Error("model graph is cyclic");st[pt]==="white"&&nt.push(pt)})}))}}transformGraph(tt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),tt&&tt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let tt=0;const nt=new Array(this._nodes.length,0);let st=0;for(let dt=0;dt<this._nodes.length;dt++)nt[dt]=st,this._nodes[dt].executeNode?(st!==dt&&(this._nodes[st]=this._nodes[dt]),st++):this._nodes[dt].outputs.forEach(ft=>{this._allData[ft]._from=-2});this._nodes.splice(st,this._nodes.length-st);for(let dt=0;dt<this._allData.length;dt++){const ft=this._allData[dt];ft._from!==void 0&&ft._from!==-1&&ft._from!==-2&&(ft._from=nt[ft._from]);for(let gt=0;gt<ft._to.length;gt++){if(!(ft._to[gt]>=0))throw new Error("Trying to update a removed node");ft._to[gt]=nt[ft._to[gt]]}}tt=0;for(let dt=0;dt<this._allData.length;dt++)if(this._allData[dt].from!==-2||this._allOutputIndices.indexOf(dt+tt)!==-1){if(tt>0){let ft=-1;this._allData[dt].from!==void 0&&this._allData[dt].from!==-1?(ft=this._nodes[this._allData[dt].from].outputs.indexOf(dt+tt),ft!==-1&&(this._nodes[this._allData[dt].from].outputs[ft]=dt)):(ft=this._allInputIndices.indexOf(dt+tt),ft!==-1&&(this._allInputIndices[ft]=dt)),this._allData[dt].to.forEach(gt=>{ft=this._nodes[gt].inputs.indexOf(dt+tt),ft!==-1&&(this._nodes[gt].inputs[ft]=dt)}),this._allData[dt].to.length===0&&(ft=this._allOutputIndices.indexOf(dt+tt),ft!==-1&&(this._allOutputIndices[ft]=dt))}}else tt++,this._allData.splice(dt,1),dt--}deleteNode(tt){const nt=this._nodes[tt];if(nt.outputs.length>1){for(let pt=1;pt<nt.outputs.length;pt++)if(this._allData[nt.outputs[pt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}nt.executeNode=!1;const st=nt.inputs[0],dt=nt.outputs[0],ft=this._allData[dt].to;for(let pt=0;pt<nt.inputs.length;pt++){const mt=this._allData[nt.inputs[pt]].to.indexOf(tt);if(mt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[nt.inputs[pt]].to.splice(mt,1)}this._allData[dt]._to=[];const gt=this._allOutputIndices.indexOf(dt);if(gt!==-1&&(this._allOutputIndices[gt]=st),ft&&ft.length>0)for(const pt of ft){const mt=this._nodes[pt].inputs.indexOf(dt);if(mt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[pt].inputs[mt]=st,this._allData[st].to.push(pt)}}removeAllDropoutNodes(){let tt=0;for(const nt of this._nodes){if(nt.opType==="Dropout"){if(nt.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(nt.outputs.length!==1&&nt.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(nt.outputs.length===2&&this._allData[nt.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(tt)}tt++}}removeAllIdentityNodes(){let tt=0;for(const nt of this._nodes)nt.opType==="Identity"&&this.deleteNode(tt),tt++}isActivation(tt){switch(tt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const tt of this._nodes)if(tt.opType==="Conv"){const nt=this._allData[tt.outputs[0]]._to;if(nt.length===1&&this.isActivation(this._nodes[nt[0]])){const st=this._nodes[nt[0]];if(st.opType==="Clip")if(st.inputs.length===1)try{tt.attributes.set("activation_params","floats",[st.attributes.getFloat("min"),st.attributes.getFloat("max")])}catch{tt.attributes.set("activation_params","floats",[rt.MIN_CLIP,rt.MAX_CLIP])}else{if(!(st.inputs.length>=3&&this._allData[st.inputs[1]].tensor!==void 0&&this._allData[st.inputs[2]].tensor!==void 0))continue;tt.attributes.set("activation_params","floats",[this._allData[st.inputs[1]].tensor.floatData[0],this._allData[st.inputs[2]].tensor.floatData[0]])}tt.attributes.set("activation","string",st.opType),this.deleteNode(nt[0])}}}}},1315:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.now=i.Profiler=i.Logger=void 0;const a={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},s={none:new class{log(at,j,_){}},console:new class{log(at,j,_){console.log(`${this.color(at)} ${_?"\x1B[35m"+_+"\x1B[0m ":""}${j}`)}color(at){switch(at){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${at}`)}}}},$={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let et={"":$};function _e(at,j,_,tt){if(j===void 0)return nt=at,{verbose:_e.verbose.bind(null,nt),info:_e.info.bind(null,nt),warning:_e.warning.bind(null,nt),error:_e.error.bind(null,nt),fatal:_e.fatal.bind(null,nt)};if(_===void 0)rt(at,j);else if(typeof _=="number"&&tt===void 0)rt(at,j);else if(typeof _=="string"&&tt===void 0)rt(at,_,0,j);else{if(typeof _!="string"||typeof tt!="number")throw new TypeError("input is valid");rt(at,_,0,j)}var nt}function rt(at,j,_,tt){const nt=et[tt||""]||et[""];a[at]<a[nt.minimalSeverity]||(nt.logDateTime&&(j=`${new Date().toISOString()}|${j}`),nt.logSourceLocation,s[nt.provider].log(at,j,tt))}(function(at){function j(tt){et={},_("",tt||{})}function _(tt,nt){if(tt==="*")j(nt);else{const st=et[tt]||$;et[tt]={provider:nt.provider||st.provider,minimalSeverity:nt.minimalSeverity||st.minimalSeverity,logDateTime:nt.logDateTime===void 0?st.logDateTime:nt.logDateTime,logSourceLocation:nt.logSourceLocation===void 0?st.logSourceLocation:nt.logSourceLocation}}}at.verbose=function(tt,nt){at("verbose",tt,nt)},at.info=function(tt,nt){at("info",tt,nt)},at.warning=function(tt,nt){at("warning",tt,nt)},at.error=function(tt,nt){at("error",tt,nt)},at.fatal=function(tt,nt){at("fatal",tt,nt)},at.reset=j,at.set=_,at.setWithEnv=function(tt){const nt={};tt.logLevel&&(nt.minimalSeverity=tt.logLevel),_("",nt)}})(_e||(_e={})),i.Logger=_e;class ot{constructor(j,_,tt,nt,st,dt){this.category=j,this.name=_,this.startTime=tt,this.endCallback=nt,this.timer=st,this.ctx=dt}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class it{constructor(j,_,tt,nt){this.category=j,this.name=_,this.startTime=tt,this.endTime=nt}}i.Profiler=class{static create(at){return at===void 0?new this:new this(at.maxNumberEvents,at.flushBatchSize,at.flushIntervalInMilliseconds)}constructor(at,j,_){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=at===void 0?1e4:at,this._flushBatchSize=j===void 0?10:j,this._flushIntervalInMilliseconds=_===void 0?5e3:_}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,i.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(at,j,_,tt){const nt=this._started?this.begin(at,j,tt):void 0;let st=!1;const dt=_();if(dt&&typeof dt.then=="function")return st=!0,new Promise((ft,gt)=>{dt.then(async pt=>{nt&&await nt.end(),ft(pt)},async pt=>{nt&&await nt.end(),gt(pt)})});if(!st&&nt){const ft=nt.end();if(ft&&typeof ft.then=="function")return new Promise((gt,pt)=>{ft.then(()=>{gt(dt)},mt=>{pt(mt)})})}return dt}begin(at,j,_){if(!this._started)throw new Error("profiler is not started yet");if(_===void 0){const tt=(0,i.now)();return this.flush(tt),new ot(at,j,tt,nt=>this.endSync(nt))}{const tt=_.beginTimer();return new ot(at,j,0,async nt=>this.end(nt),tt,_)}}async end(at){const j=await at.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(at.category,at.name,at.startTime,j)),this.flush(j))}endSync(at){const j=(0,i.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(at.category,at.name,at.startTime,j)),this.flush(j))}logOneEvent(at){i.Logger.verbose(`Profiler.${at.category}`,`${(at.endTime-at.startTime).toFixed(2)}ms on event '${at.name}' at ${at.endTime.toFixed(2)}`)}flush(at){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||at-this._flushTime>=this._flushIntervalInMilliseconds){for(const j=this._flushPointer;this._flushPointer<j+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,i.now)()}}get started(){return this._started}},i.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Model=void 0;const s=a(5686),$=a(1446),et=a(4662),_e=a(1287),rt=a(7273);var ot=_e.onnxruntime.experimental.fbs;i.Model=class{constructor(){}load(it,at,j){if(!j)try{return void this.loadFromOnnxFormat(it,at)}catch(_){if(j!==void 0)throw _}this.loadFromOrtFormat(it,at)}loadFromOnnxFormat(it,at){const j=$.onnx.ModelProto.decode(it);if(rt.LongUtil.longToNumber(j.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=j.opsetImport.map(_=>({domain:_.domain,version:rt.LongUtil.longToNumber(_.version)})),this._graph=et.Graph.from(j.graph,at)}loadFromOrtFormat(it,at){const j=new s.flatbuffers.ByteBuffer(it),_=ot.InferenceSession.getRootAsInferenceSession(j).model();if(rt.LongUtil.longToNumber(_.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let tt=0;tt<_.opsetImportLength();tt++){const nt=_.opsetImport(tt);this._opsets.push({domain:nt==null?void 0:nt.domain(),version:rt.LongUtil.longToNumber(nt.version())})}this._graph=et.Graph.from(_.graph(),at)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FLOAT_TYPES=i.INT_TYPES=i.NUMBER_TYPES=void 0,i.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],i.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],i.FLOAT_TYPES=["float32","float64"]},5881:(o,i)=>{function a(s,$){if($.endsWith("+")){const et=Number.parseInt($.substring(0,$.length-1),10);return!isNaN(et)&&et<=s}if($.split("-").length===2){const et=$.split("-"),_e=Number.parseInt(et[0],10),rt=Number.parseInt(et[1],10);return!isNaN(_e)&&!isNaN(rt)&&_e<=s&&s<=rt}return Number.parseInt($,10)===s}Object.defineProperty(i,"__esModule",{value:!0}),i.resolveOperator=void 0,i.resolveOperator=function(s,$,et){for(const _e of et){const rt=_e[0],ot=_e[1],it=_e[2],at=_e[3],j=_e[4];if(s.opType===rt){for(const _ of $)if((_.domain===ot||_.domain==="ai.onnx"&&ot==="")&&a(_.version,it))return{opImpl:at,opInit:j}}}throw new TypeError(`cannot resolve operator '${s.opType}' with opsets: ${$.map(_e=>`${_e.domain||"ai.onnx"} v${_e.version}`).join(", ")}`)}},1287:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.onnxruntime=void 0;const s=a(5686);var $,et;$=i.onnxruntime||(i.onnxruntime={}),function(_e){(function(rt){rt[rt.UNDEFINED=0]="UNDEFINED",rt[rt.FLOAT=1]="FLOAT",rt[rt.INT=2]="INT",rt[rt.STRING=3]="STRING",rt[rt.TENSOR=4]="TENSOR",rt[rt.GRAPH=5]="GRAPH",rt[rt.FLOATS=6]="FLOATS",rt[rt.INTS=7]="INTS",rt[rt.STRINGS=8]="STRINGS",rt[rt.TENSORS=9]="TENSORS",rt[rt.GRAPHS=10]="GRAPHS",rt[rt.SPARSE_TENSOR=11]="SPARSE_TENSOR",rt[rt.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(_e.AttributeType||(_e.AttributeType={}))}((et=$.experimental||($.experimental={})).fbs||(et.fbs={})),function(_e){(function(rt){(function(ot){(function(it){it[it.UNKNOWN=0]="UNKNOWN",it[it.VALUE=1]="VALUE",it[it.PARAM=2]="PARAM"})(ot.DimensionValueType||(ot.DimensionValueType={}))})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){(function(it){it[it.UNDEFINED=0]="UNDEFINED",it[it.FLOAT=1]="FLOAT",it[it.UINT8=2]="UINT8",it[it.INT8=3]="INT8",it[it.UINT16=4]="UINT16",it[it.INT16=5]="INT16",it[it.INT32=6]="INT32",it[it.INT64=7]="INT64",it[it.STRING=8]="STRING",it[it.BOOL=9]="BOOL",it[it.FLOAT16=10]="FLOAT16",it[it.DOUBLE=11]="DOUBLE",it[it.UINT32=12]="UINT32",it[it.UINT64=13]="UINT64",it[it.COMPLEX64=14]="COMPLEX64",it[it.COMPLEX128=15]="COMPLEX128",it[it.BFLOAT16=16]="BFLOAT16"})(ot.TensorDataType||(ot.TensorDataType={}))})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){(function(it){it[it.Primitive=0]="Primitive",it[it.Fused=1]="Fused"})(ot.NodeType||(ot.NodeType={}))})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){(function(it){it[it.NONE=0]="NONE",it[it.tensor_type=1]="tensor_type",it[it.sequence_type=2]="sequence_type",it[it.map_type=3]="map_type"})(ot.TypeInfoValue||(ot.TypeInfoValue={}))})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsShape(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsShape(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}dim(j,_){let tt=this.bb.__offset(this.bb_pos,4);return tt?(_||new _e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}dimLength(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__vector_len(this.bb_pos+j):0}static startShape(j){j.startObject(1)}static addDim(j,_){j.addFieldOffset(0,_,0)}static createDimVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startDimVector(j,_){j.startVector(4,_,4)}static endShape(j){return j.endObject()}static createShape(j,_){return it.startShape(j),it.addDim(j,_),it.endShape(j)}}ot.Shape=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsDimension(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsDimension(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}value(j){let _=this.bb.__offset(this.bb_pos,4);return _?(j||new _e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}denotation(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.__string(this.bb_pos+_,j):null}static startDimension(j){j.startObject(2)}static addValue(j,_){j.addFieldOffset(0,_,0)}static addDenotation(j,_){j.addFieldOffset(1,_,0)}static endDimension(j){return j.endObject()}static createDimension(j,_,tt){return it.startDimension(j),it.addValue(j,_),it.addDenotation(j,tt),it.endDimension(j)}}ot.Dimension=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsDimensionValue(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsDimensionValue(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}dimType(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readInt8(this.bb_pos+j):_e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.readInt64(this.bb_pos+j):this.bb.createLong(0,0)}dimParam(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.__string(this.bb_pos+_,j):null}static startDimensionValue(j){j.startObject(3)}static addDimType(j,_){j.addFieldInt8(0,_,_e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(j,_){j.addFieldInt64(1,_,j.createLong(0,0))}static addDimParam(j,_){j.addFieldOffset(2,_,0)}static endDimensionValue(j){return j.endObject()}static createDimensionValue(j,_,tt,nt){return it.startDimensionValue(j),it.addDimType(j,_),it.addDimValue(j,tt),it.addDimParam(j,nt),it.endDimensionValue(j)}}ot.DimensionValue=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsTensorTypeAndShape(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsTensorTypeAndShape(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}elemType(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readInt32(this.bb_pos+j):_e.experimental.fbs.TensorDataType.UNDEFINED}shape(j){let _=this.bb.__offset(this.bb_pos,6);return _?(j||new _e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startTensorTypeAndShape(j){j.startObject(2)}static addElemType(j,_){j.addFieldInt32(0,_,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(j,_){j.addFieldOffset(1,_,0)}static endTensorTypeAndShape(j){return j.endObject()}static createTensorTypeAndShape(j,_,tt){return it.startTensorTypeAndShape(j),it.addElemType(j,_),it.addShape(j,tt),it.endTensorTypeAndShape(j)}}ot.TensorTypeAndShape=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsMapType(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsMapType(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}keyType(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readInt32(this.bb_pos+j):_e.experimental.fbs.TensorDataType.UNDEFINED}valueType(j){let _=this.bb.__offset(this.bb_pos,6);return _?(j||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startMapType(j){j.startObject(2)}static addKeyType(j,_){j.addFieldInt32(0,_,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(j,_){j.addFieldOffset(1,_,0)}static endMapType(j){return j.endObject()}static createMapType(j,_,tt){return it.startMapType(j),it.addKeyType(j,_),it.addValueType(j,tt),it.endMapType(j)}}ot.MapType=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsSequenceType(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsSequenceType(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}elemType(j){let _=this.bb.__offset(this.bb_pos,4);return _?(j||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startSequenceType(j){j.startObject(1)}static addElemType(j,_){j.addFieldOffset(0,_,0)}static endSequenceType(j){return j.endObject()}static createSequenceType(j,_){return it.startSequenceType(j),it.addElemType(j,_),it.endSequenceType(j)}}ot.SequenceType=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(rt.fbs||(rt.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(ot,it){return this.bb_pos=ot,this.bb=it,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(ot,it,at,j){return ot.prep(4,12),ot.writeInt32(j),ot.writeInt32(at),ot.writeInt32(it),ot.offset()}}})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsNodeEdge(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsNodeEdge(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}nodeIndex(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readUint32(this.bb_pos+j):0}inputEdges(j,_){let tt=this.bb.__offset(this.bb_pos,6);return tt?(_||new _e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+tt)+12*j,this.bb):null}inputEdgesLength(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__vector_len(this.bb_pos+j):0}outputEdges(j,_){let tt=this.bb.__offset(this.bb_pos,8);return tt?(_||new _e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+tt)+12*j,this.bb):null}outputEdgesLength(){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__vector_len(this.bb_pos+j):0}static startNodeEdge(j){j.startObject(3)}static addNodeIndex(j,_){j.addFieldInt32(0,_,0)}static addInputEdges(j,_){j.addFieldOffset(1,_,0)}static startInputEdgesVector(j,_){j.startVector(12,_,4)}static addOutputEdges(j,_){j.addFieldOffset(2,_,0)}static startOutputEdgesVector(j,_){j.startVector(12,_,4)}static endNodeEdge(j){return j.endObject()}static createNodeEdge(j,_,tt,nt){return it.startNodeEdge(j),it.addNodeIndex(j,_),it.addInputEdges(j,tt),it.addOutputEdges(j,nt),it.endNodeEdge(j)}}ot.NodeEdge=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsNode(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsNode(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}name(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}docString(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.__string(this.bb_pos+_,j):null}domain(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.__string(this.bb_pos+_,j):null}sinceVersion(){let j=this.bb.__offset(this.bb_pos,10);return j?this.bb.readInt32(this.bb_pos+j):0}index(){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.readUint32(this.bb_pos+j):0}opType(j){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb_pos+_,j):null}type(){let j=this.bb.__offset(this.bb_pos,16);return j?this.bb.readInt32(this.bb_pos+j):_e.experimental.fbs.NodeType.Primitive}executionProviderType(j){let _=this.bb.__offset(this.bb_pos,18);return _?this.bb.__string(this.bb_pos+_,j):null}inputs(j,_){let tt=this.bb.__offset(this.bb_pos,20);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}inputsLength(){let j=this.bb.__offset(this.bb_pos,20);return j?this.bb.__vector_len(this.bb_pos+j):0}outputs(j,_){let tt=this.bb.__offset(this.bb_pos,22);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}outputsLength(){let j=this.bb.__offset(this.bb_pos,22);return j?this.bb.__vector_len(this.bb_pos+j):0}attributes(j,_){let tt=this.bb.__offset(this.bb_pos,24);return tt?(_||new _e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}attributesLength(){let j=this.bb.__offset(this.bb_pos,24);return j?this.bb.__vector_len(this.bb_pos+j):0}inputArgCounts(j){let _=this.bb.__offset(this.bb_pos,26);return _?this.bb.readInt32(this.bb.__vector(this.bb_pos+_)+4*j):0}inputArgCountsLength(){let j=this.bb.__offset(this.bb_pos,26);return j?this.bb.__vector_len(this.bb_pos+j):0}inputArgCountsArray(){let j=this.bb.__offset(this.bb_pos,26);return j?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+j),this.bb.__vector_len(this.bb_pos+j)):null}implicitInputs(j,_){let tt=this.bb.__offset(this.bb_pos,28);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}implicitInputsLength(){let j=this.bb.__offset(this.bb_pos,28);return j?this.bb.__vector_len(this.bb_pos+j):0}static startNode(j){j.startObject(13)}static addName(j,_){j.addFieldOffset(0,_,0)}static addDocString(j,_){j.addFieldOffset(1,_,0)}static addDomain(j,_){j.addFieldOffset(2,_,0)}static addSinceVersion(j,_){j.addFieldInt32(3,_,0)}static addIndex(j,_){j.addFieldInt32(4,_,0)}static addOpType(j,_){j.addFieldOffset(5,_,0)}static addType(j,_){j.addFieldInt32(6,_,_e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(j,_){j.addFieldOffset(7,_,0)}static addInputs(j,_){j.addFieldOffset(8,_,0)}static createInputsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startInputsVector(j,_){j.startVector(4,_,4)}static addOutputs(j,_){j.addFieldOffset(9,_,0)}static createOutputsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startOutputsVector(j,_){j.startVector(4,_,4)}static addAttributes(j,_){j.addFieldOffset(10,_,0)}static createAttributesVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startAttributesVector(j,_){j.startVector(4,_,4)}static addInputArgCounts(j,_){j.addFieldOffset(11,_,0)}static createInputArgCountsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addInt32(_[tt]);return j.endVector()}static startInputArgCountsVector(j,_){j.startVector(4,_,4)}static addImplicitInputs(j,_){j.addFieldOffset(12,_,0)}static createImplicitInputsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startImplicitInputsVector(j,_){j.startVector(4,_,4)}static endNode(j){return j.endObject()}static createNode(j,_,tt,nt,st,dt,ft,gt,pt,mt,vt,yt,xt,wt){return it.startNode(j),it.addName(j,_),it.addDocString(j,tt),it.addDomain(j,nt),it.addSinceVersion(j,st),it.addIndex(j,dt),it.addOpType(j,ft),it.addType(j,gt),it.addExecutionProviderType(j,pt),it.addInputs(j,mt),it.addOutputs(j,vt),it.addAttributes(j,yt),it.addInputArgCounts(j,xt),it.addImplicitInputs(j,wt),it.endNode(j)}}ot.Node=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsValueInfo(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsValueInfo(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}name(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}docString(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.__string(this.bb_pos+_,j):null}type(j){let _=this.bb.__offset(this.bb_pos,8);return _?(j||new _e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startValueInfo(j){j.startObject(3)}static addName(j,_){j.addFieldOffset(0,_,0)}static addDocString(j,_){j.addFieldOffset(1,_,0)}static addType(j,_){j.addFieldOffset(2,_,0)}static endValueInfo(j){return j.endObject()}static createValueInfo(j,_,tt,nt){return it.startValueInfo(j),it.addName(j,_),it.addDocString(j,tt),it.addType(j,nt),it.endValueInfo(j)}}ot.ValueInfo=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsTypeInfo(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsTypeInfo(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}denotation(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}valueType(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.readUint8(this.bb_pos+j):_e.experimental.fbs.TypeInfoValue.NONE}value(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.__union(j,this.bb_pos+_):null}static startTypeInfo(j){j.startObject(3)}static addDenotation(j,_){j.addFieldOffset(0,_,0)}static addValueType(j,_){j.addFieldInt8(1,_,_e.experimental.fbs.TypeInfoValue.NONE)}static addValue(j,_){j.addFieldOffset(2,_,0)}static endTypeInfo(j){return j.endObject()}static createTypeInfo(j,_,tt,nt){return it.startTypeInfo(j),it.addDenotation(j,_),it.addValueType(j,tt),it.addValue(j,nt),it.endTypeInfo(j)}}ot.TypeInfo=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsOperatorSetId(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsOperatorSetId(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}domain(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}version(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.readInt64(this.bb_pos+j):this.bb.createLong(0,0)}static startOperatorSetId(j){j.startObject(2)}static addDomain(j,_){j.addFieldOffset(0,_,0)}static addVersion(j,_){j.addFieldInt64(1,_,j.createLong(0,0))}static endOperatorSetId(j){return j.endObject()}static createOperatorSetId(j,_,tt){return it.startOperatorSetId(j),it.addDomain(j,_),it.addVersion(j,tt),it.endOperatorSetId(j)}}ot.OperatorSetId=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsTensor(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsTensor(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}name(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}docString(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.__string(this.bb_pos+_,j):null}dims(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.readInt64(this.bb.__vector(this.bb_pos+_)+8*j):this.bb.createLong(0,0)}dimsLength(){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__vector_len(this.bb_pos+j):0}dataType(){let j=this.bb.__offset(this.bb_pos,10);return j?this.bb.readInt32(this.bb_pos+j):_e.experimental.fbs.TensorDataType.UNDEFINED}rawData(j){let _=this.bb.__offset(this.bb_pos,12);return _?this.bb.readUint8(this.bb.__vector(this.bb_pos+_)+j):0}rawDataLength(){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.__vector_len(this.bb_pos+j):0}rawDataArray(){let j=this.bb.__offset(this.bb_pos,12);return j?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+j),this.bb.__vector_len(this.bb_pos+j)):null}stringData(j,_){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}stringDataLength(){let j=this.bb.__offset(this.bb_pos,14);return j?this.bb.__vector_len(this.bb_pos+j):0}static startTensor(j){j.startObject(6)}static addName(j,_){j.addFieldOffset(0,_,0)}static addDocString(j,_){j.addFieldOffset(1,_,0)}static addDims(j,_){j.addFieldOffset(2,_,0)}static createDimsVector(j,_){j.startVector(8,_.length,8);for(let tt=_.length-1;tt>=0;tt--)j.addInt64(_[tt]);return j.endVector()}static startDimsVector(j,_){j.startVector(8,_,8)}static addDataType(j,_){j.addFieldInt32(3,_,_e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(j,_){j.addFieldOffset(4,_,0)}static createRawDataVector(j,_){j.startVector(1,_.length,1);for(let tt=_.length-1;tt>=0;tt--)j.addInt8(_[tt]);return j.endVector()}static startRawDataVector(j,_){j.startVector(1,_,1)}static addStringData(j,_){j.addFieldOffset(5,_,0)}static createStringDataVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startStringDataVector(j,_){j.startVector(4,_,4)}static endTensor(j){return j.endObject()}static createTensor(j,_,tt,nt,st,dt,ft){return it.startTensor(j),it.addName(j,_),it.addDocString(j,tt),it.addDims(j,nt),it.addDataType(j,st),it.addRawData(j,dt),it.addStringData(j,ft),it.endTensor(j)}}ot.Tensor=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsSparseTensor(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsSparseTensor(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}values(j){let _=this.bb.__offset(this.bb_pos,4);return _?(j||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}indices(j){let _=this.bb.__offset(this.bb_pos,6);return _?(j||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}dims(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.readInt64(this.bb.__vector(this.bb_pos+_)+8*j):this.bb.createLong(0,0)}dimsLength(){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__vector_len(this.bb_pos+j):0}static startSparseTensor(j){j.startObject(3)}static addValues(j,_){j.addFieldOffset(0,_,0)}static addIndices(j,_){j.addFieldOffset(1,_,0)}static addDims(j,_){j.addFieldOffset(2,_,0)}static createDimsVector(j,_){j.startVector(8,_.length,8);for(let tt=_.length-1;tt>=0;tt--)j.addInt64(_[tt]);return j.endVector()}static startDimsVector(j,_){j.startVector(8,_,8)}static endSparseTensor(j){return j.endObject()}static createSparseTensor(j,_,tt,nt){return it.startSparseTensor(j),it.addValues(j,_),it.addIndices(j,tt),it.addDims(j,nt),it.endSparseTensor(j)}}ot.SparseTensor=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsAttribute(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsAttribute(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}name(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}docString(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.__string(this.bb_pos+_,j):null}type(){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.readInt32(this.bb_pos+j):_e.experimental.fbs.AttributeType.UNDEFINED}f(){let j=this.bb.__offset(this.bb_pos,10);return j?this.bb.readFloat32(this.bb_pos+j):0}i(){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.readInt64(this.bb_pos+j):this.bb.createLong(0,0)}s(j){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb_pos+_,j):null}t(j){let _=this.bb.__offset(this.bb_pos,16);return _?(j||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}g(j){let _=this.bb.__offset(this.bb_pos,18);return _?(j||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}floats(j){let _=this.bb.__offset(this.bb_pos,20);return _?this.bb.readFloat32(this.bb.__vector(this.bb_pos+_)+4*j):0}floatsLength(){let j=this.bb.__offset(this.bb_pos,20);return j?this.bb.__vector_len(this.bb_pos+j):0}floatsArray(){let j=this.bb.__offset(this.bb_pos,20);return j?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+j),this.bb.__vector_len(this.bb_pos+j)):null}ints(j){let _=this.bb.__offset(this.bb_pos,22);return _?this.bb.readInt64(this.bb.__vector(this.bb_pos+_)+8*j):this.bb.createLong(0,0)}intsLength(){let j=this.bb.__offset(this.bb_pos,22);return j?this.bb.__vector_len(this.bb_pos+j):0}strings(j,_){let tt=this.bb.__offset(this.bb_pos,24);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}stringsLength(){let j=this.bb.__offset(this.bb_pos,24);return j?this.bb.__vector_len(this.bb_pos+j):0}tensors(j,_){let tt=this.bb.__offset(this.bb_pos,26);return tt?(_||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}tensorsLength(){let j=this.bb.__offset(this.bb_pos,26);return j?this.bb.__vector_len(this.bb_pos+j):0}graphs(j,_){let tt=this.bb.__offset(this.bb_pos,28);return tt?(_||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}graphsLength(){let j=this.bb.__offset(this.bb_pos,28);return j?this.bb.__vector_len(this.bb_pos+j):0}static startAttribute(j){j.startObject(13)}static addName(j,_){j.addFieldOffset(0,_,0)}static addDocString(j,_){j.addFieldOffset(1,_,0)}static addType(j,_){j.addFieldInt32(2,_,_e.experimental.fbs.AttributeType.UNDEFINED)}static addF(j,_){j.addFieldFloat32(3,_,0)}static addI(j,_){j.addFieldInt64(4,_,j.createLong(0,0))}static addS(j,_){j.addFieldOffset(5,_,0)}static addT(j,_){j.addFieldOffset(6,_,0)}static addG(j,_){j.addFieldOffset(7,_,0)}static addFloats(j,_){j.addFieldOffset(8,_,0)}static createFloatsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addFloat32(_[tt]);return j.endVector()}static startFloatsVector(j,_){j.startVector(4,_,4)}static addInts(j,_){j.addFieldOffset(9,_,0)}static createIntsVector(j,_){j.startVector(8,_.length,8);for(let tt=_.length-1;tt>=0;tt--)j.addInt64(_[tt]);return j.endVector()}static startIntsVector(j,_){j.startVector(8,_,8)}static addStrings(j,_){j.addFieldOffset(10,_,0)}static createStringsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startStringsVector(j,_){j.startVector(4,_,4)}static addTensors(j,_){j.addFieldOffset(11,_,0)}static createTensorsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startTensorsVector(j,_){j.startVector(4,_,4)}static addGraphs(j,_){j.addFieldOffset(12,_,0)}static createGraphsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startGraphsVector(j,_){j.startVector(4,_,4)}static endAttribute(j){return j.endObject()}static createAttribute(j,_,tt,nt,st,dt,ft,gt,pt,mt,vt,yt,xt,wt){return it.startAttribute(j),it.addName(j,_),it.addDocString(j,tt),it.addType(j,nt),it.addF(j,st),it.addI(j,dt),it.addS(j,ft),it.addT(j,gt),it.addG(j,pt),it.addFloats(j,mt),it.addInts(j,vt),it.addStrings(j,yt),it.addTensors(j,xt),it.addGraphs(j,wt),it.endAttribute(j)}}ot.Attribute=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsGraph(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsGraph(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}initializers(j,_){let tt=this.bb.__offset(this.bb_pos,4);return tt?(_||new _e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}initializersLength(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__vector_len(this.bb_pos+j):0}nodeArgs(j,_){let tt=this.bb.__offset(this.bb_pos,6);return tt?(_||new _e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}nodeArgsLength(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__vector_len(this.bb_pos+j):0}nodes(j,_){let tt=this.bb.__offset(this.bb_pos,8);return tt?(_||new _e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}nodesLength(){let j=this.bb.__offset(this.bb_pos,8);return j?this.bb.__vector_len(this.bb_pos+j):0}maxNodeIndex(){let j=this.bb.__offset(this.bb_pos,10);return j?this.bb.readUint32(this.bb_pos+j):0}nodeEdges(j,_){let tt=this.bb.__offset(this.bb_pos,12);return tt?(_||new _e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}nodeEdgesLength(){let j=this.bb.__offset(this.bb_pos,12);return j?this.bb.__vector_len(this.bb_pos+j):0}inputs(j,_){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}inputsLength(){let j=this.bb.__offset(this.bb_pos,14);return j?this.bb.__vector_len(this.bb_pos+j):0}outputs(j,_){let tt=this.bb.__offset(this.bb_pos,16);return tt?this.bb.__string(this.bb.__vector(this.bb_pos+tt)+4*j,_):null}outputsLength(){let j=this.bb.__offset(this.bb_pos,16);return j?this.bb.__vector_len(this.bb_pos+j):0}sparseInitializers(j,_){let tt=this.bb.__offset(this.bb_pos,18);return tt?(_||new _e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}sparseInitializersLength(){let j=this.bb.__offset(this.bb_pos,18);return j?this.bb.__vector_len(this.bb_pos+j):0}static startGraph(j){j.startObject(8)}static addInitializers(j,_){j.addFieldOffset(0,_,0)}static createInitializersVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startInitializersVector(j,_){j.startVector(4,_,4)}static addNodeArgs(j,_){j.addFieldOffset(1,_,0)}static createNodeArgsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startNodeArgsVector(j,_){j.startVector(4,_,4)}static addNodes(j,_){j.addFieldOffset(2,_,0)}static createNodesVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startNodesVector(j,_){j.startVector(4,_,4)}static addMaxNodeIndex(j,_){j.addFieldInt32(3,_,0)}static addNodeEdges(j,_){j.addFieldOffset(4,_,0)}static createNodeEdgesVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startNodeEdgesVector(j,_){j.startVector(4,_,4)}static addInputs(j,_){j.addFieldOffset(5,_,0)}static createInputsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startInputsVector(j,_){j.startVector(4,_,4)}static addOutputs(j,_){j.addFieldOffset(6,_,0)}static createOutputsVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startOutputsVector(j,_){j.startVector(4,_,4)}static addSparseInitializers(j,_){j.addFieldOffset(7,_,0)}static createSparseInitializersVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startSparseInitializersVector(j,_){j.startVector(4,_,4)}static endGraph(j){return j.endObject()}static createGraph(j,_,tt,nt,st,dt,ft,gt,pt){return it.startGraph(j),it.addInitializers(j,_),it.addNodeArgs(j,tt),it.addNodes(j,nt),it.addMaxNodeIndex(j,st),it.addNodeEdges(j,dt),it.addInputs(j,ft),it.addOutputs(j,gt),it.addSparseInitializers(j,pt),it.endGraph(j)}}ot.Graph=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsModel(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsModel(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}irVersion(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.readInt64(this.bb_pos+j):this.bb.createLong(0,0)}opsetImport(j,_){let tt=this.bb.__offset(this.bb_pos,6);return tt?(_||new _e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}opsetImportLength(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__vector_len(this.bb_pos+j):0}producerName(j){let _=this.bb.__offset(this.bb_pos,8);return _?this.bb.__string(this.bb_pos+_,j):null}producerVersion(j){let _=this.bb.__offset(this.bb_pos,10);return _?this.bb.__string(this.bb_pos+_,j):null}domain(j){let _=this.bb.__offset(this.bb_pos,12);return _?this.bb.__string(this.bb_pos+_,j):null}modelVersion(){let j=this.bb.__offset(this.bb_pos,14);return j?this.bb.readInt64(this.bb_pos+j):this.bb.createLong(0,0)}docString(j){let _=this.bb.__offset(this.bb_pos,16);return _?this.bb.__string(this.bb_pos+_,j):null}graph(j){let _=this.bb.__offset(this.bb_pos,18);return _?(j||new _e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}graphDocString(j){let _=this.bb.__offset(this.bb_pos,20);return _?this.bb.__string(this.bb_pos+_,j):null}static startModel(j){j.startObject(9)}static addIrVersion(j,_){j.addFieldInt64(0,_,j.createLong(0,0))}static addOpsetImport(j,_){j.addFieldOffset(1,_,0)}static createOpsetImportVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startOpsetImportVector(j,_){j.startVector(4,_,4)}static addProducerName(j,_){j.addFieldOffset(2,_,0)}static addProducerVersion(j,_){j.addFieldOffset(3,_,0)}static addDomain(j,_){j.addFieldOffset(4,_,0)}static addModelVersion(j,_){j.addFieldInt64(5,_,j.createLong(0,0))}static addDocString(j,_){j.addFieldOffset(6,_,0)}static addGraph(j,_){j.addFieldOffset(7,_,0)}static addGraphDocString(j,_){j.addFieldOffset(8,_,0)}static endModel(j){return j.endObject()}static createModel(j,_,tt,nt,st,dt,ft,gt,pt,mt){return it.startModel(j),it.addIrVersion(j,_),it.addOpsetImport(j,tt),it.addProducerName(j,nt),it.addProducerVersion(j,st),it.addDomain(j,dt),it.addModelVersion(j,ft),it.addDocString(j,gt),it.addGraph(j,pt),it.addGraphDocString(j,mt),it.endModel(j)}}ot.Model=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsKernelCreateInfos(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsKernelCreateInfos(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}nodeIndices(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.readUint32(this.bb.__vector(this.bb_pos+_)+4*j):0}nodeIndicesLength(){let j=this.bb.__offset(this.bb_pos,4);return j?this.bb.__vector_len(this.bb_pos+j):0}nodeIndicesArray(){let j=this.bb.__offset(this.bb_pos,4);return j?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+j),this.bb.__vector_len(this.bb_pos+j)):null}kernelDefHashes(j){let _=this.bb.__offset(this.bb_pos,6);return _?this.bb.readUint64(this.bb.__vector(this.bb_pos+_)+8*j):this.bb.createLong(0,0)}kernelDefHashesLength(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__vector_len(this.bb_pos+j):0}static startKernelCreateInfos(j){j.startObject(2)}static addNodeIndices(j,_){j.addFieldOffset(0,_,0)}static createNodeIndicesVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addInt32(_[tt]);return j.endVector()}static startNodeIndicesVector(j,_){j.startVector(4,_,4)}static addKernelDefHashes(j,_){j.addFieldOffset(1,_,0)}static createKernelDefHashesVector(j,_){j.startVector(8,_.length,8);for(let tt=_.length-1;tt>=0;tt--)j.addInt64(_[tt]);return j.endVector()}static startKernelDefHashesVector(j,_){j.startVector(8,_,8)}static endKernelCreateInfos(j){return j.endObject()}static createKernelCreateInfos(j,_,tt){return it.startKernelCreateInfos(j),it.addNodeIndices(j,_),it.addKernelDefHashes(j,tt),it.endKernelCreateInfos(j)}}ot.KernelCreateInfos=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsSubGraphSessionState(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsSubGraphSessionState(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}graphId(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}sessionState(j){let _=this.bb.__offset(this.bb_pos,6);return _?(j||new _e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startSubGraphSessionState(j){j.startObject(2)}static addGraphId(j,_){j.addFieldOffset(0,_,0)}static addSessionState(j,_){j.addFieldOffset(1,_,0)}static endSubGraphSessionState(j){let _=j.endObject();return j.requiredField(_,4),_}static createSubGraphSessionState(j,_,tt){return it.startSubGraphSessionState(j),it.addGraphId(j,_),it.addSessionState(j,tt),it.endSubGraphSessionState(j)}}ot.SubGraphSessionState=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsSessionState(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsSessionState(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}kernels(j){let _=this.bb.__offset(this.bb_pos,4);return _?(j||new _e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}subGraphSessionStates(j,_){let tt=this.bb.__offset(this.bb_pos,6);return tt?(_||new _e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+tt)+4*j),this.bb):null}subGraphSessionStatesLength(){let j=this.bb.__offset(this.bb_pos,6);return j?this.bb.__vector_len(this.bb_pos+j):0}static startSessionState(j){j.startObject(2)}static addKernels(j,_){j.addFieldOffset(0,_,0)}static addSubGraphSessionStates(j,_){j.addFieldOffset(1,_,0)}static createSubGraphSessionStatesVector(j,_){j.startVector(4,_.length,4);for(let tt=_.length-1;tt>=0;tt--)j.addOffset(_[tt]);return j.endVector()}static startSubGraphSessionStatesVector(j,_){j.startVector(4,_,4)}static endSessionState(j){return j.endObject()}static createSessionState(j,_,tt){return it.startSessionState(j),it.addKernels(j,_),it.addSubGraphSessionStates(j,tt),it.endSessionState(j)}}ot.SessionState=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(_e){(function(rt){(function(ot){class it{constructor(){this.bb=null,this.bb_pos=0}__init(j,_){return this.bb_pos=j,this.bb=_,this}static getRootAsInferenceSession(j,_){return(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static getSizePrefixedRootAsInferenceSession(j,_){return j.setPosition(j.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(_||new it).__init(j.readInt32(j.position())+j.position(),j)}static bufferHasIdentifier(j){return j.__has_identifier("ORTM")}ortVersion(j){let _=this.bb.__offset(this.bb_pos,4);return _?this.bb.__string(this.bb_pos+_,j):null}model(j){let _=this.bb.__offset(this.bb_pos,6);return _?(j||new _e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}sessionState(j){let _=this.bb.__offset(this.bb_pos,8);return _?(j||new _e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+_),this.bb):null}static startInferenceSession(j){j.startObject(3)}static addOrtVersion(j,_){j.addFieldOffset(0,_,0)}static addModel(j,_){j.addFieldOffset(1,_,0)}static addSessionState(j,_){j.addFieldOffset(2,_,0)}static endInferenceSession(j){return j.endObject()}static finishInferenceSessionBuffer(j,_){j.finish(_,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(j,_){j.finish(_,"ORTM",!0)}static createInferenceSession(j,_,tt,nt){return it.startInferenceSession(j),it.addOrtVersion(j,_),it.addModel(j,tt),it.addSessionState(j,nt),it.endInferenceSession(j)}}ot.InferenceSession=it})(rt.fbs||(rt.fbs={}))})(_e.experimental||(_e.experimental={}))}(i.onnxruntime||(i.onnxruntime={}))},1723:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxjsSessionHandler=void 0;const s=a(8453),$=a(9240);i.OnnxjsSessionHandler=class{constructor(et){this.session=et,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(et,_e,rt){const ot=new Map;for(const j in et)if(Object.hasOwnProperty.call(et,j)){const _=et[j];ot.set(j,new $.Tensor(_.dims,_.type,void 0,void 0,_.data))}const it=await this.session.run(ot),at={};return it.forEach((j,_)=>{at[_]=new s.Tensor(j.type,j.data,j.dims)}),at}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Session=void 0;const s=a(7067),$=a(1296),et=a(1975),_e=a(6496),rt=a(1315),ot=a(1745);i.Session=class{constructor(it={}){this._initialized=!1,this.backendHint=it.backendHint,this.profiler=rt.Profiler.create(it.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(it,at,j){await this.profiler.event("session","Session.loadModel",async()=>{const _=await(0,et.resolveBackend)(this.backendHint);if(this.sessionHandler=_.createSessionHandler(this.context),this._model=new ot.Model,typeof it=="string"){const tt=it.endsWith(".ort");if(typeof fetch>"u"){const nt=await(0,$.promisify)(s.readFile)(it);this.initialize(nt,tt)}else{const nt=await fetch(it),st=await nt.arrayBuffer();this.initialize(new Uint8Array(st),tt)}}else if(ArrayBuffer.isView(it))this.initialize(it);else{const tt=new Uint8Array(it,at||0,j||it.byteLength);this.initialize(tt)}})}initialize(it,at){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const j=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(it,j,at),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new _e.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(it){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const at=this.normalizeAndValidateInputs(it),j=await this._executionPlan.execute(this.sessionHandler,at);return this.createOutput(j)})}normalizeAndValidateInputs(it){const at=this._model.graph.getInputNames();if(Array.isArray(it)){if(it.length!==at.length)throw new Error(`incorrect input array length: expected ${at.length} but got ${it.length}`)}else{if(it.size!==at.length)throw new Error(`incorrect input map size: expected ${at.length} but got ${it.size}`);const j=new Array(it.size);let _=0;for(let tt=0;tt<at.length;++tt){const nt=it.get(at[tt]);if(!nt)throw new Error(`missing input tensor for: '${name}'`);j[_++]=nt}it=j}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,it,!1);else{const j=this._model.graph.getInputIndices(),_=this._model.graph.getValues(),tt=new Array(j.length);for(let nt=0;nt<j.length;++nt){const st=_[j[nt]];tt[nt]=st.type.shape.dims,this.context.graphInputTypes.push(st.type.tensorType),this.context.graphInputDims.push(it[nt].dims)}this.validateInputTensorDims(tt,it,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,it),it}validateInputTensorTypes(it,at){for(let j=0;j<at.length;j++){const _=it[j],tt=at[j].type;if(_!==tt)throw new Error(`input tensor[${j}] check failed: expected type '${_}' but got ${tt}`)}}validateInputTensorDims(it,at,j){for(let _=0;_<at.length;_++){const tt=it[_],nt=at[_].dims;if(!this.compareTensorDims(tt,nt,j))throw new Error(`input tensor[${_}] check failed: expected shape '[${tt.join(",")}]' but got [${nt.join(",")}]`)}}compareTensorDims(it,at,j){if(it.length!==at.length)return!1;for(let _=0;_<it.length;++_)if(it[_]!==at[_]&&(!j||it[_]!==0))return!1;return!0}createOutput(it){const at=this._model.graph.getOutputNames();if(it.length!==at.length)throw new Error("expected number of outputs do not match number of generated outputs");const j=new Map;for(let _=0;_<at.length;++_)j.set(at[_],it[_]);return j}initializeOps(it){const at=it.getNodes();this._ops=new Array(at.length);for(let j=0;j<at.length;j++)this._ops[j]=this.sessionHandler.resolve(at[j],this._model.opsets,it)}}},9240:function(o,i,a){var s=this&&this.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(i,"__esModule",{value:!0}),i.Tensor=void 0;const $=a(3442),et=s(a(3720)),_e=a(1446),rt=a(1287),ot=a(7273);var it=rt.onnxruntime.experimental.fbs;class at{get data(){if(this.cache===void 0){const dt=this.dataProvider(this.dataId);if(dt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=dt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(dt){return this.data[ot.ShapeUtil.indicesToOffset(dt,this.strides)]}set(dt,ft){this.data[ot.ShapeUtil.indicesToOffset(dt,this.strides)]=ft}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ot.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(dt,ft,gt,pt,mt,vt=$.Guid.create()){this.dims=dt,this.type=ft,this.dataProvider=gt,this.asyncDataProvider=pt,this.cache=mt,this.dataId=vt,this.size=ot.ShapeUtil.validateDimsAndCalcSize(dt);const yt=this.size,xt=gt===void 0&&pt===void 0&&mt===void 0;if(mt!==void 0&&mt.length!==yt)throw new RangeError("Input dims doesn't match data length.");if(ft==="string"){if(!(mt===void 0||Array.isArray(mt)&&mt.every(wt=>typeof wt=="string")))throw new TypeError("cache should be a string array");xt&&(this.cache=new Array(yt))}else{if(mt!==void 0){const wt=_(ft);if(!(mt instanceof wt))throw new TypeError(`cache should be type ${wt.name}`)}if(xt){const wt=new ArrayBuffer(yt*function(St){switch(St){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${St}`)}}(ft));this.cache=function(St,Ct){return new(_(Ct))(St)}(wt,ft)}}}static fromProto(dt){if(!dt)throw new Error("cannot construct Value from an empty tensor");const ft=ot.ProtoUtil.tensorDataTypeFromProto(dt.dataType),gt=ot.ProtoUtil.tensorDimsFromProto(dt.dims),pt=new at(gt,ft);if(ft==="string")dt.stringData.forEach((mt,vt)=>{pt.data[vt]=(0,ot.decodeUtf8String)(mt)});else if(dt.rawData&&typeof dt.rawData.byteLength=="number"&&dt.rawData.byteLength>0){const mt=pt.data,vt=new DataView(dt.rawData.buffer,dt.rawData.byteOffset,dt.rawData.byteLength),yt=j(dt.dataType),xt=dt.rawData.byteLength/yt;if(dt.rawData.byteLength%yt!=0)throw new Error("invalid buffer length");if(mt.length!==xt)throw new Error("buffer length mismatch");for(let wt=0;wt<xt;wt++){const St=nt(vt,dt.dataType,wt*yt);mt[wt]=St}}else{let mt;switch(dt.dataType){case _e.onnx.TensorProto.DataType.FLOAT:mt=dt.floatData;break;case _e.onnx.TensorProto.DataType.INT32:case _e.onnx.TensorProto.DataType.INT16:case _e.onnx.TensorProto.DataType.UINT16:case _e.onnx.TensorProto.DataType.INT8:case _e.onnx.TensorProto.DataType.UINT8:case _e.onnx.TensorProto.DataType.BOOL:mt=dt.int32Data;break;case _e.onnx.TensorProto.DataType.INT64:mt=dt.int64Data;break;case _e.onnx.TensorProto.DataType.DOUBLE:mt=dt.doubleData;break;case _e.onnx.TensorProto.DataType.UINT32:case _e.onnx.TensorProto.DataType.UINT64:mt=dt.uint64Data;break;default:throw new Error("unspecific error")}if(mt==null)throw new Error("failed to populate data from a tensorproto value");const vt=pt.data;if(vt.length!==mt.length)throw new Error("array length mismatch");for(let yt=0;yt<mt.length;yt++){const xt=mt[yt];et.default.isLong(xt)?vt[yt]=tt(xt,dt.dataType):vt[yt]=xt}}return pt}static fromData(dt,ft,gt){return new at(ft,gt,void 0,void 0,dt)}static fromOrtTensor(dt){if(!dt)throw new Error("cannot construct Value from an empty tensor");const ft=ot.ProtoUtil.tensorDimsFromORTFormat(dt),gt=ot.ProtoUtil.tensorDataTypeFromProto(dt.dataType()),pt=new at(ft,gt);if(gt==="string")for(let mt=0;mt<dt.stringDataLength();mt++)pt.data[mt]=dt.stringData(mt);else if(dt.rawDataArray()&&typeof dt.rawDataLength()=="number"&&dt.rawDataLength()>0){const mt=pt.data,vt=new DataView(dt.rawDataArray().buffer,dt.rawDataArray().byteOffset,dt.rawDataLength()),yt=j(dt.dataType()),xt=dt.rawDataLength()/yt;if(dt.rawDataLength()%yt!=0)throw new Error("invalid buffer length");if(mt.length!==xt)throw new Error("buffer length mismatch");for(let wt=0;wt<xt;wt++){const St=nt(vt,dt.dataType(),wt*yt);mt[wt]=St}}return pt}}function j(st){switch(st){case _e.onnx.TensorProto.DataType.UINT8:case _e.onnx.TensorProto.DataType.INT8:case _e.onnx.TensorProto.DataType.BOOL:return 1;case _e.onnx.TensorProto.DataType.UINT16:case _e.onnx.TensorProto.DataType.INT16:return 2;case _e.onnx.TensorProto.DataType.FLOAT:case _e.onnx.TensorProto.DataType.INT32:case _e.onnx.TensorProto.DataType.UINT32:return 4;case _e.onnx.TensorProto.DataType.INT64:case _e.onnx.TensorProto.DataType.DOUBLE:case _e.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${_e.onnx.TensorProto.DataType[st]}`)}}function _(st){switch(st){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function tt(st,dt){if(dt===_e.onnx.TensorProto.DataType.INT64||dt===it.TensorDataType.INT64){if(st.greaterThanOrEqual(2147483648)||st.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(dt!==_e.onnx.TensorProto.DataType.UINT32&&dt!==it.TensorDataType.UINT32&&dt!==_e.onnx.TensorProto.DataType.UINT64&&dt!==it.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${_e.onnx.TensorProto.DataType[dt]}`);if(st.greaterThanOrEqual(4294967296)||st.lessThan(0))throw new TypeError("uint64 is not supported")}return st.toNumber()}function nt(st,dt,ft){switch(dt){case _e.onnx.TensorProto.DataType.BOOL:case _e.onnx.TensorProto.DataType.UINT8:return st.getUint8(ft);case _e.onnx.TensorProto.DataType.INT8:return st.getInt8(ft);case _e.onnx.TensorProto.DataType.UINT16:return st.getUint16(ft,!0);case _e.onnx.TensorProto.DataType.INT16:return st.getInt16(ft,!0);case _e.onnx.TensorProto.DataType.FLOAT:return st.getFloat32(ft,!0);case _e.onnx.TensorProto.DataType.INT32:return st.getInt32(ft,!0);case _e.onnx.TensorProto.DataType.UINT32:return st.getUint32(ft,!0);case _e.onnx.TensorProto.DataType.INT64:return tt(et.default.fromBits(st.getUint32(ft,!0),st.getUint32(ft+4,!0),!1),dt);case _e.onnx.TensorProto.DataType.DOUBLE:return st.getFloat64(ft,!0);case _e.onnx.TensorProto.DataType.UINT64:return tt(et.default.fromBits(st.getUint32(ft,!0),st.getUint32(ft+4,!0),!0),dt);default:throw new Error(`cannot read from DataView for type ${_e.onnx.TensorProto.DataType[dt]}`)}}i.Tensor=at},7273:function(o,i,a){var s=this&&this.__importDefault||function(dt){return dt&&dt.__esModule?dt:{default:dt}};Object.defineProperty(i,"__esModule",{value:!0}),i.decodeUtf8String=i.MAX_CLIP=i.MIN_CLIP=i.PoolConvUtil=i.ReduceUtil=i.SplitUtil=i.MathUtil=i.ShapeUtil=i.LongUtil=i.ProtoUtil=i.GemmUtil=i.arrayCopyHelper=i.BroadcastUtil=i.MatMulUtil=i.ArrayUtil=i.assert=i.checkInputsShape=void 0;const $=a(5686),et=s(a(3720)),_e=a(1446),rt=a(9240);i.checkInputsShape=function(dt,...ft){if(!dt||dt.length!==ft.length)return!1;for(let gt=0;gt<dt.length;gt++)if(!dt[gt].dims||dt[gt].dims.length!==ft[gt])return!1;return!0},i.assert=function(dt,ft){if(!dt)throw new Error(typeof ft=="string"?ft:ft())},i.ArrayUtil=class{static arraysEqual(dt,ft){if(dt.length!==ft.length)return!1;for(let gt=0;gt<dt.length;gt++)if(dt[gt]!==ft[gt])return!1;return!0}};class ot{static preprocessInputShapes(ft,gt){return[ft.length===1?[1,ft[0]]:ft,gt.length===1?[gt[0],1]:gt]}static postprocessOutputShape(ft,gt,pt){gt===1&&ft.splice(ft.length-2,1),pt===1&&ft.pop()}static calcMatMulShape(ft,gt){return ft[1]!==gt[0]?void 0:[ft[0],gt[1]]}}i.MatMulUtil=ot;class it{static calcShape(ft,gt,pt=!1){const mt=ft.length,vt=gt.length;if(mt===0)return gt;if(vt===0)return ft;const yt=Math.max(ft.length,gt.length),xt=new Array(yt);if(pt){if(mt<2||vt<2)return;const wt=ot.calcMatMulShape([ft[mt-2],ft[mt-1]],[gt[vt-2],gt[vt-1]]);if(wt===void 0)return;[xt[yt-2],xt[yt-1]]=wt}for(let wt=pt?3:1;wt<=yt;wt++){const St=mt-wt<0?1:ft[mt-wt],Ct=vt-wt<0?1:gt[vt-wt];if(St!==Ct&&St>1&&Ct>1)return;xt[yt-wt]=Math.max(St,Ct)}return xt}static index(ft,gt){const pt=new Array(gt.length);return it.fillIndex(ft,gt,pt),pt}static fillIndex(ft,gt,pt){const mt=ft.length-gt.length;for(let vt=0;vt<gt.length;vt++)pt[vt]=ft[mt+vt]%gt[vt]}static calc(ft,gt,pt,mt,vt){const yt=it.calcShape(ft.dims,gt.dims);if(yt){if(mt&&!_.areEqual(yt,ft.dims))return;const xt=_.size(yt),wt=mt?ft:new rt.Tensor(yt,vt||ft.type);if(yt.length===0)wt.set([],pt(ft.get([]),gt.get([])));else{const St=new Array(yt.length),Ct=new Array(ft.dims.length),At=new Array(gt.dims.length);let $t,Rt=0,kt=0,Lt=!1,Dt=!1;ft.dims.length===0&&(Rt=ft.get([]),Lt=!0),gt.dims.length===0&&(kt=gt.get([]),Dt=!0);for(let Mt=0;Mt<xt;Mt++){$t=Mt;for(let Vt=yt.length-1;Vt>=0;Vt--)St[Vt]=$t%yt[Vt],$t=Math.floor($t/yt[Vt]);Lt||(it.fillIndex(St,ft.dims,Ct),Rt=ft.get(Ct)),Dt||(it.fillIndex(St,gt.dims,At),kt=gt.get(At)),wt.set(St,pt(Rt,kt))}}return wt}}static isValidBroadcast(ft,gt){const pt=ft.length,mt=gt.length;if(pt>mt)return!1;for(let vt=1;vt<=pt;vt++)if(ft[pt-vt]!==1&&ft[pt-vt]!==gt[mt-vt])return!1;return!0}static getBroadcastDims(ft,gt){const pt=ft.length,mt=[];for(let vt=0;vt<pt;vt++){const yt=pt-1-vt,xt=ft[yt]||1;(gt[gt.length-1-vt]||1)>1&&xt===1&&mt.unshift(yt)}return mt}}i.BroadcastUtil=it,i.arrayCopyHelper=function(dt,ft,gt,pt,mt){if(pt<0||pt>=ft.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(pt+mt>ft.length)throw new Error("source indices to be copied are outside bounds");if(gt+mt>dt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<mt;vt++)dt[gt+vt]=ft[pt+vt]},i.GemmUtil=class{static getShapeOfGemmResult(dt,ft,gt,pt,mt){if(dt.length!==2||gt.length!==2)throw new Error("shape need to be of size 2");let vt,yt,xt;ft?(vt=dt[1],yt=dt[0]):(vt=dt[0],yt=dt[1]);let wt=-1;if(pt?(xt=gt[0],wt=1):(xt=gt[1],wt=0),gt[wt]!==yt)throw new Error("dimension mismatch");if(vt<=0||xt<=0||yt<=0)throw new Error("invalid shape specified");if(mt&&!it.isValidBroadcast(mt,[vt,xt]))throw new Error("gemm: invalid bias shape for broadcast");return[vt,xt,yt]}};class at{static tensorDataTypeFromProto(ft){switch(ft){case _e.onnx.TensorProto.DataType.INT8:return"int8";case _e.onnx.TensorProto.DataType.UINT8:return"uint8";case _e.onnx.TensorProto.DataType.BOOL:return"bool";case _e.onnx.TensorProto.DataType.INT16:return"int16";case _e.onnx.TensorProto.DataType.UINT16:return"uint16";case _e.onnx.TensorProto.DataType.INT32:return"int32";case _e.onnx.TensorProto.DataType.UINT32:return"uint32";case _e.onnx.TensorProto.DataType.FLOAT:return"float32";case _e.onnx.TensorProto.DataType.DOUBLE:return"float64";case _e.onnx.TensorProto.DataType.STRING:return"string";case _e.onnx.TensorProto.DataType.INT64:return"int32";case _e.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${_e.onnx.TensorProto.DataType[ft]}`)}}static tensorDataTypeStringToEnum(ft){switch(ft){case"int8":return _e.onnx.TensorProto.DataType.INT8;case"uint8":return _e.onnx.TensorProto.DataType.UINT8;case"bool":return _e.onnx.TensorProto.DataType.BOOL;case"int16":return _e.onnx.TensorProto.DataType.INT16;case"uint16":return _e.onnx.TensorProto.DataType.UINT16;case"int32":return _e.onnx.TensorProto.DataType.INT32;case"uint32":return _e.onnx.TensorProto.DataType.UINT32;case"float32":return _e.onnx.TensorProto.DataType.FLOAT;case"float64":return _e.onnx.TensorProto.DataType.DOUBLE;case"string":return _e.onnx.TensorProto.DataType.STRING;case"int64":return _e.onnx.TensorProto.DataType.INT64;case"uint64":return _e.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${ft}`)}}static tensorDimsFromProto(ft){return ft.map(gt=>et.default.isLong(gt)?gt.toNumber():gt)}static tensorValueTypeFromProto(ft){return{tensorType:at.tensorDataTypeFromProto(ft.elemType),shape:{dims:at.tensorDimsFromProto(ft.shape.dim.map(gt=>gt.dimValue))}}}static tensorDimsFromORTFormat(ft){const gt=[];for(let pt=0;pt<ft.dimsLength();pt++)gt.push(j.longToNumber(ft.dims(pt)));return gt}static tensorAttributesFromORTFormat(ft){const gt=[];for(let pt=0;pt<ft.attributesLength();pt++)gt.push(ft.attributes(pt));return gt}}i.ProtoUtil=at;class j{static longToNumber(ft,gt){return et.default.isLong(ft)?ft.toNumber():ft instanceof $.flatbuffers.Long?et.default.fromValue({low:ft.low,high:ft.high,unsigned:gt!=null&&gt}).toNumber():ft}static isLong(ft){return et.default.isLong(ft)||ft instanceof $.flatbuffers.Long}}i.LongUtil=j;class _{static size(ft){return _.getSizeFromDimensionRange(ft,0,ft.length)}static sizeFromDimension(ft,gt){if(gt<0||gt>ft.length)throw new Error(`invalid dimension of ${gt} for sizeFromDimension as Tensor has ${ft.length} dimensions.`);return _.getSizeFromDimensionRange(ft,gt,ft.length)}static sizeToDimension(ft,gt){if(gt<0||gt>ft.length)throw new Error(`invalid dimension of ${gt} for sizeToDimension as Tensor has ${ft.length} dimensions.`);return _.getSizeFromDimensionRange(ft,0,gt)}static getSizeFromDimensionRange(ft,gt,pt){let mt=1;for(let vt=gt;vt<pt;vt++){if(ft[vt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");mt*=ft[vt]}return mt}static computeStrides(ft){const gt=ft.length;if(gt===0)return[];if(gt===1)return[1];const pt=new Array(gt);pt[gt-1]=1,pt[gt-2]=ft[gt-1];for(let mt=gt-3;mt>=0;--mt)pt[mt]=pt[mt+1]*ft[mt+1];return pt}static transpose(ft){return ft.slice().reverse()}static indicesToOffset(ft,gt,pt){pt===void 0&&(pt=ft.length);let mt=0;for(let vt=0;vt<pt;++vt)mt+=gt[vt]*ft[vt];return mt}static offsetToIndices(ft,gt){const pt=gt.length;if(pt===0)return[];if(pt===1)return[ft*gt[0]];const mt=new Array(gt.length);for(let vt=0;vt<mt.length-1;++vt)mt[vt]=Math.floor(ft/gt[vt]),ft-=mt[vt]*gt[vt];return mt[mt.length-1]=ft,mt}static normalizeAxis(ft,gt){if(ft<-gt&&ft>=gt)throw new Error("unsupported axis for this operation.");return ft<0?ft+gt:ft}static normalizeAxes(ft,gt){return ft.map(pt=>this.normalizeAxis(pt,gt))}static incrementIndex(ft,gt,pt){if(gt.length===0||ft.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(pt===void 0)pt=gt.length;else if(pt<=0||pt>gt.length)throw new Error("Incorrect axis to increment on");for(let mt=pt-1;mt>=0&&(ft[mt]++,!(ft[mt]<gt[mt]));--mt)ft[mt]=0}static calculateReshapedDims(ft,gt){if(gt.length===0){if(ft.length===0||_.size(ft)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const pt=gt.length,mt=new Array(pt);let vt=-1,yt=1;for(let wt=0;wt<pt;wt++){if(gt[wt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(gt[wt]===-1){if(vt!==-1)throw new Error("at most one dimension in shape hints can be -1");vt=wt}else{if(gt[wt]===0){if(wt>=ft.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");mt[wt]=ft[wt]}else mt[wt]=gt[wt];yt*=mt[wt]}}const xt=_.size(ft);if(vt!==-1){if(xt%yt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${ft}] Output shape: [${gt}]`);mt[vt]=xt/yt}else if(yt!==xt)throw new Error("reshapedDims and originalDims don't have matching sizes");return mt}static sortBasedOnPerm(ft,gt){return gt?gt.map(pt=>ft[pt]):ft.slice().reverse()}static padShape(ft,gt){const pt=ft.length;return ft.map((mt,vt)=>mt+gt[vt]+gt[vt+pt])}static areEqual(ft,gt){return ft.length===gt.length&&ft.every((pt,mt)=>pt===gt[mt])}static validateDimsAndCalcSize(ft){if(ft.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let gt=1;for(const pt of ft){if(!Number.isInteger(pt))throw new TypeError(`Invalid shape: ${pt} is not an integer`);if(pt<0||pt>2147483647)throw new TypeError(`Invalid shape: length ${pt} is not allowed`);gt*=pt}return gt}static flattenShape(ft,gt){gt<0&&(gt+=ft.length);const pt=ft.reduce((vt,yt)=>vt*yt,1),mt=ft.slice(gt).reduce((vt,yt)=>vt*yt,1);return[pt/mt,mt]}static squeezeShape(ft,gt){const pt=new Array;gt=_.normalizeAxes(gt,ft.length);for(let mt=0;mt<ft.length;mt++){const vt=gt.indexOf(mt)>=0;if(vt&&ft[mt]!==1)throw new Error("squeeze an axis of size different than 1");(gt.length===0&&ft[mt]>1||gt.length>0&&!vt)&&pt.push(ft[mt])}return pt}static unsqueezeShape(ft,gt){const pt=new Array(ft.length+gt.length);pt.fill(0);for(let vt=0;vt<gt.length;vt++){const yt=_.normalizeAxis(gt[vt],pt.length);if(yt>=pt.length)throw new Error("'axes' has an out of range axis");if(pt[yt]!==0)throw new Error("'axes' has a duplicate axis");pt[yt]=1}let mt=0;for(let vt=0;vt<pt.length;vt++)pt[vt]===0&&(pt[vt]=ft[mt++]);if(mt!==ft.length)throw new Error("the unsqueezed dimension could not be established");return pt}}i.ShapeUtil=_,i.MathUtil=class{static sqr(dt,ft,gt,pt,mt){if(pt<0||pt>=ft.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(pt+mt>ft.length)throw new Error("source indices to be copied are outside bounds");if(gt+mt>dt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<mt;vt++)dt[gt+vt]+=Math.pow(ft[pt+vt],2)}static axpy(dt,ft,gt,pt,mt,vt){if(pt<0||pt>=ft.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(pt+mt>ft.length)throw new Error("source indices to be copied are outside bounds");if(gt+mt>dt.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<mt;yt++)dt[gt+yt]+=vt*ft[pt+yt]}static powx(dt,ft,gt,pt,mt,vt){if(pt<0||pt>=ft.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(pt+mt>ft.length)throw new Error("source indices to be copied are outside bounds");if(gt+mt>dt.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<mt;yt++)dt[gt+yt]=Math.pow(ft[pt+yt],vt)}static mul(dt,ft,gt,pt,mt){if(pt<0||pt>=ft.length)throw new Error("sourceIndex out of bounds");if(gt<0||gt>=dt.length)throw new Error("targetIndex out of bounds");if(pt+mt>ft.length)throw new Error("source indices to be copied are outside bounds");if(gt+mt>dt.length)throw new Error("target array is too small to hold result");for(let vt=0;vt<mt;vt++)dt[gt+vt]=ft[pt+vt]*dt[gt+vt]}};class tt{static splitShape(ft,gt,pt,mt){if(pt.length===0){if(!mt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");tt.determineSplit(ft[gt],mt,pt)}const vt=[],yt=[0];for(let xt=0;xt<pt.length;++xt){xt!==0&&yt.push(yt[xt-1]+pt[xt-1]);const wt=ft.slice();wt[gt]=pt[xt],vt.push(wt)}return[vt,yt]}static determineSplit(ft,gt,pt){if(ft%gt!=0)throw new Error("cannot split tensor to equal sized parts");for(let mt=0;mt<gt;++mt)pt.push(ft/gt)}}i.SplitUtil=tt;class nt{static calcReduce(ft,gt,pt,mt,vt){const yt=ft.dims.slice(0);gt.length===0&&yt.forEach((Rt,kt)=>gt.push(kt));const xt=nt.calcReduceShape(yt,gt,!0),wt=_.size(xt),St=new rt.Tensor(xt,ft.type),Ct=_.computeStrides(xt),At=_.computeStrides(yt),$t=new Array(yt.length);for(let Rt=0;Rt<wt;Rt++){const kt=_.offsetToIndices(Rt,Ct);it.fillIndex(kt,yt,$t),St.set(kt,nt.calcReduceByAxis(ft.numberData,gt,yt,0,_.indicesToOffset($t,At),mt,vt))}return pt?St:new rt.Tensor(nt.calcReduceShape(yt,gt,pt),St.type,void 0,void 0,St.data,St.dataId)}static calcReduceByAxis(ft,gt,pt,mt,vt,yt,xt){let wt=0;if(mt>=gt.length)return yt(ft[vt]);const St=gt[mt],Ct=St>=pt.length?1:_.size(pt.slice(St+1));for(let At=0;At<pt[St];At++)wt=At===0?nt.calcReduceByAxis(ft,gt,pt,mt+1,vt,yt,xt):xt(wt,nt.calcReduceByAxis(ft,gt,pt,mt+1,vt,yt,xt)),vt+=Ct;return wt}static calcReduceShape(ft,gt,pt){const mt=ft.slice();for(let vt=0;vt<gt.length;vt++)mt[gt[vt]]=pt?1:0;return mt.filter(vt=>vt!==0)}}i.ReduceUtil=nt;class st{static adjustPoolAttributes(ft,gt,pt,mt,vt,yt){if(!ft&&pt.length!==gt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ft)for(let xt=0;xt<gt.length-2;xt++)xt>=pt.length?pt.push(gt[xt+2]):pt[xt]=gt[xt+2];for(let xt=0;xt<pt.length;xt++)if(xt<mt.length){if(mt[xt]<0)throw new Error("strides should be greater than or equal to 1")}else mt.push(1);for(let xt=0;xt<pt.length;xt++)if(xt<vt.length){if(vt[xt]<0)throw new Error("dilations should be greater than or equal to 1")}else vt.push(1);for(let xt=0;xt<2*pt.length;xt++)if(xt<yt.length){if(yt[xt]<0)throw new Error("pad should be greater than or equal to 1")}else yt.push(0);for(let xt=0;xt<pt.length;xt++){if(pt[xt]<=0)throw new Error("kernel shapes need to be greater than 0");if(yt[xt]>=pt[xt]||yt[xt+pt.length]>=pt[xt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ft,gt,pt,mt,vt,yt){if(yt){if(vt.length!==2*(ft.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(gt.length!==ft.length-2)throw new Error("length of strides should be the length of data dimensions");if(mt.length!==ft.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let xt=0;xt<ft.length-2;xt++)st.adjustPadAndReturnShape(ft[xt+2],gt[xt],pt[xt],mt[xt],vt,xt,xt+ft.length-2,yt)}}static computePoolOutputShape(ft,gt,pt,mt,vt,yt,xt){if(gt.length<=0)throw new Error("input shape must be of size greater than 0");const wt=[gt[0],gt[1]];return st.computeShapeHelper(ft,gt,wt,pt,mt,vt,yt,xt),wt}static computeConvOutputShape(ft,gt,pt,mt,vt,yt,xt){if(ft.length<=0||gt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const wt=[ft[0],gt[0]];return st.computeShapeHelper(!1,ft,wt,pt,mt,vt,yt,xt),wt}static computeShapeHelper(ft,gt,pt,mt,vt,yt,xt,wt){if(ft)for(let St=0;St<gt.length-2;St++)pt.push(1);else for(let St=0;St<gt.length-2;St++)pt.push(st.adjustPadAndReturnShape(gt[St+2],mt[St],vt[St],yt[St],xt,St,St+gt.length-2,wt))}static adjustPadAndReturnShape(ft,gt,pt,mt,vt,yt,xt,wt){const St=pt*(mt-1)+1;if(!wt||wt==="NOTSET")return Math.floor((ft+vt[yt]+vt[xt]-St)/gt+1);switch(wt){case"VALID":return vt[yt]=0,vt[xt]=0,Math.floor((ft-St)/gt+1);case"SAME_LOWER":case"SAME_UPPER":if(pt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const Ct=((ft+gt-1)/gt-1)*gt+mt-ft;return vt[yt]=Math.floor(wt==="SAME_LOWER"?(Ct+1)/2:Ct/2),vt[xt]=Ct-vt[yt],Math.floor((ft+Ct-mt)/gt+1)}default:throw new Error("Unsupported AutoPad type")}}}i.PoolConvUtil=st,i.MIN_CLIP=-34028234663852886e22,i.MAX_CLIP=34028234663852886e22,i.decodeUtf8String=function(dt){return new TextDecoder().decode(dt)}},3838:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGpuBackend=void 0;const s=a(8453),$=a(4955),et=a(7771),_e=a(8510),rt=a(8305);i.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let ot=this.kernelCustomData.get(this.currentKernelId);return ot||(ot={},this.kernelCustomData.set(this.currentKernelId,ot)),ot}async initialize(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const ot=await navigator.gpu.requestAdapter();if(!ot)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const it={requiredLimits:{maxComputeWorkgroupStorageSize:ot.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:ot.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:ot.limits.maxStorageBufferBindingSize}};ot.features.has("timestamp-query-inside-passes")&&s.env.webgpu.profilingMode==="default"&&(this.profilingEnabled=!0,it.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await ot.requestDevice(it),this.gpuDataManager=(0,et.createGpuDataManager)(this),this.programManager=new rt.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=at=>{at.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${at.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(ot,it,at,j,_){if(it.length!==ot.inputTypes.length)throw new Error(`Input size must be equal to ${ot.inputTypes.length}.`);const tt=[];for(let vt=0;vt<it.length;++vt){const yt=this.gpuDataManager.get(it[vt].data);if(!yt)throw new Error(`no GPU data for input: ${it[vt].data}`);tt[vt]=yt}const nt=((vt,yt,xt)=>{const wt=yt.map(At=>`${At.join(",")}`).join("_"),St=xt.join("_");let Ct=vt.name;return vt.cacheHint&&(Ct+="["+vt.cacheHint+"]"),Ct+=":"+wt+";"+St,Ct})(ot,it.map(vt=>vt.dims),tt.map(vt=>vt.type));let st=this.programManager.getArtifact(nt);const dt=st?st.programInfo:typeof ot.get=="function"?ot.get():ot,ft=at.length===0?dt.outputs.map((vt,yt)=>yt):at;if(ft.length!==dt.outputs.length)throw new Error(`Output size ${ft.length} must be equal to ${dt.outputs.length}.`);const gt=[],pt=[];for(let vt=0;vt<dt.outputs.length;++vt){if(!Number.isInteger(ft[vt])||ft[vt]<-2||ft[vt]>=dt.outputs.length)throw new Error(`Invalid output index: ${ft[vt]}`);const yt=ft[vt]===-1,xt=ft[vt]===-2,wt=yt||xt?_(dt.outputs[vt].dataType,dt.outputs[vt].dims):j(ft[vt],dt.outputs[vt].dataType,dt.outputs[vt].dims),St=this.gpuDataManager.get(wt.data);if(!St)throw new Error(`no GPU data for output: ${wt.data}`);if(yt&&this.temporaryData.push(St),xt){let Ct=this.kernelPersistentData.get(this.currentKernelId);Ct||(Ct=[],this.kernelPersistentData.set(this.currentKernelId,Ct)),Ct.push(St)}gt.push(wt),pt.push(St)}const mt=this.programManager.normalizeDispatchGroupSize(dt.dispatchGroup(it));return st||(st=this.programManager.build(dt,mt),this.programManager.setArtifact(nt,st)),(0,$.LOG_DEBUG)("info",()=>`[ProgramManager] run "${dt.name}" (key=${nt}) with ${mt[0]}x${mt[1]}x${mt[2]}`),this.programManager.run(st,tt,pt,mt),gt}upload(ot,it){this.gpuDataManager.upload(ot,it)}memcpy(ot,it){this.gpuDataManager.memcpy(ot,it)}async download(ot,it){const at=await this.gpuDataManager.download(ot);it().set(new Uint8Array(at))}alloc(ot){return this.gpuDataManager.create(ot).id}free(ot){return this.gpuDataManager.release(ot)}createKernel(ot,it,at){const j=_e.WEBGPU_OP_RESOLVE_RULES.get(ot);if(!j)throw new Error(`kernel not implemented: ${ot}`);this.kernels.set(it,[ot,j[0],[j[1],at]])}releaseKernel(ot){const it=this.kernelPersistentData.get(ot);if(it){for(const at of it)this.gpuDataManager.release(at.id);this.kernelPersistentData.delete(ot)}this.kernelCustomData.delete(ot),this.kernels.delete(ot)}computeKernel(ot,it){const at=this.kernels.get(ot);if(!at)throw new Error(`kernel not created: ${ot}`);const[j,_,tt]=at;if(this.currentKernelId!==null)throw new Error(`kernel "${j}" is not allowed to be called recursively`);this.currentKernelId=ot,tt[0]&&(tt[1]=tt[0](tt[1]),tt[0]=void 0),(0,$.LOG_DEBUG)("info",()=>`[WebGPU] Start to run kernel "${j}"...`),this.temporaryData=[];try{return _(it,tt[1]),0}catch(nt){return(0,$.LOG_DEBUG)("warning",`[WebGPU] Kernel "${j}" failed. Error: ${nt}`),1}finally{for(const nt of this.temporaryData)this.gpuDataManager.release(nt.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.init=void 0;const s=a(7917),$=a(3838),et=a(4955),_e=a(6952);class rt{constructor(at,j,_,tt){this.module=at,this.dataType=j,this.data=_,this.dims=tt}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,_e.ShapeUtil.size(this.dims))}reshape(at){if(_e.ShapeUtil.size(at)!==_e.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new rt(this.module,this.dataType,this.data,at)}}class ot{get customData(){return this.backend.currentKernelCustomData}constructor(at,j,_){this.module=at,this.backend=j;const tt=at.HEAPU32;let nt=_>>2;this.opKernelContext=tt[nt++];const st=tt[nt++],dt=[];for(let ft=0;ft<st;ft++){const gt=tt[nt++],pt=tt[nt++],mt=tt[nt++],vt=[];for(let yt=0;yt<mt;yt++)vt.push(tt[nt++]);dt.push(new rt(at,gt,pt,vt))}this.inputs=dt}compute(at,j){var _,tt,nt;const st=(tt=(_=j==null?void 0:j.inputs)===null||_===void 0?void 0:_.map(ft=>typeof ft=="number"?this.inputs[ft]:ft))!==null&&tt!==void 0?tt:this.inputs,dt=(nt=j==null?void 0:j.outputs)!==null&&nt!==void 0?nt:[];return this.backend.run(at,st,dt,(ft,gt,pt)=>new rt(this.module,gt,this.output(ft,pt),pt),(ft,gt)=>{const pt=(0,s.getTensorElementSize)(ft);if(!pt)throw new Error(`Unsupported data type: ${ft}`);const mt=pt*_e.ShapeUtil.size(gt);return new rt(this.module,ft,this.backend.gpuDataManager.create(mt).id,gt)})}output(at,j){const _=this.module.stackSave();try{const tt=this.module.stackAlloc(4*(1+j.length));let nt=tt>>2;this.module.HEAPU32[nt++]=j.length;for(let st=0;st<j.length;st++)this.module.HEAPU32[nt++]=j[st];return this.module._JsepOutput(this.opKernelContext,at,tt)}finally{this.module.stackRestore(_)}}}i.init=async it=>{const at=it.jsepInit;if(at&&navigator.gpu){const j=new $.WebGpuBackend;await j.initialize(),at({backend:j},_=>j.alloc(_),_=>j.free(_),(_,tt,nt,st=!1)=>{if(st)(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${_}, dst=${tt}, size=${nt}`),j.memcpy(_,tt);else{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${_}, gpuDataId=${tt}, size=${nt}`);const dt=it.HEAPU8.subarray(_,_+nt);j.upload(tt,dt)}},async(_,tt,nt)=>{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${_}, dataOffset=${tt}, size=${nt}`),await j.download(_,()=>it.HEAPU8.subarray(tt,tt+nt))},(_,tt,nt)=>j.createKernel(_,tt,nt),_=>j.releaseKernel(_),(_,tt)=>{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepRun: kernel=${_}, contextDataOffset=${tt}`);const nt=new ot(it,j,tt);return j.computeKernel(_,nt)})}}},4955:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LOG_DEBUG=i.LOG=void 0;const s=a(8453),$=a(7917),et=["V","I","W","E","F"];i.LOG=(_e,rt)=>{const ot=(0,$.logLevelStringToEnum)(_e);var it,at;ot>=(0,$.logLevelStringToEnum)(s.env.logLevel)&&(it=ot,at=typeof rt=="function"?rt():rt,console.log(`[${et[it]},${new Date().toISOString()}]${at}`))},i.LOG_DEBUG=(..._e)=>{s.env.debug&&(0,i.LOG)(..._e)}},6952:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MAX_CLIP=i.MIN_CLIP=i.GemmUtil=i.PoolConvUtil=i.ShapeUtil=i.BroadcastUtil=i.MatMulUtil=void 0;class a{static calcMatMulShape(rt,ot){return rt[1]!==ot[0]?void 0:[rt[0],ot[1]]}}i.MatMulUtil=a;class s{static calcShape(rt,ot,it=!1){const at=rt.length,j=ot.length;if(at===0)return ot;if(j===0)return rt;const _=Math.max(rt.length,ot.length),tt=new Array(_);if(it){if(at<2||j<2)return;const nt=a.calcMatMulShape([rt[at-2],rt[at-1]],[ot[j-2],ot[j-1]]);if(nt===void 0)return;[tt[_-2],tt[_-1]]=nt}for(let nt=it?3:1;nt<=_;nt++){const st=at-nt<0?1:rt[at-nt],dt=j-nt<0?1:ot[j-nt];if(st!==dt&&st>1&&dt>1)return;tt[_-nt]=Math.max(st,dt)}return tt}static isValidBroadcast(rt,ot){const it=rt.length,at=ot.length;if(it>at)return!1;for(let j=1;j<=it;j++)if(rt[it-j]!==1&&rt[it-j]!==ot[at-j])return!1;return!0}}i.BroadcastUtil=s;class ${static size(rt){return $.getSizeFromDimensionRange(rt,0,rt.length)}static sizeFromDimension(rt,ot){if(ot<0||ot>rt.length)throw new Error(`invalid dimension of ${ot} for sizeFromDimension as Tensor has ${rt.length} dimensions.`);return $.getSizeFromDimensionRange(rt,ot,rt.length)}static sizeToDimension(rt,ot){if(ot<0||ot>rt.length)throw new Error(`invalid dimension of ${ot} for sizeToDimension as Tensor has ${rt.length} dimensions.`);return $.getSizeFromDimensionRange(rt,0,ot)}static getSizeFromDimensionRange(rt,ot,it){let at=1;for(let j=ot;j<it;j++){if(rt[j]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");at*=rt[j]}return at}static computeStrides(rt){const ot=rt.length;if(ot===0)return[];if(ot===1)return[1];const it=new Array(ot);it[ot-1]=1,it[ot-2]=rt[ot-1];for(let at=ot-3;at>=0;--at)it[at]=it[at+1]*rt[at+1];return it}static normalizeAxis(rt,ot){if(rt<-ot&&rt>=ot)throw new Error("unsupported axis for this operation.");return rt<0?rt+ot:rt}static normalizeAxes(rt,ot){return rt.map(it=>this.normalizeAxis(it,ot??rt.length))}static sortBasedOnPerm(rt,ot){return ot?ot.map(it=>rt[it]):rt.slice().reverse()}static padShape(rt,ot){const it=rt.length;return rt.map((at,j)=>at+ot[j]+ot[j+it])}static areEqual(rt,ot){return rt.length===ot.length&&rt.every((it,at)=>it===ot[at])}}i.ShapeUtil=$;class et{static adjustPoolAttributes(rt,ot,it,at,j,_){if(!rt&&it.length!==ot.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(rt)for(let tt=0;tt<ot.length-2;tt++)tt>=it.length?it.push(ot[tt+2]):it[tt]=ot[tt+2];for(let tt=0;tt<it.length;tt++)if(tt<at.length){if(at[tt]<0)throw new Error("strides should be greater than or equal to 1")}else at.push(1);for(let tt=0;tt<it.length;tt++)if(tt<j.length){if(j[tt]<0)throw new Error("dilations should be greater than or equal to 1")}else j.push(1);for(let tt=0;tt<2*it.length;tt++)if(tt<_.length){if(_[tt]<0)throw new Error("pad should be greater than or equal to 1")}else _.push(0);for(let tt=0;tt<it.length;tt++){if(it[tt]<=0)throw new Error("kernel shapes need to be greater than 0");if(_[tt]>=it[tt]||_[tt+it.length]>=it[tt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(rt,ot,it,at,j,_,tt){if(tt){if(j.length!==2*(rt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(ot.length!==rt.length-2)throw new Error("length of strides should be the length of data dimensions");if(at.length!==rt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let nt=0;nt<rt.length-2;nt++)et.adjustPadAndReturnShape(rt[nt+(_?1:2)],ot[nt],it[nt],at[nt],j,nt,nt+rt.length-2,tt)}}static computePoolOutputShape(rt,ot,it,at,j,_,tt){if(ot.length<=0)throw new Error("input shape must be of size greater than 0");const nt=[ot[0],ot[1]];return et.computeShapeHelper(rt,ot,nt,it,at,j,_,tt),nt}static computeConvOutputShape(rt,ot,it,at,j,_,tt){if(rt.length<=0||ot.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const nt=[rt[0],ot[0]];return et.computeShapeHelper(!1,rt,nt,it,at,j,_,tt),nt}static computeShapeHelper(rt,ot,it,at,j,_,tt,nt){if(rt)for(let st=0;st<ot.length-2;st++)it.push(1);else for(let st=0;st<ot.length-2;st++)it.push(et.adjustPadAndReturnShape(ot[st+2],at[st],j[st],_[st],tt,st,st+ot.length-2,nt))}static adjustPadAndReturnShape(rt,ot,it,at,j,_,tt,nt){const st=it*(at-1)+1;if(!nt||nt==="NOTSET")return Math.floor((rt+j[_]+j[tt]-st)/ot+1);switch(nt){case"VALID":return j[_]=0,j[tt]=0,Math.floor((rt-st)/ot+1);case"SAME_LOWER":case"SAME_UPPER":if(it!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const dt=((rt+ot-1)/ot-1)*ot+at-rt;return j[_]=Math.floor(nt==="SAME_LOWER"?(dt+1)/2:dt/2),j[tt]=dt-j[_],Math.floor((rt+dt-at)/ot+1)}default:throw new Error("Unsupported AutoPad type")}}}i.PoolConvUtil=et,i.GemmUtil=class{static getShapeOfGemmResult(_e,rt,ot,it,at){if(_e.length!==2||ot.length!==2)throw new Error("shape need to be of size 2");let j,_,tt;rt?(j=_e[1],_=_e[0]):(j=_e[0],_=_e[1]);let nt=-1;if(it?(tt=ot[0],nt=1):(tt=ot[1],nt=0),ot[nt]!==_)throw new Error("dimension mismatch");if(j<=0||tt<=0||_<=0)throw new Error("invalid shape specified");if(at&&!s.isValidBroadcast(at,[j,tt]))throw new Error("gemm: invalid bias shape for broadcast");return[j,tt,_]}},i.MIN_CLIP=-34028234663852886e22,i.MAX_CLIP=34028234663852886e22},387:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createAttributeWithCacheKey=void 0;class a{constructor($){Object.assign(this,$)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map($=>`${this[$]}`).join(";")),this._cacheKey}}i.createAttributeWithCacheKey=s=>new a(s)},7771:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createGpuDataManager=void 0;const s=a(4955),$=a(1163),et=ot=>16*Math.ceil(ot/16);let _e=0;class rt{constructor(it){this.backend=it,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(it,at){const j=at.buffer,_=at.byteOffset,tt=at.byteLength,nt=et(tt),st=this.storageCache.get(it);if(!st)throw new Error("gpu data for uploading does not exist");if(st.originalSize!==tt)throw new Error(`inconsistent data size. gpu data size=${st.originalSize}, data size=${tt}`);const dt=this.backend.device.createBuffer({mappedAtCreation:!0,size:nt,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),ft=dt.getMappedRange();new Uint8Array(ft).set(new Uint8Array(j,_,tt)),dt.unmap();const gt=this.backend.getCommandEncoder();this.backend.endComputePass(),gt.copyBufferToBuffer(dt,0,st.gpuData.buffer,0,nt),(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${it})`),this.buffersForUploadingPending.push(dt)}memcpy(it,at){const j=this.storageCache.get(it);if(!j)throw new Error("source gpu data for memcpy does not exist");const _=this.storageCache.get(at);if(!_)throw new Error("destination gpu data for memcpy does not exist");if(j.originalSize!==_.originalSize)throw new Error("inconsistent source and destination gpu data size");const tt=et(j.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(j.gpuData.buffer,0,_.gpuData.buffer,0,tt)}create(it,at=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const j=et(it),_=this.backend.device.createBuffer({size:j,usage:at}),tt={id:_e++,type:$.GpuDataType.default,buffer:_};return this.storageCache.set(tt.id,{gpuData:tt,originalSize:it}),(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.create(size=${it}) => id=${tt.id}`),tt}get(it){var at;return(at=this.storageCache.get(it))===null||at===void 0?void 0:at.gpuData}release(it){const at=this.storageCache.get(it);if(!at)throw new Error("releasing data does not exist");return(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.release(id=${it}), gpuDataId=${at.gpuData.id}`),this.storageCache.delete(it),this.buffersPending.push(at.gpuData.buffer),this.downloadCache.get(it)&&this.downloadCache.delete(it),at.originalSize}async download(it){const at=this.downloadCache.get(it);if(at)return at.data;const j=this.storageCache.get(it);if(!j)throw new Error("data does not exist");const _=this.backend.getCommandEncoder();this.backend.endComputePass();const tt=this.backend.device.createBuffer({size:j.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});_.copyBufferToBuffer(j.gpuData.buffer,0,tt,0,j.originalSize),this.backend.flush();const nt=new Promise(st=>{tt.mapAsync(GPUMapMode.READ).then(()=>{const dt=tt.getMappedRange().slice(0);tt.destroy(),st(dt)})});return this.downloadCache.set(it,{data:nt}),nt}refreshPendingBuffers(){for(const it of this.buffersForUploadingPending)it.destroy();for(const it of this.buffersPending)it.destroy()}}i.createGpuDataManager=(...ot)=>new rt(...ot)},8510:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(tt,nt,st,dt){dt===void 0&&(dt=st);var ft=Object.getOwnPropertyDescriptor(nt,st);ft&&!("get"in ft?!nt.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return nt[st]}}),Object.defineProperty(tt,dt,ft)}:function(tt,nt,st,dt){dt===void 0&&(dt=st),tt[dt]=nt[st]}),$=this&&this.__setModuleDefault||(Object.create?function(tt,nt){Object.defineProperty(tt,"default",{enumerable:!0,value:nt})}:function(tt,nt){tt.default=nt}),et=this&&this.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var nt={};if(tt!=null)for(var st in tt)st!=="default"&&Object.prototype.hasOwnProperty.call(tt,st)&&s(nt,tt,st);return $(nt,tt),nt};Object.defineProperty(i,"__esModule",{value:!0}),i.WEBGPU_OP_RESOLVE_RULES=void 0;const _e=et(a(504)),rt=a(9770),ot=a(4271),it=a(1522),at=et(a(5262)),j=a(2625),_=et(a(9302));i.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[_.abs]],["Acos",[_.acos]],["Acosh",[_.acosh]],["Add",[_e.add]],["Asin",[_.asin]],["Asinh",[_.asinh]],["Atan",[_.atan]],["Atanh",[_.atanh]],["AveragePool",[at.averagePool,at.parseAveragePoolAttributes]],["Ceil",[_.ceil]],["ClipV10",[_.clipV10]],["Clip",[_.clip]],["Conv",[rt.conv,rt.parseConvAttributes]],["Cos",[_.cos]],["Cosh",[_.cosh]],["Div",[_e.div]],["Elu",[_.elu,_.parseAlphaAttributes]],["Erf",[_.erf]],["Exp",[_.exp]],["Floor",[_.floor]],["Gemm",[ot.gemm,ot.parseGemmAttributes]],["GlobalAveragePool",[at.globalAveragePool,at.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[at.globalMaxPool,at.parseGlobalMaxPoolAttributes]],["LeakyRelu",[_.leakyRelu,_.parseAlphaAttributes]],["MatMul",[it.matMul]],["MaxPool",[at.maxPool,at.parseMaxPoolAttributes]],["Mul",[_e.mul]],["Neg",[_.neg]],["Pow",[_e.pow]],["Reciprocal",[_.reciprocal]],["Relu",[_.relu]],["Sigmoid",[_.sigmoid]],["Sin",[_.sin]],["Sinh",[_.sinh]],["Sqrt",[_.sqrt]],["Sub",[_e.sub]],["Tan",[_.tan]],["Tanh",[_.tanh]],["ThresholdedRelu",[_.thresholdedRelu,_.parseAlphaAttributes]],["Transpose",[j.transpose,j.parseTransposeAttributes]]])},1427:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.biasActivationSnippet=i.activationFnSnippet=i.typeSnippet=void 0,i.typeSnippet=a=>{switch(a){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${a}-component is not supported.`)}},i.activationFnSnippet=(a,s=!1,$=!1,et=3)=>"",i.biasActivationSnippet=(a,s)=>`
      ${a?"value = value + getBiasByOutputCoords(coords);":""}
      ${s?"value = activation(value, coords);":""}
      `},9456:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createConv2DMatMulProgramInfo=void 0;const s=a(4955),$=a(6952),et=a(1163),_e=a(1427),rt=a(4085),ot=a(158);i.createConv2DMatMulProgramInfo=(it,at,j,_,tt,nt,st,dt,ft)=>{const gt=j.format==="NHWC",pt=gt?it[0].dims[3]:it[0].dims[1],mt=_[0],vt=gt?_[2]:_[3],yt=gt?_[1]:_[2],xt=gt?_[3]:_[1],wt=((pt%4==0||pt%3==0)&&gt||vt%4==0&&!gt)&&xt%4==0,St=gt?xt:vt*yt,Ct=gt?vt*yt:xt,At=wt?[8,8,1]:[St<=4?4:16,St>4&&Ct<=4?4:16,1],$t=wt?[4,4,1]:[St<=4?1:2,St>4&&Ct<=4?1:2,1],Rt=[Math.ceil(St/At[0]/$t[0]),Math.ceil(Ct/At[1]/$t[1]),Math.ceil(mt/At[2]/$t[1])];(0,s.LOG_DEBUG)("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${Rt}`);const kt=wt?gt&&pt%4!=0?3:4:$t[0],Lt=At[1]*$t[1],Dt=At[0]*$t[0],Mt=Math.max(At[0]*kt,At[1]),Vt=tt%Lt==0,Kt=nt%Dt==0,Yt=st%Mt==0,Jt=wt?[kt,4,4]:[1,1,1],ln=[`@group(0) @binding(0) var<storage, read> x: array<${wt&&kt===4?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${wt?"vec4<f32>":"f32"}>;`];let wn=`
      fn setOutputAtIndex(flatIndex : i32, value : ${wt?"vec4<f32>":"f32"}) {
        result[flatIndex] = ${wt?"vec4<f32>":"f32"}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${wt?"vec4<f32>":"f32"}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${wt?"/ 4":""}, value);
      }`;return dt&&(ln.push(`@group(0) @binding(2) var<storage, read> bias: array<${wt?"vec4<f32>":"f32"}>;`),wn+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${wt?"vec4<f32>":"f32"} {
          return bias[coords.${gt?"w":"y"}${wt?"/ 4":""}];
        }`),Object.assign(Object.assign({},at),{outputs:[{dims:_,dataType:it[0].dataType,gpuDataType:et.GpuDataType.default}],dispatchGroup:()=>({x:Rt[0],y:Rt[1],z:Rt[2]}),getShaderSource:()=>`
        ${rt.utilFunctions}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${ln.join("")}
        @group(0) @binding(${ln.length}) var<storage, read_write> result: array<${wt?"vec4<f32>":"f32"}>;
        //@group(0) @binding(${ln.length+1}) var<uniform> uniforms: Uniforms;

        const xShape : vec4<i32> = vec4<i32>(${it[0].dims.join(",")});
        const wShape : vec4<i32> = vec4<i32>(${it[1].dims.join(",")});
        const outShape : vec4<i32> = vec4<i32>(${_.join(",")});
        const outShapeStrides : vec3<i32> = vec3<i32>(${$.ShapeUtil.computeStrides(_).slice(0,3).join(",")});
        const filterDims : vec2<i32> = vec2<i32>(${j.kernelShape[0]}, ${j.kernelShape[1]});
        const pad : vec2<i32> = vec2<i32>(${j.pads[0]}, ${j.pads[1]});
        const stride : vec2<i32> = vec2<i32>(${j.strides[0]}, ${j.strides[1]});
        const dilation : vec2<i32> = vec2<i32>(${j.dilations[0]}, ${j.dilations[1]});
        const dimAOuter : i32 = ${tt};
        const dimBOuter : i32 = ${nt};
        const dimInner : i32 = ${st};
        ${wn}
        ${((_n,kn,Cn,Ht,cn=!1,gn,jn=!1,xn=4,Bn=4,Mn=4)=>{const Zn=_n?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,Fn=_n?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,wr=_n?"xShape[1]":"xShape[2]",Jn=_n?"xShape[2]":"xShape[3]",dr=_n?"row":"col",or=_n?"col":"row",Gn=`
    let inChannels = wShape[2];
    let outWidth = ${_n?"outShape[2]":"outShape[3]"};
    let outRow = ${dr} / outWidth;
    let outCol = ${dr} % outWidth;

    let WRow = ${or} / (filterDims[1] * inChannels);
    let WCol = ${or} / inChannels % filterDims[1];
    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];
    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];
    let xCh = ${or} % inChannels;
    var resData = ${(0,_e.typeSnippet)(xn)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${wr} && xCol >= 0 && xCol < ${Jn}) {
      ${Zn}
      let xIndex = getIndexFromCoords4D(coord, xShape);
      ${(pr=>{switch(pr){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${pr} is not supported.`)}})(xn)}
    }
    return resData;`,rr=_n?kn&&Ht?`
    let col = colIn * ${xn};
    ${Gn}`:`
    let col = colIn * ${xn};
    if (row < dimAOuter && col < dimInner) {
      ${Gn}
    }
    return ${(0,_e.typeSnippet)(xn)}(0.0);`:Ht&&Cn?`
    let col = colIn * ${xn};
    ${Gn}`:`
    let col = colIn * ${xn};
    if (row < dimInner && col < dimBOuter) {
      ${Gn}
    }
    return ${(0,_e.typeSnippet)(xn)}(0.0);`,Qn=`${(pr=>{switch(pr){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${pr} is not supported.`)}})(Bn)}`,ar=(0,_e.typeSnippet)(Mn),On=_n?(0,_e.typeSnippet)(xn):(0,_e.typeSnippet)(Bn),Nn=_n?(0,_e.typeSnippet)(Bn):(0,_e.typeSnippet)(xn);return`
    ${(0,_e.activationFnSnippet)(gn,jn,Mn===4,4)}
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${On} {
      ${_n?rr:Qn}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${Nn} {
      ${_n?Qn:rr}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${ar}) {
      let col = colIn * ${Mn};
      if (row < dimAOuter && col < dimBOuter)
      {
      var value = valueIn;
      let outWidth = ${_n?"outShape[2]":"outShape[3]"};
      ${Fn}
      ${(0,_e.biasActivationSnippet)(cn,gn)}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`})(gt,Vt,Kt,Yt,dt,void 0,!1,Jt[0],Jt[1],Jt[2])}
            ${wt?(0,ot.makeMatMulPackedVec4Source)($t,At,!gt,Mt):(0,ot.makeMatMulPackedSource)($t,At,!gt,Mt,!1,void 0,ft)}`})}},4085:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.utilFunctions=void 0,i.utilFunctions=`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));
}
`},158:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.makeMatMulPackedSource=i.makeMatMulPackedVec4Source=void 0,i.makeMatMulPackedVec4Source=(s,$,et=!1,_e=32,rt=!1,ot=32,it=!1)=>{const at=$[1]*s[1],j=$[0]*s[0],_=et?at:_e,tt=et?_e:at,nt=_/$[0],st=_e/$[1];if((!et||nt!==4||s[1]!==4)&&(et||nt!==3&&nt!==4)||_%$[0]!=0||_e%$[1]!=0||s[0]!==4)throw new Error(`If transposeA ${et} is true, innerElementSize ${nt} and workPerThread[1] ${s[1]} must be 4.
      Otherwise, innerElementSize ${nt} must be 3 or 4.
  tileAWidth ${_} must be divisible by workgroupSize[0]${$[0]}. tileInner ${_e} must be divisible by workgroupSize[1] ${$[1]}. colPerThread ${s[0]} must be 4.`);return`
var<workgroup> mm_Asub : array<array<vec${nt}<f32>, ${_/nt}>, ${tt}>;
var<workgroup> mm_Bsub : array<array<vec4<f32>, ${j/s[0]}>, ${_e}>;

const rowPerThread = ${s[1]};
const colPerThread = ${s[0]};
const innerElementSize = ${nt};
const tileInner = ${_e};

@compute @workgroup_size(${$[0]}, ${$[1]}, ${$[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = ${it?"0":"localRow * rowPerThread"};
  let tileCol = i32(localId.x);

  let globalRow = ${it?"0":"i32(globalId.y) * rowPerThread"};
  let globalCol = i32(globalId.x);
  let batch = ${rt?"0":"i32(globalId.z)"};
  let globalRowStart = i32(workgroupId.y) * ${at};

  let numTiles = ${rt?`${Math.ceil(ot/_e)}`:"(dimInner - 1) / tileInner + 1"};
  var kStart = ${rt?`i32(globalId.z) * ${ot}`:"0"};

  var acc: array<vec4<f32>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${st};
  for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${dt=et,dt?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol);
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol);
        `}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${st}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${nt===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${((ft,gt)=>ft?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${gt===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${gt===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${gt===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`)(et,nt)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`;var dt};const a=s=>s?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol);
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol);
            `;i.makeMatMulPackedSource=(s,$,et=!1,_e=32,rt=!1,ot=32,it=!1)=>{const at=s[1]*$[1],j=s[0]*$[0],_=et?at:_e,tt=et?_e:at;if(tt%$[1]!=0||_%$[0]!=0||_e%$[1]!=0)throw new Error(`tileAHight ${tt} must be divisible by workgroupSize[1]${$[1]}, tileAWidth ${_} must be divisible by workgroupSize[0]${$[0]}, tileInner ${_e} must be divisible by workgroupSize[1]${$[1]}`);const nt=tt/$[1],st=_/$[0],dt=_e/$[1],ft=it?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${at};
    let globalColStart = i32(workgroupId.x) * ${j};

    // Loop over shared dimension.
    for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${tt}; inputRow = inputRow + ${$[1]}) {
        for (var inputCol = localCol; inputCol < ${_}; inputCol = inputCol + ${$[0]}) {
          ${a(et)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${_e}; inputRow = inputRow + ${$[1]}) {
            for (var inputCol = localCol; inputCol < ${j}; inputCol = inputCol + ${$[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol);
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<f32, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${$[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${et?`mm_Asub[k][localRow + innerRow * ${$[1]}];`:`mm_Asub[localRow + innerRow * ${$[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${$[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${$[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${at};

let tileRowA = i32(localId.y) * ${nt};
let tileColA = i32(localId.x) * ${st};
let tileRowB = i32(localId.y) * ${dt};
// Loop over shared dimension.
for (var t = 0; t < numTiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${nt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${st}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${a(et)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${dt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol);
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<f32, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${(gt=>gt?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(et)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<f32, ${_}>, ${tt}>;
  var<workgroup> mm_Bsub : array<array<f32, ${j}>, ${_e}>;
  const rowPerThread = ${s[1]};
  const colPerThread = ${s[0]};
  const tileInner = ${_e};

@compute @workgroup_size(${$[0]}, ${$[1]}, ${$[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${rt?"0":"i32(globalId.z)"};
    let numTiles = ${rt?`${Math.ceil(ot/_e)}`:"(dimInner - 1) / tileInner + 1"};
    var kStart = ${rt?`i32(globalId.z) * ${ot}`:"0"};

    var acc : array<array<f32, colPerThread>, rowPerThread>;

    // Without this initialization strange values show up in acc.
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = 0.0;
      }
    }
    ${ft}
  }
`}},504:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sub=i.pow=i.mul=i.div=i.add=void 0;const s=a(6952),$=a(1163),et=a(2075),_e=(rt,ot,it,at,j)=>{const _={name:ot,inputTypes:[$.GpuDataType.default,$.GpuDataType.default],cacheHint:j};return Object.assign(Object.assign({},_),{get:()=>((tt,nt,st,dt,ft,gt=nt.dataType)=>{var pt,mt;const vt=!s.ShapeUtil.areEqual(nt.dims,st.dims);let yt=nt.dims,xt=s.ShapeUtil.size(nt.dims),wt=!1;if(vt){const St=s.BroadcastUtil.calcShape(nt.dims,st.dims,!1);if(!St)throw new Error("Can't perform binary op on the given tensors");yt=St,xt=s.ShapeUtil.size(yt);let Ct=1;for(let At=0;At<yt.length;At++){const $t=(pt=nt.dims[nt.dims.length-At])!==null&&pt!==void 0?pt:1;if($t!==((mt=st.dims[st.dims.length-At])!==null&&mt!==void 0?mt:1))break;Ct*=$t}Ct%4==0&&(wt=!0)}else wt=!0;return Object.assign(Object.assign({},tt),{getShaderSource:St=>((Ct,At,$t,Rt,kt,Lt,Dt,Mt,Vt="f32",Kt="f32",Yt="f32")=>{const Jt=s.ShapeUtil.size(Rt),ln=Math.ceil(Jt/4);let wn,_n;typeof Dt=="string"?wn=_n=(cn,gn)=>`${Dt}((${cn}),(${gn}))`:typeof Dt=="function"?wn=_n=Dt:(wn=Dt.scalar,_n=Dt.vector);let kn="";const Cn=(0,et.createIndicesHelper)("output",Rt);if(Lt){const cn=gn=>{const jn=s.ShapeUtil.computeStrides(gn),xn=[];for(let Bn=gn.length-1;Bn>=0;Bn--){const Mn=Rt.length===0?"0u":Rt.length===1?"(*outputIndices)":`(*outputIndices)[${Bn+Rt.length-gn.length}]`;xn.push(`${jn[Bn]}u * (${Mn} % ${gn[Bn]}u)`)}return xn.length>0?xn.join("+"):"0u"};kn=`
  ${Cn.o2iImpl}

  fn calcOffsetA(outputIndices: ptr<function, ${Cn.iType}>) -> u32 {
    return ${cn(At)};
  }

  fn calcOffsetB(outputIndices: ptr<function, ${Cn.iType}>) -> u32 {
    return ${cn($t)};
  }
  `}let Ht;if(kt)Ht=Lt?`
      ${Cn.indicesVariableDeclaration("outputIndices")}
      ${Cn.o2iCall("global_idx * 4u","outputIndices")}
      let offsetA = calcOffsetA(&outputIndices);
      let offsetB = calcOffsetB(&outputIndices);
      outputData[global_idx] = ${_n("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${_n("aData[global_idx]","bData[global_idx]")};`;else{if(!Lt)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const cn=gn=>{const jn=`aData[indexA${gn}][componentA${gn}]`,xn=`bData[indexB${gn}][componentB${gn}]`;return`
      ${Cn.o2iCall(`global_idx * 4u + ${gn}u`,"outputIndices")}
      let offsetA${gn} = calcOffsetA(&outputIndices);
      let offsetB${gn} = calcOffsetB(&outputIndices);
      let indexA${gn} = offsetA${gn} / 4u;
      let indexB${gn} = offsetB${gn} / 4u;
      let componentA${gn} = offsetA${gn} % 4u;
      let componentB${gn} = offsetB${gn} % 4u;
      outputData[global_idx][${gn}] = ${wn(jn,xn)};`};Ht=`
      ${Cn.indicesVariableDeclaration("outputIndices")}
      ${cn(0)}
      ${cn(1)}
      ${cn(2)}
      ${cn(3)}`}return`
  @group(0) @binding(0) var<storage, read> aData : array<vec4<${Vt}>>;
  @group(0) @binding(1) var<storage, read> bData : array<vec4<${Kt}>>;
  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${Yt}>>;

  ${Mt??""}
  ${kn}

  ${Ct.mainStart()}
    ${Ct.guardAgainstOutOfBoundsWorkgroupSizes(ln)}
    ${Ht}
  }`})(St,nt.dims,st.dims,yt,wt,vt,dt,ft),outputs:[{dims:yt,dataType:gt,gpuDataType:$.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(xt/64/(wt?4:1))})})})(_,rt[0],rt[1],it,at)})};i.add=rt=>{rt.compute(_e(rt.inputs,"Add",(ot,it)=>`${ot}+${it}`))},i.div=rt=>{rt.compute(_e(rt.inputs,"Div",(ot,it)=>`${ot}/${it}`))},i.mul=rt=>{rt.compute(_e(rt.inputs,"Mul",(ot,it)=>`${ot}*${it}`))},i.pow=rt=>{rt.compute(_e(rt.inputs,"Pow",{scalar:(ot,it)=>`pow_f32(${ot},${it})`,vector:(ot,it)=>`pow_vf32(${ot},${it})`},`
    fn pow_f32(a : f32, b : f32) -> f32 {
      if (b == 0.0) {
        return 1.0;
      } else if (a < 0.0 && b != floor(b)) {
        return pow(a, b); // NaN
      }
      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);
    }
    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {
      // TODO: implement vectorized pow
      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));
    }
      `))},i.sub=rt=>{rt.compute(_e(rt.inputs,"Sub",(ot,it)=>`${ot}-${it}`))}},2075:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createShaderHelper=i.createIndicesHelper=i.WORKGROUP_SIZE=void 0;const s=a(6952);i.WORKGROUP_SIZE=64,i.createIndicesHelper=(et,_e)=>{const rt=_e.length<2?"u32":`array<u32, ${_e.length}>`,ot=s.ShapeUtil.computeStrides(_e);let it="";for(let _=0;_<_e.length-1;_++)it+=`
    let dim${_} = current / ${ot[_]}u;
    let rest${_} = current % ${ot[_]}u;
    (*indices)[${_}] = dim${_};
    current = rest${_};
    `;it+=`(*indices)[${_e.length-1}] = current;`;const at=_e.length<2?"":`
  fn ih_o2i_${et}(offset: u32, indices: ptr<function, ${rt}>) {
    var current = offset;
    ${it}
  }`,j=[];if(_e.length===0)j.push("0u");else if(_e.length<2)j.push("(*indices)");else for(let _=_e.length-1;_>=0;_--)j.push(`${ot[_]}u * ((*indices)[${_}])`);return{o2iImpl:at,o2iCall:(_,tt)=>_e.length<2?`${tt}=${_};`:`ih_o2i_${et}(${_}, &${tt});`,i2oImpl:_e.length<2?"":`
  fn ih_i2o_${et}(indices: ptr<function, ${rt}>) -> u32 {
    return ${j.join("+")};
  }`,i2oExpression:(_,tt)=>_e.length<2?`(${tt?"*":""}${_})`:`ih_i2o_${et}(${tt?"":"&"}${_})`,indicesVariableDeclaration:(_,tt)=>`var ${_}:${rt}${tt?`=${rt}(${tt.join(",")})`:""};`,iType:rt}};class ${constructor(_e){this.normalizedDispatchGroup=_e}guardAgainstOutOfBoundsWorkgroupSizes(_e){return`if (global_idx >= ${typeof _e=="number"?`${_e}u`:_e}) { return; }`}mainStart(_e=i.WORKGROUP_SIZE){const rt=typeof _e=="number"?_e:_e[0],ot=typeof _e=="number"?1:_e[1],it=typeof _e=="number"?1:_e[2],at=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1;return`@compute @workgroup_size(${rt}, ${ot}, ${it})
  fn main(${at?"@builtin(global_invocation_id) global_id : vec3<u32>":`@builtin(local_invocation_index) local_index : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>`}) {
    ${at?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +
          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${rt*ot*it}u + local_index;`}
  `}}i.createShaderHelper=et=>new $(et)},9192:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createGroupedConvProgramInfoLoader=void 0;const s=a(6952),$=a(1163),et=a(2075),_e=a(9770),rt=a(3997);i.createGroupedConvProgramInfoLoader=(ot,it,at)=>{const j=(_=ot.length>2,tt=it.cacheKey,{name:"GroupedConv",inputTypes:_?[$.GpuDataType.default,$.GpuDataType.default,$.GpuDataType.default]:[$.GpuDataType.default,$.GpuDataType.default],cacheHint:tt});var _,tt;return Object.assign(Object.assign({},j),{get:()=>((nt,st,dt,ft)=>{const gt=nt.length>2,pt=gt?"value += b[output_channel];":"",mt=nt[0].dims,vt=nt[1].dims,yt=vt[0]/dt.group,xt="f32",{activationFunction:wt,applyActivation:St}=(0,rt.getActicationSnippet)(dt),Ct=[`@group(0) @binding(0) var<storage, read> x : array<${xt}>;`,`@group(0) @binding(1) var<storage, read> w : array<${xt}>;`];gt&&Ct.push(`@group(0) @binding(2) var<storage, read> b : array<${xt}>;`);const At=dt.format==="NHWC",$t=(0,_e.calculateOutputShape)(mt,vt,dt.dilations,dt.pads,dt.strides,At),Rt=s.ShapeUtil.size($t),kt=(0,et.createIndicesHelper)("output",$t),Lt=(0,et.createIndicesHelper)("x",mt),Dt=(0,et.createIndicesHelper)("w",vt);return Object.assign(Object.assign({},st),{outputs:[{dims:ft?ft($t):$t,dataType:nt[0].dataType,gpuDataType:$.GpuDataType.default}],getShaderSource:Mt=>`
  const strides: vec2<u32> = vec2(${dt.strides[0]}u, ${dt.strides[1]}u);
  const pads: vec2<u32> = vec2(${dt.pads[0]}u, ${dt.pads[1]}u);

  ${Ct.join(`
`)}
  @group(0) @binding(${Ct.length}) var<storage, read_write> output : array<${xt}>;

  ${wt}
  ${kt.o2iImpl}
  ${Lt.i2oImpl}
  ${Dt.i2oImpl}

  ${Mt.mainStart()}
    ${Mt.guardAgainstOutOfBoundsWorkgroupSizes(Rt)}

    ${kt.indicesVariableDeclaration("outputIndices")}
    ${kt.o2iCall("global_idx","outputIndices")}
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${At?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${At?1:2}], outputIndices[${At?2:3}]) * strides - pads;
    let group_id: u32 = output_channel / ${yt}u;

    var value: ${xt} = ${xt}(0);
    for (var wInChannel: u32 = 0u; wInChannel < ${vt[1]}u; wInChannel++) {
      let input_channel = group_id * ${vt[1]}u + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < ${vt[2]}u; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * ${dt.dilations[0]}u;

        if (xHeight < 0u || xHeight >= ${mt[At?1:2]}u) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < ${vt[3]}u; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * ${dt.dilations[1]}u;
          if (xWidth < 0u || xWidth >= ${mt[At?2:3]}u) {
            continue;
          }

          ${Lt.indicesVariableDeclaration("xIndices",At?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}
          let xVal = x[${Lt.i2oExpression("xIndices")}];
          ${Dt.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}
          let wVal = w[${Dt.i2oExpression("wIndices")}];
          value += xVal*wVal;
        }
      }
    }
    ${pt}
    ${St}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(Rt/64)})})})(ot,j,it,at)})}},9770:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.conv=i.parseConvAttributes=i.calculateOutputShape=void 0;const s=a(6952),$=a(387),et=a(9192),_e=a(3822),rt=a(3997),ot=a(2625);i.calculateOutputShape=(j,_,tt,nt,st,dt)=>{const ft=j[0],gt=j.slice(dt?1:2,dt?3:4),pt=gt.length,mt=_[0],vt=_.slice(2).map((xt,wt)=>xt+(xt-1)*(tt[wt]-1)),yt=gt.map((xt,wt)=>xt+nt[wt]+nt[wt+pt]).map((xt,wt)=>Math.floor((xt-vt[wt]+st[wt])/st[wt]));return yt.splice(0,0,ft),yt.splice(dt?3:1,0,mt),yt};const it=(0,$.createAttributeWithCacheKey)({perm:[2,3,1,0]}),at=(j,_)=>{const tt=j.kernelShape.slice();for(let dt=2;dt<_[1].dims.length;++dt)tt[dt-2]===0&&(tt[dt-2]=_[1].dims[dt]);const nt=j.pads.slice();s.PoolConvUtil.adjustPadsBasedOnAutoPad(_[0].dims,j.strides,j.dilations,tt,nt,j.format==="NHWC",j.autoPad);const st=Object.assign({},j);return Object.assign(st,{kernelShape:tt,pads:nt,cacheKey:j.cacheKey}),st};i.parseConvAttributes=j=>{const _=(0,rt.parseInternalActivationAttributes)(j),tt=j.format,nt=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][j.auto_pad],st=j.dilations,dt=j.group,ft=j.kernel_shape,gt=j.pads,pt=j.strides,mt=j.w_is_const();return(0,$.createAttributeWithCacheKey)(Object.assign({autoPad:nt,format:tt,dilations:st,group:dt,kernelShape:ft,pads:gt,strides:pt,wIsConst:mt},_))},i.conv=(j,_)=>{((tt,nt)=>{if(!tt||tt.length!==2&&tt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(tt[0].dims.length!==4&&tt[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(tt[0].dims.length!==tt[1].dims.length)throw new Error("filter does not have same dimension as input");if(tt[0].dims[nt.format==="NHWC"?tt[0].dims.length-1:1]!==tt[1].dims[1]*nt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(tt.length===3&&(tt[2].dims.length!==1||tt[1].dims[0]!==tt[2].dims[0]))throw new Error("invalid bias");const st=tt[0].dims.length-2;if(nt.dilations.length!==st)throw new Error(`dilations should be ${st}D`);if(nt.strides.length!==st)throw new Error(`strides should be ${st}D`);if(nt.pads.length!==2*st)throw new Error(`pads should be ${2*st}D`);if(nt.kernelShape.length!==0&&nt.kernelShape.length!==tt[1].dims.length-2)throw new Error("invalid kernel shape");if(tt[0].dataType!==1||tt[1].dataType!==1)throw new Error("Conv input(X,W) should be float tensor");if(tt.length===3&&tt[2].dataType!==1)throw new Error("Conv input(bias) should be float tensor")})(j.inputs,_),j.inputs[0].dims.length===3?((tt,nt)=>{const st=nt.format==="NHWC",dt=[tt.inputs[0].reshape(st?[tt.inputs[0].dims[0],1,tt.inputs[0].dims[1],tt.inputs[0].dims[2]]:[tt.inputs[0].dims[0],tt.inputs[0].dims[1],1,tt.inputs[0].dims[2]]),tt.inputs[1].reshape([tt.inputs[1].dims[0],tt.inputs[1].dims[1],1,tt.inputs[1].dims[2]])];tt.inputs.length===3&&dt.push(tt.inputs[2]);const ft=[0,nt.pads[0],0,nt.pads[1]],gt=[1].concat(nt.strides),pt=[1].concat(nt.dilations),mt=[1].concat(nt.kernelShape),vt=at(Object.assign(Object.assign({},nt),{pads:ft,strides:gt,dilations:pt,kernelShape:mt}),dt);tt.compute((0,et.createGroupedConvProgramInfoLoader)(dt,vt,yt=>st?[yt[0],yt[2],yt[3]]:[]))})(j,_):((tt,nt,st)=>{var dt;const ft=at(st,nt),gt=nt.length===3,pt=st.format==="NHWC",mt=nt[0].dims[pt?1:2],vt=nt[0].dims[pt?2:3],yt=nt[0].dims[pt?3:1],xt=nt[1].dims[2],wt=nt[1].dims[3],St=(0,i.calculateOutputShape)(nt[0].dims,nt[1].dims,st.dilations,ft.pads,st.strides,pt),Ct=St[pt?1:2],At=St[pt?2:3],$t=St[pt?3:1];if(pt&&xt===mt&&wt===vt&&st.autoPad==="VALID"||xt===1&&wt===1&&st.dilations[0]===1&&st.dilations[1]===1&&st.strides[0]===1&&st.strides[1]===1&&(st.autoPad==="SAME_UPPER"||st.autoPad==="SAME_LOWER"||st.autoPad==="VALID")||!pt||st.group!==1)return void tt.compute((0,et.createGroupedConvProgramInfoLoader)(nt,ft));const Rt=pt?Ct*At:$t,kt=pt?$t:Ct*At,Lt=xt*wt*yt,Dt=(dt=tt.customData.wT)!==null&&dt!==void 0?dt:tt.compute(Object.assign(Object.assign({},ot.transposeProgramMetadata),{cacheHint:it.cacheKey,get:()=>(0,ot.createTransposeProgramInfo)(nt[1],it.perm)}),{inputs:[1],outputs:[st.wIsConst?-2:-1]})[0];st.wIsConst&&!tt.customData.wT&&(tt.customData.wT=Dt);const Mt=[nt[0],Dt];gt&&(pt||nt[2].dims.length!==1?Mt.push(nt[2]):Mt.push(nt[2].reshape([nt[2].dims[0],1,1]))),tt.compute((0,_e.createConv2DMatMulProgramInfoLoader)(Mt,ft,St,Rt,kt,Lt,gt,!0),{inputs:Mt})})(j,j.inputs,_)}},3822:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createConv2DMatMulProgramInfoLoader=void 0;const s=a(1163),$=a(9456);i.createConv2DMatMulProgramInfoLoader=(et,_e,rt,ot,it,at,j,_)=>{const tt=((nt,st)=>({name:"Conv2DMatMul",inputTypes:nt?[s.GpuDataType.default,s.GpuDataType.default,s.GpuDataType.default]:[s.GpuDataType.default,s.GpuDataType.default],cacheHint:st}))(j,_e.cacheKey);return Object.assign(Object.assign({},tt),{get:()=>(0,$.createConv2DMatMulProgramInfo)(et,tt,_e,rt,ot,it,at,j,_)})}},3997:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInternalActivationAttributes=i.getActicationSnippet=void 0;const s=a(6952);i.getActicationSnippet=$=>{switch($.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${$.clipMin});const clip_max_=f32(${$.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},i.parseInternalActivationAttributes=$=>{const et=($==null?void 0:$.activation)||"";if(et==="Clip"){const[_e,rt]=($==null?void 0:$.activation_params)||[s.MIN_CLIP,s.MAX_CLIP];return{activation:et,clipMax:rt,clipMin:_e,activationCacheKey:`${et}:${_e},${rt}`}}return{activation:et,activationCacheKey:et}}},4271:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGemmAttributes=i.gemm=void 0;const s=a(6952),$=a(387),et=a(1163);i.gemm=(_e,rt)=>{(ot=>{if(!ot)throw new Error("Input is missing");if(ot.length<2||ot.length>3)throw new Error("Invaid input number.");if(ot.length===3&&ot[2].dims.length>2)throw new Error("Invalid input shape of C");if(ot[0].dataType!==1||ot[1].dataType!==1||ot.length===3&&ot[2].dataType!==1)throw new Error("Invalid input type.");if(ot[0].dataType!==ot[1].dataType||ot.length===3&&ot[0].dataType!==ot[2].dataType)throw new Error("Input types are mismatched")})(_e.inputs),_e.compute(((ot,it)=>{const at={name:"Gemm",inputTypes:ot.length===3?[et.GpuDataType.default,et.GpuDataType.default,et.GpuDataType.default]:[et.GpuDataType.default,et.GpuDataType.default],cacheHint:it.cacheKey};return Object.assign(Object.assign({},at),{get:()=>((j,_,tt)=>{const nt=_[0].dims.slice(),st=_[1].dims.slice(),[dt,ft,gt]=s.GemmUtil.getShapeOfGemmResult(nt,tt.transA,st,tt.transB,_.length===3?_[2].dims:void 0),pt=[dt,ft];if(!pt)throw new Error("Can't use gemm on the given tensors");const mt=s.ShapeUtil.size(pt);let vt="";tt.transA&&tt.transB?vt="value += a[k * M + m] * b[n * K + k];":tt.transA&&!tt.transB?vt="value += a[k * M + m] * b[k * N + n];":!tt.transA&&tt.transB?vt="value += a[m * K + k] * b[n * K + k];":tt.transA||tt.transB||(vt="value += a[m * K + k] * b[k * N + n];");const yt="f32",xt=tt.alpha===1?"":"value *= alpha;",wt=_.length===3?`value += beta * c[${((Ct,At,$t)=>{if($t.length===0)return"0u";const Rt=$t.length===1&&Ct!==1||$t.length===2&&$t[0]!==Ct,kt=$t[$t.length-1]!==At;let Lt="0u";return Rt||(Lt+=`+ m * ${$t[$t.length-1]}u`),kt||(Lt+="+n"),Lt})(dt,ft,_[2].dims)}];`:"",St=[`@group(0) @binding(0) var<storage, read> a : array<${yt}>;`,`@group(0) @binding(1) var<storage, read> b : array<${yt}>;`];return _.length===3&&St.push(`@group(0) @binding(2) var<storage, read> c : array<${yt}>;`),Object.assign(Object.assign({},j),{outputs:[{dims:pt,dataType:_[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:Ct=>`
  const M: u32 = ${dt}u;
  const N: u32 = ${ft}u;
  const K: u32 = ${gt}u;
  const alpha = ${yt}(${tt.alpha});
  const beta = ${yt}(${tt.beta});

  ${St.join(`
`)}
  @group(0) @binding(${_.length}) var<storage, read_write> output : array<${yt}>;

  ${Ct.mainStart()}
    ${Ct.guardAgainstOutOfBoundsWorkgroupSizes(mt)}

    let m = global_id.x / N;
    let n = global_id.x % N;

    var value = ${yt}(0);
    for (var k: u32 = 0u; k<${gt}u; k++) {
      ${vt}
    }

    ${xt}
    ${wt}
    output[global_id.x] = value;

  }`,dispatchGroup:()=>({x:Math.ceil(mt/64)})})})(at,ot,it)})})(_e.inputs,rt))},i.parseGemmAttributes=_e=>(0,$.createAttributeWithCacheKey)(_e)},1522:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.matMul=i.createMatmulProgramInfoLoader=void 0;const s=a(6952),$=a(1163),et=a(3997);i.createMatmulProgramInfoLoader=(_e,rt)=>{const ot=(it=_e.length>2,at=rt.activationCacheKey,{name:"MatMul",inputTypes:it?[$.GpuDataType.default,$.GpuDataType.default,$.GpuDataType.default]:[$.GpuDataType.default,$.GpuDataType.default],cacheHint:at});var it,at;return Object.assign(Object.assign({},ot),{get:()=>((j,_,tt)=>{const nt=_[0].dims,st=_[1].dims,dt=s.BroadcastUtil.calcShape(nt,st,!0);if(!dt)throw new Error("Can't use matmul on the given tensors");const ft=s.ShapeUtil.size(dt),gt="f32",{activationFunction:pt,applyActivation:mt}=(0,et.getActicationSnippet)(tt),vt=dt[dt.length-2],yt=nt[nt.length-1],xt=dt[dt.length-1];return Object.assign(Object.assign({},j),{outputs:[{dims:dt,dataType:_[0].dataType,gpuDataType:$.GpuDataType.default}],getShaderSource:wt=>`
  const M: u32 = ${vt}u;
  const N: u32 = ${xt}u;
  const K: u32 = ${yt}u;

  @group(0) @binding(0) var<storage, read> a : array<${gt}>;
  @group(0) @binding(1) var<storage, read> b : array<${gt}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${gt}>;

  ${pt}

  ${wt.mainStart()}
    ${wt.guardAgainstOutOfBoundsWorkgroupSizes(ft)}

    let stack = global_idx / (M * N);
    let mn = global_idx % (M * N);
    let n = global_idx % N;
    let m = mn / N;

    let offsetA = stack * (M * K);
    let offsetB = stack * (K * N);

    var value = ${gt}(0);
    for (var k: u32 = 0u; k<${yt}u; k++) {
      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];
    }
    ${mt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(ft/64)})})})(ot,_e,rt)})},i.matMul=_e=>{(rt=>{if(!rt||rt.length!==2)throw new Error("MatMul requires 2 inputs.");if(rt[0].dims[rt[0].dims.length-1]!==rt[1].dims[rt[1].dims.length-2])throw new Error("shared dimension does not match.");if(rt[0].dataType!==1||rt[1].dataType!==1)throw new Error("inputs should be float type")})(_e.inputs),_e.compute((0,i.createMatmulProgramInfoLoader)(_e.inputs,{activation:"",activationCacheKey:""}))}},5262:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.globalMaxPool=i.parseGlobalMaxPoolAttributes=i.parseMaxPoolAttributes=i.maxPool=i.globalAveragePool=i.parseGlobalAveragePoolAttributes=i.averagePool=i.parseAveragePoolAttributes=void 0;const s=a(6952),$=a(387),et=a(1163),_e=a(2075),rt=nt=>{if(!nt||nt.length!==1)throw new Error("Pool ops requires 1 input.");if(nt[0].dims.length!==4)throw new Error("Pool ops supports 2-D inputs only for now.");if(nt[0].dataType!==1)throw new Error("Invalid input type.")},ot=(nt,st,dt)=>{const ft=st.format==="NHWC",gt=ft?[nt[0].dims[0],nt[0].dims[3],nt[0].dims[1],nt[0].dims[2]]:nt[0].dims.slice(),pt=Object.hasOwnProperty.call(st,"dilations"),mt=st.kernelShape.slice(),vt=st.strides.slice(),yt=pt?st.dilations.slice():[],xt=st.pads.slice();s.PoolConvUtil.adjustPoolAttributes(dt,gt,mt,vt,yt,xt);const wt=s.PoolConvUtil.computePoolOutputShape(dt,gt,vt,yt,mt,xt,st.autoPad),St=Object.assign({},st);return pt?Object.assign(St,{kernelShape:mt,strides:vt,pads:xt,dilations:yt,cacheKey:st.cacheKey}):Object.assign(St,{kernelShape:mt,strides:vt,pads:xt,cacheKey:st.cacheKey}),[St,ft?[wt[0],wt[2],wt[3],wt[1]]:wt]},it=(nt,st,dt,ft,gt,pt,mt,vt)=>{const yt=ft.format==="NHWC",xt=st.length,wt=s.ShapeUtil.size(dt),St=(0,_e.createIndicesHelper)("output",dt),Ct=(0,_e.createIndicesHelper)("x",st);if(ft.kernelShape.length<=2){const At=ft.kernelShape[ft.kernelShape.length-1],$t=ft.strides[ft.strides.length-1],Rt=ft.pads[ft.pads.length/2-1],kt=xt-(yt?2:1);let Lt="",Dt="",Mt="";if(Lt=Rt+ft.pads[ft.pads.length-1]!==0?`
              for (var i: u32 = 0u; i < ${At}u; i++) {
                xIndices[${kt}] = indices[${kt}] * ${$t} - ${Rt} + i;
                if (xIndices[${kt}] < 0 || xIndices[${kt}] >= ${st[kt]}) {
                  pad++;
                  continue;
                }
                let x_val = x[${Ct.i2oExpression("xIndices")}];
                ${gt}
              }`:`
              for (var i: u32 = 0u; i < ${At}u; i++) {
                xIndices[${kt}] = indices[${kt}] * ${$t} - ${Rt} + i;
                let x_val = x[${Ct.i2oExpression("xIndices")}];
                ${gt}
              }`,ft.kernelShape.length===2){const Vt=ft.kernelShape[ft.kernelShape.length-2],Kt=ft.strides[ft.strides.length-2],Yt=ft.pads[ft.pads.length/2-2],Jt=ft.pads[ft.pads.length-2],ln=xt-(yt?3:2),wn=st[ln];Dt=Yt+Jt!==0?`
                for (var j: u32 = 0u; j < ${Vt}u; j++) {
                  xIndices[${ln}] = indices[${ln}] * ${Kt} - ${Yt} + j;
                  if (xIndices[${ln}] < 0 || xIndices[${ln}] >= ${wn}) {
                    pad+= ${At};
                    continue;
                  }
              `:`
                for (var j: u32 = 0u; j < ${Vt}u; j++) {
                  xIndices[${ln}] = indices[${ln}] * ${Kt} - ${Yt} + j;
                `,Mt=`
              }
            `}return`
            @group(0) @binding(0) var<storage, read> x : array<${mt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${mt}>;

            ${St.o2iImpl}
            ${Ct.i2oImpl}

            ${nt.mainStart()}
              ${nt.guardAgainstOutOfBoundsWorkgroupSizes(wt)}

              ${St.indicesVariableDeclaration("indices")}
              ${St.o2iCall("global_idx","indices")}
              ${St.indicesVariableDeclaration("xIndices")}
              ${St.o2iCall("global_idx","xIndices")}

              var value: ${mt} = ${mt}(${vt});
              var pad = 0;
              ${Dt}
              ${Lt}
              ${Mt}
              ${pt}

              output[global_idx] = value;
            }`}{if(yt)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const At=s.ShapeUtil.size(ft.kernelShape),$t=s.ShapeUtil.computeStrides(ft.kernelShape),Rt=$t.length,kt=ft.pads.length;let Lt="";return Lt=ft.pads.reduce((Dt,Mt)=>Dt+Mt)?`
                if (xIndices[j] >= inputDims[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${Ct.i2oExpression("xIndices")}];
                ${gt}
              }`:`
              }
              let x_val = x[${Ct.i2oExpression("xIndices")}];
              ${gt}
            `,`
            @group(0) @binding(0) var<storage, read> x : array<${mt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${mt}>;

            ${St.o2iImpl}
            ${Ct.i2oImpl}

            const pads = array<u32, ${kt}>(${ft.pads.map(Dt=>`${Dt}u`).join(",")});
            const inputDims = array<u32, ${xt}>(${st.map(Dt=>`${Dt}u`).join(",")});
            const kernelStrides = array<u32, ${Rt}>(${$t.map(Dt=>`${Dt}u`).join(",")});
            const strides = array<u32, ${Rt}>(${ft.strides.map(Dt=>`${Dt}u`).join(",")});

            ${nt.mainStart()}
              ${nt.guardAgainstOutOfBoundsWorkgroupSizes(wt)}

              ${St.indicesVariableDeclaration("indices")}
              ${St.o2iCall("global_idx","indices")}
              ${St.indicesVariableDeclaration("xIndices")}
              ${St.o2iCall("global_idx","xIndices")}

              var offsets: array<u32, ${Rt}>;

              var value = ${mt}(${vt});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < ${At}u; i++) {
                var offset = i;
                for (var j = 0u; j < ${Rt-1}u; j++) {
                  offsets[j] = offset / kernelStrides[j];
                  offset -= offsets[j] * kernelStrides[j];
                }
                offsets[${Rt-1}] = offset;

                isPad = false;
                for (var j = ${xt-Rt}u; j < ${xt}u; j++) {
                  xIndices[j] = indices[j] * strides[j - ${xt-Rt}u]
                    + offsets[j - ${xt-Rt}u] - pads[j - 2u];
                  ${Lt}
              }
              ${pt}

              output[global_idx] = value;
            }`}},at=nt=>({format:nt.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][nt.auto_pad],ceilMode:nt.ceil_mode,kernelShape:nt.kernel_shape,strides:nt.strides,pads:nt.pads}),j=(nt,st,dt,ft)=>{const[gt,pt]=ot(nt,ft,dt),mt=s.ShapeUtil.size(gt.kernelShape),vt="f32";let yt="";return gt.countIncludePad?yt+=`value /= ${vt}(${mt});`:yt+=`value /= ${vt}(${mt} - pad);`,Object.assign(Object.assign({},st),{outputs:[{dims:pt,dataType:nt[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:xt=>it(xt,nt[0].dims,pt,gt,"value += x_val;",yt,vt,"0.0"),dispatchGroup:()=>({x:Math.ceil(s.ShapeUtil.size(pt)/64)})})};i.parseAveragePoolAttributes=nt=>{const st=nt.count_include_pad!==0,dt=at(nt);if(dt.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,$.createAttributeWithCacheKey)(Object.assign({countIncludePad:st},dt))},i.averagePool=(nt,st)=>{rt(nt.inputs);const dt={name:"AveragePool",inputTypes:[et.GpuDataType.default],cacheHint:st.cacheKey};nt.compute(Object.assign(Object.assign({},dt),{get:()=>j(nt.inputs,dt,!1,st)}))};const _={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};i.parseGlobalAveragePoolAttributes=nt=>{const st=nt.format;return Object.assign(Object.assign({format:st},_),{cacheKey:st})},i.globalAveragePool=(nt,st)=>{rt(nt.inputs);const dt={name:"GlobalAveragePool",inputTypes:[et.GpuDataType.default],cacheHint:st.cacheKey};nt.compute(Object.assign(Object.assign({},dt),{get:()=>j(nt.inputs,dt,!0,st)}))};const tt=(nt,st,dt,ft)=>{const[gt,pt]=ot(nt,ft,dt);return Object.assign(Object.assign({},st),{outputs:[{dims:pt,dataType:nt[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:mt=>it(mt,nt[0].dims,pt,gt,`
      value = max(x_val, value);
    `,"","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(s.ShapeUtil.size(pt)/64)})})};i.maxPool=(nt,st)=>{rt(nt.inputs);const dt={name:"MaxPool",inputTypes:[et.GpuDataType.default],cacheHint:st.cacheKey};nt.compute(Object.assign(Object.assign({},dt),{get:()=>tt(nt.inputs,dt,!1,st)}))},i.parseMaxPoolAttributes=nt=>{const st=nt.storage_order,dt=nt.dilations,ft=at(nt);if(st!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ft.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,$.createAttributeWithCacheKey)(Object.assign({storageOrder:st,dilations:dt},ft))},i.parseGlobalMaxPoolAttributes=nt=>{const st=nt.format;return Object.assign(Object.assign({format:st},_),{cacheKey:st})},i.globalMaxPool=(nt,st)=>{rt(nt.inputs);const dt={name:"GlobalMaxPool",inputTypes:[et.GpuDataType.default],cacheHint:st.cacheKey};nt.compute(Object.assign(Object.assign({},dt),{get:()=>tt(nt.inputs,dt,!0,st)}))}},2625:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseTransposeAttributes=i.transpose=i.createTransposeProgramInfo=i.transposeProgramMetadata=void 0;const s=a(6952),$=a(387),et=a(1163),_e=a(2075);i.transposeProgramMetadata={name:"Transpose",inputTypes:[et.GpuDataType.default]};const rt=(ot,it)=>it&&it.length!==ot.length?[...ot.keys()].reverse():it;i.createTransposeProgramInfo=(ot,it)=>{const at=ot.dims,j=rt(at,it),_=((ft,gt)=>s.ShapeUtil.sortBasedOnPerm(ft,rt(ft,gt)))(at,j),tt=at.length,nt=s.ShapeUtil.size(_),st=(0,_e.createIndicesHelper)("output",_),dt=(0,_e.createIndicesHelper)("a",at);return Object.assign(Object.assign({},i.transposeProgramMetadata),{outputs:[{dims:_,dataType:ot.dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:ft=>`
  @group(0) @binding(0) var<storage, read> a : array<f32>;
  @group(0) @binding(1) var<storage, read_write> output : array<f32>;

  ${((gt,pt)=>{const mt=[];mt.push(`fn perm(a: ptr<function, array<u32, ${pt}>>, i: ptr<function, array<u32, ${pt}>>) {`);for(let vt=0;vt<pt;++vt)mt.push(`	(*a)[${gt[vt]}]=(*i)[${vt}];`);return mt.push("	}"),mt.join(`
`)})(j,tt)}
  ${st.o2iImpl}
  ${dt.i2oImpl}

  ${ft.mainStart()}
    ${ft.guardAgainstOutOfBoundsWorkgroupSizes(nt)}

    ${st.indicesVariableDeclaration("indices")}
    ${st.o2iCall("global_idx","indices")}
    ${dt.indicesVariableDeclaration("aIndices")}
    perm(&aIndices, &indices);

    output[global_idx] = a[${dt.i2oExpression("aIndices")}];
  }`,dispatchGroup:()=>({x:Math.ceil(nt/64)})})},i.transpose=(ot,it)=>{(at=>{if(!at||at.length!==1)throw new Error("Transpose requires 1 input.");if(at[0].dataType!==1)throw new Error("input should be float tensor")})(ot.inputs),ot.compute(Object.assign(Object.assign({},i.transposeProgramMetadata),{cacheHint:it.cacheKey,get:()=>(0,i.createTransposeProgramInfo)(ot.inputs[0],it.perm)}))},i.parseTransposeAttributes=ot=>(0,$.createAttributeWithCacheKey)({perm:ot.perm})},9302:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.thresholdedRelu=i.tanh=i.tan=i.sqrt=i.sinh=i.sin=i.sigmoid=i.relu=i.reciprocal=i.neg=i.leakyRelu=i.floor=i.exp=i.erf=i.elu=i.parseAlphaAttributes=i.cosh=i.cos=i.ceil=i.clip=i.clipV10=i.atanh=i.atan=i.asinh=i.asin=i.acosh=i.acos=i.abs=void 0;const s=a(6952),$=a(387),et=a(1163),_e=(rt,ot,it,at,j)=>{const _={name:ot,inputTypes:[et.GpuDataType.default],cacheHint:j};return Object.assign(Object.assign({},_),{get:()=>((tt,nt,st,dt)=>Object.assign(Object.assign({},tt),{getShaderSource:ft=>((gt,pt,mt,vt)=>{const yt=Math.ceil(pt/4);let xt="";return xt=typeof mt=="string"?`${mt}(a)`:mt("a"),`
  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;
  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;

  ${vt??""}

  ${gt.mainStart()}
    ${gt.guardAgainstOutOfBoundsWorkgroupSizes(yt)}

    let a = inputData[global_idx];
    outputData[global_idx] = ${xt};
  }`})(ft,s.ShapeUtil.size(nt.dims),st,dt),outputs:[{dims:nt.dims,dataType:nt.dataType,gpuDataType:et.GpuDataType.default}],dispatchGroup:ft=>({x:Math.ceil(s.ShapeUtil.size(ft[0].dims)/64/4)})}))(_,rt,it,at)})};i.abs=rt=>{rt.compute(_e(rt.inputs[0],"Abs","abs"))},i.acos=rt=>{rt.compute(_e(rt.inputs[0],"Acos","acos"))},i.acosh=rt=>{rt.compute(_e(rt.inputs[0],"Acosh","acosh"))},i.asin=rt=>{rt.compute(_e(rt.inputs[0],"Asin","asin"))},i.asinh=rt=>{rt.compute(_e(rt.inputs[0],"Asinh","asinh"))},i.atan=rt=>{rt.compute(_e(rt.inputs[0],"Atan","atan"))},i.atanh=rt=>{rt.compute(_e(rt.inputs[0],"Atanh","atanh"))},i.clipV10=(rt,ot)=>{rt.compute(_e(rt.inputs[0],"Clip",it=>`clamp(${it}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<f32> = vec4(f32(${ot.min}));
    const clip_max_: vec4<f32> = vec4(f32(${ot.max}));
`,ot.cacheKey),{inputs:[0]})},i.clip=rt=>{const ot=(it=>{const at=it.length>=2?it[1].getFloat32Array()[0]:s.MIN_CLIP,j=it.length>=3?it[2].getFloat32Array()[0]:s.MAX_CLIP;return(0,$.createAttributeWithCacheKey)({min:at,max:j})})(rt.inputs);(0,i.clipV10)(rt,ot)},i.ceil=rt=>{rt.compute(_e(rt.inputs[0],"Ceil","ceil"))},i.cos=rt=>{rt.compute(_e(rt.inputs[0],"Cos","cos"))},i.cosh=rt=>{rt.compute(_e(rt.inputs[0],"Cosh","cosh"))},i.parseAlphaAttributes=rt=>(0,$.createAttributeWithCacheKey)(rt),i.elu=(rt,ot)=>{rt.compute(_e(rt.inputs[0],"Elu",it=>`elu_vf32(${it})`,`
  const elu_alpha_: f32 = f32(${ot.alpha});

  fn elu_f32(a: f32) -> f32 {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,ot.cacheKey))},i.erf=rt=>{rt.compute(_e(rt.inputs[0],"Erf",ot=>`erf_vf32(${ot})`,`
  const r0: f32 = 0.3275911;
  const r1: f32 = 0.254829592;
  const r2: f32 = -0.284496736;
  const r3: f32 = 1.421413741;
  const r4: f32 = -1.453152027;
  const r5: f32 = 1.061405429;

  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {
    let absv = abs(v);
    let x = 1.0 / (1.0 + r0 * absv);
    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
  }`))},i.exp=rt=>{rt.compute(_e(rt.inputs[0],"Exp","exp"))},i.floor=rt=>{rt.compute(_e(rt.inputs[0],"Floor","floor"))},i.leakyRelu=(rt,ot)=>{rt.compute(_e(rt.inputs[0],"LeakyRelu",it=>`select(leaky_relu_alpha_ * ${it}, ${it}, ${it} >= vec4<f32>(0.0))`,`const leaky_relu_alpha_: f32 = f32(${ot.alpha});`,ot.cacheKey))},i.neg=rt=>{rt.compute(_e(rt.inputs[0],"Neg",ot=>`-${ot}`))},i.reciprocal=rt=>{rt.compute(_e(rt.inputs[0],"Reciprocal",ot=>`1.0/${ot}`))},i.relu=rt=>{rt.compute(_e(rt.inputs[0],"Relu",ot=>`select(vec4<f32>(0.0), ${ot}, ${ot} > vec4<f32>(0.0))`))},i.sigmoid=rt=>{rt.compute(_e(rt.inputs[0],"Sigmoid",ot=>`(1.0 / (1.0 + exp(-${ot})))`))},i.sin=rt=>{rt.compute(_e(rt.inputs[0],"Sin","sin"))},i.sinh=rt=>{rt.compute(_e(rt.inputs[0],"Sinh","sinh"))},i.sqrt=rt=>{rt.compute(_e(rt.inputs[0],"Sqrt","sqrt"))},i.tan=rt=>{rt.compute(_e(rt.inputs[0],"Tan","tan"))},i.tanh=rt=>{rt.compute(_e(rt.inputs[0],"Tanh","tanh"))},i.thresholdedRelu=(rt,ot)=>(rt.compute(_e(rt.inputs[0],"ThresholdedRelu",it=>`select(vec4<f32>(0.0), ${it}, ${it} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${ot.alpha});`,ot.cacheKey)),0)},8305:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ProgramManager=void 0;const s=a(4955),$=a(2075);i.ProgramManager=class{constructor(et){this.backend=et,this.repo=new Map,this.attributesBound=!1}getArtifact(et){return this.repo.get(et)}setArtifact(et,_e){this.repo.set(et,_e)}run(et,_e,rt,ot){const it=this.backend.device,at=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&at.writeTimestamp(this.backend.profilingQuerySet,0),at.setPipeline(et.computePipeline);const j=[];for(const tt of _e)j.push({binding:j.length,resource:{buffer:tt.buffer}});for(const tt of rt)j.push({binding:j.length,resource:{buffer:tt.buffer}});const _=it.createBindGroup({layout:et.computePipeline.getBindGroupLayout(0),entries:j});if(at.setBindGroup(0,_),at.dispatchWorkgroups(...ot),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){at.writeTimestamp(this.backend.profilingQuerySet,1);const tt=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),nt=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,tt.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(tt.buffer,0,nt.buffer,0,16),this.backend.flush();const st=this.backend.currentKernelId,dt=this.backend.kernels.get(st)[0];nt.buffer.mapAsync(GPUMapMode.READ).then(()=>{const ft=new BigUint64Array(nt.buffer.getMappedRange()),gt=ft[0],pt=ft[1];nt.buffer.unmap(),this.backend.profilingTimeBase===void 0&&(this.backend.profilingTimeBase=gt);const mt=Number(gt-this.backend.profilingTimeBase),vt=Number(pt-this.backend.profilingTimeBase);if(!Number.isSafeInteger(mt)||!Number.isSafeInteger(vt))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(tt.id),this.backend.gpuDataManager.release(nt.id),console.log(`[profiling] kernel "${st}|${dt}" execution time: ${vt-mt} ns`)})}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(et,_e){const rt=this.backend.device,ot=et.getShaderSource((0,$.createShaderHelper)(_e)),it=rt.createShaderModule({code:ot});return(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] shader code: ${ot}`),{programInfo:et,computePipeline:rt.createComputePipeline({compute:{module:it,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(et){const _e=typeof et=="number"?et:et.x,rt=typeof et=="number"?1:et.y||1,ot=typeof et=="number"?1:et.z||1,it=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(_e<=it&&rt<=it&&ot<=it)return[_e,rt,ot];const at=_e*rt*ot;let j=Math.ceil(Math.sqrt(at));if(j>it){if(j=Math.ceil(Math.cbrt(at)),j>it)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[j,j,j]}return[j,j,1]}}},1163:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.GpuDataType=void 0,(a=i.GpuDataType||(i.GpuDataType={}))[a.default=0]="default",a[a.upload=1]="upload",a[a.profile=2]="profile"},3899:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.iterateExtraOptions=void 0,i.iterateExtraOptions=(a,s,$,et)=>{if(typeof a=="object"&&a!==null){if($.has(a))throw new Error("Circular reference in options");$.add(a)}Object.entries(a).forEach(([_e,rt])=>{const ot=s?s+_e:_e;if(typeof rt=="object")(0,i.iterateExtraOptions)(rt,ot+".",$,et);else if(typeof rt=="string"||typeof rt=="number")et(ot,rt.toString());else{if(typeof rt!="boolean")throw new Error("Can't handle extra config type: "+typeof rt);et(ot,rt?"1":"0")}})}},9544:function(o,i,a){var s,$=this&&this.__createBinding||(Object.create?function(At,$t,Rt,kt){kt===void 0&&(kt=Rt);var Lt=Object.getOwnPropertyDescriptor($t,Rt);Lt&&!("get"in Lt?!$t.__esModule:Lt.writable||Lt.configurable)||(Lt={enumerable:!0,get:function(){return $t[Rt]}}),Object.defineProperty(At,kt,Lt)}:function(At,$t,Rt,kt){kt===void 0&&(kt=Rt),At[kt]=$t[Rt]}),et=this&&this.__setModuleDefault||(Object.create?function(At,$t){Object.defineProperty(At,"default",{enumerable:!0,value:$t})}:function(At,$t){At.default=$t}),_e=this&&this.__importStar||function(At){if(At&&At.__esModule)return At;var $t={};if(At!=null)for(var Rt in At)Rt!=="default"&&Object.prototype.hasOwnProperty.call(At,Rt)&&$($t,At,Rt);return et($t,At),$t};Object.defineProperty(i,"__esModule",{value:!0}),i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=i.initWasm=void 0;const rt=a(8453),ot=a(7675),it=_e(a(1259)),at=a(263),j=()=>!!rt.env.wasm.proxy&&typeof document<"u";let _,tt,nt,st=!1,dt=!1,ft=!1;const gt=[],pt=[],mt=[],vt=[],yt=[],xt=[],wt=()=>{if(st||!dt||ft||!_)throw new Error("worker not ready")},St=At=>{switch(At.data.type){case"init-wasm":st=!1,At.data.err?(ft=!0,tt[1](At.data.err)):(dt=!0,tt[0]());break;case"init-ort":At.data.err?nt[1](At.data.err):nt[0]();break;case"create_allocate":At.data.err?gt.shift()[1](At.data.err):gt.shift()[0](At.data.out);break;case"create_finalize":At.data.err?pt.shift()[1](At.data.err):pt.shift()[0](At.data.out);break;case"create":At.data.err?mt.shift()[1](At.data.err):mt.shift()[0](At.data.out);break;case"release":At.data.err?vt.shift()[1](At.data.err):vt.shift()[0]();break;case"run":At.data.err?yt.shift()[1](At.data.err):yt.shift()[0](At.data.out);break;case"end-profiling":At.data.err?xt.shift()[1](At.data.err):xt.shift()[0]()}},Ct=typeof document<"u"?(s=document==null?void 0:document.currentScript)===null||s===void 0?void 0:s.src:void 0;i.initWasm=async()=>{if(j()){if(dt)return;if(st)throw new Error("multiple calls to 'initWasm()' detected.");if(ft)throw new Error("previous call to 'initWasm()' failed.");return st=!0,rt.env.wasm.wasmPaths===void 0&&Ct&&Ct.indexOf("blob:")!==0&&(rt.env.wasm.wasmPaths=Ct.substr(0,+Ct.lastIndexOf("/")+1)),new Promise((At,$t)=>{_==null||_.terminate(),_=a(8050).Z(),_.onmessage=St,tt=[At,$t];const Rt={type:"init-wasm",in:rt.env.wasm};_.postMessage(Rt)})}return(0,at.initializeWebAssembly)(rt.env.wasm)},i.initOrt=async(At,$t)=>{if(j())return wt(),new Promise((Rt,kt)=>{nt=[Rt,kt];const Lt={type:"init-ort",in:{numThreads:At,loggingLevel:$t}};_.postMessage(Lt)});it.initOrt(At,$t),await(0,ot.init)((0,at.getInstance)())},i.createSessionAllocate=async At=>j()?(wt(),new Promise(($t,Rt)=>{gt.push([$t,Rt]);const kt={type:"create_allocate",in:{model:At}};_.postMessage(kt,[At.buffer])})):it.createSessionAllocate(At),i.createSessionFinalize=async(At,$t)=>j()?(wt(),new Promise((Rt,kt)=>{pt.push([Rt,kt]);const Lt={type:"create_finalize",in:{modeldata:At,options:$t}};_.postMessage(Lt)})):it.createSessionFinalize(At,$t),i.createSession=async(At,$t)=>j()?(wt(),new Promise((Rt,kt)=>{mt.push([Rt,kt]);const Lt={type:"create",in:{model:At,options:$t}};_.postMessage(Lt,[At.buffer])})):it.createSession(At,$t),i.releaseSession=async At=>{if(j())return wt(),new Promise(($t,Rt)=>{vt.push([$t,Rt]);const kt={type:"release",in:At};_.postMessage(kt)});it.releaseSession(At)},i.run=async(At,$t,Rt,kt,Lt)=>j()?(wt(),new Promise((Dt,Mt)=>{yt.push([Dt,Mt]);const Vt={type:"run",in:{sessionId:At,inputIndices:$t,inputs:Rt,outputIndices:kt,options:Lt}};_.postMessage(Vt,it.extractTransferableBuffers(Rt))})):it.run(At,$t,Rt,kt,Lt),i.endProfiling=async At=>{if(j())return wt(),new Promise(($t,Rt)=>{xt.push([$t,Rt]);const kt={type:"end-profiling",in:At};_.postMessage(kt)});it.endProfiling(At)}},7918:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setRunOptions=void 0;const s=a(3899),$=a(9444),et=a(263);i.setRunOptions=_e=>{const rt=(0,et.getInstance)();let ot=0;const it=[],at=_e||{};try{if((_e==null?void 0:_e.logSeverityLevel)===void 0)at.logSeverityLevel=2;else if(typeof _e.logSeverityLevel!="number"||!Number.isInteger(_e.logSeverityLevel)||_e.logSeverityLevel<0||_e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${_e.logSeverityLevel}`);if((_e==null?void 0:_e.logVerbosityLevel)===void 0)at.logVerbosityLevel=0;else if(typeof _e.logVerbosityLevel!="number"||!Number.isInteger(_e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${_e.logVerbosityLevel}`);(_e==null?void 0:_e.terminate)===void 0&&(at.terminate=!1);let j=0;if((_e==null?void 0:_e.tag)!==void 0&&(j=(0,$.allocWasmString)(_e.tag,it)),ot=rt._OrtCreateRunOptions(at.logSeverityLevel,at.logVerbosityLevel,!!at.terminate,j),ot===0)throw new Error("Can't create run options");return(_e==null?void 0:_e.extra)!==void 0&&(0,s.iterateExtraOptions)(_e.extra,"",new WeakSet,(_,tt)=>{const nt=(0,$.allocWasmString)(_,it),st=(0,$.allocWasmString)(tt,it);if(rt._OrtAddRunConfigEntry(ot,nt,st)!==0)throw new Error(`Can't set a run config entry: ${_} - ${tt}`)}),[ot,it]}catch(j){throw ot!==0&&rt._OrtReleaseRunOptions(ot),it.forEach(rt._free),j}}},6640:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxruntimeWebAssemblySessionHandler=void 0;const s=a(2806),$=a(8453),et=a(2850),_e=a(9544),rt=a(7917);let ot;i.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(it){const at=await fetch(it),j=await at.arrayBuffer();return(0,_e.createSessionAllocate)(new Uint8Array(j))}async loadModel(it,at){if(ot||(await(0,_e.initOrt)($.env.wasm.numThreads,(0,rt.logLevelStringToEnum)($.env.logLevel)),ot=!0),typeof it=="string")if(typeof fetch>"u"){const j=await(0,et.promisify)(s.readFile)(it);[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSession)(j,at)}else{const j=await this.createSessionAllocate(it);[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSessionFinalize)(j,at)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,_e.createSession)(it,at)}async dispose(){return(0,_e.releaseSession)(this.sessionId)}async run(it,at,j){const _=[],tt=[];Object.entries(it).forEach(ft=>{const gt=ft[0],pt=ft[1],mt=this.inputNames.indexOf(gt);if(mt===-1)throw new Error(`invalid input '${gt}'`);_.push(pt),tt.push(mt)});const nt=[];Object.entries(at).forEach(ft=>{const gt=ft[0],pt=this.outputNames.indexOf(gt);if(pt===-1)throw new Error(`invalid output '${gt}'`);nt.push(pt)});const st=await(0,_e.run)(this.sessionId,tt,_.map(ft=>[ft.type,ft.dims,ft.data]),nt,j),dt={};for(let ft=0;ft<st.length;ft++)dt[this.outputNames[nt[ft]]]=new $.Tensor(st[ft][0],st[ft][2],st[ft][1]);return dt}startProfiling(){}endProfiling(){(0,_e.endProfiling)(this.sessionId)}}},7622:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setSessionOptions=void 0;const s=a(3899),$=a(9444),et=a(263);i.setSessionOptions=_e=>{var rt,ot,it,at;const j=(0,et.getInstance)();let _=0;const tt=[],nt=_e||{};(st=>{st.extra||(st.extra={}),st.extra.session||(st.extra.session={});const dt=st.extra.session;dt.use_ort_model_bytes_directly||(dt.use_ort_model_bytes_directly="1"),st.executionProviders&&st.executionProviders.some(ft=>(typeof ft=="string"?ft:ft.name)==="webgpu")&&(st.enableMemPattern=!1)})(nt);try{const st=(vt=>{switch(vt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${vt}`)}})((rt=nt.graphOptimizationLevel)!==null&&rt!==void 0?rt:"all"),dt=(vt=>{switch(vt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${vt}`)}})((ot=nt.executionMode)!==null&&ot!==void 0?ot:"sequential"),ft=typeof nt.logId=="string"?(0,$.allocWasmString)(nt.logId,tt):0,gt=(it=nt.logSeverityLevel)!==null&&it!==void 0?it:2;if(!Number.isInteger(gt)||gt<0||gt>4)throw new Error(`log serverity level is not valid: ${gt}`);const pt=(at=nt.logVerbosityLevel)!==null&&at!==void 0?at:0;if(!Number.isInteger(pt)||pt<0||pt>4)throw new Error(`log verbosity level is not valid: ${pt}`);const mt=typeof nt.optimizedModelFilePath=="string"?(0,$.allocWasmString)(nt.optimizedModelFilePath,tt):0;if(_=j._OrtCreateSessionOptions(st,!!nt.enableCpuMemArena,!!nt.enableMemPattern,dt,!!nt.enableProfiling,0,ft,gt,pt,mt),_===0)throw new Error("Can't create session options");return nt.executionProviders&&((vt,yt,xt)=>{for(const wt of yt){let St=typeof wt=="string"?wt:wt.name;switch(St){case"xnnpack":St="XNNPACK";break;case"webgpu":St="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${St}`)}const Ct=(0,$.allocWasmString)(St,xt);if((0,et.getInstance)()._OrtAppendExecutionProvider(vt,Ct)!==0)throw new Error(`Can't append execution provider: ${St}`)}})(_,nt.executionProviders,tt),nt.extra!==void 0&&(0,s.iterateExtraOptions)(nt.extra,"",new WeakSet,(vt,yt)=>{const xt=(0,$.allocWasmString)(vt,tt),wt=(0,$.allocWasmString)(yt,tt);if(j._OrtAddSessionConfigEntry(_,xt,wt)!==0)throw new Error(`Can't set a session config entry: ${vt} - ${yt}`)}),[_,tt]}catch(st){throw _!==0&&j._OrtReleaseSessionOptions(_),tt.forEach(j._free),st}}},9444:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.allocWasmString=void 0;const s=a(263);i.allocWasmString=($,et)=>{const _e=(0,s.getInstance)(),rt=_e.lengthBytesUTF8($)+1,ot=_e._malloc(rt);return _e.stringToUTF8($,ot,rt),et.push(ot),ot}},7917:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.logLevelStringToEnum=i.tensorTypeToTypedArrayConstructor=i.getTensorElementSize=i.tensorDataTypeEnumToString=i.tensorDataTypeStringToEnum=void 0,i.tensorDataTypeStringToEnum=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},i.tensorDataTypeEnumToString=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},i.getTensorElementSize=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],i.tensorTypeToTypedArrayConstructor=a=>{switch(a){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},i.logLevelStringToEnum=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}}},1259:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.extractTransferableBuffers=i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=void 0;const s=a(7918),$=a(7622),et=a(9444),_e=a(7917),rt=a(263);i.initOrt=(it,at)=>{const j=(0,rt.getInstance)()._OrtInit(it,at);if(j!==0)throw new Error(`Can't initialize onnxruntime. error code = ${j}`)};const ot=new Map;i.createSessionAllocate=it=>{const at=(0,rt.getInstance)(),j=at._malloc(it.byteLength);return at.HEAPU8.set(it,j),[j,it.byteLength]},i.createSessionFinalize=(it,at)=>{const j=(0,rt.getInstance)();let _=0,tt=0,nt=[];try{if([tt,nt]=(0,$.setSessionOptions)(at),_=j._OrtCreateSession(it[0],it[1],tt),_===0)throw new Error("Can't create a session")}finally{j._free(it[0]),tt!==0&&j._OrtReleaseSessionOptions(tt),nt.forEach(j._free)}const st=j._OrtGetInputCount(_),dt=j._OrtGetOutputCount(_),ft=[],gt=[],pt=[],mt=[];for(let vt=0;vt<st;vt++){const yt=j._OrtGetInputName(_,vt);if(yt===0)throw new Error("Can't get an input name");gt.push(yt),ft.push(j.UTF8ToString(yt))}for(let vt=0;vt<dt;vt++){const yt=j._OrtGetOutputName(_,vt);if(yt===0)throw new Error("Can't get an output name");mt.push(yt),pt.push(j.UTF8ToString(yt))}return ot.set(_,[_,gt,mt]),[_,ft,pt]},i.createSession=(it,at)=>{const j=(0,i.createSessionAllocate)(it);return(0,i.createSessionFinalize)(j,at)},i.releaseSession=it=>{const at=(0,rt.getInstance)(),j=ot.get(it);if(!j)throw new Error("invalid session id");const _=j[0],tt=j[1],nt=j[2];tt.forEach(at._OrtFree),nt.forEach(at._OrtFree),at._OrtReleaseSession(_),ot.delete(it)},i.run=async(it,at,j,_,tt)=>{const nt=(0,rt.getInstance)(),st=ot.get(it);if(!st)throw new Error("invalid session id");const dt=st[0],ft=st[1],gt=st[2],pt=at.length,mt=_.length;let vt=0,yt=[];const xt=[],wt=[];try{[vt,yt]=(0,s.setRunOptions)(tt);for(let kt=0;kt<pt;kt++){const Lt=j[kt][0],Dt=j[kt][1],Mt=j[kt][2];let Vt,Kt;if(Array.isArray(Mt)){Kt=4*Mt.length,Vt=nt._malloc(Kt),wt.push(Vt);let ln=Vt/4;for(let wn=0;wn<Mt.length;wn++){if(typeof Mt[wn]!="string")throw new TypeError(`tensor data at index ${wn} is not a string`);nt.HEAPU32[ln++]=(0,et.allocWasmString)(Mt[wn],wt)}}else Kt=Mt.byteLength,Vt=nt._malloc(Kt),wt.push(Vt),nt.HEAPU8.set(new Uint8Array(Mt.buffer,Mt.byteOffset,Kt),Vt);const Yt=nt.stackSave(),Jt=nt.stackAlloc(4*Dt.length);try{let ln=Jt/4;Dt.forEach(_n=>nt.HEAP32[ln++]=_n);const wn=nt._OrtCreateTensor((0,_e.tensorDataTypeStringToEnum)(Lt),Vt,Kt,Jt,Dt.length);if(wn===0)throw new Error("Can't create a tensor");xt.push(wn)}finally{nt.stackRestore(Yt)}}const St=nt.stackSave(),Ct=nt.stackAlloc(4*pt),At=nt.stackAlloc(4*pt),$t=nt.stackAlloc(4*mt),Rt=nt.stackAlloc(4*mt);try{let kt=Ct/4,Lt=At/4,Dt=$t/4,Mt=Rt/4;for(let Jt=0;Jt<pt;Jt++)nt.HEAPU32[kt++]=xt[Jt],nt.HEAPU32[Lt++]=ft[at[Jt]];for(let Jt=0;Jt<mt;Jt++)nt.HEAPU32[Dt++]=0,nt.HEAPU32[Mt++]=gt[_[Jt]];let Vt=nt._OrtRun(dt,At,Ct,pt,Rt,mt,$t,vt);const Kt=nt.jsepRunPromise;Kt&&Kt.then!==void 0&&(Vt=await Kt);const Yt=[];if(Vt===0)for(let Jt=0;Jt<mt;Jt++){const ln=nt.HEAPU32[$t/4+Jt],wn=nt.stackSave(),_n=nt.stackAlloc(16);let kn,Cn=0;try{if(Vt=nt._OrtGetTensorData(ln,_n,_n+4,_n+8,_n+12),Vt!==0)throw new Error(`Can't access output tensor data. error code = ${Vt}`);let Ht=_n/4;const cn=nt.HEAPU32[Ht++];Cn=nt.HEAPU32[Ht++];const gn=nt.HEAPU32[Ht++],jn=nt.HEAPU32[Ht++],xn=[];for(let Mn=0;Mn<jn;Mn++)xn.push(nt.HEAPU32[gn/4+Mn]);nt._OrtFree(gn);const Bn=xn.length===0?1:xn.reduce((Mn,Zn)=>Mn*Zn);if(kn=(0,_e.tensorDataTypeEnumToString)(cn),kn==="string"){const Mn=[];let Zn=Cn/4;for(let Fn=0;Fn<Bn;Fn++){const wr=nt.HEAPU32[Zn++],Jn=Fn===Bn-1?void 0:nt.HEAPU32[Zn]-wr;Mn.push(nt.UTF8ToString(wr,Jn))}Yt.push([kn,xn,Mn])}else{const Mn=new((0,_e.tensorTypeToTypedArrayConstructor)(kn))(Bn);new Uint8Array(Mn.buffer,Mn.byteOffset,Mn.byteLength).set(nt.HEAPU8.subarray(Cn,Cn+Mn.byteLength)),Yt.push([kn,xn,Mn])}}finally{nt.stackRestore(wn),kn==="string"&&Cn&&nt._free(Cn),nt._OrtReleaseTensor(ln)}}if(Vt===0)return Yt;throw new Error(`failed to call OrtRun(). error code = ${Vt}.`)}finally{nt.stackRestore(St)}}finally{xt.forEach(nt._OrtReleaseTensor),wt.forEach(nt._free),nt._OrtReleaseRunOptions(vt),yt.forEach(nt._free)}},i.endProfiling=it=>{const at=(0,rt.getInstance)(),j=ot.get(it);if(!j)throw new Error("invalid session id");const _=j[0],tt=at._OrtEndProfiling(_);if(tt===0)throw new Error("Can't get an profile file name");at._OrtFree(tt)},i.extractTransferableBuffers=it=>{const at=[];for(const j of it){const _=j[2];!Array.isArray(_)&&_.buffer&&at.push(_.buffer)}return at}},263:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(tt,nt,st,dt){dt===void 0&&(dt=st);var ft=Object.getOwnPropertyDescriptor(nt,st);ft&&!("get"in ft?!nt.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return nt[st]}}),Object.defineProperty(tt,dt,ft)}:function(tt,nt,st,dt){dt===void 0&&(dt=st),tt[dt]=nt[st]}),$=this&&this.__setModuleDefault||(Object.create?function(tt,nt){Object.defineProperty(tt,"default",{enumerable:!0,value:nt})}:function(tt,nt){tt.default=nt}),et=this&&this.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var nt={};if(tt!=null)for(var st in tt)st!=="default"&&Object.prototype.hasOwnProperty.call(tt,st)&&s(nt,tt,st);return $(nt,tt),nt};Object.defineProperty(i,"__esModule",{value:!0}),i.dispose=i.getInstance=i.initializeWebAssembly=void 0;const _e=et(a(6449)),rt=a(932),ot=a(3474);let it,at=!1,j=!1,_=!1;i.initializeWebAssembly=async tt=>{if(at)return Promise.resolve();if(j)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(_)throw new Error("previous call to 'initializeWebAssembly()' failed.");j=!0;const nt=tt.initTimeout,st=tt.numThreads,dt=tt.simd,ft=st>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),gt=dt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),pt=tt.wasmPaths,mt=typeof pt=="string"?pt:void 0,vt=((St,Ct)=>Ct?St?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":St?"ort-wasm-simd.wasm":"ort-wasm.wasm")(gt,ft),yt=typeof pt=="object"?pt[vt]:void 0;let xt=!1;const wt=[];if(nt>0&&wt.push(new Promise(St=>{setTimeout(()=>{xt=!0,St()},nt)})),wt.push(new Promise((St,Ct)=>{const At=ft?ot:rt,$t={locateFile:(Rt,kt)=>ft&&Rt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([a(4154)],{type:"text/javascript"})):Rt.endsWith(".wasm")?yt||(mt??kt)+vt:kt+Rt};if(ft)if(typeof Blob>"u")$t.mainScriptUrlOrBlob=_e.join("/","ort-wasm-threaded.js");else{const Rt=`var ortWasmThreaded=(function(){var _scriptDir;return ${At.toString()}})();`;$t.mainScriptUrlOrBlob=new Blob([Rt],{type:"text/javascript"})}At($t).then(Rt=>{j=!1,at=!0,it=Rt,St()},Rt=>{j=!1,_=!0,Ct(Rt)})})),await Promise.race(wt),xt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${nt}ms`)},i.getInstance=()=>{if(at&&it)return it;throw new Error("WebAssembly is not initialized yet.")},i.dispose=()=>{var tt;!at||j||_||(j=!0,(tt=it.PThread)===null||tt===void 0||tt.terminateAllThreads(),it=void 0,j=!1,at=!1,_=!0)}},8050:(o,i,a)=>{a.d(i,{Z:()=>et});var s=a(6614),$=a.n(s);function et(){return $()('/*!\n* ONNX Runtime Web v1.15.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:o=>{o.exports=function(i,a,s,$){var et=self||window;try{try{var _e;try{_e=new et.Blob([i])}catch{(_e=new(et.BlobBuilder||et.WebKitBlobBuilder||et.MozBlobBuilder||et.MSBlobBuilder)).append(i),_e=_e.getBlob()}var rt=et.URL||et.webkitURL,ot=rt.createObjectURL(_e),it=new et[a](ot,s);return rt.revokeObjectURL(ot),it}catch{return new et[a]("data:application/javascript,".concat(encodeURIComponent(i)),s)}}catch{if(!$)throw Error("Inline worker is not supported");return new et[a]($,s)}}},3474:(o,i,a)=>{var s,$=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(et){function _e(){return Kt.buffer!=Jt&&Mn(Kt.buffer),ln}function rt(){return Kt.buffer!=Jt&&Mn(Kt.buffer),wn}function ot(){return Kt.buffer!=Jt&&Mn(Kt.buffer),_n}function it(){return Kt.buffer!=Jt&&Mn(Kt.buffer),kn}function at(){return Kt.buffer!=Jt&&Mn(Kt.buffer),Cn}var j,_,tt;et=et||{},j||(j=et!==void 0?et:{}),j.ready=new Promise(function(jt,qt){_=jt,tt=qt});var nt,st,dt,ft,gt,pt,mt=Object.assign({},j),vt="./this.program",yt=(jt,qt)=>{throw qt},xt=typeof window=="object",wt=typeof importScripts=="function",St=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Ct=j.ENVIRONMENT_IS_PTHREAD||!1,At="";function $t(jt){return j.locateFile?j.locateFile(jt,At):At+jt}if(St){let jt;At=wt?a(908).dirname(At)+"/":"//",pt=()=>{gt||(ft=a(1384),gt=a(908))},nt=function(qt,Zt){return pt(),qt=gt.normalize(qt),ft.readFileSync(qt,Zt?void 0:"utf8")},dt=qt=>((qt=nt(qt,!0)).buffer||(qt=new Uint8Array(qt)),qt),st=(qt,Zt,mn)=>{pt(),qt=gt.normalize(qt),ft.readFile(qt,function(Dn,zn){Dn?mn(Dn):Zt(zn.buffer)})},1<process.argv.length&&(vt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(qt){if(!(qt instanceof lr))throw qt}),process.on("unhandledRejection",function(qt){throw qt}),yt=(qt,Zt)=>{if(Vt)throw process.exitCode=qt,Zt;Zt instanceof lr||Mt("exiting due to exception: "+Zt),process.exit(qt)},j.inspect=function(){return"[Emscripten Module object]"};try{jt=a(9925)}catch(qt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),qt}a.g.Worker=jt.Worker}else(xt||wt)&&(wt?At=self.location.href:typeof document<"u"&&document.currentScript&&(At=document.currentScript.src),s&&(At=s),At=At.indexOf("blob:")!==0?At.substr(0,At.replace(/[?#].*/,"").lastIndexOf("/")+1):"",St||(nt=jt=>{var qt=new XMLHttpRequest;return qt.open("GET",jt,!1),qt.send(null),qt.responseText},wt&&(dt=jt=>{var qt=new XMLHttpRequest;return qt.open("GET",jt,!1),qt.responseType="arraybuffer",qt.send(null),new Uint8Array(qt.response)}),st=(jt,qt,Zt)=>{var mn=new XMLHttpRequest;mn.open("GET",jt,!0),mn.responseType="arraybuffer",mn.onload=()=>{mn.status==200||mn.status==0&&mn.response?qt(mn.response):Zt()},mn.onerror=Zt,mn.send(null)}));St&&typeof performance>"u"&&(a.g.performance=a(6953).performance);var Rt=console.log.bind(console),kt=console.warn.bind(console);St&&(pt(),Rt=jt=>ft.writeSync(1,jt+`
`),kt=jt=>ft.writeSync(2,jt+`
`));var Lt,Dt=j.print||Rt,Mt=j.printErr||kt;Object.assign(j,mt),mt=null,j.thisProgram&&(vt=j.thisProgram),j.quit&&(yt=j.quit),j.wasmBinary&&(Lt=j.wasmBinary);var Vt=j.noExitRuntime||!0;typeof WebAssembly!="object"&&ar("no native wasm support detected");var Kt,Yt,Jt,ln,wn,_n,kn,Cn,Ht=!1,cn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function gn(jt,qt,Zt){var mn=(qt>>>=0)+Zt;for(Zt=qt;jt[Zt]&&!(Zt>=mn);)++Zt;if(16<Zt-qt&&jt.buffer&&cn)return cn.decode(jt.buffer instanceof SharedArrayBuffer?jt.slice(qt,Zt):jt.subarray(qt,Zt));for(mn="";qt<Zt;){var Dn=jt[qt++];if(128&Dn){var zn=63&jt[qt++];if((224&Dn)==192)mn+=String.fromCharCode((31&Dn)<<6|zn);else{var gr=63&jt[qt++];65536>(Dn=(240&Dn)==224?(15&Dn)<<12|zn<<6|gr:(7&Dn)<<18|zn<<12|gr<<6|63&jt[qt++])?mn+=String.fromCharCode(Dn):(Dn-=65536,mn+=String.fromCharCode(55296|Dn>>10,56320|1023&Dn))}}else mn+=String.fromCharCode(Dn)}return mn}function jn(jt,qt){return(jt>>>=0)?gn(rt(),jt,qt):""}function xn(jt,qt,Zt,mn){if(!(0<mn))return 0;var Dn=Zt>>>=0;mn=Zt+mn-1;for(var zn=0;zn<jt.length;++zn){var gr=jt.charCodeAt(zn);if(55296<=gr&&57343>=gr&&(gr=65536+((1023&gr)<<10)|1023&jt.charCodeAt(++zn)),127>=gr){if(Zt>=mn)break;qt[Zt++>>>0]=gr}else{if(2047>=gr){if(Zt+1>=mn)break;qt[Zt++>>>0]=192|gr>>6}else{if(65535>=gr){if(Zt+2>=mn)break;qt[Zt++>>>0]=224|gr>>12}else{if(Zt+3>=mn)break;qt[Zt++>>>0]=240|gr>>18,qt[Zt++>>>0]=128|gr>>12&63}qt[Zt++>>>0]=128|gr>>6&63}qt[Zt++>>>0]=128|63&gr}}return qt[Zt>>>0]=0,Zt-Dn}function Bn(jt){for(var qt=0,Zt=0;Zt<jt.length;++Zt){var mn=jt.charCodeAt(Zt);127>=mn?qt++:2047>=mn?qt+=2:55296<=mn&&57343>=mn?(qt+=4,++Zt):qt+=3}return qt}function Mn(jt){Jt=jt,j.HEAP8=ln=new Int8Array(jt),j.HEAP16=new Int16Array(jt),j.HEAP32=_n=new Int32Array(jt),j.HEAPU8=wn=new Uint8Array(jt),j.HEAPU16=new Uint16Array(jt),j.HEAPU32=kn=new Uint32Array(jt),j.HEAPF32=new Float32Array(jt),j.HEAPF64=Cn=new Float64Array(jt)}Ct&&(Jt=j.buffer);var Zn=j.INITIAL_MEMORY||16777216;if(Ct)Kt=j.wasmMemory,Jt=j.buffer;else if(j.wasmMemory)Kt=j.wasmMemory;else if(!((Kt=new WebAssembly.Memory({initial:Zn/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Mt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),St&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Kt&&(Jt=Kt.buffer),Zn=Jt.byteLength,Mn(Jt);var Fn,wr=[],Jn=[],dr=[];function or(){var jt=j.preRun.shift();wr.unshift(jt)}var Gn,rr=0,Qn=null;function ar(jt){throw Ct?postMessage({cmd:"onAbort",arg:jt}):j.onAbort&&j.onAbort(jt),Mt(jt="Aborted("+jt+")"),Ht=!0,jt=new WebAssembly.RuntimeError(jt+". Build with -sASSERTIONS for more info."),tt(jt),jt}function On(){return Gn.startsWith("data:application/octet-stream;base64,")}function Nn(){var jt=Gn;try{if(jt==Gn&&Lt)return new Uint8Array(Lt);if(dt)return dt(jt);throw"both async and sync fetching of the wasm failed"}catch(qt){ar(qt)}}Gn="ort-wasm-threaded.wasm",On()||(Gn=$t(Gn));var pr={};function lr(jt){this.name="ExitStatus",this.message="Program terminated with exit("+jt+")",this.status=jt}function Tr(jt){(jt=Xn.La[jt])||ar(),Xn.Xa(jt)}function Br(jt){var qt=Xn.lb();if(!qt)return 6;Xn.Ra.push(qt),Xn.La[jt.Ka]=qt,qt.Ka=jt.Ka;var Zt={cmd:"run",start_routine:jt.pb,arg:jt.ib,pthread_ptr:jt.Ka};return qt.Qa=()=>{Zt.time=performance.now(),qt.postMessage(Zt,jt.vb)},qt.loaded&&(qt.Qa(),delete qt.Qa),0}function jr(jt){if(Ct)return tr(1,1,jt);Vt||(Xn.qb(),j.onExit&&j.onExit(jt),Ht=!0),yt(jt,new lr(jt))}function Jr(jt,qt){if(!qt&&Ct)throw Bt(jt),"unwind";jr(jt)}var Xn={Oa:[],Ra:[],$a:[],La:{},Ua:function(){Ct&&Xn.mb()},xb:function(){},mb:function(){Xn.receiveObjectTransfer=Xn.ob,Xn.threadInitTLS=Xn.Za,Xn.setExitStatus=Xn.Ya,Vt=!1},Ya:function(){},qb:function(){for(var jt of Object.values(Xn.La))Xn.Xa(jt);for(jt of Xn.Oa)jt.terminate();Xn.Oa=[]},Xa:function(jt){var qt=jt.Ka;delete Xn.La[qt],Xn.Oa.push(jt),Xn.Ra.splice(Xn.Ra.indexOf(jt),1),jt.Ka=0,To(qt)},ob:function(){},Za:function(){Xn.$a.forEach(jt=>jt())},nb:function(jt,qt){jt.onmessage=Zt=>{var mn=(Zt=Zt.data).cmd;if(jt.Ka&&(Xn.kb=jt.Ka),Zt.targetThread&&Zt.targetThread!=Ps()){var Dn=Xn.La[Zt.yb];Dn?Dn.postMessage(Zt,Zt.transferList):Mt('Internal error! Worker sent a message "'+mn+'" to target pthread '+Zt.targetThread+", but that thread no longer exists!")}else mn==="processProxyingQueue"?fr(Zt.queue):mn==="spawnThread"?Br(Zt):mn==="cleanupThread"?Tr(Zt.thread):mn==="killThread"?(Zt=Zt.thread,mn=Xn.La[Zt],delete Xn.La[Zt],mn.terminate(),To(Zt),Xn.Ra.splice(Xn.Ra.indexOf(mn),1),mn.Ka=0):mn==="cancelThread"?Xn.La[Zt.thread].postMessage({cmd:"cancel"}):mn==="loaded"?(jt.loaded=!0,qt&&qt(jt),jt.Qa&&(jt.Qa(),delete jt.Qa)):mn==="print"?Dt("Thread "+Zt.threadId+": "+Zt.text):mn==="printErr"?Mt("Thread "+Zt.threadId+": "+Zt.text):mn==="alert"?alert("Thread "+Zt.threadId+": "+Zt.text):Zt.target==="setimmediate"?jt.postMessage(Zt):mn==="onAbort"?j.onAbort&&j.onAbort(Zt.arg):mn&&Mt("worker sent an unknown command "+mn);Xn.kb=void 0},jt.onerror=Zt=>{throw Mt("worker sent an error! "+Zt.filename+":"+Zt.lineno+": "+Zt.message),Zt},St&&(jt.on("message",function(Zt){jt.onmessage({data:Zt})}),jt.on("error",function(Zt){jt.onerror(Zt)}),jt.on("detachedExit",function(){})),jt.postMessage({cmd:"load",urlOrBlob:j.mainScriptUrlOrBlob||s,wasmMemory:Kt,wasmModule:Yt})},hb:function(){var jt=$t("ort-wasm-threaded.worker.js");Xn.Oa.push(new Worker(jt))},lb:function(){return Xn.Oa.length==0&&(Xn.hb(),Xn.nb(Xn.Oa[0])),Xn.Oa.pop()}};function Ft(jt){for(;0<jt.length;)jt.shift()(j)}function Bt(jt){if(Ct)return tr(2,0,jt);try{Jr(jt)}catch(qt){qt instanceof lr||qt=="unwind"||yt(1,qt)}}j.PThread=Xn,j.establishStackSpace=function(){var jt=Ps(),qt=ot()[jt+44>>2>>>0];jt=ot()[jt+48>>2>>>0],Zs(qt,qt-jt),hs(qt)};var Gt,Qt,en=[];function sn(jt){this.Pa=jt-24,this.gb=function(qt){it()[this.Pa+4>>2>>>0]=qt},this.cb=function(qt){it()[this.Pa+8>>2>>>0]=qt},this.eb=function(){ot()[this.Pa>>2>>>0]=0},this.bb=function(){_e()[this.Pa+12>>0>>>0]=0},this.fb=function(){_e()[this.Pa+13>>0>>>0]=0},this.Ua=function(qt,Zt){this.ab(),this.gb(qt),this.cb(Zt),this.eb(),this.bb(),this.fb()},this.ab=function(){it()[this.Pa+16>>2>>>0]=0}}function un(jt,qt,Zt,mn){return Ct?tr(3,1,jt,qt,Zt,mn):hn(jt,qt,Zt,mn)}function hn(jt,qt,Zt,mn){if(typeof SharedArrayBuffer>"u")return Mt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Dn=[];return Ct&&Dn.length===0?un(jt,qt,Zt,mn):(jt={pb:Zt,Ka:jt,ib:mn,vb:Dn},Ct?(jt.wb="spawnThread",postMessage(jt,Dn),0):Br(jt))}function Sn(jt,qt,Zt){return Ct?tr(4,1,jt,qt,Zt):0}function $n(jt,qt){if(Ct)return tr(5,1,jt,qt)}function In(jt,qt){if(Ct)return tr(6,1,jt,qt)}function Ln(jt,qt,Zt){if(Ct)return tr(7,1,jt,qt,Zt)}function ir(jt,qt,Zt){return Ct?tr(8,1,jt,qt,Zt):0}function rn(jt,qt){if(Ct)return tr(9,1,jt,qt)}function Hn(jt,qt,Zt){if(Ct)return tr(10,1,jt,qt,Zt)}function sr(jt,qt,Zt,mn){if(Ct)return tr(11,1,jt,qt,Zt,mn)}function Gr(jt,qt,Zt,mn){if(Ct)return tr(12,1,jt,qt,Zt,mn)}function Hr(jt,qt,Zt,mn){if(Ct)return tr(13,1,jt,qt,Zt,mn)}function oo(jt){if(Ct)return tr(14,1,jt)}function go(jt,qt){if(Ct)return tr(15,1,jt,qt)}function mo(jt,qt,Zt){if(Ct)return tr(16,1,jt,qt,Zt)}function fr(jt){Atomics.store(ot(),jt>>2,1),Ps()&&yo(jt),Atomics.compareExchange(ot(),jt>>2,1,0)}function yr(jt){return it()[jt>>>2]+4294967296*ot()[jt+4>>>2]}function _r(jt,qt,Zt,mn,Dn,zn){return Ct?tr(17,1,jt,qt,Zt,mn,Dn,zn):-52}function er(jt,qt,Zt,mn,Dn,zn){if(Ct)return tr(18,1,jt,qt,Zt,mn,Dn,zn)}function Rr(jt){var qt=Bn(jt)+1,Zt=cs(qt);return Zt&&xn(jt,_e(),Zt,qt),Zt}function Do(jt,qt,Zt){function mn(uo){return(uo=uo.toTimeString().match(/\(([A-Za-z ]+)\)$/))?uo[1]:"GMT"}if(Ct)return tr(19,1,jt,qt,Zt);var Dn=new Date().getFullYear(),zn=new Date(Dn,0,1),gr=new Date(Dn,6,1);Dn=zn.getTimezoneOffset();var Xr=gr.getTimezoneOffset(),Xo=Math.max(Dn,Xr);ot()[jt>>2>>>0]=60*Xo,ot()[qt>>2>>>0]=+(Dn!=Xr),jt=mn(zn),qt=mn(gr),jt=Rr(jt),qt=Rr(qt),Xr<Dn?(it()[Zt>>2>>>0]=jt,it()[Zt+4>>2>>>0]=qt):(it()[Zt>>2>>>0]=qt,it()[Zt+4>>2>>>0]=jt)}function tr(jt,qt){var Zt=arguments.length-2,mn=arguments;return function(Dn){var zn=Co();return Dn=Dn(),hs(zn),Dn}(()=>{for(var Dn=au(8*Zt),zn=Dn>>3,gr=0;gr<Zt;gr++){var Xr=mn[2+gr];at()[zn+gr>>>0]=Xr}return ds(jt,Zt,Dn,qt)})}j.invokeEntryPoint=function(jt,qt){var Zt=en[jt];Zt||(jt>=en.length&&(en.length=jt+1),en[jt]=Zt=Fn.get(jt)),jt=Zt(qt),Vt?Xn.Ya(jt):fs(jt)},j.executeNotifiedProxyingQueue=fr,Qt=St?()=>{var jt=process.hrtime();return 1e3*jt[0]+jt[1]/1e6}:Ct?()=>performance.now()-j.__performance_now_clock_drift:()=>performance.now();var Eo,Mo=[],vo={};function us(){if(!Eo){var jt,qt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:vt||"./this.program"};for(jt in vo)vo[jt]===void 0?delete qt[jt]:qt[jt]=vo[jt];var Zt=[];for(jt in qt)Zt.push(jt+"="+qt[jt]);Eo=Zt}return Eo}function nu(jt,qt){if(Ct)return tr(20,1,jt,qt);var Zt=0;return us().forEach(function(mn,Dn){var zn=qt+Zt;for(Dn=it()[jt+4*Dn>>2>>>0]=zn,zn=0;zn<mn.length;++zn)_e()[Dn++>>0>>>0]=mn.charCodeAt(zn);_e()[Dn>>0>>>0]=0,Zt+=mn.length+1}),0}function ru(jt,qt){if(Ct)return tr(21,1,jt,qt);var Zt=us();it()[jt>>2>>>0]=Zt.length;var mn=0;return Zt.forEach(function(Dn){mn+=Dn.length+1}),it()[qt>>2>>>0]=mn,0}function xu(jt){return Ct?tr(22,1,jt):52}function Vs(jt,qt,Zt,mn){return Ct?tr(23,1,jt,qt,Zt,mn):52}function Cs(jt,qt,Zt,mn,Dn){return Ct?tr(24,1,jt,qt,Zt,mn,Dn):70}var _0=[null,[],[]];function iu(jt,qt,Zt,mn){if(Ct)return tr(25,1,jt,qt,Zt,mn);for(var Dn=0,zn=0;zn<Zt;zn++){var gr=it()[qt>>2>>>0],Xr=it()[qt+4>>2>>>0];qt+=8;for(var Xo=0;Xo<Xr;Xo++){var uo=rt()[gr+Xo>>>0],Vo=_0[jt];uo===0||uo===10?((jt===1?Dt:Mt)(gn(Vo,0)),Vo.length=0):Vo.push(uo)}Dn+=Xr}return it()[mn>>2>>>0]=Dn,0}function Il(jt){return jt%4==0&&(jt%100!=0||jt%400==0)}var Dl=[31,29,31,30,31,30,31,31,30,31,30,31],wu=[31,28,31,30,31,30,31,31,30,31,30,31];function ou(jt,qt,Zt,mn){function Dn(bn,Pr,Qr){for(bn=typeof bn=="number"?bn.toString():bn||"";bn.length<Pr;)bn=Qr[0]+bn;return bn}function zn(bn,Pr){return Dn(bn,Pr,"0")}function gr(bn,Pr){function Qr(Eu){return 0>Eu?-1:0<Eu?1:0}var Js;return(Js=Qr(bn.getFullYear()-Pr.getFullYear()))===0&&(Js=Qr(bn.getMonth()-Pr.getMonth()))===0&&(Js=Qr(bn.getDate()-Pr.getDate())),Js}function Xr(bn){switch(bn.getDay()){case 0:return new Date(bn.getFullYear()-1,11,29);case 1:return bn;case 2:return new Date(bn.getFullYear(),0,3);case 3:return new Date(bn.getFullYear(),0,2);case 4:return new Date(bn.getFullYear(),0,1);case 5:return new Date(bn.getFullYear()-1,11,31);case 6:return new Date(bn.getFullYear()-1,11,30)}}function Xo(bn){var Pr=bn.Ma;for(bn=new Date(new Date(bn.Na+1900,0,1).getTime());0<Pr;){var Qr=bn.getMonth(),Js=(Il(bn.getFullYear())?Dl:wu)[Qr];if(!(Pr>Js-bn.getDate())){bn.setDate(bn.getDate()+Pr);break}Pr-=Js-bn.getDate()+1,bn.setDate(1),11>Qr?bn.setMonth(Qr+1):(bn.setMonth(0),bn.setFullYear(bn.getFullYear()+1))}return Qr=new Date(bn.getFullYear()+1,0,4),Pr=Xr(new Date(bn.getFullYear(),0,4)),Qr=Xr(Qr),0>=gr(Pr,bn)?0>=gr(Qr,bn)?bn.getFullYear()+1:bn.getFullYear():bn.getFullYear()-1}var uo=ot()[mn+40>>2>>>0];for(var Vo in mn={tb:ot()[mn>>2>>>0],sb:ot()[mn+4>>2>>>0],Sa:ot()[mn+8>>2>>>0],Va:ot()[mn+12>>2>>>0],Ta:ot()[mn+16>>2>>>0],Na:ot()[mn+20>>2>>>0],Ja:ot()[mn+24>>2>>>0],Ma:ot()[mn+28>>2>>>0],zb:ot()[mn+32>>2>>>0],rb:ot()[mn+36>>2>>>0],ub:uo?jn(uo):""},Zt=jn(Zt),uo={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Zt=Zt.replace(new RegExp(Vo,"g"),uo[Vo]);var ep="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),su="January February March April May June July August September October November December".split(" ");for(Vo in uo={"%a":function(bn){return ep[bn.Ja].substring(0,3)},"%A":function(bn){return ep[bn.Ja]},"%b":function(bn){return su[bn.Ta].substring(0,3)},"%B":function(bn){return su[bn.Ta]},"%C":function(bn){return zn((bn.Na+1900)/100|0,2)},"%d":function(bn){return zn(bn.Va,2)},"%e":function(bn){return Dn(bn.Va,2," ")},"%g":function(bn){return Xo(bn).toString().substring(2)},"%G":function(bn){return Xo(bn)},"%H":function(bn){return zn(bn.Sa,2)},"%I":function(bn){return(bn=bn.Sa)==0?bn=12:12<bn&&(bn-=12),zn(bn,2)},"%j":function(bn){for(var Pr=0,Qr=0;Qr<=bn.Ta-1;Pr+=(Il(bn.Na+1900)?Dl:wu)[Qr++]);return zn(bn.Va+Pr,3)},"%m":function(bn){return zn(bn.Ta+1,2)},"%M":function(bn){return zn(bn.sb,2)},"%n":function(){return`
`},"%p":function(bn){return 0<=bn.Sa&&12>bn.Sa?"AM":"PM"},"%S":function(bn){return zn(bn.tb,2)},"%t":function(){return"	"},"%u":function(bn){return bn.Ja||7},"%U":function(bn){return zn(Math.floor((bn.Ma+7-bn.Ja)/7),2)},"%V":function(bn){var Pr=Math.floor((bn.Ma+7-(bn.Ja+6)%7)/7);if(2>=(bn.Ja+371-bn.Ma-2)%7&&Pr++,Pr)Pr==53&&((Qr=(bn.Ja+371-bn.Ma)%7)==4||Qr==3&&Il(bn.Na)||(Pr=1));else{Pr=52;var Qr=(bn.Ja+7-bn.Ma-1)%7;(Qr==4||Qr==5&&Il(bn.Na%400-1))&&Pr++}return zn(Pr,2)},"%w":function(bn){return bn.Ja},"%W":function(bn){return zn(Math.floor((bn.Ma+7-(bn.Ja+6)%7)/7),2)},"%y":function(bn){return(bn.Na+1900).toString().substring(2)},"%Y":function(bn){return bn.Na+1900},"%z":function(bn){var Pr=0<=(bn=bn.rb);return bn=Math.abs(bn)/60,(Pr?"+":"-")+("0000"+(bn/60*100+bn%60)).slice(-4)},"%Z":function(bn){return bn.ub},"%%":function(){return"%"}},Zt=Zt.replace(/%%/g,"\0\0"),uo)Zt.includes(Vo)&&(Zt=Zt.replace(new RegExp(Vo,"g"),uo[Vo](mn)));return Vo=function(bn){var Pr=Array(Bn(bn)+1);return xn(bn,Pr,0,Pr.length),Pr}(Zt=Zt.replace(/\0\0/g,"%")),Vo.length>qt?0:(function(bn,Pr){_e().set(bn,Pr>>>0)}(Vo,jt),Vo.length-1)}Xn.Ua();var Ip=[null,jr,Bt,un,Sn,$n,In,Ln,ir,rn,Hn,sr,Gr,Hr,oo,go,mo,_r,er,Do,nu,ru,xu,Vs,Cs,iu],Su={b:function(jt){return cs(jt+24)+24},c:function(jt,qt,Zt){throw new sn(jt).Ua(qt,Zt),jt},L:function(jt){Wr(jt,!wt,1,!xt),Xn.Za()},l:function(jt){Ct?postMessage({cmd:"cleanupThread",thread:jt}):Tr(jt)},D:hn,i:Sn,R:$n,z:In,B:Ln,T:ir,P:rn,I:Hn,O:sr,p:Gr,A:Hr,x:oo,Q:go,y:mo,r:function(){},j:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(jt,qt,Zt,mn){if(jt==qt)setTimeout(()=>fr(mn));else if(Ct)postMessage({targetThread:jt,cmd:"processProxyingQueue",queue:mn});else{if(!(jt=Xn.La[jt]))return;jt.postMessage({cmd:"processProxyingQueue",queue:mn})}return 1},K:function(){return-1},W:function(jt,qt){jt=new Date(1e3*yr(jt)),ot()[qt>>2>>>0]=jt.getUTCSeconds(),ot()[qt+4>>2>>>0]=jt.getUTCMinutes(),ot()[qt+8>>2>>>0]=jt.getUTCHours(),ot()[qt+12>>2>>>0]=jt.getUTCDate(),ot()[qt+16>>2>>>0]=jt.getUTCMonth(),ot()[qt+20>>2>>>0]=jt.getUTCFullYear()-1900,ot()[qt+24>>2>>>0]=jt.getUTCDay(),jt=(jt.getTime()-Date.UTC(jt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,ot()[qt+28>>2>>>0]=jt},X:function(jt,qt){jt=new Date(1e3*yr(jt)),ot()[qt>>2>>>0]=jt.getSeconds(),ot()[qt+4>>2>>>0]=jt.getMinutes(),ot()[qt+8>>2>>>0]=jt.getHours(),ot()[qt+12>>2>>>0]=jt.getDate(),ot()[qt+16>>2>>>0]=jt.getMonth(),ot()[qt+20>>2>>>0]=jt.getFullYear()-1900,ot()[qt+24>>2>>>0]=jt.getDay();var Zt=new Date(jt.getFullYear(),0,1),mn=(jt.getTime()-Zt.getTime())/864e5|0;ot()[qt+28>>2>>>0]=mn,ot()[qt+36>>2>>>0]=-60*jt.getTimezoneOffset(),mn=new Date(jt.getFullYear(),6,1).getTimezoneOffset(),jt=0|(mn!=(Zt=Zt.getTimezoneOffset())&&jt.getTimezoneOffset()==Math.min(Zt,mn)),ot()[qt+32>>2>>>0]=jt},Y:function(jt){var qt=new Date(ot()[jt+20>>2>>>0]+1900,ot()[jt+16>>2>>>0],ot()[jt+12>>2>>>0],ot()[jt+8>>2>>>0],ot()[jt+4>>2>>>0],ot()[jt>>2>>>0],0),Zt=ot()[jt+32>>2>>>0],mn=qt.getTimezoneOffset(),Dn=new Date(qt.getFullYear(),0,1),zn=new Date(qt.getFullYear(),6,1).getTimezoneOffset(),gr=Dn.getTimezoneOffset(),Xr=Math.min(gr,zn);return 0>Zt?ot()[jt+32>>2>>>0]=+(zn!=gr&&Xr==mn):0<Zt!=(Xr==mn)&&(zn=Math.max(gr,zn),qt.setTime(qt.getTime()+6e4*((0<Zt?Xr:zn)-mn))),ot()[jt+24>>2>>>0]=qt.getDay(),Zt=(qt.getTime()-Dn.getTime())/864e5|0,ot()[jt+28>>2>>>0]=Zt,ot()[jt>>2>>>0]=qt.getSeconds(),ot()[jt+4>>2>>>0]=qt.getMinutes(),ot()[jt+8>>2>>>0]=qt.getHours(),ot()[jt+12>>2>>>0]=qt.getDate(),ot()[jt+16>>2>>>0]=qt.getMonth(),qt.getTime()/1e3|0},G:_r,H:er,Z:function jt(qt,Zt,mn){jt.jb||(jt.jb=!0,Do(qt,Zt,mn))},d:function(){ar("")},m:function(){if(!St&&!wt){var jt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Gt||(Gt={}),Gt[jt]||(Gt[jt]=1,St&&(jt="warning: "+jt),Mt(jt))}},w:function(){return 4294901760},f:Qt,S:function(jt,qt,Zt){rt().copyWithin(jt>>>0,qt>>>0,qt+Zt>>>0)},g:function(){return St?a(3993).cpus().length:navigator.hardwareConcurrency},J:function(jt,qt,Zt){Mo.length=qt,Zt>>=3;for(var mn=0;mn<qt;mn++)Mo[mn]=at()[Zt+mn>>>0];return(0>jt?pr[-jt-1]:Ip[jt]).apply(null,Mo)},v:function(jt){var qt=rt().length;if((jt>>>=0)<=qt||4294901760<jt)return!1;for(var Zt=1;4>=Zt;Zt*=2){var mn=qt*(1+.2/Zt);mn=Math.min(mn,jt+100663296);var Dn=Math;mn=Math.max(jt,mn),Dn=Dn.min.call(Dn,4294901760,mn+(65536-mn%65536)%65536);e:{try{Kt.grow(Dn-Jt.byteLength+65535>>>16),Mn(Kt.buffer);var zn=1;break e}catch{}zn=void 0}if(zn)return!0}return!1},U:function(){throw"unwind"},M:nu,N:ru,k:Jr,h:xu,o:Vs,t:Cs,n:iu,u:function jt(qt,Zt){jt.Wa||(jt.Wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Dn=new Uint8Array(1);return()=>(crypto.getRandomValues(Dn),Dn[0])}if(St)try{var zn=a(760);return()=>zn.randomBytes(1)[0]}catch{}return()=>ar("randomDevice")}());for(var mn=0;mn<Zt;mn++)_e()[qt+mn>>0>>>0]=jt.Wa();return 0},a:Kt||j.wasmMemory,C:ou,e:function(jt,qt,Zt,mn){return ou(jt,qt,Zt,mn)}};(function(){function jt(Dn,zn){j.asm=Dn.exports,Xn.$a.push(j.asm.wa),Fn=j.asm.za,Jn.unshift(j.asm._),Yt=zn,Ct||(rr--,j.monitorRunDependencies&&j.monitorRunDependencies(rr),rr==0&&Qn&&(Dn=Qn,Qn=null,Dn()))}function qt(Dn){jt(Dn.instance,Dn.module)}function Zt(Dn){return function(){if(!Lt&&(xt||wt)){if(typeof fetch=="function"&&!Gn.startsWith("file://"))return fetch(Gn,{credentials:"same-origin"}).then(function(zn){if(!zn.ok)throw"failed to load wasm binary file at '"+Gn+"'";return zn.arrayBuffer()}).catch(function(){return Nn()});if(st)return new Promise(function(zn,gr){st(Gn,function(Xr){zn(new Uint8Array(Xr))},gr)})}return Promise.resolve().then(function(){return Nn()})}().then(function(zn){return WebAssembly.instantiate(zn,mn)}).then(function(zn){return zn}).then(Dn,function(zn){Mt("failed to asynchronously prepare wasm: "+zn),ar(zn)})}var mn={a:Su};if(Ct||(rr++,j.monitorRunDependencies&&j.monitorRunDependencies(rr)),j.instantiateWasm)try{return j.instantiateWasm(mn,jt)}catch(Dn){return Mt("Module.instantiateWasm callback failed with error: "+Dn),!1}(Lt||typeof WebAssembly.instantiateStreaming!="function"||On()||Gn.startsWith("file://")||St||typeof fetch!="function"?Zt(qt):fetch(Gn,{credentials:"same-origin"}).then(function(Dn){return WebAssembly.instantiateStreaming(Dn,mn).then(qt,function(zn){return Mt("wasm streaming compile failed: "+zn),Mt("falling back to ArrayBuffer instantiation"),Zt(qt)})})).catch(tt)})(),j.___wasm_call_ctors=function(){return(j.___wasm_call_ctors=j.asm._).apply(null,arguments)},j._OrtInit=function(){return(j._OrtInit=j.asm.$).apply(null,arguments)},j._OrtCreateSessionOptions=function(){return(j._OrtCreateSessionOptions=j.asm.aa).apply(null,arguments)},j._OrtAppendExecutionProvider=function(){return(j._OrtAppendExecutionProvider=j.asm.ba).apply(null,arguments)},j._OrtAddSessionConfigEntry=function(){return(j._OrtAddSessionConfigEntry=j.asm.ca).apply(null,arguments)},j._OrtReleaseSessionOptions=function(){return(j._OrtReleaseSessionOptions=j.asm.da).apply(null,arguments)},j._OrtCreateSession=function(){return(j._OrtCreateSession=j.asm.ea).apply(null,arguments)},j._OrtReleaseSession=function(){return(j._OrtReleaseSession=j.asm.fa).apply(null,arguments)},j._OrtGetInputCount=function(){return(j._OrtGetInputCount=j.asm.ga).apply(null,arguments)},j._OrtGetOutputCount=function(){return(j._OrtGetOutputCount=j.asm.ha).apply(null,arguments)},j._OrtGetInputName=function(){return(j._OrtGetInputName=j.asm.ia).apply(null,arguments)},j._OrtGetOutputName=function(){return(j._OrtGetOutputName=j.asm.ja).apply(null,arguments)},j._OrtFree=function(){return(j._OrtFree=j.asm.ka).apply(null,arguments)},j._OrtCreateTensor=function(){return(j._OrtCreateTensor=j.asm.la).apply(null,arguments)},j._OrtGetTensorData=function(){return(j._OrtGetTensorData=j.asm.ma).apply(null,arguments)},j._OrtReleaseTensor=function(){return(j._OrtReleaseTensor=j.asm.na).apply(null,arguments)},j._OrtCreateRunOptions=function(){return(j._OrtCreateRunOptions=j.asm.oa).apply(null,arguments)},j._OrtAddRunConfigEntry=function(){return(j._OrtAddRunConfigEntry=j.asm.pa).apply(null,arguments)},j._OrtReleaseRunOptions=function(){return(j._OrtReleaseRunOptions=j.asm.qa).apply(null,arguments)},j._OrtRun=function(){return(j._OrtRun=j.asm.ra).apply(null,arguments)},j._OrtEndProfiling=function(){return(j._OrtEndProfiling=j.asm.sa).apply(null,arguments)};var Ps=j._pthread_self=function(){return(Ps=j._pthread_self=j.asm.ta).apply(null,arguments)},cs=j._malloc=function(){return(cs=j._malloc=j.asm.ua).apply(null,arguments)};j._free=function(){return(j._free=j.asm.va).apply(null,arguments)},j.__emscripten_tls_init=function(){return(j.__emscripten_tls_init=j.asm.wa).apply(null,arguments)};var Wr=j.__emscripten_thread_init=function(){return(Wr=j.__emscripten_thread_init=j.asm.xa).apply(null,arguments)};j.__emscripten_thread_crashed=function(){return(j.__emscripten_thread_crashed=j.asm.ya).apply(null,arguments)};var zr,ds=j._emscripten_run_in_main_runtime_thread_js=function(){return(ds=j._emscripten_run_in_main_runtime_thread_js=j.asm.Aa).apply(null,arguments)},yo=j.__emscripten_proxy_execute_task_queue=function(){return(yo=j.__emscripten_proxy_execute_task_queue=j.asm.Ba).apply(null,arguments)},To=j.__emscripten_thread_free_data=function(){return(To=j.__emscripten_thread_free_data=j.asm.Ca).apply(null,arguments)},fs=j.__emscripten_thread_exit=function(){return(fs=j.__emscripten_thread_exit=j.asm.Da).apply(null,arguments)},Zs=j._emscripten_stack_set_limits=function(){return(Zs=j._emscripten_stack_set_limits=j.asm.Ea).apply(null,arguments)},Co=j.stackSave=function(){return(Co=j.stackSave=j.asm.Fa).apply(null,arguments)},hs=j.stackRestore=function(){return(hs=j.stackRestore=j.asm.Ga).apply(null,arguments)},au=j.stackAlloc=function(){return(au=j.stackAlloc=j.asm.Ha).apply(null,arguments)};function _h(){function jt(){if(!zr&&(zr=!0,j.calledRun=!0,!Ht)&&(Ct||Ft(Jn),_(j),j.onRuntimeInitialized&&j.onRuntimeInitialized(),!Ct)){if(j.postRun)for(typeof j.postRun=="function"&&(j.postRun=[j.postRun]);j.postRun.length;){var qt=j.postRun.shift();dr.unshift(qt)}Ft(dr)}}if(!(0<rr))if(Ct)_(j),Ct||Ft(Jn),postMessage({cmd:"loaded"});else{if(j.preRun)for(typeof j.preRun=="function"&&(j.preRun=[j.preRun]);j.preRun.length;)or();Ft(wr),0<rr||(j.setStatus?(j.setStatus("Running..."),setTimeout(function(){setTimeout(function(){j.setStatus("")},1),jt()},1)):jt())}}if(j.___cxa_is_pointer_type=function(){return(j.___cxa_is_pointer_type=j.asm.Ia).apply(null,arguments)},j.UTF8ToString=jn,j.stringToUTF8=function(jt,qt,Zt){return xn(jt,rt(),qt,Zt)},j.lengthBytesUTF8=Bn,j.keepRuntimeAlive=function(){return Vt},j.wasmMemory=Kt,j.stackSave=Co,j.stackRestore=hs,j.stackAlloc=au,j.ExitStatus=lr,j.PThread=Xn,Qn=function jt(){zr||_h(),zr||(Qn=jt)},j.preInit)for(typeof j.preInit=="function"&&(j.preInit=[j.preInit]);0<j.preInit.length;)j.preInit.pop()();return _h(),et.ready});o.exports=$},932:(o,i,a)=>{var s,$=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(et){var _e,rt,ot;et=et||{},_e||(_e=et!==void 0?et:{}),_e.ready=new Promise(function(Ft,Bt){rt=Ft,ot=Bt});var it,at,j,_,tt,nt,st=Object.assign({},_e),dt="./this.program",ft=(Ft,Bt)=>{throw Bt},gt=typeof window=="object",pt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",vt="";mt?(vt=pt?a(908).dirname(vt)+"/":"//",nt=()=>{tt||(_=a(1384),tt=a(908))},it=function(Ft,Bt){return nt(),Ft=tt.normalize(Ft),_.readFileSync(Ft,Bt?void 0:"utf8")},j=Ft=>((Ft=it(Ft,!0)).buffer||(Ft=new Uint8Array(Ft)),Ft),at=(Ft,Bt,Gt)=>{nt(),Ft=tt.normalize(Ft),_.readFile(Ft,function(Qt,en){Qt?Gt(Qt):Bt(en.buffer)})},1<process.argv.length&&(dt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Ft){if(!(Ft instanceof Zn))throw Ft}),process.on("unhandledRejection",function(Ft){throw Ft}),ft=(Ft,Bt)=>{if(St)throw process.exitCode=Ft,Bt;Bt instanceof Zn||wt("exiting due to exception: "+Bt),process.exit(Ft)},_e.inspect=function(){return"[Emscripten Module object]"}):(gt||pt)&&(pt?vt=self.location.href:typeof document<"u"&&document.currentScript&&(vt=document.currentScript.src),s&&(vt=s),vt=vt.indexOf("blob:")!==0?vt.substr(0,vt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",it=Ft=>{var Bt=new XMLHttpRequest;return Bt.open("GET",Ft,!1),Bt.send(null),Bt.responseText},pt&&(j=Ft=>{var Bt=new XMLHttpRequest;return Bt.open("GET",Ft,!1),Bt.responseType="arraybuffer",Bt.send(null),new Uint8Array(Bt.response)}),at=(Ft,Bt,Gt)=>{var Qt=new XMLHttpRequest;Qt.open("GET",Ft,!0),Qt.responseType="arraybuffer",Qt.onload=()=>{Qt.status==200||Qt.status==0&&Qt.response?Bt(Qt.response):Gt()},Qt.onerror=Gt,Qt.send(null)});var yt,xt=_e.print||console.log.bind(console),wt=_e.printErr||console.warn.bind(console);Object.assign(_e,st),st=null,_e.thisProgram&&(dt=_e.thisProgram),_e.quit&&(ft=_e.quit),_e.wasmBinary&&(yt=_e.wasmBinary);var St=_e.noExitRuntime||!0;typeof WebAssembly!="object"&&jn("no native wasm support detected");var Ct,At,$t,Rt,kt,Lt,Dt=!1,Mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Vt(Ft,Bt,Gt){var Qt=(Bt>>>=0)+Gt;for(Gt=Bt;Ft[Gt]&&!(Gt>=Qt);)++Gt;if(16<Gt-Bt&&Ft.buffer&&Mt)return Mt.decode(Ft.subarray(Bt,Gt));for(Qt="";Bt<Gt;){var en=Ft[Bt++];if(128&en){var sn=63&Ft[Bt++];if((224&en)==192)Qt+=String.fromCharCode((31&en)<<6|sn);else{var un=63&Ft[Bt++];65536>(en=(240&en)==224?(15&en)<<12|sn<<6|un:(7&en)<<18|sn<<12|un<<6|63&Ft[Bt++])?Qt+=String.fromCharCode(en):(en-=65536,Qt+=String.fromCharCode(55296|en>>10,56320|1023&en))}}else Qt+=String.fromCharCode(en)}return Qt}function Kt(Ft,Bt){return(Ft>>>=0)?Vt(Rt,Ft,Bt):""}function Yt(Ft,Bt,Gt,Qt){if(!(0<Qt))return 0;var en=Gt>>>=0;Qt=Gt+Qt-1;for(var sn=0;sn<Ft.length;++sn){var un=Ft.charCodeAt(sn);if(55296<=un&&57343>=un&&(un=65536+((1023&un)<<10)|1023&Ft.charCodeAt(++sn)),127>=un){if(Gt>=Qt)break;Bt[Gt++>>>0]=un}else{if(2047>=un){if(Gt+1>=Qt)break;Bt[Gt++>>>0]=192|un>>6}else{if(65535>=un){if(Gt+2>=Qt)break;Bt[Gt++>>>0]=224|un>>12}else{if(Gt+3>=Qt)break;Bt[Gt++>>>0]=240|un>>18,Bt[Gt++>>>0]=128|un>>12&63}Bt[Gt++>>>0]=128|un>>6&63}Bt[Gt++>>>0]=128|63&un}}return Bt[Gt>>>0]=0,Gt-en}function Jt(Ft){for(var Bt=0,Gt=0;Gt<Ft.length;++Gt){var Qt=Ft.charCodeAt(Gt);127>=Qt?Bt++:2047>=Qt?Bt+=2:55296<=Qt&&57343>=Qt?(Bt+=4,++Gt):Bt+=3}return Bt}function ln(){var Ft=Ct.buffer;At=Ft,_e.HEAP8=$t=new Int8Array(Ft),_e.HEAP16=new Int16Array(Ft),_e.HEAP32=kt=new Int32Array(Ft),_e.HEAPU8=Rt=new Uint8Array(Ft),_e.HEAPU16=new Uint16Array(Ft),_e.HEAPU32=Lt=new Uint32Array(Ft),_e.HEAPF32=new Float32Array(Ft),_e.HEAPF64=new Float64Array(Ft)}var wn=[],_n=[],kn=[];function Cn(){var Ft=_e.preRun.shift();wn.unshift(Ft)}var Ht,cn=0,gn=null;function jn(Ft){throw _e.onAbort&&_e.onAbort(Ft),wt(Ft="Aborted("+Ft+")"),Dt=!0,Ft=new WebAssembly.RuntimeError(Ft+". Build with -sASSERTIONS for more info."),ot(Ft),Ft}function xn(){return Ht.startsWith("data:application/octet-stream;base64,")}if(Ht="ort-wasm.wasm",!xn()){var Bn=Ht;Ht=_e.locateFile?_e.locateFile(Bn,vt):vt+Bn}function Mn(){var Ft=Ht;try{if(Ft==Ht&&yt)return new Uint8Array(yt);if(j)return j(Ft);throw"both async and sync fetching of the wasm failed"}catch(Bt){jn(Bt)}}function Zn(Ft){this.name="ExitStatus",this.message="Program terminated with exit("+Ft+")",this.status=Ft}function Fn(Ft){for(;0<Ft.length;)Ft.shift()(_e)}function wr(Ft){this.sa=Ft-24,this.Ia=function(Bt){Lt[this.sa+4>>2>>>0]=Bt},this.Ba=function(Bt){Lt[this.sa+8>>2>>>0]=Bt},this.Ga=function(){kt[this.sa>>2>>>0]=0},this.Aa=function(){$t[this.sa+12>>0>>>0]=0},this.Ha=function(){$t[this.sa+13>>0>>>0]=0},this.ya=function(Bt,Gt){this.za(),this.Ia(Bt),this.Ba(Gt),this.Ga(),this.Aa(),this.Ha()},this.za=function(){Lt[this.sa+16>>2>>>0]=0}}function Jn(Ft){var Bt=Jt(Ft)+1,Gt=lr(Bt);return Gt&&Yt(Ft,$t,Gt,Bt),Gt}var dr={};function or(){if(!Gn){var Ft,Bt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:dt||"./this.program"};for(Ft in dr)dr[Ft]===void 0?delete Bt[Ft]:Bt[Ft]=dr[Ft];var Gt=[];for(Ft in Bt)Gt.push(Ft+"="+Bt[Ft]);Gn=Gt}return Gn}var Gn,rr=[null,[],[]];function Qn(Ft){return Ft%4==0&&(Ft%100!=0||Ft%400==0)}var ar=[31,29,31,30,31,30,31,31,30,31,30,31],On=[31,28,31,30,31,30,31,31,30,31,30,31];function Nn(Ft,Bt,Gt,Qt){function en(rn,Hn,sr){for(rn=typeof rn=="number"?rn.toString():rn||"";rn.length<Hn;)rn=sr[0]+rn;return rn}function sn(rn,Hn){return en(rn,Hn,"0")}function un(rn,Hn){function sr(Hr){return 0>Hr?-1:0<Hr?1:0}var Gr;return(Gr=sr(rn.getFullYear()-Hn.getFullYear()))===0&&(Gr=sr(rn.getMonth()-Hn.getMonth()))===0&&(Gr=sr(rn.getDate()-Hn.getDate())),Gr}function hn(rn){switch(rn.getDay()){case 0:return new Date(rn.getFullYear()-1,11,29);case 1:return rn;case 2:return new Date(rn.getFullYear(),0,3);case 3:return new Date(rn.getFullYear(),0,2);case 4:return new Date(rn.getFullYear(),0,1);case 5:return new Date(rn.getFullYear()-1,11,31);case 6:return new Date(rn.getFullYear()-1,11,30)}}function Sn(rn){var Hn=rn.qa;for(rn=new Date(new Date(rn.ra+1900,0,1).getTime());0<Hn;){var sr=rn.getMonth(),Gr=(Qn(rn.getFullYear())?ar:On)[sr];if(!(Hn>Gr-rn.getDate())){rn.setDate(rn.getDate()+Hn);break}Hn-=Gr-rn.getDate()+1,rn.setDate(1),11>sr?rn.setMonth(sr+1):(rn.setMonth(0),rn.setFullYear(rn.getFullYear()+1))}return sr=new Date(rn.getFullYear()+1,0,4),Hn=hn(new Date(rn.getFullYear(),0,4)),sr=hn(sr),0>=un(Hn,rn)?0>=un(sr,rn)?rn.getFullYear()+1:rn.getFullYear():rn.getFullYear()-1}var $n=kt[Qt+40>>2>>>0];for(var In in Qt={Ea:kt[Qt>>2>>>0],Da:kt[Qt+4>>2>>>0],ta:kt[Qt+8>>2>>>0],va:kt[Qt+12>>2>>>0],ua:kt[Qt+16>>2>>>0],ra:kt[Qt+20>>2>>>0],la:kt[Qt+24>>2>>>0],qa:kt[Qt+28>>2>>>0],Ja:kt[Qt+32>>2>>>0],Ca:kt[Qt+36>>2>>>0],Fa:$n?Kt($n):""},Gt=Kt(Gt),$n={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Gt=Gt.replace(new RegExp(In,"g"),$n[In]);var Ln="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ir="January February March April May June July August September October November December".split(" ");for(In in $n={"%a":function(rn){return Ln[rn.la].substring(0,3)},"%A":function(rn){return Ln[rn.la]},"%b":function(rn){return ir[rn.ua].substring(0,3)},"%B":function(rn){return ir[rn.ua]},"%C":function(rn){return sn((rn.ra+1900)/100|0,2)},"%d":function(rn){return sn(rn.va,2)},"%e":function(rn){return en(rn.va,2," ")},"%g":function(rn){return Sn(rn).toString().substring(2)},"%G":function(rn){return Sn(rn)},"%H":function(rn){return sn(rn.ta,2)},"%I":function(rn){return(rn=rn.ta)==0?rn=12:12<rn&&(rn-=12),sn(rn,2)},"%j":function(rn){for(var Hn=0,sr=0;sr<=rn.ua-1;Hn+=(Qn(rn.ra+1900)?ar:On)[sr++]);return sn(rn.va+Hn,3)},"%m":function(rn){return sn(rn.ua+1,2)},"%M":function(rn){return sn(rn.Da,2)},"%n":function(){return`
`},"%p":function(rn){return 0<=rn.ta&&12>rn.ta?"AM":"PM"},"%S":function(rn){return sn(rn.Ea,2)},"%t":function(){return"	"},"%u":function(rn){return rn.la||7},"%U":function(rn){return sn(Math.floor((rn.qa+7-rn.la)/7),2)},"%V":function(rn){var Hn=Math.floor((rn.qa+7-(rn.la+6)%7)/7);if(2>=(rn.la+371-rn.qa-2)%7&&Hn++,Hn)Hn==53&&((sr=(rn.la+371-rn.qa)%7)==4||sr==3&&Qn(rn.ra)||(Hn=1));else{Hn=52;var sr=(rn.la+7-rn.qa-1)%7;(sr==4||sr==5&&Qn(rn.ra%400-1))&&Hn++}return sn(Hn,2)},"%w":function(rn){return rn.la},"%W":function(rn){return sn(Math.floor((rn.qa+7-(rn.la+6)%7)/7),2)},"%y":function(rn){return(rn.ra+1900).toString().substring(2)},"%Y":function(rn){return rn.ra+1900},"%z":function(rn){var Hn=0<=(rn=rn.Ca);return rn=Math.abs(rn)/60,(Hn?"+":"-")+("0000"+(rn/60*100+rn%60)).slice(-4)},"%Z":function(rn){return rn.Fa},"%%":function(){return"%"}},Gt=Gt.replace(/%%/g,"\0\0"),$n)Gt.includes(In)&&(Gt=Gt.replace(new RegExp(In,"g"),$n[In](Qt)));return In=function(rn){var Hn=Array(Jt(rn)+1);return Yt(rn,Hn,0,Hn.length),Hn}(Gt=Gt.replace(/\0\0/g,"%")),In.length>Bt?0:($t.set(In,Ft>>>0),In.length-1)}var pr={a:function(Ft){return lr(Ft+24)+24},b:function(Ft,Bt,Gt){throw new wr(Ft).ya(Bt,Gt),Ft},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){jn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){jn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(Ft,Bt){Ft=new Date(1e3*(Lt[Ft>>>2]+4294967296*kt[Ft+4>>>2])),kt[Bt>>2>>>0]=Ft.getUTCSeconds(),kt[Bt+4>>2>>>0]=Ft.getUTCMinutes(),kt[Bt+8>>2>>>0]=Ft.getUTCHours(),kt[Bt+12>>2>>>0]=Ft.getUTCDate(),kt[Bt+16>>2>>>0]=Ft.getUTCMonth(),kt[Bt+20>>2>>>0]=Ft.getUTCFullYear()-1900,kt[Bt+24>>2>>>0]=Ft.getUTCDay(),kt[Bt+28>>2>>>0]=(Ft.getTime()-Date.UTC(Ft.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(Ft,Bt){Ft=new Date(1e3*(Lt[Ft>>>2]+4294967296*kt[Ft+4>>>2])),kt[Bt>>2>>>0]=Ft.getSeconds(),kt[Bt+4>>2>>>0]=Ft.getMinutes(),kt[Bt+8>>2>>>0]=Ft.getHours(),kt[Bt+12>>2>>>0]=Ft.getDate(),kt[Bt+16>>2>>>0]=Ft.getMonth(),kt[Bt+20>>2>>>0]=Ft.getFullYear()-1900,kt[Bt+24>>2>>>0]=Ft.getDay();var Gt=new Date(Ft.getFullYear(),0,1);kt[Bt+28>>2>>>0]=(Ft.getTime()-Gt.getTime())/864e5|0,kt[Bt+36>>2>>>0]=-60*Ft.getTimezoneOffset();var Qt=new Date(Ft.getFullYear(),6,1).getTimezoneOffset();Gt=Gt.getTimezoneOffset(),kt[Bt+32>>2>>>0]=0|(Qt!=Gt&&Ft.getTimezoneOffset()==Math.min(Gt,Qt))},O:function(Ft){var Bt=new Date(kt[Ft+20>>2>>>0]+1900,kt[Ft+16>>2>>>0],kt[Ft+12>>2>>>0],kt[Ft+8>>2>>>0],kt[Ft+4>>2>>>0],kt[Ft>>2>>>0],0),Gt=kt[Ft+32>>2>>>0],Qt=Bt.getTimezoneOffset(),en=new Date(Bt.getFullYear(),0,1),sn=new Date(Bt.getFullYear(),6,1).getTimezoneOffset(),un=en.getTimezoneOffset(),hn=Math.min(un,sn);return 0>Gt?kt[Ft+32>>2>>>0]=+(sn!=un&&hn==Qt):0<Gt!=(hn==Qt)&&(sn=Math.max(un,sn),Bt.setTime(Bt.getTime()+6e4*((0<Gt?hn:sn)-Qt))),kt[Ft+24>>2>>>0]=Bt.getDay(),kt[Ft+28>>2>>>0]=(Bt.getTime()-en.getTime())/864e5|0,kt[Ft>>2>>>0]=Bt.getSeconds(),kt[Ft+4>>2>>>0]=Bt.getMinutes(),kt[Ft+8>>2>>>0]=Bt.getHours(),kt[Ft+12>>2>>>0]=Bt.getDate(),kt[Ft+16>>2>>>0]=Bt.getMonth(),Bt.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function Ft(Bt,Gt,Qt){Ft.xa||(Ft.xa=!0,function(en,sn,un){function hn(ir){return(ir=ir.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ir[1]:"GMT"}var Sn=new Date().getFullYear(),$n=new Date(Sn,0,1),In=new Date(Sn,6,1);Sn=$n.getTimezoneOffset();var Ln=In.getTimezoneOffset();kt[en>>2>>>0]=60*Math.max(Sn,Ln),kt[sn>>2>>>0]=+(Sn!=Ln),en=hn($n),sn=hn(In),en=Jn(en),sn=Jn(sn),Ln<Sn?(Lt[un>>2>>>0]=en,Lt[un+4>>2>>>0]=sn):(Lt[un>>2>>>0]=sn,Lt[un+4>>2>>>0]=en)}(Bt,Gt,Qt))},d:function(){jn("")},t:function(){return 4294901760},h:mt?()=>{var Ft=process.hrtime();return 1e3*Ft[0]+Ft[1]/1e6}:()=>performance.now(),J:function(Ft,Bt,Gt){Rt.copyWithin(Ft>>>0,Bt>>>0,Bt+Gt>>>0)},f:function(Ft){var Bt=Rt.length;if(4294901760<(Ft>>>=0))return!1;for(var Gt=1;4>=Gt;Gt*=2){var Qt=Bt*(1+.2/Gt);Qt=Math.min(Qt,Ft+100663296);var en=Math;Qt=Math.max(Ft,Qt),en=en.min.call(en,4294901760,Qt+(65536-Qt%65536)%65536);e:{try{Ct.grow(en-At.byteLength+65535>>>16),ln();var sn=1;break e}catch{}sn=void 0}if(sn)return!0}return!1},D:function(Ft,Bt){var Gt=0;return or().forEach(function(Qt,en){var sn=Bt+Gt;for(en=Lt[Ft+4*en>>2>>>0]=sn,sn=0;sn<Qt.length;++sn)$t[en++>>0>>>0]=Qt.charCodeAt(sn);$t[en>>0>>>0]=0,Gt+=Qt.length+1}),0},E:function(Ft,Bt){var Gt=or();Lt[Ft>>2>>>0]=Gt.length;var Qt=0;return Gt.forEach(function(en){Qt+=en.length+1}),Lt[Bt>>2>>>0]=Qt,0},r:function(Ft){St||(_e.onExit&&_e.onExit(Ft),Dt=!0),ft(Ft,new Zn(Ft))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(Ft,Bt,Gt,Qt){for(var en=0,sn=0;sn<Gt;sn++){var un=Lt[Bt>>2>>>0],hn=Lt[Bt+4>>2>>>0];Bt+=8;for(var Sn=0;Sn<hn;Sn++){var $n=Rt[un+Sn>>>0],In=rr[Ft];$n===0||$n===10?((Ft===1?xt:wt)(Vt(In,0)),In.length=0):In.push($n)}en+=hn}return Lt[Qt>>2>>>0]=en,0},s:function Ft(Bt,Gt){Ft.wa||(Ft.wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var en=new Uint8Array(1);return()=>(crypto.getRandomValues(en),en[0])}if(mt)try{var sn=a(760);return()=>sn.randomBytes(1)[0]}catch{}return()=>jn("randomDevice")}());for(var Qt=0;Qt<Gt;Qt++)$t[Bt+Qt>>0>>>0]=Ft.wa();return 0},A:Nn,c:function(Ft,Bt,Gt,Qt){return Nn(Ft,Bt,Gt,Qt)}};(function(){function Ft(en){_e.asm=en.exports,Ct=_e.asm.P,ln(),_n.unshift(_e.asm.Q),cn--,_e.monitorRunDependencies&&_e.monitorRunDependencies(cn),cn==0&&gn&&(en=gn,gn=null,en())}function Bt(en){Ft(en.instance)}function Gt(en){return function(){if(!yt&&(gt||pt)){if(typeof fetch=="function"&&!Ht.startsWith("file://"))return fetch(Ht,{credentials:"same-origin"}).then(function(sn){if(!sn.ok)throw"failed to load wasm binary file at '"+Ht+"'";return sn.arrayBuffer()}).catch(function(){return Mn()});if(at)return new Promise(function(sn,un){at(Ht,function(hn){sn(new Uint8Array(hn))},un)})}return Promise.resolve().then(function(){return Mn()})}().then(function(sn){return WebAssembly.instantiate(sn,Qt)}).then(function(sn){return sn}).then(en,function(sn){wt("failed to asynchronously prepare wasm: "+sn),jn(sn)})}var Qt={a:pr};if(cn++,_e.monitorRunDependencies&&_e.monitorRunDependencies(cn),_e.instantiateWasm)try{return _e.instantiateWasm(Qt,Ft)}catch(en){return wt("Module.instantiateWasm callback failed with error: "+en),!1}(yt||typeof WebAssembly.instantiateStreaming!="function"||xn()||Ht.startsWith("file://")||mt||typeof fetch!="function"?Gt(Bt):fetch(Ht,{credentials:"same-origin"}).then(function(en){return WebAssembly.instantiateStreaming(en,Qt).then(Bt,function(sn){return wt("wasm streaming compile failed: "+sn),wt("falling back to ArrayBuffer instantiation"),Gt(Bt)})})).catch(ot)})(),_e.___wasm_call_ctors=function(){return(_e.___wasm_call_ctors=_e.asm.Q).apply(null,arguments)},_e._OrtInit=function(){return(_e._OrtInit=_e.asm.R).apply(null,arguments)},_e._OrtCreateSessionOptions=function(){return(_e._OrtCreateSessionOptions=_e.asm.S).apply(null,arguments)},_e._OrtAppendExecutionProvider=function(){return(_e._OrtAppendExecutionProvider=_e.asm.T).apply(null,arguments)},_e._OrtAddSessionConfigEntry=function(){return(_e._OrtAddSessionConfigEntry=_e.asm.U).apply(null,arguments)},_e._OrtReleaseSessionOptions=function(){return(_e._OrtReleaseSessionOptions=_e.asm.V).apply(null,arguments)},_e._OrtCreateSession=function(){return(_e._OrtCreateSession=_e.asm.W).apply(null,arguments)},_e._OrtReleaseSession=function(){return(_e._OrtReleaseSession=_e.asm.X).apply(null,arguments)},_e._OrtGetInputCount=function(){return(_e._OrtGetInputCount=_e.asm.Y).apply(null,arguments)},_e._OrtGetOutputCount=function(){return(_e._OrtGetOutputCount=_e.asm.Z).apply(null,arguments)},_e._OrtGetInputName=function(){return(_e._OrtGetInputName=_e.asm._).apply(null,arguments)},_e._OrtGetOutputName=function(){return(_e._OrtGetOutputName=_e.asm.$).apply(null,arguments)},_e._OrtFree=function(){return(_e._OrtFree=_e.asm.aa).apply(null,arguments)},_e._OrtCreateTensor=function(){return(_e._OrtCreateTensor=_e.asm.ba).apply(null,arguments)},_e._OrtGetTensorData=function(){return(_e._OrtGetTensorData=_e.asm.ca).apply(null,arguments)},_e._OrtReleaseTensor=function(){return(_e._OrtReleaseTensor=_e.asm.da).apply(null,arguments)},_e._OrtCreateRunOptions=function(){return(_e._OrtCreateRunOptions=_e.asm.ea).apply(null,arguments)},_e._OrtAddRunConfigEntry=function(){return(_e._OrtAddRunConfigEntry=_e.asm.fa).apply(null,arguments)},_e._OrtReleaseRunOptions=function(){return(_e._OrtReleaseRunOptions=_e.asm.ga).apply(null,arguments)},_e._OrtRun=function(){return(_e._OrtRun=_e.asm.ha).apply(null,arguments)},_e._OrtEndProfiling=function(){return(_e._OrtEndProfiling=_e.asm.ia).apply(null,arguments)};var lr=_e._malloc=function(){return(lr=_e._malloc=_e.asm.ja).apply(null,arguments)};_e._free=function(){return(_e._free=_e.asm.ka).apply(null,arguments)};var Tr,Br=_e.stackSave=function(){return(Br=_e.stackSave=_e.asm.ma).apply(null,arguments)},jr=_e.stackRestore=function(){return(jr=_e.stackRestore=_e.asm.na).apply(null,arguments)},Jr=_e.stackAlloc=function(){return(Jr=_e.stackAlloc=_e.asm.oa).apply(null,arguments)};function Xn(){function Ft(){if(!Tr&&(Tr=!0,_e.calledRun=!0,!Dt)){if(Fn(_n),rt(_e),_e.onRuntimeInitialized&&_e.onRuntimeInitialized(),_e.postRun)for(typeof _e.postRun=="function"&&(_e.postRun=[_e.postRun]);_e.postRun.length;){var Bt=_e.postRun.shift();kn.unshift(Bt)}Fn(kn)}}if(!(0<cn)){if(_e.preRun)for(typeof _e.preRun=="function"&&(_e.preRun=[_e.preRun]);_e.preRun.length;)Cn();Fn(wn),0<cn||(_e.setStatus?(_e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){_e.setStatus("")},1),Ft()},1)):Ft())}}if(_e.___cxa_is_pointer_type=function(){return(_e.___cxa_is_pointer_type=_e.asm.pa).apply(null,arguments)},_e.UTF8ToString=Kt,_e.stringToUTF8=function(Ft,Bt,Gt){return Yt(Ft,Rt,Bt,Gt)},_e.lengthBytesUTF8=Jt,_e.stackSave=Br,_e.stackRestore=jr,_e.stackAlloc=Jr,gn=function Ft(){Tr||Xn(),Tr||(gn=Ft)},_e.preInit)for(typeof _e.preInit=="function"&&(_e.preInit=[_e.preInit]);0<_e.preInit.length;)_e.preInit.pop()();return Xn(),et.ready});o.exports=$},4537:o=>{o.exports=function(i,a){for(var s=new Array(arguments.length-1),$=0,et=2,_e=!0;et<arguments.length;)s[$++]=arguments[et++];return new Promise(function(rt,ot){s[$]=function(it){if(_e)if(_e=!1,it)ot(it);else{for(var at=new Array(arguments.length-1),j=0;j<at.length;)at[j++]=arguments[j];rt.apply(null,at)}};try{i.apply(a||null,s)}catch(it){_e&&(_e=!1,ot(it))}})}},7419:(o,i)=>{var a=i;a.length=function(rt){var ot=rt.length;if(!ot)return 0;for(var it=0;--ot%4>1&&rt.charAt(ot)==="=";)++it;return Math.ceil(3*rt.length)/4-it};for(var s=new Array(64),$=new Array(123),et=0;et<64;)$[s[et]=et<26?et+65:et<52?et+71:et<62?et-4:et-59|43]=et++;a.encode=function(rt,ot,it){for(var at,j=null,_=[],tt=0,nt=0;ot<it;){var st=rt[ot++];switch(nt){case 0:_[tt++]=s[st>>2],at=(3&st)<<4,nt=1;break;case 1:_[tt++]=s[at|st>>4],at=(15&st)<<2,nt=2;break;case 2:_[tt++]=s[at|st>>6],_[tt++]=s[63&st],nt=0}tt>8191&&((j||(j=[])).push(String.fromCharCode.apply(String,_)),tt=0)}return nt&&(_[tt++]=s[at],_[tt++]=61,nt===1&&(_[tt++]=61)),j?(tt&&j.push(String.fromCharCode.apply(String,_.slice(0,tt))),j.join("")):String.fromCharCode.apply(String,_.slice(0,tt))};var _e="invalid encoding";a.decode=function(rt,ot,it){for(var at,j=it,_=0,tt=0;tt<rt.length;){var nt=rt.charCodeAt(tt++);if(nt===61&&_>1)break;if((nt=$[nt])===void 0)throw Error(_e);switch(_){case 0:at=nt,_=1;break;case 1:ot[it++]=at<<2|(48&nt)>>4,at=nt,_=2;break;case 2:ot[it++]=(15&at)<<4|(60&nt)>>2,at=nt,_=3;break;case 3:ot[it++]=(3&at)<<6|nt,_=0}}if(_===1)throw Error(_e);return it-j},a.test=function(rt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(rt)}},9211:o=>{function i(){this._listeners={}}o.exports=i,i.prototype.on=function(a,s,$){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:s,ctx:$||this}),this},i.prototype.off=function(a,s){if(a===void 0)this._listeners={};else if(s===void 0)this._listeners[a]=[];else for(var $=this._listeners[a],et=0;et<$.length;)$[et].fn===s?$.splice(et,1):++et;return this},i.prototype.emit=function(a){var s=this._listeners[a];if(s){for(var $=[],et=1;et<arguments.length;)$.push(arguments[et++]);for(et=0;et<s.length;)s[et].fn.apply(s[et++].ctx,$)}return this}},945:o=>{function i(_e){return typeof Float32Array<"u"?function(){var rt=new Float32Array([-0]),ot=new Uint8Array(rt.buffer),it=ot[3]===128;function at(nt,st,dt){rt[0]=nt,st[dt]=ot[0],st[dt+1]=ot[1],st[dt+2]=ot[2],st[dt+3]=ot[3]}function j(nt,st,dt){rt[0]=nt,st[dt]=ot[3],st[dt+1]=ot[2],st[dt+2]=ot[1],st[dt+3]=ot[0]}function _(nt,st){return ot[0]=nt[st],ot[1]=nt[st+1],ot[2]=nt[st+2],ot[3]=nt[st+3],rt[0]}function tt(nt,st){return ot[3]=nt[st],ot[2]=nt[st+1],ot[1]=nt[st+2],ot[0]=nt[st+3],rt[0]}_e.writeFloatLE=it?at:j,_e.writeFloatBE=it?j:at,_e.readFloatLE=it?_:tt,_e.readFloatBE=it?tt:_}():function(){function rt(it,at,j,_){var tt=at<0?1:0;if(tt&&(at=-at),at===0)it(1/at>0?0:2147483648,j,_);else if(isNaN(at))it(2143289344,j,_);else if(at>34028234663852886e22)it((tt<<31|2139095040)>>>0,j,_);else if(at<11754943508222875e-54)it((tt<<31|Math.round(at/1401298464324817e-60))>>>0,j,_);else{var nt=Math.floor(Math.log(at)/Math.LN2);it((tt<<31|nt+127<<23|8388607&Math.round(at*Math.pow(2,-nt)*8388608))>>>0,j,_)}}function ot(it,at,j){var _=it(at,j),tt=2*(_>>31)+1,nt=_>>>23&255,st=8388607&_;return nt===255?st?NaN:tt*(1/0):nt===0?1401298464324817e-60*tt*st:tt*Math.pow(2,nt-150)*(st+8388608)}_e.writeFloatLE=rt.bind(null,a),_e.writeFloatBE=rt.bind(null,s),_e.readFloatLE=ot.bind(null,$),_e.readFloatBE=ot.bind(null,et)}(),typeof Float64Array<"u"?function(){var rt=new Float64Array([-0]),ot=new Uint8Array(rt.buffer),it=ot[7]===128;function at(nt,st,dt){rt[0]=nt,st[dt]=ot[0],st[dt+1]=ot[1],st[dt+2]=ot[2],st[dt+3]=ot[3],st[dt+4]=ot[4],st[dt+5]=ot[5],st[dt+6]=ot[6],st[dt+7]=ot[7]}function j(nt,st,dt){rt[0]=nt,st[dt]=ot[7],st[dt+1]=ot[6],st[dt+2]=ot[5],st[dt+3]=ot[4],st[dt+4]=ot[3],st[dt+5]=ot[2],st[dt+6]=ot[1],st[dt+7]=ot[0]}function _(nt,st){return ot[0]=nt[st],ot[1]=nt[st+1],ot[2]=nt[st+2],ot[3]=nt[st+3],ot[4]=nt[st+4],ot[5]=nt[st+5],ot[6]=nt[st+6],ot[7]=nt[st+7],rt[0]}function tt(nt,st){return ot[7]=nt[st],ot[6]=nt[st+1],ot[5]=nt[st+2],ot[4]=nt[st+3],ot[3]=nt[st+4],ot[2]=nt[st+5],ot[1]=nt[st+6],ot[0]=nt[st+7],rt[0]}_e.writeDoubleLE=it?at:j,_e.writeDoubleBE=it?j:at,_e.readDoubleLE=it?_:tt,_e.readDoubleBE=it?tt:_}():function(){function rt(it,at,j,_,tt,nt){var st=_<0?1:0;if(st&&(_=-_),_===0)it(0,tt,nt+at),it(1/_>0?0:2147483648,tt,nt+j);else if(isNaN(_))it(0,tt,nt+at),it(2146959360,tt,nt+j);else if(_>17976931348623157e292)it(0,tt,nt+at),it((st<<31|2146435072)>>>0,tt,nt+j);else{var dt;if(_<22250738585072014e-324)it((dt=_/5e-324)>>>0,tt,nt+at),it((st<<31|dt/4294967296)>>>0,tt,nt+j);else{var ft=Math.floor(Math.log(_)/Math.LN2);ft===1024&&(ft=1023),it(4503599627370496*(dt=_*Math.pow(2,-ft))>>>0,tt,nt+at),it((st<<31|ft+1023<<20|1048576*dt&1048575)>>>0,tt,nt+j)}}}function ot(it,at,j,_,tt){var nt=it(_,tt+at),st=it(_,tt+j),dt=2*(st>>31)+1,ft=st>>>20&2047,gt=4294967296*(1048575&st)+nt;return ft===2047?gt?NaN:dt*(1/0):ft===0?5e-324*dt*gt:dt*Math.pow(2,ft-1075)*(gt+4503599627370496)}_e.writeDoubleLE=rt.bind(null,a,0,4),_e.writeDoubleBE=rt.bind(null,s,4,0),_e.readDoubleLE=ot.bind(null,$,0,4),_e.readDoubleBE=ot.bind(null,et,4,0)}(),_e}function a(_e,rt,ot){rt[ot]=255&_e,rt[ot+1]=_e>>>8&255,rt[ot+2]=_e>>>16&255,rt[ot+3]=_e>>>24}function s(_e,rt,ot){rt[ot]=_e>>>24,rt[ot+1]=_e>>>16&255,rt[ot+2]=_e>>>8&255,rt[ot+3]=255&_e}function $(_e,rt){return(_e[rt]|_e[rt+1]<<8|_e[rt+2]<<16|_e[rt+3]<<24)>>>0}function et(_e,rt){return(_e[rt]<<24|_e[rt+1]<<16|_e[rt+2]<<8|_e[rt+3])>>>0}o.exports=i(i)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(i,a,s){var $=s||8192,et=$>>>1,_e=null,rt=$;return function(ot){if(ot<1||ot>et)return i(ot);rt+ot>$&&(_e=i($),rt=0);var it=a.call(_e,rt,rt+=ot);return 7&rt&&(rt=1+(7|rt)),it}}},4997:(o,i)=>{var a=i;a.length=function(s){for(var $=0,et=0,_e=0;_e<s.length;++_e)(et=s.charCodeAt(_e))<128?$+=1:et<2048?$+=2:(64512&et)==55296&&(64512&s.charCodeAt(_e+1))==56320?(++_e,$+=4):$+=3;return $},a.read=function(s,$,et){if(et-$<1)return"";for(var _e,rt=null,ot=[],it=0;$<et;)(_e=s[$++])<128?ot[it++]=_e:_e>191&&_e<224?ot[it++]=(31&_e)<<6|63&s[$++]:_e>239&&_e<365?(_e=((7&_e)<<18|(63&s[$++])<<12|(63&s[$++])<<6|63&s[$++])-65536,ot[it++]=55296+(_e>>10),ot[it++]=56320+(1023&_e)):ot[it++]=(15&_e)<<12|(63&s[$++])<<6|63&s[$++],it>8191&&((rt||(rt=[])).push(String.fromCharCode.apply(String,ot)),it=0);return rt?(it&&rt.push(String.fromCharCode.apply(String,ot.slice(0,it))),rt.join("")):String.fromCharCode.apply(String,ot.slice(0,it))},a.write=function(s,$,et){for(var _e,rt,ot=et,it=0;it<s.length;++it)(_e=s.charCodeAt(it))<128?$[et++]=_e:_e<2048?($[et++]=_e>>6|192,$[et++]=63&_e|128):(64512&_e)==55296&&(64512&(rt=s.charCodeAt(it+1)))==56320?(_e=65536+((1023&_e)<<10)+(1023&rt),++it,$[et++]=_e>>18|240,$[et++]=_e>>12&63|128,$[et++]=_e>>6&63|128,$[et++]=63&_e|128):($[et++]=_e>>12|224,$[et++]=_e>>6&63|128,$[et++]=63&_e|128);return et-ot}},3442:(o,i)=>{i.__esModule=!0;var a=function(){function s($){if(!$)throw new TypeError("Invalid argument; `value` has no value.");this.value=s.EMPTY,$&&s.isGuid($)&&(this.value=$)}return s.isGuid=function($){var et=$.toString();return $&&($ instanceof s||s.validator.test(et))},s.create=function(){return new s([s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-"))},s.createEmpty=function(){return new s("emptyguid")},s.parse=function($){return new s($)},s.raw=function(){return[s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-")},s.gen=function($){for(var et="",_e=0;_e<$;_e++)et+=(65536*(1+Math.random())|0).toString(16).substring(1);return et},s.prototype.equals=function($){return s.isGuid($)&&this.value===$.toString()},s.prototype.isEmpty=function(){return this.value===s.EMPTY},s.prototype.toString=function(){return this.value},s.prototype.toJSON=function(){return{value:this.value}},s.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),s.EMPTY="00000000-0000-0000-0000-000000000000",s}();i.Guid=a},3720:o=>{o.exports=a;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function a(St,Ct,At){this.low=0|St,this.high=0|Ct,this.unsigned=!!At}function s(St){return(St&&St.__isLong__)===!0}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=s;var $={},et={};function _e(St,Ct){var At,$t,Rt;return Ct?(Rt=0<=(St>>>=0)&&St<256)&&($t=et[St])?$t:(At=ot(St,(0|St)<0?-1:0,!0),Rt&&(et[St]=At),At):(Rt=-128<=(St|=0)&&St<128)&&($t=$[St])?$t:(At=ot(St,St<0?-1:0,!1),Rt&&($[St]=At),At)}function rt(St,Ct){if(isNaN(St))return Ct?ft:dt;if(Ct){if(St<0)return ft;if(St>=tt)return yt}else{if(St<=-nt)return xt;if(St+1>=nt)return vt}return St<0?rt(-St,Ct).neg():ot(St%_|0,St/_|0,Ct)}function ot(St,Ct,At){return new a(St,Ct,At)}a.fromInt=_e,a.fromNumber=rt,a.fromBits=ot;var it=Math.pow;function at(St,Ct,At){if(St.length===0)throw Error("empty string");if(St==="NaN"||St==="Infinity"||St==="+Infinity"||St==="-Infinity")return dt;if(typeof Ct=="number"?(At=Ct,Ct=!1):Ct=!!Ct,(At=At||10)<2||36<At)throw RangeError("radix");var $t;if(($t=St.indexOf("-"))>0)throw Error("interior hyphen");if($t===0)return at(St.substring(1),Ct,At).neg();for(var Rt=rt(it(At,8)),kt=dt,Lt=0;Lt<St.length;Lt+=8){var Dt=Math.min(8,St.length-Lt),Mt=parseInt(St.substring(Lt,Lt+Dt),At);if(Dt<8){var Vt=rt(it(At,Dt));kt=kt.mul(Vt).add(rt(Mt))}else kt=(kt=kt.mul(Rt)).add(rt(Mt))}return kt.unsigned=Ct,kt}function j(St,Ct){return typeof St=="number"?rt(St,Ct):typeof St=="string"?at(St,Ct):ot(St.low,St.high,typeof Ct=="boolean"?Ct:St.unsigned)}a.fromString=at,a.fromValue=j;var _=4294967296,tt=_*_,nt=tt/2,st=_e(1<<24),dt=_e(0);a.ZERO=dt;var ft=_e(0,!0);a.UZERO=ft;var gt=_e(1);a.ONE=gt;var pt=_e(1,!0);a.UONE=pt;var mt=_e(-1);a.NEG_ONE=mt;var vt=ot(-1,2147483647,!1);a.MAX_VALUE=vt;var yt=ot(-1,-1,!0);a.MAX_UNSIGNED_VALUE=yt;var xt=ot(0,-2147483648,!1);a.MIN_VALUE=xt;var wt=a.prototype;wt.toInt=function(){return this.unsigned?this.low>>>0:this.low},wt.toNumber=function(){return this.unsigned?(this.high>>>0)*_+(this.low>>>0):this.high*_+(this.low>>>0)},wt.toString=function(St){if((St=St||10)<2||36<St)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xt)){var Ct=rt(St),At=this.div(Ct),$t=At.mul(Ct).sub(this);return At.toString(St)+$t.toInt().toString(St)}return"-"+this.neg().toString(St)}for(var Rt=rt(it(St,6),this.unsigned),kt=this,Lt="";;){var Dt=kt.div(Rt),Mt=(kt.sub(Dt.mul(Rt)).toInt()>>>0).toString(St);if((kt=Dt).isZero())return Mt+Lt;for(;Mt.length<6;)Mt="0"+Mt;Lt=""+Mt+Lt}},wt.getHighBits=function(){return this.high},wt.getHighBitsUnsigned=function(){return this.high>>>0},wt.getLowBits=function(){return this.low},wt.getLowBitsUnsigned=function(){return this.low>>>0},wt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xt)?64:this.neg().getNumBitsAbs();for(var St=this.high!=0?this.high:this.low,Ct=31;Ct>0&&!(St&1<<Ct);Ct--);return this.high!=0?Ct+33:Ct+1},wt.isZero=function(){return this.high===0&&this.low===0},wt.eqz=wt.isZero,wt.isNegative=function(){return!this.unsigned&&this.high<0},wt.isPositive=function(){return this.unsigned||this.high>=0},wt.isOdd=function(){return(1&this.low)==1},wt.isEven=function(){return(1&this.low)==0},wt.equals=function(St){return s(St)||(St=j(St)),(this.unsigned===St.unsigned||this.high>>>31!=1||St.high>>>31!=1)&&this.high===St.high&&this.low===St.low},wt.eq=wt.equals,wt.notEquals=function(St){return!this.eq(St)},wt.neq=wt.notEquals,wt.ne=wt.notEquals,wt.lessThan=function(St){return this.comp(St)<0},wt.lt=wt.lessThan,wt.lessThanOrEqual=function(St){return this.comp(St)<=0},wt.lte=wt.lessThanOrEqual,wt.le=wt.lessThanOrEqual,wt.greaterThan=function(St){return this.comp(St)>0},wt.gt=wt.greaterThan,wt.greaterThanOrEqual=function(St){return this.comp(St)>=0},wt.gte=wt.greaterThanOrEqual,wt.ge=wt.greaterThanOrEqual,wt.compare=function(St){if(s(St)||(St=j(St)),this.eq(St))return 0;var Ct=this.isNegative(),At=St.isNegative();return Ct&&!At?-1:!Ct&&At?1:this.unsigned?St.high>>>0>this.high>>>0||St.high===this.high&&St.low>>>0>this.low>>>0?-1:1:this.sub(St).isNegative()?-1:1},wt.comp=wt.compare,wt.negate=function(){return!this.unsigned&&this.eq(xt)?xt:this.not().add(gt)},wt.neg=wt.negate,wt.add=function(St){s(St)||(St=j(St));var Ct=this.high>>>16,At=65535&this.high,$t=this.low>>>16,Rt=65535&this.low,kt=St.high>>>16,Lt=65535&St.high,Dt=St.low>>>16,Mt=0,Vt=0,Kt=0,Yt=0;return Kt+=(Yt+=Rt+(65535&St.low))>>>16,Vt+=(Kt+=$t+Dt)>>>16,Mt+=(Vt+=At+Lt)>>>16,Mt+=Ct+kt,ot((Kt&=65535)<<16|(Yt&=65535),(Mt&=65535)<<16|(Vt&=65535),this.unsigned)},wt.subtract=function(St){return s(St)||(St=j(St)),this.add(St.neg())},wt.sub=wt.subtract,wt.multiply=function(St){if(this.isZero())return dt;if(s(St)||(St=j(St)),i)return ot(i.mul(this.low,this.high,St.low,St.high),i.get_high(),this.unsigned);if(St.isZero())return dt;if(this.eq(xt))return St.isOdd()?xt:dt;if(St.eq(xt))return this.isOdd()?xt:dt;if(this.isNegative())return St.isNegative()?this.neg().mul(St.neg()):this.neg().mul(St).neg();if(St.isNegative())return this.mul(St.neg()).neg();if(this.lt(st)&&St.lt(st))return rt(this.toNumber()*St.toNumber(),this.unsigned);var Ct=this.high>>>16,At=65535&this.high,$t=this.low>>>16,Rt=65535&this.low,kt=St.high>>>16,Lt=65535&St.high,Dt=St.low>>>16,Mt=65535&St.low,Vt=0,Kt=0,Yt=0,Jt=0;return Yt+=(Jt+=Rt*Mt)>>>16,Kt+=(Yt+=$t*Mt)>>>16,Yt&=65535,Kt+=(Yt+=Rt*Dt)>>>16,Vt+=(Kt+=At*Mt)>>>16,Kt&=65535,Vt+=(Kt+=$t*Dt)>>>16,Kt&=65535,Vt+=(Kt+=Rt*Lt)>>>16,Vt+=Ct*Mt+At*Dt+$t*Lt+Rt*kt,ot((Yt&=65535)<<16|(Jt&=65535),(Vt&=65535)<<16|(Kt&=65535),this.unsigned)},wt.mul=wt.multiply,wt.divide=function(St){if(s(St)||(St=j(St)),St.isZero())throw Error("division by zero");var Ct,At,$t;if(i)return this.unsigned||this.high!==-2147483648||St.low!==-1||St.high!==-1?ot((this.unsigned?i.div_u:i.div_s)(this.low,this.high,St.low,St.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ft:dt;if(this.unsigned){if(St.unsigned||(St=St.toUnsigned()),St.gt(this))return ft;if(St.gt(this.shru(1)))return pt;$t=ft}else{if(this.eq(xt))return St.eq(gt)||St.eq(mt)?xt:St.eq(xt)?gt:(Ct=this.shr(1).div(St).shl(1)).eq(dt)?St.isNegative()?gt:mt:(At=this.sub(St.mul(Ct)),$t=Ct.add(At.div(St)));if(St.eq(xt))return this.unsigned?ft:dt;if(this.isNegative())return St.isNegative()?this.neg().div(St.neg()):this.neg().div(St).neg();if(St.isNegative())return this.div(St.neg()).neg();$t=dt}for(At=this;At.gte(St);){Ct=Math.max(1,Math.floor(At.toNumber()/St.toNumber()));for(var Rt=Math.ceil(Math.log(Ct)/Math.LN2),kt=Rt<=48?1:it(2,Rt-48),Lt=rt(Ct),Dt=Lt.mul(St);Dt.isNegative()||Dt.gt(At);)Dt=(Lt=rt(Ct-=kt,this.unsigned)).mul(St);Lt.isZero()&&(Lt=gt),$t=$t.add(Lt),At=At.sub(Dt)}return $t},wt.div=wt.divide,wt.modulo=function(St){return s(St)||(St=j(St)),i?ot((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,St.low,St.high),i.get_high(),this.unsigned):this.sub(this.div(St).mul(St))},wt.mod=wt.modulo,wt.rem=wt.modulo,wt.not=function(){return ot(~this.low,~this.high,this.unsigned)},wt.and=function(St){return s(St)||(St=j(St)),ot(this.low&St.low,this.high&St.high,this.unsigned)},wt.or=function(St){return s(St)||(St=j(St)),ot(this.low|St.low,this.high|St.high,this.unsigned)},wt.xor=function(St){return s(St)||(St=j(St)),ot(this.low^St.low,this.high^St.high,this.unsigned)},wt.shiftLeft=function(St){return s(St)&&(St=St.toInt()),(St&=63)==0?this:St<32?ot(this.low<<St,this.high<<St|this.low>>>32-St,this.unsigned):ot(0,this.low<<St-32,this.unsigned)},wt.shl=wt.shiftLeft,wt.shiftRight=function(St){return s(St)&&(St=St.toInt()),(St&=63)==0?this:St<32?ot(this.low>>>St|this.high<<32-St,this.high>>St,this.unsigned):ot(this.high>>St-32,this.high>=0?0:-1,this.unsigned)},wt.shr=wt.shiftRight,wt.shiftRightUnsigned=function(St){if(s(St)&&(St=St.toInt()),(St&=63)==0)return this;var Ct=this.high;return St<32?ot(this.low>>>St|Ct<<32-St,Ct>>>St,this.unsigned):ot(St===32?Ct:Ct>>>St-32,0,this.unsigned)},wt.shru=wt.shiftRightUnsigned,wt.shr_u=wt.shiftRightUnsigned,wt.toSigned=function(){return this.unsigned?ot(this.low,this.high,!1):this},wt.toUnsigned=function(){return this.unsigned?this:ot(this.low,this.high,!0)},wt.toBytes=function(St){return St?this.toBytesLE():this.toBytesBE()},wt.toBytesLE=function(){var St=this.high,Ct=this.low;return[255&Ct,Ct>>>8&255,Ct>>>16&255,Ct>>>24,255&St,St>>>8&255,St>>>16&255,St>>>24]},wt.toBytesBE=function(){var St=this.high,Ct=this.low;return[St>>>24,St>>>16&255,St>>>8&255,255&St,Ct>>>24,Ct>>>16&255,Ct>>>8&255,255&Ct]},a.fromBytes=function(St,Ct,At){return At?a.fromBytesLE(St,Ct):a.fromBytesBE(St,Ct)},a.fromBytesLE=function(St,Ct){return new a(St[0]|St[1]<<8|St[2]<<16|St[3]<<24,St[4]|St[5]<<8|St[6]<<16|St[7]<<24,Ct)},a.fromBytesBE=function(St,Ct){return new a(St[4]<<24|St[5]<<16|St[6]<<8|St[7],St[0]<<24|St[1]<<16|St[2]<<8|St[3],Ct)}},1446:(o,i,a)=>{var s,$,et,_e=a(2100),rt=_e.Reader,ot=_e.Writer,it=_e.util,at=_e.roots.default||(_e.roots.default={});at.onnx=((et={}).Version=(s={},($=Object.create(s))[s[0]="_START_VERSION"]=0,$[s[1]="IR_VERSION_2017_10_10"]=1,$[s[2]="IR_VERSION_2017_10_30"]=2,$[s[3]="IR_VERSION_2017_11_3"]=3,$[s[4]="IR_VERSION_2019_1_22"]=4,$[s[5]="IR_VERSION"]=5,$),et.AttributeProto=function(){function j(_){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.name="",j.prototype.refAttrName="",j.prototype.docString="",j.prototype.type=0,j.prototype.f=0,j.prototype.i=it.Long?it.Long.fromBits(0,0,!1):0,j.prototype.s=it.newBuffer([]),j.prototype.t=null,j.prototype.g=null,j.prototype.floats=it.emptyArray,j.prototype.ints=it.emptyArray,j.prototype.strings=it.emptyArray,j.prototype.tensors=it.emptyArray,j.prototype.graphs=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.name!=null&&_.hasOwnProperty("name")&&tt.uint32(10).string(_.name),_.f!=null&&_.hasOwnProperty("f")&&tt.uint32(21).float(_.f),_.i!=null&&_.hasOwnProperty("i")&&tt.uint32(24).int64(_.i),_.s!=null&&_.hasOwnProperty("s")&&tt.uint32(34).bytes(_.s),_.t!=null&&_.hasOwnProperty("t")&&at.onnx.TensorProto.encode(_.t,tt.uint32(42).fork()).ldelim(),_.g!=null&&_.hasOwnProperty("g")&&at.onnx.GraphProto.encode(_.g,tt.uint32(50).fork()).ldelim(),_.floats!=null&&_.floats.length){tt.uint32(58).fork();for(var nt=0;nt<_.floats.length;++nt)tt.float(_.floats[nt]);tt.ldelim()}if(_.ints!=null&&_.ints.length){for(tt.uint32(66).fork(),nt=0;nt<_.ints.length;++nt)tt.int64(_.ints[nt]);tt.ldelim()}if(_.strings!=null&&_.strings.length)for(nt=0;nt<_.strings.length;++nt)tt.uint32(74).bytes(_.strings[nt]);if(_.tensors!=null&&_.tensors.length)for(nt=0;nt<_.tensors.length;++nt)at.onnx.TensorProto.encode(_.tensors[nt],tt.uint32(82).fork()).ldelim();if(_.graphs!=null&&_.graphs.length)for(nt=0;nt<_.graphs.length;++nt)at.onnx.GraphProto.encode(_.graphs[nt],tt.uint32(90).fork()).ldelim();return _.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(106).string(_.docString),_.type!=null&&_.hasOwnProperty("type")&&tt.uint32(160).int32(_.type),_.refAttrName!=null&&_.hasOwnProperty("refAttrName")&&tt.uint32(170).string(_.refAttrName),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.AttributeProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.name=_.string();break;case 21:st.refAttrName=_.string();break;case 13:st.docString=_.string();break;case 20:st.type=_.int32();break;case 2:st.f=_.float();break;case 3:st.i=_.int64();break;case 4:st.s=_.bytes();break;case 5:st.t=at.onnx.TensorProto.decode(_,_.uint32());break;case 6:st.g=at.onnx.GraphProto.decode(_,_.uint32());break;case 7:if(st.floats&&st.floats.length||(st.floats=[]),(7&dt)==2)for(var ft=_.uint32()+_.pos;_.pos<ft;)st.floats.push(_.float());else st.floats.push(_.float());break;case 8:if(st.ints&&st.ints.length||(st.ints=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.ints.push(_.int64());else st.ints.push(_.int64());break;case 9:st.strings&&st.strings.length||(st.strings=[]),st.strings.push(_.bytes());break;case 10:st.tensors&&st.tensors.length||(st.tensors=[]),st.tensors.push(at.onnx.TensorProto.decode(_,_.uint32()));break;case 11:st.graphs&&st.graphs.length||(st.graphs=[]),st.graphs.push(at.onnx.GraphProto.decode(_,_.uint32()));break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.name!=null&&_.hasOwnProperty("name")&&!it.isString(_.name))return"name: string expected";if(_.refAttrName!=null&&_.hasOwnProperty("refAttrName")&&!it.isString(_.refAttrName))return"refAttrName: string expected";if(_.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString))return"docString: string expected";if(_.type!=null&&_.hasOwnProperty("type"))switch(_.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(_.f!=null&&_.hasOwnProperty("f")&&typeof _.f!="number")return"f: number expected";if(_.i!=null&&_.hasOwnProperty("i")&&!(it.isInteger(_.i)||_.i&&it.isInteger(_.i.low)&&it.isInteger(_.i.high)))return"i: integer|Long expected";if(_.s!=null&&_.hasOwnProperty("s")&&!(_.s&&typeof _.s.length=="number"||it.isString(_.s)))return"s: buffer expected";if(_.t!=null&&_.hasOwnProperty("t")&&(nt=at.onnx.TensorProto.verify(_.t)))return"t."+nt;if(_.g!=null&&_.hasOwnProperty("g")&&(nt=at.onnx.GraphProto.verify(_.g)))return"g."+nt;if(_.floats!=null&&_.hasOwnProperty("floats")){if(!Array.isArray(_.floats))return"floats: array expected";for(var tt=0;tt<_.floats.length;++tt)if(typeof _.floats[tt]!="number")return"floats: number[] expected"}if(_.ints!=null&&_.hasOwnProperty("ints")){if(!Array.isArray(_.ints))return"ints: array expected";for(tt=0;tt<_.ints.length;++tt)if(!(it.isInteger(_.ints[tt])||_.ints[tt]&&it.isInteger(_.ints[tt].low)&&it.isInteger(_.ints[tt].high)))return"ints: integer|Long[] expected"}if(_.strings!=null&&_.hasOwnProperty("strings")){if(!Array.isArray(_.strings))return"strings: array expected";for(tt=0;tt<_.strings.length;++tt)if(!(_.strings[tt]&&typeof _.strings[tt].length=="number"||it.isString(_.strings[tt])))return"strings: buffer[] expected"}if(_.tensors!=null&&_.hasOwnProperty("tensors")){if(!Array.isArray(_.tensors))return"tensors: array expected";for(tt=0;tt<_.tensors.length;++tt)if(nt=at.onnx.TensorProto.verify(_.tensors[tt]))return"tensors."+nt}if(_.graphs!=null&&_.hasOwnProperty("graphs")){if(!Array.isArray(_.graphs))return"graphs: array expected";for(tt=0;tt<_.graphs.length;++tt){var nt;if(nt=at.onnx.GraphProto.verify(_.graphs[tt]))return"graphs."+nt}}return null},j.fromObject=function(_){if(_ instanceof at.onnx.AttributeProto)return _;var tt=new at.onnx.AttributeProto;switch(_.name!=null&&(tt.name=String(_.name)),_.refAttrName!=null&&(tt.refAttrName=String(_.refAttrName)),_.docString!=null&&(tt.docString=String(_.docString)),_.type){case"UNDEFINED":case 0:tt.type=0;break;case"FLOAT":case 1:tt.type=1;break;case"INT":case 2:tt.type=2;break;case"STRING":case 3:tt.type=3;break;case"TENSOR":case 4:tt.type=4;break;case"GRAPH":case 5:tt.type=5;break;case"FLOATS":case 6:tt.type=6;break;case"INTS":case 7:tt.type=7;break;case"STRINGS":case 8:tt.type=8;break;case"TENSORS":case 9:tt.type=9;break;case"GRAPHS":case 10:tt.type=10}if(_.f!=null&&(tt.f=Number(_.f)),_.i!=null&&(it.Long?(tt.i=it.Long.fromValue(_.i)).unsigned=!1:typeof _.i=="string"?tt.i=parseInt(_.i,10):typeof _.i=="number"?tt.i=_.i:typeof _.i=="object"&&(tt.i=new it.LongBits(_.i.low>>>0,_.i.high>>>0).toNumber())),_.s!=null&&(typeof _.s=="string"?it.base64.decode(_.s,tt.s=it.newBuffer(it.base64.length(_.s)),0):_.s.length&&(tt.s=_.s)),_.t!=null){if(typeof _.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");tt.t=at.onnx.TensorProto.fromObject(_.t)}if(_.g!=null){if(typeof _.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");tt.g=at.onnx.GraphProto.fromObject(_.g)}if(_.floats){if(!Array.isArray(_.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");tt.floats=[];for(var nt=0;nt<_.floats.length;++nt)tt.floats[nt]=Number(_.floats[nt])}if(_.ints){if(!Array.isArray(_.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(tt.ints=[],nt=0;nt<_.ints.length;++nt)it.Long?(tt.ints[nt]=it.Long.fromValue(_.ints[nt])).unsigned=!1:typeof _.ints[nt]=="string"?tt.ints[nt]=parseInt(_.ints[nt],10):typeof _.ints[nt]=="number"?tt.ints[nt]=_.ints[nt]:typeof _.ints[nt]=="object"&&(tt.ints[nt]=new it.LongBits(_.ints[nt].low>>>0,_.ints[nt].high>>>0).toNumber())}if(_.strings){if(!Array.isArray(_.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(tt.strings=[],nt=0;nt<_.strings.length;++nt)typeof _.strings[nt]=="string"?it.base64.decode(_.strings[nt],tt.strings[nt]=it.newBuffer(it.base64.length(_.strings[nt])),0):_.strings[nt].length&&(tt.strings[nt]=_.strings[nt])}if(_.tensors){if(!Array.isArray(_.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(tt.tensors=[],nt=0;nt<_.tensors.length;++nt){if(typeof _.tensors[nt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");tt.tensors[nt]=at.onnx.TensorProto.fromObject(_.tensors[nt])}}if(_.graphs){if(!Array.isArray(_.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(tt.graphs=[],nt=0;nt<_.graphs.length;++nt){if(typeof _.graphs[nt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");tt.graphs[nt]=at.onnx.GraphProto.fromObject(_.graphs[nt])}}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.floats=[],nt.ints=[],nt.strings=[],nt.tensors=[],nt.graphs=[]),tt.defaults){if(nt.name="",nt.f=0,it.Long){var st=new it.Long(0,0,!1);nt.i=tt.longs===String?st.toString():tt.longs===Number?st.toNumber():st}else nt.i=tt.longs===String?"0":0;tt.bytes===String?nt.s="":(nt.s=[],tt.bytes!==Array&&(nt.s=it.newBuffer(nt.s))),nt.t=null,nt.g=null,nt.docString="",nt.type=tt.enums===String?"UNDEFINED":0,nt.refAttrName=""}if(_.name!=null&&_.hasOwnProperty("name")&&(nt.name=_.name),_.f!=null&&_.hasOwnProperty("f")&&(nt.f=tt.json&&!isFinite(_.f)?String(_.f):_.f),_.i!=null&&_.hasOwnProperty("i")&&(typeof _.i=="number"?nt.i=tt.longs===String?String(_.i):_.i:nt.i=tt.longs===String?it.Long.prototype.toString.call(_.i):tt.longs===Number?new it.LongBits(_.i.low>>>0,_.i.high>>>0).toNumber():_.i),_.s!=null&&_.hasOwnProperty("s")&&(nt.s=tt.bytes===String?it.base64.encode(_.s,0,_.s.length):tt.bytes===Array?Array.prototype.slice.call(_.s):_.s),_.t!=null&&_.hasOwnProperty("t")&&(nt.t=at.onnx.TensorProto.toObject(_.t,tt)),_.g!=null&&_.hasOwnProperty("g")&&(nt.g=at.onnx.GraphProto.toObject(_.g,tt)),_.floats&&_.floats.length){nt.floats=[];for(var dt=0;dt<_.floats.length;++dt)nt.floats[dt]=tt.json&&!isFinite(_.floats[dt])?String(_.floats[dt]):_.floats[dt]}if(_.ints&&_.ints.length)for(nt.ints=[],dt=0;dt<_.ints.length;++dt)typeof _.ints[dt]=="number"?nt.ints[dt]=tt.longs===String?String(_.ints[dt]):_.ints[dt]:nt.ints[dt]=tt.longs===String?it.Long.prototype.toString.call(_.ints[dt]):tt.longs===Number?new it.LongBits(_.ints[dt].low>>>0,_.ints[dt].high>>>0).toNumber():_.ints[dt];if(_.strings&&_.strings.length)for(nt.strings=[],dt=0;dt<_.strings.length;++dt)nt.strings[dt]=tt.bytes===String?it.base64.encode(_.strings[dt],0,_.strings[dt].length):tt.bytes===Array?Array.prototype.slice.call(_.strings[dt]):_.strings[dt];if(_.tensors&&_.tensors.length)for(nt.tensors=[],dt=0;dt<_.tensors.length;++dt)nt.tensors[dt]=at.onnx.TensorProto.toObject(_.tensors[dt],tt);if(_.graphs&&_.graphs.length)for(nt.graphs=[],dt=0;dt<_.graphs.length;++dt)nt.graphs[dt]=at.onnx.GraphProto.toObject(_.graphs[dt],tt);return _.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),_.type!=null&&_.hasOwnProperty("type")&&(nt.type=tt.enums===String?at.onnx.AttributeProto.AttributeType[_.type]:_.type),_.refAttrName!=null&&_.hasOwnProperty("refAttrName")&&(nt.refAttrName=_.refAttrName),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j.AttributeType=function(){var _={},tt=Object.create(_);return tt[_[0]="UNDEFINED"]=0,tt[_[1]="FLOAT"]=1,tt[_[2]="INT"]=2,tt[_[3]="STRING"]=3,tt[_[4]="TENSOR"]=4,tt[_[5]="GRAPH"]=5,tt[_[6]="FLOATS"]=6,tt[_[7]="INTS"]=7,tt[_[8]="STRINGS"]=8,tt[_[9]="TENSORS"]=9,tt[_[10]="GRAPHS"]=10,tt}(),j}(),et.ValueInfoProto=function(){function j(_){if(_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.name="",j.prototype.type=null,j.prototype.docString="",j.create=function(_){return new j(_)},j.encode=function(_,tt){return tt||(tt=ot.create()),_.name!=null&&_.hasOwnProperty("name")&&tt.uint32(10).string(_.name),_.type!=null&&_.hasOwnProperty("type")&&at.onnx.TypeProto.encode(_.type,tt.uint32(18).fork()).ldelim(),_.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(26).string(_.docString),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.ValueInfoProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.name=_.string();break;case 2:st.type=at.onnx.TypeProto.decode(_,_.uint32());break;case 3:st.docString=_.string();break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.name!=null&&_.hasOwnProperty("name")&&!it.isString(_.name))return"name: string expected";if(_.type!=null&&_.hasOwnProperty("type")){var tt=at.onnx.TypeProto.verify(_.type);if(tt)return"type."+tt}return _.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString)?"docString: string expected":null},j.fromObject=function(_){if(_ instanceof at.onnx.ValueInfoProto)return _;var tt=new at.onnx.ValueInfoProto;if(_.name!=null&&(tt.name=String(_.name)),_.type!=null){if(typeof _.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");tt.type=at.onnx.TypeProto.fromObject(_.type)}return _.docString!=null&&(tt.docString=String(_.docString)),tt},j.toObject=function(_,tt){tt||(tt={});var nt={};return tt.defaults&&(nt.name="",nt.type=null,nt.docString=""),_.name!=null&&_.hasOwnProperty("name")&&(nt.name=_.name),_.type!=null&&_.hasOwnProperty("type")&&(nt.type=at.onnx.TypeProto.toObject(_.type,tt)),_.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.NodeProto=function(){function j(_){if(this.input=[],this.output=[],this.attribute=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.input=it.emptyArray,j.prototype.output=it.emptyArray,j.prototype.name="",j.prototype.opType="",j.prototype.domain="",j.prototype.attribute=it.emptyArray,j.prototype.docString="",j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.input!=null&&_.input.length)for(var nt=0;nt<_.input.length;++nt)tt.uint32(10).string(_.input[nt]);if(_.output!=null&&_.output.length)for(nt=0;nt<_.output.length;++nt)tt.uint32(18).string(_.output[nt]);if(_.name!=null&&_.hasOwnProperty("name")&&tt.uint32(26).string(_.name),_.opType!=null&&_.hasOwnProperty("opType")&&tt.uint32(34).string(_.opType),_.attribute!=null&&_.attribute.length)for(nt=0;nt<_.attribute.length;++nt)at.onnx.AttributeProto.encode(_.attribute[nt],tt.uint32(42).fork()).ldelim();return _.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(50).string(_.docString),_.domain!=null&&_.hasOwnProperty("domain")&&tt.uint32(58).string(_.domain),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.NodeProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.input&&st.input.length||(st.input=[]),st.input.push(_.string());break;case 2:st.output&&st.output.length||(st.output=[]),st.output.push(_.string());break;case 3:st.name=_.string();break;case 4:st.opType=_.string();break;case 7:st.domain=_.string();break;case 5:st.attribute&&st.attribute.length||(st.attribute=[]),st.attribute.push(at.onnx.AttributeProto.decode(_,_.uint32()));break;case 6:st.docString=_.string();break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.input!=null&&_.hasOwnProperty("input")){if(!Array.isArray(_.input))return"input: array expected";for(var tt=0;tt<_.input.length;++tt)if(!it.isString(_.input[tt]))return"input: string[] expected"}if(_.output!=null&&_.hasOwnProperty("output")){if(!Array.isArray(_.output))return"output: array expected";for(tt=0;tt<_.output.length;++tt)if(!it.isString(_.output[tt]))return"output: string[] expected"}if(_.name!=null&&_.hasOwnProperty("name")&&!it.isString(_.name))return"name: string expected";if(_.opType!=null&&_.hasOwnProperty("opType")&&!it.isString(_.opType))return"opType: string expected";if(_.domain!=null&&_.hasOwnProperty("domain")&&!it.isString(_.domain))return"domain: string expected";if(_.attribute!=null&&_.hasOwnProperty("attribute")){if(!Array.isArray(_.attribute))return"attribute: array expected";for(tt=0;tt<_.attribute.length;++tt){var nt=at.onnx.AttributeProto.verify(_.attribute[tt]);if(nt)return"attribute."+nt}}return _.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString)?"docString: string expected":null},j.fromObject=function(_){if(_ instanceof at.onnx.NodeProto)return _;var tt=new at.onnx.NodeProto;if(_.input){if(!Array.isArray(_.input))throw TypeError(".onnx.NodeProto.input: array expected");tt.input=[];for(var nt=0;nt<_.input.length;++nt)tt.input[nt]=String(_.input[nt])}if(_.output){if(!Array.isArray(_.output))throw TypeError(".onnx.NodeProto.output: array expected");for(tt.output=[],nt=0;nt<_.output.length;++nt)tt.output[nt]=String(_.output[nt])}if(_.name!=null&&(tt.name=String(_.name)),_.opType!=null&&(tt.opType=String(_.opType)),_.domain!=null&&(tt.domain=String(_.domain)),_.attribute){if(!Array.isArray(_.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(tt.attribute=[],nt=0;nt<_.attribute.length;++nt){if(typeof _.attribute[nt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");tt.attribute[nt]=at.onnx.AttributeProto.fromObject(_.attribute[nt])}}return _.docString!=null&&(tt.docString=String(_.docString)),tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.input=[],nt.output=[],nt.attribute=[]),tt.defaults&&(nt.name="",nt.opType="",nt.docString="",nt.domain=""),_.input&&_.input.length){nt.input=[];for(var st=0;st<_.input.length;++st)nt.input[st]=_.input[st]}if(_.output&&_.output.length)for(nt.output=[],st=0;st<_.output.length;++st)nt.output[st]=_.output[st];if(_.name!=null&&_.hasOwnProperty("name")&&(nt.name=_.name),_.opType!=null&&_.hasOwnProperty("opType")&&(nt.opType=_.opType),_.attribute&&_.attribute.length)for(nt.attribute=[],st=0;st<_.attribute.length;++st)nt.attribute[st]=at.onnx.AttributeProto.toObject(_.attribute[st],tt);return _.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),_.domain!=null&&_.hasOwnProperty("domain")&&(nt.domain=_.domain),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.ModelProto=function(){function j(_){if(this.opsetImport=[],this.metadataProps=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.irVersion=it.Long?it.Long.fromBits(0,0,!1):0,j.prototype.opsetImport=it.emptyArray,j.prototype.producerName="",j.prototype.producerVersion="",j.prototype.domain="",j.prototype.modelVersion=it.Long?it.Long.fromBits(0,0,!1):0,j.prototype.docString="",j.prototype.graph=null,j.prototype.metadataProps=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.irVersion!=null&&_.hasOwnProperty("irVersion")&&tt.uint32(8).int64(_.irVersion),_.producerName!=null&&_.hasOwnProperty("producerName")&&tt.uint32(18).string(_.producerName),_.producerVersion!=null&&_.hasOwnProperty("producerVersion")&&tt.uint32(26).string(_.producerVersion),_.domain!=null&&_.hasOwnProperty("domain")&&tt.uint32(34).string(_.domain),_.modelVersion!=null&&_.hasOwnProperty("modelVersion")&&tt.uint32(40).int64(_.modelVersion),_.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(50).string(_.docString),_.graph!=null&&_.hasOwnProperty("graph")&&at.onnx.GraphProto.encode(_.graph,tt.uint32(58).fork()).ldelim(),_.opsetImport!=null&&_.opsetImport.length)for(var nt=0;nt<_.opsetImport.length;++nt)at.onnx.OperatorSetIdProto.encode(_.opsetImport[nt],tt.uint32(66).fork()).ldelim();if(_.metadataProps!=null&&_.metadataProps.length)for(nt=0;nt<_.metadataProps.length;++nt)at.onnx.StringStringEntryProto.encode(_.metadataProps[nt],tt.uint32(114).fork()).ldelim();return tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.ModelProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.irVersion=_.int64();break;case 8:st.opsetImport&&st.opsetImport.length||(st.opsetImport=[]),st.opsetImport.push(at.onnx.OperatorSetIdProto.decode(_,_.uint32()));break;case 2:st.producerName=_.string();break;case 3:st.producerVersion=_.string();break;case 4:st.domain=_.string();break;case 5:st.modelVersion=_.int64();break;case 6:st.docString=_.string();break;case 7:st.graph=at.onnx.GraphProto.decode(_,_.uint32());break;case 14:st.metadataProps&&st.metadataProps.length||(st.metadataProps=[]),st.metadataProps.push(at.onnx.StringStringEntryProto.decode(_,_.uint32()));break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.irVersion!=null&&_.hasOwnProperty("irVersion")&&!(it.isInteger(_.irVersion)||_.irVersion&&it.isInteger(_.irVersion.low)&&it.isInteger(_.irVersion.high)))return"irVersion: integer|Long expected";if(_.opsetImport!=null&&_.hasOwnProperty("opsetImport")){if(!Array.isArray(_.opsetImport))return"opsetImport: array expected";for(var tt=0;tt<_.opsetImport.length;++tt)if(nt=at.onnx.OperatorSetIdProto.verify(_.opsetImport[tt]))return"opsetImport."+nt}if(_.producerName!=null&&_.hasOwnProperty("producerName")&&!it.isString(_.producerName))return"producerName: string expected";if(_.producerVersion!=null&&_.hasOwnProperty("producerVersion")&&!it.isString(_.producerVersion))return"producerVersion: string expected";if(_.domain!=null&&_.hasOwnProperty("domain")&&!it.isString(_.domain))return"domain: string expected";if(_.modelVersion!=null&&_.hasOwnProperty("modelVersion")&&!(it.isInteger(_.modelVersion)||_.modelVersion&&it.isInteger(_.modelVersion.low)&&it.isInteger(_.modelVersion.high)))return"modelVersion: integer|Long expected";if(_.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString))return"docString: string expected";if(_.graph!=null&&_.hasOwnProperty("graph")&&(nt=at.onnx.GraphProto.verify(_.graph)))return"graph."+nt;if(_.metadataProps!=null&&_.hasOwnProperty("metadataProps")){if(!Array.isArray(_.metadataProps))return"metadataProps: array expected";for(tt=0;tt<_.metadataProps.length;++tt){var nt;if(nt=at.onnx.StringStringEntryProto.verify(_.metadataProps[tt]))return"metadataProps."+nt}}return null},j.fromObject=function(_){if(_ instanceof at.onnx.ModelProto)return _;var tt=new at.onnx.ModelProto;if(_.irVersion!=null&&(it.Long?(tt.irVersion=it.Long.fromValue(_.irVersion)).unsigned=!1:typeof _.irVersion=="string"?tt.irVersion=parseInt(_.irVersion,10):typeof _.irVersion=="number"?tt.irVersion=_.irVersion:typeof _.irVersion=="object"&&(tt.irVersion=new it.LongBits(_.irVersion.low>>>0,_.irVersion.high>>>0).toNumber())),_.opsetImport){if(!Array.isArray(_.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");tt.opsetImport=[];for(var nt=0;nt<_.opsetImport.length;++nt){if(typeof _.opsetImport[nt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");tt.opsetImport[nt]=at.onnx.OperatorSetIdProto.fromObject(_.opsetImport[nt])}}if(_.producerName!=null&&(tt.producerName=String(_.producerName)),_.producerVersion!=null&&(tt.producerVersion=String(_.producerVersion)),_.domain!=null&&(tt.domain=String(_.domain)),_.modelVersion!=null&&(it.Long?(tt.modelVersion=it.Long.fromValue(_.modelVersion)).unsigned=!1:typeof _.modelVersion=="string"?tt.modelVersion=parseInt(_.modelVersion,10):typeof _.modelVersion=="number"?tt.modelVersion=_.modelVersion:typeof _.modelVersion=="object"&&(tt.modelVersion=new it.LongBits(_.modelVersion.low>>>0,_.modelVersion.high>>>0).toNumber())),_.docString!=null&&(tt.docString=String(_.docString)),_.graph!=null){if(typeof _.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");tt.graph=at.onnx.GraphProto.fromObject(_.graph)}if(_.metadataProps){if(!Array.isArray(_.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(tt.metadataProps=[],nt=0;nt<_.metadataProps.length;++nt){if(typeof _.metadataProps[nt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");tt.metadataProps[nt]=at.onnx.StringStringEntryProto.fromObject(_.metadataProps[nt])}}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.opsetImport=[],nt.metadataProps=[]),tt.defaults){if(it.Long){var st=new it.Long(0,0,!1);nt.irVersion=tt.longs===String?st.toString():tt.longs===Number?st.toNumber():st}else nt.irVersion=tt.longs===String?"0":0;nt.producerName="",nt.producerVersion="",nt.domain="",it.Long?(st=new it.Long(0,0,!1),nt.modelVersion=tt.longs===String?st.toString():tt.longs===Number?st.toNumber():st):nt.modelVersion=tt.longs===String?"0":0,nt.docString="",nt.graph=null}if(_.irVersion!=null&&_.hasOwnProperty("irVersion")&&(typeof _.irVersion=="number"?nt.irVersion=tt.longs===String?String(_.irVersion):_.irVersion:nt.irVersion=tt.longs===String?it.Long.prototype.toString.call(_.irVersion):tt.longs===Number?new it.LongBits(_.irVersion.low>>>0,_.irVersion.high>>>0).toNumber():_.irVersion),_.producerName!=null&&_.hasOwnProperty("producerName")&&(nt.producerName=_.producerName),_.producerVersion!=null&&_.hasOwnProperty("producerVersion")&&(nt.producerVersion=_.producerVersion),_.domain!=null&&_.hasOwnProperty("domain")&&(nt.domain=_.domain),_.modelVersion!=null&&_.hasOwnProperty("modelVersion")&&(typeof _.modelVersion=="number"?nt.modelVersion=tt.longs===String?String(_.modelVersion):_.modelVersion:nt.modelVersion=tt.longs===String?it.Long.prototype.toString.call(_.modelVersion):tt.longs===Number?new it.LongBits(_.modelVersion.low>>>0,_.modelVersion.high>>>0).toNumber():_.modelVersion),_.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),_.graph!=null&&_.hasOwnProperty("graph")&&(nt.graph=at.onnx.GraphProto.toObject(_.graph,tt)),_.opsetImport&&_.opsetImport.length){nt.opsetImport=[];for(var dt=0;dt<_.opsetImport.length;++dt)nt.opsetImport[dt]=at.onnx.OperatorSetIdProto.toObject(_.opsetImport[dt],tt)}if(_.metadataProps&&_.metadataProps.length)for(nt.metadataProps=[],dt=0;dt<_.metadataProps.length;++dt)nt.metadataProps[dt]=at.onnx.StringStringEntryProto.toObject(_.metadataProps[dt],tt);return nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.StringStringEntryProto=function(){function j(_){if(_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.key="",j.prototype.value="",j.create=function(_){return new j(_)},j.encode=function(_,tt){return tt||(tt=ot.create()),_.key!=null&&_.hasOwnProperty("key")&&tt.uint32(10).string(_.key),_.value!=null&&_.hasOwnProperty("value")&&tt.uint32(18).string(_.value),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.StringStringEntryProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.key=_.string();break;case 2:st.value=_.string();break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){return typeof _!="object"||_===null?"object expected":_.key!=null&&_.hasOwnProperty("key")&&!it.isString(_.key)?"key: string expected":_.value!=null&&_.hasOwnProperty("value")&&!it.isString(_.value)?"value: string expected":null},j.fromObject=function(_){if(_ instanceof at.onnx.StringStringEntryProto)return _;var tt=new at.onnx.StringStringEntryProto;return _.key!=null&&(tt.key=String(_.key)),_.value!=null&&(tt.value=String(_.value)),tt},j.toObject=function(_,tt){tt||(tt={});var nt={};return tt.defaults&&(nt.key="",nt.value=""),_.key!=null&&_.hasOwnProperty("key")&&(nt.key=_.key),_.value!=null&&_.hasOwnProperty("value")&&(nt.value=_.value),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.TensorAnnotation=function(){function j(_){if(this.quantParameterTensorNames=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.tensorName="",j.prototype.quantParameterTensorNames=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.tensorName!=null&&_.hasOwnProperty("tensorName")&&tt.uint32(10).string(_.tensorName),_.quantParameterTensorNames!=null&&_.quantParameterTensorNames.length)for(var nt=0;nt<_.quantParameterTensorNames.length;++nt)at.onnx.StringStringEntryProto.encode(_.quantParameterTensorNames[nt],tt.uint32(18).fork()).ldelim();return tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.TensorAnnotation;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.tensorName=_.string();break;case 2:st.quantParameterTensorNames&&st.quantParameterTensorNames.length||(st.quantParameterTensorNames=[]),st.quantParameterTensorNames.push(at.onnx.StringStringEntryProto.decode(_,_.uint32()));break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.tensorName!=null&&_.hasOwnProperty("tensorName")&&!it.isString(_.tensorName))return"tensorName: string expected";if(_.quantParameterTensorNames!=null&&_.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(_.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var tt=0;tt<_.quantParameterTensorNames.length;++tt){var nt=at.onnx.StringStringEntryProto.verify(_.quantParameterTensorNames[tt]);if(nt)return"quantParameterTensorNames."+nt}}return null},j.fromObject=function(_){if(_ instanceof at.onnx.TensorAnnotation)return _;var tt=new at.onnx.TensorAnnotation;if(_.tensorName!=null&&(tt.tensorName=String(_.tensorName)),_.quantParameterTensorNames){if(!Array.isArray(_.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");tt.quantParameterTensorNames=[];for(var nt=0;nt<_.quantParameterTensorNames.length;++nt){if(typeof _.quantParameterTensorNames[nt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");tt.quantParameterTensorNames[nt]=at.onnx.StringStringEntryProto.fromObject(_.quantParameterTensorNames[nt])}}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.quantParameterTensorNames=[]),tt.defaults&&(nt.tensorName=""),_.tensorName!=null&&_.hasOwnProperty("tensorName")&&(nt.tensorName=_.tensorName),_.quantParameterTensorNames&&_.quantParameterTensorNames.length){nt.quantParameterTensorNames=[];for(var st=0;st<_.quantParameterTensorNames.length;++st)nt.quantParameterTensorNames[st]=at.onnx.StringStringEntryProto.toObject(_.quantParameterTensorNames[st],tt)}return nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.GraphProto=function(){function j(_){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.node=it.emptyArray,j.prototype.name="",j.prototype.initializer=it.emptyArray,j.prototype.docString="",j.prototype.input=it.emptyArray,j.prototype.output=it.emptyArray,j.prototype.valueInfo=it.emptyArray,j.prototype.quantizationAnnotation=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.node!=null&&_.node.length)for(var nt=0;nt<_.node.length;++nt)at.onnx.NodeProto.encode(_.node[nt],tt.uint32(10).fork()).ldelim();if(_.name!=null&&_.hasOwnProperty("name")&&tt.uint32(18).string(_.name),_.initializer!=null&&_.initializer.length)for(nt=0;nt<_.initializer.length;++nt)at.onnx.TensorProto.encode(_.initializer[nt],tt.uint32(42).fork()).ldelim();if(_.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(82).string(_.docString),_.input!=null&&_.input.length)for(nt=0;nt<_.input.length;++nt)at.onnx.ValueInfoProto.encode(_.input[nt],tt.uint32(90).fork()).ldelim();if(_.output!=null&&_.output.length)for(nt=0;nt<_.output.length;++nt)at.onnx.ValueInfoProto.encode(_.output[nt],tt.uint32(98).fork()).ldelim();if(_.valueInfo!=null&&_.valueInfo.length)for(nt=0;nt<_.valueInfo.length;++nt)at.onnx.ValueInfoProto.encode(_.valueInfo[nt],tt.uint32(106).fork()).ldelim();if(_.quantizationAnnotation!=null&&_.quantizationAnnotation.length)for(nt=0;nt<_.quantizationAnnotation.length;++nt)at.onnx.TensorAnnotation.encode(_.quantizationAnnotation[nt],tt.uint32(114).fork()).ldelim();return tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.GraphProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.node&&st.node.length||(st.node=[]),st.node.push(at.onnx.NodeProto.decode(_,_.uint32()));break;case 2:st.name=_.string();break;case 5:st.initializer&&st.initializer.length||(st.initializer=[]),st.initializer.push(at.onnx.TensorProto.decode(_,_.uint32()));break;case 10:st.docString=_.string();break;case 11:st.input&&st.input.length||(st.input=[]),st.input.push(at.onnx.ValueInfoProto.decode(_,_.uint32()));break;case 12:st.output&&st.output.length||(st.output=[]),st.output.push(at.onnx.ValueInfoProto.decode(_,_.uint32()));break;case 13:st.valueInfo&&st.valueInfo.length||(st.valueInfo=[]),st.valueInfo.push(at.onnx.ValueInfoProto.decode(_,_.uint32()));break;case 14:st.quantizationAnnotation&&st.quantizationAnnotation.length||(st.quantizationAnnotation=[]),st.quantizationAnnotation.push(at.onnx.TensorAnnotation.decode(_,_.uint32()));break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.node!=null&&_.hasOwnProperty("node")){if(!Array.isArray(_.node))return"node: array expected";for(var tt=0;tt<_.node.length;++tt)if(nt=at.onnx.NodeProto.verify(_.node[tt]))return"node."+nt}if(_.name!=null&&_.hasOwnProperty("name")&&!it.isString(_.name))return"name: string expected";if(_.initializer!=null&&_.hasOwnProperty("initializer")){if(!Array.isArray(_.initializer))return"initializer: array expected";for(tt=0;tt<_.initializer.length;++tt)if(nt=at.onnx.TensorProto.verify(_.initializer[tt]))return"initializer."+nt}if(_.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString))return"docString: string expected";if(_.input!=null&&_.hasOwnProperty("input")){if(!Array.isArray(_.input))return"input: array expected";for(tt=0;tt<_.input.length;++tt)if(nt=at.onnx.ValueInfoProto.verify(_.input[tt]))return"input."+nt}if(_.output!=null&&_.hasOwnProperty("output")){if(!Array.isArray(_.output))return"output: array expected";for(tt=0;tt<_.output.length;++tt)if(nt=at.onnx.ValueInfoProto.verify(_.output[tt]))return"output."+nt}if(_.valueInfo!=null&&_.hasOwnProperty("valueInfo")){if(!Array.isArray(_.valueInfo))return"valueInfo: array expected";for(tt=0;tt<_.valueInfo.length;++tt)if(nt=at.onnx.ValueInfoProto.verify(_.valueInfo[tt]))return"valueInfo."+nt}if(_.quantizationAnnotation!=null&&_.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(_.quantizationAnnotation))return"quantizationAnnotation: array expected";for(tt=0;tt<_.quantizationAnnotation.length;++tt){var nt;if(nt=at.onnx.TensorAnnotation.verify(_.quantizationAnnotation[tt]))return"quantizationAnnotation."+nt}}return null},j.fromObject=function(_){if(_ instanceof at.onnx.GraphProto)return _;var tt=new at.onnx.GraphProto;if(_.node){if(!Array.isArray(_.node))throw TypeError(".onnx.GraphProto.node: array expected");tt.node=[];for(var nt=0;nt<_.node.length;++nt){if(typeof _.node[nt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");tt.node[nt]=at.onnx.NodeProto.fromObject(_.node[nt])}}if(_.name!=null&&(tt.name=String(_.name)),_.initializer){if(!Array.isArray(_.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(tt.initializer=[],nt=0;nt<_.initializer.length;++nt){if(typeof _.initializer[nt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");tt.initializer[nt]=at.onnx.TensorProto.fromObject(_.initializer[nt])}}if(_.docString!=null&&(tt.docString=String(_.docString)),_.input){if(!Array.isArray(_.input))throw TypeError(".onnx.GraphProto.input: array expected");for(tt.input=[],nt=0;nt<_.input.length;++nt){if(typeof _.input[nt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");tt.input[nt]=at.onnx.ValueInfoProto.fromObject(_.input[nt])}}if(_.output){if(!Array.isArray(_.output))throw TypeError(".onnx.GraphProto.output: array expected");for(tt.output=[],nt=0;nt<_.output.length;++nt){if(typeof _.output[nt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");tt.output[nt]=at.onnx.ValueInfoProto.fromObject(_.output[nt])}}if(_.valueInfo){if(!Array.isArray(_.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(tt.valueInfo=[],nt=0;nt<_.valueInfo.length;++nt){if(typeof _.valueInfo[nt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");tt.valueInfo[nt]=at.onnx.ValueInfoProto.fromObject(_.valueInfo[nt])}}if(_.quantizationAnnotation){if(!Array.isArray(_.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(tt.quantizationAnnotation=[],nt=0;nt<_.quantizationAnnotation.length;++nt){if(typeof _.quantizationAnnotation[nt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");tt.quantizationAnnotation[nt]=at.onnx.TensorAnnotation.fromObject(_.quantizationAnnotation[nt])}}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.node=[],nt.initializer=[],nt.input=[],nt.output=[],nt.valueInfo=[],nt.quantizationAnnotation=[]),tt.defaults&&(nt.name="",nt.docString=""),_.node&&_.node.length){nt.node=[];for(var st=0;st<_.node.length;++st)nt.node[st]=at.onnx.NodeProto.toObject(_.node[st],tt)}if(_.name!=null&&_.hasOwnProperty("name")&&(nt.name=_.name),_.initializer&&_.initializer.length)for(nt.initializer=[],st=0;st<_.initializer.length;++st)nt.initializer[st]=at.onnx.TensorProto.toObject(_.initializer[st],tt);if(_.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),_.input&&_.input.length)for(nt.input=[],st=0;st<_.input.length;++st)nt.input[st]=at.onnx.ValueInfoProto.toObject(_.input[st],tt);if(_.output&&_.output.length)for(nt.output=[],st=0;st<_.output.length;++st)nt.output[st]=at.onnx.ValueInfoProto.toObject(_.output[st],tt);if(_.valueInfo&&_.valueInfo.length)for(nt.valueInfo=[],st=0;st<_.valueInfo.length;++st)nt.valueInfo[st]=at.onnx.ValueInfoProto.toObject(_.valueInfo[st],tt);if(_.quantizationAnnotation&&_.quantizationAnnotation.length)for(nt.quantizationAnnotation=[],st=0;st<_.quantizationAnnotation.length;++st)nt.quantizationAnnotation[st]=at.onnx.TensorAnnotation.toObject(_.quantizationAnnotation[st],tt);return nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et.TensorProto=function(){function j(_){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.dims=it.emptyArray,j.prototype.dataType=0,j.prototype.segment=null,j.prototype.floatData=it.emptyArray,j.prototype.int32Data=it.emptyArray,j.prototype.stringData=it.emptyArray,j.prototype.int64Data=it.emptyArray,j.prototype.name="",j.prototype.docString="",j.prototype.rawData=it.newBuffer([]),j.prototype.externalData=it.emptyArray,j.prototype.dataLocation=0,j.prototype.doubleData=it.emptyArray,j.prototype.uint64Data=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.dims!=null&&_.dims.length){tt.uint32(10).fork();for(var nt=0;nt<_.dims.length;++nt)tt.int64(_.dims[nt]);tt.ldelim()}if(_.dataType!=null&&_.hasOwnProperty("dataType")&&tt.uint32(16).int32(_.dataType),_.segment!=null&&_.hasOwnProperty("segment")&&at.onnx.TensorProto.Segment.encode(_.segment,tt.uint32(26).fork()).ldelim(),_.floatData!=null&&_.floatData.length){for(tt.uint32(34).fork(),nt=0;nt<_.floatData.length;++nt)tt.float(_.floatData[nt]);tt.ldelim()}if(_.int32Data!=null&&_.int32Data.length){for(tt.uint32(42).fork(),nt=0;nt<_.int32Data.length;++nt)tt.int32(_.int32Data[nt]);tt.ldelim()}if(_.stringData!=null&&_.stringData.length)for(nt=0;nt<_.stringData.length;++nt)tt.uint32(50).bytes(_.stringData[nt]);if(_.int64Data!=null&&_.int64Data.length){for(tt.uint32(58).fork(),nt=0;nt<_.int64Data.length;++nt)tt.int64(_.int64Data[nt]);tt.ldelim()}if(_.name!=null&&_.hasOwnProperty("name")&&tt.uint32(66).string(_.name),_.rawData!=null&&_.hasOwnProperty("rawData")&&tt.uint32(74).bytes(_.rawData),_.doubleData!=null&&_.doubleData.length){for(tt.uint32(82).fork(),nt=0;nt<_.doubleData.length;++nt)tt.double(_.doubleData[nt]);tt.ldelim()}if(_.uint64Data!=null&&_.uint64Data.length){for(tt.uint32(90).fork(),nt=0;nt<_.uint64Data.length;++nt)tt.uint64(_.uint64Data[nt]);tt.ldelim()}if(_.docString!=null&&_.hasOwnProperty("docString")&&tt.uint32(98).string(_.docString),_.externalData!=null&&_.externalData.length)for(nt=0;nt<_.externalData.length;++nt)at.onnx.StringStringEntryProto.encode(_.externalData[nt],tt.uint32(106).fork()).ldelim();return _.dataLocation!=null&&_.hasOwnProperty("dataLocation")&&tt.uint32(112).int32(_.dataLocation),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.TensorProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:if(st.dims&&st.dims.length||(st.dims=[]),(7&dt)==2)for(var ft=_.uint32()+_.pos;_.pos<ft;)st.dims.push(_.int64());else st.dims.push(_.int64());break;case 2:st.dataType=_.int32();break;case 3:st.segment=at.onnx.TensorProto.Segment.decode(_,_.uint32());break;case 4:if(st.floatData&&st.floatData.length||(st.floatData=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.floatData.push(_.float());else st.floatData.push(_.float());break;case 5:if(st.int32Data&&st.int32Data.length||(st.int32Data=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.int32Data.push(_.int32());else st.int32Data.push(_.int32());break;case 6:st.stringData&&st.stringData.length||(st.stringData=[]),st.stringData.push(_.bytes());break;case 7:if(st.int64Data&&st.int64Data.length||(st.int64Data=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.int64Data.push(_.int64());else st.int64Data.push(_.int64());break;case 8:st.name=_.string();break;case 12:st.docString=_.string();break;case 9:st.rawData=_.bytes();break;case 13:st.externalData&&st.externalData.length||(st.externalData=[]),st.externalData.push(at.onnx.StringStringEntryProto.decode(_,_.uint32()));break;case 14:st.dataLocation=_.int32();break;case 10:if(st.doubleData&&st.doubleData.length||(st.doubleData=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.doubleData.push(_.double());else st.doubleData.push(_.double());break;case 11:if(st.uint64Data&&st.uint64Data.length||(st.uint64Data=[]),(7&dt)==2)for(ft=_.uint32()+_.pos;_.pos<ft;)st.uint64Data.push(_.uint64());else st.uint64Data.push(_.uint64());break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.dims!=null&&_.hasOwnProperty("dims")){if(!Array.isArray(_.dims))return"dims: array expected";for(var tt=0;tt<_.dims.length;++tt)if(!(it.isInteger(_.dims[tt])||_.dims[tt]&&it.isInteger(_.dims[tt].low)&&it.isInteger(_.dims[tt].high)))return"dims: integer|Long[] expected"}if(_.dataType!=null&&_.hasOwnProperty("dataType")&&!it.isInteger(_.dataType))return"dataType: integer expected";if(_.segment!=null&&_.hasOwnProperty("segment")&&(nt=at.onnx.TensorProto.Segment.verify(_.segment)))return"segment."+nt;if(_.floatData!=null&&_.hasOwnProperty("floatData")){if(!Array.isArray(_.floatData))return"floatData: array expected";for(tt=0;tt<_.floatData.length;++tt)if(typeof _.floatData[tt]!="number")return"floatData: number[] expected"}if(_.int32Data!=null&&_.hasOwnProperty("int32Data")){if(!Array.isArray(_.int32Data))return"int32Data: array expected";for(tt=0;tt<_.int32Data.length;++tt)if(!it.isInteger(_.int32Data[tt]))return"int32Data: integer[] expected"}if(_.stringData!=null&&_.hasOwnProperty("stringData")){if(!Array.isArray(_.stringData))return"stringData: array expected";for(tt=0;tt<_.stringData.length;++tt)if(!(_.stringData[tt]&&typeof _.stringData[tt].length=="number"||it.isString(_.stringData[tt])))return"stringData: buffer[] expected"}if(_.int64Data!=null&&_.hasOwnProperty("int64Data")){if(!Array.isArray(_.int64Data))return"int64Data: array expected";for(tt=0;tt<_.int64Data.length;++tt)if(!(it.isInteger(_.int64Data[tt])||_.int64Data[tt]&&it.isInteger(_.int64Data[tt].low)&&it.isInteger(_.int64Data[tt].high)))return"int64Data: integer|Long[] expected"}if(_.name!=null&&_.hasOwnProperty("name")&&!it.isString(_.name))return"name: string expected";if(_.docString!=null&&_.hasOwnProperty("docString")&&!it.isString(_.docString))return"docString: string expected";if(_.rawData!=null&&_.hasOwnProperty("rawData")&&!(_.rawData&&typeof _.rawData.length=="number"||it.isString(_.rawData)))return"rawData: buffer expected";if(_.externalData!=null&&_.hasOwnProperty("externalData")){if(!Array.isArray(_.externalData))return"externalData: array expected";for(tt=0;tt<_.externalData.length;++tt){var nt;if(nt=at.onnx.StringStringEntryProto.verify(_.externalData[tt]))return"externalData."+nt}}if(_.dataLocation!=null&&_.hasOwnProperty("dataLocation"))switch(_.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(_.doubleData!=null&&_.hasOwnProperty("doubleData")){if(!Array.isArray(_.doubleData))return"doubleData: array expected";for(tt=0;tt<_.doubleData.length;++tt)if(typeof _.doubleData[tt]!="number")return"doubleData: number[] expected"}if(_.uint64Data!=null&&_.hasOwnProperty("uint64Data")){if(!Array.isArray(_.uint64Data))return"uint64Data: array expected";for(tt=0;tt<_.uint64Data.length;++tt)if(!(it.isInteger(_.uint64Data[tt])||_.uint64Data[tt]&&it.isInteger(_.uint64Data[tt].low)&&it.isInteger(_.uint64Data[tt].high)))return"uint64Data: integer|Long[] expected"}return null},j.fromObject=function(_){if(_ instanceof at.onnx.TensorProto)return _;var tt=new at.onnx.TensorProto;if(_.dims){if(!Array.isArray(_.dims))throw TypeError(".onnx.TensorProto.dims: array expected");tt.dims=[];for(var nt=0;nt<_.dims.length;++nt)it.Long?(tt.dims[nt]=it.Long.fromValue(_.dims[nt])).unsigned=!1:typeof _.dims[nt]=="string"?tt.dims[nt]=parseInt(_.dims[nt],10):typeof _.dims[nt]=="number"?tt.dims[nt]=_.dims[nt]:typeof _.dims[nt]=="object"&&(tt.dims[nt]=new it.LongBits(_.dims[nt].low>>>0,_.dims[nt].high>>>0).toNumber())}if(_.dataType!=null&&(tt.dataType=0|_.dataType),_.segment!=null){if(typeof _.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");tt.segment=at.onnx.TensorProto.Segment.fromObject(_.segment)}if(_.floatData){if(!Array.isArray(_.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(tt.floatData=[],nt=0;nt<_.floatData.length;++nt)tt.floatData[nt]=Number(_.floatData[nt])}if(_.int32Data){if(!Array.isArray(_.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(tt.int32Data=[],nt=0;nt<_.int32Data.length;++nt)tt.int32Data[nt]=0|_.int32Data[nt]}if(_.stringData){if(!Array.isArray(_.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(tt.stringData=[],nt=0;nt<_.stringData.length;++nt)typeof _.stringData[nt]=="string"?it.base64.decode(_.stringData[nt],tt.stringData[nt]=it.newBuffer(it.base64.length(_.stringData[nt])),0):_.stringData[nt].length&&(tt.stringData[nt]=_.stringData[nt])}if(_.int64Data){if(!Array.isArray(_.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(tt.int64Data=[],nt=0;nt<_.int64Data.length;++nt)it.Long?(tt.int64Data[nt]=it.Long.fromValue(_.int64Data[nt])).unsigned=!1:typeof _.int64Data[nt]=="string"?tt.int64Data[nt]=parseInt(_.int64Data[nt],10):typeof _.int64Data[nt]=="number"?tt.int64Data[nt]=_.int64Data[nt]:typeof _.int64Data[nt]=="object"&&(tt.int64Data[nt]=new it.LongBits(_.int64Data[nt].low>>>0,_.int64Data[nt].high>>>0).toNumber())}if(_.name!=null&&(tt.name=String(_.name)),_.docString!=null&&(tt.docString=String(_.docString)),_.rawData!=null&&(typeof _.rawData=="string"?it.base64.decode(_.rawData,tt.rawData=it.newBuffer(it.base64.length(_.rawData)),0):_.rawData.length&&(tt.rawData=_.rawData)),_.externalData){if(!Array.isArray(_.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(tt.externalData=[],nt=0;nt<_.externalData.length;++nt){if(typeof _.externalData[nt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");tt.externalData[nt]=at.onnx.StringStringEntryProto.fromObject(_.externalData[nt])}}switch(_.dataLocation){case"DEFAULT":case 0:tt.dataLocation=0;break;case"EXTERNAL":case 1:tt.dataLocation=1}if(_.doubleData){if(!Array.isArray(_.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(tt.doubleData=[],nt=0;nt<_.doubleData.length;++nt)tt.doubleData[nt]=Number(_.doubleData[nt])}if(_.uint64Data){if(!Array.isArray(_.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(tt.uint64Data=[],nt=0;nt<_.uint64Data.length;++nt)it.Long?(tt.uint64Data[nt]=it.Long.fromValue(_.uint64Data[nt])).unsigned=!0:typeof _.uint64Data[nt]=="string"?tt.uint64Data[nt]=parseInt(_.uint64Data[nt],10):typeof _.uint64Data[nt]=="number"?tt.uint64Data[nt]=_.uint64Data[nt]:typeof _.uint64Data[nt]=="object"&&(tt.uint64Data[nt]=new it.LongBits(_.uint64Data[nt].low>>>0,_.uint64Data[nt].high>>>0).toNumber(!0))}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.dims=[],nt.floatData=[],nt.int32Data=[],nt.stringData=[],nt.int64Data=[],nt.doubleData=[],nt.uint64Data=[],nt.externalData=[]),tt.defaults&&(nt.dataType=0,nt.segment=null,nt.name="",tt.bytes===String?nt.rawData="":(nt.rawData=[],tt.bytes!==Array&&(nt.rawData=it.newBuffer(nt.rawData))),nt.docString="",nt.dataLocation=tt.enums===String?"DEFAULT":0),_.dims&&_.dims.length){nt.dims=[];for(var st=0;st<_.dims.length;++st)typeof _.dims[st]=="number"?nt.dims[st]=tt.longs===String?String(_.dims[st]):_.dims[st]:nt.dims[st]=tt.longs===String?it.Long.prototype.toString.call(_.dims[st]):tt.longs===Number?new it.LongBits(_.dims[st].low>>>0,_.dims[st].high>>>0).toNumber():_.dims[st]}if(_.dataType!=null&&_.hasOwnProperty("dataType")&&(nt.dataType=_.dataType),_.segment!=null&&_.hasOwnProperty("segment")&&(nt.segment=at.onnx.TensorProto.Segment.toObject(_.segment,tt)),_.floatData&&_.floatData.length)for(nt.floatData=[],st=0;st<_.floatData.length;++st)nt.floatData[st]=tt.json&&!isFinite(_.floatData[st])?String(_.floatData[st]):_.floatData[st];if(_.int32Data&&_.int32Data.length)for(nt.int32Data=[],st=0;st<_.int32Data.length;++st)nt.int32Data[st]=_.int32Data[st];if(_.stringData&&_.stringData.length)for(nt.stringData=[],st=0;st<_.stringData.length;++st)nt.stringData[st]=tt.bytes===String?it.base64.encode(_.stringData[st],0,_.stringData[st].length):tt.bytes===Array?Array.prototype.slice.call(_.stringData[st]):_.stringData[st];if(_.int64Data&&_.int64Data.length)for(nt.int64Data=[],st=0;st<_.int64Data.length;++st)typeof _.int64Data[st]=="number"?nt.int64Data[st]=tt.longs===String?String(_.int64Data[st]):_.int64Data[st]:nt.int64Data[st]=tt.longs===String?it.Long.prototype.toString.call(_.int64Data[st]):tt.longs===Number?new it.LongBits(_.int64Data[st].low>>>0,_.int64Data[st].high>>>0).toNumber():_.int64Data[st];if(_.name!=null&&_.hasOwnProperty("name")&&(nt.name=_.name),_.rawData!=null&&_.hasOwnProperty("rawData")&&(nt.rawData=tt.bytes===String?it.base64.encode(_.rawData,0,_.rawData.length):tt.bytes===Array?Array.prototype.slice.call(_.rawData):_.rawData),_.doubleData&&_.doubleData.length)for(nt.doubleData=[],st=0;st<_.doubleData.length;++st)nt.doubleData[st]=tt.json&&!isFinite(_.doubleData[st])?String(_.doubleData[st]):_.doubleData[st];if(_.uint64Data&&_.uint64Data.length)for(nt.uint64Data=[],st=0;st<_.uint64Data.length;++st)typeof _.uint64Data[st]=="number"?nt.uint64Data[st]=tt.longs===String?String(_.uint64Data[st]):_.uint64Data[st]:nt.uint64Data[st]=tt.longs===String?it.Long.prototype.toString.call(_.uint64Data[st]):tt.longs===Number?new it.LongBits(_.uint64Data[st].low>>>0,_.uint64Data[st].high>>>0).toNumber(!0):_.uint64Data[st];if(_.docString!=null&&_.hasOwnProperty("docString")&&(nt.docString=_.docString),_.externalData&&_.externalData.length)for(nt.externalData=[],st=0;st<_.externalData.length;++st)nt.externalData[st]=at.onnx.StringStringEntryProto.toObject(_.externalData[st],tt);return _.dataLocation!=null&&_.hasOwnProperty("dataLocation")&&(nt.dataLocation=tt.enums===String?at.onnx.TensorProto.DataLocation[_.dataLocation]:_.dataLocation),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j.DataType=function(){var _={},tt=Object.create(_);return tt[_[0]="UNDEFINED"]=0,tt[_[1]="FLOAT"]=1,tt[_[2]="UINT8"]=2,tt[_[3]="INT8"]=3,tt[_[4]="UINT16"]=4,tt[_[5]="INT16"]=5,tt[_[6]="INT32"]=6,tt[_[7]="INT64"]=7,tt[_[8]="STRING"]=8,tt[_[9]="BOOL"]=9,tt[_[10]="FLOAT16"]=10,tt[_[11]="DOUBLE"]=11,tt[_[12]="UINT32"]=12,tt[_[13]="UINT64"]=13,tt[_[14]="COMPLEX64"]=14,tt[_[15]="COMPLEX128"]=15,tt[_[16]="BFLOAT16"]=16,tt}(),j.Segment=function(){function _(tt){if(tt)for(var nt=Object.keys(tt),st=0;st<nt.length;++st)tt[nt[st]]!=null&&(this[nt[st]]=tt[nt[st]])}return _.prototype.begin=it.Long?it.Long.fromBits(0,0,!1):0,_.prototype.end=it.Long?it.Long.fromBits(0,0,!1):0,_.create=function(tt){return new _(tt)},_.encode=function(tt,nt){return nt||(nt=ot.create()),tt.begin!=null&&tt.hasOwnProperty("begin")&&nt.uint32(8).int64(tt.begin),tt.end!=null&&tt.hasOwnProperty("end")&&nt.uint32(16).int64(tt.end),nt},_.encodeDelimited=function(tt,nt){return this.encode(tt,nt).ldelim()},_.decode=function(tt,nt){tt instanceof rt||(tt=rt.create(tt));for(var st=nt===void 0?tt.len:tt.pos+nt,dt=new at.onnx.TensorProto.Segment;tt.pos<st;){var ft=tt.uint32();switch(ft>>>3){case 1:dt.begin=tt.int64();break;case 2:dt.end=tt.int64();break;default:tt.skipType(7&ft)}}return dt},_.decodeDelimited=function(tt){return tt instanceof rt||(tt=new rt(tt)),this.decode(tt,tt.uint32())},_.verify=function(tt){return typeof tt!="object"||tt===null?"object expected":tt.begin!=null&&tt.hasOwnProperty("begin")&&!(it.isInteger(tt.begin)||tt.begin&&it.isInteger(tt.begin.low)&&it.isInteger(tt.begin.high))?"begin: integer|Long expected":tt.end!=null&&tt.hasOwnProperty("end")&&!(it.isInteger(tt.end)||tt.end&&it.isInteger(tt.end.low)&&it.isInteger(tt.end.high))?"end: integer|Long expected":null},_.fromObject=function(tt){if(tt instanceof at.onnx.TensorProto.Segment)return tt;var nt=new at.onnx.TensorProto.Segment;return tt.begin!=null&&(it.Long?(nt.begin=it.Long.fromValue(tt.begin)).unsigned=!1:typeof tt.begin=="string"?nt.begin=parseInt(tt.begin,10):typeof tt.begin=="number"?nt.begin=tt.begin:typeof tt.begin=="object"&&(nt.begin=new it.LongBits(tt.begin.low>>>0,tt.begin.high>>>0).toNumber())),tt.end!=null&&(it.Long?(nt.end=it.Long.fromValue(tt.end)).unsigned=!1:typeof tt.end=="string"?nt.end=parseInt(tt.end,10):typeof tt.end=="number"?nt.end=tt.end:typeof tt.end=="object"&&(nt.end=new it.LongBits(tt.end.low>>>0,tt.end.high>>>0).toNumber())),nt},_.toObject=function(tt,nt){nt||(nt={});var st={};if(nt.defaults){if(it.Long){var dt=new it.Long(0,0,!1);st.begin=nt.longs===String?dt.toString():nt.longs===Number?dt.toNumber():dt}else st.begin=nt.longs===String?"0":0;it.Long?(dt=new it.Long(0,0,!1),st.end=nt.longs===String?dt.toString():nt.longs===Number?dt.toNumber():dt):st.end=nt.longs===String?"0":0}return tt.begin!=null&&tt.hasOwnProperty("begin")&&(typeof tt.begin=="number"?st.begin=nt.longs===String?String(tt.begin):tt.begin:st.begin=nt.longs===String?it.Long.prototype.toString.call(tt.begin):nt.longs===Number?new it.LongBits(tt.begin.low>>>0,tt.begin.high>>>0).toNumber():tt.begin),tt.end!=null&&tt.hasOwnProperty("end")&&(typeof tt.end=="number"?st.end=nt.longs===String?String(tt.end):tt.end:st.end=nt.longs===String?it.Long.prototype.toString.call(tt.end):nt.longs===Number?new it.LongBits(tt.end.low>>>0,tt.end.high>>>0).toNumber():tt.end),st},_.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},_}(),j.DataLocation=function(){var _={},tt=Object.create(_);return tt[_[0]="DEFAULT"]=0,tt[_[1]="EXTERNAL"]=1,tt}(),j}(),et.TensorShapeProto=function(){function j(_){if(this.dim=[],_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.dim=it.emptyArray,j.create=function(_){return new j(_)},j.encode=function(_,tt){if(tt||(tt=ot.create()),_.dim!=null&&_.dim.length)for(var nt=0;nt<_.dim.length;++nt)at.onnx.TensorShapeProto.Dimension.encode(_.dim[nt],tt.uint32(10).fork()).ldelim();return tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.TensorShapeProto;_.pos<nt;){var dt=_.uint32();dt>>>3==1?(st.dim&&st.dim.length||(st.dim=[]),st.dim.push(at.onnx.TensorShapeProto.Dimension.decode(_,_.uint32()))):_.skipType(7&dt)}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.dim!=null&&_.hasOwnProperty("dim")){if(!Array.isArray(_.dim))return"dim: array expected";for(var tt=0;tt<_.dim.length;++tt){var nt=at.onnx.TensorShapeProto.Dimension.verify(_.dim[tt]);if(nt)return"dim."+nt}}return null},j.fromObject=function(_){if(_ instanceof at.onnx.TensorShapeProto)return _;var tt=new at.onnx.TensorShapeProto;if(_.dim){if(!Array.isArray(_.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");tt.dim=[];for(var nt=0;nt<_.dim.length;++nt){if(typeof _.dim[nt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");tt.dim[nt]=at.onnx.TensorShapeProto.Dimension.fromObject(_.dim[nt])}}return tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if((tt.arrays||tt.defaults)&&(nt.dim=[]),_.dim&&_.dim.length){nt.dim=[];for(var st=0;st<_.dim.length;++st)nt.dim[st]=at.onnx.TensorShapeProto.Dimension.toObject(_.dim[st],tt)}return nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j.Dimension=function(){function _(nt){if(nt)for(var st=Object.keys(nt),dt=0;dt<st.length;++dt)nt[st[dt]]!=null&&(this[st[dt]]=nt[st[dt]])}var tt;return _.prototype.dimValue=it.Long?it.Long.fromBits(0,0,!1):0,_.prototype.dimParam="",_.prototype.denotation="",Object.defineProperty(_.prototype,"value",{get:it.oneOfGetter(tt=["dimValue","dimParam"]),set:it.oneOfSetter(tt)}),_.create=function(nt){return new _(nt)},_.encode=function(nt,st){return st||(st=ot.create()),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&st.uint32(8).int64(nt.dimValue),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&st.uint32(18).string(nt.dimParam),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&st.uint32(26).string(nt.denotation),st},_.encodeDelimited=function(nt,st){return this.encode(nt,st).ldelim()},_.decode=function(nt,st){nt instanceof rt||(nt=rt.create(nt));for(var dt=st===void 0?nt.len:nt.pos+st,ft=new at.onnx.TensorShapeProto.Dimension;nt.pos<dt;){var gt=nt.uint32();switch(gt>>>3){case 1:ft.dimValue=nt.int64();break;case 2:ft.dimParam=nt.string();break;case 3:ft.denotation=nt.string();break;default:nt.skipType(7&gt)}}return ft},_.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},_.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";var st={};if(nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(st.value=1,!(it.isInteger(nt.dimValue)||nt.dimValue&&it.isInteger(nt.dimValue.low)&&it.isInteger(nt.dimValue.high))))return"dimValue: integer|Long expected";if(nt.dimParam!=null&&nt.hasOwnProperty("dimParam")){if(st.value===1)return"value: multiple values";if(st.value=1,!it.isString(nt.dimParam))return"dimParam: string expected"}return nt.denotation!=null&&nt.hasOwnProperty("denotation")&&!it.isString(nt.denotation)?"denotation: string expected":null},_.fromObject=function(nt){if(nt instanceof at.onnx.TensorShapeProto.Dimension)return nt;var st=new at.onnx.TensorShapeProto.Dimension;return nt.dimValue!=null&&(it.Long?(st.dimValue=it.Long.fromValue(nt.dimValue)).unsigned=!1:typeof nt.dimValue=="string"?st.dimValue=parseInt(nt.dimValue,10):typeof nt.dimValue=="number"?st.dimValue=nt.dimValue:typeof nt.dimValue=="object"&&(st.dimValue=new it.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber())),nt.dimParam!=null&&(st.dimParam=String(nt.dimParam)),nt.denotation!=null&&(st.denotation=String(nt.denotation)),st},_.toObject=function(nt,st){st||(st={});var dt={};return st.defaults&&(dt.denotation=""),nt.dimValue!=null&&nt.hasOwnProperty("dimValue")&&(typeof nt.dimValue=="number"?dt.dimValue=st.longs===String?String(nt.dimValue):nt.dimValue:dt.dimValue=st.longs===String?it.Long.prototype.toString.call(nt.dimValue):st.longs===Number?new it.LongBits(nt.dimValue.low>>>0,nt.dimValue.high>>>0).toNumber():nt.dimValue,st.oneofs&&(dt.value="dimValue")),nt.dimParam!=null&&nt.hasOwnProperty("dimParam")&&(dt.dimParam=nt.dimParam,st.oneofs&&(dt.value="dimParam")),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&(dt.denotation=nt.denotation),dt},_.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},_}(),j}(),et.TypeProto=function(){function j(tt){if(tt)for(var nt=Object.keys(tt),st=0;st<nt.length;++st)tt[nt[st]]!=null&&(this[nt[st]]=tt[nt[st]])}var _;return j.prototype.tensorType=null,j.prototype.denotation="",Object.defineProperty(j.prototype,"value",{get:it.oneOfGetter(_=["tensorType"]),set:it.oneOfSetter(_)}),j.create=function(tt){return new j(tt)},j.encode=function(tt,nt){return nt||(nt=ot.create()),tt.tensorType!=null&&tt.hasOwnProperty("tensorType")&&at.onnx.TypeProto.Tensor.encode(tt.tensorType,nt.uint32(10).fork()).ldelim(),tt.denotation!=null&&tt.hasOwnProperty("denotation")&&nt.uint32(50).string(tt.denotation),nt},j.encodeDelimited=function(tt,nt){return this.encode(tt,nt).ldelim()},j.decode=function(tt,nt){tt instanceof rt||(tt=rt.create(tt));for(var st=nt===void 0?tt.len:tt.pos+nt,dt=new at.onnx.TypeProto;tt.pos<st;){var ft=tt.uint32();switch(ft>>>3){case 1:dt.tensorType=at.onnx.TypeProto.Tensor.decode(tt,tt.uint32());break;case 6:dt.denotation=tt.string();break;default:tt.skipType(7&ft)}}return dt},j.decodeDelimited=function(tt){return tt instanceof rt||(tt=new rt(tt)),this.decode(tt,tt.uint32())},j.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.tensorType!=null&&tt.hasOwnProperty("tensorType")){var nt=at.onnx.TypeProto.Tensor.verify(tt.tensorType);if(nt)return"tensorType."+nt}return tt.denotation!=null&&tt.hasOwnProperty("denotation")&&!it.isString(tt.denotation)?"denotation: string expected":null},j.fromObject=function(tt){if(tt instanceof at.onnx.TypeProto)return tt;var nt=new at.onnx.TypeProto;if(tt.tensorType!=null){if(typeof tt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");nt.tensorType=at.onnx.TypeProto.Tensor.fromObject(tt.tensorType)}return tt.denotation!=null&&(nt.denotation=String(tt.denotation)),nt},j.toObject=function(tt,nt){nt||(nt={});var st={};return nt.defaults&&(st.denotation=""),tt.tensorType!=null&&tt.hasOwnProperty("tensorType")&&(st.tensorType=at.onnx.TypeProto.Tensor.toObject(tt.tensorType,nt),nt.oneofs&&(st.value="tensorType")),tt.denotation!=null&&tt.hasOwnProperty("denotation")&&(st.denotation=tt.denotation),st},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j.Tensor=function(){function tt(nt){if(nt)for(var st=Object.keys(nt),dt=0;dt<st.length;++dt)nt[st[dt]]!=null&&(this[st[dt]]=nt[st[dt]])}return tt.prototype.elemType=0,tt.prototype.shape=null,tt.create=function(nt){return new tt(nt)},tt.encode=function(nt,st){return st||(st=ot.create()),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&st.uint32(8).int32(nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&at.onnx.TensorShapeProto.encode(nt.shape,st.uint32(18).fork()).ldelim(),st},tt.encodeDelimited=function(nt,st){return this.encode(nt,st).ldelim()},tt.decode=function(nt,st){nt instanceof rt||(nt=rt.create(nt));for(var dt=st===void 0?nt.len:nt.pos+st,ft=new at.onnx.TypeProto.Tensor;nt.pos<dt;){var gt=nt.uint32();switch(gt>>>3){case 1:ft.elemType=nt.int32();break;case 2:ft.shape=at.onnx.TensorShapeProto.decode(nt,nt.uint32());break;default:nt.skipType(7&gt)}}return ft},tt.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},tt.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";if(nt.elemType!=null&&nt.hasOwnProperty("elemType")&&!it.isInteger(nt.elemType))return"elemType: integer expected";if(nt.shape!=null&&nt.hasOwnProperty("shape")){var st=at.onnx.TensorShapeProto.verify(nt.shape);if(st)return"shape."+st}return null},tt.fromObject=function(nt){if(nt instanceof at.onnx.TypeProto.Tensor)return nt;var st=new at.onnx.TypeProto.Tensor;if(nt.elemType!=null&&(st.elemType=0|nt.elemType),nt.shape!=null){if(typeof nt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");st.shape=at.onnx.TensorShapeProto.fromObject(nt.shape)}return st},tt.toObject=function(nt,st){st||(st={});var dt={};return st.defaults&&(dt.elemType=0,dt.shape=null),nt.elemType!=null&&nt.hasOwnProperty("elemType")&&(dt.elemType=nt.elemType),nt.shape!=null&&nt.hasOwnProperty("shape")&&(dt.shape=at.onnx.TensorShapeProto.toObject(nt.shape,st)),dt},tt.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},tt}(),j}(),et.OperatorSetIdProto=function(){function j(_){if(_)for(var tt=Object.keys(_),nt=0;nt<tt.length;++nt)_[tt[nt]]!=null&&(this[tt[nt]]=_[tt[nt]])}return j.prototype.domain="",j.prototype.version=it.Long?it.Long.fromBits(0,0,!1):0,j.create=function(_){return new j(_)},j.encode=function(_,tt){return tt||(tt=ot.create()),_.domain!=null&&_.hasOwnProperty("domain")&&tt.uint32(10).string(_.domain),_.version!=null&&_.hasOwnProperty("version")&&tt.uint32(16).int64(_.version),tt},j.encodeDelimited=function(_,tt){return this.encode(_,tt).ldelim()},j.decode=function(_,tt){_ instanceof rt||(_=rt.create(_));for(var nt=tt===void 0?_.len:_.pos+tt,st=new at.onnx.OperatorSetIdProto;_.pos<nt;){var dt=_.uint32();switch(dt>>>3){case 1:st.domain=_.string();break;case 2:st.version=_.int64();break;default:_.skipType(7&dt)}}return st},j.decodeDelimited=function(_){return _ instanceof rt||(_=new rt(_)),this.decode(_,_.uint32())},j.verify=function(_){return typeof _!="object"||_===null?"object expected":_.domain!=null&&_.hasOwnProperty("domain")&&!it.isString(_.domain)?"domain: string expected":_.version!=null&&_.hasOwnProperty("version")&&!(it.isInteger(_.version)||_.version&&it.isInteger(_.version.low)&&it.isInteger(_.version.high))?"version: integer|Long expected":null},j.fromObject=function(_){if(_ instanceof at.onnx.OperatorSetIdProto)return _;var tt=new at.onnx.OperatorSetIdProto;return _.domain!=null&&(tt.domain=String(_.domain)),_.version!=null&&(it.Long?(tt.version=it.Long.fromValue(_.version)).unsigned=!1:typeof _.version=="string"?tt.version=parseInt(_.version,10):typeof _.version=="number"?tt.version=_.version:typeof _.version=="object"&&(tt.version=new it.LongBits(_.version.low>>>0,_.version.high>>>0).toNumber())),tt},j.toObject=function(_,tt){tt||(tt={});var nt={};if(tt.defaults)if(nt.domain="",it.Long){var st=new it.Long(0,0,!1);nt.version=tt.longs===String?st.toString():tt.longs===Number?st.toNumber():st}else nt.version=tt.longs===String?"0":0;return _.domain!=null&&_.hasOwnProperty("domain")&&(nt.domain=_.domain),_.version!=null&&_.hasOwnProperty("version")&&(typeof _.version=="number"?nt.version=tt.longs===String?String(_.version):_.version:nt.version=tt.longs===String?it.Long.prototype.toString.call(_.version):tt.longs===Number?new it.LongBits(_.version.low>>>0,_.version.high>>>0).toNumber():_.version),nt},j.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},j}(),et),o.exports=at},2100:(o,i,a)=>{o.exports=a(9482)},9482:(o,i,a)=>{var s=i;function $(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}s.build="minimal",s.Writer=a(1173),s.BufferWriter=a(3155),s.Reader=a(1408),s.BufferReader=a(593),s.util=a(9693),s.rpc=a(5994),s.roots=a(5054),s.configure=$,$()},1408:(o,i,a)=>{o.exports=ot;var s,$=a(9693),et=$.LongBits,_e=$.utf8;function rt(st,dt){return RangeError("index out of range: "+st.pos+" + "+(dt||1)+" > "+st.len)}function ot(st){this.buf=st,this.pos=0,this.len=st.length}var it,at=typeof Uint8Array<"u"?function(st){if(st instanceof Uint8Array||Array.isArray(st))return new ot(st);throw Error("illegal buffer")}:function(st){if(Array.isArray(st))return new ot(st);throw Error("illegal buffer")},j=function(){return $.Buffer?function(st){return(ot.create=function(dt){return $.Buffer.isBuffer(dt)?new s(dt):at(dt)})(st)}:at};function _(){var st=new et(0,0),dt=0;if(!(this.len-this.pos>4)){for(;dt<3;++dt){if(this.pos>=this.len)throw rt(this);if(st.lo=(st.lo|(127&this.buf[this.pos])<<7*dt)>>>0,this.buf[this.pos++]<128)return st}return st.lo=(st.lo|(127&this.buf[this.pos++])<<7*dt)>>>0,st}for(;dt<4;++dt)if(st.lo=(st.lo|(127&this.buf[this.pos])<<7*dt)>>>0,this.buf[this.pos++]<128)return st;if(st.lo=(st.lo|(127&this.buf[this.pos])<<28)>>>0,st.hi=(st.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return st;if(dt=0,this.len-this.pos>4){for(;dt<5;++dt)if(st.hi=(st.hi|(127&this.buf[this.pos])<<7*dt+3)>>>0,this.buf[this.pos++]<128)return st}else for(;dt<5;++dt){if(this.pos>=this.len)throw rt(this);if(st.hi=(st.hi|(127&this.buf[this.pos])<<7*dt+3)>>>0,this.buf[this.pos++]<128)return st}throw Error("invalid varint encoding")}function tt(st,dt){return(st[dt-4]|st[dt-3]<<8|st[dt-2]<<16|st[dt-1]<<24)>>>0}function nt(){if(this.pos+8>this.len)throw rt(this,8);return new et(tt(this.buf,this.pos+=4),tt(this.buf,this.pos+=4))}ot.create=j(),ot.prototype._slice=$.Array.prototype.subarray||$.Array.prototype.slice,ot.prototype.uint32=(it=4294967295,function(){if(it=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(it=(it|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(it=(it|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return it;if((this.pos+=5)>this.len)throw this.pos=this.len,rt(this,10);return it}),ot.prototype.int32=function(){return 0|this.uint32()},ot.prototype.sint32=function(){var st=this.uint32();return st>>>1^-(1&st)|0},ot.prototype.bool=function(){return this.uint32()!==0},ot.prototype.fixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return tt(this.buf,this.pos+=4)},ot.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return 0|tt(this.buf,this.pos+=4)},ot.prototype.float=function(){if(this.pos+4>this.len)throw rt(this,4);var st=$.float.readFloatLE(this.buf,this.pos);return this.pos+=4,st},ot.prototype.double=function(){if(this.pos+8>this.len)throw rt(this,4);var st=$.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,st},ot.prototype.bytes=function(){var st=this.uint32(),dt=this.pos,ft=this.pos+st;if(ft>this.len)throw rt(this,st);return this.pos+=st,Array.isArray(this.buf)?this.buf.slice(dt,ft):dt===ft?new this.buf.constructor(0):this._slice.call(this.buf,dt,ft)},ot.prototype.string=function(){var st=this.bytes();return _e.read(st,0,st.length)},ot.prototype.skip=function(st){if(typeof st=="number"){if(this.pos+st>this.len)throw rt(this,st);this.pos+=st}else do if(this.pos>=this.len)throw rt(this);while(128&this.buf[this.pos++]);return this},ot.prototype.skipType=function(st){switch(st){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(st=7&this.uint32())!=4;)this.skipType(st);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+st+" at offset "+this.pos)}return this},ot._configure=function(st){s=st,ot.create=j(),s._configure();var dt=$.Long?"toLong":"toNumber";$.merge(ot.prototype,{int64:function(){return _.call(this)[dt](!1)},uint64:function(){return _.call(this)[dt](!0)},sint64:function(){return _.call(this).zzDecode()[dt](!1)},fixed64:function(){return nt.call(this)[dt](!0)},sfixed64:function(){return nt.call(this)[dt](!1)}})}},593:(o,i,a)=>{o.exports=et;var s=a(1408);(et.prototype=Object.create(s.prototype)).constructor=et;var $=a(9693);function et(_e){s.call(this,_e)}et._configure=function(){$.Buffer&&(et.prototype._slice=$.Buffer.prototype.slice)},et.prototype.string=function(){var _e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+_e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+_e,this.len))},et._configure()},5054:o=>{o.exports={}},5994:(o,i,a)=>{i.Service=a(7948)},7948:(o,i,a)=>{o.exports=$;var s=a(9693);function $(et,_e,rt){if(typeof et!="function")throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=et,this.requestDelimited=!!_e,this.responseDelimited=!!rt}($.prototype=Object.create(s.EventEmitter.prototype)).constructor=$,$.prototype.rpcCall=function et(_e,rt,ot,it,at){if(!it)throw TypeError("request must be specified");var j=this;if(!at)return s.asPromise(et,j,_e,rt,ot,it);if(j.rpcImpl)try{return j.rpcImpl(_e,rt[j.requestDelimited?"encodeDelimited":"encode"](it).finish(),function(_,tt){if(_)return j.emit("error",_,_e),at(_);if(tt!==null){if(!(tt instanceof ot))try{tt=ot[j.responseDelimited?"decodeDelimited":"decode"](tt)}catch(nt){return j.emit("error",nt,_e),at(nt)}return j.emit("data",tt,_e),at(null,tt)}j.end(!0)})}catch(_){return j.emit("error",_,_e),void setTimeout(function(){at(_)},0)}else setTimeout(function(){at(Error("already ended"))},0)},$.prototype.end=function(et){return this.rpcImpl&&(et||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,i,a)=>{o.exports=$;var s=a(9693);function $(ot,it){this.lo=ot>>>0,this.hi=it>>>0}var et=$.zero=new $(0,0);et.toNumber=function(){return 0},et.zzEncode=et.zzDecode=function(){return this},et.length=function(){return 1};var _e=$.zeroHash="\0\0\0\0\0\0\0\0";$.fromNumber=function(ot){if(ot===0)return et;var it=ot<0;it&&(ot=-ot);var at=ot>>>0,j=(ot-at)/4294967296>>>0;return it&&(j=~j>>>0,at=~at>>>0,++at>4294967295&&(at=0,++j>4294967295&&(j=0))),new $(at,j)},$.from=function(ot){if(typeof ot=="number")return $.fromNumber(ot);if(s.isString(ot)){if(!s.Long)return $.fromNumber(parseInt(ot,10));ot=s.Long.fromString(ot)}return ot.low||ot.high?new $(ot.low>>>0,ot.high>>>0):et},$.prototype.toNumber=function(ot){if(!ot&&this.hi>>>31){var it=1+~this.lo>>>0,at=~this.hi>>>0;return it||(at=at+1>>>0),-(it+4294967296*at)}return this.lo+4294967296*this.hi},$.prototype.toLong=function(ot){return s.Long?new s.Long(0|this.lo,0|this.hi,!!ot):{low:0|this.lo,high:0|this.hi,unsigned:!!ot}};var rt=String.prototype.charCodeAt;$.fromHash=function(ot){return ot===_e?et:new $((rt.call(ot,0)|rt.call(ot,1)<<8|rt.call(ot,2)<<16|rt.call(ot,3)<<24)>>>0,(rt.call(ot,4)|rt.call(ot,5)<<8|rt.call(ot,6)<<16|rt.call(ot,7)<<24)>>>0)},$.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},$.prototype.zzEncode=function(){var ot=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ot)>>>0,this.lo=(this.lo<<1^ot)>>>0,this},$.prototype.zzDecode=function(){var ot=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^ot)>>>0,this.hi=(this.hi>>>1^ot)>>>0,this},$.prototype.length=function(){var ot=this.lo,it=(this.lo>>>28|this.hi<<4)>>>0,at=this.hi>>>24;return at===0?it===0?ot<16384?ot<128?1:2:ot<2097152?3:4:it<16384?it<128?5:6:it<2097152?7:8:at<128?9:10}},9693:function(o,i,a){var s=i;function $(_e,rt,ot){for(var it=Object.keys(rt),at=0;at<it.length;++at)_e[it[at]]!==void 0&&ot||(_e[it[at]]=rt[it[at]]);return _e}function et(_e){function rt(ot,it){if(!(this instanceof rt))return new rt(ot,it);Object.defineProperty(this,"message",{get:function(){return ot}}),Error.captureStackTrace?Error.captureStackTrace(this,rt):Object.defineProperty(this,"stack",{value:new Error().stack||""}),it&&$(this,it)}return(rt.prototype=Object.create(Error.prototype)).constructor=rt,Object.defineProperty(rt.prototype,"name",{get:function(){return _e}}),rt.prototype.toString=function(){return this.name+": "+this.message},rt}s.asPromise=a(4537),s.base64=a(7419),s.EventEmitter=a(9211),s.float=a(945),s.inquire=a(7199),s.utf8=a(4997),s.pool=a(6662),s.LongBits=a(1945),s.isNode=!!(a.g!==void 0&&a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),s.global=s.isNode&&a.g||typeof window<"u"&&window||typeof self<"u"&&self||this,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(_e){return typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e},s.isString=function(_e){return typeof _e=="string"||_e instanceof String},s.isObject=function(_e){return _e&&typeof _e=="object"},s.isset=s.isSet=function(_e,rt){var ot=_e[rt];return!(ot==null||!_e.hasOwnProperty(rt))&&(typeof ot!="object"||(Array.isArray(ot)?ot.length:Object.keys(ot).length)>0)},s.Buffer=function(){try{var _e=s.inquire("buffer").Buffer;return _e.prototype.utf8Write?_e:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(_e){return typeof _e=="number"?s.Buffer?s._Buffer_allocUnsafe(_e):new s.Array(_e):s.Buffer?s._Buffer_from(_e):typeof Uint8Array>"u"?_e:new Uint8Array(_e)},s.Array=typeof Uint8Array<"u"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(_e){return _e?s.LongBits.from(_e).toHash():s.LongBits.zeroHash},s.longFromHash=function(_e,rt){var ot=s.LongBits.fromHash(_e);return s.Long?s.Long.fromBits(ot.lo,ot.hi,rt):ot.toNumber(!!rt)},s.merge=$,s.lcFirst=function(_e){return _e.charAt(0).toLowerCase()+_e.substring(1)},s.newError=et,s.ProtocolError=et("ProtocolError"),s.oneOfGetter=function(_e){for(var rt={},ot=0;ot<_e.length;++ot)rt[_e[ot]]=1;return function(){for(var it=Object.keys(this),at=it.length-1;at>-1;--at)if(rt[it[at]]===1&&this[it[at]]!==void 0&&this[it[at]]!==null)return it[at]}},s.oneOfSetter=function(_e){return function(rt){for(var ot=0;ot<_e.length;++ot)_e[ot]!==rt&&delete this[_e[ot]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var _e=s.Buffer;_e?(s._Buffer_from=_e.from!==Uint8Array.from&&_e.from||function(rt,ot){return new _e(rt,ot)},s._Buffer_allocUnsafe=_e.allocUnsafe||function(rt){return new _e(rt)}):s._Buffer_from=s._Buffer_allocUnsafe=null}},1173:(o,i,a)=>{o.exports=j;var s,$=a(9693),et=$.LongBits,_e=$.base64,rt=$.utf8;function ot(gt,pt,mt){this.fn=gt,this.len=pt,this.next=void 0,this.val=mt}function it(){}function at(gt){this.head=gt.head,this.tail=gt.tail,this.len=gt.len,this.next=gt.states}function j(){this.len=0,this.head=new ot(it,0,0),this.tail=this.head,this.states=null}var _=function(){return $.Buffer?function(){return(j.create=function(){return new s})()}:function(){return new j}};function tt(gt,pt,mt){pt[mt]=255&gt}function nt(gt,pt){this.len=gt,this.next=void 0,this.val=pt}function st(gt,pt,mt){for(;gt.hi;)pt[mt++]=127&gt.lo|128,gt.lo=(gt.lo>>>7|gt.hi<<25)>>>0,gt.hi>>>=7;for(;gt.lo>127;)pt[mt++]=127&gt.lo|128,gt.lo=gt.lo>>>7;pt[mt++]=gt.lo}function dt(gt,pt,mt){pt[mt]=255&gt,pt[mt+1]=gt>>>8&255,pt[mt+2]=gt>>>16&255,pt[mt+3]=gt>>>24}j.create=_(),j.alloc=function(gt){return new $.Array(gt)},$.Array!==Array&&(j.alloc=$.pool(j.alloc,$.Array.prototype.subarray)),j.prototype._push=function(gt,pt,mt){return this.tail=this.tail.next=new ot(gt,pt,mt),this.len+=pt,this},nt.prototype=Object.create(ot.prototype),nt.prototype.fn=function(gt,pt,mt){for(;gt>127;)pt[mt++]=127&gt|128,gt>>>=7;pt[mt]=gt},j.prototype.uint32=function(gt){return this.len+=(this.tail=this.tail.next=new nt((gt>>>=0)<128?1:gt<16384?2:gt<2097152?3:gt<268435456?4:5,gt)).len,this},j.prototype.int32=function(gt){return gt<0?this._push(st,10,et.fromNumber(gt)):this.uint32(gt)},j.prototype.sint32=function(gt){return this.uint32((gt<<1^gt>>31)>>>0)},j.prototype.uint64=function(gt){var pt=et.from(gt);return this._push(st,pt.length(),pt)},j.prototype.int64=j.prototype.uint64,j.prototype.sint64=function(gt){var pt=et.from(gt).zzEncode();return this._push(st,pt.length(),pt)},j.prototype.bool=function(gt){return this._push(tt,1,gt?1:0)},j.prototype.fixed32=function(gt){return this._push(dt,4,gt>>>0)},j.prototype.sfixed32=j.prototype.fixed32,j.prototype.fixed64=function(gt){var pt=et.from(gt);return this._push(dt,4,pt.lo)._push(dt,4,pt.hi)},j.prototype.sfixed64=j.prototype.fixed64,j.prototype.float=function(gt){return this._push($.float.writeFloatLE,4,gt)},j.prototype.double=function(gt){return this._push($.float.writeDoubleLE,8,gt)};var ft=$.Array.prototype.set?function(gt,pt,mt){pt.set(gt,mt)}:function(gt,pt,mt){for(var vt=0;vt<gt.length;++vt)pt[mt+vt]=gt[vt]};j.prototype.bytes=function(gt){var pt=gt.length>>>0;if(!pt)return this._push(tt,1,0);if($.isString(gt)){var mt=j.alloc(pt=_e.length(gt));_e.decode(gt,mt,0),gt=mt}return this.uint32(pt)._push(ft,pt,gt)},j.prototype.string=function(gt){var pt=rt.length(gt);return pt?this.uint32(pt)._push(rt.write,pt,gt):this._push(tt,1,0)},j.prototype.fork=function(){return this.states=new at(this),this.head=this.tail=new ot(it,0,0),this.len=0,this},j.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ot(it,0,0),this.len=0),this},j.prototype.ldelim=function(){var gt=this.head,pt=this.tail,mt=this.len;return this.reset().uint32(mt),mt&&(this.tail.next=gt.next,this.tail=pt,this.len+=mt),this},j.prototype.finish=function(){for(var gt=this.head.next,pt=this.constructor.alloc(this.len),mt=0;gt;)gt.fn(gt.val,pt,mt),mt+=gt.len,gt=gt.next;return pt},j._configure=function(gt){s=gt,j.create=_(),s._configure()}},3155:(o,i,a)=>{o.exports=et;var s=a(1173);(et.prototype=Object.create(s.prototype)).constructor=et;var $=a(9693);function et(){s.call(this)}function _e(rt,ot,it){rt.length<40?$.utf8.write(rt,ot,it):ot.utf8Write?ot.utf8Write(rt,it):ot.write(rt,it)}et._configure=function(){et.alloc=$._Buffer_allocUnsafe,et.writeBytesBuffer=$.Buffer&&$.Buffer.prototype instanceof Uint8Array&&$.Buffer.prototype.set.name==="set"?function(rt,ot,it){ot.set(rt,it)}:function(rt,ot,it){if(rt.copy)rt.copy(ot,it,0,rt.length);else for(var at=0;at<rt.length;)ot[it++]=rt[at++]}},et.prototype.bytes=function(rt){$.isString(rt)&&(rt=$._Buffer_from(rt,"base64"));var ot=rt.length>>>0;return this.uint32(ot),ot&&this._push(et.writeBytesBuffer,ot,rt),this},et.prototype.string=function(rt){var ot=$.Buffer.byteLength(rt);return this.uint32(ot),ot&&this._push(_e,ot,rt),this},et._configure()},4154:o=>{o.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(o,i,a)=>{a.r(i),a.d(i,{flatbuffers:()=>s});var s={};s.Offset,s.Table,s.SIZEOF_SHORT=2,s.SIZEOF_INT=4,s.FILE_IDENTIFIER_LENGTH=4,s.SIZE_PREFIX_LENGTH=4,s.Encoding={UTF8_BYTES:1,UTF16_STRING:2},s.int32=new Int32Array(2),s.float32=new Float32Array(s.int32.buffer),s.float64=new Float64Array(s.int32.buffer),s.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,s.Long=function($,et){this.low=0|$,this.high=0|et},s.Long.create=function($,et){return $==0&&et==0?s.Long.ZERO:new s.Long($,et)},s.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},s.Long.prototype.equals=function($){return this.low==$.low&&this.high==$.high},s.Long.ZERO=new s.Long(0,0),s.Builder=function($){if($)et=$;else var et=1024;this.bb=s.ByteBuffer.allocate(et),this.space=et,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.forceDefaults=function($){this.force_defaults=$},s.Builder.prototype.dataBuffer=function(){return this.bb},s.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},s.Builder.prototype.prep=function($,et){$>this.minalign&&(this.minalign=$);for(var _e=1+~(this.bb.capacity()-this.space+et)&$-1;this.space<_e+$+et;){var rt=this.bb.capacity();this.bb=s.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-rt}this.pad(_e)},s.Builder.prototype.pad=function($){for(var et=0;et<$;et++)this.bb.writeInt8(--this.space,0)},s.Builder.prototype.writeInt8=function($){this.bb.writeInt8(this.space-=1,$)},s.Builder.prototype.writeInt16=function($){this.bb.writeInt16(this.space-=2,$)},s.Builder.prototype.writeInt32=function($){this.bb.writeInt32(this.space-=4,$)},s.Builder.prototype.writeInt64=function($){this.bb.writeInt64(this.space-=8,$)},s.Builder.prototype.writeFloat32=function($){this.bb.writeFloat32(this.space-=4,$)},s.Builder.prototype.writeFloat64=function($){this.bb.writeFloat64(this.space-=8,$)},s.Builder.prototype.addInt8=function($){this.prep(1,0),this.writeInt8($)},s.Builder.prototype.addInt16=function($){this.prep(2,0),this.writeInt16($)},s.Builder.prototype.addInt32=function($){this.prep(4,0),this.writeInt32($)},s.Builder.prototype.addInt64=function($){this.prep(8,0),this.writeInt64($)},s.Builder.prototype.addFloat32=function($){this.prep(4,0),this.writeFloat32($)},s.Builder.prototype.addFloat64=function($){this.prep(8,0),this.writeFloat64($)},s.Builder.prototype.addFieldInt8=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addInt8(et),this.slot($))},s.Builder.prototype.addFieldInt16=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addInt16(et),this.slot($))},s.Builder.prototype.addFieldInt32=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addInt32(et),this.slot($))},s.Builder.prototype.addFieldInt64=function($,et,_e){!this.force_defaults&&et.equals(_e)||(this.addInt64(et),this.slot($))},s.Builder.prototype.addFieldFloat32=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addFloat32(et),this.slot($))},s.Builder.prototype.addFieldFloat64=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addFloat64(et),this.slot($))},s.Builder.prototype.addFieldOffset=function($,et,_e){(this.force_defaults||et!=_e)&&(this.addOffset(et),this.slot($))},s.Builder.prototype.addFieldStruct=function($,et,_e){et!=_e&&(this.nested(et),this.slot($))},s.Builder.prototype.nested=function($){if($!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},s.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},s.Builder.prototype.slot=function($){this.vtable[$]=this.offset()},s.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},s.Builder.growByteBuffer=function($){var et=$.capacity();if(3221225472&et)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var _e=et<<1,rt=s.ByteBuffer.allocate(_e);return rt.setPosition(_e-et),rt.bytes().set($.bytes(),_e-et),rt},s.Builder.prototype.addOffset=function($){this.prep(s.SIZEOF_INT,0),this.writeInt32(this.offset()-$+s.SIZEOF_INT)},s.Builder.prototype.startObject=function($){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=$;for(var et=0;et<$;et++)this.vtable[et]=0;this.isNested=!0,this.object_start=this.offset()},s.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var $=this.offset(),et=this.vtable_in_use-1;et>=0&&this.vtable[et]==0;et--);for(var _e=et+1;et>=0;et--)this.addInt16(this.vtable[et]!=0?$-this.vtable[et]:0);this.addInt16($-this.object_start);var rt=(_e+2)*s.SIZEOF_SHORT;this.addInt16(rt);var ot=0,it=this.space;e:for(et=0;et<this.vtables.length;et++){var at=this.bb.capacity()-this.vtables[et];if(rt==this.bb.readInt16(at)){for(var j=s.SIZEOF_SHORT;j<rt;j+=s.SIZEOF_SHORT)if(this.bb.readInt16(it+j)!=this.bb.readInt16(at+j))continue e;ot=this.vtables[et];break}}return ot?(this.space=this.bb.capacity()-$,this.bb.writeInt32(this.space,ot-$)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-$,this.offset()-$)),this.isNested=!1,$},s.Builder.prototype.finish=function($,et,_e){var rt=_e?s.SIZE_PREFIX_LENGTH:0;if(et){var ot=et;if(this.prep(this.minalign,s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH+rt),ot.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var it=s.FILE_IDENTIFIER_LENGTH-1;it>=0;it--)this.writeInt8(ot.charCodeAt(it))}this.prep(this.minalign,s.SIZEOF_INT+rt),this.addOffset($),rt&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},s.Builder.prototype.finishSizePrefixed=function($,et){this.finish($,et,!0)},s.Builder.prototype.requiredField=function($,et){var _e=this.bb.capacity()-$,rt=_e-this.bb.readInt32(_e);if(this.bb.readInt16(rt+et)==0)throw new Error("FlatBuffers: field "+et+" must be set")},s.Builder.prototype.startVector=function($,et,_e){this.notNested(),this.vector_num_elems=et,this.prep(s.SIZEOF_INT,$*et),this.prep(_e,$*et)},s.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},s.Builder.prototype.createString=function($){if($ instanceof Uint8Array)var et=$;else{et=[];for(var _e=0;_e<$.length;){var rt,ot=$.charCodeAt(_e++);(rt=ot<55296||ot>=56320?ot:(ot<<10)+$.charCodeAt(_e++)+-56613888)<128?et.push(rt):(rt<2048?et.push(rt>>6&31|192):(rt<65536?et.push(rt>>12&15|224):et.push(rt>>18&7|240,rt>>12&63|128),et.push(rt>>6&63|128)),et.push(63&rt|128))}}this.addInt8(0),this.startVector(1,et.length,1),this.bb.setPosition(this.space-=et.length),_e=0;for(var it=this.space,at=this.bb.bytes();_e<et.length;_e++)at[it++]=et[_e];return this.endVector()},s.Builder.prototype.createLong=function($,et){return s.Long.create($,et)},s.ByteBuffer=function($){this.bytes_=$,this.position_=0},s.ByteBuffer.allocate=function($){return new s.ByteBuffer(new Uint8Array($))},s.ByteBuffer.prototype.clear=function(){this.position_=0},s.ByteBuffer.prototype.bytes=function(){return this.bytes_},s.ByteBuffer.prototype.position=function(){return this.position_},s.ByteBuffer.prototype.setPosition=function($){this.position_=$},s.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},s.ByteBuffer.prototype.readInt8=function($){return this.readUint8($)<<24>>24},s.ByteBuffer.prototype.readUint8=function($){return this.bytes_[$]},s.ByteBuffer.prototype.readInt16=function($){return this.readUint16($)<<16>>16},s.ByteBuffer.prototype.readUint16=function($){return this.bytes_[$]|this.bytes_[$+1]<<8},s.ByteBuffer.prototype.readInt32=function($){return this.bytes_[$]|this.bytes_[$+1]<<8|this.bytes_[$+2]<<16|this.bytes_[$+3]<<24},s.ByteBuffer.prototype.readUint32=function($){return this.readInt32($)>>>0},s.ByteBuffer.prototype.readInt64=function($){return new s.Long(this.readInt32($),this.readInt32($+4))},s.ByteBuffer.prototype.readUint64=function($){return new s.Long(this.readUint32($),this.readUint32($+4))},s.ByteBuffer.prototype.readFloat32=function($){return s.int32[0]=this.readInt32($),s.float32[0]},s.ByteBuffer.prototype.readFloat64=function($){return s.int32[s.isLittleEndian?0:1]=this.readInt32($),s.int32[s.isLittleEndian?1:0]=this.readInt32($+4),s.float64[0]},s.ByteBuffer.prototype.writeInt8=function($,et){this.bytes_[$]=et},s.ByteBuffer.prototype.writeUint8=function($,et){this.bytes_[$]=et},s.ByteBuffer.prototype.writeInt16=function($,et){this.bytes_[$]=et,this.bytes_[$+1]=et>>8},s.ByteBuffer.prototype.writeUint16=function($,et){this.bytes_[$]=et,this.bytes_[$+1]=et>>8},s.ByteBuffer.prototype.writeInt32=function($,et){this.bytes_[$]=et,this.bytes_[$+1]=et>>8,this.bytes_[$+2]=et>>16,this.bytes_[$+3]=et>>24},s.ByteBuffer.prototype.writeUint32=function($,et){this.bytes_[$]=et,this.bytes_[$+1]=et>>8,this.bytes_[$+2]=et>>16,this.bytes_[$+3]=et>>24},s.ByteBuffer.prototype.writeInt64=function($,et){this.writeInt32($,et.low),this.writeInt32($+4,et.high)},s.ByteBuffer.prototype.writeUint64=function($,et){this.writeUint32($,et.low),this.writeUint32($+4,et.high)},s.ByteBuffer.prototype.writeFloat32=function($,et){s.float32[0]=et,this.writeInt32($,s.int32[0])},s.ByteBuffer.prototype.writeFloat64=function($,et){s.float64[0]=et,this.writeInt32($,s.int32[s.isLittleEndian?0:1]),this.writeInt32($+4,s.int32[s.isLittleEndian?1:0])},s.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var $="",et=0;et<s.FILE_IDENTIFIER_LENGTH;et++)$+=String.fromCharCode(this.readInt8(this.position_+s.SIZEOF_INT+et));return $},s.ByteBuffer.prototype.__offset=function($,et){var _e=$-this.readInt32($);return et<this.readInt16(_e)?this.readInt16(_e+et):0},s.ByteBuffer.prototype.__union=function($,et){return $.bb_pos=et+this.readInt32(et),$.bb=this,$},s.ByteBuffer.prototype.__string=function($,et){$+=this.readInt32($);var _e=this.readInt32($),rt="",ot=0;if($+=s.SIZEOF_INT,et===s.Encoding.UTF8_BYTES)return this.bytes_.subarray($,$+_e);for(;ot<_e;){var it,at=this.readUint8($+ot++);if(at<192)it=at;else{var j=this.readUint8($+ot++);if(at<224)it=(31&at)<<6|63&j;else{var _=this.readUint8($+ot++);it=at<240?(15&at)<<12|(63&j)<<6|63&_:(7&at)<<18|(63&j)<<12|(63&_)<<6|63&this.readUint8($+ot++)}}it<65536?rt+=String.fromCharCode(it):(it-=65536,rt+=String.fromCharCode(55296+(it>>10),56320+(1023&it)))}return rt},s.ByteBuffer.prototype.__indirect=function($){return $+this.readInt32($)},s.ByteBuffer.prototype.__vector=function($){return $+this.readInt32($)+s.SIZEOF_INT},s.ByteBuffer.prototype.__vector_len=function($){return this.readInt32($+this.readInt32($))},s.ByteBuffer.prototype.__has_identifier=function($){if($.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var et=0;et<s.FILE_IDENTIFIER_LENGTH;et++)if($.charCodeAt(et)!=this.readInt8(this.position_+s.SIZEOF_INT+et))return!1;return!0},s.ByteBuffer.prototype.createLong=function($,et){return s.Long.create($,et)}}},__webpack_module_cache__={};function __webpack_require__(o){var i=__webpack_module_cache__[o];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(i,{a:i}),i},__webpack_require__.d=(o,i)=>{for(var a in i)__webpack_require__.o(i,a)&&!__webpack_require__.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:i[a]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,lzString={exports:{}};lzString.exports;(function(o){var i=function(){var a=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",et={};function _e(ot,it){if(!et[ot]){et[ot]={};for(var at=0;at<ot.length;at++)et[ot][ot.charAt(at)]=at}return et[ot][it]}var rt={compressToBase64:function(ot){if(ot==null)return"";var it=rt._compress(ot,6,function(at){return s.charAt(at)});switch(it.length%4){default:case 0:return it;case 1:return it+"===";case 2:return it+"==";case 3:return it+"="}},decompressFromBase64:function(ot){return ot==null?"":ot==""?null:rt._decompress(ot.length,32,function(it){return _e(s,ot.charAt(it))})},compressToUTF16:function(ot){return ot==null?"":rt._compress(ot,15,function(it){return a(it+32)})+" "},decompressFromUTF16:function(ot){return ot==null?"":ot==""?null:rt._decompress(ot.length,16384,function(it){return ot.charCodeAt(it)-32})},compressToUint8Array:function(ot){for(var it=rt.compress(ot),at=new Uint8Array(it.length*2),j=0,_=it.length;j<_;j++){var tt=it.charCodeAt(j);at[j*2]=tt>>>8,at[j*2+1]=tt%256}return at},decompressFromUint8Array:function(ot){if(ot==null)return rt.decompress(ot);for(var it=new Array(ot.length/2),at=0,j=it.length;at<j;at++)it[at]=ot[at*2]*256+ot[at*2+1];var _=[];return it.forEach(function(tt){_.push(a(tt))}),rt.decompress(_.join(""))},compressToEncodedURIComponent:function(ot){return ot==null?"":rt._compress(ot,6,function(it){return $.charAt(it)})},decompressFromEncodedURIComponent:function(ot){return ot==null?"":ot==""?null:(ot=ot.replace(/ /g,"+"),rt._decompress(ot.length,32,function(it){return _e($,ot.charAt(it))}))},compress:function(ot){return rt._compress(ot,16,function(it){return a(it)})},_compress:function(ot,it,at){if(ot==null)return"";var j,_,tt={},nt={},st="",dt="",ft="",gt=2,pt=3,mt=2,vt=[],yt=0,xt=0,wt;for(wt=0;wt<ot.length;wt+=1)if(st=ot.charAt(wt),Object.prototype.hasOwnProperty.call(tt,st)||(tt[st]=pt++,nt[st]=!0),dt=ft+st,Object.prototype.hasOwnProperty.call(tt,dt))ft=dt;else{if(Object.prototype.hasOwnProperty.call(nt,ft)){if(ft.charCodeAt(0)<256){for(j=0;j<mt;j++)yt=yt<<1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++;for(_=ft.charCodeAt(0),j=0;j<8;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1}else{for(_=1,j=0;j<mt;j++)yt=yt<<1|_,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=0;for(_=ft.charCodeAt(0),j=0;j<16;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1}gt--,gt==0&&(gt=Math.pow(2,mt),mt++),delete nt[ft]}else for(_=tt[ft],j=0;j<mt;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1;gt--,gt==0&&(gt=Math.pow(2,mt),mt++),tt[dt]=pt++,ft=String(st)}if(ft!==""){if(Object.prototype.hasOwnProperty.call(nt,ft)){if(ft.charCodeAt(0)<256){for(j=0;j<mt;j++)yt=yt<<1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++;for(_=ft.charCodeAt(0),j=0;j<8;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1}else{for(_=1,j=0;j<mt;j++)yt=yt<<1|_,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=0;for(_=ft.charCodeAt(0),j=0;j<16;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1}gt--,gt==0&&(gt=Math.pow(2,mt),mt++),delete nt[ft]}else for(_=tt[ft],j=0;j<mt;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1;gt--,gt==0&&(gt=Math.pow(2,mt),mt++)}for(_=2,j=0;j<mt;j++)yt=yt<<1|_&1,xt==it-1?(xt=0,vt.push(at(yt)),yt=0):xt++,_=_>>1;for(;;)if(yt=yt<<1,xt==it-1){vt.push(at(yt));break}else xt++;return vt.join("")},decompress:function(ot){return ot==null?"":ot==""?null:rt._decompress(ot.length,32768,function(it){return ot.charCodeAt(it)})},_decompress:function(ot,it,at){var j=[],_=4,tt=4,nt=3,st="",dt=[],ft,gt,pt,mt,vt,yt,xt,wt={val:at(0),position:it,index:1};for(ft=0;ft<3;ft+=1)j[ft]=ft;for(pt=0,vt=Math.pow(2,2),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;switch(pt){case 0:for(pt=0,vt=Math.pow(2,8),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;xt=a(pt);break;case 1:for(pt=0,vt=Math.pow(2,16),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;xt=a(pt);break;case 2:return""}for(j[3]=xt,gt=xt,dt.push(xt);;){if(wt.index>ot)return"";for(pt=0,vt=Math.pow(2,nt),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;switch(xt=pt){case 0:for(pt=0,vt=Math.pow(2,8),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;j[tt++]=a(pt),xt=tt-1,_--;break;case 1:for(pt=0,vt=Math.pow(2,16),yt=1;yt!=vt;)mt=wt.val&wt.position,wt.position>>=1,wt.position==0&&(wt.position=it,wt.val=at(wt.index++)),pt|=(mt>0?1:0)*yt,yt<<=1;j[tt++]=a(pt),xt=tt-1,_--;break;case 2:return dt.join("")}if(_==0&&(_=Math.pow(2,nt),nt++),j[xt])st=j[xt];else if(xt===tt)st=gt+gt.charAt(0);else return null;dt.push(st),j[tt++]=gt+st.charAt(0),_--,gt=st,_==0&&(_=Math.pow(2,nt),nt++)}}};return rt}();o!=null?o.exports=i:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return i})})(lzString);var lzStringExports=lzString.exports;const LZString=getDefaultExportFromCjs(lzStringExports);var clickType=(o=>(o[o.POSITIVE=1]="POSITIVE",o[o.NEGATIVE=0]="NEGATIVE",o[o.UPPER_LEFT=2]="UPPER_LEFT",o[o.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",o))(clickType||{});const API_ENDPOINT="https://model-zoo.metademolab.com/predictions/segment_everything_box_model",ALL_MASK_API_ENDPOINT="https://model-zoo.metademolab.com/predictions/automatic_masks",ERASE_API_ENDPOINT="/gallery",setParmsandQueryModel=({width:o,height:i,uploadScale:a,imgData:s,handleSegModelResults:$,handleAllModelResults:et,imgName:_e,shouldDownload:rt,shouldNotFetchAllModel:ot})=>{const it=document.createElement("canvas");it.width=Math.round(o*a),it.height=Math.round(i*a);const at=it.getContext("2d");at&&(at.drawImage(s,0,0,it.width,it.height),it.toBlob(j=>{j&&queryModelReturnTensors({blob:j,handleSegModelResults:$,handleAllModelResults:et,image_height:it.height,imgName:_e,shouldDownload:rt,shouldNotFetchAllModel:ot})},"image/jpeg",1))},queryModelReturnTensors=async({blob:o,handleSegModelResults:i,handleAllModelResults:a,image_height:s,imgName:$,shouldDownload:et,shouldNotFetchAllModel:_e})=>{if(console.log("-----"),console.log(API_ENDPOINT),console.log(ALL_MASK_API_ENDPOINT),console.log(ERASE_API_ENDPOINT),($&&!et?fetch(`/gallery/${$}.txt`):fetch(`${API_ENDPOINT}`,{method:"POST",body:o})).then(async ot=>{if(et){const tt=await ot.clone().blob();downloadBlob(tt,$)}const at=(await ot.json()).map(_=>{const tt=window.atob(_),nt=new Uint8Array(tt.length);for(let dt=0;dt<tt.length;dt++)nt[dt]=tt.charCodeAt(dt);return new Float32Array(nt.buffer)}),j=new ort_minExports.Tensor("float32",at[0],[1,256,64,64]);i({tensor:j})}),!_e){const ot=$+".all",it=$&&!et?fetch(`/gallery/${ot}.txt`):fetch(`${ALL_MASK_API_ENDPOINT}`,{method:"POST",body:o});it.then(async at=>{if(et){const tt=await at.clone().blob();downloadBlob(tt,ot)}const j=await at.json();a({allJSON:j,image_height:s})}),it.catch(at=>console.log(at))}},downloadBlob=(o,i)=>{const a=new Blob([o]),s=document.createElement("a");s.download=i+".txt",s.href=URL.createObjectURL(a),document.body.appendChild(s),s.click(),document.body.removeChild(s)},getPointsFromBox=o=>{if(o.width===null||o.height===null)return;const i={x:o.x,y:o.y},a={x:o.width,y:o.height};return{upperLeft:i,bottomRight:a}},isFirstClick=o=>o.length===1&&(o[0].clickType===clickType.POSITIVE||o[0].clickType===clickType.NEGATIVE)||o.length===2&&o.every(i=>i.clickType===clickType.UPPER_LEFT||i.clickType===clickType.BOTTOM_RIGHT),modelData=({clicks:o,tensor:i,modelScale:a,last_pred_mask:s})=>{const $=i;let et,_e,rt,ot;if(o){let _=o.length;const tt=o[0].clickType===2?2:0;if(et=new Float32Array(2*(_+1)),_e=new Float32Array(_+1),tt){et=new Float32Array(2*(_+tt)),_e=new Float32Array(_+tt);const{upperLeft:nt,bottomRight:st}=getPointsFromBox(o[0]);et=new Float32Array(2*(_+tt)),_e=new Float32Array(_+tt),et[0]=nt.x/a.onnxScale,et[1]=nt.y/a.onnxScale,_e[0]=2,et[2]=st.x/a.onnxScale,et[3]=st.y/a.onnxScale,_e[1]=3,s=null}for(let nt=0;nt<_;nt++)et[2*(nt+tt)]=o[nt].x/a.onnxScale,et[2*(nt+tt)+1]=o[nt].y/a.onnxScale,_e[nt+tt]=o[nt].clickType;tt||(et[2*_]=0,et[2*_+1]=0,_e[_]=-1,_=_+1),rt=new ort_minExports.Tensor("float32",et,[1,_+tt,2]),ot=new ort_minExports.Tensor("float32",_e,[1,_+tt])}const it=new ort_minExports.Tensor("float32",[a.maskHeight,a.maskWidth]);if(rt===void 0||ot===void 0)return;const at=s&&o&&!isFirstClick(o)?s:new ort_minExports.Tensor("float32",new Float32Array(256*256),[1,1,256,256]),j=new ort_minExports.Tensor("float32",[+!!(s&&o&&!isFirstClick(o))]);return{low_res_embedding:$,point_coords:rt,point_labels:ot,image_size:it,last_pred_mask:at,has_last_pred:j}},splitPointKey=o=>o.split(" ").map(i=>parseInt(i)),getLineBreakpoints=(o,i)=>{const a=[],s={line:-1,points:[]};let $=0;const et=()=>{s.points.length>0&&(a.push({line:s.line,points:s.points}),s.points=[])};for(let _e=1;_e<o.length;_e+=2){$+=o[_e-1];const rt=$%i,ot=Math.floor($/i);$+=o[_e];const it=$%i,at=Math.floor($/i);if(s.line!==ot&&(et(),s.line=ot),ot===at){s.points.push(rt,it);continue}s.points.push(rt,i),et(),s.line=at;for(let j=ot+1;j<at;j++)a.push({line:j,points:[0,i]});it>0&&s.points.push(0,it)}return et(),a},generatePolygonSegments=(o,i)=>{const a=getLineBreakpoints(o,i);if(a.length===0)return new Map;const s=new Map;let $=-1,et=[];const _e=new Map,rt=(_,tt)=>{const nt=`${_.x} ${_.y}`,st=`${tt.x} ${tt.y}`;s.has(nt)||s.set(nt,new Set),s.get(nt).add(st),s.has(st)||s.set(st,new Set),s.get(st).add(nt)},ot=(_,tt)=>{tt!==_e.get(_)&&(rt({x:_e.get(_),y:_},{x:tt,y:_}),_e.delete(_))},it=(_,tt,nt,st)=>{if(tt===st){_e.has(tt)||_e.set(tt,_);return}let dt=!1;const ft=Math.max(_,nt);_e.has(tt)&&(ot(tt,ft),dt=!0),_e.has(st)&&(ot(st,ft),dt=!0),dt?rt({x:ft,y:tt},{x:ft,y:st}):rt({x:_,y:tt},{x:nt,y:st})},at=(_,tt)=>{for(const nt of tt)it(_,nt,_+1,nt);for(let nt=1;nt<tt.length;nt+=2)it(_+1,tt[nt-1],_+1,tt[nt])};for(const{line:_,points:tt}of a){_!==$+1&&(at($,et),$=_-1,et=[]);let nt=et.length&&et[0]<=tt[0]?$:_,st=nt===$?et[0]:tt[0],dt=nt===$?1:0,ft=nt===$?0:1,gt=!0;for(;dt<et.length||ft<tt.length;){let pt,mt;dt===et.length||tt[ft]<et[dt]?(pt=_,mt=tt[ft],ft++):(pt=$,mt=et[dt],dt++),gt&&(nt===$&&pt===$?(it($,st,_,st),it($,mt,_,mt),it(_,st,_,mt)):it(nt,st,pt,mt)),gt=!gt,nt=pt,st=mt}$=_,et=tt}return at($,et),new Map([...s].sort((_,tt)=>{const[nt,st]=splitPointKey(_[0]),[dt,ft]=splitPointKey(tt[0]);return nt===dt?st-ft:nt-dt}))},convertSegmentsToSVG=o=>{const i=[];for(;o.size;){let[_e,rt]=o.entries().next().value;const ot=_e,it=[splitPointKey(ot)];let at=null;for(;at!==ot;){at=rt.values().next().value,it.push(splitPointKey(at)),rt.delete(at),rt.size===0&&o.delete(_e);const j=o.get(at);if(j.delete(_e),j.size===0){o.delete(at);break}else _e=at,rt=j}i.push(it)}const a=[],s=[],et=document.createElement("canvas").getContext("2d");for(const _e of i){let rt=!1;const[ot,it]=_e[0];for(const tt of a)et.isPointInPath(tt,ot+.5,it+.5)&&(rt=!rt);rt&&_e.reverse();const at=_e.slice(1).map(([tt,nt])=>`${tt} ${nt}`).join(" "),j=`M${_e[0][0]} ${_e[0][1]} L`+at;s.push(j);const _=new Path2D(j);et.fill(_),a.push(_)}return s};function maskDataToFortranArrayToRle(o,i,a){const s=[];let $=0,et=!1;for(let _e=0;_e<a;_e++)for(let rt=0;rt<i;rt++){const ot=_e+rt*a;ot<o.length&&(o[ot]>0!==et?(s.push($),et=!et,$=1):$++)}return $>0&&s.push($),s}const traceRleToSVG=(o,i)=>{const a=generatePolygonSegments(o,i);return convertSegmentsToSVG(a)},getAllMasks=(o,i,a)=>{const s=[];for(let $=0;$<4;$++){const et=new Float32Array(i*a),_e=$*a*i;for(let rt=0;rt<i;rt++)for(let ot=0;ot<a;ot++){const it=rt*a+ot;it<a*i&&(et[it]=o[_e+it])}s.push(et)}return s};function areaUnderLine(o,i,a,s){if(o===a)return 0;const $=Math.min(i,s),et=(a-o)*$,_e=Math.max(i,s),rt=Math.trunc((a-o)*(_e-$)/2);return et+rt}function svgCoordToInt(o){return o.charAt(0)==="L"||o.charAt(0)==="M"?parseInt(o.slice(1)):parseInt(o)}function areaOfSVGPolygon(o){const i=o.split(" ");if(i.length<4||i.length%2!=0)return 0;let a=0,s=svgCoordToInt(i[i.length-2]),$=svgCoordToInt(i[i.length-1]);for(let et=0;et<i.length;et=et+2){const _e=svgCoordToInt(i[et]),rt=svgCoordToInt(i[et+1]);a=a+areaUnderLine(s,$,_e,rt),s=_e,$=rt}return a}function filterSmallSVGRegions(o,i=100){const a=o.filter(s=>Math.abs(areaOfSVGPolygon(s))>i);if(a.length===0){const s=o.map(et=>areaOfSVGPolygon(et)),$=s.indexOf(Math.max(...s));return[o[$]]}return a}const traceOnnxMaskToSVG=(o,i,a)=>{const s=maskDataToFortranArrayToRle(o,a,i);let $=traceRleToSVG(s,a);return $=filterSmallSVGRegions($),$},traceCompressedRLeStringToSVG=(o,i)=>{const a=rleFrString(o);let s=traceRleToSVG(a,i);return s=filterSmallSVGRegions(s),s},rleFrString=o=>{const i=[];let a=0;for(;a<o.length;){let s=0,$=0,et=1;for(;et;){const _e=o.charCodeAt(a)-48;s|=(_e&31)<<5*$,et=_e&32,a++,$++,!et&&_e&16&&(s|=-1<<5*$)}i.length>2&&(s+=i[i.length-2]),i.push(s)}return i};function toImageData(o,i,a){const[s,$,et,_e]=[0,114,189,255],rt=new Uint8ClampedArray(4*i*a).fill(0);for(let ot=0;ot<o.length;ot++)o[ot]>0&&(rt[4*ot+0]=s,rt[4*ot+1]=$,rt[4*ot+2]=et,rt[4*ot+3]=_e);return new ImageData(rt,a,i)}function imageDataToImage(o){const i=imageDataToCanvas(o),a=new Image;return a.src=i.toDataURL(),a}function imageDataToCanvas(o){const i=document.createElement("canvas"),a=i.getContext("2d");return i.width=o.width,i.height=o.height,a==null||a.putImageData(o,0,0),i}function rleToImage(o,i,a){return imageDataToImage(toImageData(o,i,a))}function keepArrayForMultiMask(o,i,a=.8,s=.9){let $=o.map(_e=>_e>a);const et=i.map(_e=>_e<s);if($=$.map((_e,rt)=>_e&&et[rt]),$.every(_e=>_e===!1)){const _e=o.indexOf(Math.max(...o));$[_e]=!0}return $}const handleImageScale=o=>{const s=o.naturalWidth,$=o.naturalHeight;let et,_e;return $<s?(et=500/$,$*et>1333&&(et=1333/$),_e=1024/s):(et=500/s,s*et>1333&&(et=1333/s),_e=1024/$),{height:$,width:s,scale:et,uploadScale:_e}},getFile=async o=>{const a=await(await fetch(o)).blob();return new File([a],"image.jpeg")},AppContext=reactExports.createContext(null),AppContextProvider=o=>{const[i,a]=reactExports.useState(null),[s,$]=reactExports.useState(null),[et,_e]=reactExports.useState(null),[rt,ot]=reactExports.useState(!1),[it,at]=reactExports.useState(null),[j,_]=reactExports.useState(null),[tt,nt]=reactExports.useState(!1),[st,dt]=reactExports.useState(!1),[ft,gt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(null),[vt,yt]=reactExports.useState(null),[xt,wt]=reactExports.useState(null),[St,Ct]=reactExports.useState({boxModel:!1,allModel:!1}),[At,$t]=reactExports.useState([]),[Rt,kt]=reactExports.useState(0),[Lt,Dt]=reactExports.useState("Click"),[Mt,Vt]=reactExports.useState(0),[Kt,Yt]=reactExports.useState(0),[Jt,ln]=reactExports.useState(null),[wn,_n]=reactExports.useState(null),[kn,Cn]=reactExports.useState(!1),[Ht,cn]=reactExports.useState(!1),[gn,jn]=reactExports.useState(!1),[xn,Bn]=reactExports.useState(!1),[Mn,Zn]=reactExports.useState(!1),[Fn,wr]=reactExports.useState(null),[Jn,dr]=reactExports.useState(!1),[or,Gn]=reactExports.useState({isErase:!1,isEmbedding:!1}),[rr,Qn]=reactExports.useState(!1),[ar,On]=reactExports.useState(null),[Nn,pr]=reactExports.useState(null),[lr,Tr]=reactExports.useState(null),[Br,jr]=reactExports.useState(!1),[Jr,Xn]=reactExports.useState(!1),[Ft,Bt]=reactExports.useState(null),[Gt,Qt]=reactExports.useState(null),[en,sn]=reactExports.useState(null),[un,hn]=reactExports.useState(!1),[Sn,$n]=reactExports.useState(null),[In,Ln]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const yr="https://lins-cdn.sensoro.com/lins-cdn/model/interactive_module_quantized_592547_2023_03_19_sam6_long_uncertain.onnx",_r=await ort_minExports.InferenceSession.create(yr);Bt(_r)}catch(yr){console.log(yr)}try{const yr="https://lins-cdn.sensoro.com/lins-cdn/model/interactive_module_quantized_592547_2023_03_20_sam6_long_all_masks_extra_data_with_ious.onnx",_r=await ort_minExports.InferenceSession.create(yr);Qt(_r)}catch(yr){console.log(yr)}})()},[]);const ir=fr=>{const yr=Array.from(fr.keys());return yr.sort((_r,er)=>fr[er]-fr[_r]),yr},rn=(fr,yr)=>{const _r=[];for(let er=0;er<yr.length;er++)_r.push(fr[yr[er]]);return _r},Hn=async()=>{console.log("Running singleMaskModel");try{if(Ft===null||s===null||en===null||In===null||gn)return;const fr=modelData({clicks:s,tensor:en,modelScale:In,last_pred_mask:ar});if(fr===void 0)return;const yr=await Ft.run(fr),_r=yr[Ft.outputNames[0]];if(un){const er=yr[Ft.outputNames[1]];On(er),lr||pr([...Nn||[],er]);const Rr=traceOnnxMaskToSVG(_r.data,_r.dims[1],_r.dims[0]);mt(Rr),$n(_r.data)}else ln(rleToImage(_r.data,_r.dims[0],_r.dims[1]));a(null),ot(!1),Ct(er=>({...er,boxModel:!0}))}catch{}},sr=async()=>{try{if(Gt===null||s===null||en===null||In===null||!un||gn)return;const fr=modelData({clicks:s,tensor:en,modelScale:In,last_pred_mask:null});if(fr===void 0)return;const yr=await Gt.run(fr),_r=yr.output,er=yr.areas.data,Rr=yr.uncertain_ious.data,Do=yr.ious.data,tr=getAllMasks(_r.data,_r.dims[2],_r.dims[1]),Eo=ir([Number(er[1]),Number(er[2]),Number(er[3])]);Eo.reverse();let Mo=rn([tr[1],tr[2],tr[3]],Eo),vo=rn([Rr[1],Rr[2],Rr[3]],Eo);const us=rn([Do[0],Do[1],Do[2]],Eo),nu=keepArrayForMultiMask(vo,us);Mo=Mo.filter((Vs,Cs)=>nu[Cs]),vo=vo.filter((Vs,Cs)=>nu[Cs]);const ru=Mo.map(Vs=>traceOnnxMaskToSVG(Vs,_r.dims[2],_r.dims[1]));yt(ru.reverse()),vo=vo.reverse();const xu=vo.indexOf(Math.max(...vo));mt(ru[xu]),a(null),ot(!1),Ct(Vs=>({...Vs,boxModel:!0}))}catch{}};reactExports.useEffect(()=>{(async()=>{Mn?un&&sr():Hn()})()},[s,un,Mn]);const Gr=reactExports.useCallback((fr=null)=>{if(ln(null),mt(null),$n(null),a(null),$(null),Ct({boxModel:!1,allModel:!1}),hn(!1),fr){at(fr);const{height:yr,width:_r,uploadScale:er}=handleImageScale(fr);setParmsandQueryModel({width:_r,height:yr,uploadScale:er,imgData:fr,handleSegModelResults:oo,handleAllModelResults:go,imgName:"",shouldDownload:!1,shouldNotFetchAllModel:!1})}},[]),Hr=async(fr,yr)=>{try{const _r=yr==null?void 0:yr.shouldNotFetchAllModel,er=yr==null?void 0:yr.shouldDownload;mo(),ot(!0),dr(!0);let Rr="";fr instanceof URL?Rr=fr.pathname:typeof fr=="string"&&(Rr=new URL(fr).pathname),Rr=Rr.substring(Rr.lastIndexOf("/")+1);const Do=fr instanceof File?fr:await getFile(fr),tr=new Image;tr.src=URL.createObjectURL(Do),tr.onload=()=>{Xn(!1);const{height:Eo,width:Mo,scale:vo,uploadScale:us}=handleImageScale(tr);Ln({onnxScale:vo/us,maskWidth:Mo*us,maskHeight:Eo*us,scale:vo,uploadScale:us,width:Mo,height:Eo}),tr.width=Math.round(Mo*vo),tr.height=Math.round(Eo*vo),at(tr),_(tr),dt(!1),setParmsandQueryModel({width:Mo,height:Eo,uploadScale:us,imgData:tr,handleSegModelResults:oo,handleAllModelResults:go,imgName:Rr,shouldDownload:er,shouldNotFetchAllModel:_r})}}catch(_r){console.log(_r)}},oo=({tensor:fr})=>{sn(fr),ot(!1),nt(!1),dr(!1),Gn({isErase:!1,isEmbedding:!1})},go=({allJSON:fr,image_height:yr})=>{const _r=fr.map(er=>{const Rr=LZString.decompressFromEncodedURIComponent(er.encodedMask);return{svg:traceCompressedRLeStringToSVG(Rr,yr),point_coord:er.point_coord}});wt(_r),Ct(er=>({...er,allModel:!0}))},mo=reactExports.useCallback(()=>{ln(null),hn(!1),a(null),$(null),mt(null),yt(null),wt(null),sn(null),at(null),_(null),On(null),dt(!1),dr(!1),Ct({boxModel:!1,allModel:!1}),Dt("Click"),ot(!1),Zn(!1),wr(null),pr(null)},[]);return jsxRuntimeExports.jsx(AppContext.Provider,{value:{click:[i,a],clicks:[s,$],clicksHistory:[et,_e],image:[it,at],prevImage:[j,_],error:[ft,gt],svg:[pt,mt],svgs:[vt,yt],allsvg:[xt,wt],stickers:[At,$t],activeSticker:[Rt,kt],isModelLoaded:[St,Ct],segmentTypes:[Lt,Dt],isLoading:[rt,ot],isErasing:[tt,nt],isErased:[st,dt],canvasWidth:[Mt,Vt],canvasHeight:[Kt,Yt],maskImg:[Jt,ln],maskCanvas:[wn,_n],userNegClickBool:[kn,Cn],hasNegClicked:[Ht,cn],stickerTabBool:[gn,jn],enableDemo:[xn,Bn],isMultiMaskMode:[Mn,Zn],isHovering:[Fn,wr],showLoadingModal:[Jn,dr],eraserText:[or,Gn],didShowAMGAnimation:[rr,Qn],predMask:[ar,On],predMasks:[Nn,pr],predMasksHistory:[lr,Tr],isAllAnimationDone:[Br,jr],isToolBarUpload:[Jr,Xn],model:[Ft,Bt],multiMaskModel:[Gt,Qt],tensor:[en,sn],hasClicked:[un,hn],mask:[Sn,$n],modelScale:[In,Ln],handleResetState:mo,handleImage:Gr,handleSelectedImage:Hr},children:o.children})};function ratio({width:o,height:i}){return o/i}function round(o,i=0){const a=10**i;return Math.round((o+Number.EPSILON)*a)/a}function rankingFunctionComparator(o){return(i,a)=>o(a)-o(i)}class MinHeap{constructor(i){this.comparator=i,this.heap=[],this.n=0}greater(i,a){return this.comparator(this.heap[i],this.heap[a])<0}swap(i,a){const s=this.heap[i];this.heap[i]=this.heap[a],this.heap[a]=s}swim(i){let a=i,s=Math.floor(a/2);for(;a>1&&this.greater(s,a);)this.swap(s,a),a=s,s=Math.floor(a/2)}sink(i){let a=i,s=a*2;for(;s<=this.n&&(s<this.n&&this.greater(s,s+1)&&(s+=1),!!this.greater(a,s));)this.swap(a,s),a=s,s=a*2}push(i){this.n+=1,this.heap[this.n]=i,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const i=this.heap.pop();return this.sink(1),i}size(){return this.n}}function buildPrecedentsMap(o,i,a){const s=new Map,$=new Set,et=new Map;et.set(i,0);const _e=new MinHeap(rankingFunctionComparator(rt=>rt.weight));for(_e.push({id:i,weight:0});_e.size()>0;){const{id:rt,weight:ot}=_e.pop();if(!$.has(rt)){const it=o(rt);$.add(rt),it.forEach((at,j)=>{const _=ot+at,tt=s.get(j),nt=et.get(j);(nt===void 0||nt>_&&(nt/_>1.005||tt!==void 0&&tt<rt))&&(et.set(j,_),_e.push({id:j,weight:_}),s.set(j,rt))})}}return et.has(a)?s:void 0}function getPathFromPrecedentsMap(o,i){const a=[];for(let s=i;s!==void 0;s=o.get(s))a.push(s);return a.reverse()}function findShortestPath(o,i,a){const s=buildPrecedentsMap(o,i,a);return s?getPathFromPrecedentsMap(s,a):void 0}function findIdealNodeSearch({photos:o,targetRowHeight:i,containerWidth:a}){const s=o.reduce(($,et)=>Math.min(ratio(et),$),Number.MAX_VALUE);return round(a/i/s)+2}function getCommonHeight(o,i,a,s){const $=i-(o.length-1)*a-2*s*o.length,et=o.reduce((_e,rt)=>_e+ratio(rt),0);return $/et}function cost(o,i,a,s,$,et,_e){const rt=o.slice(i,a),ot=getCommonHeight(rt,s,et,_e);return ot>0?(ot-$)**2*rt.length:void 0}function makeGetRowNeighbors({photos:o,layoutOptions:i,targetRowHeight:a,limitNodeSearch:s,rowConstraints:$}){return et=>{var _e,rt;const{containerWidth:ot,spacing:it,padding:at}=i,j=new Map;j.set(et,0);const _=(_e=$==null?void 0:$.minPhotos)!=null?_e:1,tt=Math.min(s,(rt=$==null?void 0:$.maxPhotos)!=null?rt:1/0);for(let nt=et+_;nt<o.length+1&&!(nt-et>tt);nt+=1){const st=cost(o,et,nt,ot,a,it,at);if(st===void 0)break;j.set(nt,st)}return j}}function computeRowsLayout({photos:o,layoutOptions:i}){const{spacing:a,padding:s,containerWidth:$,targetRowHeight:et,rowConstraints:_e}=i,rt=findIdealNodeSearch({photos:o,containerWidth:$,targetRowHeight:et}),ot=makeGetRowNeighbors({photos:o,layoutOptions:i,targetRowHeight:et,limitNodeSearch:rt,rowConstraints:_e}),it=findShortestPath(ot,0,o.length);if(it===void 0)return;const at=[];for(let j=1;j<it.length;j+=1){const _=o.map((nt,st)=>({photo:nt,index:st})).slice(it[j-1],it[j]),tt=getCommonHeight(_.map(({photo:nt})=>nt),$,a,s);at.push(_.map(({photo:nt,index:st},dt)=>({photo:nt,layout:{height:tt,width:tt*ratio(nt),index:st,photoIndex:dt,photosCount:_.length}})))}return at}function clsx(...o){return[...o].filter(i=>!!i).join(" ")}function calcWidth(o,{width:i,photosCount:a},{spacing:s,padding:$,containerWidth:et}){const _e=s*(a-1)+2*$*a;return`calc((${o} - ${_e}px) / ${round((et-_e)/i,5)})`}function cssPhotoWidth(o,i){return i.layout!=="rows"?`calc(100% - ${2*i.padding}px)`:calcWidth("100%",o,i)}function calculateSizesValue(o,i,a){var s,$;return calcWidth(($=(s=o.match(/calc\((.*)\)/))==null?void 0:s[1])!=null?$:o,i,a)}function srcSetAndSizes(o,i,a){let s,$;const et=o.srcSet||o.images;return et&&et.length>0&&(s=et.concat(et.find(({width:_e})=>_e===o.width)?[]:[{src:o.src,width:o.width,height:o.height}]).sort((_e,rt)=>_e.width-rt.width).map(_e=>`${_e.src} ${_e.width}w`).join(", ")),a.sizes?$=(a.sizes.sizes||[]).map(({viewport:_e,size:rt})=>`${_e} ${calculateSizesValue(rt,i,a)}`).concat(calculateSizesValue(a.sizes.size,i,a)).join(", "):s&&($=`${Math.ceil(i.width/a.containerWidth*100)}vw`),{srcSet:s,sizes:$}}function PhotoRenderer(o){var i,a;const{photo:s,layout:$,layoutOptions:et,imageProps:{style:_e,className:rt,...ot}={},renderPhoto:it}=o,{onClick:at}=et,j={display:"block",boxSizing:"content-box",width:cssPhotoWidth($,et),height:"auto",aspectRatio:`${s.width} / ${s.height}`,...et.padding?{padding:`${et.padding}px`}:null,...(et.layout==="columns"||et.layout==="masonry")&&$.photoIndex<$.photosCount-1?{marginBottom:`${et.spacing}px`}:null,...at?{cursor:"pointer"}:null,..._e},_=at?dt=>{at({event:dt,photo:s,index:$.index})}:void 0,tt={src:s.src,alt:(i=s.alt)!=null?i:"",title:s.title,onClick:_,style:j,className:clsx("react-photo-album--photo",rt),loading:"lazy",decoding:"async",...srcSetAndSizes(s,$,et),...ot},nt=dt=>{const{src:ft,alt:gt,srcSet:pt,sizes:mt,style:vt,...yt}=tt;return reactExports.createElement("img",{alt:gt,...pt?{srcSet:pt,sizes:mt}:null,src:ft,style:dt!=null&&dt.wrapped?{display:"block",width:"100%",height:"100%"}:vt,...yt})},st=(({display:dt,boxSizing:ft,width:gt,aspectRatio:pt,padding:mt,marginBottom:vt,cursor:yt})=>({display:dt,boxSizing:ft,width:gt,aspectRatio:pt,padding:mt,marginBottom:vt,cursor:yt}))(j);return reactExports.createElement(reactExports.Fragment,null,(a=it==null?void 0:it({photo:s,layout:$,layoutOptions:et,imageProps:tt,renderDefaultPhoto:nt,wrapperStyle:st}))!=null?a:nt())}function defaultRenderRowContainer({rowContainerProps:o,children:i}){return reactExports.createElement("div",{...o},i)}function RowContainerRenderer(o){const{layoutOptions:i,rowIndex:a,rowsCount:s,renderRowContainer:$,rowContainerProps:{style:et,className:_e,...rt}={},children:ot}=o,it={className:clsx("react-photo-album--row",_e),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...a<s-1?{marginBottom:`${i.spacing}px`}:null,...et},...rt};return reactExports.createElement(reactExports.Fragment,null,($??defaultRenderRowContainer)({layoutOptions:i,rowIndex:a,rowsCount:s,rowContainerProps:it,children:ot}))}function RowsLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderRowContainer:$,componentsProps:et}=o,_e=computeRowsLayout({photos:i,layoutOptions:a});return _e?reactExports.createElement(reactExports.Fragment,null,_e.map((rt,ot)=>reactExports.createElement(RowContainerRenderer,{key:`row-${ot}`,layoutOptions:a,rowIndex:ot,rowsCount:_e.length,renderRowContainer:$,rowContainerProps:et==null?void 0:et.rowContainerProps},rt.map(({photo:it,layout:at})=>reactExports.createElement(PhotoRenderer,{key:it.key||it.src,photo:it,layout:at,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps}))))):null}function computeShortestPath(o,i,a,s){const $=new Map,et=new Set;et.add(a);for(let _e=0;_e<i;_e+=1){const rt=[...et.keys()];et.clear(),rt.forEach(ot=>{const it=_e>0?$.get(ot)[_e].weight:0;o(ot).forEach(({neighbor:at,weight:j})=>{let _=$.get(at);_||(_=[],$.set(at,_));const tt=it+j,nt=_[_e+1];(!nt||nt.weight>tt&&(nt.weight/tt>1.0001||ot<nt.node))&&(_[_e+1]={node:ot,weight:tt}),_e<i-1&&at!==s&&et.add(at)})})}return $}function reconstructShortestPath(o,i,a){const s=[a];for(let $=a,et=i;et>0;et-=1)$=o.get($)[et].node,s.push($);return s.reverse()}function findShortestPathLengthN(o,i,a,s){return reconstructShortestPath(computeShortestPath(o,i,a,s),i,s)}function makeGetColumnNeighbors({photos:o,spacing:i,padding:a,targetColumnWidth:s,targetColumnHeight:$}){return et=>{const _e=[],rt=$*1.5;let ot=s/ratio(o[et])+2*a;for(let it=et+1;it<o.length+1&&(_e.push({neighbor:it,weight:($-ot)**2}),!(ot>rt||it===o.length));it+=1)ot+=s/ratio(o[it])+i+2*a;return _e}}function buildColumnsModel({path:o,photos:i,containerWidth:a,columnsGaps:s,columnsRatios:$,spacing:et,padding:_e}){const rt=[],ot=$.reduce((it,at)=>it+at,0);for(let it=0;it<o.length-1;it+=1){const at=i.map((tt,nt)=>({photo:tt,index:nt})).slice(o[it],o[it+1]),j=$.reduce((tt,nt,st)=>tt+(s[it]-s[st])*nt,0),_=(a-(o.length-2)*et-2*(o.length-1)*_e-j)*$[it]/ot;rt.push(at.map(({photo:tt,index:nt},st)=>({photo:tt,layout:{width:_,height:_/ratio(tt),index:nt,photoIndex:st,photosCount:at.length}})))}return rt}function computeColumnsModel({photos:o,layoutOptions:i,targetColumnWidth:a}){const{columns:s,spacing:$,padding:et,containerWidth:_e}=i,rt=[],ot=[];if(o.length<=s){const tt=o.length>0?o.reduce((st,dt)=>st+ratio(dt),0)/o.length:1;for(let st=0;st<s;st+=1)rt[st]=2*et,ot[st]=st<o.length?ratio(o[st]):tt;const nt=buildColumnsModel({path:Array.from({length:s+1}).map((st,dt)=>Math.min(dt,o.length)),photos:o,columnsRatios:ot,columnsGaps:rt,containerWidth:_e,spacing:$,padding:et});return{columnsGaps:rt,columnsRatios:ot,columnsModel:nt}}const it=(o.reduce((tt,nt)=>tt+a/ratio(nt),0)+$*(o.length-s)+2*et*o.length)/s,at=makeGetColumnNeighbors({photos:o,targetColumnWidth:a,targetColumnHeight:it,spacing:$,padding:et}),j=findShortestPathLengthN(at,s,0,o.length);for(let tt=0;tt<j.length-1;tt+=1){const nt=o.slice(j[tt],j[tt+1]);rt[tt]=$*(nt.length-1)+2*et*nt.length,ot[tt]=1/nt.reduce((st,dt)=>st+1/ratio(dt),0)}const _=buildColumnsModel({path:j,photos:o,columnsRatios:ot,columnsGaps:rt,containerWidth:_e,spacing:$,padding:et});return{columnsGaps:rt,columnsRatios:ot,columnsModel:_}}function computeLayout(o){const{photos:i,layoutOptions:a}=o,{columns:s,spacing:$,padding:et,containerWidth:_e}=a,rt=(_e-$*(s-1)-2*et*s)/s,{columnsGaps:ot,columnsRatios:it,columnsModel:at}=computeColumnsModel({photos:i,layoutOptions:a,targetColumnWidth:rt});return at.findIndex(j=>j.findIndex(({layout:{width:_,height:tt}})=>_<0||tt<0)>=0)>=0?s>1?computeLayout({photos:i,layoutOptions:{...a,columns:s-1}}):void 0:{columnsModel:at,columnsGaps:ot,columnsRatios:it}}function computeColumnsLayout({photos:o,layoutOptions:i}){return computeLayout({photos:o,layoutOptions:i})}function defaultRenderColumnContainer({columnContainerProps:o,children:i}){return reactExports.createElement("div",{...o},i)}function cssColumnWidth(o){const{layoutOptions:i,columnIndex:a,columnsCount:s,columnsGaps:$,columnsRatios:et}=o,{layout:_e,spacing:rt,padding:ot}=i;if(_e==="masonry"||!$||!et)return`calc((100% - ${rt*(s-1)}px) / ${s})`;const it=et.reduce((j,_)=>j+_,0),at=et.reduce((j,_,tt)=>j+($[a]-$[tt])*_,0);return`calc((100% - ${round((s-1)*rt+2*s*ot+at,3)}px) * ${round(et[a]/it,5)} + ${2*ot}px)`}function ColumnContainerRenderer(o){const{layoutOptions:i,renderColumnContainer:a,children:s,columnContainerProps:{style:$,className:et,..._e}={},...rt}=o,ot={className:clsx("react-photo-album--column",et),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:cssColumnWidth(o),justifyContent:i.layout==="columns"?"space-between":"flex-start",...$},..._e};return reactExports.createElement(reactExports.Fragment,null,(a??defaultRenderColumnContainer)({layoutOptions:i,columnContainerProps:ot,children:s,...rt}))}function ColumnsLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderColumnContainer:$,componentsProps:et}=o,_e=computeColumnsLayout({photos:i,layoutOptions:a});if(!_e)return null;const{columnsModel:rt,columnsRatios:ot,columnsGaps:it}=_e;return reactExports.createElement(reactExports.Fragment,null,rt.map((at,j)=>reactExports.createElement(ColumnContainerRenderer,{key:`column-${j}`,layoutOptions:a,columnIndex:j,columnsCount:rt.length,columnsGaps:it,columnsRatios:ot,renderColumnContainer:$,columnContainerProps:et==null?void 0:et.columnContainerProps},at.map(({photo:_,layout:tt})=>reactExports.createElement(PhotoRenderer,{key:_.key||_.src,photo:_,layout:tt,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps})))))}function computeMasonryLayout(o){const{photos:i,layoutOptions:a}=o,{columns:s,spacing:$,padding:et,containerWidth:_e}=a,rt=(_e-$*(s-1)-2*et*s)/s;if(rt<=0)return s>1?computeMasonryLayout({...o,layoutOptions:{...a,columns:s-1}}):void 0;const ot=[];for(let at=0;at<s;at+=1)ot[at]=0;return i.reduce((at,j,_)=>{const tt=ot.reduce((nt,st,dt)=>st<ot[nt]-1?dt:nt,0);return ot[tt]=ot[tt]+rt/ratio(j)+$+2*et,at[tt].push({photo:j,index:_}),at},Array.from({length:s}).map(()=>[])).map(at=>at.map(({photo:j,index:_},tt)=>({photo:j,layout:{width:rt,height:rt/ratio(j),index:_,photoIndex:tt,photosCount:at.length}})))}function MasonryLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderColumnContainer:$,componentsProps:et}=o,_e=computeMasonryLayout({photos:i,layoutOptions:a});return _e?reactExports.createElement(reactExports.Fragment,null,_e.map((rt,ot)=>reactExports.createElement(ColumnContainerRenderer,{key:`masonry-column-${ot}`,layoutOptions:a,columnsCount:_e.length,columnIndex:ot,renderColumnContainer:$,columnContainerProps:et==null?void 0:et.columnContainerProps},rt.map(({photo:it,layout:at})=>reactExports.createElement(PhotoRenderer,{key:it.key||it.src,photo:it,layout:at,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps}))))):null}function defaultRenderContainer({containerProps:o,children:i,containerRef:a}){return reactExports.createElement("div",{ref:a,...o},i)}function ContainerRenderer(o){const{layout:i,renderContainer:a,children:s,containerRef:$,containerProps:{style:et,className:_e,...rt}={}}=o,ot={className:clsx("react-photo-album",`react-photo-album--${i}`,_e),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:i==="rows"?"column":"row",...et},...rt};return reactExports.createElement(reactExports.Fragment,null,(a??defaultRenderContainer)({containerProps:ot,containerRef:$,layout:i,children:s}))}function useArray(o){const i=reactExports.useRef(o);return(!o||!i.current||o.join()!==i.current.join())&&(i.current=o),i.current}function containerWidthReducer(o,{newContainerWidth:i,newScrollbarWidth:a}){const{containerWidth:s,scrollbarWidth:$}=o;return s!==void 0&&$!==void 0&&i!==void 0&&a!==void 0&&i>s&&i-s<=20&&a<$?{containerWidth:s,scrollbarWidth:a}:s!==i||$!==a?{containerWidth:i,scrollbarWidth:a}:o}function resolveContainerWidth(o,i){let a=o==null?void 0:o.clientWidth;if(a!==void 0&&i&&i.length>0){const s=[...i.filter(et=>et>0)].sort((et,_e)=>_e-et);s.push(Math.floor(s[s.length-1]/2));const $=a;a=s.find((et,_e)=>et<=$||_e===s.length-1)}return a}function useContainerWidth(o,i){const[{containerWidth:a},s]=reactExports.useReducer(containerWidthReducer,{containerWidth:i}),$=reactExports.useRef(null),et=reactExports.useRef();return{containerRef:reactExports.useCallback(rt=>{var ot;(ot=et.current)==null||ot.disconnect(),et.current=void 0,$.current=rt;const it=()=>s({newContainerWidth:resolveContainerWidth($.current,o),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});it(),rt&&typeof ResizeObserver<"u"&&(et.current=new ResizeObserver(it),et.current.observe(rt))},[o]),containerWidth:a}}const breakpoints=Object.freeze([1200,600,300,0]);function unwrap(o,i){return typeof o=="function"?o(i):o}function unwrapParameter(o,i){return typeof o<"u"?unwrap(o,i):void 0}function selectResponsiveValue(o,i){const a=breakpoints.findIndex(s=>s<=i);return unwrap(o[a>=0?a:0],i)}function resolveResponsiveParameter(o,i,a,s=0){const $=unwrapParameter(o,i);return Math.round(Math.max($===void 0?selectResponsiveValue(a,i):$,s))}function resolveLayoutOptions({layout:o,onClick:i,containerWidth:a,targetRowHeight:s,rowConstraints:$,columns:et,spacing:_e,padding:rt,sizes:ot}){return{layout:o,onClick:i,containerWidth:a,columns:resolveResponsiveParameter(et,a,[5,4,3,2],1),spacing:resolveResponsiveParameter(_e,a,[20,15,10,5]),padding:resolveResponsiveParameter(rt,a,[0,0,0,0,0]),targetRowHeight:resolveResponsiveParameter(s,a,[it=>it/5,it=>it/4,it=>it/3,it=>it/2]),rowConstraints:unwrapParameter($,a),sizes:ot}}function resolveComponentsProps(o,i){return typeof o=="function"?o(i):o}function renderLayout(o,i,a){const{photos:s,layout:$,renderPhoto:et,renderRowContainer:_e,renderColumnContainer:rt}=o,ot=resolveLayoutOptions({containerWidth:i,...o}),it={photos:s,renderPhoto:et,componentsProps:a};return $==="rows"?reactExports.createElement(RowsLayout,{layoutOptions:ot,renderRowContainer:_e,...it}):$==="columns"?reactExports.createElement(ColumnsLayout,{layoutOptions:ot,renderColumnContainer:rt,...it}):reactExports.createElement(MasonryLayout,{layoutOptions:ot,renderColumnContainer:rt,...it})}function PhotoAlbum(o){const{photos:i,layout:a,renderContainer:s,defaultContainerWidth:$,breakpoints:et}=o,{containerRef:_e,containerWidth:rt}=useContainerWidth(useArray(et),$);if(!a||!["rows","columns","masonry"].includes(a)||!Array.isArray(i))return null;const ot=resolveComponentsProps(o.componentsProps,rt);return reactExports.createElement(ContainerRenderer,{layout:a,containerRef:_e,renderContainer:s,containerProps:ot==null?void 0:ot.containerProps},rt?renderLayout(o,rt,ot):null)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(s,$,et,_e,rt,ot){if(ot!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}o.isRequired=o;function i(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function __awaiter(o,i,a,s){function $(et){return et instanceof a?et:new a(function(_e){_e(et)})}return new(a||(a=Promise))(function(et,_e){function rt(at){try{it(s.next(at))}catch(j){_e(j)}}function ot(at){try{it(s.throw(at))}catch(j){_e(j)}}function it(at){at.done?et(at.value):$(at.value).then(rt,ot)}it((s=s.apply(o,i||[])).next())})}function __generator(o,i){var a={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},s,$,et,_e;return _e={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(_e[Symbol.iterator]=function(){return this}),_e;function rt(it){return function(at){return ot([it,at])}}function ot(it){if(s)throw new TypeError("Generator is already executing.");for(;_e&&(_e=0,it[0]&&(a=0)),a;)try{if(s=1,$&&(et=it[0]&2?$.return:it[0]?$.throw||((et=$.return)&&et.call($),0):$.next)&&!(et=et.call($,it[1])).done)return et;switch($=0,et&&(it=[it[0]&2,et.value]),it[0]){case 0:case 1:et=it;break;case 4:return a.label++,{value:it[1],done:!1};case 5:a.label++,$=it[1],it=[0];continue;case 7:it=a.ops.pop(),a.trys.pop();continue;default:if(et=a.trys,!(et=et.length>0&&et[et.length-1])&&(it[0]===6||it[0]===2)){a=0;continue}if(it[0]===3&&(!et||it[1]>et[0]&&it[1]<et[3])){a.label=it[1];break}if(it[0]===6&&a.label<et[1]){a.label=et[1],et=it;break}if(et&&a.label<et[2]){a.label=et[2],a.ops.push(it);break}et[2]&&a.ops.pop(),a.trys.pop();continue}it=i.call(o,a)}catch(at){it=[6,at],$=0}finally{s=et=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function __read(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var s=a.call(o),$,et=[],_e;try{for(;(i===void 0||i-- >0)&&!($=s.next()).done;)et.push($.value)}catch(rt){_e={error:rt}}finally{try{$&&!$.done&&(a=s.return)&&a.call(s)}finally{if(_e)throw _e.error}}return et}function __spreadArray(o,i,a){if(a||arguments.length===2)for(var s=0,$=i.length,et;s<$;s++)(et||!(s in i))&&(et||(et=Array.prototype.slice.call(i,0,s)),et[s]=i[s]);return o.concat(et||Array.prototype.slice.call(i))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(o,i){var a=withMimeType(o);if(typeof a.path!="string"){var s=o.webkitRelativePath;Object.defineProperty(a,"path",{value:typeof i=="string"?i:typeof s=="string"&&s.length>0?s:o.name,writable:!1,configurable:!1,enumerable:!0})}return a}function withMimeType(o){var i=o.name,a=i&&i.lastIndexOf(".")!==-1;if(a&&!o.type){var s=i.split(".").pop().toLowerCase(),$=COMMON_MIME_TYPES.get(s);$&&Object.defineProperty(o,"type",{value:$,writable:!1,configurable:!1,enumerable:!0})}return o}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return isObject$1(o)&&isDataTransfer(o.dataTransfer)?[2,getDataTransferFiles(o.dataTransfer,o.type)]:isChangeEvt(o)?[2,getInputFiles(o)]:Array.isArray(o)&&o.every(function(a){return"getFile"in a&&typeof a.getFile=="function"})?[2,getFsHandleFiles(o)]:[2,[]]})})}function isDataTransfer(o){return isObject$1(o)}function isChangeEvt(o){return isObject$1(o)&&isObject$1(o.target)}function isObject$1(o){return typeof o=="object"&&o!==null}function getInputFiles(o){return fromList(o.target.files).map(function(i){return toFileWithPath(i)})}function getFsHandleFiles(o){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,Promise.all(o.map(function(s){return s.getFile()}))];case 1:return i=a.sent(),[2,i.map(function(s){return toFileWithPath(s)})]}})})}function getDataTransferFiles(o,i){return __awaiter(this,void 0,void 0,function(){var a,s;return __generator(this,function($){switch($.label){case 0:return o.items?(a=fromList(o.items).filter(function(et){return et.kind==="file"}),i!=="drop"?[2,a]:[4,Promise.all(a.map(toFilePromises))]):[3,2];case 1:return s=$.sent(),[2,noIgnoredFiles(flatten(s))];case 2:return[2,noIgnoredFiles(fromList(o.files).map(function(et){return toFileWithPath(et)}))]}})})}function noIgnoredFiles(o){return o.filter(function(i){return FILES_TO_IGNORE.indexOf(i.name)===-1})}function fromList(o){if(o===null)return[];for(var i=[],a=0;a<o.length;a++){var s=o[a];i.push(s)}return i}function toFilePromises(o){if(typeof o.webkitGetAsEntry!="function")return fromDataTransferItem(o);var i=o.webkitGetAsEntry();return i&&i.isDirectory?fromDirEntry(i):fromDataTransferItem(o)}function flatten(o){return o.reduce(function(i,a){return __spreadArray(__spreadArray([],__read(i),!1),__read(Array.isArray(a)?flatten(a):[a]),!1)},[])}function fromDataTransferItem(o){var i=o.getAsFile();if(!i)return Promise.reject("".concat(o," is not a File"));var a=toFileWithPath(i);return Promise.resolve(a)}function fromEntry(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,o.isDirectory?fromDirEntry(o):fromFileEntry(o)]})})}function fromDirEntry(o){var i=o.createReader();return new Promise(function(a,s){var $=[];function et(){var _e=this;i.readEntries(function(rt){return __awaiter(_e,void 0,void 0,function(){var ot,it,at;return __generator(this,function(j){switch(j.label){case 0:if(rt.length)return[3,5];j.label=1;case 1:return j.trys.push([1,3,,4]),[4,Promise.all($)];case 2:return ot=j.sent(),a(ot),[3,4];case 3:return it=j.sent(),s(it),[3,4];case 4:return[3,6];case 5:at=Promise.all(rt.map(fromEntry)),$.push(at),et(),j.label=6;case 6:return[2]}})})},function(rt){s(rt)})}et()})}function fromFileEntry(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,new Promise(function(a,s){o.file(function($){var et=toFileWithPath($,o.fullPath);a(et)},function($){s($)})})]})})}var _default=function(o,i){if(o&&i){var a=Array.isArray(i)?i:i.split(","),s=o.name||"",$=(o.type||"").toLowerCase(),et=$.replace(/\/.*$/,"");return a.some(function(_e){var rt=_e.trim().toLowerCase();return rt.charAt(0)==="."?s.toLowerCase().endsWith(rt):rt.endsWith("/*")?et===rt.replace(/\/.*$/,""):$===rt})}return!0};function _toConsumableArray$2(o){return _arrayWithoutHoles$2(o)||_iterableToArray$2(o)||_unsupportedIterableToArray$2(o)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$2(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$2(o){if(Array.isArray(o))return _arrayLikeToArray$2(o)}function ownKeys$2(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),a.push.apply(a,s)}return a}function _objectSpread$1(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$2(Object(a),!0).forEach(function(s){_defineProperty$2(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys$2(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function _defineProperty$2(o,i,a){return i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function _slicedToArray$2(o,i){return _arrayWithHoles$2(o)||_iterableToArrayLimit$2(o,i)||_unsupportedIterableToArray$2(o,i)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$2(o,i)}}function _arrayLikeToArray$2(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _iterableToArrayLimit$2(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s=[],$=!0,et=!1,_e,rt;try{for(a=a.call(o);!($=(_e=a.next()).done)&&(s.push(_e.value),!(i&&s.length===i));$=!0);}catch(ot){et=!0,rt=ot}finally{try{!$&&a.return!=null&&a.return()}finally{if(et)throw rt}}return s}}function _arrayWithHoles$2(o){if(Array.isArray(o))return o}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function o(i){i=Array.isArray(i)&&i.length===1?i[0]:i;var a=Array.isArray(i)?"one of ".concat(i.join(", ")):i;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(a)}},getTooLargeRejectionErr=function o(i){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(i," ").concat(i===1?"byte":"bytes")}},getTooSmallRejectionErr=function o(i){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(i," ").concat(i===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(o,i){var a=o.type==="application/x-moz-file"||_default(o,i);return[a,a?null:getInvalidTypeRejectionErr(i)]}function fileMatchSize(o,i,a){if(isDefined(o.size))if(isDefined(i)&&isDefined(a)){if(o.size>a)return[!1,getTooLargeRejectionErr(a)];if(o.size<i)return[!1,getTooSmallRejectionErr(i)]}else{if(isDefined(i)&&o.size<i)return[!1,getTooSmallRejectionErr(i)];if(isDefined(a)&&o.size>a)return[!1,getTooLargeRejectionErr(a)]}return[!0,null]}function isDefined(o){return o!=null}function allFilesAccepted(o){var i=o.files,a=o.accept,s=o.minSize,$=o.maxSize,et=o.multiple,_e=o.maxFiles,rt=o.validator;return!et&&i.length>1||et&&_e>=1&&i.length>_e?!1:i.every(function(ot){var it=fileAccepted(ot,a),at=_slicedToArray$2(it,1),j=at[0],_=fileMatchSize(ot,s,$),tt=_slicedToArray$2(_,1),nt=tt[0],st=rt?rt(ot):null;return j&&nt&&!st})}function isPropagationStopped(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function isEvtWithFiles(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,function(i){return i==="Files"||i==="application/x-moz-file"}):!!o.target&&!!o.target.files}function onDocumentDragOver(o){o.preventDefault()}function isIe(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function isEdge(o){return o.indexOf("Edge/")!==-1}function isIeOrEdge(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(o)||isEdge(o)}function composeEventHandlers(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return function(s){for(var $=arguments.length,et=new Array($>1?$-1:0),_e=1;_e<$;_e++)et[_e-1]=arguments[_e];return i.some(function(rt){return!isPropagationStopped(s)&&rt&&rt.apply(void 0,[s].concat(et)),isPropagationStopped(s)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(o){if(isDefined(o)){var i=Object.entries(o).filter(function(a){var s=_slicedToArray$2(a,2),$=s[0],et=s[1],_e=!0;return isMIMEType($)||(console.warn('Skipped "'.concat($,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),_e=!1),(!Array.isArray(et)||!et.every(isExt))&&(console.warn('Skipped "'.concat($,'" because an invalid file extension was provided.')),_e=!1),_e}).reduce(function(a,s){var $=_slicedToArray$2(s,2),et=$[0],_e=$[1];return _objectSpread$1(_objectSpread$1({},a),{},_defineProperty$2({},et,_e))},{});return[{description:"Files",accept:i}]}return o}function acceptPropAsAcceptAttr(o){if(isDefined(o))return Object.entries(o).reduce(function(i,a){var s=_slicedToArray$2(a,2),$=s[0],et=s[1];return[].concat(_toConsumableArray$2(i),[$],_toConsumableArray$2(et))},[]).filter(function(i){return isMIMEType(i)||isExt(i)}).join(",")}function isAbort(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function isSecurityError(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function isMIMEType(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||/\w+\/[-+.\w]+/g.test(o)}function isExt(o){return/^.*\.[\w]+$/.test(o)}var _excluded$8=["children"],_excluded2$1=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray$1(o){return _arrayWithoutHoles$1(o)||_iterableToArray$1(o)||_unsupportedIterableToArray$1(o)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$1(o){if(Array.isArray(o))return _arrayLikeToArray$1(o)}function _slicedToArray$1(o,i){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,i)||_unsupportedIterableToArray$1(o,i)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$1(o,i)}}function _arrayLikeToArray$1(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _iterableToArrayLimit$1(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s=[],$=!0,et=!1,_e,rt;try{for(a=a.call(o);!($=(_e=a.next()).done)&&(s.push(_e.value),!(i&&s.length===i));$=!0);}catch(ot){et=!0,rt=ot}finally{try{!$&&a.return!=null&&a.return()}finally{if(et)throw rt}}return s}}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function ownKeys$1(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(a),!0).forEach(function(s){_defineProperty$1(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function _defineProperty$1(o,i,a){return i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function _objectWithoutProperties$1(o,i){if(o==null)return{};var a=_objectWithoutPropertiesLoose$1(o,i),s,$;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for($=0;$<et.length;$++)s=et[$],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(a[s]=o[s])}return a}function _objectWithoutPropertiesLoose$1(o,i){if(o==null)return{};var a={},s=Object.keys(o),$,et;for(et=0;et<s.length;et++)$=s[et],!(i.indexOf($)>=0)&&(a[$]=o[$]);return a}var Dropzone=reactExports.forwardRef(function(o,i){var a=o.children,s=_objectWithoutProperties$1(o,_excluded$8),$=useDropzone(s),et=$.open,_e=_objectWithoutProperties$1($,_excluded2$1);return reactExports.useImperativeHandle(i,function(){return{open:et}},[et]),React.createElement(reactExports.Fragment,null,a(_objectSpread(_objectSpread({},_e),{},{open:et})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=_objectSpread(_objectSpread({},defaultProps),o),a=i.accept,s=i.disabled,$=i.getFilesFromEvent,et=i.maxSize,_e=i.minSize,rt=i.multiple,ot=i.maxFiles,it=i.onDragEnter,at=i.onDragLeave,j=i.onDragOver,_=i.onDrop,tt=i.onDropAccepted,nt=i.onDropRejected,st=i.onFileDialogCancel,dt=i.onFileDialogOpen,ft=i.useFsAccessApi,gt=i.autoFocus,pt=i.preventDropOnDocument,mt=i.noClick,vt=i.noKeyboard,yt=i.noDrag,xt=i.noDragEventsBubbling,wt=i.onError,St=i.validator,Ct=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(a)},[a]),At=reactExports.useMemo(function(){return pickerOptionsFromAccept(a)},[a]),$t=reactExports.useMemo(function(){return typeof dt=="function"?dt:noop$1},[dt]),Rt=reactExports.useMemo(function(){return typeof st=="function"?st:noop$1},[st]),kt=reactExports.useRef(null),Lt=reactExports.useRef(null),Dt=reactExports.useReducer(reducer,initialState),Mt=_slicedToArray$1(Dt,2),Vt=Mt[0],Kt=Mt[1],Yt=Vt.isFocused,Jt=Vt.isFileDialogActive,ln=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&ft&&canUseFileSystemAccessAPI()),wn=function(){!ln.current&&Jt&&setTimeout(function(){if(Lt.current){var Nn=Lt.current.files;Nn.length||(Kt({type:"closeDialog"}),Rt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",wn,!1),function(){window.removeEventListener("focus",wn,!1)}},[Lt,Jt,Rt,ln]);var _n=reactExports.useRef([]),kn=function(Nn){kt.current&&kt.current.contains(Nn.target)||(Nn.preventDefault(),_n.current=[])};reactExports.useEffect(function(){return pt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",kn,!1)),function(){pt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",kn))}},[kt,pt]),reactExports.useEffect(function(){return!s&&gt&&kt.current&&kt.current.focus(),function(){}},[kt,gt,s]);var Cn=reactExports.useCallback(function(On){wt?wt(On):console.error(On)},[wt]),Ht=reactExports.useCallback(function(On){On.preventDefault(),On.persist(),Gn(On),_n.current=[].concat(_toConsumableArray$1(_n.current),[On.target]),isEvtWithFiles(On)&&Promise.resolve($(On)).then(function(Nn){if(!(isPropagationStopped(On)&&!xt)){var pr=Nn.length,lr=pr>0&&allFilesAccepted({files:Nn,accept:Ct,minSize:_e,maxSize:et,multiple:rt,maxFiles:ot,validator:St}),Tr=pr>0&&!lr;Kt({isDragAccept:lr,isDragReject:Tr,isDragActive:!0,type:"setDraggedFiles"}),it&&it(On)}}).catch(function(Nn){return Cn(Nn)})},[$,it,Cn,xt,Ct,_e,et,rt,ot,St]),cn=reactExports.useCallback(function(On){On.preventDefault(),On.persist(),Gn(On);var Nn=isEvtWithFiles(On);if(Nn&&On.dataTransfer)try{On.dataTransfer.dropEffect="copy"}catch{}return Nn&&j&&j(On),!1},[j,xt]),gn=reactExports.useCallback(function(On){On.preventDefault(),On.persist(),Gn(On);var Nn=_n.current.filter(function(lr){return kt.current&&kt.current.contains(lr)}),pr=Nn.indexOf(On.target);pr!==-1&&Nn.splice(pr,1),_n.current=Nn,!(Nn.length>0)&&(Kt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(On)&&at&&at(On))},[kt,at,xt]),jn=reactExports.useCallback(function(On,Nn){var pr=[],lr=[];On.forEach(function(Tr){var Br=fileAccepted(Tr,Ct),jr=_slicedToArray$1(Br,2),Jr=jr[0],Xn=jr[1],Ft=fileMatchSize(Tr,_e,et),Bt=_slicedToArray$1(Ft,2),Gt=Bt[0],Qt=Bt[1],en=St?St(Tr):null;if(Jr&&Gt&&!en)pr.push(Tr);else{var sn=[Xn,Qt];en&&(sn=sn.concat(en)),lr.push({file:Tr,errors:sn.filter(function(un){return un})})}}),(!rt&&pr.length>1||rt&&ot>=1&&pr.length>ot)&&(pr.forEach(function(Tr){lr.push({file:Tr,errors:[TOO_MANY_FILES_REJECTION]})}),pr.splice(0)),Kt({acceptedFiles:pr,fileRejections:lr,type:"setFiles"}),_&&_(pr,lr,Nn),lr.length>0&&nt&&nt(lr,Nn),pr.length>0&&tt&&tt(pr,Nn)},[Kt,rt,Ct,_e,et,ot,_,tt,nt,St]),xn=reactExports.useCallback(function(On){On.preventDefault(),On.persist(),Gn(On),_n.current=[],isEvtWithFiles(On)&&Promise.resolve($(On)).then(function(Nn){isPropagationStopped(On)&&!xt||jn(Nn,On)}).catch(function(Nn){return Cn(Nn)}),Kt({type:"reset"})},[$,jn,Cn,xt]),Bn=reactExports.useCallback(function(){if(ln.current){Kt({type:"openDialog"}),$t();var On={multiple:rt,types:At};window.showOpenFilePicker(On).then(function(Nn){return $(Nn)}).then(function(Nn){jn(Nn,null),Kt({type:"closeDialog"})}).catch(function(Nn){isAbort(Nn)?(Rt(Nn),Kt({type:"closeDialog"})):isSecurityError(Nn)?(ln.current=!1,Lt.current?(Lt.current.value=null,Lt.current.click()):Cn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Cn(Nn)});return}Lt.current&&(Kt({type:"openDialog"}),$t(),Lt.current.value=null,Lt.current.click())},[Kt,$t,Rt,ft,jn,Cn,At,rt]),Mn=reactExports.useCallback(function(On){!kt.current||!kt.current.isEqualNode(On.target)||(On.key===" "||On.key==="Enter"||On.keyCode===32||On.keyCode===13)&&(On.preventDefault(),Bn())},[kt,Bn]),Zn=reactExports.useCallback(function(){Kt({type:"focus"})},[]),Fn=reactExports.useCallback(function(){Kt({type:"blur"})},[]),wr=reactExports.useCallback(function(){mt||(isIeOrEdge()?setTimeout(Bn,0):Bn())},[mt,Bn]),Jn=function(Nn){return s?null:Nn},dr=function(Nn){return vt?null:Jn(Nn)},or=function(Nn){return yt?null:Jn(Nn)},Gn=function(Nn){xt&&Nn.stopPropagation()},rr=reactExports.useMemo(function(){return function(){var On=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nn=On.refKey,pr=Nn===void 0?"ref":Nn,lr=On.role,Tr=On.onKeyDown,Br=On.onFocus,jr=On.onBlur,Jr=On.onClick,Xn=On.onDragEnter,Ft=On.onDragOver,Bt=On.onDragLeave,Gt=On.onDrop,Qt=_objectWithoutProperties$1(On,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:dr(composeEventHandlers(Tr,Mn)),onFocus:dr(composeEventHandlers(Br,Zn)),onBlur:dr(composeEventHandlers(jr,Fn)),onClick:Jn(composeEventHandlers(Jr,wr)),onDragEnter:or(composeEventHandlers(Xn,Ht)),onDragOver:or(composeEventHandlers(Ft,cn)),onDragLeave:or(composeEventHandlers(Bt,gn)),onDrop:or(composeEventHandlers(Gt,xn)),role:typeof lr=="string"&&lr!==""?lr:"presentation"},pr,kt),!s&&!vt?{tabIndex:0}:{}),Qt)}},[kt,Mn,Zn,Fn,wr,Ht,cn,gn,xn,vt,yt,s]),Qn=reactExports.useCallback(function(On){On.stopPropagation()},[]),ar=reactExports.useMemo(function(){return function(){var On=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nn=On.refKey,pr=Nn===void 0?"ref":Nn,lr=On.onChange,Tr=On.onClick,Br=_objectWithoutProperties$1(On,_excluded4),jr=_defineProperty$1({accept:Ct,multiple:rt,type:"file",style:{display:"none"},onChange:Jn(composeEventHandlers(lr,xn)),onClick:Jn(composeEventHandlers(Tr,Qn)),tabIndex:-1},pr,Lt);return _objectSpread(_objectSpread({},jr),Br)}},[Lt,a,rt,xn,s]);return _objectSpread(_objectSpread({},Vt),{},{isFocused:Yt&&!s,getRootProps:rr,getInputProps:ar,rootRef:kt,inputRef:Lt,open:Jn(Bn)})}function reducer(o,i){switch(i.type){case"focus":return _objectSpread(_objectSpread({},o),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},o),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},o),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},o),{},{isDragActive:i.isDragActive,isDragAccept:i.isDragAccept,isDragReject:i.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},o),{},{acceptedFiles:i.acceptedFiles,fileRejections:i.fileRejections});case"reset":return _objectSpread({},initialState);default:return o}}function noop$1(){}const photos=[{src:"/gallery/18135.jpg",width:2e3,height:1538},{src:"/gallery/dogs-with-stick.jpg",width:1072,height:603}],Home=()=>{const o=useNavigate(),{pathname:i}=useLocation(),{handleSelectedImage:a}=reactExports.useContext(AppContext),{getRootProps:s,getInputProps:$}=useDropzone({accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},onDrop:et=>{try{if(et.length===0){alert("File not accepted! Try again.");return}if(et.length>1){alert("Too many files! Try again with 1 file.");return}const _e=new FileReader;_e.onloadend=()=>{o("/main"),a(et[0])},_e.readAsDataURL(et[0])}catch(_e){console.log(_e)}},maxSize:5e7});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex flex-row py-5 text-sm align-middle md:text-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{children:"选择图片, 或者"}),jsxRuntimeExports.jsxs("span",{...s(),children:[jsxRuntimeExports.jsx("input",{...$()}),jsxRuntimeExports.jsx("button",{className:"ml-1 text-blue-700 underline",children:"上传图片"})]})]})}),jsxRuntimeExports.jsx(PhotoAlbum,{layout:"rows",photos,columns:1,onClick:et=>{a(new URL(et.photo.src,location.origin),{shouldDownload:!1}),i!=="/main"&&o("/main")},renderPhoto:({imageProps:et})=>{const{src:_e,style:rt,onClick:ot}=et;return jsxRuntimeExports.jsx("img",{className:"m-0 lg:hover:opacity-50 active:opacity-50",src:_e,style:rt,onClick:it=>{ot(it)}})}})]})};var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(o,i){(function(){var a,s="4.17.21",$=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_e="Expected a function",rt="Invalid `variable` option passed into `_.template`",ot="__lodash_hash_undefined__",it=500,at="__lodash_placeholder__",j=1,_=2,tt=4,nt=1,st=2,dt=1,ft=2,gt=4,pt=8,mt=16,vt=32,yt=64,xt=128,wt=256,St=512,Ct=30,At="...",$t=800,Rt=16,kt=1,Lt=2,Dt=3,Mt=1/0,Vt=9007199254740991,Kt=17976931348623157e292,Yt=0/0,Jt=4294967295,ln=Jt-1,wn=Jt>>>1,_n=[["ary",xt],["bind",dt],["bindKey",ft],["curry",pt],["curryRight",mt],["flip",St],["partial",vt],["partialRight",yt],["rearg",wt]],kn="[object Arguments]",Cn="[object Array]",Ht="[object AsyncFunction]",cn="[object Boolean]",gn="[object Date]",jn="[object DOMException]",xn="[object Error]",Bn="[object Function]",Mn="[object GeneratorFunction]",Zn="[object Map]",Fn="[object Number]",wr="[object Null]",Jn="[object Object]",dr="[object Promise]",or="[object Proxy]",Gn="[object RegExp]",rr="[object Set]",Qn="[object String]",ar="[object Symbol]",On="[object Undefined]",Nn="[object WeakMap]",pr="[object WeakSet]",lr="[object ArrayBuffer]",Tr="[object DataView]",Br="[object Float32Array]",jr="[object Float64Array]",Jr="[object Int8Array]",Xn="[object Int16Array]",Ft="[object Int32Array]",Bt="[object Uint8Array]",Gt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",en="[object Uint32Array]",sn=/\b__p \+= '';/g,un=/\b(__p \+=) '' \+/g,hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sn=/&(?:amp|lt|gt|quot|#39);/g,$n=/[&<>"']/g,In=RegExp(Sn.source),Ln=RegExp($n.source),ir=/<%-([\s\S]+?)%>/g,rn=/<%([\s\S]+?)%>/g,Hn=/<%=([\s\S]+?)%>/g,sr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,Hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oo=/[\\^$.*+?()[\]{}|]/g,go=RegExp(oo.source),mo=/^\s+/,fr=/\s/,yr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_r=/\{\n\/\* \[wrapped with (.+)\] \*/,er=/,? & /,Rr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Do=/[()=,{}\[\]\/\s]/,tr=/\\(\\)?/g,Eo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mo=/\w*$/,vo=/^[-+]0x[0-9a-f]+$/i,us=/^0b[01]+$/i,nu=/^\[object .+?Constructor\]$/,ru=/^0o[0-7]+$/i,xu=/^(?:0|[1-9]\d*)$/,Vs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cs=/($^)/,_0=/['\n\r\u2028\u2029\\]/g,iu="\\ud800-\\udfff",Il="\\u0300-\\u036f",Dl="\\ufe20-\\ufe2f",wu="\\u20d0-\\u20ff",ou=Il+Dl+wu,Ip="\\u2700-\\u27bf",Su="a-z\\xdf-\\xf6\\xf8-\\xff",Ps="\\xac\\xb1\\xd7\\xf7",cs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wr="\\u2000-\\u206f",zr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ds="A-Z\\xc0-\\xd6\\xd8-\\xde",yo="\\ufe0e\\ufe0f",To=Ps+cs+Wr+zr,fs="['’]",Zs="["+iu+"]",Co="["+To+"]",hs="["+ou+"]",au="\\d+",_h="["+Ip+"]",jt="["+Su+"]",qt="[^"+iu+To+au+Ip+Su+ds+"]",Zt="\\ud83c[\\udffb-\\udfff]",mn="(?:"+hs+"|"+Zt+")",Dn="[^"+iu+"]",zn="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+ds+"]",Xo="\\u200d",uo="(?:"+jt+"|"+qt+")",Vo="(?:"+Xr+"|"+qt+")",ep="(?:"+fs+"(?:d|ll|m|re|s|t|ve))?",su="(?:"+fs+"(?:D|LL|M|RE|S|T|VE))?",bn=mn+"?",Pr="["+yo+"]?",Qr="(?:"+Xo+"(?:"+[Dn,zn,gr].join("|")+")"+Pr+bn+")*",Js="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Eu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fr=Pr+bn+Qr,mm="(?:"+[_h,zn,gr].join("|")+")"+Fr,b0="(?:"+[Dn+hs+"?",hs,zn,gr,Zs].join("|")+")",vm=RegExp(fs,"g"),o1=RegExp(hs,"g"),x0=RegExp(Zt+"(?="+Zt+")|"+b0+Fr,"g"),Fo=RegExp([Xr+"?"+jt+"+"+ep+"(?="+[Co,Xr,"$"].join("|")+")",Vo+"+"+su+"(?="+[Co,Xr+uo,"$"].join("|")+")",Xr+"?"+uo+"+"+ep,Xr+"+"+su,Eu,Js,au,mm].join("|"),"g"),w0=RegExp("["+Xo+iu+ou+yo+"]"),a1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],s1=-1,Kr={};Kr[Br]=Kr[jr]=Kr[Jr]=Kr[Xn]=Kr[Ft]=Kr[Bt]=Kr[Gt]=Kr[Qt]=Kr[en]=!0,Kr[kn]=Kr[Cn]=Kr[lr]=Kr[cn]=Kr[Tr]=Kr[gn]=Kr[xn]=Kr[Bn]=Kr[Zn]=Kr[Fn]=Kr[Jn]=Kr[Gn]=Kr[rr]=Kr[Qn]=Kr[Nn]=!1;var Ir={};Ir[kn]=Ir[Cn]=Ir[lr]=Ir[Tr]=Ir[cn]=Ir[gn]=Ir[Br]=Ir[jr]=Ir[Jr]=Ir[Xn]=Ir[Ft]=Ir[Zn]=Ir[Fn]=Ir[Jn]=Ir[Gn]=Ir[rr]=Ir[Qn]=Ir[ar]=Ir[Bt]=Ir[Gt]=Ir[Qt]=Ir[en]=!0,Ir[xn]=Ir[Bn]=Ir[Nn]=!1;var l1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},u1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},As={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dp=parseFloat,E0=parseInt,T0=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,c1=typeof self=="object"&&self&&self.Object===Object&&self,_i=T0||c1||Function("return this")(),Ml=i&&!i.nodeType&&i,ps=Ml&&!0&&o&&!o.nodeType&&o,tp=ps&&ps.exports===Ml,Tu=tp&&T0.process,ao=function(){try{var tn=ps&&ps.require&&ps.require("util").types;return tn||Tu&&Tu.binding&&Tu.binding("util")}catch{}}(),ts=ao&&ao.isArrayBuffer,Fl=ao&&ao.isDate,Bs=ao&&ao.isMap,Gs=ao&&ao.isRegExp,Nl=ao&&ao.isSet,C0=ao&&ao.isTypedArray;function Qo(tn,yn,pn){switch(pn.length){case 0:return tn.call(yn);case 1:return tn.call(yn,pn[0]);case 2:return tn.call(yn,pn[0],pn[1]);case 3:return tn.call(yn,pn[0],pn[1],pn[2])}return tn.apply(yn,pn)}function P0(tn,yn,pn,Wn){for(var mr=-1,Nr=tn==null?0:tn.length;++mr<Nr;){var Sr=tn[mr];yn(Wn,Sr,pn(Sr),tn)}return Wn}function ro(tn,yn){for(var pn=-1,Wn=tn==null?0:tn.length;++pn<Wn&&yn(tn[pn],pn,tn)!==!1;);return tn}function gs(tn,yn){for(var pn=tn==null?0:tn.length;pn--&&yn(tn[pn],pn,tn)!==!1;);return tn}function eo(tn,yn){for(var pn=-1,Wn=tn==null?0:tn.length;++pn<Wn;)if(!yn(tn[pn],pn,tn))return!1;return!0}function ms(tn,yn){for(var pn=-1,Wn=tn==null?0:tn.length,mr=0,Nr=[];++pn<Wn;){var Sr=tn[pn];yn(Sr,pn,tn)&&(Nr[mr++]=Sr)}return Nr}function xa(tn,yn){var pn=tn==null?0:tn.length;return!!pn&&Au(tn,yn,0)>-1}function Mp(tn,yn,pn){for(var Wn=-1,mr=tn==null?0:tn.length;++Wn<mr;)if(pn(yn,tn[Wn]))return!0;return!1}function to(tn,yn){for(var pn=-1,Wn=tn==null?0:tn.length,mr=Array(Wn);++pn<Wn;)mr[pn]=yn(tn[pn],pn,tn);return mr}function Hs(tn,yn){for(var pn=-1,Wn=yn.length,mr=tn.length;++pn<Wn;)tn[mr+pn]=yn[pn];return tn}function np(tn,yn,pn,Wn){var mr=-1,Nr=tn==null?0:tn.length;for(Wn&&Nr&&(pn=tn[++mr]);++mr<Nr;)pn=yn(pn,tn[mr],mr,tn);return pn}function ym(tn,yn,pn,Wn){var mr=tn==null?0:tn.length;for(Wn&&mr&&(pn=tn[--mr]);mr--;)pn=yn(pn,tn[mr],mr,tn);return pn}function Cu(tn,yn){for(var pn=-1,Wn=tn==null?0:tn.length;++pn<Wn;)if(yn(tn[pn],pn,tn))return!0;return!1}var _m=Ll("length");function Pu(tn){return tn.split("")}function A0(tn){return tn.match(Rr)||[]}function bm(tn,yn,pn){var Wn;return pn(tn,function(mr,Nr,Sr){if(yn(mr,Nr,Sr))return Wn=Nr,!1}),Wn}function lu(tn,yn,pn,Wn){for(var mr=tn.length,Nr=pn+(Wn?1:-1);Wn?Nr--:++Nr<mr;)if(yn(tn[Nr],Nr,tn))return Nr;return-1}function Au(tn,yn,pn){return yn===yn?Tm(tn,yn,pn):lu(tn,rp,pn)}function Os(tn,yn,pn,Wn){for(var mr=pn-1,Nr=tn.length;++mr<Nr;)if(Wn(tn[mr],yn))return mr;return-1}function rp(tn){return tn!==tn}function ip(tn,yn){var pn=tn==null?0:tn.length;return pn?ap(tn,yn)/pn:Yt}function Ll(tn){return function(yn){return yn==null?a:yn[tn]}}function op(tn){return function(yn){return tn==null?a:tn[yn]}}function Fp(tn,yn,pn,Wn,mr){return mr(tn,function(Nr,Sr,Vr){pn=Wn?(Wn=!1,Nr):yn(pn,Nr,Sr,Vr)}),pn}function xm(tn,yn){var pn=tn.length;for(tn.sort(yn);pn--;)tn[pn]=tn[pn].value;return tn}function ap(tn,yn){for(var pn,Wn=-1,mr=tn.length;++Wn<mr;){var Nr=yn(tn[Wn]);Nr!==a&&(pn=pn===a?Nr:pn+Nr)}return pn}function sp(tn,yn){for(var pn=-1,Wn=Array(tn);++pn<tn;)Wn[pn]=yn(pn);return Wn}function Ou(tn,yn){return to(yn,function(pn){return[pn,tn[pn]]})}function ns(tn){return tn&&tn.slice(0,R0(tn)+1).replace(mo,"")}function Po(tn){return function(yn){return tn(yn)}}function lp(tn,yn){return to(yn,function(pn){return tn[pn]})}function $u(tn,yn){return tn.has(yn)}function $s(tn,yn){for(var pn=-1,Wn=tn.length;++pn<Wn&&Au(yn,tn[pn],0)>-1;);return pn}function _l(tn,yn){for(var pn=tn.length;pn--&&Au(yn,tn[pn],0)>-1;);return pn}function O0(tn,yn){for(var pn=tn.length,Wn=0;pn--;)tn[pn]===yn&&++Wn;return Wn}var wm=op(l1),xl=op(u1);function Ul(tn){return"\\"+yl[tn]}function Np(tn,yn){return tn==null?a:tn[yn]}function uu(tn){return w0.test(tn)}function Lp(tn){return a1.test(tn)}function Sm(tn){for(var yn,pn=[];!(yn=tn.next()).done;)pn.push(yn.value);return pn}function jp(tn){var yn=-1,pn=Array(tn.size);return tn.forEach(function(Wn,mr){pn[++yn]=[mr,Wn]}),pn}function Up(tn,yn){return function(pn){return tn(yn(pn))}}function Rs(tn,yn){for(var pn=-1,Wn=tn.length,mr=0,Nr=[];++pn<Wn;){var Sr=tn[pn];(Sr===yn||Sr===at)&&(tn[pn]=at,Nr[mr++]=pn)}return Nr}function up(tn){var yn=-1,pn=Array(tn.size);return tn.forEach(function(Wn){pn[++yn]=Wn}),pn}function Em(tn){var yn=-1,pn=Array(tn.size);return tn.forEach(function(Wn){pn[++yn]=[Wn,Wn]}),pn}function Tm(tn,yn,pn){for(var Wn=pn-1,mr=tn.length;++Wn<mr;)if(tn[Wn]===yn)return Wn;return-1}function $0(tn,yn,pn){for(var Wn=pn+1;Wn--;)if(tn[Wn]===yn)return Wn;return Wn}function Ws(tn){return uu(tn)?Ru(tn):_m(tn)}function $a(tn){return uu(tn)?Pm(tn):Pu(tn)}function R0(tn){for(var yn=tn.length;yn--&&fr.test(tn.charAt(yn)););return yn}var Cm=op(As);function Ru(tn){for(var yn=x0.lastIndex=0;x0.test(tn);)++yn;return yn}function Pm(tn){return tn.match(x0)||[]}function cp(tn){return tn.match(Fo)||[]}var vs=function tn(yn){yn=yn==null?_i:Ks.defaults(_i.Object(),yn,Ks.pick(_i,S0));var pn=yn.Array,Wn=yn.Date,mr=yn.Error,Nr=yn.Function,Sr=yn.Math,Vr=yn.Object,dp=yn.RegExp,k0=yn.String,Zo=yn.TypeError,ku=pn.prototype,cu=Nr.prototype,qr=Vr.prototype,so=yn["__core-js_shared__"],co=cu.toString,Ur=qr.hasOwnProperty,fp=0,Iu=function(){var lt=/[^.]+$/.exec(so&&so.keys&&so.keys.IE_PROTO||"");return lt?"Symbol(src)_1."+lt:""}(),zp=qr.toString,Bo=co.call(Vr),I0=_i._,D0=dp("^"+co.call(Ur).replace(oo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Du=tp?yn.Buffer:a,jo=yn.Symbol,Jo=yn.Uint8Array,Mu=Du?Du.allocUnsafe:a,Fu=Up(Vr.getPrototypeOf,Vr),Vp=Vr.create,M0=qr.propertyIsEnumerable,hp=ku.splice,F0=jo?jo.isConcatSpreadable:a,Nu=jo?jo.iterator:a,zl=jo?jo.toStringTag:a,pp=function(){try{var lt=Or(Vr,"defineProperty");return lt({},"",{}),lt}catch{}}(),Am=yn.clearTimeout!==_i.clearTimeout&&yn.clearTimeout,Om=Wn&&Wn.now!==_i.Date.now&&Wn.now,gp=yn.setTimeout!==_i.setTimeout&&yn.setTimeout,mp=Sr.ceil,du=Sr.floor,Lu=Vr.getOwnPropertySymbols,$m=Du?Du.isBuffer:a,Bp=yn.isFinite,Rm=ku.join,km=Up(Vr.keys,Vr),_o=Sr.max,Uo=Sr.min,N0=Wn.now,Im=yn.parseInt,L0=Sr.random,Dm=ku.reverse,j0=Or(yn,"DataView"),ju=Or(yn,"Map"),U0=Or(yn,"Promise"),Uu=Or(yn,"Set"),zu=Or(yn,"WeakMap"),Vu=Or(Vr,"create"),vp=zu&&new zu,Sl={},d1=Rp(j0),f1=Rp(ju),h1=Rp(U0),Bu=Rp(Uu),z0=Rp(zu),Gu=jo?jo.prototype:a,yp=Gu?Gu.valueOf:a,V0=Gu?Gu.toString:a;function Nt(lt){if(So(lt)&&!Er(lt)&&!(lt instanceof kr)){if(lt instanceof rs)return lt;if(Ur.call(lt,"__wrapped__"))return X1(lt)}return new rs(lt)}var fu=function(){function lt(){}return function(ht){if(!po(ht))return{};if(Vp)return Vp(ht);lt.prototype=ht;var bt=new lt;return lt.prototype=a,bt}}();function _p(){}function rs(lt,ht){this.__wrapped__=lt,this.__actions__=[],this.__chain__=!!ht,this.__index__=0,this.__values__=a}Nt.templateSettings={escape:ir,evaluate:rn,interpolate:Hn,variable:"",imports:{_:Nt}},Nt.prototype=_p.prototype,Nt.prototype.constructor=Nt,rs.prototype=fu(_p.prototype),rs.prototype.constructor=rs;function kr(lt){this.__wrapped__=lt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Jt,this.__views__=[]}function es(){var lt=new kr(this.__wrapped__);return lt.__actions__=ba(this.__actions__),lt.__dir__=this.__dir__,lt.__filtered__=this.__filtered__,lt.__iteratees__=ba(this.__iteratees__),lt.__takeCount__=this.__takeCount__,lt.__views__=ba(this.__views__),lt}function na(){if(this.__filtered__){var lt=new kr(this);lt.__dir__=-1,lt.__filtered__=!0}else lt=this.clone(),lt.__dir__*=-1;return lt}function Mm(){var lt=this.__wrapped__.value(),ht=this.__dir__,bt=Er(lt),Pt=ht<0,It=bt?lt.length:0,Ut=kv(0,It,this.__views__),Wt=Ut.start,Xt=Ut.end,an=Xt-Wt,En=Pt?Xt:Wt-1,Tn=this.__iteratees__,An=Tn.length,Vn=0,nr=Uo(an,this.__takeCount__);if(!bt||!Pt&&It==an&&nr==an)return Xl(lt,this.__actions__);var ur=[];e:for(;an--&&Vn<nr;){En+=ht;for(var $r=-1,cr=lt[En];++$r<An;){var Dr=Tn[$r],Lr=Dr.iteratee,Us=Dr.type,ls=Lr(cr);if(Us==Lt)cr=ls;else if(!ls){if(Us==kt)continue e;break e}}ur[Vn++]=cr}return ur}kr.prototype=fu(_p.prototype),kr.prototype.constructor=kr;function Vl(lt){var ht=-1,bt=lt==null?0:lt.length;for(this.clear();++ht<bt;){var Pt=lt[ht];this.set(Pt[0],Pt[1])}}function Fm(){this.__data__=Vu?Vu(null):{},this.size=0}function Nm(lt){var ht=this.has(lt)&&delete this.__data__[lt];return this.size-=ht?1:0,ht}function Lm(lt){var ht=this.__data__;if(Vu){var bt=ht[lt];return bt===ot?a:bt}return Ur.call(ht,lt)?ht[lt]:a}function B0(lt){var ht=this.__data__;return Vu?ht[lt]!==a:Ur.call(ht,lt)}function jm(lt,ht){var bt=this.__data__;return this.size+=this.has(lt)?0:1,bt[lt]=Vu&&ht===a?ot:ht,this}Vl.prototype.clear=Fm,Vl.prototype.delete=Nm,Vl.prototype.get=Lm,Vl.prototype.has=B0,Vl.prototype.set=jm;function ks(lt){var ht=-1,bt=lt==null?0:lt.length;for(this.clear();++ht<bt;){var Pt=lt[ht];this.set(Pt[0],Pt[1])}}function Um(){this.__data__=[],this.size=0}function zm(lt){var ht=this.__data__,bt=Ao(ht,lt);if(bt<0)return!1;var Pt=ht.length-1;return bt==Pt?ht.pop():hp.call(ht,bt,1),--this.size,!0}function G0(lt){var ht=this.__data__,bt=Ao(ht,lt);return bt<0?a:ht[bt][1]}function H0(lt){return Ao(this.__data__,lt)>-1}function Vm(lt,ht){var bt=this.__data__,Pt=Ao(bt,lt);return Pt<0?(++this.size,bt.push([lt,ht])):bt[Pt][1]=ht,this}ks.prototype.clear=Um,ks.prototype.delete=zm,ks.prototype.get=G0,ks.prototype.has=H0,ks.prototype.set=Vm;function Is(lt){var ht=-1,bt=lt==null?0:lt.length;for(this.clear();++ht<bt;){var Pt=lt[ht];this.set(Pt[0],Pt[1])}}function Gp(){this.size=0,this.__data__={hash:new Vl,map:new(ju||ks),string:new Vl}}function p1(lt){var ht=xr(this,lt).delete(lt);return this.size-=ht?1:0,ht}function Bm(lt){return xr(this,lt).get(lt)}function W0(lt){return xr(this,lt).has(lt)}function Gm(lt,ht){var bt=xr(this,lt),Pt=bt.size;return bt.set(lt,ht),this.size+=bt.size==Pt?0:1,this}Is.prototype.clear=Gp,Is.prototype.delete=p1,Is.prototype.get=Bm,Is.prototype.has=W0,Is.prototype.set=Gm;function qs(lt){var ht=-1,bt=lt==null?0:lt.length;for(this.__data__=new Is;++ht<bt;)this.add(lt[ht])}function El(lt){return this.__data__.set(lt,ot),this}function g1(lt){return this.__data__.has(lt)}qs.prototype.add=qs.prototype.push=El,qs.prototype.has=g1;function bo(lt){var ht=this.__data__=new ks(lt);this.size=ht.size}function Hm(){this.__data__=new ks,this.size=0}function bp(lt){var ht=this.__data__,bt=ht.delete(lt);return this.size=ht.size,bt}function xp(lt){return this.__data__.get(lt)}function Hp(lt){return this.__data__.has(lt)}function Wp(lt,ht){var bt=this.__data__;if(bt instanceof ks){var Pt=bt.__data__;if(!ju||Pt.length<$-1)return Pt.push([lt,ht]),this.size=++bt.size,this;bt=this.__data__=new Is(Pt)}return bt.set(lt,ht),this.size=bt.size,this}bo.prototype.clear=Hm,bo.prototype.delete=bp,bo.prototype.get=xp,bo.prototype.has=Hp,bo.prototype.set=Wp;function K0(lt,ht){var bt=Er(lt),Pt=!bt&&kp(lt),It=!bt&&!Pt&&_f(lt),Ut=!bt&&!Pt&&!It&&v0(lt),Wt=bt||Pt||It||Ut,Xt=Wt?sp(lt.length,k0):[],an=Xt.length;for(var En in lt)(ht||Ur.call(lt,En))&&!(Wt&&(En=="length"||It&&(En=="offset"||En=="parent")||Ut&&(En=="buffer"||En=="byteLength"||En=="byteOffset")||vu(En,an)))&&Xt.push(En);return Xt}function Hu(lt){var ht=lt.length;return ht?lt[Sp(0,ht-1)]:a}function Go(lt,ht){return Xm(ba(lt),hu(ht,0,lt.length))}function m1(lt){return Xm(ba(lt))}function q0(lt,ht,bt){(bt!==a&&!$l(lt[ht],bt)||bt===a&&!(ht in lt))&&Ds(lt,ht,bt)}function Bl(lt,ht,bt){var Pt=lt[ht];(!(Ur.call(lt,ht)&&$l(Pt,bt))||bt===a&&!(ht in lt))&&Ds(lt,ht,bt)}function Ao(lt,ht){for(var bt=lt.length;bt--;)if($l(lt[bt][0],ht))return bt;return-1}function v1(lt,ht,bt,Pt){return Tl(lt,function(It,Ut,Wt){ht(Pt,It,bt(It),Wt)}),Pt}function qn(lt,ht){return lt&&Ys(ht,Yo(ht),lt)}function Wu(lt,ht){return lt&&Ys(ht,Ss(ht),lt)}function Ds(lt,ht,bt){ht=="__proto__"&&pp?pp(lt,ht,{configurable:!0,enumerable:!0,value:bt,writable:!0}):lt[ht]=bt}function Kp(lt,ht){for(var bt=-1,Pt=ht.length,It=pn(Pt),Ut=lt==null;++bt<Pt;)It[bt]=Ut?a:R1(lt,ht[bt]);return It}function hu(lt,ht,bt){return lt===lt&&(bt!==a&&(lt=lt<=bt?lt:bt),ht!==a&&(lt=lt>=ht?lt:ht)),lt}function Ho(lt,ht,bt,Pt,It,Ut){var Wt,Xt=ht&j,an=ht&_,En=ht&tt;if(bt&&(Wt=It?bt(lt,Pt,It,Ut):bt(lt)),Wt!==a)return Wt;if(!po(lt))return lt;var Tn=Er(lt);if(Tn){if(Wt=Dv(lt),!Xt)return ba(lt,Wt)}else{var An=qo(lt),Vn=An==Bn||An==Mn;if(_f(lt))return Zl(lt,Xt);if(An==Jn||An==kn||Vn&&!It){if(Wt=an||Vn?{}:z1(lt),!Xt)return an?um(lt,Wu(Wt,lt)):xs(lt,qn(Wt,lt))}else{if(!Ir[An])return It?lt:{};Wt=Mv(lt,An,Xt)}}Ut||(Ut=new bo);var nr=Ut.get(lt);if(nr)return nr;Ut.set(lt,Wt),mv(lt)?lt.forEach(function(cr){Wt.add(Ho(cr,ht,bt,cr,lt,Ut))}):pv(lt)&&lt.forEach(function(cr,Dr){Wt.set(Dr,Ho(cr,ht,bt,Dr,lt,Ut))});var ur=En?an?fn:Ls:an?Ss:Yo,$r=Tn?a:ur(lt);return ro($r||lt,function(cr,Dr){$r&&(Dr=cr,cr=lt[Dr]),Bl(Wt,Dr,Ho(cr,ht,bt,Dr,lt,Ut))}),Wt}function qp(lt){var ht=Yo(lt);return function(bt){return Yp(bt,lt,ht)}}function Yp(lt,ht,bt){var Pt=bt.length;if(lt==null)return!Pt;for(lt=Vr(lt);Pt--;){var It=bt[Pt],Ut=ht[It],Wt=lt[It];if(Wt===a&&!(It in lt)||!Ut(Wt))return!1}return!0}function Y0(lt,ht,bt){if(typeof lt!="function")throw new Zo(_e);return pm(function(){lt.apply(a,bt)},ht)}function Ku(lt,ht,bt,Pt){var It=-1,Ut=xa,Wt=!0,Xt=lt.length,an=[],En=ht.length;if(!Xt)return an;bt&&(ht=to(ht,Po(bt))),Pt?(Ut=Mp,Wt=!1):ht.length>=$&&(Ut=$u,Wt=!1,ht=new qs(ht));e:for(;++It<Xt;){var Tn=lt[It],An=bt==null?Tn:bt(Tn);if(Tn=Pt||Tn!==0?Tn:0,Wt&&An===An){for(var Vn=En;Vn--;)if(ht[Vn]===An)continue e;an.push(Tn)}else Ut(ht,An,Pt)||an.push(Tn)}return an}var Tl=Pp(Ns),Xp=Pp(_s,!0);function X0(lt,ht){var bt=!0;return Tl(lt,function(Pt,It,Ut){return bt=!!ht(Pt,It,Ut),bt}),bt}function xo(lt,ht,bt){for(var Pt=-1,It=lt.length;++Pt<It;){var Ut=lt[Pt],Wt=ht(Ut);if(Wt!=null&&(Xt===a?Wt===Wt&&!js(Wt):bt(Wt,Xt)))var Xt=Wt,an=Ut}return an}function Ms(lt,ht,bt,Pt){var It=lt.length;for(bt=Cr(bt),bt<0&&(bt=-bt>It?0:It+bt),Pt=Pt===a||Pt>It?It:Cr(Pt),Pt<0&&(Pt+=It),Pt=bt>Pt?0:yv(Pt);bt<Pt;)lt[bt++]=ht;return lt}function Fs(lt,ht){var bt=[];return Tl(lt,function(Pt,It,Ut){ht(Pt,It,Ut)&&bt.push(Pt)}),bt}function Oo(lt,ht,bt,Pt,It){var Ut=-1,Wt=lt.length;for(bt||(bt=Nv),It||(It=[]);++Ut<Wt;){var Xt=lt[Ut];ht>0&&bt(Xt)?ht>1?Oo(Xt,ht-1,bt,Pt,It):Hs(It,Xt):Pt||(It[It.length]=Xt)}return It}var Qp=Jl(),ys=Jl(!0);function Ns(lt,ht){return lt&&Qp(lt,ht,Yo)}function _s(lt,ht){return lt&&ys(lt,ht,Yo)}function Zp(lt,ht){return ms(ht,function(bt){return yu(lt[bt])})}function Gl(lt,ht){ht=Ql(ht,lt);for(var bt=0,Pt=ht.length;lt!=null&&bt<Pt;)lt=lt[tu(ht[bt++])];return bt&&bt==Pt?lt:a}function Q0(lt,ht,bt){var Pt=ht(lt);return Er(lt)?Pt:Hs(Pt,bt(lt))}function Wo(lt){return lt==null?lt===a?On:wr:zl&&zl in Vr(lt)?Lo(lt):Gv(lt)}function Jp(lt,ht){return lt>ht}function _g(lt,ht){return lt!=null&&Ur.call(lt,ht)}function e0(lt,ht){return lt!=null&&ht in Vr(lt)}function t0(lt,ht,bt){return lt>=Uo(ht,bt)&&lt<_o(ht,bt)}function qu(lt,ht,bt){for(var Pt=bt?Mp:xa,It=lt[0].length,Ut=lt.length,Wt=Ut,Xt=pn(Ut),an=1/0,En=[];Wt--;){var Tn=lt[Wt];Wt&&ht&&(Tn=to(Tn,Po(ht))),an=Uo(Tn.length,an),Xt[Wt]=!bt&&(ht||It>=120&&Tn.length>=120)?new qs(Wt&&Tn):a}Tn=lt[0];var An=-1,Vn=Xt[0];e:for(;++An<It&&En.length<an;){var nr=Tn[An],ur=ht?ht(nr):nr;if(nr=bt||nr!==0?nr:0,!(Vn?$u(Vn,ur):Pt(En,ur,bt))){for(Wt=Ut;--Wt;){var $r=Xt[Wt];if(!($r?$u($r,ur):Pt(lt[Wt],ur,bt)))continue e}Vn&&Vn.push(ur),En.push(nr)}}return En}function n0(lt,ht,bt,Pt){return Ns(lt,function(It,Ut,Wt){ht(Pt,bt(It),Ut,Wt)}),Pt}function Cl(lt,ht,bt){ht=Ql(ht,lt),lt=H1(lt,ht);var Pt=lt==null?lt:lt[tu(Xs(ht))];return Pt==null?a:Qo(Pt,lt,bt)}function r0(lt){return So(lt)&&Wo(lt)==kn}function Z0(lt){return So(lt)&&Wo(lt)==lr}function J0(lt){return So(lt)&&Wo(lt)==gn}function Yu(lt,ht,bt,Pt,It){return lt===ht?!0:lt==null||ht==null||!So(lt)&&!So(ht)?lt!==lt&&ht!==ht:em(lt,ht,bt,Pt,Yu,It)}function em(lt,ht,bt,Pt,It,Ut){var Wt=Er(lt),Xt=Er(ht),an=Wt?Cn:qo(lt),En=Xt?Cn:qo(ht);an=an==kn?Jn:an,En=En==kn?Jn:En;var Tn=an==Jn,An=En==Jn,Vn=an==En;if(Vn&&_f(lt)){if(!_f(ht))return!1;Wt=!0,Tn=!1}if(Vn&&!Tn)return Ut||(Ut=new bo),Wt||v0(lt)?Kn(lt,ht,bt,Pt,It,Ut):no(lt,ht,an,bt,Pt,It,Ut);if(!(bt&nt)){var nr=Tn&&Ur.call(lt,"__wrapped__"),ur=An&&Ur.call(ht,"__wrapped__");if(nr||ur){var $r=nr?lt.value():lt,cr=ur?ht.value():ht;return Ut||(Ut=new bo),It($r,cr,bt,Pt,Ut)}}return Vn?(Ut||(Ut=new bo),Zr(lt,ht,bt,Pt,It,Ut)):!1}function y1(lt){return So(lt)&&qo(lt)==Zn}function Xu(lt,ht,bt,Pt){var It=bt.length,Ut=It,Wt=!Pt;if(lt==null)return!Ut;for(lt=Vr(lt);It--;){var Xt=bt[It];if(Wt&&Xt[2]?Xt[1]!==lt[Xt[0]]:!(Xt[0]in lt))return!1}for(;++It<Ut;){Xt=bt[It];var an=Xt[0],En=lt[an],Tn=Xt[1];if(Wt&&Xt[2]){if(En===a&&!(an in lt))return!1}else{var An=new bo;if(Pt)var Vn=Pt(En,Tn,an,lt,ht,An);if(!(Vn===a?Yu(Tn,En,nt|st,Pt,An):Vn))return!1}}return!0}function i0(lt){if(!po(lt)||jv(lt))return!1;var ht=yu(lt)?D0:nu;return ht.test(Rp(lt))}function fo(lt){return So(lt)&&Wo(lt)==Gn}function Ar(lt){return So(lt)&&qo(lt)==rr}function No(lt){return So(lt)&&n1(lt.length)&&!!Kr[Wo(lt)]}function ho(lt){return typeof lt=="function"?lt:lt==null?Es:typeof lt=="object"?Er(lt)?Wl(lt[0],lt[1]):Qu(lt):Ov(lt)}function $o(lt){if(!hm(lt))return km(lt);var ht=[];for(var bt in Vr(lt))Ur.call(lt,bt)&&bt!="constructor"&&ht.push(bt);return ht}function is(lt){if(!po(lt))return Bv(lt);var ht=hm(lt),bt=[];for(var Pt in lt)Pt=="constructor"&&(ht||!Ur.call(lt,Pt))||bt.push(Pt);return bt}function Hl(lt,ht){return lt<ht}function wo(lt,ht){var bt=-1,Pt=ws(lt)?pn(lt.length):[];return Tl(lt,function(It,Ut,Wt){Pt[++bt]=ht(It,Ut,Wt)}),Pt}function Qu(lt){var ht=vr(lt);return ht.length==1&&ht[0][2]?B1(ht[0][0],ht[0][1]):function(bt){return bt===lt||Xu(bt,lt,ht)}}function Wl(lt,ht){return x1(lt)&&V1(ht)?B1(tu(lt),ht):function(bt){var Pt=R1(bt,lt);return Pt===a&&Pt===ht?k1(bt,lt):Yu(ht,Pt,nt|st)}}function pu(lt,ht,bt,Pt,It){lt!==ht&&Qp(ht,function(Ut,Wt){if(It||(It=new bo),po(Ut))tm(lt,ht,Wt,bt,pu,Pt,It);else{var Xt=Pt?Pt(S1(lt,Wt),Ut,Wt+"",lt,ht,It):a;Xt===a&&(Xt=Ut),q0(lt,Wt,Xt)}},Ss)}function tm(lt,ht,bt,Pt,It,Ut,Wt){var Xt=S1(lt,bt),an=S1(ht,bt),En=Wt.get(an);if(En){q0(lt,bt,En);return}var Tn=Ut?Ut(Xt,an,bt+"",lt,ht,Wt):a,An=Tn===a;if(An){var Vn=Er(an),nr=!Vn&&_f(an),ur=!Vn&&!nr&&v0(an);Tn=an,Vn||nr||ur?Er(Xt)?Tn=Xt:ko(Xt)?Tn=ba(Xt):nr?(An=!1,Tn=Zl(an,!0)):ur?(An=!1,Tn=Km(an,!0)):Tn=[]:gm(an)||kp(an)?(Tn=Xt,kp(Xt)?Tn=_v(Xt):(!po(Xt)||yu(Xt))&&(Tn=z1(an))):An=!1}An&&(Wt.set(an,Tn),It(Tn,an,Pt,Ut,Wt),Wt.delete(an)),q0(lt,bt,Tn)}function Zu(lt,ht){var bt=lt.length;if(bt)return ht+=ht<0?bt:0,vu(ht,bt)?lt[ht]:a}function ga(lt,ht,bt){ht.length?ht=to(ht,function(Ut){return Er(Ut)?function(Wt){return Gl(Wt,Ut.length===1?Ut[0]:Ut)}:Ut}):ht=[Es];var Pt=-1;ht=to(ht,Po(Pn()));var It=wo(lt,function(Ut,Wt,Xt){var an=to(ht,function(En){return En(Ut)});return{criteria:an,index:++Pt,value:Ut}});return xm(It,function(Ut,Wt){return b1(Ut,Wt,bt)})}function nm(lt,ht){return o0(lt,ht,function(bt,Pt){return k1(lt,Pt)})}function o0(lt,ht,bt){for(var Pt=-1,It=ht.length,Ut={};++Pt<It;){var Wt=ht[Pt],Xt=Gl(lt,Wt);bt(Xt,Wt)&&gu(Ut,Ql(Wt,lt),Xt)}return Ut}function Pl(lt){return function(ht){return Gl(ht,lt)}}function Kl(lt,ht,bt,Pt){var It=Pt?Os:Au,Ut=-1,Wt=ht.length,Xt=lt;for(lt===ht&&(ht=ba(ht)),bt&&(Xt=to(lt,Po(bt)));++Ut<Wt;)for(var an=0,En=ht[Ut],Tn=bt?bt(En):En;(an=It(Xt,Tn,an,Pt))>-1;)Xt!==lt&&hp.call(Xt,an,1),hp.call(lt,an,1);return lt}function wp(lt,ht){for(var bt=lt?ht.length:0,Pt=bt-1;bt--;){var It=ht[bt];if(bt==Pt||It!==Ut){var Ut=It;vu(It)?hp.call(lt,It,1):d0(lt,It)}}return lt}function Sp(lt,ht){return lt+du(L0()*(ht-lt+1))}function Yl(lt,ht,bt,Pt){for(var It=-1,Ut=_o(mp((ht-lt)/(bt||1)),0),Wt=pn(Ut);Ut--;)Wt[Pt?Ut:++It]=lt,lt+=bt;return Wt}function Ju(lt,ht){var bt="";if(!lt||ht<1||ht>Vt)return bt;do ht%2&&(bt+=lt),ht=du(ht/2),ht&&(lt+=lt);while(ht);return bt}function hr(lt,ht){return E1(G1(lt,ht,Es),lt+"")}function a0(lt){return Hu(y0(lt))}function Ep(lt,ht){var bt=y0(lt);return Xm(bt,hu(ht,0,bt.length))}function gu(lt,ht,bt,Pt){if(!po(lt))return lt;ht=Ql(ht,lt);for(var It=-1,Ut=ht.length,Wt=Ut-1,Xt=lt;Xt!=null&&++It<Ut;){var an=tu(ht[It]),En=bt;if(an==="__proto__"||an==="constructor"||an==="prototype")return lt;if(It!=Wt){var Tn=Xt[an];En=Pt?Pt(Tn,an,Xt):a,En===a&&(En=po(Tn)?Tn:vu(ht[It+1])?[]:{})}Bl(Xt,an,En),Xt=Xt[an]}return lt}var Tp=vp?function(lt,ht){return vp.set(lt,ht),lt}:Es,s0=pp?function(lt,ht){return pp(lt,"toString",{configurable:!0,enumerable:!1,value:D1(ht),writable:!0})}:Es;function Ko(lt){return Xm(y0(lt))}function Ro(lt,ht,bt){var Pt=-1,It=lt.length;ht<0&&(ht=-ht>It?0:It+ht),bt=bt>It?It:bt,bt<0&&(bt+=It),It=ht>bt?0:bt-ht>>>0,ht>>>=0;for(var Ut=pn(It);++Pt<It;)Ut[Pt]=lt[Pt+ht];return Ut}function bs(lt,ht){var bt;return Tl(lt,function(Pt,It,Ut){return bt=ht(Pt,It,Ut),!bt}),!!bt}function zo(lt,ht,bt){var Pt=0,It=lt==null?Pt:lt.length;if(typeof ht=="number"&&ht===ht&&It<=wn){for(;Pt<It;){var Ut=Pt+It>>>1,Wt=lt[Ut];Wt!==null&&!js(Wt)&&(bt?Wt<=ht:Wt<ht)?Pt=Ut+1:It=Ut}return It}return l0(lt,ht,Es,bt)}function l0(lt,ht,bt,Pt){var It=0,Ut=lt==null?0:lt.length;if(Ut===0)return 0;ht=bt(ht);for(var Wt=ht!==ht,Xt=ht===null,an=js(ht),En=ht===a;It<Ut;){var Tn=du((It+Ut)/2),An=bt(lt[Tn]),Vn=An!==a,nr=An===null,ur=An===An,$r=js(An);if(Wt)var cr=Pt||ur;else En?cr=ur&&(Pt||Vn):Xt?cr=ur&&Vn&&(Pt||!nr):an?cr=ur&&Vn&&!nr&&(Pt||!$r):nr||$r?cr=!1:cr=Pt?An<=ht:An<ht;cr?It=Tn+1:Ut=Tn}return Uo(Ut,ln)}function u0(lt,ht){for(var bt=-1,Pt=lt.length,It=0,Ut=[];++bt<Pt;){var Wt=lt[bt],Xt=ht?ht(Wt):Wt;if(!bt||!$l(Xt,an)){var an=Xt;Ut[It++]=Wt===0?0:Wt}}return Ut}function c0(lt){return typeof lt=="number"?lt:js(lt)?Yt:+lt}function os(lt){if(typeof lt=="string")return lt;if(Er(lt))return to(lt,os)+"";if(js(lt))return V0?V0.call(lt):"";var ht=lt+"";return ht=="0"&&1/lt==-Mt?"-0":ht}function _a(lt,ht,bt){var Pt=-1,It=xa,Ut=lt.length,Wt=!0,Xt=[],an=Xt;if(bt)Wt=!1,It=Mp;else if(Ut>=$){var En=ht?null:zt(lt);if(En)return up(En);Wt=!1,It=$u,an=new qs}else an=ht?[]:Xt;e:for(;++Pt<Ut;){var Tn=lt[Pt],An=ht?ht(Tn):Tn;if(Tn=bt||Tn!==0?Tn:0,Wt&&An===An){for(var Vn=an.length;Vn--;)if(an[Vn]===An)continue e;ht&&an.push(An),Xt.push(Tn)}else It(an,An,bt)||(an!==Xt&&an.push(An),Xt.push(Tn))}return Xt}function d0(lt,ht){return ht=Ql(ht,lt),lt=H1(lt,ht),lt==null||delete lt[tu(Xs(ht))]}function rm(lt,ht,bt,Pt){return gu(lt,ht,bt(Gl(lt,ht)),Pt)}function _c(lt,ht,bt,Pt){for(var It=lt.length,Ut=Pt?It:-1;(Pt?Ut--:++Ut<It)&&ht(lt[Ut],Ut,lt););return bt?Ro(lt,Pt?0:Ut,Pt?Ut+1:It):Ro(lt,Pt?Ut+1:0,Pt?It:Ut)}function Xl(lt,ht){var bt=lt;return bt instanceof kr&&(bt=bt.value()),np(ht,function(Pt,It){return It.func.apply(It.thisArg,Hs([Pt],It.args))},bt)}function f0(lt,ht,bt){var Pt=lt.length;if(Pt<2)return Pt?_a(lt[0]):[];for(var It=-1,Ut=pn(Pt);++It<Pt;)for(var Wt=lt[It],Xt=-1;++Xt<Pt;)Xt!=It&&(Ut[It]=Ku(Ut[It]||Wt,lt[Xt],ht,bt));return _a(Oo(Ut,1),ht,bt)}function im(lt,ht,bt){for(var Pt=-1,It=lt.length,Ut=ht.length,Wt={};++Pt<It;){var Xt=Pt<Ut?ht[Pt]:a;bt(Wt,lt[Pt],Xt)}return Wt}function Cp(lt){return ko(lt)?lt:[]}function _d(lt){return typeof lt=="function"?lt:Es}function Ql(lt,ht){return Er(lt)?lt:x1(lt,ht)?[lt]:Y1(Yr(lt))}var _1=hr;function Al(lt,ht,bt){var Pt=lt.length;return bt=bt===a?Pt:bt,!ht&&bt>=Pt?lt:Ro(lt,ht,bt)}var om=Am||function(lt){return _i.clearTimeout(lt)};function Zl(lt,ht){if(ht)return lt.slice();var bt=lt.length,Pt=Mu?Mu(bt):new lt.constructor(bt);return lt.copy(Pt),Pt}function am(lt){var ht=new lt.constructor(lt.byteLength);return new Jo(ht).set(new Jo(lt)),ht}function mu(lt,ht){var bt=ht?am(lt.buffer):lt.buffer;return new lt.constructor(bt,lt.byteOffset,lt.byteLength)}function Wm(lt){var ht=new lt.constructor(lt.source,Mo.exec(lt));return ht.lastIndex=lt.lastIndex,ht}function io(lt){return yp?Vr(yp.call(lt)):{}}function Km(lt,ht){var bt=ht?am(lt.buffer):lt.buffer;return new lt.constructor(bt,lt.byteOffset,lt.length)}function sm(lt,ht){if(lt!==ht){var bt=lt!==a,Pt=lt===null,It=lt===lt,Ut=js(lt),Wt=ht!==a,Xt=ht===null,an=ht===ht,En=js(ht);if(!Xt&&!En&&!Ut&&lt>ht||Ut&&Wt&&an&&!Xt&&!En||Pt&&Wt&&an||!bt&&an||!It)return 1;if(!Pt&&!Ut&&!En&&lt<ht||En&&bt&&It&&!Pt&&!Ut||Xt&&bt&&It||!Wt&&It||!an)return-1}return 0}function b1(lt,ht,bt){for(var Pt=-1,It=lt.criteria,Ut=ht.criteria,Wt=It.length,Xt=bt.length;++Pt<Wt;){var an=sm(It[Pt],Ut[Pt]);if(an){if(Pt>=Xt)return an;var En=bt[Pt];return an*(En=="desc"?-1:1)}}return lt.index-ht.index}function qm(lt,ht,bt,Pt){for(var It=-1,Ut=lt.length,Wt=bt.length,Xt=-1,an=ht.length,En=_o(Ut-Wt,0),Tn=pn(an+En),An=!Pt;++Xt<an;)Tn[Xt]=ht[Xt];for(;++It<Wt;)(An||It<Ut)&&(Tn[bt[It]]=lt[It]);for(;En--;)Tn[Xt++]=lt[It++];return Tn}function lm(lt,ht,bt,Pt){for(var It=-1,Ut=lt.length,Wt=-1,Xt=bt.length,an=-1,En=ht.length,Tn=_o(Ut-Xt,0),An=pn(Tn+En),Vn=!Pt;++It<Tn;)An[It]=lt[It];for(var nr=It;++an<En;)An[nr+an]=ht[an];for(;++Wt<Xt;)(Vn||It<Ut)&&(An[nr+bt[Wt]]=lt[It++]);return An}function ba(lt,ht){var bt=-1,Pt=lt.length;for(ht||(ht=pn(Pt));++bt<Pt;)ht[bt]=lt[bt];return ht}function Ys(lt,ht,bt,Pt){var It=!bt;bt||(bt={});for(var Ut=-1,Wt=ht.length;++Ut<Wt;){var Xt=ht[Ut],an=Pt?Pt(bt[Xt],lt[Xt],Xt,bt,lt):a;an===a&&(an=lt[Xt]),It?Ds(bt,Xt,an):Bl(bt,Xt,an)}return bt}function xs(lt,ht){return Ys(lt,Mr(lt),ht)}function um(lt,ht){return Ys(lt,Ol(lt),ht)}function h0(lt,ht){return function(bt,Pt){var It=Er(bt)?P0:v1,Ut=ht?ht():{};return It(bt,lt,Pn(Pt,2),Ut)}}function as(lt){return hr(function(ht,bt){var Pt=-1,It=bt.length,Ut=It>1?bt[It-1]:a,Wt=It>2?bt[2]:a;for(Ut=lt.length>3&&typeof Ut=="function"?(It--,Ut):a,Wt&&ss(bt[0],bt[1],Wt)&&(Ut=It<3?a:Ut,It=1),ht=Vr(ht);++Pt<It;){var Xt=bt[Pt];Xt&&lt(ht,Xt,Pt,Ut)}return ht})}function Pp(lt,ht){return function(bt,Pt){if(bt==null)return bt;if(!ws(bt))return lt(bt,Pt);for(var It=bt.length,Ut=ht?It:-1,Wt=Vr(bt);(ht?Ut--:++Ut<It)&&Pt(Wt[Ut],Ut,Wt)!==!1;);return bt}}function Jl(lt){return function(ht,bt,Pt){for(var It=-1,Ut=Vr(ht),Wt=Pt(ht),Xt=Wt.length;Xt--;){var an=Wt[lt?Xt:++It];if(bt(Ut[an],an,Ut)===!1)break}return ht}}function p0(lt,ht,bt){var Pt=ht&dt,It=Ap(lt);function Ut(){var Wt=this&&this!==_i&&this instanceof Ut?It:lt;return Wt.apply(Pt?bt:this,arguments)}return Ut}function g0(lt){return function(ht){ht=Yr(ht);var bt=uu(ht)?$a(ht):a,Pt=bt?bt[0]:ht.charAt(0),It=bt?Al(bt,1).join(""):ht.slice(1);return Pt[lt]()+It}}function eu(lt){return function(ht){return np(Pv(Cv(ht).replace(vm,"")),lt,"")}}function Ap(lt){return function(){var ht=arguments;switch(ht.length){case 0:return new lt;case 1:return new lt(ht[0]);case 2:return new lt(ht[0],ht[1]);case 3:return new lt(ht[0],ht[1],ht[2]);case 4:return new lt(ht[0],ht[1],ht[2],ht[3]);case 5:return new lt(ht[0],ht[1],ht[2],ht[3],ht[4]);case 6:return new lt(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);case 7:return new lt(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6])}var bt=fu(lt.prototype),Pt=lt.apply(bt,ht);return po(Pt)?Pt:bt}}function Ym(lt,ht,bt){var Pt=Ap(lt);function It(){for(var Ut=arguments.length,Wt=pn(Ut),Xt=Ut,an=Un(It);Xt--;)Wt[Xt]=arguments[Xt];var En=Ut<3&&Wt[0]!==an&&Wt[Ut-1]!==an?[]:Rs(Wt,an);if(Ut-=En.length,Ut<bt)return Tt(lt,ht,Op,It.placeholder,a,Wt,En,a,a,bt-Ut);var Tn=this&&this!==_i&&this instanceof It?Pt:lt;return Qo(Tn,this,Wt)}return It}function cm(lt){return function(ht,bt,Pt){var It=Vr(ht);if(!ws(ht)){var Ut=Pn(bt,3);ht=Yo(ht),bt=function(Xt){return Ut(It[Xt],Xt,It)}}var Wt=lt(ht,bt,Pt);return Wt>-1?It[Ut?ht[Wt]:Wt]:a}}function dm(lt){return lo(function(ht){var bt=ht.length,Pt=bt,It=rs.prototype.thru;for(lt&&ht.reverse();Pt--;){var Ut=ht[Pt];if(typeof Ut!="function")throw new Zo(_e);if(It&&!Wt&&vn(Ut)=="wrapper")var Wt=new rs([],!0)}for(Pt=Wt?Pt:bt;++Pt<bt;){Ut=ht[Pt];var Xt=vn(Ut),an=Xt=="wrapper"?on(Ut):a;an&&w1(an[0])&&an[1]==(xt|pt|vt|wt)&&!an[4].length&&an[9]==1?Wt=Wt[vn(an[0])].apply(Wt,an[3]):Wt=Ut.length==1&&w1(Ut)?Wt[Xt]():Wt.thru(Ut)}return function(){var En=arguments,Tn=En[0];if(Wt&&En.length==1&&Er(Tn))return Wt.plant(Tn).value();for(var An=0,Vn=bt?ht[An].apply(this,En):Tn;++An<bt;)Vn=ht[An].call(this,Vn);return Vn}})}function Op(lt,ht,bt,Pt,It,Ut,Wt,Xt,an,En){var Tn=ht&xt,An=ht&dt,Vn=ht&ft,nr=ht&(pt|mt),ur=ht&St,$r=Vn?a:Ap(lt);function cr(){for(var Dr=arguments.length,Lr=pn(Dr),Us=Dr;Us--;)Lr[Us]=arguments[Us];if(nr)var ls=Un(cr),zs=O0(Lr,ls);if(Pt&&(Lr=qm(Lr,Pt,It,nr)),Ut&&(Lr=lm(Lr,Ut,Wt,nr)),Dr-=zs,nr&&Dr<En){var Io=Rs(Lr,ls);return Tt(lt,ht,Op,cr.placeholder,bt,Lr,Io,Xt,an,En-Dr)}var Rl=An?bt:this,bu=Vn?Rl[lt]:lt;return Dr=Lr.length,Xt?Lr=Hv(Lr,Xt):ur&&Dr>1&&Lr.reverse(),Tn&&an<Dr&&(Lr.length=an),this&&this!==_i&&this instanceof cr&&(bu=$r||Ap(bu)),bu.apply(Rl,Lr)}return cr}function $p(lt,ht){return function(bt,Pt){return n0(bt,lt,ht(Pt),{})}}function m0(lt,ht){return function(bt,Pt){var It;if(bt===a&&Pt===a)return ht;if(bt!==a&&(It=bt),Pt!==a){if(It===a)return Pt;typeof bt=="string"||typeof Pt=="string"?(bt=os(bt),Pt=os(Pt)):(bt=c0(bt),Pt=c0(Pt)),It=lt(bt,Pt)}return It}}function fm(lt){return lo(function(ht){return ht=to(ht,Po(Pn())),hr(function(bt){var Pt=this;return lt(ht,function(It){return Qo(It,Pt,bt)})})})}function ut(lt,ht){ht=ht===a?" ":os(ht);var bt=ht.length;if(bt<2)return bt?Ju(ht,lt):ht;var Pt=Ju(ht,mp(lt/Ws(ht)));return uu(ht)?Al($a(Pt),0,lt).join(""):Pt.slice(0,lt)}function ct(lt,ht,bt,Pt){var It=ht&dt,Ut=Ap(lt);function Wt(){for(var Xt=-1,an=arguments.length,En=-1,Tn=Pt.length,An=pn(Tn+an),Vn=this&&this!==_i&&this instanceof Wt?Ut:lt;++En<Tn;)An[En]=Pt[En];for(;an--;)An[En++]=arguments[++Xt];return Qo(Vn,It?bt:this,An)}return Wt}function _t(lt){return function(ht,bt,Pt){return Pt&&typeof Pt!="number"&&ss(ht,bt,Pt)&&(bt=Pt=a),ht=_u(ht),bt===a?(bt=ht,ht=0):bt=_u(bt),Pt=Pt===a?ht<bt?1:-1:_u(Pt),Yl(ht,bt,Pt,lt)}}function Et(lt){return function(ht,bt){return typeof ht=="string"&&typeof bt=="string"||(ht=Qs(ht),bt=Qs(bt)),lt(ht,bt)}}function Tt(lt,ht,bt,Pt,It,Ut,Wt,Xt,an,En){var Tn=ht&pt,An=Tn?Wt:a,Vn=Tn?a:Wt,nr=Tn?Ut:a,ur=Tn?a:Ut;ht|=Tn?vt:yt,ht&=~(Tn?yt:vt),ht&gt||(ht&=~(dt|ft));var $r=[lt,ht,It,nr,An,ur,Vn,Xt,an,En],cr=bt.apply(a,$r);return w1(lt)&&W1(cr,$r),cr.placeholder=Pt,K1(cr,lt,ht)}function Ot(lt){var ht=Sr[lt];return function(bt,Pt){if(bt=Qs(bt),Pt=Pt==null?0:Uo(Cr(Pt),292),Pt&&Bp(bt)){var It=(Yr(bt)+"e").split("e"),Ut=ht(It[0]+"e"+(+It[1]+Pt));return It=(Yr(Ut)+"e").split("e"),+(It[0]+"e"+(+It[1]-Pt))}return ht(bt)}}var zt=Uu&&1/up(new Uu([,-0]))[1]==Mt?function(lt){return new Uu(lt)}:N1;function nn(lt){return function(ht){var bt=qo(ht);return bt==Zn?jp(ht):bt==rr?Em(ht):Ou(ht,lt(ht))}}function dn(lt,ht,bt,Pt,It,Ut,Wt,Xt){var an=ht&ft;if(!an&&typeof lt!="function")throw new Zo(_e);var En=Pt?Pt.length:0;if(En||(ht&=~(vt|yt),Pt=It=a),Wt=Wt===a?Wt:_o(Cr(Wt),0),Xt=Xt===a?Xt:Cr(Xt),En-=It?It.length:0,ht&yt){var Tn=Pt,An=It;Pt=It=a}var Vn=an?a:on(lt),nr=[lt,ht,bt,Pt,It,Tn,An,Ut,Wt,Xt];if(Vn&&Vv(nr,Vn),lt=nr[0],ht=nr[1],bt=nr[2],Pt=nr[3],It=nr[4],Xt=nr[9]=nr[9]===a?an?0:lt.length:_o(nr[9]-En,0),!Xt&&ht&(pt|mt)&&(ht&=~(pt|mt)),!ht||ht==dt)var ur=p0(lt,ht,bt);else ht==pt||ht==mt?ur=Ym(lt,ht,Xt):(ht==vt||ht==(dt|vt))&&!It.length?ur=ct(lt,ht,bt,Pt):ur=Op.apply(a,nr);var $r=Vn?Tp:W1;return K1($r(ur,nr),lt,ht)}function Rn(lt,ht,bt,Pt){return lt===a||$l(lt,qr[bt])&&!Ur.call(Pt,bt)?ht:lt}function Yn(lt,ht,bt,Pt,It,Ut){return po(lt)&&po(ht)&&(Ut.set(ht,lt),pu(lt,ht,a,Yn,Ut),Ut.delete(ht)),lt}function br(lt){return gm(lt)?a:lt}function Kn(lt,ht,bt,Pt,It,Ut){var Wt=bt&nt,Xt=lt.length,an=ht.length;if(Xt!=an&&!(Wt&&an>Xt))return!1;var En=Ut.get(lt),Tn=Ut.get(ht);if(En&&Tn)return En==ht&&Tn==lt;var An=-1,Vn=!0,nr=bt&st?new qs:a;for(Ut.set(lt,ht),Ut.set(ht,lt);++An<Xt;){var ur=lt[An],$r=ht[An];if(Pt)var cr=Wt?Pt($r,ur,An,ht,lt,Ut):Pt(ur,$r,An,lt,ht,Ut);if(cr!==a){if(cr)continue;Vn=!1;break}if(nr){if(!Cu(ht,function(Dr,Lr){if(!$u(nr,Lr)&&(ur===Dr||It(ur,Dr,bt,Pt,Ut)))return nr.push(Lr)})){Vn=!1;break}}else if(!(ur===$r||It(ur,$r,bt,Pt,Ut))){Vn=!1;break}}return Ut.delete(lt),Ut.delete(ht),Vn}function no(lt,ht,bt,Pt,It,Ut,Wt){switch(bt){case Tr:if(lt.byteLength!=ht.byteLength||lt.byteOffset!=ht.byteOffset)return!1;lt=lt.buffer,ht=ht.buffer;case lr:return!(lt.byteLength!=ht.byteLength||!Ut(new Jo(lt),new Jo(ht)));case cn:case gn:case Fn:return $l(+lt,+ht);case xn:return lt.name==ht.name&&lt.message==ht.message;case Gn:case Qn:return lt==ht+"";case Zn:var Xt=jp;case rr:var an=Pt&nt;if(Xt||(Xt=up),lt.size!=ht.size&&!an)return!1;var En=Wt.get(lt);if(En)return En==ht;Pt|=st,Wt.set(lt,ht);var Tn=Kn(Xt(lt),Xt(ht),Pt,It,Ut,Wt);return Wt.delete(lt),Tn;case ar:if(yp)return yp.call(lt)==yp.call(ht)}return!1}function Zr(lt,ht,bt,Pt,It,Ut){var Wt=bt&nt,Xt=Ls(lt),an=Xt.length,En=Ls(ht),Tn=En.length;if(an!=Tn&&!Wt)return!1;for(var An=an;An--;){var Vn=Xt[An];if(!(Wt?Vn in ht:Ur.call(ht,Vn)))return!1}var nr=Ut.get(lt),ur=Ut.get(ht);if(nr&&ur)return nr==ht&&ur==lt;var $r=!0;Ut.set(lt,ht),Ut.set(ht,lt);for(var cr=Wt;++An<an;){Vn=Xt[An];var Dr=lt[Vn],Lr=ht[Vn];if(Pt)var Us=Wt?Pt(Lr,Dr,Vn,ht,lt,Ut):Pt(Dr,Lr,Vn,lt,ht,Ut);if(!(Us===a?Dr===Lr||It(Dr,Lr,bt,Pt,Ut):Us)){$r=!1;break}cr||(cr=Vn=="constructor")}if($r&&!cr){var ls=lt.constructor,zs=ht.constructor;ls!=zs&&"constructor"in lt&&"constructor"in ht&&!(typeof ls=="function"&&ls instanceof ls&&typeof zs=="function"&&zs instanceof zs)&&($r=!1)}return Ut.delete(lt),Ut.delete(ht),$r}function lo(lt){return E1(G1(lt,a,J1),lt+"")}function Ls(lt){return Q0(lt,Yo,Mr)}function fn(lt){return Q0(lt,Ss,Ol)}var on=vp?function(lt){return vp.get(lt)}:N1;function vn(lt){for(var ht=lt.name+"",bt=Sl[ht],Pt=Ur.call(Sl,ht)?bt.length:0;Pt--;){var It=bt[Pt],Ut=It.func;if(Ut==null||Ut==lt)return It.name}return ht}function Un(lt){var ht=Ur.call(Nt,"placeholder")?Nt:lt;return ht.placeholder}function Pn(){var lt=Nt.iteratee||M1;return lt=lt===M1?ho:lt,arguments.length?lt(arguments[0],arguments[1]):lt}function xr(lt,ht){var bt=lt.__data__;return Lv(ht)?bt[typeof ht=="string"?"string":"hash"]:bt.map}function vr(lt){for(var ht=Yo(lt),bt=ht.length;bt--;){var Pt=ht[bt],It=lt[Pt];ht[bt]=[Pt,It,V1(It)]}return ht}function Or(lt,ht){var bt=Np(lt,ht);return i0(bt)?bt:a}function Lo(lt){var ht=Ur.call(lt,zl),bt=lt[zl];try{lt[zl]=a;var Pt=!0}catch{}var It=zp.call(lt);return Pt&&(ht?lt[zl]=bt:delete lt[zl]),It}var Mr=Lu?function(lt){return lt==null?[]:(lt=Vr(lt),ms(Lu(lt),function(ht){return M0.call(lt,ht)}))}:L1,Ol=Lu?function(lt){for(var ht=[];lt;)Hs(ht,Mr(lt)),lt=Fu(lt);return ht}:L1,qo=Wo;(j0&&qo(new j0(new ArrayBuffer(1)))!=Tr||ju&&qo(new ju)!=Zn||U0&&qo(U0.resolve())!=dr||Uu&&qo(new Uu)!=rr||zu&&qo(new zu)!=Nn)&&(qo=function(lt){var ht=Wo(lt),bt=ht==Jn?lt.constructor:a,Pt=bt?Rp(bt):"";if(Pt)switch(Pt){case d1:return Tr;case f1:return Zn;case h1:return dr;case Bu:return rr;case z0:return Nn}return ht});function kv(lt,ht,bt){for(var Pt=-1,It=bt.length;++Pt<It;){var Ut=bt[Pt],Wt=Ut.size;switch(Ut.type){case"drop":lt+=Wt;break;case"dropRight":ht-=Wt;break;case"take":ht=Uo(ht,lt+Wt);break;case"takeRight":lt=_o(lt,ht-Wt);break}}return{start:lt,end:ht}}function Iv(lt){var ht=lt.match(_r);return ht?ht[1].split(er):[]}function U1(lt,ht,bt){ht=Ql(ht,lt);for(var Pt=-1,It=ht.length,Ut=!1;++Pt<It;){var Wt=tu(ht[Pt]);if(!(Ut=lt!=null&&bt(lt,Wt)))break;lt=lt[Wt]}return Ut||++Pt!=It?Ut:(It=lt==null?0:lt.length,!!It&&n1(It)&&vu(Wt,It)&&(Er(lt)||kp(lt)))}function Dv(lt){var ht=lt.length,bt=new lt.constructor(ht);return ht&&typeof lt[0]=="string"&&Ur.call(lt,"index")&&(bt.index=lt.index,bt.input=lt.input),bt}function z1(lt){return typeof lt.constructor=="function"&&!hm(lt)?fu(Fu(lt)):{}}function Mv(lt,ht,bt){var Pt=lt.constructor;switch(ht){case lr:return am(lt);case cn:case gn:return new Pt(+lt);case Tr:return mu(lt,bt);case Br:case jr:case Jr:case Xn:case Ft:case Bt:case Gt:case Qt:case en:return Km(lt,bt);case Zn:return new Pt;case Fn:case Qn:return new Pt(lt);case Gn:return Wm(lt);case rr:return new Pt;case ar:return io(lt)}}function Fv(lt,ht){var bt=ht.length;if(!bt)return lt;var Pt=bt-1;return ht[Pt]=(bt>1?"& ":"")+ht[Pt],ht=ht.join(bt>2?", ":" "),lt.replace(yr,`{
/* [wrapped with `+ht+`] */
`)}function Nv(lt){return Er(lt)||kp(lt)||!!(F0&&lt&&lt[F0])}function vu(lt,ht){var bt=typeof lt;return ht=ht??Vt,!!ht&&(bt=="number"||bt!="symbol"&&xu.test(lt))&&lt>-1&&lt%1==0&&lt<ht}function ss(lt,ht,bt){if(!po(bt))return!1;var Pt=typeof ht;return(Pt=="number"?ws(bt)&&vu(ht,bt.length):Pt=="string"&&ht in bt)?$l(bt[ht],lt):!1}function x1(lt,ht){if(Er(lt))return!1;var bt=typeof lt;return bt=="number"||bt=="symbol"||bt=="boolean"||lt==null||js(lt)?!0:Gr.test(lt)||!sr.test(lt)||ht!=null&&lt in Vr(ht)}function Lv(lt){var ht=typeof lt;return ht=="string"||ht=="number"||ht=="symbol"||ht=="boolean"?lt!=="__proto__":lt===null}function w1(lt){var ht=vn(lt),bt=Nt[ht];if(typeof bt!="function"||!(ht in kr.prototype))return!1;if(lt===bt)return!0;var Pt=on(bt);return!!Pt&&lt===Pt[0]}function jv(lt){return!!Iu&&Iu in lt}var Uv=so?yu:j1;function hm(lt){var ht=lt&&lt.constructor,bt=typeof ht=="function"&&ht.prototype||qr;return lt===bt}function V1(lt){return lt===lt&&!po(lt)}function B1(lt,ht){return function(bt){return bt==null?!1:bt[lt]===ht&&(ht!==a||lt in Vr(bt))}}function zv(lt){var ht=e1(lt,function(Pt){return bt.size===it&&bt.clear(),Pt}),bt=ht.cache;return ht}function Vv(lt,ht){var bt=lt[1],Pt=ht[1],It=bt|Pt,Ut=It<(dt|ft|xt),Wt=Pt==xt&&bt==pt||Pt==xt&&bt==wt&&lt[7].length<=ht[8]||Pt==(xt|wt)&&ht[7].length<=ht[8]&&bt==pt;if(!(Ut||Wt))return lt;Pt&dt&&(lt[2]=ht[2],It|=bt&dt?0:gt);var Xt=ht[3];if(Xt){var an=lt[3];lt[3]=an?qm(an,Xt,ht[4]):Xt,lt[4]=an?Rs(lt[3],at):ht[4]}return Xt=ht[5],Xt&&(an=lt[5],lt[5]=an?lm(an,Xt,ht[6]):Xt,lt[6]=an?Rs(lt[5],at):ht[6]),Xt=ht[7],Xt&&(lt[7]=Xt),Pt&xt&&(lt[8]=lt[8]==null?ht[8]:Uo(lt[8],ht[8])),lt[9]==null&&(lt[9]=ht[9]),lt[0]=ht[0],lt[1]=It,lt}function Bv(lt){var ht=[];if(lt!=null)for(var bt in Vr(lt))ht.push(bt);return ht}function Gv(lt){return zp.call(lt)}function G1(lt,ht,bt){return ht=_o(ht===a?lt.length-1:ht,0),function(){for(var Pt=arguments,It=-1,Ut=_o(Pt.length-ht,0),Wt=pn(Ut);++It<Ut;)Wt[It]=Pt[ht+It];It=-1;for(var Xt=pn(ht+1);++It<ht;)Xt[It]=Pt[It];return Xt[ht]=bt(Wt),Qo(lt,this,Xt)}}function H1(lt,ht){return ht.length<2?lt:Gl(lt,Ro(ht,0,-1))}function Hv(lt,ht){for(var bt=lt.length,Pt=Uo(ht.length,bt),It=ba(lt);Pt--;){var Ut=ht[Pt];lt[Pt]=vu(Ut,bt)?It[Ut]:a}return lt}function S1(lt,ht){if(!(ht==="constructor"&&typeof lt[ht]=="function")&&ht!="__proto__")return lt[ht]}var W1=q1(Tp),pm=gp||function(lt,ht){return _i.setTimeout(lt,ht)},E1=q1(s0);function K1(lt,ht,bt){var Pt=ht+"";return E1(lt,Fv(Pt,Wv(Iv(Pt),bt)))}function q1(lt){var ht=0,bt=0;return function(){var Pt=N0(),It=Rt-(Pt-bt);if(bt=Pt,It>0){if(++ht>=$t)return arguments[0]}else ht=0;return lt.apply(a,arguments)}}function Xm(lt,ht){var bt=-1,Pt=lt.length,It=Pt-1;for(ht=ht===a?Pt:ht;++bt<ht;){var Ut=Sp(bt,It),Wt=lt[Ut];lt[Ut]=lt[bt],lt[bt]=Wt}return lt.length=ht,lt}var Y1=zv(function(lt){var ht=[];return lt.charCodeAt(0)===46&&ht.push(""),lt.replace(Hr,function(bt,Pt,It,Ut){ht.push(It?Ut.replace(tr,"$1"):Pt||bt)}),ht});function tu(lt){if(typeof lt=="string"||js(lt))return lt;var ht=lt+"";return ht=="0"&&1/lt==-Mt?"-0":ht}function Rp(lt){if(lt!=null){try{return co.call(lt)}catch{}try{return lt+""}catch{}}return""}function Wv(lt,ht){return ro(_n,function(bt){var Pt="_."+bt[0];ht&bt[1]&&!xa(lt,Pt)&&lt.push(Pt)}),lt.sort()}function X1(lt){if(lt instanceof kr)return lt.clone();var ht=new rs(lt.__wrapped__,lt.__chain__);return ht.__actions__=ba(lt.__actions__),ht.__index__=lt.__index__,ht.__values__=lt.__values__,ht}function Kv(lt,ht,bt){(bt?ss(lt,ht,bt):ht===a)?ht=1:ht=_o(Cr(ht),0);var Pt=lt==null?0:lt.length;if(!Pt||ht<1)return[];for(var It=0,Ut=0,Wt=pn(mp(Pt/ht));It<Pt;)Wt[Ut++]=Ro(lt,It,It+=ht);return Wt}function qv(lt){for(var ht=-1,bt=lt==null?0:lt.length,Pt=0,It=[];++ht<bt;){var Ut=lt[ht];Ut&&(It[Pt++]=Ut)}return It}function Yv(){var lt=arguments.length;if(!lt)return[];for(var ht=pn(lt-1),bt=arguments[0],Pt=lt;Pt--;)ht[Pt-1]=arguments[Pt];return Hs(Er(bt)?ba(bt):[bt],Oo(ht,1))}var Xv=hr(function(lt,ht){return ko(lt)?Ku(lt,Oo(ht,1,ko,!0)):[]}),Qv=hr(function(lt,ht){var bt=Xs(ht);return ko(bt)&&(bt=a),ko(lt)?Ku(lt,Oo(ht,1,ko,!0),Pn(bt,2)):[]}),Zv=hr(function(lt,ht){var bt=Xs(ht);return ko(bt)&&(bt=a),ko(lt)?Ku(lt,Oo(ht,1,ko,!0),a,bt):[]});function Jv(lt,ht,bt){var Pt=lt==null?0:lt.length;return Pt?(ht=bt||ht===a?1:Cr(ht),Ro(lt,ht<0?0:ht,Pt)):[]}function ey(lt,ht,bt){var Pt=lt==null?0:lt.length;return Pt?(ht=bt||ht===a?1:Cr(ht),ht=Pt-ht,Ro(lt,0,ht<0?0:ht)):[]}function ty(lt,ht){return lt&&lt.length?_c(lt,Pn(ht,3),!0,!0):[]}function ny(lt,ht){return lt&&lt.length?_c(lt,Pn(ht,3),!0):[]}function ry(lt,ht,bt,Pt){var It=lt==null?0:lt.length;return It?(bt&&typeof bt!="number"&&ss(lt,ht,bt)&&(bt=0,Pt=It),Ms(lt,ht,bt,Pt)):[]}function Q1(lt,ht,bt){var Pt=lt==null?0:lt.length;if(!Pt)return-1;var It=bt==null?0:Cr(bt);return It<0&&(It=_o(Pt+It,0)),lu(lt,Pn(ht,3),It)}function Z1(lt,ht,bt){var Pt=lt==null?0:lt.length;if(!Pt)return-1;var It=Pt-1;return bt!==a&&(It=Cr(bt),It=bt<0?_o(Pt+It,0):Uo(It,Pt-1)),lu(lt,Pn(ht,3),It,!0)}function J1(lt){var ht=lt==null?0:lt.length;return ht?Oo(lt,1):[]}function iy(lt){var ht=lt==null?0:lt.length;return ht?Oo(lt,Mt):[]}function oy(lt,ht){var bt=lt==null?0:lt.length;return bt?(ht=ht===a?1:Cr(ht),Oo(lt,ht)):[]}function ay(lt){for(var ht=-1,bt=lt==null?0:lt.length,Pt={};++ht<bt;){var It=lt[ht];Pt[It[0]]=It[1]}return Pt}function ev(lt){return lt&&lt.length?lt[0]:a}function sy(lt,ht,bt){var Pt=lt==null?0:lt.length;if(!Pt)return-1;var It=bt==null?0:Cr(bt);return It<0&&(It=_o(Pt+It,0)),Au(lt,ht,It)}function ly(lt){var ht=lt==null?0:lt.length;return ht?Ro(lt,0,-1):[]}var uy=hr(function(lt){var ht=to(lt,Cp);return ht.length&&ht[0]===lt[0]?qu(ht):[]}),cy=hr(function(lt){var ht=Xs(lt),bt=to(lt,Cp);return ht===Xs(bt)?ht=a:bt.pop(),bt.length&&bt[0]===lt[0]?qu(bt,Pn(ht,2)):[]}),dy=hr(function(lt){var ht=Xs(lt),bt=to(lt,Cp);return ht=typeof ht=="function"?ht:a,ht&&bt.pop(),bt.length&&bt[0]===lt[0]?qu(bt,a,ht):[]});function fy(lt,ht){return lt==null?"":Rm.call(lt,ht)}function Xs(lt){var ht=lt==null?0:lt.length;return ht?lt[ht-1]:a}function hy(lt,ht,bt){var Pt=lt==null?0:lt.length;if(!Pt)return-1;var It=Pt;return bt!==a&&(It=Cr(bt),It=It<0?_o(Pt+It,0):Uo(It,Pt-1)),ht===ht?$0(lt,ht,It):lu(lt,rp,It,!0)}function py(lt,ht){return lt&&lt.length?Zu(lt,Cr(ht)):a}var gy=hr(tv);function tv(lt,ht){return lt&&lt.length&&ht&&ht.length?Kl(lt,ht):lt}function my(lt,ht,bt){return lt&&lt.length&&ht&&ht.length?Kl(lt,ht,Pn(bt,2)):lt}function vy(lt,ht,bt){return lt&&lt.length&&ht&&ht.length?Kl(lt,ht,a,bt):lt}var yy=lo(function(lt,ht){var bt=lt==null?0:lt.length,Pt=Kp(lt,ht);return wp(lt,to(ht,function(It){return vu(It,bt)?+It:It}).sort(sm)),Pt});function _y(lt,ht){var bt=[];if(!(lt&&lt.length))return bt;var Pt=-1,It=[],Ut=lt.length;for(ht=Pn(ht,3);++Pt<Ut;){var Wt=lt[Pt];ht(Wt,Pt,lt)&&(bt.push(Wt),It.push(Pt))}return wp(lt,It),bt}function T1(lt){return lt==null?lt:Dm.call(lt)}function by(lt,ht,bt){var Pt=lt==null?0:lt.length;return Pt?(bt&&typeof bt!="number"&&ss(lt,ht,bt)?(ht=0,bt=Pt):(ht=ht==null?0:Cr(ht),bt=bt===a?Pt:Cr(bt)),Ro(lt,ht,bt)):[]}function xy(lt,ht){return zo(lt,ht)}function wy(lt,ht,bt){return l0(lt,ht,Pn(bt,2))}function Sy(lt,ht){var bt=lt==null?0:lt.length;if(bt){var Pt=zo(lt,ht);if(Pt<bt&&$l(lt[Pt],ht))return Pt}return-1}function Ey(lt,ht){return zo(lt,ht,!0)}function Ty(lt,ht,bt){return l0(lt,ht,Pn(bt,2),!0)}function Cy(lt,ht){var bt=lt==null?0:lt.length;if(bt){var Pt=zo(lt,ht,!0)-1;if($l(lt[Pt],ht))return Pt}return-1}function Py(lt){return lt&&lt.length?u0(lt):[]}function Ay(lt,ht){return lt&&lt.length?u0(lt,Pn(ht,2)):[]}function Oy(lt){var ht=lt==null?0:lt.length;return ht?Ro(lt,1,ht):[]}function $y(lt,ht,bt){return lt&&lt.length?(ht=bt||ht===a?1:Cr(ht),Ro(lt,0,ht<0?0:ht)):[]}function Ry(lt,ht,bt){var Pt=lt==null?0:lt.length;return Pt?(ht=bt||ht===a?1:Cr(ht),ht=Pt-ht,Ro(lt,ht<0?0:ht,Pt)):[]}function ky(lt,ht){return lt&&lt.length?_c(lt,Pn(ht,3),!1,!0):[]}function Iy(lt,ht){return lt&&lt.length?_c(lt,Pn(ht,3)):[]}var Dy=hr(function(lt){return _a(Oo(lt,1,ko,!0))}),My=hr(function(lt){var ht=Xs(lt);return ko(ht)&&(ht=a),_a(Oo(lt,1,ko,!0),Pn(ht,2))}),Fy=hr(function(lt){var ht=Xs(lt);return ht=typeof ht=="function"?ht:a,_a(Oo(lt,1,ko,!0),a,ht)});function Ny(lt){return lt&&lt.length?_a(lt):[]}function Ly(lt,ht){return lt&&lt.length?_a(lt,Pn(ht,2)):[]}function jy(lt,ht){return ht=typeof ht=="function"?ht:a,lt&&lt.length?_a(lt,a,ht):[]}function C1(lt){if(!(lt&&lt.length))return[];var ht=0;return lt=ms(lt,function(bt){if(ko(bt))return ht=_o(bt.length,ht),!0}),sp(ht,function(bt){return to(lt,Ll(bt))})}function nv(lt,ht){if(!(lt&&lt.length))return[];var bt=C1(lt);return ht==null?bt:to(bt,function(Pt){return Qo(ht,a,Pt)})}var Uy=hr(function(lt,ht){return ko(lt)?Ku(lt,ht):[]}),zy=hr(function(lt){return f0(ms(lt,ko))}),Vy=hr(function(lt){var ht=Xs(lt);return ko(ht)&&(ht=a),f0(ms(lt,ko),Pn(ht,2))}),By=hr(function(lt){var ht=Xs(lt);return ht=typeof ht=="function"?ht:a,f0(ms(lt,ko),a,ht)}),Gy=hr(C1);function Hy(lt,ht){return im(lt||[],ht||[],Bl)}function Wy(lt,ht){return im(lt||[],ht||[],gu)}var Ky=hr(function(lt){var ht=lt.length,bt=ht>1?lt[ht-1]:a;return bt=typeof bt=="function"?(lt.pop(),bt):a,nv(lt,bt)});function rv(lt){var ht=Nt(lt);return ht.__chain__=!0,ht}function qy(lt,ht){return ht(lt),lt}function Qm(lt,ht){return ht(lt)}var Yy=lo(function(lt){var ht=lt.length,bt=ht?lt[0]:0,Pt=this.__wrapped__,It=function(Ut){return Kp(Ut,lt)};return ht>1||this.__actions__.length||!(Pt instanceof kr)||!vu(bt)?this.thru(It):(Pt=Pt.slice(bt,+bt+(ht?1:0)),Pt.__actions__.push({func:Qm,args:[It],thisArg:a}),new rs(Pt,this.__chain__).thru(function(Ut){return ht&&!Ut.length&&Ut.push(a),Ut}))});function Xy(){return rv(this)}function Qy(){return new rs(this.value(),this.__chain__)}function Zy(){this.__values__===a&&(this.__values__=vv(this.value()));var lt=this.__index__>=this.__values__.length,ht=lt?a:this.__values__[this.__index__++];return{done:lt,value:ht}}function Jy(){return this}function e2(lt){for(var ht,bt=this;bt instanceof _p;){var Pt=X1(bt);Pt.__index__=0,Pt.__values__=a,ht?It.__wrapped__=Pt:ht=Pt;var It=Pt;bt=bt.__wrapped__}return It.__wrapped__=lt,ht}function t2(){var lt=this.__wrapped__;if(lt instanceof kr){var ht=lt;return this.__actions__.length&&(ht=new kr(this)),ht=ht.reverse(),ht.__actions__.push({func:Qm,args:[T1],thisArg:a}),new rs(ht,this.__chain__)}return this.thru(T1)}function n2(){return Xl(this.__wrapped__,this.__actions__)}var r2=h0(function(lt,ht,bt){Ur.call(lt,bt)?++lt[bt]:Ds(lt,bt,1)});function i2(lt,ht,bt){var Pt=Er(lt)?eo:X0;return bt&&ss(lt,ht,bt)&&(ht=a),Pt(lt,Pn(ht,3))}function o2(lt,ht){var bt=Er(lt)?ms:Fs;return bt(lt,Pn(ht,3))}var a2=cm(Q1),s2=cm(Z1);function l2(lt,ht){return Oo(Zm(lt,ht),1)}function u2(lt,ht){return Oo(Zm(lt,ht),Mt)}function c2(lt,ht,bt){return bt=bt===a?1:Cr(bt),Oo(Zm(lt,ht),bt)}function iv(lt,ht){var bt=Er(lt)?ro:Tl;return bt(lt,Pn(ht,3))}function ov(lt,ht){var bt=Er(lt)?gs:Xp;return bt(lt,Pn(ht,3))}var d2=h0(function(lt,ht,bt){Ur.call(lt,bt)?lt[bt].push(ht):Ds(lt,bt,[ht])});function f2(lt,ht,bt,Pt){lt=ws(lt)?lt:y0(lt),bt=bt&&!Pt?Cr(bt):0;var It=lt.length;return bt<0&&(bt=_o(It+bt,0)),r1(lt)?bt<=It&&lt.indexOf(ht,bt)>-1:!!It&&Au(lt,ht,bt)>-1}var h2=hr(function(lt,ht,bt){var Pt=-1,It=typeof ht=="function",Ut=ws(lt)?pn(lt.length):[];return Tl(lt,function(Wt){Ut[++Pt]=It?Qo(ht,Wt,bt):Cl(Wt,ht,bt)}),Ut}),p2=h0(function(lt,ht,bt){Ds(lt,bt,ht)});function Zm(lt,ht){var bt=Er(lt)?to:wo;return bt(lt,Pn(ht,3))}function g2(lt,ht,bt,Pt){return lt==null?[]:(Er(ht)||(ht=ht==null?[]:[ht]),bt=Pt?a:bt,Er(bt)||(bt=bt==null?[]:[bt]),ga(lt,ht,bt))}var m2=h0(function(lt,ht,bt){lt[bt?0:1].push(ht)},function(){return[[],[]]});function v2(lt,ht,bt){var Pt=Er(lt)?np:Fp,It=arguments.length<3;return Pt(lt,Pn(ht,4),bt,It,Tl)}function y2(lt,ht,bt){var Pt=Er(lt)?ym:Fp,It=arguments.length<3;return Pt(lt,Pn(ht,4),bt,It,Xp)}function _2(lt,ht){var bt=Er(lt)?ms:Fs;return bt(lt,t1(Pn(ht,3)))}function b2(lt){var ht=Er(lt)?Hu:a0;return ht(lt)}function x2(lt,ht,bt){(bt?ss(lt,ht,bt):ht===a)?ht=1:ht=Cr(ht);var Pt=Er(lt)?Go:Ep;return Pt(lt,ht)}function w2(lt){var ht=Er(lt)?m1:Ko;return ht(lt)}function S2(lt){if(lt==null)return 0;if(ws(lt))return r1(lt)?Ws(lt):lt.length;var ht=qo(lt);return ht==Zn||ht==rr?lt.size:$o(lt).length}function E2(lt,ht,bt){var Pt=Er(lt)?Cu:bs;return bt&&ss(lt,ht,bt)&&(ht=a),Pt(lt,Pn(ht,3))}var T2=hr(function(lt,ht){if(lt==null)return[];var bt=ht.length;return bt>1&&ss(lt,ht[0],ht[1])?ht=[]:bt>2&&ss(ht[0],ht[1],ht[2])&&(ht=[ht[0]]),ga(lt,Oo(ht,1),[])}),Jm=Om||function(){return _i.Date.now()};function C2(lt,ht){if(typeof ht!="function")throw new Zo(_e);return lt=Cr(lt),function(){if(--lt<1)return ht.apply(this,arguments)}}function av(lt,ht,bt){return ht=bt?a:ht,ht=lt&&ht==null?lt.length:ht,dn(lt,xt,a,a,a,a,ht)}function sv(lt,ht){var bt;if(typeof ht!="function")throw new Zo(_e);return lt=Cr(lt),function(){return--lt>0&&(bt=ht.apply(this,arguments)),lt<=1&&(ht=a),bt}}var P1=hr(function(lt,ht,bt){var Pt=dt;if(bt.length){var It=Rs(bt,Un(P1));Pt|=vt}return dn(lt,Pt,ht,bt,It)}),lv=hr(function(lt,ht,bt){var Pt=dt|ft;if(bt.length){var It=Rs(bt,Un(lv));Pt|=vt}return dn(ht,Pt,lt,bt,It)});function uv(lt,ht,bt){ht=bt?a:ht;var Pt=dn(lt,pt,a,a,a,a,a,ht);return Pt.placeholder=uv.placeholder,Pt}function cv(lt,ht,bt){ht=bt?a:ht;var Pt=dn(lt,mt,a,a,a,a,a,ht);return Pt.placeholder=cv.placeholder,Pt}function dv(lt,ht,bt){var Pt,It,Ut,Wt,Xt,an,En=0,Tn=!1,An=!1,Vn=!0;if(typeof lt!="function")throw new Zo(_e);ht=Qs(ht)||0,po(bt)&&(Tn=!!bt.leading,An="maxWait"in bt,Ut=An?_o(Qs(bt.maxWait)||0,ht):Ut,Vn="trailing"in bt?!!bt.trailing:Vn);function nr(Io){var Rl=Pt,bu=It;return Pt=It=a,En=Io,Wt=lt.apply(bu,Rl),Wt}function ur(Io){return En=Io,Xt=pm(Dr,ht),Tn?nr(Io):Wt}function $r(Io){var Rl=Io-an,bu=Io-En,$v=ht-Rl;return An?Uo($v,Ut-bu):$v}function cr(Io){var Rl=Io-an,bu=Io-En;return an===a||Rl>=ht||Rl<0||An&&bu>=Ut}function Dr(){var Io=Jm();if(cr(Io))return Lr(Io);Xt=pm(Dr,$r(Io))}function Lr(Io){return Xt=a,Vn&&Pt?nr(Io):(Pt=It=a,Wt)}function Us(){Xt!==a&&om(Xt),En=0,Pt=an=It=Xt=a}function ls(){return Xt===a?Wt:Lr(Jm())}function zs(){var Io=Jm(),Rl=cr(Io);if(Pt=arguments,It=this,an=Io,Rl){if(Xt===a)return ur(an);if(An)return om(Xt),Xt=pm(Dr,ht),nr(an)}return Xt===a&&(Xt=pm(Dr,ht)),Wt}return zs.cancel=Us,zs.flush=ls,zs}var P2=hr(function(lt,ht){return Y0(lt,1,ht)}),A2=hr(function(lt,ht,bt){return Y0(lt,Qs(ht)||0,bt)});function O2(lt){return dn(lt,St)}function e1(lt,ht){if(typeof lt!="function"||ht!=null&&typeof ht!="function")throw new Zo(_e);var bt=function(){var Pt=arguments,It=ht?ht.apply(this,Pt):Pt[0],Ut=bt.cache;if(Ut.has(It))return Ut.get(It);var Wt=lt.apply(this,Pt);return bt.cache=Ut.set(It,Wt)||Ut,Wt};return bt.cache=new(e1.Cache||Is),bt}e1.Cache=Is;function t1(lt){if(typeof lt!="function")throw new Zo(_e);return function(){var ht=arguments;switch(ht.length){case 0:return!lt.call(this);case 1:return!lt.call(this,ht[0]);case 2:return!lt.call(this,ht[0],ht[1]);case 3:return!lt.call(this,ht[0],ht[1],ht[2])}return!lt.apply(this,ht)}}function $2(lt){return sv(2,lt)}var R2=_1(function(lt,ht){ht=ht.length==1&&Er(ht[0])?to(ht[0],Po(Pn())):to(Oo(ht,1),Po(Pn()));var bt=ht.length;return hr(function(Pt){for(var It=-1,Ut=Uo(Pt.length,bt);++It<Ut;)Pt[It]=ht[It].call(this,Pt[It]);return Qo(lt,this,Pt)})}),A1=hr(function(lt,ht){var bt=Rs(ht,Un(A1));return dn(lt,vt,a,ht,bt)}),fv=hr(function(lt,ht){var bt=Rs(ht,Un(fv));return dn(lt,yt,a,ht,bt)}),k2=lo(function(lt,ht){return dn(lt,wt,a,a,a,ht)});function I2(lt,ht){if(typeof lt!="function")throw new Zo(_e);return ht=ht===a?ht:Cr(ht),hr(lt,ht)}function D2(lt,ht){if(typeof lt!="function")throw new Zo(_e);return ht=ht==null?0:_o(Cr(ht),0),hr(function(bt){var Pt=bt[ht],It=Al(bt,0,ht);return Pt&&Hs(It,Pt),Qo(lt,this,It)})}function M2(lt,ht,bt){var Pt=!0,It=!0;if(typeof lt!="function")throw new Zo(_e);return po(bt)&&(Pt="leading"in bt?!!bt.leading:Pt,It="trailing"in bt?!!bt.trailing:It),dv(lt,ht,{leading:Pt,maxWait:ht,trailing:It})}function F2(lt){return av(lt,1)}function N2(lt,ht){return A1(_d(ht),lt)}function L2(){if(!arguments.length)return[];var lt=arguments[0];return Er(lt)?lt:[lt]}function j2(lt){return Ho(lt,tt)}function U2(lt,ht){return ht=typeof ht=="function"?ht:a,Ho(lt,tt,ht)}function z2(lt){return Ho(lt,j|tt)}function V2(lt,ht){return ht=typeof ht=="function"?ht:a,Ho(lt,j|tt,ht)}function B2(lt,ht){return ht==null||Yp(lt,ht,Yo(ht))}function $l(lt,ht){return lt===ht||lt!==lt&&ht!==ht}var G2=Et(Jp),H2=Et(function(lt,ht){return lt>=ht}),kp=r0(function(){return arguments}())?r0:function(lt){return So(lt)&&Ur.call(lt,"callee")&&!M0.call(lt,"callee")},Er=pn.isArray,W2=ts?Po(ts):Z0;function ws(lt){return lt!=null&&n1(lt.length)&&!yu(lt)}function ko(lt){return So(lt)&&ws(lt)}function K2(lt){return lt===!0||lt===!1||So(lt)&&Wo(lt)==cn}var _f=$m||j1,q2=Fl?Po(Fl):J0;function Y2(lt){return So(lt)&&lt.nodeType===1&&!gm(lt)}function X2(lt){if(lt==null)return!0;if(ws(lt)&&(Er(lt)||typeof lt=="string"||typeof lt.splice=="function"||_f(lt)||v0(lt)||kp(lt)))return!lt.length;var ht=qo(lt);if(ht==Zn||ht==rr)return!lt.size;if(hm(lt))return!$o(lt).length;for(var bt in lt)if(Ur.call(lt,bt))return!1;return!0}function Q2(lt,ht){return Yu(lt,ht)}function Z2(lt,ht,bt){bt=typeof bt=="function"?bt:a;var Pt=bt?bt(lt,ht):a;return Pt===a?Yu(lt,ht,a,bt):!!Pt}function O1(lt){if(!So(lt))return!1;var ht=Wo(lt);return ht==xn||ht==jn||typeof lt.message=="string"&&typeof lt.name=="string"&&!gm(lt)}function J2(lt){return typeof lt=="number"&&Bp(lt)}function yu(lt){if(!po(lt))return!1;var ht=Wo(lt);return ht==Bn||ht==Mn||ht==Ht||ht==or}function hv(lt){return typeof lt=="number"&&lt==Cr(lt)}function n1(lt){return typeof lt=="number"&&lt>-1&&lt%1==0&&lt<=Vt}function po(lt){var ht=typeof lt;return lt!=null&&(ht=="object"||ht=="function")}function So(lt){return lt!=null&&typeof lt=="object"}var pv=Bs?Po(Bs):y1;function e_(lt,ht){return lt===ht||Xu(lt,ht,vr(ht))}function t_(lt,ht,bt){return bt=typeof bt=="function"?bt:a,Xu(lt,ht,vr(ht),bt)}function n_(lt){return gv(lt)&&lt!=+lt}function r_(lt){if(Uv(lt))throw new mr(et);return i0(lt)}function i_(lt){return lt===null}function o_(lt){return lt==null}function gv(lt){return typeof lt=="number"||So(lt)&&Wo(lt)==Fn}function gm(lt){if(!So(lt)||Wo(lt)!=Jn)return!1;var ht=Fu(lt);if(ht===null)return!0;var bt=Ur.call(ht,"constructor")&&ht.constructor;return typeof bt=="function"&&bt instanceof bt&&co.call(bt)==Bo}var $1=Gs?Po(Gs):fo;function a_(lt){return hv(lt)&&lt>=-Vt&&lt<=Vt}var mv=Nl?Po(Nl):Ar;function r1(lt){return typeof lt=="string"||!Er(lt)&&So(lt)&&Wo(lt)==Qn}function js(lt){return typeof lt=="symbol"||So(lt)&&Wo(lt)==ar}var v0=C0?Po(C0):No;function s_(lt){return lt===a}function l_(lt){return So(lt)&&qo(lt)==Nn}function u_(lt){return So(lt)&&Wo(lt)==pr}var c_=Et(Hl),d_=Et(function(lt,ht){return lt<=ht});function vv(lt){if(!lt)return[];if(ws(lt))return r1(lt)?$a(lt):ba(lt);if(Nu&&lt[Nu])return Sm(lt[Nu]());var ht=qo(lt),bt=ht==Zn?jp:ht==rr?up:y0;return bt(lt)}function _u(lt){if(!lt)return lt===0?lt:0;if(lt=Qs(lt),lt===Mt||lt===-Mt){var ht=lt<0?-1:1;return ht*Kt}return lt===lt?lt:0}function Cr(lt){var ht=_u(lt),bt=ht%1;return ht===ht?bt?ht-bt:ht:0}function yv(lt){return lt?hu(Cr(lt),0,Jt):0}function Qs(lt){if(typeof lt=="number")return lt;if(js(lt))return Yt;if(po(lt)){var ht=typeof lt.valueOf=="function"?lt.valueOf():lt;lt=po(ht)?ht+"":ht}if(typeof lt!="string")return lt===0?lt:+lt;lt=ns(lt);var bt=us.test(lt);return bt||ru.test(lt)?E0(lt.slice(2),bt?2:8):vo.test(lt)?Yt:+lt}function _v(lt){return Ys(lt,Ss(lt))}function f_(lt){return lt?hu(Cr(lt),-Vt,Vt):lt===0?lt:0}function Yr(lt){return lt==null?"":os(lt)}var h_=as(function(lt,ht){if(hm(ht)||ws(ht)){Ys(ht,Yo(ht),lt);return}for(var bt in ht)Ur.call(ht,bt)&&Bl(lt,bt,ht[bt])}),bv=as(function(lt,ht){Ys(ht,Ss(ht),lt)}),i1=as(function(lt,ht,bt,Pt){Ys(ht,Ss(ht),lt,Pt)}),p_=as(function(lt,ht,bt,Pt){Ys(ht,Yo(ht),lt,Pt)}),g_=lo(Kp);function m_(lt,ht){var bt=fu(lt);return ht==null?bt:qn(bt,ht)}var v_=hr(function(lt,ht){lt=Vr(lt);var bt=-1,Pt=ht.length,It=Pt>2?ht[2]:a;for(It&&ss(ht[0],ht[1],It)&&(Pt=1);++bt<Pt;)for(var Ut=ht[bt],Wt=Ss(Ut),Xt=-1,an=Wt.length;++Xt<an;){var En=Wt[Xt],Tn=lt[En];(Tn===a||$l(Tn,qr[En])&&!Ur.call(lt,En))&&(lt[En]=Ut[En])}return lt}),y_=hr(function(lt){return lt.push(a,Yn),Qo(xv,a,lt)});function __(lt,ht){return bm(lt,Pn(ht,3),Ns)}function b_(lt,ht){return bm(lt,Pn(ht,3),_s)}function x_(lt,ht){return lt==null?lt:Qp(lt,Pn(ht,3),Ss)}function w_(lt,ht){return lt==null?lt:ys(lt,Pn(ht,3),Ss)}function S_(lt,ht){return lt&&Ns(lt,Pn(ht,3))}function E_(lt,ht){return lt&&_s(lt,Pn(ht,3))}function T_(lt){return lt==null?[]:Zp(lt,Yo(lt))}function C_(lt){return lt==null?[]:Zp(lt,Ss(lt))}function R1(lt,ht,bt){var Pt=lt==null?a:Gl(lt,ht);return Pt===a?bt:Pt}function P_(lt,ht){return lt!=null&&U1(lt,ht,_g)}function k1(lt,ht){return lt!=null&&U1(lt,ht,e0)}var A_=$p(function(lt,ht,bt){ht!=null&&typeof ht.toString!="function"&&(ht=zp.call(ht)),lt[ht]=bt},D1(Es)),O_=$p(function(lt,ht,bt){ht!=null&&typeof ht.toString!="function"&&(ht=zp.call(ht)),Ur.call(lt,ht)?lt[ht].push(bt):lt[ht]=[bt]},Pn),$_=hr(Cl);function Yo(lt){return ws(lt)?K0(lt):$o(lt)}function Ss(lt){return ws(lt)?K0(lt,!0):is(lt)}function R_(lt,ht){var bt={};return ht=Pn(ht,3),Ns(lt,function(Pt,It,Ut){Ds(bt,ht(Pt,It,Ut),Pt)}),bt}function k_(lt,ht){var bt={};return ht=Pn(ht,3),Ns(lt,function(Pt,It,Ut){Ds(bt,It,ht(Pt,It,Ut))}),bt}var I_=as(function(lt,ht,bt){pu(lt,ht,bt)}),xv=as(function(lt,ht,bt,Pt){pu(lt,ht,bt,Pt)}),D_=lo(function(lt,ht){var bt={};if(lt==null)return bt;var Pt=!1;ht=to(ht,function(Ut){return Ut=Ql(Ut,lt),Pt||(Pt=Ut.length>1),Ut}),Ys(lt,fn(lt),bt),Pt&&(bt=Ho(bt,j|_|tt,br));for(var It=ht.length;It--;)d0(bt,ht[It]);return bt});function M_(lt,ht){return wv(lt,t1(Pn(ht)))}var F_=lo(function(lt,ht){return lt==null?{}:nm(lt,ht)});function wv(lt,ht){if(lt==null)return{};var bt=to(fn(lt),function(Pt){return[Pt]});return ht=Pn(ht),o0(lt,bt,function(Pt,It){return ht(Pt,It[0])})}function N_(lt,ht,bt){ht=Ql(ht,lt);var Pt=-1,It=ht.length;for(It||(It=1,lt=a);++Pt<It;){var Ut=lt==null?a:lt[tu(ht[Pt])];Ut===a&&(Pt=It,Ut=bt),lt=yu(Ut)?Ut.call(lt):Ut}return lt}function L_(lt,ht,bt){return lt==null?lt:gu(lt,ht,bt)}function j_(lt,ht,bt,Pt){return Pt=typeof Pt=="function"?Pt:a,lt==null?lt:gu(lt,ht,bt,Pt)}var Sv=nn(Yo),Ev=nn(Ss);function U_(lt,ht,bt){var Pt=Er(lt),It=Pt||_f(lt)||v0(lt);if(ht=Pn(ht,4),bt==null){var Ut=lt&&lt.constructor;It?bt=Pt?new Ut:[]:po(lt)?bt=yu(Ut)?fu(Fu(lt)):{}:bt={}}return(It?ro:Ns)(lt,function(Wt,Xt,an){return ht(bt,Wt,Xt,an)}),bt}function z_(lt,ht){return lt==null?!0:d0(lt,ht)}function V_(lt,ht,bt){return lt==null?lt:rm(lt,ht,_d(bt))}function B_(lt,ht,bt,Pt){return Pt=typeof Pt=="function"?Pt:a,lt==null?lt:rm(lt,ht,_d(bt),Pt)}function y0(lt){return lt==null?[]:lp(lt,Yo(lt))}function G_(lt){return lt==null?[]:lp(lt,Ss(lt))}function H_(lt,ht,bt){return bt===a&&(bt=ht,ht=a),bt!==a&&(bt=Qs(bt),bt=bt===bt?bt:0),ht!==a&&(ht=Qs(ht),ht=ht===ht?ht:0),hu(Qs(lt),ht,bt)}function W_(lt,ht,bt){return ht=_u(ht),bt===a?(bt=ht,ht=0):bt=_u(bt),lt=Qs(lt),t0(lt,ht,bt)}function K_(lt,ht,bt){if(bt&&typeof bt!="boolean"&&ss(lt,ht,bt)&&(ht=bt=a),bt===a&&(typeof ht=="boolean"?(bt=ht,ht=a):typeof lt=="boolean"&&(bt=lt,lt=a)),lt===a&&ht===a?(lt=0,ht=1):(lt=_u(lt),ht===a?(ht=lt,lt=0):ht=_u(ht)),lt>ht){var Pt=lt;lt=ht,ht=Pt}if(bt||lt%1||ht%1){var It=L0();return Uo(lt+It*(ht-lt+Dp("1e-"+((It+"").length-1))),ht)}return Sp(lt,ht)}var q_=eu(function(lt,ht,bt){return ht=ht.toLowerCase(),lt+(bt?Tv(ht):ht)});function Tv(lt){return I1(Yr(lt).toLowerCase())}function Cv(lt){return lt=Yr(lt),lt&&lt.replace(Vs,wm).replace(o1,"")}function Y_(lt,ht,bt){lt=Yr(lt),ht=os(ht);var Pt=lt.length;bt=bt===a?Pt:hu(Cr(bt),0,Pt);var It=bt;return bt-=ht.length,bt>=0&&lt.slice(bt,It)==ht}function X_(lt){return lt=Yr(lt),lt&&Ln.test(lt)?lt.replace($n,xl):lt}function Q_(lt){return lt=Yr(lt),lt&&go.test(lt)?lt.replace(oo,"\\$&"):lt}var Z_=eu(function(lt,ht,bt){return lt+(bt?"-":"")+ht.toLowerCase()}),J_=eu(function(lt,ht,bt){return lt+(bt?" ":"")+ht.toLowerCase()}),_b=g0("toLowerCase");function ex(lt,ht,bt){lt=Yr(lt),ht=Cr(ht);var Pt=ht?Ws(lt):0;if(!ht||Pt>=ht)return lt;var It=(ht-Pt)/2;return ut(du(It),bt)+lt+ut(mp(It),bt)}function tx(lt,ht,bt){lt=Yr(lt),ht=Cr(ht);var Pt=ht?Ws(lt):0;return ht&&Pt<ht?lt+ut(ht-Pt,bt):lt}function nx(lt,ht,bt){lt=Yr(lt),ht=Cr(ht);var Pt=ht?Ws(lt):0;return ht&&Pt<ht?ut(ht-Pt,bt)+lt:lt}function rx(lt,ht,bt){return bt||ht==null?ht=0:ht&&(ht=+ht),Im(Yr(lt).replace(mo,""),ht||0)}function ix(lt,ht,bt){return(bt?ss(lt,ht,bt):ht===a)?ht=1:ht=Cr(ht),Ju(Yr(lt),ht)}function ox(){var lt=arguments,ht=Yr(lt[0]);return lt.length<3?ht:ht.replace(lt[1],lt[2])}var ax=eu(function(lt,ht,bt){return lt+(bt?"_":"")+ht.toLowerCase()});function sx(lt,ht,bt){return bt&&typeof bt!="number"&&ss(lt,ht,bt)&&(ht=bt=a),bt=bt===a?Jt:bt>>>0,bt?(lt=Yr(lt),lt&&(typeof ht=="string"||ht!=null&&!$1(ht))&&(ht=os(ht),!ht&&uu(lt))?Al($a(lt),0,bt):lt.split(ht,bt)):[]}var lx=eu(function(lt,ht,bt){return lt+(bt?" ":"")+I1(ht)});function ux(lt,ht,bt){return lt=Yr(lt),bt=bt==null?0:hu(Cr(bt),0,lt.length),ht=os(ht),lt.slice(bt,bt+ht.length)==ht}function cx(lt,ht,bt){var Pt=Nt.templateSettings;bt&&ss(lt,ht,bt)&&(ht=a),lt=Yr(lt),ht=i1({},ht,Pt,Rn);var It=i1({},ht.imports,Pt.imports,Rn),Ut=Yo(It),Wt=lp(It,Ut),Xt,an,En=0,Tn=ht.interpolate||Cs,An="__p += '",Vn=dp((ht.escape||Cs).source+"|"+Tn.source+"|"+(Tn===Hn?Eo:Cs).source+"|"+(ht.evaluate||Cs).source+"|$","g"),nr="//# sourceURL="+(Ur.call(ht,"sourceURL")?(ht.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++s1+"]")+`
`;lt.replace(Vn,function(cr,Dr,Lr,Us,ls,zs){return Lr||(Lr=Us),An+=lt.slice(En,zs).replace(_0,Ul),Dr&&(Xt=!0,An+=`' +
__e(`+Dr+`) +
'`),ls&&(an=!0,An+=`';
`+ls+`;
__p += '`),Lr&&(An+=`' +
((__t = (`+Lr+`)) == null ? '' : __t) +
'`),En=zs+cr.length,cr}),An+=`';
`;var ur=Ur.call(ht,"variable")&&ht.variable;if(!ur)An=`with (obj) {
`+An+`
}
`;else if(Do.test(ur))throw new mr(rt);An=(an?An.replace(sn,""):An).replace(un,"$1").replace(hn,"$1;"),An="function("+(ur||"obj")+`) {
`+(ur?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xt?", __e = _.escape":"")+(an?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+An+`return __p
}`;var $r=Av(function(){return Nr(Ut,nr+"return "+An).apply(a,Wt)});if($r.source=An,O1($r))throw $r;return $r}function dx(lt){return Yr(lt).toLowerCase()}function fx(lt){return Yr(lt).toUpperCase()}function hx(lt,ht,bt){if(lt=Yr(lt),lt&&(bt||ht===a))return ns(lt);if(!lt||!(ht=os(ht)))return lt;var Pt=$a(lt),It=$a(ht),Ut=$s(Pt,It),Wt=_l(Pt,It)+1;return Al(Pt,Ut,Wt).join("")}function px(lt,ht,bt){if(lt=Yr(lt),lt&&(bt||ht===a))return lt.slice(0,R0(lt)+1);if(!lt||!(ht=os(ht)))return lt;var Pt=$a(lt),It=_l(Pt,$a(ht))+1;return Al(Pt,0,It).join("")}function gx(lt,ht,bt){if(lt=Yr(lt),lt&&(bt||ht===a))return lt.replace(mo,"");if(!lt||!(ht=os(ht)))return lt;var Pt=$a(lt),It=$s(Pt,$a(ht));return Al(Pt,It).join("")}function mx(lt,ht){var bt=Ct,Pt=At;if(po(ht)){var It="separator"in ht?ht.separator:It;bt="length"in ht?Cr(ht.length):bt,Pt="omission"in ht?os(ht.omission):Pt}lt=Yr(lt);var Ut=lt.length;if(uu(lt)){var Wt=$a(lt);Ut=Wt.length}if(bt>=Ut)return lt;var Xt=bt-Ws(Pt);if(Xt<1)return Pt;var an=Wt?Al(Wt,0,Xt).join(""):lt.slice(0,Xt);if(It===a)return an+Pt;if(Wt&&(Xt+=an.length-Xt),$1(It)){if(lt.slice(Xt).search(It)){var En,Tn=an;for(It.global||(It=dp(It.source,Yr(Mo.exec(It))+"g")),It.lastIndex=0;En=It.exec(Tn);)var An=En.index;an=an.slice(0,An===a?Xt:An)}}else if(lt.indexOf(os(It),Xt)!=Xt){var Vn=an.lastIndexOf(It);Vn>-1&&(an=an.slice(0,Vn))}return an+Pt}function vx(lt){return lt=Yr(lt),lt&&In.test(lt)?lt.replace(Sn,Cm):lt}var yx=eu(function(lt,ht,bt){return lt+(bt?" ":"")+ht.toUpperCase()}),I1=g0("toUpperCase");function Pv(lt,ht,bt){return lt=Yr(lt),ht=bt?a:ht,ht===a?Lp(lt)?cp(lt):A0(lt):lt.match(ht)||[]}var Av=hr(function(lt,ht){try{return Qo(lt,a,ht)}catch(bt){return O1(bt)?bt:new mr(bt)}}),_x=lo(function(lt,ht){return ro(ht,function(bt){bt=tu(bt),Ds(lt,bt,P1(lt[bt],lt))}),lt});function bx(lt){var ht=lt==null?0:lt.length,bt=Pn();return lt=ht?to(lt,function(Pt){if(typeof Pt[1]!="function")throw new Zo(_e);return[bt(Pt[0]),Pt[1]]}):[],hr(function(Pt){for(var It=-1;++It<ht;){var Ut=lt[It];if(Qo(Ut[0],this,Pt))return Qo(Ut[1],this,Pt)}})}function xx(lt){return qp(Ho(lt,j))}function D1(lt){return function(){return lt}}function wx(lt,ht){return lt==null||lt!==lt?ht:lt}var Sx=dm(),Ex=dm(!0);function Es(lt){return lt}function M1(lt){return ho(typeof lt=="function"?lt:Ho(lt,j))}function Tx(lt){return Qu(Ho(lt,j))}function Cx(lt,ht){return Wl(lt,Ho(ht,j))}var Px=hr(function(lt,ht){return function(bt){return Cl(bt,lt,ht)}}),Ax=hr(function(lt,ht){return function(bt){return Cl(lt,bt,ht)}});function F1(lt,ht,bt){var Pt=Yo(ht),It=Zp(ht,Pt);bt==null&&!(po(ht)&&(It.length||!Pt.length))&&(bt=ht,ht=lt,lt=this,It=Zp(ht,Yo(ht)));var Ut=!(po(bt)&&"chain"in bt)||!!bt.chain,Wt=yu(lt);return ro(It,function(Xt){var an=ht[Xt];lt[Xt]=an,Wt&&(lt.prototype[Xt]=function(){var En=this.__chain__;if(Ut||En){var Tn=lt(this.__wrapped__),An=Tn.__actions__=ba(this.__actions__);return An.push({func:an,args:arguments,thisArg:lt}),Tn.__chain__=En,Tn}return an.apply(lt,Hs([this.value()],arguments))})}),lt}function Ox(){return _i._===this&&(_i._=I0),this}function N1(){}function $x(lt){return lt=Cr(lt),hr(function(ht){return Zu(ht,lt)})}var Rx=fm(to),kx=fm(eo),Ix=fm(Cu);function Ov(lt){return x1(lt)?Ll(tu(lt)):Pl(lt)}function Dx(lt){return function(ht){return lt==null?a:Gl(lt,ht)}}var Mx=_t(),Fx=_t(!0);function L1(){return[]}function j1(){return!1}function Nx(){return{}}function Lx(){return""}function jx(){return!0}function Ux(lt,ht){if(lt=Cr(lt),lt<1||lt>Vt)return[];var bt=Jt,Pt=Uo(lt,Jt);ht=Pn(ht),lt-=Jt;for(var It=sp(Pt,ht);++bt<lt;)ht(bt);return It}function zx(lt){return Er(lt)?to(lt,tu):js(lt)?[lt]:ba(Y1(Yr(lt)))}function Vx(lt){var ht=++fp;return Yr(lt)+ht}var Bx=m0(function(lt,ht){return lt+ht},0),Gx=Ot("ceil"),Hx=m0(function(lt,ht){return lt/ht},1),Wx=Ot("floor");function Kx(lt){return lt&&lt.length?xo(lt,Es,Jp):a}function qx(lt,ht){return lt&&lt.length?xo(lt,Pn(ht,2),Jp):a}function Yx(lt){return ip(lt,Es)}function Xx(lt,ht){return ip(lt,Pn(ht,2))}function Qx(lt){return lt&&lt.length?xo(lt,Es,Hl):a}function Zx(lt,ht){return lt&&lt.length?xo(lt,Pn(ht,2),Hl):a}var Jx=m0(function(lt,ht){return lt*ht},1),ew=Ot("round"),tw=m0(function(lt,ht){return lt-ht},0);function nw(lt){return lt&&lt.length?ap(lt,Es):0}function rw(lt,ht){return lt&&lt.length?ap(lt,Pn(ht,2)):0}return Nt.after=C2,Nt.ary=av,Nt.assign=h_,Nt.assignIn=bv,Nt.assignInWith=i1,Nt.assignWith=p_,Nt.at=g_,Nt.before=sv,Nt.bind=P1,Nt.bindAll=_x,Nt.bindKey=lv,Nt.castArray=L2,Nt.chain=rv,Nt.chunk=Kv,Nt.compact=qv,Nt.concat=Yv,Nt.cond=bx,Nt.conforms=xx,Nt.constant=D1,Nt.countBy=r2,Nt.create=m_,Nt.curry=uv,Nt.curryRight=cv,Nt.debounce=dv,Nt.defaults=v_,Nt.defaultsDeep=y_,Nt.defer=P2,Nt.delay=A2,Nt.difference=Xv,Nt.differenceBy=Qv,Nt.differenceWith=Zv,Nt.drop=Jv,Nt.dropRight=ey,Nt.dropRightWhile=ty,Nt.dropWhile=ny,Nt.fill=ry,Nt.filter=o2,Nt.flatMap=l2,Nt.flatMapDeep=u2,Nt.flatMapDepth=c2,Nt.flatten=J1,Nt.flattenDeep=iy,Nt.flattenDepth=oy,Nt.flip=O2,Nt.flow=Sx,Nt.flowRight=Ex,Nt.fromPairs=ay,Nt.functions=T_,Nt.functionsIn=C_,Nt.groupBy=d2,Nt.initial=ly,Nt.intersection=uy,Nt.intersectionBy=cy,Nt.intersectionWith=dy,Nt.invert=A_,Nt.invertBy=O_,Nt.invokeMap=h2,Nt.iteratee=M1,Nt.keyBy=p2,Nt.keys=Yo,Nt.keysIn=Ss,Nt.map=Zm,Nt.mapKeys=R_,Nt.mapValues=k_,Nt.matches=Tx,Nt.matchesProperty=Cx,Nt.memoize=e1,Nt.merge=I_,Nt.mergeWith=xv,Nt.method=Px,Nt.methodOf=Ax,Nt.mixin=F1,Nt.negate=t1,Nt.nthArg=$x,Nt.omit=D_,Nt.omitBy=M_,Nt.once=$2,Nt.orderBy=g2,Nt.over=Rx,Nt.overArgs=R2,Nt.overEvery=kx,Nt.overSome=Ix,Nt.partial=A1,Nt.partialRight=fv,Nt.partition=m2,Nt.pick=F_,Nt.pickBy=wv,Nt.property=Ov,Nt.propertyOf=Dx,Nt.pull=gy,Nt.pullAll=tv,Nt.pullAllBy=my,Nt.pullAllWith=vy,Nt.pullAt=yy,Nt.range=Mx,Nt.rangeRight=Fx,Nt.rearg=k2,Nt.reject=_2,Nt.remove=_y,Nt.rest=I2,Nt.reverse=T1,Nt.sampleSize=x2,Nt.set=L_,Nt.setWith=j_,Nt.shuffle=w2,Nt.slice=by,Nt.sortBy=T2,Nt.sortedUniq=Py,Nt.sortedUniqBy=Ay,Nt.split=sx,Nt.spread=D2,Nt.tail=Oy,Nt.take=$y,Nt.takeRight=Ry,Nt.takeRightWhile=ky,Nt.takeWhile=Iy,Nt.tap=qy,Nt.throttle=M2,Nt.thru=Qm,Nt.toArray=vv,Nt.toPairs=Sv,Nt.toPairsIn=Ev,Nt.toPath=zx,Nt.toPlainObject=_v,Nt.transform=U_,Nt.unary=F2,Nt.union=Dy,Nt.unionBy=My,Nt.unionWith=Fy,Nt.uniq=Ny,Nt.uniqBy=Ly,Nt.uniqWith=jy,Nt.unset=z_,Nt.unzip=C1,Nt.unzipWith=nv,Nt.update=V_,Nt.updateWith=B_,Nt.values=y0,Nt.valuesIn=G_,Nt.without=Uy,Nt.words=Pv,Nt.wrap=N2,Nt.xor=zy,Nt.xorBy=Vy,Nt.xorWith=By,Nt.zip=Gy,Nt.zipObject=Hy,Nt.zipObjectDeep=Wy,Nt.zipWith=Ky,Nt.entries=Sv,Nt.entriesIn=Ev,Nt.extend=bv,Nt.extendWith=i1,F1(Nt,Nt),Nt.add=Bx,Nt.attempt=Av,Nt.camelCase=q_,Nt.capitalize=Tv,Nt.ceil=Gx,Nt.clamp=H_,Nt.clone=j2,Nt.cloneDeep=z2,Nt.cloneDeepWith=V2,Nt.cloneWith=U2,Nt.conformsTo=B2,Nt.deburr=Cv,Nt.defaultTo=wx,Nt.divide=Hx,Nt.endsWith=Y_,Nt.eq=$l,Nt.escape=X_,Nt.escapeRegExp=Q_,Nt.every=i2,Nt.find=a2,Nt.findIndex=Q1,Nt.findKey=__,Nt.findLast=s2,Nt.findLastIndex=Z1,Nt.findLastKey=b_,Nt.floor=Wx,Nt.forEach=iv,Nt.forEachRight=ov,Nt.forIn=x_,Nt.forInRight=w_,Nt.forOwn=S_,Nt.forOwnRight=E_,Nt.get=R1,Nt.gt=G2,Nt.gte=H2,Nt.has=P_,Nt.hasIn=k1,Nt.head=ev,Nt.identity=Es,Nt.includes=f2,Nt.indexOf=sy,Nt.inRange=W_,Nt.invoke=$_,Nt.isArguments=kp,Nt.isArray=Er,Nt.isArrayBuffer=W2,Nt.isArrayLike=ws,Nt.isArrayLikeObject=ko,Nt.isBoolean=K2,Nt.isBuffer=_f,Nt.isDate=q2,Nt.isElement=Y2,Nt.isEmpty=X2,Nt.isEqual=Q2,Nt.isEqualWith=Z2,Nt.isError=O1,Nt.isFinite=J2,Nt.isFunction=yu,Nt.isInteger=hv,Nt.isLength=n1,Nt.isMap=pv,Nt.isMatch=e_,Nt.isMatchWith=t_,Nt.isNaN=n_,Nt.isNative=r_,Nt.isNil=o_,Nt.isNull=i_,Nt.isNumber=gv,Nt.isObject=po,Nt.isObjectLike=So,Nt.isPlainObject=gm,Nt.isRegExp=$1,Nt.isSafeInteger=a_,Nt.isSet=mv,Nt.isString=r1,Nt.isSymbol=js,Nt.isTypedArray=v0,Nt.isUndefined=s_,Nt.isWeakMap=l_,Nt.isWeakSet=u_,Nt.join=fy,Nt.kebabCase=Z_,Nt.last=Xs,Nt.lastIndexOf=hy,Nt.lowerCase=J_,Nt.lowerFirst=_b,Nt.lt=c_,Nt.lte=d_,Nt.max=Kx,Nt.maxBy=qx,Nt.mean=Yx,Nt.meanBy=Xx,Nt.min=Qx,Nt.minBy=Zx,Nt.stubArray=L1,Nt.stubFalse=j1,Nt.stubObject=Nx,Nt.stubString=Lx,Nt.stubTrue=jx,Nt.multiply=Jx,Nt.nth=py,Nt.noConflict=Ox,Nt.noop=N1,Nt.now=Jm,Nt.pad=ex,Nt.padEnd=tx,Nt.padStart=nx,Nt.parseInt=rx,Nt.random=K_,Nt.reduce=v2,Nt.reduceRight=y2,Nt.repeat=ix,Nt.replace=ox,Nt.result=N_,Nt.round=ew,Nt.runInContext=tn,Nt.sample=b2,Nt.size=S2,Nt.snakeCase=ax,Nt.some=E2,Nt.sortedIndex=xy,Nt.sortedIndexBy=wy,Nt.sortedIndexOf=Sy,Nt.sortedLastIndex=Ey,Nt.sortedLastIndexBy=Ty,Nt.sortedLastIndexOf=Cy,Nt.startCase=lx,Nt.startsWith=ux,Nt.subtract=tw,Nt.sum=nw,Nt.sumBy=rw,Nt.template=cx,Nt.times=Ux,Nt.toFinite=_u,Nt.toInteger=Cr,Nt.toLength=yv,Nt.toLower=dx,Nt.toNumber=Qs,Nt.toSafeInteger=f_,Nt.toString=Yr,Nt.toUpper=fx,Nt.trim=hx,Nt.trimEnd=px,Nt.trimStart=gx,Nt.truncate=mx,Nt.unescape=vx,Nt.uniqueId=Vx,Nt.upperCase=yx,Nt.upperFirst=I1,Nt.each=iv,Nt.eachRight=ov,Nt.first=ev,F1(Nt,function(){var lt={};return Ns(Nt,function(ht,bt){Ur.call(Nt.prototype,bt)||(lt[bt]=ht)}),lt}(),{chain:!1}),Nt.VERSION=s,ro(["bind","bindKey","curry","curryRight","partial","partialRight"],function(lt){Nt[lt].placeholder=Nt}),ro(["drop","take"],function(lt,ht){kr.prototype[lt]=function(bt){bt=bt===a?1:_o(Cr(bt),0);var Pt=this.__filtered__&&!ht?new kr(this):this.clone();return Pt.__filtered__?Pt.__takeCount__=Uo(bt,Pt.__takeCount__):Pt.__views__.push({size:Uo(bt,Jt),type:lt+(Pt.__dir__<0?"Right":"")}),Pt},kr.prototype[lt+"Right"]=function(bt){return this.reverse()[lt](bt).reverse()}}),ro(["filter","map","takeWhile"],function(lt,ht){var bt=ht+1,Pt=bt==kt||bt==Dt;kr.prototype[lt]=function(It){var Ut=this.clone();return Ut.__iteratees__.push({iteratee:Pn(It,3),type:bt}),Ut.__filtered__=Ut.__filtered__||Pt,Ut}}),ro(["head","last"],function(lt,ht){var bt="take"+(ht?"Right":"");kr.prototype[lt]=function(){return this[bt](1).value()[0]}}),ro(["initial","tail"],function(lt,ht){var bt="drop"+(ht?"":"Right");kr.prototype[lt]=function(){return this.__filtered__?new kr(this):this[bt](1)}}),kr.prototype.compact=function(){return this.filter(Es)},kr.prototype.find=function(lt){return this.filter(lt).head()},kr.prototype.findLast=function(lt){return this.reverse().find(lt)},kr.prototype.invokeMap=hr(function(lt,ht){return typeof lt=="function"?new kr(this):this.map(function(bt){return Cl(bt,lt,ht)})}),kr.prototype.reject=function(lt){return this.filter(t1(Pn(lt)))},kr.prototype.slice=function(lt,ht){lt=Cr(lt);var bt=this;return bt.__filtered__&&(lt>0||ht<0)?new kr(bt):(lt<0?bt=bt.takeRight(-lt):lt&&(bt=bt.drop(lt)),ht!==a&&(ht=Cr(ht),bt=ht<0?bt.dropRight(-ht):bt.take(ht-lt)),bt)},kr.prototype.takeRightWhile=function(lt){return this.reverse().takeWhile(lt).reverse()},kr.prototype.toArray=function(){return this.take(Jt)},Ns(kr.prototype,function(lt,ht){var bt=/^(?:filter|find|map|reject)|While$/.test(ht),Pt=/^(?:head|last)$/.test(ht),It=Nt[Pt?"take"+(ht=="last"?"Right":""):ht],Ut=Pt||/^find/.test(ht);It&&(Nt.prototype[ht]=function(){var Wt=this.__wrapped__,Xt=Pt?[1]:arguments,an=Wt instanceof kr,En=Xt[0],Tn=an||Er(Wt),An=function(Dr){var Lr=It.apply(Nt,Hs([Dr],Xt));return Pt&&Vn?Lr[0]:Lr};Tn&&bt&&typeof En=="function"&&En.length!=1&&(an=Tn=!1);var Vn=this.__chain__,nr=!!this.__actions__.length,ur=Ut&&!Vn,$r=an&&!nr;if(!Ut&&Tn){Wt=$r?Wt:new kr(this);var cr=lt.apply(Wt,Xt);return cr.__actions__.push({func:Qm,args:[An],thisArg:a}),new rs(cr,Vn)}return ur&&$r?lt.apply(this,Xt):(cr=this.thru(An),ur?Pt?cr.value()[0]:cr.value():cr)})}),ro(["pop","push","shift","sort","splice","unshift"],function(lt){var ht=ku[lt],bt=/^(?:push|sort|unshift)$/.test(lt)?"tap":"thru",Pt=/^(?:pop|shift)$/.test(lt);Nt.prototype[lt]=function(){var It=arguments;if(Pt&&!this.__chain__){var Ut=this.value();return ht.apply(Er(Ut)?Ut:[],It)}return this[bt](function(Wt){return ht.apply(Er(Wt)?Wt:[],It)})}}),Ns(kr.prototype,function(lt,ht){var bt=Nt[ht];if(bt){var Pt=bt.name+"";Ur.call(Sl,Pt)||(Sl[Pt]=[]),Sl[Pt].push({name:ht,func:bt})}}),Sl[Op(a,ft).name]=[{name:"wrapper",func:a}],kr.prototype.clone=es,kr.prototype.reverse=na,kr.prototype.value=Mm,Nt.prototype.at=Yy,Nt.prototype.chain=Xy,Nt.prototype.commit=Qy,Nt.prototype.next=Zy,Nt.prototype.plant=e2,Nt.prototype.reverse=t2,Nt.prototype.toJSON=Nt.prototype.valueOf=Nt.prototype.value=n2,Nt.prototype.first=Nt.prototype.head,Nu&&(Nt.prototype[Nu]=Jy),Nt},Ks=vs();ps?((ps.exports=Ks)._=Ks,Ml._=Ks):_i._=Ks}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,lib$1={exports:{}},_FullInternals={},_CoreInternals={},Global={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o._registerNode=o.Konva=o.glob=void 0;var i=Math.PI/180;function a(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}o.glob=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},o.Konva={_global:o.glob,version:"9.2.0",isBrowser:a(),isUnminified:/param/.test(function($){}.toString()),dblClickWindow:400,getAngle($){return o.Konva.angleDeg?$*i:$},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return o.Konva.DD.isDragging},isDragReady(){return!!o.Konva.DD.node},releaseCanvasOnDestroy:!0,document:o.glob.document,_injectGlobal($){o.glob.Konva=$}};const s=$=>{o.Konva[$.prototype.getClassName()]=$};o._registerNode=s,o.Konva._injectGlobal(o.Konva)})(Global);var Util={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Util=o.Transform=void 0;const i=Global;class a{constructor(mt=[1,0,0,1,0,0]){this.dirty=!1,this.m=mt&&mt.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(mt){mt.m[0]=this.m[0],mt.m[1]=this.m[1],mt.m[2]=this.m[2],mt.m[3]=this.m[3],mt.m[4]=this.m[4],mt.m[5]=this.m[5]}point(mt){var vt=this.m;return{x:vt[0]*mt.x+vt[2]*mt.y+vt[4],y:vt[1]*mt.x+vt[3]*mt.y+vt[5]}}translate(mt,vt){return this.m[4]+=this.m[0]*mt+this.m[2]*vt,this.m[5]+=this.m[1]*mt+this.m[3]*vt,this}scale(mt,vt){return this.m[0]*=mt,this.m[1]*=mt,this.m[2]*=vt,this.m[3]*=vt,this}rotate(mt){var vt=Math.cos(mt),yt=Math.sin(mt),xt=this.m[0]*vt+this.m[2]*yt,wt=this.m[1]*vt+this.m[3]*yt,St=this.m[0]*-yt+this.m[2]*vt,Ct=this.m[1]*-yt+this.m[3]*vt;return this.m[0]=xt,this.m[1]=wt,this.m[2]=St,this.m[3]=Ct,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(mt,vt){var yt=this.m[0]+this.m[2]*vt,xt=this.m[1]+this.m[3]*vt,wt=this.m[2]+this.m[0]*mt,St=this.m[3]+this.m[1]*mt;return this.m[0]=yt,this.m[1]=xt,this.m[2]=wt,this.m[3]=St,this}multiply(mt){var vt=this.m[0]*mt.m[0]+this.m[2]*mt.m[1],yt=this.m[1]*mt.m[0]+this.m[3]*mt.m[1],xt=this.m[0]*mt.m[2]+this.m[2]*mt.m[3],wt=this.m[1]*mt.m[2]+this.m[3]*mt.m[3],St=this.m[0]*mt.m[4]+this.m[2]*mt.m[5]+this.m[4],Ct=this.m[1]*mt.m[4]+this.m[3]*mt.m[5]+this.m[5];return this.m[0]=vt,this.m[1]=yt,this.m[2]=xt,this.m[3]=wt,this.m[4]=St,this.m[5]=Ct,this}invert(){var mt=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),vt=this.m[3]*mt,yt=-this.m[1]*mt,xt=-this.m[2]*mt,wt=this.m[0]*mt,St=mt*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),Ct=mt*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=vt,this.m[1]=yt,this.m[2]=xt,this.m[3]=wt,this.m[4]=St,this.m[5]=Ct,this}getMatrix(){return this.m}decompose(){var mt=this.m[0],vt=this.m[1],yt=this.m[2],xt=this.m[3],wt=this.m[4],St=this.m[5],Ct=mt*xt-vt*yt;let At={x:wt,y:St,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(mt!=0||vt!=0){var $t=Math.sqrt(mt*mt+vt*vt);At.rotation=vt>0?Math.acos(mt/$t):-Math.acos(mt/$t),At.scaleX=$t,At.scaleY=Ct/$t,At.skewX=(mt*yt+vt*xt)/Ct,At.skewY=0}else if(yt!=0||xt!=0){var Rt=Math.sqrt(yt*yt+xt*xt);At.rotation=Math.PI/2-(xt>0?Math.acos(-yt/Rt):-Math.acos(yt/Rt)),At.scaleX=Ct/Rt,At.scaleY=Rt,At.skewX=0,At.skewY=(mt*yt+vt*xt)/Ct}return At.rotation=o.Util._getRotation(At.rotation),At}}o.Transform=a;var s="[object Array]",$="[object Number]",et="[object String]",_e="[object Boolean]",rt=Math.PI/180,ot=180/Math.PI,it="#",at="",j="0",_="Konva warning: ",tt="Konva error: ",nt="rgb(",st={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},dt=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,ft=[];const gt=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(pt){setTimeout(pt,60)};o.Util={_isElement(pt){return!!(pt&&pt.nodeType==1)},_isFunction(pt){return!!(pt&&pt.constructor&&pt.call&&pt.apply)},_isPlainObject(pt){return!!pt&&pt.constructor===Object},_isArray(pt){return Object.prototype.toString.call(pt)===s},_isNumber(pt){return Object.prototype.toString.call(pt)===$&&!isNaN(pt)&&isFinite(pt)},_isString(pt){return Object.prototype.toString.call(pt)===et},_isBoolean(pt){return Object.prototype.toString.call(pt)===_e},isObject(pt){return pt instanceof Object},isValidSelector(pt){if(typeof pt!="string")return!1;var mt=pt[0];return mt==="#"||mt==="."||mt===mt.toUpperCase()},_sign(pt){return pt===0||pt>0?1:-1},requestAnimFrame(pt){ft.push(pt),ft.length===1&&gt(function(){const mt=ft;ft=[],mt.forEach(function(vt){vt()})})},createCanvasElement(){var pt=document.createElement("canvas");try{pt.style=pt.style||{}}catch{}return pt},createImageElement(){return document.createElement("img")},_isInDocument(pt){for(;pt=pt.parentNode;)if(pt==document)return!0;return!1},_urlToImage(pt,mt){var vt=o.Util.createImageElement();vt.onload=function(){mt(vt)},vt.src=pt},_rgbToHex(pt,mt,vt){return((1<<24)+(pt<<16)+(mt<<8)+vt).toString(16).slice(1)},_hexToRgb(pt){pt=pt.replace(it,at);var mt=parseInt(pt,16);return{r:mt>>16&255,g:mt>>8&255,b:mt&255}},getRandomColor(){for(var pt=(Math.random()*16777215<<0).toString(16);pt.length<6;)pt=j+pt;return it+pt},getRGB(pt){var mt;return pt in st?(mt=st[pt],{r:mt[0],g:mt[1],b:mt[2]}):pt[0]===it?this._hexToRgb(pt.substring(1)):pt.substr(0,4)===nt?(mt=dt.exec(pt.replace(/ /g,"")),{r:parseInt(mt[1],10),g:parseInt(mt[2],10),b:parseInt(mt[3],10)}):{r:0,g:0,b:0}},colorToRGBA(pt){return pt=pt||"black",o.Util._namedColorToRBA(pt)||o.Util._hex3ColorToRGBA(pt)||o.Util._hex4ColorToRGBA(pt)||o.Util._hex6ColorToRGBA(pt)||o.Util._hex8ColorToRGBA(pt)||o.Util._rgbColorToRGBA(pt)||o.Util._rgbaColorToRGBA(pt)||o.Util._hslColorToRGBA(pt)},_namedColorToRBA(pt){var mt=st[pt.toLowerCase()];return mt?{r:mt[0],g:mt[1],b:mt[2],a:1}:null},_rgbColorToRGBA(pt){if(pt.indexOf("rgb(")===0){pt=pt.match(/rgb\(([^)]+)\)/)[1];var mt=pt.split(/ *, */).map(Number);return{r:mt[0],g:mt[1],b:mt[2],a:1}}},_rgbaColorToRGBA(pt){if(pt.indexOf("rgba(")===0){pt=pt.match(/rgba\(([^)]+)\)/)[1];var mt=pt.split(/ *, */).map((vt,yt)=>vt.slice(-1)==="%"?yt===3?parseInt(vt)/100:parseInt(vt)/100*255:Number(vt));return{r:mt[0],g:mt[1],b:mt[2],a:mt[3]}}},_hex8ColorToRGBA(pt){if(pt[0]==="#"&&pt.length===9)return{r:parseInt(pt.slice(1,3),16),g:parseInt(pt.slice(3,5),16),b:parseInt(pt.slice(5,7),16),a:parseInt(pt.slice(7,9),16)/255}},_hex6ColorToRGBA(pt){if(pt[0]==="#"&&pt.length===7)return{r:parseInt(pt.slice(1,3),16),g:parseInt(pt.slice(3,5),16),b:parseInt(pt.slice(5,7),16),a:1}},_hex4ColorToRGBA(pt){if(pt[0]==="#"&&pt.length===5)return{r:parseInt(pt[1]+pt[1],16),g:parseInt(pt[2]+pt[2],16),b:parseInt(pt[3]+pt[3],16),a:parseInt(pt[4]+pt[4],16)/255}},_hex3ColorToRGBA(pt){if(pt[0]==="#"&&pt.length===4)return{r:parseInt(pt[1]+pt[1],16),g:parseInt(pt[2]+pt[2],16),b:parseInt(pt[3]+pt[3],16),a:1}},_hslColorToRGBA(pt){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(pt)){const[mt,...vt]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(pt),yt=Number(vt[0])/360,xt=Number(vt[1])/100,wt=Number(vt[2])/100;let St,Ct,At;if(xt===0)return At=wt*255,{r:Math.round(At),g:Math.round(At),b:Math.round(At),a:1};wt<.5?St=wt*(1+xt):St=wt+xt-wt*xt;const $t=2*wt-St,Rt=[0,0,0];for(let kt=0;kt<3;kt++)Ct=yt+1/3*-(kt-1),Ct<0&&Ct++,Ct>1&&Ct--,6*Ct<1?At=$t+(St-$t)*6*Ct:2*Ct<1?At=St:3*Ct<2?At=$t+(St-$t)*(2/3-Ct)*6:At=$t,Rt[kt]=At*255;return{r:Math.round(Rt[0]),g:Math.round(Rt[1]),b:Math.round(Rt[2]),a:1}}},haveIntersection(pt,mt){return!(mt.x>pt.x+pt.width||mt.x+mt.width<pt.x||mt.y>pt.y+pt.height||mt.y+mt.height<pt.y)},cloneObject(pt){var mt={};for(var vt in pt)this._isPlainObject(pt[vt])?mt[vt]=this.cloneObject(pt[vt]):this._isArray(pt[vt])?mt[vt]=this.cloneArray(pt[vt]):mt[vt]=pt[vt];return mt},cloneArray(pt){return pt.slice(0)},degToRad(pt){return pt*rt},radToDeg(pt){return pt*ot},_degToRad(pt){return o.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),o.Util.degToRad(pt)},_radToDeg(pt){return o.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),o.Util.radToDeg(pt)},_getRotation(pt){return i.Konva.angleDeg?o.Util.radToDeg(pt):pt},_capitalize(pt){return pt.charAt(0).toUpperCase()+pt.slice(1)},throw(pt){throw new Error(tt+pt)},error(pt){console.error(tt+pt)},warn(pt){i.Konva.showWarnings&&console.warn(_+pt)},each(pt,mt){for(var vt in pt)mt(vt,pt[vt])},_inRange(pt,mt,vt){return mt<=pt&&pt<vt},_getProjectionToSegment(pt,mt,vt,yt,xt,wt){var St,Ct,At,$t=(pt-vt)*(pt-vt)+(mt-yt)*(mt-yt);if($t==0)St=pt,Ct=mt,At=(xt-vt)*(xt-vt)+(wt-yt)*(wt-yt);else{var Rt=((xt-pt)*(vt-pt)+(wt-mt)*(yt-mt))/$t;Rt<0?(St=pt,Ct=mt,At=(pt-xt)*(pt-xt)+(mt-wt)*(mt-wt)):Rt>1?(St=vt,Ct=yt,At=(vt-xt)*(vt-xt)+(yt-wt)*(yt-wt)):(St=pt+Rt*(vt-pt),Ct=mt+Rt*(yt-mt),At=(St-xt)*(St-xt)+(Ct-wt)*(Ct-wt))}return[St,Ct,At]},_getProjectionToLine(pt,mt,vt){var yt=o.Util.cloneObject(pt),xt=Number.MAX_VALUE;return mt.forEach(function(wt,St){if(!(!vt&&St===mt.length-1)){var Ct=mt[(St+1)%mt.length],At=o.Util._getProjectionToSegment(wt.x,wt.y,Ct.x,Ct.y,pt.x,pt.y),$t=At[0],Rt=At[1],kt=At[2];kt<xt&&(yt.x=$t,yt.y=Rt,xt=kt)}}),yt},_prepareArrayForTween(pt,mt,vt){var yt,xt=[],wt=[];if(pt.length>mt.length){var St=mt;mt=pt,pt=St}for(yt=0;yt<pt.length;yt+=2)xt.push({x:pt[yt],y:pt[yt+1]});for(yt=0;yt<mt.length;yt+=2)wt.push({x:mt[yt],y:mt[yt+1]});var Ct=[];return wt.forEach(function(At){var $t=o.Util._getProjectionToLine(At,xt,vt);Ct.push($t.x),Ct.push($t.y)}),Ct},_prepareToStringify(pt){var mt;pt.visitedByCircularReferenceRemoval=!0;for(var vt in pt)if(pt.hasOwnProperty(vt)&&pt[vt]&&typeof pt[vt]=="object"){if(mt=Object.getOwnPropertyDescriptor(pt,vt),pt[vt].visitedByCircularReferenceRemoval||o.Util._isElement(pt[vt]))if(mt.configurable)delete pt[vt];else return null;else if(o.Util._prepareToStringify(pt[vt])===null)if(mt.configurable)delete pt[vt];else return null}return delete pt.visitedByCircularReferenceRemoval,pt},_assign(pt,mt){for(var vt in mt)pt[vt]=mt[vt];return pt},_getFirstPointerId(pt){return pt.touches?pt.changedTouches[0].identifier:pt.pointerId||999},releaseCanvas(...pt){i.Konva.releaseCanvasOnDestroy&&pt.forEach(mt=>{mt.width=0,mt.height=0})},drawRoundedRectPath(pt,mt,vt,yt){let xt=0,wt=0,St=0,Ct=0;typeof yt=="number"?xt=wt=St=Ct=Math.min(yt,mt/2,vt/2):(xt=Math.min(yt[0]||0,mt/2,vt/2),wt=Math.min(yt[1]||0,mt/2,vt/2),Ct=Math.min(yt[2]||0,mt/2,vt/2),St=Math.min(yt[3]||0,mt/2,vt/2)),pt.moveTo(xt,0),pt.lineTo(mt-wt,0),pt.arc(mt-wt,wt,wt,Math.PI*3/2,0,!1),pt.lineTo(mt,vt-Ct),pt.arc(mt-Ct,vt-Ct,Ct,0,Math.PI/2,!1),pt.lineTo(St,vt),pt.arc(St,vt-St,St,Math.PI/2,Math.PI,!1),pt.lineTo(0,xt),pt.arc(xt,xt,xt,Math.PI,Math.PI*3/2,!1)}}})(Util);var Node$1={},Factory={},Validators={};Object.defineProperty(Validators,"__esModule",{value:!0});Validators.getComponentValidator=Validators.getBooleanValidator=Validators.getNumberArrayValidator=Validators.getFunctionValidator=Validators.getStringOrGradientValidator=Validators.getStringValidator=Validators.getNumberOrAutoValidator=Validators.getNumberOrArrayOfNumbersValidator=Validators.getNumberValidator=Validators.alphaComponent=Validators.RGBComponent=void 0;const Global_1$p=Global,Util_1$f=Util;function _formatValue(o){return Util_1$f.Util._isString(o)?'"'+o+'"':Object.prototype.toString.call(o)==="[object Number]"||Util_1$f.Util._isBoolean(o)?o:Object.prototype.toString.call(o)}function RGBComponent(o){return o>255?255:o<0?0:Math.round(o)}Validators.RGBComponent=RGBComponent;function alphaComponent(o){return o>1?1:o<1e-4?1e-4:o}Validators.alphaComponent=alphaComponent;function getNumberValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isNumber(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a number.'),o}}Validators.getNumberValidator=getNumberValidator;function getNumberOrArrayOfNumbersValidator(o){if(Global_1$p.Konva.isUnminified)return function(i,a){let s=Util_1$f.Util._isNumber(i),$=Util_1$f.Util._isArray(i)&&i.length==o;return!s&&!$&&Util_1$f.Util.warn(_formatValue(i)+' is a not valid value for "'+a+'" attribute. The value should be a number or Array<number>('+o+")"),i}}Validators.getNumberOrArrayOfNumbersValidator=getNumberOrArrayOfNumbersValidator;function getNumberOrAutoValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){var a=Util_1$f.Util._isNumber(o),s=o==="auto";return a||s||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a number or "auto".'),o}}Validators.getNumberOrAutoValidator=getNumberOrAutoValidator;function getStringValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isString(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a string.'),o}}Validators.getStringValidator=getStringValidator;function getStringOrGradientValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){const a=Util_1$f.Util._isString(o),s=Object.prototype.toString.call(o)==="[object CanvasGradient]"||o&&o.addColorStop;return a||s||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a string or a native gradient.'),o}}Validators.getStringOrGradientValidator=getStringOrGradientValidator;function getFunctionValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isFunction(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a function.'),o}}Validators.getFunctionValidator=getFunctionValidator;function getNumberArrayValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){const a=Int8Array?Object.getPrototypeOf(Int8Array):null;return a&&o instanceof a||(Util_1$f.Util._isArray(o)?o.forEach(function(s){Util_1$f.Util._isNumber(s)||Util_1$f.Util.warn('"'+i+'" attribute has non numeric element '+s+". Make sure that all elements are numbers.")}):Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a array of numbers.')),o}}Validators.getNumberArrayValidator=getNumberArrayValidator;function getBooleanValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){var a=o===!0||o===!1;return a||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a boolean.'),o}}Validators.getBooleanValidator=getBooleanValidator;function getComponentValidator(o){if(Global_1$p.Konva.isUnminified)return function(i,a){return i==null||Util_1$f.Util.isObject(i)||Util_1$f.Util.warn(_formatValue(i)+' is a not valid value for "'+a+'" attribute. The value should be an object with properties '+o),i}}Validators.getComponentValidator=getComponentValidator;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Factory=void 0;const i=Util,a=Validators;var s="get",$="set";o.Factory={addGetterSetter(et,_e,rt,ot,it){o.Factory.addGetter(et,_e,rt),o.Factory.addSetter(et,_e,ot,it),o.Factory.addOverloadedGetterSetter(et,_e)},addGetter(et,_e,rt){var ot=s+i.Util._capitalize(_e);et.prototype[ot]=et.prototype[ot]||function(){var it=this.attrs[_e];return it===void 0?rt:it}},addSetter(et,_e,rt,ot){var it=$+i.Util._capitalize(_e);et.prototype[it]||o.Factory.overWriteSetter(et,_e,rt,ot)},overWriteSetter(et,_e,rt,ot){var it=$+i.Util._capitalize(_e);et.prototype[it]=function(at){return rt&&at!==void 0&&at!==null&&(at=rt.call(this,at,_e)),this._setAttr(_e,at),ot&&ot.call(this),this}},addComponentsGetterSetter(et,_e,rt,ot,it){var at=rt.length,j=i.Util._capitalize,_=s+j(_e),tt=$+j(_e),nt,st;et.prototype[_]=function(){var ft={};for(nt=0;nt<at;nt++)st=rt[nt],ft[st]=this.getAttr(_e+j(st));return ft};var dt=(0,a.getComponentValidator)(rt);et.prototype[tt]=function(ft){var gt=this.attrs[_e],pt;ot&&(ft=ot.call(this,ft)),dt&&dt.call(this,ft,_e);for(pt in ft)ft.hasOwnProperty(pt)&&this._setAttr(_e+j(pt),ft[pt]);return ft||rt.forEach(mt=>{this._setAttr(_e+j(mt),void 0)}),this._fireChangeEvent(_e,gt,ft),it&&it.call(this),this},o.Factory.addOverloadedGetterSetter(et,_e)},addOverloadedGetterSetter(et,_e){var rt=i.Util._capitalize(_e),ot=$+rt,it=s+rt;et.prototype[_e]=function(){return arguments.length?(this[ot](arguments[0]),this):this[it]()}},addDeprecatedGetterSetter(et,_e,rt,ot){i.Util.error("Adding deprecated "+_e);var it=s+i.Util._capitalize(_e),at=_e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";et.prototype[it]=function(){i.Util.error(at);var j=this.attrs[_e];return j===void 0?rt:j},o.Factory.addSetter(et,_e,ot,function(){i.Util.error(at)}),o.Factory.addOverloadedGetterSetter(et,_e)},backCompat(et,_e){i.Util.each(_e,function(rt,ot){var it=et.prototype[ot],at=s+i.Util._capitalize(rt),j=$+i.Util._capitalize(rt);function _(){it.apply(this,arguments),i.Util.error('"'+rt+'" method is deprecated and will be removed soon. Use ""'+ot+'" instead.')}et.prototype[rt]=_,et.prototype[at]=_,et.prototype[j]=_})},afterSetFilter(){this._filterUpToDate=!1}}})(Factory);var Canvas$2={},Context$4={};Object.defineProperty(Context$4,"__esModule",{value:!0});Context$4.HitContext=Context$4.SceneContext=Context$4.Context=void 0;const Util_1$e=Util,Global_1$o=Global;function simplifyArray(o){var i=[],a=o.length,s=Util_1$e.Util,$,et;for($=0;$<a;$++)et=o[$],s._isNumber(et)?et=Math.round(et*1e3)/1e3:s._isString(et)||(et=et+""),i.push(et);return i}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;let Context$3=class{constructor(i){this.canvas=i,Global_1$o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(i){i.fillEnabled()&&this._fill(i)}_fill(i){}strokeShape(i){i.hasStroke()&&this._stroke(i)}_stroke(i){}fillStrokeShape(i){i.attrs.fillAfterStrokeEnabled?(this.strokeShape(i),this.fillShape(i)):(this.fillShape(i),this.strokeShape(i))}getTrace(i,a){var s=this.traceArr,$=s.length,et="",_e,rt,ot,it;for(_e=0;_e<$;_e++)rt=s[_e],ot=rt.method,ot?(it=rt.args,et+=ot,i?et+=DOUBLE_PAREN:Util_1$e.Util._isArray(it[0])?et+=OPEN_PAREN_BRACKET+it.join(COMMA)+CLOSE_BRACKET_PAREN:(a&&(it=it.map(at=>typeof at=="number"?Math.floor(at):at)),et+=OPEN_PAREN+it.join(COMMA)+CLOSE_PAREN)):(et+=rt.property,i||(et+=EQUALS+rt.val)),et+=SEMICOLON;return et}clearTrace(){this.traceArr=[]}_trace(i){var a=this.traceArr,s;a.push(i),s=a.length,s>=traceArrMax&&a.shift()}reset(){var i=this.getCanvas().getPixelRatio();this.setTransform(1*i,0,0,1*i,0,0)}getCanvas(){return this.canvas}clear(i){var a=this.getCanvas();i?this.clearRect(i.x||0,i.y||0,i.width||0,i.height||0):this.clearRect(0,0,a.getWidth()/a.pixelRatio,a.getHeight()/a.pixelRatio)}_applyLineCap(i){const a=i.attrs.lineCap;a&&this.setAttr("lineCap",a)}_applyOpacity(i){var a=i.getAbsoluteOpacity();a!==1&&this.setAttr("globalAlpha",a)}_applyLineJoin(i){const a=i.attrs.lineJoin;a&&this.setAttr("lineJoin",a)}setAttr(i,a){this._context[i]=a}arc(i,a,s,$,et,_e){this._context.arc(i,a,s,$,et,_e)}arcTo(i,a,s,$,et){this._context.arcTo(i,a,s,$,et)}beginPath(){this._context.beginPath()}bezierCurveTo(i,a,s,$,et,_e){this._context.bezierCurveTo(i,a,s,$,et,_e)}clearRect(i,a,s,$){this._context.clearRect(i,a,s,$)}clip(...i){this._context.clip.apply(this._context,i)}closePath(){this._context.closePath()}createImageData(i,a){var s=arguments;if(s.length===2)return this._context.createImageData(i,a);if(s.length===1)return this._context.createImageData(i)}createLinearGradient(i,a,s,$){return this._context.createLinearGradient(i,a,s,$)}createPattern(i,a){return this._context.createPattern(i,a)}createRadialGradient(i,a,s,$,et,_e){return this._context.createRadialGradient(i,a,s,$,et,_e)}drawImage(i,a,s,$,et,_e,rt,ot,it){var at=arguments,j=this._context;at.length===3?j.drawImage(i,a,s):at.length===5?j.drawImage(i,a,s,$,et):at.length===9&&j.drawImage(i,a,s,$,et,_e,rt,ot,it)}ellipse(i,a,s,$,et,_e,rt,ot){this._context.ellipse(i,a,s,$,et,_e,rt,ot)}isPointInPath(i,a,s,$){return s?this._context.isPointInPath(s,i,a,$):this._context.isPointInPath(i,a,$)}fill(...i){this._context.fill.apply(this._context,i)}fillRect(i,a,s,$){this._context.fillRect(i,a,s,$)}strokeRect(i,a,s,$){this._context.strokeRect(i,a,s,$)}fillText(i,a,s,$){$?this._context.fillText(i,a,s,$):this._context.fillText(i,a,s)}measureText(i){return this._context.measureText(i)}getImageData(i,a,s,$){return this._context.getImageData(i,a,s,$)}lineTo(i,a){this._context.lineTo(i,a)}moveTo(i,a){this._context.moveTo(i,a)}rect(i,a,s,$){this._context.rect(i,a,s,$)}putImageData(i,a,s){this._context.putImageData(i,a,s)}quadraticCurveTo(i,a,s,$){this._context.quadraticCurveTo(i,a,s,$)}restore(){this._context.restore()}rotate(i){this._context.rotate(i)}save(){this._context.save()}scale(i,a){this._context.scale(i,a)}setLineDash(i){this._context.setLineDash?this._context.setLineDash(i):"mozDash"in this._context?this._context.mozDash=i:"webkitLineDash"in this._context&&(this._context.webkitLineDash=i)}getLineDash(){return this._context.getLineDash()}setTransform(i,a,s,$,et,_e){this._context.setTransform(i,a,s,$,et,_e)}stroke(i){i?this._context.stroke(i):this._context.stroke()}strokeText(i,a,s,$){this._context.strokeText(i,a,s,$)}transform(i,a,s,$,et,_e){this._context.transform(i,a,s,$,et,_e)}translate(i,a){this._context.translate(i,a)}_enableTrace(){var i=this,a=CONTEXT_METHODS.length,s=this.setAttr,$,et,_e=function(rt){var ot=i[rt],it;i[rt]=function(){return et=simplifyArray(Array.prototype.slice.call(arguments,0)),it=ot.apply(i,arguments),i._trace({method:rt,args:et}),it}};for($=0;$<a;$++)_e(CONTEXT_METHODS[$]);i.setAttr=function(){s.apply(i,arguments);var rt=arguments[0],ot=arguments[1];(rt==="shadowOffsetX"||rt==="shadowOffsetY"||rt==="shadowBlur")&&(ot=ot/this.canvas.getPixelRatio()),i._trace({property:rt,val:ot})}}_applyGlobalCompositeOperation(i){const a=i.attrs.globalCompositeOperation;var s=!a||a==="source-over";s||this.setAttr("globalCompositeOperation",a)}};Context$4.Context=Context$3;CONTEXT_PROPERTIES.forEach(function(o){Object.defineProperty(Context$3.prototype,o,{get(){return this._context[o]},set(i){this._context[o]=i}})});class SceneContext extends Context$3{constructor(i,{willReadFrequently:a=!1}={}){super(i),this._context=i._canvas.getContext("2d",{willReadFrequently:a})}_fillColor(i){var a=i.fill();this.setAttr("fillStyle",a),i._fillFunc(this)}_fillPattern(i){this.setAttr("fillStyle",i._getFillPattern()),i._fillFunc(this)}_fillLinearGradient(i){var a=i._getLinearGradient();a&&(this.setAttr("fillStyle",a),i._fillFunc(this))}_fillRadialGradient(i){const a=i._getRadialGradient();a&&(this.setAttr("fillStyle",a),i._fillFunc(this))}_fill(i){const a=i.fill(),s=i.getFillPriority();if(a&&s==="color"){this._fillColor(i);return}const $=i.getFillPatternImage();if($&&s==="pattern"){this._fillPattern(i);return}const et=i.getFillLinearGradientColorStops();if(et&&s==="linear-gradient"){this._fillLinearGradient(i);return}const _e=i.getFillRadialGradientColorStops();if(_e&&s==="radial-gradient"){this._fillRadialGradient(i);return}a?this._fillColor(i):$?this._fillPattern(i):et?this._fillLinearGradient(i):_e&&this._fillRadialGradient(i)}_strokeLinearGradient(i){const a=i.getStrokeLinearGradientStartPoint(),s=i.getStrokeLinearGradientEndPoint(),$=i.getStrokeLinearGradientColorStops(),et=this.createLinearGradient(a.x,a.y,s.x,s.y);if($){for(var _e=0;_e<$.length;_e+=2)et.addColorStop($[_e],$[_e+1]);this.setAttr("strokeStyle",et)}}_stroke(i){var a=i.dash(),s=i.getStrokeScaleEnabled();if(i.hasStroke()){if(!s){this.save();var $=this.getCanvas().getPixelRatio();this.setTransform($,0,0,$,0,0)}this._applyLineCap(i),a&&i.dashEnabled()&&(this.setLineDash(a),this.setAttr("lineDashOffset",i.dashOffset())),this.setAttr("lineWidth",i.strokeWidth()),i.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var et=i.getStrokeLinearGradientColorStops();et?this._strokeLinearGradient(i):this.setAttr("strokeStyle",i.stroke()),i._strokeFunc(this),s||this.restore()}}_applyShadow(i){var a,s,$,et=(a=i.getShadowRGBA())!==null&&a!==void 0?a:"black",_e=(s=i.getShadowBlur())!==null&&s!==void 0?s:5,rt=($=i.getShadowOffset())!==null&&$!==void 0?$:{x:0,y:0},ot=i.getAbsoluteScale(),it=this.canvas.getPixelRatio(),at=ot.x*it,j=ot.y*it;this.setAttr("shadowColor",et),this.setAttr("shadowBlur",_e*Math.min(Math.abs(at),Math.abs(j))),this.setAttr("shadowOffsetX",rt.x*at),this.setAttr("shadowOffsetY",rt.y*j)}}Context$4.SceneContext=SceneContext;class HitContext extends Context$3{constructor(i){super(i),this._context=i._canvas.getContext("2d",{willReadFrequently:!0})}_fill(i){this.save(),this.setAttr("fillStyle",i.colorKey),i._fillFuncHit(this),this.restore()}strokeShape(i){i.hasHitStroke()&&this._stroke(i)}_stroke(i){if(i.hasHitStroke()){const et=i.getStrokeScaleEnabled();if(!et){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(i);var s=i.hitStrokeWidth(),$=s==="auto"?i.strokeWidth():s;this.setAttr("lineWidth",$),this.setAttr("strokeStyle",i.colorKey),i._strokeFuncHit(this),et||this.restore()}}}Context$4.HitContext=HitContext;Object.defineProperty(Canvas$2,"__esModule",{value:!0});Canvas$2.HitCanvas=Canvas$2.SceneCanvas=Canvas$2.Canvas=void 0;const Util_1$d=Util,Context_1=Context$4,Global_1$n=Global,Factory_1$z=Factory,Validators_1$y=Validators;var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var o=Util_1$d.Util.createCanvasElement(),i=o.getContext("2d");return _pixelRatio=function(){var a=Global_1$n.Konva._global.devicePixelRatio||1,s=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return a/s}(),Util_1$d.Util.releaseCanvas(o),_pixelRatio}let Canvas$1=class{constructor(i){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var a=i||{},s=a.pixelRatio||Global_1$n.Konva.pixelRatio||getDevicePixelRatio();this.pixelRatio=s,this._canvas=Util_1$d.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(i){var a=this.pixelRatio;this.pixelRatio=i,this.setSize(this.getWidth()/a,this.getHeight()/a)}setWidth(i){this.width=this._canvas.width=i*this.pixelRatio,this._canvas.style.width=i+"px";var a=this.pixelRatio,s=this.getContext()._context;s.scale(a,a)}setHeight(i){this.height=this._canvas.height=i*this.pixelRatio,this._canvas.style.height=i+"px";var a=this.pixelRatio,s=this.getContext()._context;s.scale(a,a)}getWidth(){return this.width}getHeight(){return this.height}setSize(i,a){this.setWidth(i||0),this.setHeight(a||0)}toDataURL(i,a){try{return this._canvas.toDataURL(i,a)}catch{try{return this._canvas.toDataURL()}catch($){return Util_1$d.Util.error("Unable to get data URL. "+$.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Canvas$2.Canvas=Canvas$1;Factory_1$z.Factory.addGetterSetter(Canvas$1,"pixelRatio",void 0,(0,Validators_1$y.getNumberValidator)());class SceneCanvas extends Canvas$1{constructor(i={width:0,height:0,willReadFrequently:!1}){super(i),this.context=new Context_1.SceneContext(this,{willReadFrequently:i.willReadFrequently}),this.setSize(i.width,i.height)}}Canvas$2.SceneCanvas=SceneCanvas;class HitCanvas extends Canvas$1{constructor(i={width:0,height:0}){super(i),this.hitCanvas=!0,this.context=new Context_1.HitContext(this),this.setSize(i.width,i.height)}}Canvas$2.HitCanvas=HitCanvas;var DragAndDrop={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.DD=void 0;const i=Global,a=Util;o.DD={get isDragging(){var s=!1;return o.DD._dragElements.forEach($=>{$.dragStatus==="dragging"&&(s=!0)}),s},justDragged:!1,get node(){var s;return o.DD._dragElements.forEach($=>{s=$.node}),s},_dragElements:new Map,_drag(s){const $=[];o.DD._dragElements.forEach((et,_e)=>{const{node:rt}=et,ot=rt.getStage();ot.setPointersPositions(s),et.pointerId===void 0&&(et.pointerId=a.Util._getFirstPointerId(s));const it=ot._changedPointerPositions.find(_=>_.id===et.pointerId);if(it){if(et.dragStatus!=="dragging"){var at=rt.dragDistance(),j=Math.max(Math.abs(it.x-et.startPointerPos.x),Math.abs(it.y-et.startPointerPos.y));if(j<at||(rt.startDrag({evt:s}),!rt.isDragging()))return}rt._setDragPosition(s,et),$.push(rt)}}),$.forEach(et=>{et.fire("dragmove",{type:"dragmove",target:et,evt:s},!0)})},_endDragBefore(s){const $=[];o.DD._dragElements.forEach(et=>{const{node:_e}=et,rt=_e.getStage();if(s&&rt.setPointersPositions(s),!rt._changedPointerPositions.find(at=>at.id===et.pointerId))return;(et.dragStatus==="dragging"||et.dragStatus==="stopped")&&(o.DD.justDragged=!0,i.Konva._mouseListenClick=!1,i.Konva._touchListenClick=!1,i.Konva._pointerListenClick=!1,et.dragStatus="stopped");const it=et.node.getLayer()||et.node instanceof i.Konva.Stage&&et.node;it&&$.indexOf(it)===-1&&$.push(it)}),$.forEach(et=>{et.draw()})},_endDragAfter(s){o.DD._dragElements.forEach(($,et)=>{$.dragStatus==="stopped"&&$.node.fire("dragend",{type:"dragend",target:$.node,evt:s},!0),$.dragStatus!=="dragging"&&o.DD._dragElements.delete(et)})}},i.Konva.isBrowser&&(window.addEventListener("mouseup",o.DD._endDragBefore,!0),window.addEventListener("touchend",o.DD._endDragBefore,!0),window.addEventListener("mousemove",o.DD._drag),window.addEventListener("touchmove",o.DD._drag),window.addEventListener("mouseup",o.DD._endDragAfter,!1),window.addEventListener("touchend",o.DD._endDragAfter,!1))})(DragAndDrop);Object.defineProperty(Node$1,"__esModule",{value:!0});Node$1.Node=void 0;const Util_1$c=Util,Factory_1$y=Factory,Canvas_1$1=Canvas$2,Global_1$m=Global,DragAndDrop_1=DragAndDrop,Validators_1$x=Validators;var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER="mouseenter",MOUSELEAVE="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter=1;class Node{constructor(i){this._id=idCounter++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(i),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(i){(i===TRANSFORM||i===ABSOLUTE_TRANSFORM)&&this._cache.get(i)?this._cache.get(i).dirty=!0:i?this._cache.delete(i):this._cache.clear()}_getCache(i,a){var s=this._cache.get(i),$=i===TRANSFORM||i===ABSOLUTE_TRANSFORM,et=s===void 0||$&&s.dirty===!0;return et&&(s=a.call(this),this._cache.set(i,s)),s}_calculate(i,a,s){if(!this._attachedDepsListeners.get(i)){const $=a.map(et=>et+"Change.konva").join(SPACE$1);this.on($,()=>{this._clearCache(i)}),this._attachedDepsListeners.set(i,!0)}return this._getCache(i,s)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(i){this._clearCache(i),i===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(CANVAS)){const{scene:i,filter:a,hit:s}=this._cache.get(CANVAS);Util_1$c.Util.releaseCanvas(i,a,s),this._cache.delete(CANVAS)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(i){var a=i||{},s={};(a.x===void 0||a.y===void 0||a.width===void 0||a.height===void 0)&&(s=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var $=Math.ceil(a.width||s.width),et=Math.ceil(a.height||s.height),_e=a.pixelRatio,rt=a.x===void 0?Math.floor(s.x):a.x,ot=a.y===void 0?Math.floor(s.y):a.y,it=a.offset||0,at=a.drawBorder||!1,j=a.hitCanvasPixelRatio||1;if(!$||!et){Util_1$c.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}$+=it*2+1,et+=it*2+1,rt-=it,ot-=it;var _=new Canvas_1$1.SceneCanvas({pixelRatio:_e,width:$,height:et}),tt=new Canvas_1$1.SceneCanvas({pixelRatio:_e,width:0,height:0,willReadFrequently:!0}),nt=new Canvas_1$1.HitCanvas({pixelRatio:j,width:$,height:et}),st=_.getContext(),dt=nt.getContext();return nt.isCache=!0,_.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,a.imageSmoothingEnabled===!1&&(_.getContext()._context.imageSmoothingEnabled=!1,tt.getContext()._context.imageSmoothingEnabled=!1),st.save(),dt.save(),st.translate(-rt,-ot),dt.translate(-rt,-ot),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene(_,this),this.drawHit(nt,this),this._isUnderCache=!1,st.restore(),dt.restore(),at&&(st.save(),st.beginPath(),st.rect(0,0,$,et),st.closePath(),st.setAttr("strokeStyle","red"),st.setAttr("lineWidth",5),st.stroke(),st.restore()),this._cache.set(CANVAS,{scene:_,filter:tt,hit:nt,x:rt,y:ot}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(i){throw new Error('abstract "getClientRect" method call')}_transformedRect(i,a){var s=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],$,et,_e,rt,ot=this.getAbsoluteTransform(a);return s.forEach(function(it){var at=ot.point(it);$===void 0&&($=_e=at.x,et=rt=at.y),$=Math.min($,at.x),et=Math.min(et,at.y),_e=Math.max(_e,at.x),rt=Math.max(rt,at.y)}),{x:$,y:et,width:_e-$,height:rt-et}}_drawCachedSceneCanvas(i){i.save(),i._applyOpacity(this),i._applyGlobalCompositeOperation(this);const a=this._getCanvasCache();i.translate(a.x,a.y);var s=this._getCachedSceneCanvas(),$=s.pixelRatio;i.drawImage(s._canvas,0,0,s.width/$,s.height/$),i.restore()}_drawCachedHitCanvas(i){var a=this._getCanvasCache(),s=a.hit;i.save(),i.translate(a.x,a.y),i.drawImage(s._canvas,0,0,s.width/s.pixelRatio,s.height/s.pixelRatio),i.restore()}_getCachedSceneCanvas(){var i=this.filters(),a=this._getCanvasCache(),s=a.scene,$=a.filter,et=$.getContext(),_e,rt,ot,it;if(i){if(!this._filterUpToDate){var at=s.pixelRatio;$.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(_e=i.length,et.clear(),et.drawImage(s._canvas,0,0,s.getWidth()/at,s.getHeight()/at),rt=et.getImageData(0,0,$.getWidth(),$.getHeight()),ot=0;ot<_e;ot++){if(it=i[ot],typeof it!="function"){Util_1$c.Util.error("Filter should be type of function, but got "+typeof it+" instead. Please check correct filters");continue}it.call(this,rt),et.putImageData(rt,0,0)}}catch(j){Util_1$c.Util.error("Unable to apply filter. "+j.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return $}return s}on(i,a){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var s=i.split(SPACE$1),$=s.length,et,_e,rt,ot,it;for(et=0;et<$;et++)_e=s[et],rt=_e.split("."),ot=rt[0],it=rt[1]||"",this.eventListeners[ot]||(this.eventListeners[ot]=[]),this.eventListeners[ot].push({name:it,handler:a});return this}off(i,a){var s=(i||"").split(SPACE$1),$=s.length,et,_e,rt,ot,it,at;if(this._cache&&this._cache.delete(ALL_LISTENERS),!i)for(_e in this.eventListeners)this._off(_e);for(et=0;et<$;et++)if(rt=s[et],ot=rt.split("."),it=ot[0],at=ot[1],it)this.eventListeners[it]&&this._off(it,at,a);else for(_e in this.eventListeners)this._off(_e,at,a);return this}dispatchEvent(i){var a={target:this,type:i.type,evt:i};return this.fire(i.type,a),this}addEventListener(i,a){return this.on(i,function(s){a.call(this,s.evt)}),this}removeEventListener(i){return this.off(i),this}_delegate(i,a,s){var $=this;this.on(i,function(et){for(var _e=et.target.findAncestors(a,!0,$),rt=0;rt<_e.length;rt++)et=Util_1$c.Util.cloneObject(et),et.currentTarget=_e[rt],s.call(_e[rt],et)})}remove(){return this.isDragging()&&this.stopDrag(),DragAndDrop_1.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var i=this.getParent();i&&i.children&&(i.children.splice(this.index,1),i._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(i){var a="get"+Util_1$c.Util._capitalize(i);return Util_1$c.Util._isFunction(this[a])?this[a]():this.attrs[i]}getAncestors(){for(var i=this.getParent(),a=[];i;)a.push(i),i=i.getParent();return a}getAttrs(){return this.attrs||{}}setAttrs(i){return this._batchTransformChanges(()=>{var a,s;if(!i)return this;for(a in i)a!==CHILDREN&&(s=SET+Util_1$c.Util._capitalize(a),Util_1$c.Util._isFunction(this[s])?this[s](i[a]):this._setAttr(a,i[a]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(i){if(!this.listening())return!1;const s=this.getParent();return s&&s!==i&&this!==i?s._isListening(i):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(i){if(!this.visible())return!1;const s=this.getParent();return s&&s!==i&&this!==i?s._isVisible(i):!0}shouldDrawHit(i,a=!1){if(i)return this._isVisible(i)&&this._isListening(i);var s=this.getLayer(),$=!1;DragAndDrop_1.DD._dragElements.forEach(_e=>{_e.dragStatus==="dragging"&&(_e.node.nodeType==="Stage"||_e.node.getLayer()===s)&&($=!0)});var et=!a&&!Global_1$m.Konva.hitOnDragEnabled&&$;return this.isListening()&&this.isVisible()&&!et}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var i=this.getDepth(),a=this,s=0,$,et,_e,rt;function ot(it){for($=[],et=it.length,_e=0;_e<et;_e++)rt=it[_e],s++,rt.nodeType!==SHAPE&&($=$.concat(rt.getChildren().slice())),rt._id===a._id&&(_e=et);$.length>0&&$[0].getDepth()<=i&&ot($)}return a.nodeType!==UPPER_STAGE&&ot(a.getStage().getChildren()),s}getDepth(){for(var i=0,a=this.parent;a;)i++,a=a.parent;return i}_batchTransformChanges(i){this._batchingTransformChange=!0,i(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(i){return this._batchTransformChanges(()=>{this.x(i.x),this.y(i.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var i=this.getStage().getPointerPosition();if(!i)return null;var a=this.getAbsoluteTransform().copy();return a.invert(),a.point(i)}getAbsolutePosition(i){let a=!1,s=this.parent;for(;s;){if(s.isCached()){a=!0;break}s=s.parent}a&&!i&&(i=!0);var $=this.getAbsoluteTransform(i).getMatrix(),et=new Util_1$c.Transform,_e=this.offset();return et.m=$.slice(),et.translate(_e.x,_e.y),et.getTranslation()}setAbsolutePosition(i){var a=this._clearTransform();this.attrs.x=a.x,this.attrs.y=a.y,delete a.x,delete a.y,this._clearCache(TRANSFORM);var s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(i.x,i.y),i={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(a),this.setPosition({x:i.x,y:i.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(i){var a;for(a in i)this.attrs[a]=i[a]}_clearTransform(){var i={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,i}move(i){var a=i.x,s=i.y,$=this.x(),et=this.y();return a!==void 0&&($+=a),s!==void 0&&(et+=s),this.setPosition({x:$,y:et}),this}_eachAncestorReverse(i,a){var s=[],$=this.getParent(),et,_e;if(!(a&&a._id===this._id)){for(s.unshift(this);$&&(!a||$._id!==a._id);)s.unshift($),$=$.parent;for(et=s.length,_e=0;_e<et;_e++)i(s[_e])}}rotate(i){return this.rotation(this.rotation()+i),this}moveToTop(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var i=this.index,a=this.parent.getChildren().length;return i<a-1?(this.parent.children.splice(i,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveUp function is ignored."),!1;var i=this.index,a=this.parent.getChildren().length;return i<a-1?(this.parent.children.splice(i,1),this.parent.children.splice(i+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveDown function is ignored."),!1;var i=this.index;return i>0?(this.parent.children.splice(i,1),this.parent.children.splice(i-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var i=this.index;return i>0?(this.parent.children.splice(i,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(i){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(i<0||i>=this.parent.children.length)&&Util_1$c.Util.warn("Unexpected value "+i+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var a=this.index;return this.parent.children.splice(a,1),this.parent.children.splice(i,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var i=this.opacity(),a=this.getParent();return a&&!a._isUnderCache&&(i*=a.getAbsoluteOpacity()),i}moveTo(i){return this.getParent()!==i&&(this._remove(),i.add(this)),this}toObject(){var i={},a=this.getAttrs(),s,$,et,_e,rt;i.attrs={};for(s in a)$=a[s],rt=Util_1$c.Util.isObject($)&&!Util_1$c.Util._isPlainObject($)&&!Util_1$c.Util._isArray($),!rt&&(et=typeof this[s]=="function"&&this[s],delete a[s],_e=et?et.call(this):null,a[s]=$,_e!==$&&(i.attrs[s]=$));return i.className=this.getClassName(),Util_1$c.Util._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(i,a,s){var $=[];a&&this._isMatch(i)&&$.push(this);for(var et=this.parent;et;){if(et===s)return $;et._isMatch(i)&&$.push(et),et=et.parent}return $}isAncestorOf(i){return!1}findAncestor(i,a,s){return this.findAncestors(i,a,s)[0]}_isMatch(i){if(!i)return!1;if(typeof i=="function")return i(this);var a=i.replace(/ /g,"").split(","),s=a.length,$,et;for($=0;$<s;$++)if(et=a[$],Util_1$c.Util.isValidSelector(et)||(Util_1$c.Util.warn('Selector "'+et+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util_1$c.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util_1$c.Util.warn("Konva is awesome, right?")),et.charAt(0)==="#"){if(this.id()===et.slice(1))return!0}else if(et.charAt(0)==="."){if(this.hasName(et.slice(1)))return!0}else if(this.className===et||this.nodeType===et)return!0;return!1}getLayer(){var i=this.getParent();return i?i.getLayer():null}getStage(){return this._getCache(STAGE,this._getStage)}_getStage(){var i=this.getParent();if(i)return i.getStage()}fire(i,a={},s){return a.target=a.target||this,s?this._fireAndBubble(i,a):this._fire(i,a),this}getAbsoluteTransform(i){return i?this._getAbsoluteTransform(i):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(i){var a;if(i)return a=new Util_1$c.Transform,this._eachAncestorReverse(function($){var et=$.transformsEnabled();et==="all"?a.multiply($.getTransform()):et==="position"&&a.translate($.x()-$.offsetX(),$.y()-$.offsetY())},i),a;a=this._cache.get(ABSOLUTE_TRANSFORM)||new Util_1$c.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(a):a.reset();var s=this.transformsEnabled();if(s==="all")a.multiply(this.getTransform());else if(s==="position"){const $=this.attrs.x||0,et=this.attrs.y||0,_e=this.attrs.offsetX||0,rt=this.attrs.offsetY||0;a.translate($-_e,et-rt)}return a.dirty=!1,a}getAbsoluteScale(i){for(var a=this;a;)a._isUnderCache&&(i=a),a=a.getParent();const $=this.getAbsoluteTransform(i).decompose();return{x:$.scaleX,y:$.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var i,a,s=this._cache.get(TRANSFORM)||new Util_1$c.Transform;s.reset();var $=this.x(),et=this.y(),_e=Global_1$m.Konva.getAngle(this.rotation()),rt=(i=this.attrs.scaleX)!==null&&i!==void 0?i:1,ot=(a=this.attrs.scaleY)!==null&&a!==void 0?a:1,it=this.attrs.skewX||0,at=this.attrs.skewY||0,j=this.attrs.offsetX||0,_=this.attrs.offsetY||0;return($!==0||et!==0)&&s.translate($,et),_e!==0&&s.rotate(_e),(it!==0||at!==0)&&s.skew(it,at),(rt!==1||ot!==1)&&s.scale(rt,ot),(j!==0||_!==0)&&s.translate(-1*j,-1*_),s.dirty=!1,s}clone(i){var a=Util_1$c.Util.cloneObject(this.attrs),s,$,et,_e,rt;for(s in i)a[s]=i[s];var ot=new this.constructor(a);for(s in this.eventListeners)for($=this.eventListeners[s],et=$.length,_e=0;_e<et;_e++)rt=$[_e],rt.name.indexOf(KONVA)<0&&(ot.eventListeners[s]||(ot.eventListeners[s]=[]),ot.eventListeners[s].push(rt));return ot}_toKonvaCanvas(i){i=i||{};var a=this.getClientRect(),s=this.getStage(),$=i.x!==void 0?i.x:Math.floor(a.x),et=i.y!==void 0?i.y:Math.floor(a.y),_e=i.pixelRatio||1,rt=new Canvas_1$1.SceneCanvas({width:i.width||Math.ceil(a.width)||(s?s.width():0),height:i.height||Math.ceil(a.height)||(s?s.height():0),pixelRatio:_e}),ot=rt.getContext();return i.imageSmoothingEnabled===!1&&(ot._context.imageSmoothingEnabled=!1),ot.save(),($||et)&&ot.translate(-1*$,-1*et),this.drawScene(rt),ot.restore(),rt}toCanvas(i){return this._toKonvaCanvas(i)._canvas}toDataURL(i){i=i||{};var a=i.mimeType||null,s=i.quality||null,$=this._toKonvaCanvas(i).toDataURL(a,s);return i.callback&&i.callback($),$}toImage(i){return new Promise((a,s)=>{try{const $=i==null?void 0:i.callback;$&&delete i.callback,Util_1$c.Util._urlToImage(this.toDataURL(i),function(et){a(et),$==null||$(et)})}catch($){s($)}})}toBlob(i){return new Promise((a,s)=>{try{const $=i==null?void 0:i.callback;$&&delete i.callback,this.toCanvas(i).toBlob(et=>{a(et),$==null||$(et)})}catch($){s($)}})}setSize(i){return this.width(i.width),this.height(i.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Global_1$m.Konva.dragDistance}_off(i,a,s){var $=this.eventListeners[i],et,_e,rt;for(et=0;et<$.length;et++)if(_e=$[et].name,rt=$[et].handler,(_e!=="konva"||a==="konva")&&(!a||_e===a)&&(!s||s===rt)){if($.splice(et,1),$.length===0){delete this.eventListeners[i];break}et--}}_fireChangeEvent(i,a,s){this._fire(i+CHANGE,{oldVal:a,newVal:s})}addName(i){if(!this.hasName(i)){var a=this.name(),s=a?a+" "+i:i;this.name(s)}return this}hasName(i){if(!i)return!1;const a=this.name();if(!a)return!1;var s=(a||"").split(/\s/g);return s.indexOf(i)!==-1}removeName(i){var a=(this.name()||"").split(/\s/g),s=a.indexOf(i);return s!==-1&&(a.splice(s,1),this.name(a.join(" "))),this}setAttr(i,a){var s=this[SET+Util_1$c.Util._capitalize(i)];return Util_1$c.Util._isFunction(s)?s.call(this,a):this._setAttr(i,a),this}_requestDraw(){if(Global_1$m.Konva.autoDrawEnabled){const i=this.getLayer()||this.getStage();i==null||i.batchDraw()}}_setAttr(i,a){var s=this.attrs[i];s===a&&!Util_1$c.Util.isObject(a)||(a==null?delete this.attrs[i]:this.attrs[i]=a,this._shouldFireChangeEvents&&this._fireChangeEvent(i,s,a),this._requestDraw())}_setComponentAttr(i,a,s){var $;s!==void 0&&($=this.attrs[i],$||(this.attrs[i]=this.getAttr(i)),this.attrs[i][a]=s,this._fireChangeEvent(i,$,s))}_fireAndBubble(i,a,s){a&&this.nodeType===SHAPE&&(a.target=this);var $=(i===MOUSEENTER||i===MOUSELEAVE)&&(s&&(this===s||this.isAncestorOf&&this.isAncestorOf(s))||this.nodeType==="Stage"&&!s);if(!$){this._fire(i,a);var et=(i===MOUSEENTER||i===MOUSELEAVE)&&s&&s.isAncestorOf&&s.isAncestorOf(this)&&!s.isAncestorOf(this.parent);(a&&!a.cancelBubble||!a)&&this.parent&&this.parent.isListening()&&!et&&(s&&s.parent?this._fireAndBubble.call(this.parent,i,a,s):this._fireAndBubble.call(this.parent,i,a))}}_getProtoListeners(i){var a,s,$;const et=(a=this._cache.get(ALL_LISTENERS))!==null&&a!==void 0?a:{};let _e=et==null?void 0:et[i];if(_e===void 0){_e=[];let rt=Object.getPrototypeOf(this);for(;rt;){const ot=($=(s=rt.eventListeners)===null||s===void 0?void 0:s[i])!==null&&$!==void 0?$:[];_e.push(...ot),rt=Object.getPrototypeOf(rt)}et[i]=_e,this._cache.set(ALL_LISTENERS,et)}return _e}_fire(i,a){a=a||{},a.currentTarget=this,a.type=i;const s=this._getProtoListeners(i);if(s)for(var $=0;$<s.length;$++)s[$].handler.call(this,a);const et=this.eventListeners[i];if(et)for(var $=0;$<et.length;$++)et[$].handler.call(this,a)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(i){var a=i?i.pointerId:void 0,s=this.getStage(),$=this.getAbsolutePosition(),et=s._getPointerById(a)||s._changedPointerPositions[0]||$;DragAndDrop_1.DD._dragElements.set(this._id,{node:this,startPointerPos:et,offset:{x:et.x-$.x,y:et.y-$.y},dragStatus:"ready",pointerId:a})}startDrag(i,a=!0){DragAndDrop_1.DD._dragElements.has(this._id)||this._createDragElement(i);const s=DragAndDrop_1.DD._dragElements.get(this._id);s.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:i&&i.evt},a)}_setDragPosition(i,a){const s=this.getStage()._getPointerById(a.pointerId);if(s){var $={x:s.x-a.offset.x,y:s.y-a.offset.y},et=this.dragBoundFunc();if(et!==void 0){const _e=et.call(this,$,i);_e?$=_e:Util_1$c.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==$.x||this._lastPos.y!==$.y)&&(this.setAbsolutePosition($),this._requestDraw()),this._lastPos=$}}stopDrag(i){const a=DragAndDrop_1.DD._dragElements.get(this._id);a&&(a.dragStatus="stopped"),DragAndDrop_1.DD._endDragBefore(i),DragAndDrop_1.DD._endDragAfter(i)}setDraggable(i){this._setAttr("draggable",i),this._dragChange()}isDragging(){const i=DragAndDrop_1.DD._dragElements.get(this._id);return i?i.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(i){var a=i.evt.button!==void 0,s=!a||Global_1$m.Konva.dragButtons.indexOf(i.evt.button)>=0;if(s&&!this.isDragging()){var $=!1;DragAndDrop_1.DD._dragElements.forEach(et=>{this.isAncestorOf(et.node)&&($=!0)}),$||this._createDragElement(i)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var i=this.getStage();if(!i)return;const a=DragAndDrop_1.DD._dragElements.get(this._id),s=a&&a.dragStatus==="dragging",$=a&&a.dragStatus==="ready";s?this.stopDrag():$&&DragAndDrop_1.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(i={x:0,y:0}){const a=this.getStage();if(!a)return!1;const s={x:-i.x,y:-i.y,width:a.width()+2*i.x,height:a.height()+2*i.y};return Util_1$c.Util.haveIntersection(s,this.getClientRect())}static create(i,a){return Util_1$c.Util._isString(i)&&(i=JSON.parse(i)),this._createNode(i,a)}static _createNode(i,a){var s=Node.prototype.getClassName.call(i),$=i.children,et,_e,rt;a&&(i.attrs.container=a),Global_1$m.Konva[s]||(Util_1$c.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape");const ot=Global_1$m.Konva[s];if(et=new ot(i.attrs),$)for(_e=$.length,rt=0;rt<_e;rt++)et.add(Node._createNode($[rt]));return et}}Node$1.Node=Node;Node.prototype.nodeType="Node";Node.prototype._attrsAffectingSize=[];Node.prototype.eventListeners={};Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node.prototype.on.call(Node.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node.prototype.on.call(Node.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node.prototype.on.call(Node.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory_1$y.Factory.addGetterSetter;addGetterSetter(Node,"zIndex");addGetterSetter(Node,"absolutePosition");addGetterSetter(Node,"position");addGetterSetter(Node,"x",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"y",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"globalCompositeOperation","source-over",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"opacity",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"name","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"id","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"rotation",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"scale",["x","y"]);addGetterSetter(Node,"scaleX",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"scaleY",1,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"skew",["x","y"]);addGetterSetter(Node,"skewX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"skewY",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"offset",["x","y"]);addGetterSetter(Node,"offsetX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"offsetY",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"dragDistance",null,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"width",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"height",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"listening",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"preventDefault",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"filters",null,function(o){return this._filterUpToDate=!1,o});addGetterSetter(Node,"visible",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"transformsEnabled","all",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"size");addGetterSetter(Node,"dragBoundFunc");addGetterSetter(Node,"draggable",!1,(0,Validators_1$x.getBooleanValidator)());Factory_1$y.Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Container$1={};Object.defineProperty(Container$1,"__esModule",{value:!0});Container$1.Container=void 0;const Factory_1$x=Factory,Node_1$h=Node$1,Validators_1$w=Validators;class Container extends Node_1$h.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const a=this.children||[];var s=[];return a.forEach(function($){i($)&&s.push($)}),s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(var a=0;a<i.length;a++)this.add(i[a]);return this}const s=i[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){var a=this._generalFind(i,!0);return a.length>0?a[0]:void 0}_generalFind(i,a){var s=[];return this._descendants($=>{const et=$._isMatch(i);return et&&s.push($),!!(et&&a)}),s}_descendants(i){let a=!1;const s=this.getChildren();for(const $ of s){if(a=i($),a)return!0;if($.hasChildren()&&(a=$._descendants(i),a))return!0}return!1}toObject(){var i=Node_1$h.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(a=>{i.children.push(a.toObject())}),i}isAncestorOf(i){for(var a=i.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(i){var a=Node_1$h.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(s){a.add(s.clone())}),a}getAllIntersections(i){var a=[];return this.find("Shape").forEach(function(s){s.isVisible()&&s.intersects(i)&&a.push(s)}),a}_clearSelfAndDescendantCache(i){var a;super._clearSelfAndDescendantCache(i),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(s){s._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(a,s){a.index=s}),this._requestDraw()}drawScene(i,a){var s=this.getLayer(),$=i||s&&s.getCanvas(),et=$&&$.getContext(),_e=this._getCanvasCache(),rt=_e&&_e.scene,ot=$&&$.isCache;if(!this.isVisible()&&!ot)return this;if(rt){et.save();var it=this.getAbsoluteTransform(a).getMatrix();et.transform(it[0],it[1],it[2],it[3],it[4],it[5]),this._drawCachedSceneCanvas(et),et.restore()}else this._drawChildren("drawScene",$,a);return this}drawHit(i,a){if(!this.shouldDrawHit(a))return this;var s=this.getLayer(),$=i||s&&s.hitCanvas,et=$&&$.getContext(),_e=this._getCanvasCache(),rt=_e&&_e.hit;if(rt){et.save();var ot=this.getAbsoluteTransform(a).getMatrix();et.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),this._drawCachedHitCanvas(et),et.restore()}else this._drawChildren("drawHit",$,a);return this}_drawChildren(i,a,s){var $,et=a&&a.getContext(),_e=this.clipWidth(),rt=this.clipHeight(),ot=this.clipFunc(),it=_e&&rt||ot;const at=s===this;if(it){et.save();var j=this.getAbsoluteTransform(s),_=j.getMatrix();et.transform(_[0],_[1],_[2],_[3],_[4],_[5]),et.beginPath();let dt;if(ot)dt=ot.call(this,et,this);else{var tt=this.clipX(),nt=this.clipY();et.rect(tt,nt,_e,rt)}et.clip.apply(et,dt),_=j.copy().invert().getMatrix(),et.transform(_[0],_[1],_[2],_[3],_[4],_[5])}var st=!at&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";st&&(et.save(),et._applyGlobalCompositeOperation(this)),($=this.children)===null||$===void 0||$.forEach(function(dt){dt[i](a,s)}),st&&et.restore(),it&&et.restore()}getClientRect(i){var a;i=i||{};var s=i.skipTransform,$=i.relativeTo,et,_e,rt,ot,it={x:1/0,y:1/0,width:0,height:0},at=this;(a=this.children)===null||a===void 0||a.forEach(function(st){if(st.visible()){var dt=st.getClientRect({relativeTo:at,skipShadow:i.skipShadow,skipStroke:i.skipStroke});dt.width===0&&dt.height===0||(et===void 0?(et=dt.x,_e=dt.y,rt=dt.x+dt.width,ot=dt.y+dt.height):(et=Math.min(et,dt.x),_e=Math.min(_e,dt.y),rt=Math.max(rt,dt.x+dt.width),ot=Math.max(ot,dt.y+dt.height)))}});for(var j=this.find("Shape"),_=!1,tt=0;tt<j.length;tt++){var nt=j[tt];if(nt._isVisible(this)){_=!0;break}}return _&&et!==void 0?it={x:et,y:_e,width:rt-et,height:ot-_e}:it={x:0,y:0,width:0,height:0},s?it:this._transformedRect(it,$)}}Container$1.Container=Container;Factory_1$x.Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory_1$x.Factory.addGetterSetter(Container,"clipX",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipY",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipWidth",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipHeight",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipFunc");var Stage$2={},PointerEvents={};Object.defineProperty(PointerEvents,"__esModule",{value:!0});PointerEvents.releaseCapture=PointerEvents.setPointerCapture=PointerEvents.hasPointerCapture=PointerEvents.createEvent=PointerEvents.getCapturedShape=void 0;const Global_1$l=Global,Captures=new Map,SUPPORT_POINTER_EVENTS=Global_1$l.Konva._global.PointerEvent!==void 0;function getCapturedShape(o){return Captures.get(o)}PointerEvents.getCapturedShape=getCapturedShape;function createEvent(o){return{evt:o,pointerId:o.pointerId}}PointerEvents.createEvent=createEvent;function hasPointerCapture(o,i){return Captures.get(o)===i}PointerEvents.hasPointerCapture=hasPointerCapture;function setPointerCapture(o,i){releaseCapture(o),i.getStage()&&(Captures.set(o,i),SUPPORT_POINTER_EVENTS&&i._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}PointerEvents.setPointerCapture=setPointerCapture;function releaseCapture(o,i){const a=Captures.get(o);if(!a)return;const s=a.getStage();s&&s.content,Captures.delete(o),SUPPORT_POINTER_EVENTS&&a._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}PointerEvents.releaseCapture=releaseCapture;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Stage=o.stages=void 0;const i=Util,a=Factory,s=Container$1,$=Global,et=Canvas$2,_e=DragAndDrop,rt=Global,ot=PointerEvents;var it="Stage",at="string",j="px",_="mouseout",tt="mouseleave",nt="mouseover",st="mouseenter",dt="mousemove",ft="mousedown",gt="mouseup",pt="pointermove",mt="pointerdown",vt="pointerup",yt="pointercancel",xt="lostpointercapture",wt="pointerout",St="pointerleave",Ct="pointerover",At="pointerenter",$t="contextmenu",Rt="touchstart",kt="touchend",Lt="touchmove",Dt="touchcancel",Mt="wheel",Vt=5,Kt=[[st,"_pointerenter"],[ft,"_pointerdown"],[dt,"_pointermove"],[gt,"_pointerup"],[tt,"_pointerleave"],[Rt,"_pointerdown"],[Lt,"_pointermove"],[kt,"_pointerup"],[Dt,"_pointercancel"],[nt,"_pointerover"],[Mt,"_wheel"],[$t,"_contextmenu"],[mt,"_pointerdown"],[pt,"_pointermove"],[vt,"_pointerup"],[yt,"_pointercancel"],[xt,"_lostpointercapture"]];const Yt={mouse:{[wt]:_,[St]:tt,[Ct]:nt,[At]:st,[pt]:dt,[mt]:ft,[vt]:gt,[yt]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[wt]:"touchout",[St]:"touchleave",[Ct]:"touchover",[At]:"touchenter",[pt]:Lt,[mt]:Rt,[vt]:kt,[yt]:Dt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[wt]:wt,[St]:St,[Ct]:Ct,[At]:At,[pt]:pt,[mt]:mt,[vt]:vt,[yt]:yt,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Jt=Cn=>Cn.indexOf("pointer")>=0?"pointer":Cn.indexOf("touch")>=0?"touch":"mouse",ln=Cn=>{const Ht=Jt(Cn);if(Ht==="pointer")return $.Konva.pointerEventsEnabled&&Yt.pointer;if(Ht==="touch")return Yt.touch;if(Ht==="mouse")return Yt.mouse};function wn(Cn={}){return(Cn.clipFunc||Cn.clipWidth||Cn.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Cn}const _n="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";o.stages=[];class kn extends s.Container{constructor(Ht){super(wn(Ht)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),o.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{wn(this.attrs)}),this._checkVisibility()}_validateAdd(Ht){const cn=Ht.getType()==="Layer",gn=Ht.getType()==="FastLayer";cn||gn||i.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Ht=this.visible()?"":"none";this.content.style.display=Ht}setContainer(Ht){if(typeof Ht===at){if(Ht.charAt(0)==="."){var cn=Ht.slice(1);Ht=document.getElementsByClassName(cn)[0]}else{var gn;Ht.charAt(0)!=="#"?gn=Ht:gn=Ht.slice(1),Ht=document.getElementById(gn)}if(!Ht)throw"Can not find container in document with id "+gn}return this._setAttr("container",Ht),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Ht.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var Ht=this.children,cn=Ht.length,gn;for(gn=0;gn<cn;gn++)Ht[gn].clear();return this}clone(Ht){return Ht||(Ht={}),Ht.container=typeof document<"u"&&document.createElement("div"),s.Container.prototype.clone.call(this,Ht)}destroy(){super.destroy();var Ht=this.content;Ht&&i.Util._isInDocument(Ht)&&this.container().removeChild(Ht);var cn=o.stages.indexOf(this);return cn>-1&&o.stages.splice(cn,1),i.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Ht=this._pointerPositions[0]||this._changedPointerPositions[0];return Ht?{x:Ht.x,y:Ht.y}:(i.Util.warn(_n),null)}_getPointerById(Ht){return this._pointerPositions.find(cn=>cn.id===Ht)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Ht){Ht=Ht||{},Ht.x=Ht.x||0,Ht.y=Ht.y||0,Ht.width=Ht.width||this.width(),Ht.height=Ht.height||this.height();var cn=new et.SceneCanvas({width:Ht.width,height:Ht.height,pixelRatio:Ht.pixelRatio||1}),gn=cn.getContext()._context,jn=this.children;return(Ht.x||Ht.y)&&gn.translate(-1*Ht.x,-1*Ht.y),jn.forEach(function(xn){if(xn.isVisible()){var Bn=xn._toKonvaCanvas(Ht);gn.drawImage(Bn._canvas,Ht.x,Ht.y,Bn.getWidth()/Bn.getPixelRatio(),Bn.getHeight()/Bn.getPixelRatio())}}),cn}getIntersection(Ht){if(!Ht)return null;var cn=this.children,gn=cn.length,jn=gn-1,xn;for(xn=jn;xn>=0;xn--){const Bn=cn[xn].getIntersection(Ht);if(Bn)return Bn}return null}_resizeDOM(){var Ht=this.width(),cn=this.height();this.content&&(this.content.style.width=Ht+j,this.content.style.height=cn+j),this.bufferCanvas.setSize(Ht,cn),this.bufferHitCanvas.setSize(Ht,cn),this.children.forEach(gn=>{gn.setSize({width:Ht,height:cn}),gn.draw()})}add(Ht,...cn){if(arguments.length>1){for(var gn=0;gn<arguments.length;gn++)this.add(arguments[gn]);return this}super.add(Ht);var jn=this.children.length;return jn>Vt&&i.Util.warn("The stage has "+jn+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Ht.setSize({width:this.width(),height:this.height()}),Ht.draw(),$.Konva.isBrowser&&this.content.appendChild(Ht.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Ht){return ot.hasPointerCapture(Ht,this)}setPointerCapture(Ht){ot.setPointerCapture(Ht,this)}releaseCapture(Ht){ot.releaseCapture(Ht,this)}getLayers(){return this.children}_bindContentEvents(){$.Konva.isBrowser&&Kt.forEach(([Ht,cn])=>{this.content.addEventListener(Ht,gn=>{this[cn](gn)},{passive:!1})})}_pointerenter(Ht){this.setPointersPositions(Ht);const cn=ln(Ht.type);this._fire(cn.pointerenter,{evt:Ht,target:this,currentTarget:this})}_pointerover(Ht){this.setPointersPositions(Ht);const cn=ln(Ht.type);this._fire(cn.pointerover,{evt:Ht,target:this,currentTarget:this})}_getTargetShape(Ht){let cn=this[Ht+"targetShape"];return cn&&!cn.getStage()&&(cn=null),cn}_pointerleave(Ht){const cn=ln(Ht.type),gn=Jt(Ht.type);if(cn){this.setPointersPositions(Ht);var jn=this._getTargetShape(gn),xn=!_e.DD.isDragging||$.Konva.hitOnDragEnabled;jn&&xn?(jn._fireAndBubble(cn.pointerout,{evt:Ht}),jn._fireAndBubble(cn.pointerleave,{evt:Ht}),this._fire(cn.pointerleave,{evt:Ht,target:this,currentTarget:this}),this[gn+"targetShape"]=null):xn&&(this._fire(cn.pointerleave,{evt:Ht,target:this,currentTarget:this}),this._fire(cn.pointerout,{evt:Ht,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(Ht){const cn=ln(Ht.type),gn=Jt(Ht.type);if(cn){this.setPointersPositions(Ht);var jn=!1;this._changedPointerPositions.forEach(xn=>{var Bn=this.getIntersection(xn);if(_e.DD.justDragged=!1,$.Konva["_"+gn+"ListenClick"]=!0,!(Bn&&Bn.isListening()))return;$.Konva.capturePointerEventsEnabled&&Bn.setPointerCapture(xn.id),this[gn+"ClickStartShape"]=Bn,Bn._fireAndBubble(cn.pointerdown,{evt:Ht,pointerId:xn.id}),jn=!0;const Zn=Ht.type.indexOf("touch")>=0;Bn.preventDefault()&&Ht.cancelable&&Zn&&Ht.preventDefault()}),jn||this._fire(cn.pointerdown,{evt:Ht,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(Ht){const cn=ln(Ht.type),gn=Jt(Ht.type);if(!cn)return;_e.DD.isDragging&&_e.DD.node.preventDefault()&&Ht.cancelable&&Ht.preventDefault(),this.setPointersPositions(Ht);var jn=!_e.DD.isDragging||$.Konva.hitOnDragEnabled;if(!jn)return;var xn={};let Bn=!1;var Mn=this._getTargetShape(gn);this._changedPointerPositions.forEach(Zn=>{const Fn=ot.getCapturedShape(Zn.id)||this.getIntersection(Zn),wr=Zn.id,Jn={evt:Ht,pointerId:wr};var dr=Mn!==Fn;if(dr&&Mn&&(Mn._fireAndBubble(cn.pointerout,Object.assign({},Jn),Fn),Mn._fireAndBubble(cn.pointerleave,Object.assign({},Jn),Fn)),Fn){if(xn[Fn._id])return;xn[Fn._id]=!0}Fn&&Fn.isListening()?(Bn=!0,dr&&(Fn._fireAndBubble(cn.pointerover,Object.assign({},Jn),Mn),Fn._fireAndBubble(cn.pointerenter,Object.assign({},Jn),Mn),this[gn+"targetShape"]=Fn),Fn._fireAndBubble(cn.pointermove,Object.assign({},Jn))):Mn&&(this._fire(cn.pointerover,{evt:Ht,target:this,currentTarget:this,pointerId:wr}),this[gn+"targetShape"]=null)}),Bn||this._fire(cn.pointermove,{evt:Ht,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Ht){const cn=ln(Ht.type),gn=Jt(Ht.type);if(!cn)return;this.setPointersPositions(Ht);const jn=this[gn+"ClickStartShape"],xn=this[gn+"ClickEndShape"];var Bn={};let Mn=!1;this._changedPointerPositions.forEach(Zn=>{const Fn=ot.getCapturedShape(Zn.id)||this.getIntersection(Zn);if(Fn){if(Fn.releaseCapture(Zn.id),Bn[Fn._id])return;Bn[Fn._id]=!0}const wr=Zn.id,Jn={evt:Ht,pointerId:wr};let dr=!1;$.Konva["_"+gn+"InDblClickWindow"]?(dr=!0,clearTimeout(this[gn+"DblTimeout"])):_e.DD.justDragged||($.Konva["_"+gn+"InDblClickWindow"]=!0,clearTimeout(this[gn+"DblTimeout"])),this[gn+"DblTimeout"]=setTimeout(function(){$.Konva["_"+gn+"InDblClickWindow"]=!1},$.Konva.dblClickWindow),Fn&&Fn.isListening()?(Mn=!0,this[gn+"ClickEndShape"]=Fn,Fn._fireAndBubble(cn.pointerup,Object.assign({},Jn)),$.Konva["_"+gn+"ListenClick"]&&jn&&jn===Fn&&(Fn._fireAndBubble(cn.pointerclick,Object.assign({},Jn)),dr&&xn&&xn===Fn&&Fn._fireAndBubble(cn.pointerdblclick,Object.assign({},Jn)))):(this[gn+"ClickEndShape"]=null,$.Konva["_"+gn+"ListenClick"]&&this._fire(cn.pointerclick,{evt:Ht,target:this,currentTarget:this,pointerId:wr}),dr&&this._fire(cn.pointerdblclick,{evt:Ht,target:this,currentTarget:this,pointerId:wr}))}),Mn||this._fire(cn.pointerup,{evt:Ht,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),$.Konva["_"+gn+"ListenClick"]=!1,Ht.cancelable&&gn!=="touch"&&Ht.preventDefault()}_contextmenu(Ht){this.setPointersPositions(Ht);var cn=this.getIntersection(this.getPointerPosition());cn&&cn.isListening()?cn._fireAndBubble($t,{evt:Ht}):this._fire($t,{evt:Ht,target:this,currentTarget:this})}_wheel(Ht){this.setPointersPositions(Ht);var cn=this.getIntersection(this.getPointerPosition());cn&&cn.isListening()?cn._fireAndBubble(Mt,{evt:Ht}):this._fire(Mt,{evt:Ht,target:this,currentTarget:this})}_pointercancel(Ht){this.setPointersPositions(Ht);const cn=ot.getCapturedShape(Ht.pointerId)||this.getIntersection(this.getPointerPosition());cn&&cn._fireAndBubble(vt,ot.createEvent(Ht)),ot.releaseCapture(Ht.pointerId)}_lostpointercapture(Ht){ot.releaseCapture(Ht.pointerId)}setPointersPositions(Ht){var cn=this._getContentPosition(),gn=null,jn=null;Ht=Ht||window.event,Ht.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Ht.touches,xn=>{this._pointerPositions.push({id:xn.identifier,x:(xn.clientX-cn.left)/cn.scaleX,y:(xn.clientY-cn.top)/cn.scaleY})}),Array.prototype.forEach.call(Ht.changedTouches||Ht.touches,xn=>{this._changedPointerPositions.push({id:xn.identifier,x:(xn.clientX-cn.left)/cn.scaleX,y:(xn.clientY-cn.top)/cn.scaleY})})):(gn=(Ht.clientX-cn.left)/cn.scaleX,jn=(Ht.clientY-cn.top)/cn.scaleY,this.pointerPos={x:gn,y:jn},this._pointerPositions=[{x:gn,y:jn,id:i.Util._getFirstPointerId(Ht)}],this._changedPointerPositions=[{x:gn,y:jn,id:i.Util._getFirstPointerId(Ht)}])}_setPointerPosition(Ht){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Ht)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var Ht=this.content.getBoundingClientRect();return{top:Ht.top,left:Ht.left,scaleX:Ht.width/this.content.clientWidth||1,scaleY:Ht.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new et.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new et.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!$.Konva.isBrowser){var Ht=this.container();if(!Ht)throw"Stage has no container. A container is required.";Ht.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Ht.appendChild(this.content),this._resizeDOM()}}cache(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Ht){Ht.batchDraw()}),this}}o.Stage=kn,kn.prototype.nodeType=it,(0,rt._registerNode)(kn),a.Factory.addGetterSetter(kn,"container")})(Stage$2);var Layer$2={},Shape={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Shape=o.shapes=void 0;const i=Global,a=Util,s=Factory,$=Node$1,et=Validators,_e=Global,rt=PointerEvents;var ot="hasShadow",it="shadowRGBA",at="patternImage",j="linearGradient",_="radialGradient";let tt;function nt(){return tt||(tt=a.Util.createCanvasElement().getContext("2d"),tt)}o.shapes={};function st(St){const Ct=this.attrs.fillRule;Ct?St.fill(Ct):St.fill()}function dt(St){St.stroke()}function ft(St){St.fill()}function gt(St){St.stroke()}function pt(){this._clearCache(ot)}function mt(){this._clearCache(it)}function vt(){this._clearCache(at)}function yt(){this._clearCache(j)}function xt(){this._clearCache(_)}class wt extends $.Node{constructor(Ct){super(Ct);let At;for(;At=a.Util.getRandomColor(),!(At&&!(At in o.shapes)););this.colorKey=At,o.shapes[At]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(ot,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(at,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var Ct=nt();const At=Ct.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(At&&At.setTransform){const $t=new a.Transform;$t.translate(this.fillPatternX(),this.fillPatternY()),$t.rotate(i.Konva.getAngle(this.fillPatternRotation())),$t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),$t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const Rt=$t.getMatrix(),kt=typeof DOMMatrix>"u"?{a:Rt[0],b:Rt[1],c:Rt[2],d:Rt[3],e:Rt[4],f:Rt[5]}:new DOMMatrix(Rt);At.setTransform(kt)}return At}}_getLinearGradient(){return this._getCache(j,this.__getLinearGradient)}__getLinearGradient(){var Ct=this.fillLinearGradientColorStops();if(Ct){for(var At=nt(),$t=this.fillLinearGradientStartPoint(),Rt=this.fillLinearGradientEndPoint(),kt=At.createLinearGradient($t.x,$t.y,Rt.x,Rt.y),Lt=0;Lt<Ct.length;Lt+=2)kt.addColorStop(Ct[Lt],Ct[Lt+1]);return kt}}_getRadialGradient(){return this._getCache(_,this.__getRadialGradient)}__getRadialGradient(){var Ct=this.fillRadialGradientColorStops();if(Ct){for(var At=nt(),$t=this.fillRadialGradientStartPoint(),Rt=this.fillRadialGradientEndPoint(),kt=At.createRadialGradient($t.x,$t.y,this.fillRadialGradientStartRadius(),Rt.x,Rt.y,this.fillRadialGradientEndRadius()),Lt=0;Lt<Ct.length;Lt+=2)kt.addColorStop(Ct[Lt],Ct[Lt+1]);return kt}}getShadowRGBA(){return this._getCache(it,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var Ct=a.Util.colorToRGBA(this.shadowColor());if(Ct)return"rgba("+Ct.r+","+Ct.g+","+Ct.b+","+Ct.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const Ct=this.hitStrokeWidth();return Ct==="auto"?this.hasStroke():this.strokeEnabled()&&!!Ct}intersects(Ct){var At=this.getStage(),$t=At.bufferHitCanvas,Rt;return $t.getContext().clear(),this.drawHit($t,null,!0),Rt=$t.context.getImageData(Math.round(Ct.x),Math.round(Ct.y),1,1).data,Rt[3]>0}destroy(){return $.Node.prototype.destroy.call(this),delete o.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(Ct){var At;if(!this.getStage()||!((At=this.attrs.perfectDrawEnabled)!==null&&At!==void 0?At:!0))return!1;const Rt=Ct||this.hasFill(),kt=this.hasStroke(),Lt=this.getAbsoluteOpacity()!==1;if(Rt&&kt&&Lt)return!0;const Dt=this.hasShadow(),Mt=this.shadowForStrokeEnabled();return!!(Rt&&kt&&Dt&&Mt)}setStrokeHitEnabled(Ct){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),Ct?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var Ct=this.size();return{x:this._centroid?-Ct.width/2:0,y:this._centroid?-Ct.height/2:0,width:Ct.width,height:Ct.height}}getClientRect(Ct={}){const At=Ct.skipTransform,$t=Ct.relativeTo,Rt=this.getSelfRect(),Lt=!Ct.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Dt=Rt.width+Lt,Mt=Rt.height+Lt,Vt=!Ct.skipShadow&&this.hasShadow(),Kt=Vt?this.shadowOffsetX():0,Yt=Vt?this.shadowOffsetY():0,Jt=Dt+Math.abs(Kt),ln=Mt+Math.abs(Yt),wn=Vt&&this.shadowBlur()||0,_n=Jt+wn*2,kn=ln+wn*2,Cn={width:_n,height:kn,x:-(Lt/2+wn)+Math.min(Kt,0)+Rt.x,y:-(Lt/2+wn)+Math.min(Yt,0)+Rt.y};return At?Cn:this._transformedRect(Cn,$t)}drawScene(Ct,At){var $t=this.getLayer(),Rt=Ct||$t.getCanvas(),kt=Rt.getContext(),Lt=this._getCanvasCache(),Dt=this.getSceneFunc(),Mt=this.hasShadow(),Vt,Kt,Yt,Jt=Rt.isCache,ln=At===this;if(!this.isVisible()&&!ln)return this;if(Lt){kt.save();var wn=this.getAbsoluteTransform(At).getMatrix();return kt.transform(wn[0],wn[1],wn[2],wn[3],wn[4],wn[5]),this._drawCachedSceneCanvas(kt),kt.restore(),this}if(!Dt)return this;if(kt.save(),this._useBufferCanvas()&&!Jt){Vt=this.getStage(),Kt=Vt.bufferCanvas,Yt=Kt.getContext(),Yt.clear(),Yt.save(),Yt._applyLineJoin(this);var _n=this.getAbsoluteTransform(At).getMatrix();Yt.transform(_n[0],_n[1],_n[2],_n[3],_n[4],_n[5]),Dt.call(this,Yt,this),Yt.restore();var kn=Kt.pixelRatio;Mt&&kt._applyShadow(this),kt._applyOpacity(this),kt._applyGlobalCompositeOperation(this),kt.drawImage(Kt._canvas,0,0,Kt.width/kn,Kt.height/kn)}else{if(kt._applyLineJoin(this),!ln){var _n=this.getAbsoluteTransform(At).getMatrix();kt.transform(_n[0],_n[1],_n[2],_n[3],_n[4],_n[5]),kt._applyOpacity(this),kt._applyGlobalCompositeOperation(this)}Mt&&kt._applyShadow(this),Dt.call(this,kt,this)}return kt.restore(),this}drawHit(Ct,At,$t=!1){if(!this.shouldDrawHit(At,$t))return this;var Rt=this.getLayer(),kt=Ct||Rt.hitCanvas,Lt=kt&&kt.getContext(),Dt=this.hitFunc()||this.sceneFunc(),Mt=this._getCanvasCache(),Vt=Mt&&Mt.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Vt){Lt.save();var Kt=this.getAbsoluteTransform(At).getMatrix();return Lt.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]),this._drawCachedHitCanvas(Lt),Lt.restore(),this}if(!Dt)return this;if(Lt.save(),Lt._applyLineJoin(this),!(this===At)){var Jt=this.getAbsoluteTransform(At).getMatrix();Lt.transform(Jt[0],Jt[1],Jt[2],Jt[3],Jt[4],Jt[5])}return Dt.call(this,Lt,this),Lt.restore(),this}drawHitFromCache(Ct=0){var At=this._getCanvasCache(),$t=this._getCachedSceneCanvas(),Rt=At.hit,kt=Rt.getContext(),Lt=Rt.getWidth(),Dt=Rt.getHeight(),Mt,Vt,Kt,Yt,Jt,ln;kt.clear(),kt.drawImage($t._canvas,0,0,Lt,Dt);try{for(Mt=kt.getImageData(0,0,Lt,Dt),Vt=Mt.data,Kt=Vt.length,Yt=a.Util._hexToRgb(this.colorKey),Jt=0;Jt<Kt;Jt+=4)ln=Vt[Jt+3],ln>Ct?(Vt[Jt]=Yt.r,Vt[Jt+1]=Yt.g,Vt[Jt+2]=Yt.b,Vt[Jt+3]=255):Vt[Jt+3]=0;kt.putImageData(Mt,0,0)}catch(wn){a.Util.error("Unable to draw hit graph from cached scene canvas. "+wn.message)}return this}hasPointerCapture(Ct){return rt.hasPointerCapture(Ct,this)}setPointerCapture(Ct){rt.setPointerCapture(Ct,this)}releaseCapture(Ct){rt.releaseCapture(Ct,this)}}o.Shape=wt,wt.prototype._fillFunc=st,wt.prototype._strokeFunc=dt,wt.prototype._fillFuncHit=ft,wt.prototype._strokeFuncHit=gt,wt.prototype._centroid=!1,wt.prototype.nodeType="Shape",(0,_e._registerNode)(wt),wt.prototype.eventListeners={},wt.prototype.on.call(wt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",pt),wt.prototype.on.call(wt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",mt),wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",vt),wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",yt),wt.prototype.on.call(wt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",xt),s.Factory.addGetterSetter(wt,"stroke",void 0,(0,et.getStringOrGradientValidator)()),s.Factory.addGetterSetter(wt,"strokeWidth",2,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillAfterStrokeEnabled",!1),s.Factory.addGetterSetter(wt,"hitStrokeWidth","auto",(0,et.getNumberOrAutoValidator)()),s.Factory.addGetterSetter(wt,"strokeHitEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(wt,"perfectDrawEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(wt,"shadowForStrokeEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(wt,"lineJoin"),s.Factory.addGetterSetter(wt,"lineCap"),s.Factory.addGetterSetter(wt,"sceneFunc"),s.Factory.addGetterSetter(wt,"hitFunc"),s.Factory.addGetterSetter(wt,"dash"),s.Factory.addGetterSetter(wt,"dashOffset",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"shadowColor",void 0,(0,et.getStringValidator)()),s.Factory.addGetterSetter(wt,"shadowBlur",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"shadowOpacity",1,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(wt,"shadowOffset",["x","y"]),s.Factory.addGetterSetter(wt,"shadowOffsetX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"shadowOffsetY",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillPatternImage"),s.Factory.addGetterSetter(wt,"fill",void 0,(0,et.getStringOrGradientValidator)()),s.Factory.addGetterSetter(wt,"fillPatternX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillPatternY",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillLinearGradientColorStops"),s.Factory.addGetterSetter(wt,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter(wt,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter(wt,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter(wt,"fillRadialGradientColorStops"),s.Factory.addGetterSetter(wt,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter(wt,"fillEnabled",!0),s.Factory.addGetterSetter(wt,"strokeEnabled",!0),s.Factory.addGetterSetter(wt,"shadowEnabled",!0),s.Factory.addGetterSetter(wt,"dashEnabled",!0),s.Factory.addGetterSetter(wt,"strokeScaleEnabled",!0),s.Factory.addGetterSetter(wt,"fillPriority","color"),s.Factory.addComponentsGetterSetter(wt,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter(wt,"fillPatternOffsetX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillPatternOffsetY",0,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(wt,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter(wt,"fillPatternScaleX",1,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(wt,"fillPatternScaleY",1,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(wt,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter(wt,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(wt,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter(wt,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter(wt,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter(wt,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter(wt,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter(wt,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(wt,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter(wt,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter(wt,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter(wt,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter(wt,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(wt,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter(wt,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter(wt,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(wt,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter(wt,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter(wt,"fillPatternRotation",0),s.Factory.addGetterSetter(wt,"fillRule",void 0,(0,et.getStringValidator)()),s.Factory.backCompat(wt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Shape);Object.defineProperty(Layer$2,"__esModule",{value:!0});Layer$2.Layer=void 0;const Util_1$b=Util,Container_1$1=Container$1,Node_1$g=Node$1,Factory_1$w=Factory,Canvas_1=Canvas$2,Validators_1$v=Validators,Shape_1$g=Shape,Global_1$k=Global;var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;let Layer$1=class extends Container_1$1.Container{constructor(i){super(i),this.canvas=new Canvas_1.SceneCanvas,this.hitCanvas=new Canvas_1.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(i){return this.getContext().clear(i),this.getHitCanvas().getContext().clear(i),this}setZIndex(i){super.setZIndex(i);var a=this.getStage();return a&&a.content&&(a.content.removeChild(this.getNativeCanvasElement()),i<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[i+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node_1$g.Node.prototype.moveToTop.call(this);var i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var i=Node_1$g.Node.prototype.moveUp.call(this);if(!i)return!1;var a=this.getStage();return!a||!a.content?!1:(a.content.removeChild(this.getNativeCanvasElement()),this.index<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[this.index+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node_1$g.Node.prototype.moveDown.call(this)){var i=this.getStage();if(i){var a=i.children;i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.insertBefore(this.getNativeCanvasElement(),a[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node_1$g.Node.prototype.moveToBottom.call(this)){var i=this.getStage();if(i){var a=i.children;i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.insertBefore(this.getNativeCanvasElement(),a[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var i=this.getNativeCanvasElement();return Node_1$g.Node.prototype.remove.call(this),i&&i.parentNode&&Util_1$b.Util._isInDocument(i)&&i.parentNode.removeChild(i),this}getStage(){return this.parent}setSize({width:i,height:a}){return this.canvas.setSize(i,a),this.hitCanvas.setSize(i,a),this._setSmoothEnabled(),this}_validateAdd(i){var a=i.getType();a!=="Group"&&a!=="Shape"&&Util_1$b.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(i){return i=i||{},i.width=i.width||this.getWidth(),i.height=i.height||this.getHeight(),i.x=i.x!==void 0?i.x:this.x(),i.y=i.y!==void 0?i.y:this.y(),Node_1$g.Node.prototype._toKonvaCanvas.call(this,i)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util_1$b.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util_1$b.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util_1$b.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(i){if(!this.isListening()||!this.isVisible())return null;for(var a=1,s=!1;;){for(let $=0;$<INTERSECTION_OFFSETS_LEN;$++){const et=INTERSECTION_OFFSETS[$],_e=this._getIntersection({x:i.x+et.x*a,y:i.y+et.y*a}),rt=_e.shape;if(rt)return rt;if(s=!!_e.antialiased,!_e.antialiased)break}if(s)a+=1;else return null}}_getIntersection(i){const a=this.hitCanvas.pixelRatio,s=this.hitCanvas.context.getImageData(Math.round(i.x*a),Math.round(i.y*a),1,1).data,$=s[3];if($===255){const et=Util_1$b.Util._rgbToHex(s[0],s[1],s[2]),_e=Shape_1$g.shapes[HASH+et];return _e?{shape:_e}:{antialiased:!0}}else if($>0)return{antialiased:!0};return{}}drawScene(i,a){var s=this.getLayer(),$=i||s&&s.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&$.getContext().clear(),Container_1$1.Container.prototype.drawScene.call(this,$,a),this._fire(DRAW,{node:this}),this}drawHit(i,a){var s=this.getLayer(),$=i||s&&s.hitCanvas;return s&&s.clearBeforeDraw()&&s.getHitCanvas().getContext().clear(),Container_1$1.Container.prototype.drawHit.call(this,$,a),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(i){Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(i)}getHitGraphEnabled(i){return Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var i=this.parent,a=!!this.hitCanvas._canvas.parentNode;a?i.content.removeChild(this.hitCanvas._canvas):i.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Util_1$b.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Layer$2.Layer=Layer$1;Layer$1.prototype.nodeType="Layer";(0,Global_1$k._registerNode)(Layer$1);Factory_1$w.Factory.addGetterSetter(Layer$1,"imageSmoothingEnabled",!0);Factory_1$w.Factory.addGetterSetter(Layer$1,"clearBeforeDraw",!0);Factory_1$w.Factory.addGetterSetter(Layer$1,"hitGraphEnabled",!0,(0,Validators_1$v.getBooleanValidator)());var FastLayer$1={};Object.defineProperty(FastLayer$1,"__esModule",{value:!0});FastLayer$1.FastLayer=void 0;const Util_1$a=Util,Layer_1=Layer$2,Global_1$j=Global;class FastLayer extends Layer_1.Layer{constructor(i){super(i),this.listening(!1),Util_1$a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer$1.FastLayer=FastLayer;FastLayer.prototype.nodeType="FastLayer";(0,Global_1$j._registerNode)(FastLayer);var Group$1={};Object.defineProperty(Group$1,"__esModule",{value:!0});Group$1.Group=void 0;const Util_1$9=Util,Container_1=Container$1,Global_1$i=Global;class Group extends Container_1.Container{_validateAdd(i){var a=i.getType();a!=="Group"&&a!=="Shape"&&Util_1$9.Util.throw("You may only add groups and shapes to groups.")}}Group$1.Group=Group;Group.prototype.nodeType="Group";(0,Global_1$i._registerNode)(Group);var Animation$1={};Object.defineProperty(Animation$1,"__esModule",{value:!0});Animation$1.Animation=void 0;const Global_1$h=Global,Util_1$8=Util;var now=function(){return Global_1$h.glob.performance&&Global_1$h.glob.performance.now?function(){return Global_1$h.glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(i,a){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=i,this.setLayers(a)}setLayers(i){var a=[];return i?i.length>0?a=i:a=[i]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(i){var a=this.layers,s=a.length,$;for($=0;$<s;$++)if(a[$]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){var i=Animation,a=i.animations,s=a.length,$;for($=0;$<s;$++)if(a[$].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){var a=i.id,s=this.animations,$=s.length,et;for(et=0;et<$;et++)if(s[et].id===a){this.animations.splice(et,1);break}}static _runFrames(){var i={},a=this.animations,s,$,et,_e,rt,ot,it,at,j;for(_e=0;_e<a.length;_e++)if(s=a[_e],$=s.layers,et=s.func,s._updateFrameObject(now()),ot=$.length,et?j=et.call(s,s.frame)!==!1:j=!0,!!j)for(rt=0;rt<ot;rt++)it=$[rt],it._id!==void 0&&(i[it._id]=it);for(at in i)i.hasOwnProperty(at)&&i[at].batchDraw()}static _animationLoop(){var i=Animation;i.animations.length?(i._runFrames(),Util_1$8.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util_1$8.Util.requestAnimFrame(this._animationLoop))}}Animation$1.Animation=Animation;Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var Tween={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Easings=o.Tween=void 0;const i=Util,a=Animation$1,s=Node$1,$=Global;var et={node:1,duration:1,easing:1,onFinish:1,yoyo:1},_e=1,rt=2,ot=3,it=0,at=["fill","stroke","shadowColor"];class j{constructor(nt,st,dt,ft,gt,pt,mt){this.prop=nt,this.propFunc=st,this.begin=ft,this._pos=ft,this.duration=pt,this._change=0,this.prevPos=0,this.yoyo=mt,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=dt,this._change=gt-this.begin,this.pause()}fire(nt){var st=this[nt];st&&st()}setTime(nt){nt>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():nt<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=nt,this.update())}getTime(){return this._time}setPosition(nt){this.prevPos=this._pos,this.propFunc(nt),this._pos=nt}getPosition(nt){return nt===void 0&&(nt=this._time),this.func(nt,this.begin,this._change,this.duration)}play(){this.state=rt,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=ot,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(nt){this.pause(),this._time=nt,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var nt=this.getTimer()-this._startTime;this.state===rt?this.setTime(nt):this.state===ot&&this.setTime(this.duration-nt)}pause(){this.state=_e,this.fire("onPause")}getTimer(){return new Date().getTime()}}class _{constructor(nt){var st=this,dt=nt.node,ft=dt._id,gt,pt=nt.easing||o.Easings.Linear,mt=!!nt.yoyo,vt;typeof nt.duration>"u"?gt=.3:nt.duration===0?gt=.001:gt=nt.duration,this.node=dt,this._id=it++;var yt=dt.getLayer()||(dt instanceof $.Konva.Stage?dt.getLayers():null);yt||i.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation(function(){st.tween.onEnterFrame()},yt),this.tween=new j(vt,function(xt){st._tweenFunc(xt)},pt,0,1,gt*1e3,mt),this._addListeners(),_.attrs[ft]||(_.attrs[ft]={}),_.attrs[ft][this._id]||(_.attrs[ft][this._id]={}),_.tweens[ft]||(_.tweens[ft]={});for(vt in nt)et[vt]===void 0&&this._addAttr(vt,nt[vt]);this.reset(),this.onFinish=nt.onFinish,this.onReset=nt.onReset,this.onUpdate=nt.onUpdate}_addAttr(nt,st){var dt=this.node,ft=dt._id,gt,pt,mt,vt,yt,xt,wt,St;if(mt=_.tweens[ft][nt],mt&&delete _.attrs[ft][mt][nt],gt=dt.getAttr(nt),i.Util._isArray(st))if(pt=[],yt=Math.max(st.length,gt.length),nt==="points"&&st.length!==gt.length&&(st.length>gt.length?(wt=gt,gt=i.Util._prepareArrayForTween(gt,st,dt.closed())):(xt=st,st=i.Util._prepareArrayForTween(st,gt,dt.closed()))),nt.indexOf("fill")===0)for(vt=0;vt<yt;vt++)if(vt%2===0)pt.push(st[vt]-gt[vt]);else{var Ct=i.Util.colorToRGBA(gt[vt]);St=i.Util.colorToRGBA(st[vt]),gt[vt]=Ct,pt.push({r:St.r-Ct.r,g:St.g-Ct.g,b:St.b-Ct.b,a:St.a-Ct.a})}else for(vt=0;vt<yt;vt++)pt.push(st[vt]-gt[vt]);else at.indexOf(nt)!==-1?(gt=i.Util.colorToRGBA(gt),St=i.Util.colorToRGBA(st),pt={r:St.r-gt.r,g:St.g-gt.g,b:St.b-gt.b,a:St.a-gt.a}):pt=st-gt;_.attrs[ft][this._id][nt]={start:gt,diff:pt,end:st,trueEnd:xt,trueStart:wt},_.tweens[ft][nt]=this._id}_tweenFunc(nt){var st=this.node,dt=_.attrs[st._id][this._id],ft,gt,pt,mt,vt,yt,xt,wt;for(ft in dt){if(gt=dt[ft],pt=gt.start,mt=gt.diff,wt=gt.end,i.Util._isArray(pt))if(vt=[],xt=Math.max(pt.length,wt.length),ft.indexOf("fill")===0)for(yt=0;yt<xt;yt++)yt%2===0?vt.push((pt[yt]||0)+mt[yt]*nt):vt.push("rgba("+Math.round(pt[yt].r+mt[yt].r*nt)+","+Math.round(pt[yt].g+mt[yt].g*nt)+","+Math.round(pt[yt].b+mt[yt].b*nt)+","+(pt[yt].a+mt[yt].a*nt)+")");else for(yt=0;yt<xt;yt++)vt.push((pt[yt]||0)+mt[yt]*nt);else at.indexOf(ft)!==-1?vt="rgba("+Math.round(pt.r+mt.r*nt)+","+Math.round(pt.g+mt.g*nt)+","+Math.round(pt.b+mt.b*nt)+","+(pt.a+mt.a*nt)+")":vt=pt+mt*nt;st.setAttr(ft,vt)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var nt=this.node,st=_.attrs[nt._id][this._id];st.points&&st.points.trueEnd&&nt.setAttr("points",st.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var nt=this.node,st=_.attrs[nt._id][this._id];st.points&&st.points.trueStart&&nt.points(st.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(nt){return this.tween.seek(nt*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var nt=this.node._id,st=this._id,dt=_.tweens[nt],ft;this.pause();for(ft in dt)delete _.tweens[nt][ft];delete _.attrs[nt][st]}}o.Tween=_,_.attrs={},_.tweens={},s.Node.prototype.to=function(tt){var nt=tt.onFinish;tt.node=this,tt.onFinish=function(){this.destroy(),nt&&nt()};var st=new _(tt);st.play()},o.Easings={BackEaseIn(tt,nt,st,dt){var ft=1.70158;return st*(tt/=dt)*tt*((ft+1)*tt-ft)+nt},BackEaseOut(tt,nt,st,dt){var ft=1.70158;return st*((tt=tt/dt-1)*tt*((ft+1)*tt+ft)+1)+nt},BackEaseInOut(tt,nt,st,dt){var ft=1.70158;return(tt/=dt/2)<1?st/2*(tt*tt*(((ft*=1.525)+1)*tt-ft))+nt:st/2*((tt-=2)*tt*(((ft*=1.525)+1)*tt+ft)+2)+nt},ElasticEaseIn(tt,nt,st,dt,ft,gt){var pt=0;return tt===0?nt:(tt/=dt)===1?nt+st:(gt||(gt=dt*.3),!ft||ft<Math.abs(st)?(ft=st,pt=gt/4):pt=gt/(2*Math.PI)*Math.asin(st/ft),-(ft*Math.pow(2,10*(tt-=1))*Math.sin((tt*dt-pt)*(2*Math.PI)/gt))+nt)},ElasticEaseOut(tt,nt,st,dt,ft,gt){var pt=0;return tt===0?nt:(tt/=dt)===1?nt+st:(gt||(gt=dt*.3),!ft||ft<Math.abs(st)?(ft=st,pt=gt/4):pt=gt/(2*Math.PI)*Math.asin(st/ft),ft*Math.pow(2,-10*tt)*Math.sin((tt*dt-pt)*(2*Math.PI)/gt)+st+nt)},ElasticEaseInOut(tt,nt,st,dt,ft,gt){var pt=0;return tt===0?nt:(tt/=dt/2)===2?nt+st:(gt||(gt=dt*(.3*1.5)),!ft||ft<Math.abs(st)?(ft=st,pt=gt/4):pt=gt/(2*Math.PI)*Math.asin(st/ft),tt<1?-.5*(ft*Math.pow(2,10*(tt-=1))*Math.sin((tt*dt-pt)*(2*Math.PI)/gt))+nt:ft*Math.pow(2,-10*(tt-=1))*Math.sin((tt*dt-pt)*(2*Math.PI)/gt)*.5+st+nt)},BounceEaseOut(tt,nt,st,dt){return(tt/=dt)<1/2.75?st*(7.5625*tt*tt)+nt:tt<2/2.75?st*(7.5625*(tt-=1.5/2.75)*tt+.75)+nt:tt<2.5/2.75?st*(7.5625*(tt-=2.25/2.75)*tt+.9375)+nt:st*(7.5625*(tt-=2.625/2.75)*tt+.984375)+nt},BounceEaseIn(tt,nt,st,dt){return st-o.Easings.BounceEaseOut(dt-tt,0,st,dt)+nt},BounceEaseInOut(tt,nt,st,dt){return tt<dt/2?o.Easings.BounceEaseIn(tt*2,0,st,dt)*.5+nt:o.Easings.BounceEaseOut(tt*2-dt,0,st,dt)*.5+st*.5+nt},EaseIn(tt,nt,st,dt){return st*(tt/=dt)*tt+nt},EaseOut(tt,nt,st,dt){return-st*(tt/=dt)*(tt-2)+nt},EaseInOut(tt,nt,st,dt){return(tt/=dt/2)<1?st/2*tt*tt+nt:-st/2*(--tt*(tt-2)-1)+nt},StrongEaseIn(tt,nt,st,dt){return st*(tt/=dt)*tt*tt*tt*tt+nt},StrongEaseOut(tt,nt,st,dt){return st*((tt=tt/dt-1)*tt*tt*tt*tt+1)+nt},StrongEaseInOut(tt,nt,st,dt){return(tt/=dt/2)<1?st/2*tt*tt*tt*tt*tt+nt:st/2*((tt-=2)*tt*tt*tt*tt+2)+nt},Linear(tt,nt,st,dt){return st*tt/dt+nt}}})(Tween);(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Konva=void 0;const i=Global,a=Util,s=Node$1,$=Container$1,et=Stage$2,_e=Layer$2,rt=FastLayer$1,ot=Group$1,it=DragAndDrop,at=Shape,j=Animation$1,_=Tween,tt=Context$4,nt=Canvas$2;o.Konva=a.Util._assign(i.Konva,{Util:a.Util,Transform:a.Transform,Node:s.Node,Container:$.Container,Stage:et.Stage,stages:et.stages,Layer:_e.Layer,FastLayer:rt.FastLayer,Group:ot.Group,DD:it.DD,Shape:at.Shape,shapes:at.shapes,Animation:j.Animation,Tween:_.Tween,Easings:_.Easings,Context:tt.Context,Canvas:nt.Canvas}),o.default=o.Konva})(_CoreInternals);var Arc$1={};Object.defineProperty(Arc$1,"__esModule",{value:!0});Arc$1.Arc=void 0;const Factory_1$v=Factory,Shape_1$f=Shape,Global_1$g=Global,Validators_1$u=Validators,Global_2$2=Global;class Arc extends Shape_1$f.Shape{_sceneFunc(i){var a=Global_1$g.Konva.getAngle(this.angle()),s=this.clockwise();i.beginPath(),i.arc(0,0,this.outerRadius(),0,a,s),i.arc(0,0,this.innerRadius(),a,0,!s),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}getSelfRect(){const i=this.innerRadius(),a=this.outerRadius(),s=this.clockwise(),$=Global_1$g.Konva.getAngle(s?360-this.angle():this.angle()),et=Math.cos(Math.min($,Math.PI)),_e=1,rt=Math.sin(Math.min(Math.max(Math.PI,$),3*Math.PI/2)),ot=Math.sin(Math.min($,Math.PI/2)),it=et*(et>0?i:a),at=_e*a,j=rt*(rt>0?i:a),_=ot*(ot>0?a:i);return{x:it,y:s?-1*_:j,width:at-it,height:_-j}}}Arc$1.Arc=Arc;Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_2$2._registerNode)(Arc);Factory_1$v.Factory.addGetterSetter(Arc,"innerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"outerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"angle",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"clockwise",!1,(0,Validators_1$u.getBooleanValidator)());var Arrow$1={},Line$1={};Object.defineProperty(Line$1,"__esModule",{value:!0});Line$1.Line=void 0;const Factory_1$u=Factory,Shape_1$e=Shape,Validators_1$t=Validators,Global_1$f=Global;function getControlPoints(o,i,a,s,$,et,_e){var rt=Math.sqrt(Math.pow(a-o,2)+Math.pow(s-i,2)),ot=Math.sqrt(Math.pow($-a,2)+Math.pow(et-s,2)),it=_e*rt/(rt+ot),at=_e*ot/(rt+ot),j=a-it*($-o),_=s-it*(et-i),tt=a+at*($-o),nt=s+at*(et-i);return[j,_,tt,nt]}function expandPoints(o,i){var a=o.length,s=[],$,et;for($=2;$<a-2;$+=2)et=getControlPoints(o[$-2],o[$-1],o[$],o[$+1],o[$+2],o[$+3],i),!isNaN(et[0])&&(s.push(et[0]),s.push(et[1]),s.push(o[$]),s.push(o[$+1]),s.push(et[2]),s.push(et[3]));return s}class Line extends Shape_1$e.Shape{constructor(i){super(i),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(i){var a=this.points(),s=a.length,$=this.tension(),et=this.closed(),_e=this.bezier(),rt,ot,it;if(s){if(i.beginPath(),i.moveTo(a[0],a[1]),$!==0&&s>4){for(rt=this.getTensionPoints(),ot=rt.length,it=et?0:4,et||i.quadraticCurveTo(rt[0],rt[1],rt[2],rt[3]);it<ot-2;)i.bezierCurveTo(rt[it++],rt[it++],rt[it++],rt[it++],rt[it++],rt[it++]);et||i.quadraticCurveTo(rt[ot-2],rt[ot-1],a[s-2],a[s-1])}else if(_e)for(it=2;it<s;)i.bezierCurveTo(a[it++],a[it++],a[it++],a[it++],a[it++],a[it++]);else for(it=2;it<s;it+=2)i.lineTo(a[it],a[it+1]);et?(i.closePath(),i.fillStrokeShape(this)):i.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var i=this.points(),a=i.length,s=this.tension(),$=getControlPoints(i[a-2],i[a-1],i[0],i[1],i[2],i[3],s),et=getControlPoints(i[a-4],i[a-3],i[a-2],i[a-1],i[0],i[1],s),_e=expandPoints(i,s),rt=[$[2],$[3]].concat(_e).concat([et[0],et[1],i[a-2],i[a-1],et[2],et[3],$[0],$[1],i[0],i[1]]);return rt}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var i=this.points();if(i.length<4)return{x:i[0]||0,y:i[1]||0,width:0,height:0};this.tension()!==0?i=[i[0],i[1],...this._getTensionPoints(),i[i.length-2],i[i.length-1]]:i=this.points();for(var a=i[0],s=i[0],$=i[1],et=i[1],_e,rt,ot=0;ot<i.length/2;ot++)_e=i[ot*2],rt=i[ot*2+1],a=Math.min(a,_e),s=Math.max(s,_e),$=Math.min($,rt),et=Math.max(et,rt);return{x:a,y:$,width:s-a,height:et-$}}}Line$1.Line=Line;Line.prototype.className="Line";Line.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Global_1$f._registerNode)(Line);Factory_1$u.Factory.addGetterSetter(Line,"closed",!1);Factory_1$u.Factory.addGetterSetter(Line,"bezier",!1);Factory_1$u.Factory.addGetterSetter(Line,"tension",0,(0,Validators_1$t.getNumberValidator)());Factory_1$u.Factory.addGetterSetter(Line,"points",[],(0,Validators_1$t.getNumberArrayValidator)());var Path$2={},BezierFunctions={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.t2length=o.getQuadraticArcLength=o.getCubicArcLength=o.binomialCoefficients=o.cValues=o.tValues=void 0,o.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],o.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],o.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const i=(_e,rt,ot)=>{let it,at,j;it=ot/2,at=0;for(let tt=0;tt<20;tt++)j=it*o.tValues[20][tt]+it,at+=o.cValues[20][tt]*s(_e,rt,j);return it*at};o.getCubicArcLength=i;const a=(_e,rt,ot)=>{ot===void 0&&(ot=1);const it=_e[0]-2*_e[1]+_e[2],at=rt[0]-2*rt[1]+rt[2],j=2*_e[1]-2*_e[0],_=2*rt[1]-2*rt[0],tt=4*(it*it+at*at),nt=4*(it*j+at*_),st=j*j+_*_;if(tt===0)return ot*Math.sqrt(Math.pow(_e[2]-_e[0],2)+Math.pow(rt[2]-rt[0],2));const dt=nt/(2*tt),ft=st/tt,gt=ot+dt,pt=ft-dt*dt,mt=gt*gt+pt>0?Math.sqrt(gt*gt+pt):0,vt=dt*dt+pt>0?Math.sqrt(dt*dt+pt):0,yt=dt+Math.sqrt(dt*dt+pt)!==0?pt*Math.log(Math.abs((gt+mt)/(dt+vt))):0;return Math.sqrt(tt)/2*(gt*mt-dt*vt+yt)};o.getQuadraticArcLength=a;function s(_e,rt,ot){const it=$(1,ot,_e),at=$(1,ot,rt),j=it*it+at*at;return Math.sqrt(j)}const $=(_e,rt,ot)=>{const it=ot.length-1;let at,j;if(it===0)return 0;if(_e===0){j=0;for(let _=0;_<=it;_++)j+=o.binomialCoefficients[it][_]*Math.pow(1-rt,it-_)*Math.pow(rt,_)*ot[_];return j}else{at=new Array(it);for(let _=0;_<it;_++)at[_]=it*(ot[_+1]-ot[_]);return $(_e-1,rt,at)}},et=(_e,rt,ot)=>{let it=1,at=_e/rt,j=(_e-ot(at))/rt,_=0;for(;it>.001;){const tt=ot(at+j),nt=Math.abs(_e-tt)/rt;if(nt<it)it=nt,at+=j;else{const st=ot(at-j),dt=Math.abs(_e-st)/rt;dt<it?(it=dt,at-=j):j/=2}if(_++,_>500)break}return at};o.t2length=et})(BezierFunctions);Object.defineProperty(Path$2,"__esModule",{value:!0});Path$2.Path=void 0;const Factory_1$t=Factory,Shape_1$d=Shape,Global_1$e=Global,BezierFunctions_1=BezierFunctions;let Path$1=class Ts extends Shape_1$d.Shape{constructor(i){super(i),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ts.parsePathData(this.data()),this.pathLength=Ts.getPathLength(this.dataArray)}_sceneFunc(i){var a=this.dataArray;i.beginPath();for(var s=!1,$=0;$<a.length;$++){var et=a[$].command,_e=a[$].points;switch(et){case"L":i.lineTo(_e[0],_e[1]);break;case"M":i.moveTo(_e[0],_e[1]);break;case"C":i.bezierCurveTo(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);break;case"Q":i.quadraticCurveTo(_e[0],_e[1],_e[2],_e[3]);break;case"A":var rt=_e[0],ot=_e[1],it=_e[2],at=_e[3],j=_e[4],_=_e[5],tt=_e[6],nt=_e[7],st=it>at?it:at,dt=it>at?1:it/at,ft=it>at?at/it:1;i.translate(rt,ot),i.rotate(tt),i.scale(dt,ft),i.arc(0,0,st,j,j+_,1-nt),i.scale(1/dt,1/ft),i.rotate(-tt),i.translate(-rt,-ot);break;case"z":s=!0,i.closePath();break}}!s&&!this.hasFill()?i.strokeShape(this):i.fillStrokeShape(this)}getSelfRect(){var i=[];this.dataArray.forEach(function(it){if(it.command==="A"){var at=it.points[4],j=it.points[5],_=it.points[4]+j,tt=Math.PI/180;if(Math.abs(at-_)<tt&&(tt=Math.abs(at-_)),j<0)for(let nt=at-tt;nt>_;nt-=tt){const st=Ts.getPointOnEllipticalArc(it.points[0],it.points[1],it.points[2],it.points[3],nt,0);i.push(st.x,st.y)}else for(let nt=at+tt;nt<_;nt+=tt){const st=Ts.getPointOnEllipticalArc(it.points[0],it.points[1],it.points[2],it.points[3],nt,0);i.push(st.x,st.y)}}else if(it.command==="C")for(let nt=0;nt<=1;nt+=.01){const st=Ts.getPointOnCubicBezier(nt,it.start.x,it.start.y,it.points[0],it.points[1],it.points[2],it.points[3],it.points[4],it.points[5]);i.push(st.x,st.y)}else i=i.concat(it.points)});for(var a=i[0],s=i[0],$=i[1],et=i[1],_e,rt,ot=0;ot<i.length/2;ot++)_e=i[ot*2],rt=i[ot*2+1],isNaN(_e)||(a=Math.min(a,_e),s=Math.max(s,_e)),isNaN(rt)||($=Math.min($,rt),et=Math.max(et,rt));return{x:a,y:$,width:s-a,height:et-$}}getLength(){return this.pathLength}getPointAtLength(i){return Ts.getPointAtLengthOfDataArray(i,this.dataArray)}static getLineLength(i,a,s,$){return Math.sqrt((s-i)*(s-i)+($-a)*($-a))}static getPathLength(i){let a=0;for(var s=0;s<i.length;++s)a+=i[s].pathLength;return a}static getPointAtLengthOfDataArray(i,a){var s,$=0,et=a.length;if(!et)return null;for(;$<et&&i>a[$].pathLength;)i-=a[$].pathLength,++$;if($===et)return s=a[$-1].points.slice(-2),{x:s[0],y:s[1]};if(i<.01)return s=a[$].points.slice(0,2),{x:s[0],y:s[1]};var _e=a[$],rt=_e.points;switch(_e.command){case"L":return Ts.getPointOnLine(i,_e.start.x,_e.start.y,rt[0],rt[1]);case"C":return Ts.getPointOnCubicBezier((0,BezierFunctions_1.t2length)(i,Ts.getPathLength(a),st=>(0,BezierFunctions_1.getCubicArcLength)([_e.start.x,rt[0],rt[2],rt[4]],[_e.start.y,rt[1],rt[3],rt[5]],st)),_e.start.x,_e.start.y,rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]);case"Q":return Ts.getPointOnQuadraticBezier((0,BezierFunctions_1.t2length)(i,Ts.getPathLength(a),st=>(0,BezierFunctions_1.getQuadraticArcLength)([_e.start.x,rt[0],rt[2]],[_e.start.y,rt[1],rt[3]],st)),_e.start.x,_e.start.y,rt[0],rt[1],rt[2],rt[3]);case"A":var ot=rt[0],it=rt[1],at=rt[2],j=rt[3],_=rt[4],tt=rt[5],nt=rt[6];return _+=tt*i/_e.pathLength,Ts.getPointOnEllipticalArc(ot,it,at,j,_,nt)}return null}static getPointOnLine(i,a,s,$,et,_e,rt){_e===void 0&&(_e=a),rt===void 0&&(rt=s);var ot=(et-s)/($-a+1e-8),it=Math.sqrt(i*i/(1+ot*ot));$<a&&(it*=-1);var at=ot*it,j;if($===a)j={x:_e,y:rt+at};else if((rt-s)/(_e-a+1e-8)===ot)j={x:_e+it,y:rt+at};else{var _,tt,nt=this.getLineLength(a,s,$,et),st=(_e-a)*($-a)+(rt-s)*(et-s);st=st/(nt*nt),_=a+st*($-a),tt=s+st*(et-s);var dt=this.getLineLength(_e,rt,_,tt),ft=Math.sqrt(i*i-dt*dt);it=Math.sqrt(ft*ft/(1+ot*ot)),$<a&&(it*=-1),at=ot*it,j={x:_+it,y:tt+at}}return j}static getPointOnCubicBezier(i,a,s,$,et,_e,rt,ot,it){function at(dt){return dt*dt*dt}function j(dt){return 3*dt*dt*(1-dt)}function _(dt){return 3*dt*(1-dt)*(1-dt)}function tt(dt){return(1-dt)*(1-dt)*(1-dt)}var nt=ot*at(i)+_e*j(i)+$*_(i)+a*tt(i),st=it*at(i)+rt*j(i)+et*_(i)+s*tt(i);return{x:nt,y:st}}static getPointOnQuadraticBezier(i,a,s,$,et,_e,rt){function ot(tt){return tt*tt}function it(tt){return 2*tt*(1-tt)}function at(tt){return(1-tt)*(1-tt)}var j=_e*ot(i)+$*it(i)+a*at(i),_=rt*ot(i)+et*it(i)+s*at(i);return{x:j,y:_}}static getPointOnEllipticalArc(i,a,s,$,et,_e){var rt=Math.cos(_e),ot=Math.sin(_e),it={x:s*Math.cos(et),y:$*Math.sin(et)};return{x:i+(it.x*rt-it.y*ot),y:a+(it.x*ot+it.y*rt)}}static parsePathData(i){if(!i)return[];var a=i,s=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var $=0;$<s.length;$++)a=a.replace(new RegExp(s[$],"g"),"|"+s[$]);var et=a.split("|"),_e=[],rt=[],ot=0,it=0,at=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,j;for($=1;$<et.length;$++){var _=et[$],tt=_.charAt(0);for(_=_.slice(1),rt.length=0;j=at.exec(_);)rt.push(j[0]);for(var nt=[],st=0,dt=rt.length;st<dt;st++){if(rt[st]==="00"){nt.push(0,0);continue}var ft=parseFloat(rt[st]);isNaN(ft)?nt.push(0):nt.push(ft)}for(;nt.length>0&&!isNaN(nt[0]);){var gt=null,pt=[],mt=ot,vt=it,yt,xt,wt,St,Ct,At,$t,Rt,kt,Lt;switch(tt){case"l":ot+=nt.shift(),it+=nt.shift(),gt="L",pt.push(ot,it);break;case"L":ot=nt.shift(),it=nt.shift(),pt.push(ot,it);break;case"m":var Dt=nt.shift(),Mt=nt.shift();if(ot+=Dt,it+=Mt,gt="M",_e.length>2&&_e[_e.length-1].command==="z"){for(var Vt=_e.length-2;Vt>=0;Vt--)if(_e[Vt].command==="M"){ot=_e[Vt].points[0]+Dt,it=_e[Vt].points[1]+Mt;break}}pt.push(ot,it),tt="l";break;case"M":ot=nt.shift(),it=nt.shift(),gt="M",pt.push(ot,it),tt="L";break;case"h":ot+=nt.shift(),gt="L",pt.push(ot,it);break;case"H":ot=nt.shift(),gt="L",pt.push(ot,it);break;case"v":it+=nt.shift(),gt="L",pt.push(ot,it);break;case"V":it=nt.shift(),gt="L",pt.push(ot,it);break;case"C":pt.push(nt.shift(),nt.shift(),nt.shift(),nt.shift()),ot=nt.shift(),it=nt.shift(),pt.push(ot,it);break;case"c":pt.push(ot+nt.shift(),it+nt.shift(),ot+nt.shift(),it+nt.shift()),ot+=nt.shift(),it+=nt.shift(),gt="C",pt.push(ot,it);break;case"S":xt=ot,wt=it,yt=_e[_e.length-1],yt.command==="C"&&(xt=ot+(ot-yt.points[2]),wt=it+(it-yt.points[3])),pt.push(xt,wt,nt.shift(),nt.shift()),ot=nt.shift(),it=nt.shift(),gt="C",pt.push(ot,it);break;case"s":xt=ot,wt=it,yt=_e[_e.length-1],yt.command==="C"&&(xt=ot+(ot-yt.points[2]),wt=it+(it-yt.points[3])),pt.push(xt,wt,ot+nt.shift(),it+nt.shift()),ot+=nt.shift(),it+=nt.shift(),gt="C",pt.push(ot,it);break;case"Q":pt.push(nt.shift(),nt.shift()),ot=nt.shift(),it=nt.shift(),pt.push(ot,it);break;case"q":pt.push(ot+nt.shift(),it+nt.shift()),ot+=nt.shift(),it+=nt.shift(),gt="Q",pt.push(ot,it);break;case"T":xt=ot,wt=it,yt=_e[_e.length-1],yt.command==="Q"&&(xt=ot+(ot-yt.points[0]),wt=it+(it-yt.points[1])),ot=nt.shift(),it=nt.shift(),gt="Q",pt.push(xt,wt,ot,it);break;case"t":xt=ot,wt=it,yt=_e[_e.length-1],yt.command==="Q"&&(xt=ot+(ot-yt.points[0]),wt=it+(it-yt.points[1])),ot+=nt.shift(),it+=nt.shift(),gt="Q",pt.push(xt,wt,ot,it);break;case"A":St=nt.shift(),Ct=nt.shift(),At=nt.shift(),$t=nt.shift(),Rt=nt.shift(),kt=ot,Lt=it,ot=nt.shift(),it=nt.shift(),gt="A",pt=this.convertEndpointToCenterParameterization(kt,Lt,ot,it,$t,Rt,St,Ct,At);break;case"a":St=nt.shift(),Ct=nt.shift(),At=nt.shift(),$t=nt.shift(),Rt=nt.shift(),kt=ot,Lt=it,ot+=nt.shift(),it+=nt.shift(),gt="A",pt=this.convertEndpointToCenterParameterization(kt,Lt,ot,it,$t,Rt,St,Ct,At);break}_e.push({command:gt||tt,points:pt,start:{x:mt,y:vt},pathLength:this.calcLength(mt,vt,gt||tt,pt)})}(tt==="z"||tt==="Z")&&_e.push({command:"z",points:[],start:void 0,pathLength:0})}return _e}static calcLength(i,a,s,$){var et,_e,rt,ot,it=Ts;switch(s){case"L":return it.getLineLength(i,a,$[0],$[1]);case"C":return(0,BezierFunctions_1.getCubicArcLength)([i,$[0],$[2],$[4]],[a,$[1],$[3],$[5]],1);case"Q":return(0,BezierFunctions_1.getQuadraticArcLength)([i,$[0],$[2]],[a,$[1],$[3]],1);case"A":et=0;var at=$[4],j=$[5],_=$[4]+j,tt=Math.PI/180;if(Math.abs(at-_)<tt&&(tt=Math.abs(at-_)),_e=it.getPointOnEllipticalArc($[0],$[1],$[2],$[3],at,0),j<0)for(ot=at-tt;ot>_;ot-=tt)rt=it.getPointOnEllipticalArc($[0],$[1],$[2],$[3],ot,0),et+=it.getLineLength(_e.x,_e.y,rt.x,rt.y),_e=rt;else for(ot=at+tt;ot<_;ot+=tt)rt=it.getPointOnEllipticalArc($[0],$[1],$[2],$[3],ot,0),et+=it.getLineLength(_e.x,_e.y,rt.x,rt.y),_e=rt;return rt=it.getPointOnEllipticalArc($[0],$[1],$[2],$[3],_,0),et+=it.getLineLength(_e.x,_e.y,rt.x,rt.y),et}return 0}static convertEndpointToCenterParameterization(i,a,s,$,et,_e,rt,ot,it){var at=it*(Math.PI/180),j=Math.cos(at)*(i-s)/2+Math.sin(at)*(a-$)/2,_=-1*Math.sin(at)*(i-s)/2+Math.cos(at)*(a-$)/2,tt=j*j/(rt*rt)+_*_/(ot*ot);tt>1&&(rt*=Math.sqrt(tt),ot*=Math.sqrt(tt));var nt=Math.sqrt((rt*rt*(ot*ot)-rt*rt*(_*_)-ot*ot*(j*j))/(rt*rt*(_*_)+ot*ot*(j*j)));et===_e&&(nt*=-1),isNaN(nt)&&(nt=0);var st=nt*rt*_/ot,dt=nt*-ot*j/rt,ft=(i+s)/2+Math.cos(at)*st-Math.sin(at)*dt,gt=(a+$)/2+Math.sin(at)*st+Math.cos(at)*dt,pt=function(Ct){return Math.sqrt(Ct[0]*Ct[0]+Ct[1]*Ct[1])},mt=function(Ct,At){return(Ct[0]*At[0]+Ct[1]*At[1])/(pt(Ct)*pt(At))},vt=function(Ct,At){return(Ct[0]*At[1]<Ct[1]*At[0]?-1:1)*Math.acos(mt(Ct,At))},yt=vt([1,0],[(j-st)/rt,(_-dt)/ot]),xt=[(j-st)/rt,(_-dt)/ot],wt=[(-1*j-st)/rt,(-1*_-dt)/ot],St=vt(xt,wt);return mt(xt,wt)<=-1&&(St=Math.PI),mt(xt,wt)>=1&&(St=0),_e===0&&St>0&&(St=St-2*Math.PI),_e===1&&St<0&&(St=St+2*Math.PI),[ft,gt,rt,ot,yt,St,at,_e]}};Path$2.Path=Path$1;Path$1.prototype.className="Path";Path$1.prototype._attrsAffectingSize=["data"];(0,Global_1$e._registerNode)(Path$1);Factory_1$t.Factory.addGetterSetter(Path$1,"data");Object.defineProperty(Arrow$1,"__esModule",{value:!0});Arrow$1.Arrow=void 0;const Factory_1$s=Factory,Line_1$1=Line$1,Validators_1$s=Validators,Global_1$d=Global,Path_1$2=Path$2;class Arrow extends Line_1$1.Line{_sceneFunc(i){super._sceneFunc(i);var a=Math.PI*2,s=this.points(),$=s,et=this.tension()!==0&&s.length>4;et&&($=this.getTensionPoints());var _e=this.pointerLength(),rt=s.length,ot,it;if(et){const _=[$[$.length-4],$[$.length-3],$[$.length-2],$[$.length-1],s[rt-2],s[rt-1]],tt=Path_1$2.Path.calcLength($[$.length-4],$[$.length-3],"C",_),nt=Path_1$2.Path.getPointOnQuadraticBezier(Math.min(1,1-_e/tt),_[0],_[1],_[2],_[3],_[4],_[5]);ot=s[rt-2]-nt.x,it=s[rt-1]-nt.y}else ot=s[rt-2]-s[rt-4],it=s[rt-1]-s[rt-3];var at=(Math.atan2(it,ot)+a)%a,j=this.pointerWidth();this.pointerAtEnding()&&(i.save(),i.beginPath(),i.translate(s[rt-2],s[rt-1]),i.rotate(at),i.moveTo(0,0),i.lineTo(-_e,j/2),i.lineTo(-_e,-j/2),i.closePath(),i.restore(),this.__fillStroke(i)),this.pointerAtBeginning()&&(i.save(),i.beginPath(),i.translate(s[0],s[1]),et?(ot=($[0]+$[2])/2-s[0],it=($[1]+$[3])/2-s[1]):(ot=s[2]-s[0],it=s[3]-s[1]),i.rotate((Math.atan2(-it,-ot)+a)%a),i.moveTo(0,0),i.lineTo(-_e,j/2),i.lineTo(-_e,-j/2),i.closePath(),i.restore(),this.__fillStroke(i))}__fillStroke(i){var a=this.dashEnabled();a&&(this.attrs.dashEnabled=!1,i.setLineDash([])),i.fillStrokeShape(this),a&&(this.attrs.dashEnabled=!0)}getSelfRect(){const i=super.getSelfRect(),a=this.pointerWidth()/2;return{x:i.x-a,y:i.y-a,width:i.width+a*2,height:i.height+a*2}}}Arrow$1.Arrow=Arrow;Arrow.prototype.className="Arrow";(0,Global_1$d._registerNode)(Arrow);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerLength",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerWidth",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);var Circle$2={};Object.defineProperty(Circle$2,"__esModule",{value:!0});Circle$2.Circle=void 0;const Factory_1$r=Factory,Shape_1$c=Shape,Validators_1$r=Validators,Global_1$c=Global;let Circle$1=class extends Shape_1$c.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius()!==i/2&&this.radius(i/2)}setHeight(i){this.radius()!==i/2&&this.radius(i/2)}};Circle$2.Circle=Circle$1;Circle$1.prototype._centroid=!0;Circle$1.prototype.className="Circle";Circle$1.prototype._attrsAffectingSize=["radius"];(0,Global_1$c._registerNode)(Circle$1);Factory_1$r.Factory.addGetterSetter(Circle$1,"radius",0,(0,Validators_1$r.getNumberValidator)());var Ellipse$1={};Object.defineProperty(Ellipse$1,"__esModule",{value:!0});Ellipse$1.Ellipse=void 0;const Factory_1$q=Factory,Shape_1$b=Shape,Validators_1$q=Validators,Global_1$b=Global;class Ellipse extends Shape_1$b.Shape{_sceneFunc(i){var a=this.radiusX(),s=this.radiusY();i.beginPath(),i.save(),a!==s&&i.scale(1,s/a),i.arc(0,0,a,0,Math.PI*2,!1),i.restore(),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(i){this.radiusX(i/2)}setHeight(i){this.radiusY(i/2)}}Ellipse$1.Ellipse=Ellipse;Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Global_1$b._registerNode)(Ellipse);Factory_1$q.Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusX",0,(0,Validators_1$q.getNumberValidator)());Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusY",0,(0,Validators_1$q.getNumberValidator)());var Image$3={};Object.defineProperty(Image$3,"__esModule",{value:!0});Image$3.Image=void 0;const Util_1$7=Util,Factory_1$p=Factory,Shape_1$a=Shape,Global_1$a=Global,Validators_1$p=Validators;let Image$2=class Rv extends Shape_1$a.Shape{constructor(i){super(i),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const i=this.image();i&&i.complete||i&&i.readyState===4||i&&i.addEventListener&&i.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(i){const a=this.getWidth(),s=this.getHeight(),$=this.cornerRadius(),et=this.attrs.image;let _e;if(et){const rt=this.attrs.cropWidth,ot=this.attrs.cropHeight;rt&&ot?_e=[et,this.cropX(),this.cropY(),rt,ot,0,0,a,s]:_e=[et,0,0,a,s]}(this.hasFill()||this.hasStroke()||$)&&(i.beginPath(),$?Util_1$7.Util.drawRoundedRectPath(i,a,s,$):i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)),et&&($&&i.clip(),i.drawImage.apply(i,_e))}_hitFunc(i){var a=this.width(),s=this.height(),$=this.cornerRadius();i.beginPath(),$?Util_1$7.Util.drawRoundedRectPath(i,a,s,$):i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)}getWidth(){var i,a;return(i=this.attrs.width)!==null&&i!==void 0?i:(a=this.image())===null||a===void 0?void 0:a.width}getHeight(){var i,a;return(i=this.attrs.height)!==null&&i!==void 0?i:(a=this.image())===null||a===void 0?void 0:a.height}static fromURL(i,a,s=null){var $=Util_1$7.Util.createImageElement();$.onload=function(){var et=new Rv({image:$});a(et)},$.onerror=s,$.crossOrigin="Anonymous",$.src=i}};Image$3.Image=Image$2;Image$2.prototype.className="Image";(0,Global_1$a._registerNode)(Image$2);Factory_1$p.Factory.addGetterSetter(Image$2,"cornerRadius",0,(0,Validators_1$p.getNumberOrArrayOfNumbersValidator)(4));Factory_1$p.Factory.addGetterSetter(Image$2,"image");Factory_1$p.Factory.addComponentsGetterSetter(Image$2,"crop",["x","y","width","height"]);Factory_1$p.Factory.addGetterSetter(Image$2,"cropX",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropY",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropWidth",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropHeight",0,(0,Validators_1$p.getNumberValidator)());var Label$1={};Object.defineProperty(Label$1,"__esModule",{value:!0});Label$1.Tag=Label$1.Label=void 0;const Factory_1$o=Factory,Shape_1$9=Shape,Group_1$1=Group$1,Validators_1$o=Validators,Global_1$9=Global;var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group_1$1.Group{constructor(i){super(i),this.on("add.konva",function(a){this._addListeners(a.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(i){var a=this,s,$=function(){a._sync()};for(s=0;s<attrChangeListLen$1;s++)i.on(ATTR_CHANGE_LIST$2[s]+CHANGE_KONVA$1,$)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var i=this.getText(),a=this.getTag(),s,$,et,_e,rt,ot,it;if(i&&a){switch(s=i.width(),$=i.height(),et=a.pointerDirection(),_e=a.pointerWidth(),it=a.pointerHeight(),rt=0,ot=0,et){case UP:rt=s/2,ot=-1*it;break;case RIGHT$1:rt=s+_e,ot=$/2;break;case DOWN:rt=s/2,ot=$+it;break;case LEFT$1:rt=-1*_e,ot=$/2;break}a.setAttrs({x:-1*rt,y:-1*ot,width:s,height:$}),i.setAttrs({x:-1*rt,y:-1*ot})}}}Label$1.Label=Label;Label.prototype.className="Label";(0,Global_1$9._registerNode)(Label);class Tag extends Shape_1$9.Shape{_sceneFunc(i){var a=this.width(),s=this.height(),$=this.pointerDirection(),et=this.pointerWidth(),_e=this.pointerHeight(),rt=this.cornerRadius();let ot=0,it=0,at=0,j=0;typeof rt=="number"?ot=it=at=j=Math.min(rt,a/2,s/2):(ot=Math.min(rt[0]||0,a/2,s/2),it=Math.min(rt[1]||0,a/2,s/2),j=Math.min(rt[2]||0,a/2,s/2),at=Math.min(rt[3]||0,a/2,s/2)),i.beginPath(),i.moveTo(ot,0),$===UP&&(i.lineTo((a-et)/2,0),i.lineTo(a/2,-1*_e),i.lineTo((a+et)/2,0)),i.lineTo(a-it,0),i.arc(a-it,it,it,Math.PI*3/2,0,!1),$===RIGHT$1&&(i.lineTo(a,(s-_e)/2),i.lineTo(a+et,s/2),i.lineTo(a,(s+_e)/2)),i.lineTo(a,s-j),i.arc(a-j,s-j,j,0,Math.PI/2,!1),$===DOWN&&(i.lineTo((a+et)/2,s),i.lineTo(a/2,s+_e),i.lineTo((a-et)/2,s)),i.lineTo(at,s),i.arc(at,s-at,at,Math.PI/2,Math.PI,!1),$===LEFT$1&&(i.lineTo(0,(s+_e)/2),i.lineTo(-1*et,s/2),i.lineTo(0,(s-_e)/2)),i.lineTo(0,ot),i.arc(ot,ot,ot,Math.PI,Math.PI*3/2,!1),i.closePath(),i.fillStrokeShape(this)}getSelfRect(){var i=0,a=0,s=this.pointerWidth(),$=this.pointerHeight(),et=this.pointerDirection(),_e=this.width(),rt=this.height();return et===UP?(a-=$,rt+=$):et===DOWN?rt+=$:et===LEFT$1?(i-=s*1.5,_e+=s):et===RIGHT$1&&(_e+=s*1.5),{x:i,y:a,width:_e,height:rt}}}Label$1.Tag=Tag;Tag.prototype.className="Tag";(0,Global_1$9._registerNode)(Tag);Factory_1$o.Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory_1$o.Factory.addGetterSetter(Tag,"pointerWidth",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"pointerHeight",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"cornerRadius",0,(0,Validators_1$o.getNumberOrArrayOfNumbersValidator)(4));var Rect$2={};Object.defineProperty(Rect$2,"__esModule",{value:!0});Rect$2.Rect=void 0;const Factory_1$n=Factory,Shape_1$8=Shape,Global_1$8=Global,Util_1$6=Util,Validators_1$n=Validators;let Rect$1=class extends Shape_1$8.Shape{_sceneFunc(i){var a=this.cornerRadius(),s=this.width(),$=this.height();i.beginPath(),a?Util_1$6.Util.drawRoundedRectPath(i,s,$,a):i.rect(0,0,s,$),i.closePath(),i.fillStrokeShape(this)}};Rect$2.Rect=Rect$1;Rect$1.prototype.className="Rect";(0,Global_1$8._registerNode)(Rect$1);Factory_1$n.Factory.addGetterSetter(Rect$1,"cornerRadius",0,(0,Validators_1$n.getNumberOrArrayOfNumbersValidator)(4));var RegularPolygon$1={};Object.defineProperty(RegularPolygon$1,"__esModule",{value:!0});RegularPolygon$1.RegularPolygon=void 0;const Factory_1$m=Factory,Shape_1$7=Shape,Validators_1$m=Validators,Global_1$7=Global;class RegularPolygon extends Shape_1$7.Shape{_sceneFunc(i){const a=this._getPoints();i.beginPath(),i.moveTo(a[0].x,a[0].y);for(var s=1;s<a.length;s++)i.lineTo(a[s].x,a[s].y);i.closePath(),i.fillStrokeShape(this)}_getPoints(){const i=this.attrs.sides,a=this.attrs.radius||0,s=[];for(var $=0;$<i;$++)s.push({x:a*Math.sin($*2*Math.PI/i),y:-1*a*Math.cos($*2*Math.PI/i)});return s}getSelfRect(){const i=this._getPoints();var a=i[0].x,s=i[0].y,$=i[0].x,et=i[0].y;return i.forEach(_e=>{a=Math.min(a,_e.x),s=Math.max(s,_e.x),$=Math.min($,_e.y),et=Math.max(et,_e.y)}),{x:a,y:$,width:s-a,height:et-$}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius(i/2)}setHeight(i){this.radius(i/2)}}RegularPolygon$1.RegularPolygon=RegularPolygon;RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];(0,Global_1$7._registerNode)(RegularPolygon);Factory_1$m.Factory.addGetterSetter(RegularPolygon,"radius",0,(0,Validators_1$m.getNumberValidator)());Factory_1$m.Factory.addGetterSetter(RegularPolygon,"sides",0,(0,Validators_1$m.getNumberValidator)());var Ring$2={};Object.defineProperty(Ring$2,"__esModule",{value:!0});Ring$2.Ring=void 0;const Factory_1$l=Factory,Shape_1$6=Shape,Validators_1$l=Validators,Global_1$6=Global;var PIx2=Math.PI*2;let Ring$1=class extends Shape_1$6.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.innerRadius(),0,PIx2,!1),i.moveTo(this.outerRadius(),0),i.arc(0,0,this.outerRadius(),PIx2,0,!0),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}};Ring$2.Ring=Ring$1;Ring$1.prototype.className="Ring";Ring$1.prototype._centroid=!0;Ring$1.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$6._registerNode)(Ring$1);Factory_1$l.Factory.addGetterSetter(Ring$1,"innerRadius",0,(0,Validators_1$l.getNumberValidator)());Factory_1$l.Factory.addGetterSetter(Ring$1,"outerRadius",0,(0,Validators_1$l.getNumberValidator)());var Sprite$1={};Object.defineProperty(Sprite$1,"__esModule",{value:!0});Sprite$1.Sprite=void 0;const Factory_1$k=Factory,Shape_1$5=Shape,Animation_1=Animation$1,Validators_1$k=Validators,Global_1$5=Global;class Sprite extends Shape_1$5.Shape{constructor(i){super(i),this._updated=!0,this.anim=new Animation_1.Animation(()=>{var a=this._updated;return this._updated=!1,a}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(i){var a=this.animation(),s=this.frameIndex(),$=s*4,et=this.animations()[a],_e=this.frameOffsets(),rt=et[$+0],ot=et[$+1],it=et[$+2],at=et[$+3],j=this.image();if((this.hasFill()||this.hasStroke())&&(i.beginPath(),i.rect(0,0,it,at),i.closePath(),i.fillStrokeShape(this)),j)if(_e){var _=_e[a],tt=s*2;i.drawImage(j,rt,ot,it,at,_[tt+0],_[tt+1],it,at)}else i.drawImage(j,rt,ot,it,at,0,0,it,at)}_hitFunc(i){var a=this.animation(),s=this.frameIndex(),$=s*4,et=this.animations()[a],_e=this.frameOffsets(),rt=et[$+2],ot=et[$+3];if(i.beginPath(),_e){var it=_e[a],at=s*2;i.rect(it[at+0],it[at+1],rt,ot)}else i.rect(0,0,rt,ot);i.closePath(),i.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var i=this;this.interval=setInterval(function(){i._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var i=this.getLayer();this.anim.setLayers(i),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var i=this.frameIndex(),a=this.animation(),s=this.animations(),$=s[a],et=$.length/4;i<et-1?this.frameIndex(i+1):this.frameIndex(0)}}Sprite$1.Sprite=Sprite;Sprite.prototype.className="Sprite";(0,Global_1$5._registerNode)(Sprite);Factory_1$k.Factory.addGetterSetter(Sprite,"animation");Factory_1$k.Factory.addGetterSetter(Sprite,"animations");Factory_1$k.Factory.addGetterSetter(Sprite,"frameOffsets");Factory_1$k.Factory.addGetterSetter(Sprite,"image");Factory_1$k.Factory.addGetterSetter(Sprite,"frameIndex",0,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.addGetterSetter(Sprite,"frameRate",17,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Star$1={};Object.defineProperty(Star$1,"__esModule",{value:!0});Star$1.Star=void 0;const Factory_1$j=Factory,Shape_1$4=Shape,Validators_1$j=Validators,Global_1$4=Global;class Star extends Shape_1$4.Shape{_sceneFunc(i){var a=this.innerRadius(),s=this.outerRadius(),$=this.numPoints();i.beginPath(),i.moveTo(0,0-s);for(var et=1;et<$*2;et++){var _e=et%2===0?s:a,rt=_e*Math.sin(et*Math.PI/$),ot=-1*_e*Math.cos(et*Math.PI/$);i.lineTo(rt,ot)}i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}}Star$1.Star=Star;Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$4._registerNode)(Star);Factory_1$j.Factory.addGetterSetter(Star,"numPoints",5,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"innerRadius",0,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"outerRadius",0,(0,Validators_1$j.getNumberValidator)());var Text$1={};Object.defineProperty(Text$1,"__esModule",{value:!0});Text$1.Text=Text$1.stringToArray=void 0;const Util_1$5=Util,Factory_1$i=Factory,Shape_1$3=Shape,Validators_1$i=Validators,Global_1$3=Global;function stringToArray(o){return Array.from(o)}Text$1.stringToArray=stringToArray;var AUTO="auto",CENTER="center",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",WORD="word",CHAR="char",NONE="none",ELLIPSIS="…",ATTR_CHANGE_LIST$1=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(o){return o.split(",").map(i=>{i=i.trim();const a=i.indexOf(" ")>=0,s=i.indexOf('"')>=0||i.indexOf("'")>=0;return a&&!s&&(i=`"${i}"`),i}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util_1$5.Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(o){o.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(o){o.setAttr("miterLimit",2),o.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(o){return o=o||{},!o.fillLinearGradientColorStops&&!o.fillRadialGradientColorStops&&!o.fillPatternImage&&(o.fill=o.fill||"black"),o}class Text extends Shape_1$3.Shape{constructor(i){super(checkDefaultFill(i)),this._partialTextX=0,this._partialTextY=0;for(var a=0;a<attrChangeListLen;a++)this.on(ATTR_CHANGE_LIST$1[a]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(i){var a=this.textArr,s=a.length;if(this.text()){var $=this.padding(),et=this.fontSize(),_e=this.lineHeight()*et,rt=this.verticalAlign(),ot=0,it=this.align(),at=this.getWidth(),j=this.letterSpacing(),_=this.fill(),tt=this.textDecoration(),nt=tt.indexOf("underline")!==-1,st=tt.indexOf("line-through")!==-1,dt,ft=0,ft=_e/2,gt=0,pt=0;for(i.setAttr("font",this._getContextFont()),i.setAttr("textBaseline",MIDDLE),i.setAttr("textAlign",LEFT),rt===MIDDLE?ot=(this.getHeight()-s*_e-$*2)/2:rt===BOTTOM&&(ot=this.getHeight()-s*_e-$*2),i.translate($,ot+$),dt=0;dt<s;dt++){var gt=0,pt=0,mt=a[dt],vt=mt.text,yt=mt.width,xt=mt.lastInParagraph,wt,St,Ct;if(i.save(),it===RIGHT?gt+=at-yt-$*2:it===CENTER&&(gt+=(at-yt-$*2)/2),nt){i.save(),i.beginPath(),i.moveTo(gt,ft+pt+Math.round(et/2)),wt=vt.split(" ").length-1,St=wt===0,Ct=it===JUSTIFY&&!xt?at-$*2:yt,i.lineTo(gt+Math.round(Ct),ft+pt+Math.round(et/2)),i.lineWidth=et/15;const Dt=this._getLinearGradient();i.strokeStyle=Dt||_,i.stroke(),i.restore()}if(st){i.save(),i.beginPath(),i.moveTo(gt,ft+pt),wt=vt.split(" ").length-1,St=wt===0,Ct=it===JUSTIFY&&xt&&!St?at-$*2:yt,i.lineTo(gt+Math.round(Ct),ft+pt),i.lineWidth=et/15;const Dt=this._getLinearGradient();i.strokeStyle=Dt||_,i.stroke(),i.restore()}if(j!==0||it===JUSTIFY){wt=vt.split(" ").length-1;for(var At=stringToArray(vt),$t=0;$t<At.length;$t++){var Rt=At[$t];Rt===" "&&!xt&&it===JUSTIFY&&(gt+=(at-$*2-yt)/wt),this._partialTextX=gt,this._partialTextY=ft+pt,this._partialText=Rt,i.fillStrokeShape(this),gt+=this.measureSize(Rt).width+j}}else this._partialTextX=gt,this._partialTextY=ft+pt,this._partialText=vt,i.fillStrokeShape(this);i.restore(),s>1&&(ft+=_e)}}}_hitFunc(i){var a=this.getWidth(),s=this.getHeight();i.beginPath(),i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)}setText(i){var a=Util_1$5.Util._isString(i)?i:i==null?"":i+"";return this._setAttr(TEXT,a),this}getWidth(){var i=this.attrs.width===AUTO||this.attrs.width===void 0;return i?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var i=this.attrs.height===AUTO||this.attrs.height===void 0;return i?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$5.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(i){var a=getDummyContext(),s=this.fontSize(),$;return a.save(),a.font=this._getContextFont(),$=a.measureText(i),a.restore(),{width:$.width,height:s}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(i){this.align()===JUSTIFY&&(i=i.trim());var s=this._getTextWidth(i);return this.textArr.push({text:i,width:s,lastInParagraph:!1})}_getTextWidth(i){var a=this.letterSpacing(),s=i.length;return getDummyContext().measureText(i).width+(s?a*(s-1):0)}_setTextData(){var i=this.text().split(`
`),a=+this.fontSize(),s=0,$=this.lineHeight()*a,et=this.attrs.width,_e=this.attrs.height,rt=et!==AUTO&&et!==void 0,ot=_e!==AUTO&&_e!==void 0,it=this.padding(),at=et-it*2,j=_e-it*2,_=0,tt=this.wrap(),nt=tt!==NONE,st=tt!==CHAR&&nt,dt=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var ft=dt?this._getTextWidth(ELLIPSIS):0,gt=0,pt=i.length;gt<pt;++gt){var mt=i[gt],vt=this._getTextWidth(mt);if(rt&&vt>at)for(;mt.length>0;){for(var yt=0,xt=mt.length,wt="",St=0;yt<xt;){var Ct=yt+xt>>>1,At=mt.slice(0,Ct+1),$t=this._getTextWidth(At)+ft;$t<=at?(yt=Ct+1,wt=At,St=$t):xt=Ct}if(wt){if(st){var Rt,kt=mt[wt.length],Lt=kt===SPACE||kt===DASH;Lt&&St<=at?Rt=wt.length:Rt=Math.max(wt.lastIndexOf(SPACE),wt.lastIndexOf(DASH))+1,Rt>0&&(yt=Rt,wt=wt.slice(0,yt),St=this._getTextWidth(wt))}wt=wt.trimRight(),this._addTextLine(wt),s=Math.max(s,St),_+=$;var Dt=this._shouldHandleEllipsis(_);if(Dt){this._tryToAddEllipsisToLastLine();break}if(mt=mt.slice(yt),mt=mt.trimLeft(),mt.length>0&&(vt=this._getTextWidth(mt),vt<=at)){this._addTextLine(mt),_+=$,s=Math.max(s,vt);break}}else break}else this._addTextLine(mt),_+=$,s=Math.max(s,vt),this._shouldHandleEllipsis(_)&&gt<pt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ot&&_+$>j)break}this.textHeight=a,this.textWidth=s}_shouldHandleEllipsis(i){var a=+this.fontSize(),s=this.lineHeight()*a,$=this.attrs.height,et=$!==AUTO&&$!==void 0,_e=this.padding(),rt=$-_e*2,ot=this.wrap(),it=ot!==NONE;return!it||et&&i+s>rt}_tryToAddEllipsisToLastLine(){var i=this.attrs.width,a=i!==AUTO&&i!==void 0,s=this.padding(),$=i-s*2,et=this.ellipsis(),_e=this.textArr[this.textArr.length-1];if(!(!_e||!et)){if(a){var rt=this._getTextWidth(_e.text+ELLIPSIS)<$;rt||(_e.text=_e.text.slice(0,_e.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(_e.text+ELLIPSIS)}}getStrokeScaleEnabled(){return!0}}Text$1.Text=Text;Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Global_1$3._registerNode)(Text);Factory_1$i.Factory.overWriteSetter(Text,"width",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.overWriteSetter(Text,"height",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.addGetterSetter(Text,"fontFamily","Arial");Factory_1$i.Factory.addGetterSetter(Text,"fontSize",12,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"padding",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"align",LEFT);Factory_1$i.Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory_1$i.Factory.addGetterSetter(Text,"lineHeight",1,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"wrap",WORD);Factory_1$i.Factory.addGetterSetter(Text,"ellipsis",!1,(0,Validators_1$i.getBooleanValidator)());Factory_1$i.Factory.addGetterSetter(Text,"letterSpacing",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"text","",(0,Validators_1$i.getStringValidator)());Factory_1$i.Factory.addGetterSetter(Text,"textDecoration","");var TextPath$1={};Object.defineProperty(TextPath$1,"__esModule",{value:!0});TextPath$1.TextPath=void 0;const Util_1$4=Util,Factory_1$h=Factory,Shape_1$2=Shape,Path_1$1=Path$2,Text_1$1=Text$1,Validators_1$h=Validators,Global_1$2=Global;var EMPTY_STRING="",NORMAL="normal";function _fillFunc(o){o.fillText(this.partialText,0,0)}function _strokeFunc(o){o.strokeText(this.partialText,0,0)}class TextPath extends Shape_1$2.Shape{constructor(i){super(i),this.dummyCanvas=Util_1$4.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Path_1$1.Path.getPathLength(this.dataArray)}_getPointAtLength(i){if(!this.attrs.data)return null;const a=this.pathLength;return i-1>a?null:Path_1$1.Path.getPointAtLengthOfDataArray(i,this.dataArray)}_readDataAttribute(){this.dataArray=Path_1$1.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(i){i.setAttr("font",this._getContextFont()),i.setAttr("textBaseline",this.textBaseline()),i.setAttr("textAlign","left"),i.save();var a=this.textDecoration(),s=this.fill(),$=this.fontSize(),et=this.glyphInfo;a==="underline"&&i.beginPath();for(var _e=0;_e<et.length;_e++){i.save();var rt=et[_e].p0;i.translate(rt.x,rt.y),i.rotate(et[_e].rotation),this.partialText=et[_e].text,i.fillStrokeShape(this),a==="underline"&&(_e===0&&i.moveTo(0,$/2+1),i.lineTo($,$/2+1)),i.restore()}a==="underline"&&(i.strokeStyle=s,i.lineWidth=$/20,i.stroke()),i.restore()}_hitFunc(i){i.beginPath();var a=this.glyphInfo;if(a.length>=1){var s=a[0].p0;i.moveTo(s.x,s.y)}for(var $=0;$<a.length;$++){var et=a[$].p1;i.lineTo(et.x,et.y)}i.setAttr("lineWidth",this.fontSize()),i.setAttr("strokeStyle",this.colorKey),i.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(i){return Text_1$1.Text.prototype.setText.call(this,i)}_getContextFont(){return Text_1$1.Text.prototype._getContextFont.call(this)}_getTextSize(i){var a=this.dummyCanvas,s=a.getContext("2d");s.save(),s.font=this._getContextFont();var $=s.measureText(i);return s.restore(),{width:$.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:i,height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=i,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),$=this.align(),et=this.kerningFunc(),_e=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let rt=0;$==="center"&&(rt=Math.max(0,this.pathLength/2-_e/2)),$==="right"&&(rt=Math.max(0,this.pathLength-_e));const ot=(0,Text_1$1.stringToArray)(this.text());let it=rt;for(var at=0;at<ot.length;at++){const j=this._getPointAtLength(it);if(!j)return;let _=this._getTextSize(ot[at]).width+s;if(ot[at]===" "&&$==="justify"){const gt=this.text().split(" ").length-1;_+=(this.pathLength-_e)/gt}const tt=this._getPointAtLength(it+_);if(!tt)return;const nt=Path_1$1.Path.getLineLength(j.x,j.y,tt.x,tt.y);let st=0;if(et)try{st=et(ot[at-1],ot[at])*this.fontSize()}catch{st=0}j.x+=st,tt.x+=st,this.textWidth+=st;const dt=Path_1$1.Path.getPointOnLine(st+nt/2,j.x,j.y,tt.x,tt.y),ft=Math.atan2(tt.y-j.y,tt.x-j.x);this.glyphInfo.push({transposeX:dt.x,transposeY:dt.y,text:ot[at],rotation:ft,p0:j,p1:tt}),it+=_}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var i=[];this.glyphInfo.forEach(function(at){i.push(at.p0.x),i.push(at.p0.y),i.push(at.p1.x),i.push(at.p1.y)});for(var a=i[0]||0,s=i[0]||0,$=i[1]||0,et=i[1]||0,_e,rt,ot=0;ot<i.length/2;ot++)_e=i[ot*2],rt=i[ot*2+1],a=Math.min(a,_e),s=Math.max(s,_e),$=Math.min($,rt),et=Math.max(et,rt);var it=this.fontSize();return{x:a-it/2,y:$-it/2,width:s-a+it,height:et-$+it}}destroy(){return Util_1$4.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}TextPath$1.TextPath=TextPath;TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Global_1$2._registerNode)(TextPath);Factory_1$h.Factory.addGetterSetter(TextPath,"data");Factory_1$h.Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory_1$h.Factory.addGetterSetter(TextPath,"fontSize",12,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"align","left");Factory_1$h.Factory.addGetterSetter(TextPath,"letterSpacing",0,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory_1$h.Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory_1$h.Factory.addGetterSetter(TextPath,"textDecoration",null);Factory_1$h.Factory.addGetterSetter(TextPath,"kerningFunc",null);var Transformer$1={};Object.defineProperty(Transformer$1,"__esModule",{value:!0});Transformer$1.Transformer=void 0;const Util_1$3=Util,Factory_1$g=Factory,Node_1$f=Node$1,Shape_1$1=Shape,Rect_1$1=Rect$2,Group_1=Group$1,Global_1$1=Global,Validators_1$g=Validators,Global_2$1=Global;var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(o=>o+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Global_1$1.Konva._global;function getCursor(o,i){if(o==="rotater")return"crosshair";i+=Util_1$3.Util.degToRad(ANGLES[o]||0);var a=(Util_1$3.Util.radToDeg(i)%360+360)%360;return Util_1$3.Util._inRange(a,315+22.5,360)||Util_1$3.Util._inRange(a,0,22.5)?"ns-resize":Util_1$3.Util._inRange(a,45-22.5,45+22.5)?"nesw-resize":Util_1$3.Util._inRange(a,90-22.5,90+22.5)?"ew-resize":Util_1$3.Util._inRange(a,135-22.5,135+22.5)?"nwse-resize":Util_1$3.Util._inRange(a,180-22.5,180+22.5)?"ns-resize":Util_1$3.Util._inRange(a,225-22.5,225+22.5)?"nesw-resize":Util_1$3.Util._inRange(a,270-22.5,270+22.5)?"ew-resize":Util_1$3.Util._inRange(a,315-22.5,315+22.5)?"nwse-resize":(Util_1$3.Util.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER=1e8;function getCenter(o){return{x:o.x+o.width/2*Math.cos(o.rotation)+o.height/2*Math.sin(-o.rotation),y:o.y+o.height/2*Math.cos(o.rotation)+o.width/2*Math.sin(o.rotation)}}function rotateAroundPoint(o,i,a){const s=a.x+(o.x-a.x)*Math.cos(i)-(o.y-a.y)*Math.sin(i),$=a.y+(o.x-a.x)*Math.sin(i)+(o.y-a.y)*Math.cos(i);return Object.assign(Object.assign({},o),{rotation:o.rotation+i,x:s,y:$})}function rotateAroundCenter(o,i){const a=getCenter(o);return rotateAroundPoint(o,i,a)}function getSnap(o,i,a){let s=i;for(let $=0;$<o.length;$++){const et=Global_1$1.Konva.getAngle(o[$]),_e=Math.abs(et-i)%(Math.PI*2);Math.min(_e,Math.PI*2-_e)<a&&(s=et)}return s}class Transformer extends Group_1.Group{constructor(i){super(i),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(i){return this.setNode(i),this}setNode(i){return Util_1$3.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([i])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(i=[]){this._nodes&&this._nodes.length&&this.detach();const a=i.filter($=>$.isAncestorOf(this)?(Util_1$3.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=i=a,i.length===1&&this.useSingleNodeRotation()?this.rotation(i[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach($=>{const et=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},_e=$._attrsAffectingSize.map(rt=>rt+"Change."+this._getEventNamespace()).join(" ");$.on(_e,et),$.on(TRANSFORM_CHANGE_STR.map(rt=>rt+`.${this._getEventNamespace()}`).join(" "),et),$.on(`absoluteTransformChange.${this._getEventNamespace()}`,et),this._proxyDrag($)}),this._resetTransformCache();var s=!!this.findOne(".top-left");return s&&this.update(),this}_proxyDrag(i){let a;i.on(`dragstart.${this._getEventNamespace()}`,s=>{a=i.getAbsolutePosition(),!this.isDragging()&&i!==this.findOne(".back")&&this.startDrag(s,!1)}),i.on(`dragmove.${this._getEventNamespace()}`,s=>{if(!a)return;const $=i.getAbsolutePosition(),et=$.x-a.x,_e=$.y-a.y;this.nodes().forEach(rt=>{if(rt===i||rt.isDragging())return;const ot=rt.getAbsolutePosition();rt.setAbsolutePosition({x:ot.x+et,y:ot.y+_e}),rt.startDrag(s)}),a=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(i=>{i.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(i,a=this.rotation(),s){var $=i.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),et=i.getAbsoluteScale(s),_e=i.getAbsolutePosition(s),rt=$.x*et.x-i.offsetX()*et.x,ot=$.y*et.y-i.offsetY()*et.y;const it=(Global_1$1.Konva.getAngle(i.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),at={x:_e.x+rt*Math.cos(it)+ot*Math.sin(-it),y:_e.y+ot*Math.cos(it)+rt*Math.sin(it),width:$.width*et.x,height:$.height*et.y,rotation:it};return rotateAroundPoint(at,-Global_1$1.Konva.getAngle(a),{x:0,y:0})}__getNodeRect(){var i=this.getNode();if(!i)return{x:-MAX_SAFE_INTEGER,y:-MAX_SAFE_INTEGER,width:0,height:0,rotation:0};const a=[];this.nodes().map(it=>{const at=it.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var j=[{x:at.x,y:at.y},{x:at.x+at.width,y:at.y},{x:at.x+at.width,y:at.y+at.height},{x:at.x,y:at.y+at.height}],_=it.getAbsoluteTransform();j.forEach(function(tt){var nt=_.point(tt);a.push(nt)})});const s=new Util_1$3.Transform;s.rotate(-Global_1$1.Konva.getAngle(this.rotation()));var $,et,_e,rt;a.forEach(function(it){var at=s.point(it);$===void 0&&($=_e=at.x,et=rt=at.y),$=Math.min($,at.x),et=Math.min(et,at.y),_e=Math.max(_e,at.x),rt=Math.max(rt,at.y)}),s.invert();const ot=s.point({x:$,y:et});return{x:ot.x,y:ot.y,width:_e-$,height:rt-et,rotation:Global_1$1.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(function(i){this._createAnchor(i)}.bind(this)),this._createAnchor("rotater")}_createAnchor(i){var a=new Rect_1$1.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:i+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),s=this;a.on("mousedown touchstart",function($){s._handleMouseDown($)}),a.on("dragstart",$=>{a.stopDrag(),$.cancelBubble=!0}),a.on("dragend",$=>{$.cancelBubble=!0}),a.on("mouseenter",()=>{var $=Global_1$1.Konva.getAngle(this.rotation()),et=getCursor(i,$);a.getStage().content&&(a.getStage().content.style.cursor=et),this._cursorChange=!0}),a.on("mouseout",()=>{a.getStage().content&&(a.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(a)}_createBack(){var i=new Shape_1$1.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(a){var s=this.getParent(),$=s.padding();a.beginPath(),a.rect(-$,-$,this.width()+$*2,this.height()+$*2),a.moveTo(this.width()/2,-$),s.rotateEnabled()&&a.lineTo(this.width()/2,-s.rotateAnchorOffset()*Util_1$3.Util._sign(this.height())-$),a.fillStrokeShape(this)},hitFunc:(a,s)=>{if(this.shouldOverdrawWholeArea()){var $=this.padding();a.beginPath(),a.rect(-$,-$,s.width()+$*2,s.height()+$*2),a.fillStrokeShape(s)}}});this.add(i),this._proxyDrag(i),i.on("dragstart",a=>{a.cancelBubble=!0}),i.on("dragmove",a=>{a.cancelBubble=!0}),i.on("dragend",a=>{a.cancelBubble=!0}),this.on("dragmove",a=>{this.update()})}_handleMouseDown(i){this._movingAnchorName=i.target.name().split(" ")[0];var a=this._getNodeRect(),s=a.width,$=a.height,et=Math.sqrt(Math.pow(s,2)+Math.pow($,2));this.sin=Math.abs($/et),this.cos=Math.abs(s/et),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var _e=i.target.getAbsolutePosition(),rt=i.target.getStage().getPointerPosition();this._anchorDragOffset={x:rt.x-_e.x,y:rt.y-_e.y},this._fire("transformstart",{evt:i.evt,target:this.getNode()}),this._nodes.forEach(ot=>{ot._fire("transformstart",{evt:i.evt,target:ot})})}_handleMouseMove(i){var a,s,$,et=this.findOne("."+this._movingAnchorName),_e=et.getStage();_e.setPointersPositions(i);const rt=_e.getPointerPosition();let ot={x:rt.x-this._anchorDragOffset.x,y:rt.y-this._anchorDragOffset.y};const it=et.getAbsolutePosition();this.anchorDragBoundFunc()&&(ot=this.anchorDragBoundFunc()(it,ot,i)),et.setAbsolutePosition(ot);const at=et.getAbsolutePosition();if(!(it.x===at.x&&it.y===at.y)){if(this._movingAnchorName==="rotater"){var j=this._getNodeRect();a=et.x()-j.width/2,s=-et.y()+j.height/2;let Rt=Math.atan2(-s,a)+Math.PI/2;j.height<0&&(Rt-=Math.PI);var _=Global_1$1.Konva.getAngle(this.rotation());const kt=_+Rt,Lt=Global_1$1.Konva.getAngle(this.rotationSnapTolerance()),Mt=getSnap(this.rotationSnaps(),kt,Lt)-j.rotation,Vt=rotateAroundCenter(j,Mt);this._fitNodesInto(Vt,i);return}var tt=this.shiftBehavior(),nt;tt==="inverted"?nt=this.keepRatio()&&!i.shiftKey:tt==="none"?nt=this.keepRatio():nt=this.keepRatio()||i.shiftKey;var pt=this.centeredScaling()||i.altKey;if(this._movingAnchorName==="top-left"){if(nt){var st=pt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};$=Math.sqrt(Math.pow(st.x-et.x(),2)+Math.pow(st.y-et.y(),2));var dt=this.findOne(".top-left").x()>st.x?-1:1,ft=this.findOne(".top-left").y()>st.y?-1:1;a=$*this.cos*dt,s=$*this.sin*ft,this.findOne(".top-left").x(st.x-a),this.findOne(".top-left").y(st.y-s)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(et.y());else if(this._movingAnchorName==="top-right"){if(nt){var st=pt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};$=Math.sqrt(Math.pow(et.x()-st.x,2)+Math.pow(st.y-et.y(),2));var dt=this.findOne(".top-right").x()<st.x?-1:1,ft=this.findOne(".top-right").y()>st.y?-1:1;a=$*this.cos*dt,s=$*this.sin*ft,this.findOne(".top-right").x(st.x+a),this.findOne(".top-right").y(st.y-s)}var gt=et.position();this.findOne(".top-left").y(gt.y),this.findOne(".bottom-right").x(gt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(et.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(et.x());else if(this._movingAnchorName==="bottom-left"){if(nt){var st=pt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};$=Math.sqrt(Math.pow(st.x-et.x(),2)+Math.pow(et.y()-st.y,2));var dt=st.x<et.x()?-1:1,ft=et.y()<st.y?-1:1;a=$*this.cos*dt,s=$*this.sin*ft,et.x(st.x-a),et.y(st.y+s)}gt=et.position(),this.findOne(".top-left").x(gt.x),this.findOne(".bottom-right").y(gt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(et.y());else if(this._movingAnchorName==="bottom-right"){if(nt){var st=pt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};$=Math.sqrt(Math.pow(et.x()-st.x,2)+Math.pow(et.y()-st.y,2));var dt=this.findOne(".bottom-right").x()<st.x?-1:1,ft=this.findOne(".bottom-right").y()<st.y?-1:1;a=$*this.cos*dt,s=$*this.sin*ft,this.findOne(".bottom-right").x(st.x+a),this.findOne(".bottom-right").y(st.y+s)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var pt=this.centeredScaling()||i.altKey;if(pt){var mt=this.findOne(".top-left"),vt=this.findOne(".bottom-right"),yt=mt.x(),xt=mt.y(),wt=this.getWidth()-vt.x(),St=this.getHeight()-vt.y();vt.move({x:-yt,y:-xt}),mt.move({x:wt,y:St})}var Ct=this.findOne(".top-left").getAbsolutePosition();a=Ct.x,s=Ct.y;var At=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),$t=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:a,y:s,width:At,height:$t,rotation:Global_1$1.Konva.getAngle(this.rotation())},i)}}_handleMouseUp(i){this._removeEvents(i)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(i){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var a=this.getNode();this._fire("transformend",{evt:i,target:a}),a&&this._nodes.forEach(s=>{s._fire("transformend",{evt:i,target:s})}),this._movingAnchorName=null}}_fitNodesInto(i,a){var s=this._getNodeRect();const $=1;if(Util_1$3.Util._inRange(i.width,-this.padding()*2-$,$)){this.update();return}if(Util_1$3.Util._inRange(i.height,-this.padding()*2-$,$)){this.update();return}const et=this.flipEnabled();var _e=new Util_1$3.Transform;if(_e.rotate(Global_1$1.Konva.getAngle(this.rotation())),this._movingAnchorName&&i.width<0&&this._movingAnchorName.indexOf("left")>=0){const j=_e.point({x:-this.padding()*2,y:0});if(i.x+=j.x,i.y+=j.y,i.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,!et){this.update();return}}else if(this._movingAnchorName&&i.width<0&&this._movingAnchorName.indexOf("right")>=0){const j=_e.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,i.width+=this.padding()*2,!et){this.update();return}}if(this._movingAnchorName&&i.height<0&&this._movingAnchorName.indexOf("top")>=0){const j=_e.point({x:0,y:-this.padding()*2});if(i.x+=j.x,i.y+=j.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,i.height+=this.padding()*2,!et){this.update();return}}else if(this._movingAnchorName&&i.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const j=_e.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,i.height+=this.padding()*2,!et){this.update();return}}if(this.boundBoxFunc()){const j=this.boundBoxFunc()(s,i);j?i=j:Util_1$3.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const rt=1e7,ot=new Util_1$3.Transform;ot.translate(s.x,s.y),ot.rotate(s.rotation),ot.scale(s.width/rt,s.height/rt);const it=new Util_1$3.Transform;it.translate(i.x,i.y),it.rotate(i.rotation),it.scale(i.width/rt,i.height/rt);const at=it.multiply(ot.invert());this._nodes.forEach(j=>{var _;const tt=j.getParent().getAbsoluteTransform(),nt=j.getTransform().copy();nt.translate(j.offsetX(),j.offsetY());const st=new Util_1$3.Transform;st.multiply(tt.copy().invert()).multiply(at).multiply(tt).multiply(nt);const dt=st.decompose();j.setAttrs(dt),this._fire("transform",{evt:a,target:j}),j._fire("transform",{evt:a,target:j}),(_=j.getLayer())===null||_===void 0||_.batchDraw()}),this.rotation(Util_1$3.Util._getRotation(i.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(i,a){this.findOne(i).setAttrs(a)}update(){var i,a=this._getNodeRect();this.rotation(Util_1$3.Util._getRotation(a.rotation));var s=a.width,$=a.height,et=this.enabledAnchors(),_e=this.resizeEnabled(),rt=this.padding(),ot=this.anchorSize();const it=this.find("._anchor");it.forEach(j=>{j.setAttrs({width:ot,height:ot,offsetX:ot/2,offsetY:ot/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ot/2+rt,offsetY:ot/2+rt,visible:_e&&et.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:s/2,y:0,offsetY:ot/2+rt,visible:_e&&et.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:s,y:0,offsetX:ot/2-rt,offsetY:ot/2+rt,visible:_e&&et.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:$/2,offsetX:ot/2+rt,visible:_e&&et.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:s,y:$/2,offsetX:ot/2-rt,visible:_e&&et.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:$,offsetX:ot/2+rt,offsetY:ot/2-rt,visible:_e&&et.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:s/2,y:$,offsetY:ot/2-rt,visible:_e&&et.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:s,y:$,offsetX:ot/2-rt,offsetY:ot/2-rt,visible:_e&&et.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:s/2,y:-this.rotateAnchorOffset()*Util_1$3.Util._sign($)-rt,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:s,height:$,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const at=this.anchorStyleFunc();at&&it.forEach(j=>{at(j)}),(i=this.getLayer())===null||i===void 0||i.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var i=this.findOne("."+this._movingAnchorName);i&&i.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group_1.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node_1$f.Node.prototype.toObject.call(this)}clone(i){var a=Node_1$f.Node.prototype.clone.call(this,i);return a}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Transformer$1.Transformer=Transformer;function validateAnchors(o){return o instanceof Array||Util_1$3.Util.warn("enabledAnchors value should be an array"),o instanceof Array&&o.forEach(function(i){ANCHORS_NAMES.indexOf(i)===-1&&Util_1$3.Util.warn("Unknown anchor name: "+i+". Available names are: "+ANCHORS_NAMES.join(", "))}),o||[]}Transformer.prototype.className="Transformer";(0,Global_2$1._registerNode)(Transformer);Factory_1$g.Factory.addGetterSetter(Transformer,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory_1$g.Factory.addGetterSetter(Transformer,"flipEnabled",!0,(0,Validators_1$g.getBooleanValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"resizeEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorSize",10,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotateEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnaps",[]);Factory_1$g.Factory.addGetterSetter(Transformer,"rotateAnchorOffset",50,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnapTolerance",5,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"anchorFill","white");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorCornerRadius",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"borderStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderDash");Factory_1$g.Factory.addGetterSetter(Transformer,"keepRatio",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"shiftBehavior","default");Factory_1$g.Factory.addGetterSetter(Transformer,"centeredScaling",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"ignoreStroke",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"padding",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"node");Factory_1$g.Factory.addGetterSetter(Transformer,"nodes");Factory_1$g.Factory.addGetterSetter(Transformer,"boundBoxFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorDragBoundFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStyleFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"shouldOverdrawWholeArea",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"useSingleNodeRotation",!0);Factory_1$g.Factory.backCompat(Transformer,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Wedge$1={};Object.defineProperty(Wedge$1,"__esModule",{value:!0});Wedge$1.Wedge=void 0;const Factory_1$f=Factory,Shape_1=Shape,Global_1=Global,Validators_1$f=Validators,Global_2=Global;class Wedge extends Shape_1.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.radius(),0,Global_1.Konva.getAngle(this.angle()),this.clockwise()),i.lineTo(0,0),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius(i/2)}setHeight(i){this.radius(i/2)}}Wedge$1.Wedge=Wedge;Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];(0,Global_2._registerNode)(Wedge);Factory_1$f.Factory.addGetterSetter(Wedge,"radius",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"angle",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"clockwise",!1);Factory_1$f.Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Blur$1={};Object.defineProperty(Blur$1,"__esModule",{value:!0});Blur$1.Blur=void 0;const Factory_1$e=Factory,Node_1$e=Node$1,Validators_1$e=Validators;function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(o,i){var a=o.data,s=o.width,$=o.height,et,_e,rt,ot,it,at,j,_,tt,nt,st,dt,ft,gt,pt,mt,vt,yt,xt,wt,St,Ct,At,$t,Rt=i+i+1,kt=s-1,Lt=$-1,Dt=i+1,Mt=Dt*(Dt+1)/2,Vt=new BlurStack,Kt=null,Yt=Vt,Jt=null,ln=null,wn=mul_table[i],_n=shg_table[i];for(rt=1;rt<Rt;rt++)Yt=Yt.next=new BlurStack,rt===Dt&&(Kt=Yt);for(Yt.next=Vt,j=at=0,_e=0;_e<$;_e++){for(mt=vt=yt=xt=_=tt=nt=st=0,dt=Dt*(wt=a[at]),ft=Dt*(St=a[at+1]),gt=Dt*(Ct=a[at+2]),pt=Dt*(At=a[at+3]),_+=Mt*wt,tt+=Mt*St,nt+=Mt*Ct,st+=Mt*At,Yt=Vt,rt=0;rt<Dt;rt++)Yt.r=wt,Yt.g=St,Yt.b=Ct,Yt.a=At,Yt=Yt.next;for(rt=1;rt<Dt;rt++)ot=at+((kt<rt?kt:rt)<<2),_+=(Yt.r=wt=a[ot])*($t=Dt-rt),tt+=(Yt.g=St=a[ot+1])*$t,nt+=(Yt.b=Ct=a[ot+2])*$t,st+=(Yt.a=At=a[ot+3])*$t,mt+=wt,vt+=St,yt+=Ct,xt+=At,Yt=Yt.next;for(Jt=Vt,ln=Kt,et=0;et<s;et++)a[at+3]=At=st*wn>>_n,At!==0?(At=255/At,a[at]=(_*wn>>_n)*At,a[at+1]=(tt*wn>>_n)*At,a[at+2]=(nt*wn>>_n)*At):a[at]=a[at+1]=a[at+2]=0,_-=dt,tt-=ft,nt-=gt,st-=pt,dt-=Jt.r,ft-=Jt.g,gt-=Jt.b,pt-=Jt.a,ot=j+((ot=et+i+1)<kt?ot:kt)<<2,mt+=Jt.r=a[ot],vt+=Jt.g=a[ot+1],yt+=Jt.b=a[ot+2],xt+=Jt.a=a[ot+3],_+=mt,tt+=vt,nt+=yt,st+=xt,Jt=Jt.next,dt+=wt=ln.r,ft+=St=ln.g,gt+=Ct=ln.b,pt+=At=ln.a,mt-=wt,vt-=St,yt-=Ct,xt-=At,ln=ln.next,at+=4;j+=s}for(et=0;et<s;et++){for(vt=yt=xt=mt=tt=nt=st=_=0,at=et<<2,dt=Dt*(wt=a[at]),ft=Dt*(St=a[at+1]),gt=Dt*(Ct=a[at+2]),pt=Dt*(At=a[at+3]),_+=Mt*wt,tt+=Mt*St,nt+=Mt*Ct,st+=Mt*At,Yt=Vt,rt=0;rt<Dt;rt++)Yt.r=wt,Yt.g=St,Yt.b=Ct,Yt.a=At,Yt=Yt.next;for(it=s,rt=1;rt<=i;rt++)at=it+et<<2,_+=(Yt.r=wt=a[at])*($t=Dt-rt),tt+=(Yt.g=St=a[at+1])*$t,nt+=(Yt.b=Ct=a[at+2])*$t,st+=(Yt.a=At=a[at+3])*$t,mt+=wt,vt+=St,yt+=Ct,xt+=At,Yt=Yt.next,rt<Lt&&(it+=s);for(at=et,Jt=Vt,ln=Kt,_e=0;_e<$;_e++)ot=at<<2,a[ot+3]=At=st*wn>>_n,At>0?(At=255/At,a[ot]=(_*wn>>_n)*At,a[ot+1]=(tt*wn>>_n)*At,a[ot+2]=(nt*wn>>_n)*At):a[ot]=a[ot+1]=a[ot+2]=0,_-=dt,tt-=ft,nt-=gt,st-=pt,dt-=Jt.r,ft-=Jt.g,gt-=Jt.b,pt-=Jt.a,ot=et+((ot=_e+Dt)<Lt?ot:Lt)*s<<2,_+=mt+=Jt.r=a[ot],tt+=vt+=Jt.g=a[ot+1],nt+=yt+=Jt.b=a[ot+2],st+=xt+=Jt.a=a[ot+3],Jt=Jt.next,dt+=wt=ln.r,ft+=St=ln.g,gt+=Ct=ln.b,pt+=At=ln.a,mt-=wt,vt-=St,yt-=Ct,xt-=At,ln=ln.next,at+=s}}const Blur=function o(i){var a=Math.round(this.blurRadius());a>0&&filterGaussBlurRGBA(i,a)};Blur$1.Blur=Blur;Factory_1$e.Factory.addGetterSetter(Node_1$e.Node,"blurRadius",0,(0,Validators_1$e.getNumberValidator)(),Factory_1$e.Factory.afterSetFilter);var Brighten$1={};Object.defineProperty(Brighten$1,"__esModule",{value:!0});Brighten$1.Brighten=void 0;const Factory_1$d=Factory,Node_1$d=Node$1,Validators_1$d=Validators,Brighten=function(o){var i=this.brightness()*255,a=o.data,s=a.length,$;for($=0;$<s;$+=4)a[$]+=i,a[$+1]+=i,a[$+2]+=i};Brighten$1.Brighten=Brighten;Factory_1$d.Factory.addGetterSetter(Node_1$d.Node,"brightness",0,(0,Validators_1$d.getNumberValidator)(),Factory_1$d.Factory.afterSetFilter);var Contrast$1={};Object.defineProperty(Contrast$1,"__esModule",{value:!0});Contrast$1.Contrast=void 0;const Factory_1$c=Factory,Node_1$c=Node$1,Validators_1$c=Validators,Contrast=function(o){var i=Math.pow((this.contrast()+100)/100,2),a=o.data,s=a.length,$=150,et=150,_e=150,rt;for(rt=0;rt<s;rt+=4)$=a[rt],et=a[rt+1],_e=a[rt+2],$/=255,$-=.5,$*=i,$+=.5,$*=255,et/=255,et-=.5,et*=i,et+=.5,et*=255,_e/=255,_e-=.5,_e*=i,_e+=.5,_e*=255,$=$<0?0:$>255?255:$,et=et<0?0:et>255?255:et,_e=_e<0?0:_e>255?255:_e,a[rt]=$,a[rt+1]=et,a[rt+2]=_e};Contrast$1.Contrast=Contrast;Factory_1$c.Factory.addGetterSetter(Node_1$c.Node,"contrast",0,(0,Validators_1$c.getNumberValidator)(),Factory_1$c.Factory.afterSetFilter);var Emboss$1={};Object.defineProperty(Emboss$1,"__esModule",{value:!0});Emboss$1.Emboss=void 0;const Factory_1$b=Factory,Node_1$b=Node$1,Util_1$2=Util,Validators_1$b=Validators,Emboss=function(o){var i=this.embossStrength()*10,a=this.embossWhiteLevel()*255,s=this.embossDirection(),$=this.embossBlend(),et=0,_e=0,rt=o.data,ot=o.width,it=o.height,at=ot*4,j=it;switch(s){case"top-left":et=-1,_e=-1;break;case"top":et=-1,_e=0;break;case"top-right":et=-1,_e=1;break;case"right":et=0,_e=1;break;case"bottom-right":et=1,_e=1;break;case"bottom":et=1,_e=0;break;case"bottom-left":et=1,_e=-1;break;case"left":et=0,_e=-1;break;default:Util_1$2.Util.error("Unknown emboss direction: "+s)}do{var _=(j-1)*at,tt=et;j+tt<1&&(tt=0),j+tt>it&&(tt=0);var nt=(j-1+tt)*ot*4,st=ot;do{var dt=_+(st-1)*4,ft=_e;st+ft<1&&(ft=0),st+ft>ot&&(ft=0);var gt=nt+(st-1+ft)*4,pt=rt[dt]-rt[gt],mt=rt[dt+1]-rt[gt+1],vt=rt[dt+2]-rt[gt+2],yt=pt,xt=yt>0?yt:-yt,wt=mt>0?mt:-mt,St=vt>0?vt:-vt;if(wt>xt&&(yt=mt),St>xt&&(yt=vt),yt*=i,$){var Ct=rt[dt]+yt,At=rt[dt+1]+yt,$t=rt[dt+2]+yt;rt[dt]=Ct>255?255:Ct<0?0:Ct,rt[dt+1]=At>255?255:At<0?0:At,rt[dt+2]=$t>255?255:$t<0?0:$t}else{var Rt=a-yt;Rt<0?Rt=0:Rt>255&&(Rt=255),rt[dt]=rt[dt+1]=rt[dt+2]=Rt}}while(--st)}while(--j)};Emboss$1.Emboss=Emboss;Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossStrength",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossWhiteLevel",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossDirection","top-left",null,Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossBlend",!1,null,Factory_1$b.Factory.afterSetFilter);var Enhance$1={};Object.defineProperty(Enhance$1,"__esModule",{value:!0});Enhance$1.Enhance=void 0;const Factory_1$a=Factory,Node_1$a=Node$1,Validators_1$a=Validators;function remap(o,i,a,s,$){var et=a-i,_e=$-s,rt;return et===0?s+_e/2:_e===0?s:(rt=(o-i)/et,rt=_e*rt+s,rt)}const Enhance=function(o){var i=o.data,a=i.length,s=i[0],$=s,et,_e=i[1],rt=_e,ot,it=i[2],at=it,j,_,tt=this.enhance();if(tt!==0){for(_=0;_<a;_+=4)et=i[_+0],et<s?s=et:et>$&&($=et),ot=i[_+1],ot<_e?_e=ot:ot>rt&&(rt=ot),j=i[_+2],j<it?it=j:j>at&&(at=j);$===s&&($=255,s=0),rt===_e&&(rt=255,_e=0),at===it&&(at=255,it=0);var nt,st,dt,ft,gt,pt,mt,vt,yt;for(tt>0?(st=$+tt*(255-$),dt=s-tt*(s-0),gt=rt+tt*(255-rt),pt=_e-tt*(_e-0),vt=at+tt*(255-at),yt=it-tt*(it-0)):(nt=($+s)*.5,st=$+tt*($-nt),dt=s+tt*(s-nt),ft=(rt+_e)*.5,gt=rt+tt*(rt-ft),pt=_e+tt*(_e-ft),mt=(at+it)*.5,vt=at+tt*(at-mt),yt=it+tt*(it-mt)),_=0;_<a;_+=4)i[_+0]=remap(i[_+0],s,$,dt,st),i[_+1]=remap(i[_+1],_e,rt,pt,gt),i[_+2]=remap(i[_+2],it,at,yt,vt)}};Enhance$1.Enhance=Enhance;Factory_1$a.Factory.addGetterSetter(Node_1$a.Node,"enhance",0,(0,Validators_1$a.getNumberValidator)(),Factory_1$a.Factory.afterSetFilter);var Grayscale$1={};Object.defineProperty(Grayscale$1,"__esModule",{value:!0});Grayscale$1.Grayscale=void 0;const Grayscale=function(o){var i=o.data,a=i.length,s,$;for(s=0;s<a;s+=4)$=.34*i[s]+.5*i[s+1]+.16*i[s+2],i[s]=$,i[s+1]=$,i[s+2]=$};Grayscale$1.Grayscale=Grayscale;var HSL$1={};Object.defineProperty(HSL$1,"__esModule",{value:!0});HSL$1.HSL=void 0;const Factory_1$9=Factory,Node_1$9=Node$1,Validators_1$9=Validators;Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"hue",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"saturation",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"luminance",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);const HSL=function(o){var i=o.data,a=i.length,s=1,$=Math.pow(2,this.saturation()),et=Math.abs(this.hue()+360)%360,_e=this.luminance()*127,rt,ot=s*$*Math.cos(et*Math.PI/180),it=s*$*Math.sin(et*Math.PI/180),at=.299*s+.701*ot+.167*it,j=.587*s-.587*ot+.33*it,_=.114*s-.114*ot-.497*it,tt=.299*s-.299*ot-.328*it,nt=.587*s+.413*ot+.035*it,st=.114*s-.114*ot+.293*it,dt=.299*s-.3*ot+1.25*it,ft=.587*s-.586*ot-1.05*it,gt=.114*s+.886*ot-.2*it,pt,mt,vt,yt;for(rt=0;rt<a;rt+=4)pt=i[rt+0],mt=i[rt+1],vt=i[rt+2],yt=i[rt+3],i[rt+0]=at*pt+j*mt+_*vt+_e,i[rt+1]=tt*pt+nt*mt+st*vt+_e,i[rt+2]=dt*pt+ft*mt+gt*vt+_e,i[rt+3]=yt};HSL$1.HSL=HSL;var HSV$1={};Object.defineProperty(HSV$1,"__esModule",{value:!0});HSV$1.HSV=void 0;const Factory_1$8=Factory,Node_1$8=Node$1,Validators_1$8=Validators,HSV=function(o){var i=o.data,a=i.length,s=Math.pow(2,this.value()),$=Math.pow(2,this.saturation()),et=Math.abs(this.hue()+360)%360,_e,rt=s*$*Math.cos(et*Math.PI/180),ot=s*$*Math.sin(et*Math.PI/180),it=.299*s+.701*rt+.167*ot,at=.587*s-.587*rt+.33*ot,j=.114*s-.114*rt-.497*ot,_=.299*s-.299*rt-.328*ot,tt=.587*s+.413*rt+.035*ot,nt=.114*s-.114*rt+.293*ot,st=.299*s-.3*rt+1.25*ot,dt=.587*s-.586*rt-1.05*ot,ft=.114*s+.886*rt-.2*ot,gt,pt,mt,vt;for(_e=0;_e<a;_e+=4)gt=i[_e+0],pt=i[_e+1],mt=i[_e+2],vt=i[_e+3],i[_e+0]=it*gt+at*pt+j*mt,i[_e+1]=_*gt+tt*pt+nt*mt,i[_e+2]=st*gt+dt*pt+ft*mt,i[_e+3]=vt};HSV$1.HSV=HSV;Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"hue",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"saturation",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"value",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);var Invert$1={};Object.defineProperty(Invert$1,"__esModule",{value:!0});Invert$1.Invert=void 0;const Invert=function(o){var i=o.data,a=i.length,s;for(s=0;s<a;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2]};Invert$1.Invert=Invert;var Kaleidoscope$1={};Object.defineProperty(Kaleidoscope$1,"__esModule",{value:!0});Kaleidoscope$1.Kaleidoscope=void 0;const Factory_1$7=Factory,Node_1$7=Node$1,Util_1$1=Util,Validators_1$7=Validators;var ToPolar=function(o,i,a){var s=o.data,$=i.data,et=o.width,_e=o.height,rt=a.polarCenterX||et/2,ot=a.polarCenterY||_e/2,it,at,j,_=0,tt=0,nt=0,st=0,dt,ft=Math.sqrt(rt*rt+ot*ot);at=et-rt,j=_e-ot,dt=Math.sqrt(at*at+j*j),ft=dt>ft?dt:ft;var gt=_e,pt=et,mt,vt,yt=360/pt*Math.PI/180,xt,wt;for(vt=0;vt<pt;vt+=1)for(xt=Math.sin(vt*yt),wt=Math.cos(vt*yt),mt=0;mt<gt;mt+=1)at=Math.floor(rt+ft*mt/gt*wt),j=Math.floor(ot+ft*mt/gt*xt),it=(j*et+at)*4,_=s[it+0],tt=s[it+1],nt=s[it+2],st=s[it+3],it=(vt+mt*et)*4,$[it+0]=_,$[it+1]=tt,$[it+2]=nt,$[it+3]=st},FromPolar=function(o,i,a){var s=o.data,$=i.data,et=o.width,_e=o.height,rt=a.polarCenterX||et/2,ot=a.polarCenterY||_e/2,it,at,j,_,tt,nt=0,st=0,dt=0,ft=0,gt,pt=Math.sqrt(rt*rt+ot*ot);at=et-rt,j=_e-ot,gt=Math.sqrt(at*at+j*j),pt=gt>pt?gt:pt;var mt=_e,vt=et,yt,xt,wt=a.polarRotation||0,St,Ct;for(at=0;at<et;at+=1)for(j=0;j<_e;j+=1)_=at-rt,tt=j-ot,yt=Math.sqrt(_*_+tt*tt)*mt/pt,xt=(Math.atan2(tt,_)*180/Math.PI+360+wt)%360,xt=xt*vt/360,St=Math.floor(xt),Ct=Math.floor(yt),it=(Ct*et+St)*4,nt=s[it+0],st=s[it+1],dt=s[it+2],ft=s[it+3],it=(j*et+at)*4,$[it+0]=nt,$[it+1]=st,$[it+2]=dt,$[it+3]=ft};const Kaleidoscope=function(o){var i=o.width,a=o.height,s,$,et,_e,rt,ot,it,at,j,_,tt=Math.round(this.kaleidoscopePower()),nt=Math.round(this.kaleidoscopeAngle()),st=Math.floor(i*(nt%360)/360);if(!(tt<1)){var dt=Util_1$1.Util.createCanvasElement();dt.width=i,dt.height=a;var ft=dt.getContext("2d").getImageData(0,0,i,a);Util_1$1.Util.releaseCanvas(dt),ToPolar(o,ft,{polarCenterX:i/2,polarCenterY:a/2});for(var gt=i/Math.pow(2,tt);gt<=8;)gt=gt*2,tt-=1;gt=Math.ceil(gt);var pt=gt,mt=0,vt=pt,yt=1;for(st+gt>i&&(mt=pt,vt=0,yt=-1),$=0;$<a;$+=1)for(s=mt;s!==vt;s+=yt)et=Math.round(s+st)%i,j=(i*$+et)*4,rt=ft.data[j+0],ot=ft.data[j+1],it=ft.data[j+2],at=ft.data[j+3],_=(i*$+s)*4,ft.data[_+0]=rt,ft.data[_+1]=ot,ft.data[_+2]=it,ft.data[_+3]=at;for($=0;$<a;$+=1)for(pt=Math.floor(gt),_e=0;_e<tt;_e+=1){for(s=0;s<pt+1;s+=1)j=(i*$+s)*4,rt=ft.data[j+0],ot=ft.data[j+1],it=ft.data[j+2],at=ft.data[j+3],_=(i*$+pt*2-s-1)*4,ft.data[_+0]=rt,ft.data[_+1]=ot,ft.data[_+2]=it,ft.data[_+3]=at;pt*=2}FromPolar(ft,o,{polarRotation:0})}};Kaleidoscope$1.Kaleidoscope=Kaleidoscope;Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopePower",2,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopeAngle",0,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);var Mask$1={};Object.defineProperty(Mask$1,"__esModule",{value:!0});Mask$1.Mask=void 0;const Factory_1$6=Factory,Node_1$6=Node$1,Validators_1$6=Validators;function pixelAt(o,i,a){var s=(a*o.width+i)*4,$=[];return $.push(o.data[s++],o.data[s++],o.data[s++],o.data[s++]),$}function rgbDistance(o,i){return Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)+Math.pow(o[2]-i[2],2))}function rgbMean(o){for(var i=[0,0,0],a=0;a<o.length;a++)i[0]+=o[a][0],i[1]+=o[a][1],i[2]+=o[a][2];return i[0]/=o.length,i[1]/=o.length,i[2]/=o.length,i}function backgroundMask(o,i){var a=pixelAt(o,0,0),s=pixelAt(o,o.width-1,0),$=pixelAt(o,0,o.height-1),et=pixelAt(o,o.width-1,o.height-1),_e=i||10;if(rgbDistance(a,s)<_e&&rgbDistance(s,et)<_e&&rgbDistance(et,$)<_e&&rgbDistance($,a)<_e){for(var rt=rgbMean([s,a,et,$]),ot=[],it=0;it<o.width*o.height;it++){var at=rgbDistance(rt,[o.data[it*4],o.data[it*4+1],o.data[it*4+2]]);ot[it]=at<_e?0:255}return ot}}function applyMask(o,i){for(var a=0;a<o.width*o.height;a++)o.data[4*a+3]=i[a]}function erodeMask(o,i,a){for(var s=[1,1,1,1,0,1,1,1,1],$=Math.round(Math.sqrt(s.length)),et=Math.floor($/2),_e=[],rt=0;rt<a;rt++)for(var ot=0;ot<i;ot++){for(var it=rt*i+ot,at=0,j=0;j<$;j++)for(var _=0;_<$;_++){var tt=rt+j-et,nt=ot+_-et;if(tt>=0&&tt<a&&nt>=0&&nt<i){var st=tt*i+nt,dt=s[j*$+_];at+=o[st]*dt}}_e[it]=at===255*8?255:0}return _e}function dilateMask(o,i,a){for(var s=[1,1,1,1,1,1,1,1,1],$=Math.round(Math.sqrt(s.length)),et=Math.floor($/2),_e=[],rt=0;rt<a;rt++)for(var ot=0;ot<i;ot++){for(var it=rt*i+ot,at=0,j=0;j<$;j++)for(var _=0;_<$;_++){var tt=rt+j-et,nt=ot+_-et;if(tt>=0&&tt<a&&nt>=0&&nt<i){var st=tt*i+nt,dt=s[j*$+_];at+=o[st]*dt}}_e[it]=at>=255*4?255:0}return _e}function smoothEdgeMask(o,i,a){for(var s=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],$=Math.round(Math.sqrt(s.length)),et=Math.floor($/2),_e=[],rt=0;rt<a;rt++)for(var ot=0;ot<i;ot++){for(var it=rt*i+ot,at=0,j=0;j<$;j++)for(var _=0;_<$;_++){var tt=rt+j-et,nt=ot+_-et;if(tt>=0&&tt<a&&nt>=0&&nt<i){var st=tt*i+nt,dt=s[j*$+_];at+=o[st]*dt}}_e[it]=at}return _e}const Mask=function(o){var i=this.threshold(),a=backgroundMask(o,i);return a&&(a=erodeMask(a,o.width,o.height),a=dilateMask(a,o.width,o.height),a=smoothEdgeMask(a,o.width,o.height),applyMask(o,a)),o};Mask$1.Mask=Mask;Factory_1$6.Factory.addGetterSetter(Node_1$6.Node,"threshold",0,(0,Validators_1$6.getNumberValidator)(),Factory_1$6.Factory.afterSetFilter);var Noise$1={};Object.defineProperty(Noise$1,"__esModule",{value:!0});Noise$1.Noise=void 0;const Factory_1$5=Factory,Node_1$5=Node$1,Validators_1$5=Validators,Noise=function(o){var i=this.noise()*255,a=o.data,s=a.length,$=i/2,et;for(et=0;et<s;et+=4)a[et+0]+=$-2*$*Math.random(),a[et+1]+=$-2*$*Math.random(),a[et+2]+=$-2*$*Math.random()};Noise$1.Noise=Noise;Factory_1$5.Factory.addGetterSetter(Node_1$5.Node,"noise",.2,(0,Validators_1$5.getNumberValidator)(),Factory_1$5.Factory.afterSetFilter);var Pixelate$1={};Object.defineProperty(Pixelate$1,"__esModule",{value:!0});Pixelate$1.Pixelate=void 0;const Factory_1$4=Factory,Util_1=Util,Node_1$4=Node$1,Validators_1$4=Validators,Pixelate=function(o){var i=Math.ceil(this.pixelSize()),a=o.width,s=o.height,$,et,_e,rt,ot,it,at,j=Math.ceil(a/i),_=Math.ceil(s/i),tt,nt,st,dt,ft,gt,pt,mt=o.data;if(i<=0){Util_1.Util.error("pixelSize value can not be <= 0");return}for(ft=0;ft<j;ft+=1)for(gt=0;gt<_;gt+=1){for(rt=0,ot=0,it=0,at=0,tt=ft*i,nt=tt+i,st=gt*i,dt=st+i,pt=0,$=tt;$<nt;$+=1)if(!($>=a))for(et=st;et<dt;et+=1)et>=s||(_e=(a*et+$)*4,rt+=mt[_e+0],ot+=mt[_e+1],it+=mt[_e+2],at+=mt[_e+3],pt+=1);for(rt=rt/pt,ot=ot/pt,it=it/pt,at=at/pt,$=tt;$<nt;$+=1)if(!($>=a))for(et=st;et<dt;et+=1)et>=s||(_e=(a*et+$)*4,mt[_e+0]=rt,mt[_e+1]=ot,mt[_e+2]=it,mt[_e+3]=at)}};Pixelate$1.Pixelate=Pixelate;Factory_1$4.Factory.addGetterSetter(Node_1$4.Node,"pixelSize",8,(0,Validators_1$4.getNumberValidator)(),Factory_1$4.Factory.afterSetFilter);var Posterize$1={};Object.defineProperty(Posterize$1,"__esModule",{value:!0});Posterize$1.Posterize=void 0;const Factory_1$3=Factory,Node_1$3=Node$1,Validators_1$3=Validators,Posterize=function(o){var i=Math.round(this.levels()*254)+1,a=o.data,s=a.length,$=255/i,et;for(et=0;et<s;et+=1)a[et]=Math.floor(a[et]/$)*$};Posterize$1.Posterize=Posterize;Factory_1$3.Factory.addGetterSetter(Node_1$3.Node,"levels",.5,(0,Validators_1$3.getNumberValidator)(),Factory_1$3.Factory.afterSetFilter);var RGB$1={};Object.defineProperty(RGB$1,"__esModule",{value:!0});RGB$1.RGB=void 0;const Factory_1$2=Factory,Node_1$2=Node$1,Validators_1$2=Validators,RGB=function(o){var i=o.data,a=i.length,s=this.red(),$=this.green(),et=this.blue(),_e,rt;for(_e=0;_e<a;_e+=4)rt=(.34*i[_e]+.5*i[_e+1]+.16*i[_e+2])/255,i[_e]=rt*s,i[_e+1]=rt*$,i[_e+2]=rt*et,i[_e+3]=i[_e+3]};RGB$1.RGB=RGB;Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"blue",0,Validators_1$2.RGBComponent,Factory_1$2.Factory.afterSetFilter);var RGBA$1={};Object.defineProperty(RGBA$1,"__esModule",{value:!0});RGBA$1.RGBA=void 0;const Factory_1$1=Factory,Node_1$1=Node$1,Validators_1$1=Validators,RGBA=function(o){var i=o.data,a=i.length,s=this.red(),$=this.green(),et=this.blue(),_e=this.alpha(),rt,ot;for(rt=0;rt<a;rt+=4)ot=1-_e,i[rt]=s*_e+i[rt]*ot,i[rt+1]=$*_e+i[rt+1]*ot,i[rt+2]=et*_e+i[rt+2]*ot};RGBA$1.RGBA=RGBA;Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"blue",0,Validators_1$1.RGBComponent,Factory_1$1.Factory.afterSetFilter);Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"alpha",1,function(o){return this._filterUpToDate=!1,o>1?1:o<0?0:o});var Sepia$1={};Object.defineProperty(Sepia$1,"__esModule",{value:!0});Sepia$1.Sepia=void 0;const Sepia=function(o){var i=o.data,a=i.length,s,$,et,_e;for(s=0;s<a;s+=4)$=i[s+0],et=i[s+1],_e=i[s+2],i[s+0]=Math.min(255,$*.393+et*.769+_e*.189),i[s+1]=Math.min(255,$*.349+et*.686+_e*.168),i[s+2]=Math.min(255,$*.272+et*.534+_e*.131)};Sepia$1.Sepia=Sepia;var Solarize$1={};Object.defineProperty(Solarize$1,"__esModule",{value:!0});Solarize$1.Solarize=void 0;const Solarize=function(o){var i=o.data,a=o.width,s=o.height,$=a*4,et=s;do{var _e=(et-1)*$,rt=a;do{var ot=_e+(rt-1)*4,it=i[ot],at=i[ot+1],j=i[ot+2];it>127&&(it=255-it),at>127&&(at=255-at),j>127&&(j=255-j),i[ot]=it,i[ot+1]=at,i[ot+2]=j}while(--rt)}while(--et)};Solarize$1.Solarize=Solarize;var Threshold$1={};Object.defineProperty(Threshold$1,"__esModule",{value:!0});Threshold$1.Threshold=void 0;const Factory_1=Factory,Node_1=Node$1,Validators_1=Validators,Threshold=function(o){var i=this.threshold()*255,a=o.data,s=a.length,$;for($=0;$<s;$+=1)a[$]=a[$]<i?0:255};Threshold$1.Threshold=Threshold;Factory_1.Factory.addGetterSetter(Node_1.Node,"threshold",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter);Object.defineProperty(_FullInternals,"__esModule",{value:!0});_FullInternals.Konva=void 0;const _CoreInternals_1=_CoreInternals,Arc_1=Arc$1,Arrow_1=Arrow$1,Circle_1=Circle$2,Ellipse_1=Ellipse$1,Image_1=Image$3,Label_1=Label$1,Line_1=Line$1,Path_1=Path$2,Rect_1=Rect$2,RegularPolygon_1=RegularPolygon$1,Ring_1=Ring$2,Sprite_1=Sprite$1,Star_1=Star$1,Text_1=Text$1,TextPath_1=TextPath$1,Transformer_1=Transformer$1,Wedge_1=Wedge$1,Blur_1=Blur$1,Brighten_1=Brighten$1,Contrast_1=Contrast$1,Emboss_1=Emboss$1,Enhance_1=Enhance$1,Grayscale_1=Grayscale$1,HSL_1=HSL$1,HSV_1=HSV$1,Invert_1=Invert$1,Kaleidoscope_1=Kaleidoscope$1,Mask_1=Mask$1,Noise_1=Noise$1,Pixelate_1=Pixelate$1,Posterize_1=Posterize$1,RGB_1=RGB$1,RGBA_1=RGBA$1,Sepia_1=Sepia$1,Solarize_1=Solarize$1,Threshold_1=Threshold$1;_FullInternals.Konva=_CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva,{Arc:Arc_1.Arc,Arrow:Arrow_1.Arrow,Circle:Circle_1.Circle,Ellipse:Ellipse_1.Ellipse,Image:Image_1.Image,Label:Label_1.Label,Tag:Label_1.Tag,Line:Line_1.Line,Path:Path_1.Path,Rect:Rect_1.Rect,RegularPolygon:RegularPolygon_1.RegularPolygon,Ring:Ring_1.Ring,Sprite:Sprite_1.Sprite,Star:Star_1.Star,Text:Text_1.Text,TextPath:TextPath_1.TextPath,Transformer:Transformer_1.Transformer,Wedge:Wedge_1.Wedge,Filters:{Blur:Blur_1.Blur,Brighten:Brighten_1.Brighten,Contrast:Contrast_1.Contrast,Emboss:Emboss_1.Emboss,Enhance:Enhance_1.Enhance,Grayscale:Grayscale_1.Grayscale,HSL:HSL_1.HSL,HSV:HSV_1.HSV,Invert:Invert_1.Invert,Kaleidoscope:Kaleidoscope_1.Kaleidoscope,Mask:Mask_1.Mask,Noise:Noise_1.Noise,Pixelate:Pixelate_1.Pixelate,Posterize:Posterize_1.Posterize,RGB:RGB_1.RGB,RGBA:RGBA_1.RGBA,Sepia:Sepia_1.Sepia,Solarize:Solarize_1.Solarize,Threshold:Threshold_1.Threshold}});var lib=lib$1.exports;Object.defineProperty(lib,"__esModule",{value:!0});const _FullInternals_1=_FullInternals;lib$1.exports=_FullInternals_1.Konva;var libExports=lib$1.exports;const Konva$1=getDefaultExportFromCjs(libExports);var Core={exports:{}};(function(o,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;var a=_CoreInternals;Object.defineProperty(i,"Konva",{enumerable:!0,get:function(){return a.Konva}});const s=_CoreInternals;o.exports=s.Konva})(Core,Core.exports);var CoreExports=Core.exports;const Konva=getDefaultExportFromCjs(CoreExports);var reactReconciler={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function o(i){var a={},s=reactExports,$=schedulerExports,et=Object.assign;function _e(ut){for(var ct="https://reactjs.org/docs/error-decoder.html?invariant="+ut,_t=1;_t<arguments.length;_t++)ct+="&args[]="+encodeURIComponent(arguments[_t]);return"Minified React error #"+ut+"; visit "+ct+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rt=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ot=Symbol.for("react.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),nt=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),vt=Symbol.iterator;function yt(ut){return ut===null||typeof ut!="object"?null:(ut=vt&&ut[vt]||ut["@@iterator"],typeof ut=="function"?ut:null)}function xt(ut){if(ut==null)return null;if(typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case at:return"Fragment";case it:return"Portal";case _:return"Profiler";case j:return"StrictMode";case dt:return"Suspense";case ft:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case nt:return(ut.displayName||"Context")+".Consumer";case tt:return(ut._context.displayName||"Context")+".Provider";case st:var ct=ut.render;return ut=ut.displayName,ut||(ut=ct.displayName||ct.name||"",ut=ut!==""?"ForwardRef("+ut+")":"ForwardRef"),ut;case gt:return ct=ut.displayName||null,ct!==null?ct:xt(ut.type)||"Memo";case pt:ct=ut._payload,ut=ut._init;try{return xt(ut(ct))}catch{}}return null}function wt(ut){var ct=ut.type;switch(ut.tag){case 24:return"Cache";case 9:return(ct.displayName||"Context")+".Consumer";case 10:return(ct._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ut=ct.render,ut=ut.displayName||ut.name||"",ct.displayName||(ut!==""?"ForwardRef("+ut+")":"ForwardRef");case 7:return"Fragment";case 5:return ct;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xt(ct);case 8:return ct===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ct=="function")return ct.displayName||ct.name||null;if(typeof ct=="string")return ct}return null}function St(ut){var ct=ut,_t=ut;if(ut.alternate)for(;ct.return;)ct=ct.return;else{ut=ct;do ct=ut,ct.flags&4098&&(_t=ct.return),ut=ct.return;while(ut)}return ct.tag===3?_t:null}function Ct(ut){if(St(ut)!==ut)throw Error(_e(188))}function At(ut){var ct=ut.alternate;if(!ct){if(ct=St(ut),ct===null)throw Error(_e(188));return ct!==ut?null:ut}for(var _t=ut,Et=ct;;){var Tt=_t.return;if(Tt===null)break;var Ot=Tt.alternate;if(Ot===null){if(Et=Tt.return,Et!==null){_t=Et;continue}break}if(Tt.child===Ot.child){for(Ot=Tt.child;Ot;){if(Ot===_t)return Ct(Tt),ut;if(Ot===Et)return Ct(Tt),ct;Ot=Ot.sibling}throw Error(_e(188))}if(_t.return!==Et.return)_t=Tt,Et=Ot;else{for(var zt=!1,nn=Tt.child;nn;){if(nn===_t){zt=!0,_t=Tt,Et=Ot;break}if(nn===Et){zt=!0,Et=Tt,_t=Ot;break}nn=nn.sibling}if(!zt){for(nn=Ot.child;nn;){if(nn===_t){zt=!0,_t=Ot,Et=Tt;break}if(nn===Et){zt=!0,Et=Ot,_t=Tt;break}nn=nn.sibling}if(!zt)throw Error(_e(189))}}if(_t.alternate!==Et)throw Error(_e(190))}if(_t.tag!==3)throw Error(_e(188));return _t.stateNode.current===_t?ut:ct}function $t(ut){return ut=At(ut),ut!==null?Rt(ut):null}function Rt(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){var ct=Rt(ut);if(ct!==null)return ct;ut=ut.sibling}return null}function kt(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){if(ut.tag!==4){var ct=kt(ut);if(ct!==null)return ct}ut=ut.sibling}return null}var Lt=Array.isArray,Dt=i.getPublicInstance,Mt=i.getRootHostContext,Vt=i.getChildHostContext,Kt=i.prepareForCommit,Yt=i.resetAfterCommit,Jt=i.createInstance,ln=i.appendInitialChild,wn=i.finalizeInitialChildren,_n=i.prepareUpdate,kn=i.shouldSetTextContent,Cn=i.createTextInstance,Ht=i.scheduleTimeout,cn=i.cancelTimeout,gn=i.noTimeout,jn=i.isPrimaryRenderer,xn=i.supportsMutation,Bn=i.supportsPersistence,Mn=i.supportsHydration,Zn=i.getInstanceFromNode,Fn=i.preparePortalMount,wr=i.getCurrentEventPriority,Jn=i.detachDeletedInstance,dr=i.supportsMicrotasks,or=i.scheduleMicrotask,Gn=i.supportsTestSelectors,rr=i.findFiberRoot,Qn=i.getBoundingRect,ar=i.getTextContent,On=i.isHiddenSubtree,Nn=i.matchAccessibilityRole,pr=i.setFocusIfFocusable,lr=i.setupIntersectionObserver,Tr=i.appendChild,Br=i.appendChildToContainer,jr=i.commitTextUpdate,Jr=i.commitMount,Xn=i.commitUpdate,Ft=i.insertBefore,Bt=i.insertInContainerBefore,Gt=i.removeChild,Qt=i.removeChildFromContainer,en=i.resetTextContent,sn=i.hideInstance,un=i.hideTextInstance,hn=i.unhideInstance,Sn=i.unhideTextInstance,$n=i.clearContainer,In=i.cloneInstance,Ln=i.createContainerChildSet,ir=i.appendChildToContainerChildSet,rn=i.finalizeContainerChildren,Hn=i.replaceContainerChildren,sr=i.cloneHiddenInstance,Gr=i.cloneHiddenTextInstance,Hr=i.canHydrateInstance,oo=i.canHydrateTextInstance,go=i.canHydrateSuspenseInstance,mo=i.isSuspenseInstancePending,fr=i.isSuspenseInstanceFallback,yr=i.getSuspenseInstanceFallbackErrorDetails,_r=i.registerSuspenseInstanceRetry,er=i.getNextHydratableSibling,Rr=i.getFirstHydratableChild,Do=i.getFirstHydratableChildWithinContainer,tr=i.getFirstHydratableChildWithinSuspenseInstance,Eo=i.hydrateInstance,Mo=i.hydrateTextInstance,vo=i.hydrateSuspenseInstance,us=i.getNextHydratableInstanceAfterSuspenseInstance,nu=i.commitHydratedContainer,ru=i.commitHydratedSuspenseInstance,xu=i.clearSuspenseBoundary,Vs=i.clearSuspenseBoundaryFromContainer,Cs=i.shouldDeleteUnhydratedTailInstances,_0=i.didNotMatchHydratedContainerTextInstance,iu=i.didNotMatchHydratedTextInstance,Il;function Dl(ut){if(Il===void 0)try{throw Error()}catch(_t){var ct=_t.stack.trim().match(/\n( *(at )?)/);Il=ct&&ct[1]||""}return`
`+Il+ut}var wu=!1;function ou(ut,ct){if(!ut||wu)return"";wu=!0;var _t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ct)if(ct=function(){throw Error()},Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Rn){var Et=Rn}Reflect.construct(ut,[],ct)}else{try{ct.call()}catch(Rn){Et=Rn}ut.call(ct.prototype)}else{try{throw Error()}catch(Rn){Et=Rn}ut()}}catch(Rn){if(Rn&&Et&&typeof Rn.stack=="string"){for(var Tt=Rn.stack.split(`
`),Ot=Et.stack.split(`
`),zt=Tt.length-1,nn=Ot.length-1;1<=zt&&0<=nn&&Tt[zt]!==Ot[nn];)nn--;for(;1<=zt&&0<=nn;zt--,nn--)if(Tt[zt]!==Ot[nn]){if(zt!==1||nn!==1)do if(zt--,nn--,0>nn||Tt[zt]!==Ot[nn]){var dn=`
`+Tt[zt].replace(" at new "," at ");return ut.displayName&&dn.includes("<anonymous>")&&(dn=dn.replace("<anonymous>",ut.displayName)),dn}while(1<=zt&&0<=nn);break}}}finally{wu=!1,Error.prepareStackTrace=_t}return(ut=ut?ut.displayName||ut.name:"")?Dl(ut):""}var Ip=Object.prototype.hasOwnProperty,Su=[],Ps=-1;function cs(ut){return{current:ut}}function Wr(ut){0>Ps||(ut.current=Su[Ps],Su[Ps]=null,Ps--)}function zr(ut,ct){Ps++,Su[Ps]=ut.current,ut.current=ct}var ds={},yo=cs(ds),To=cs(!1),fs=ds;function Zs(ut,ct){var _t=ut.type.contextTypes;if(!_t)return ds;var Et=ut.stateNode;if(Et&&Et.__reactInternalMemoizedUnmaskedChildContext===ct)return Et.__reactInternalMemoizedMaskedChildContext;var Tt={},Ot;for(Ot in _t)Tt[Ot]=ct[Ot];return Et&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=ct,ut.__reactInternalMemoizedMaskedChildContext=Tt),Tt}function Co(ut){return ut=ut.childContextTypes,ut!=null}function hs(){Wr(To),Wr(yo)}function au(ut,ct,_t){if(yo.current!==ds)throw Error(_e(168));zr(yo,ct),zr(To,_t)}function _h(ut,ct,_t){var Et=ut.stateNode;if(ct=ct.childContextTypes,typeof Et.getChildContext!="function")return _t;Et=Et.getChildContext();for(var Tt in Et)if(!(Tt in ct))throw Error(_e(108,wt(ut)||"Unknown",Tt));return et({},_t,Et)}function jt(ut){return ut=(ut=ut.stateNode)&&ut.__reactInternalMemoizedMergedChildContext||ds,fs=yo.current,zr(yo,ut),zr(To,To.current),!0}function qt(ut,ct,_t){var Et=ut.stateNode;if(!Et)throw Error(_e(169));_t?(ut=_h(ut,ct,fs),Et.__reactInternalMemoizedMergedChildContext=ut,Wr(To),Wr(yo),zr(yo,ut)):Wr(To),zr(To,_t)}var Zt=Math.clz32?Math.clz32:zn,mn=Math.log,Dn=Math.LN2;function zn(ut){return ut>>>=0,ut===0?32:31-(mn(ut)/Dn|0)|0}var gr=64,Xr=4194304;function Xo(ut){switch(ut&-ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ut}}function uo(ut,ct){var _t=ut.pendingLanes;if(_t===0)return 0;var Et=0,Tt=ut.suspendedLanes,Ot=ut.pingedLanes,zt=_t&268435455;if(zt!==0){var nn=zt&~Tt;nn!==0?Et=Xo(nn):(Ot&=zt,Ot!==0&&(Et=Xo(Ot)))}else zt=_t&~Tt,zt!==0?Et=Xo(zt):Ot!==0&&(Et=Xo(Ot));if(Et===0)return 0;if(ct!==0&&ct!==Et&&!(ct&Tt)&&(Tt=Et&-Et,Ot=ct&-ct,Tt>=Ot||Tt===16&&(Ot&4194240)!==0))return ct;if(Et&4&&(Et|=_t&16),ct=ut.entangledLanes,ct!==0)for(ut=ut.entanglements,ct&=Et;0<ct;)_t=31-Zt(ct),Tt=1<<_t,Et|=ut[_t],ct&=~Tt;return Et}function Vo(ut,ct){switch(ut){case 1:case 2:case 4:return ct+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ct+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(ut,ct){for(var _t=ut.suspendedLanes,Et=ut.pingedLanes,Tt=ut.expirationTimes,Ot=ut.pendingLanes;0<Ot;){var zt=31-Zt(Ot),nn=1<<zt,dn=Tt[zt];dn===-1?(!(nn&_t)||nn&Et)&&(Tt[zt]=Vo(nn,ct)):dn<=ct&&(ut.expiredLanes|=nn),Ot&=~nn}}function su(ut){return ut=ut.pendingLanes&-1073741825,ut!==0?ut:ut&1073741824?1073741824:0}function bn(){var ut=gr;return gr<<=1,!(gr&4194240)&&(gr=64),ut}function Pr(ut){for(var ct=[],_t=0;31>_t;_t++)ct.push(ut);return ct}function Qr(ut,ct,_t){ut.pendingLanes|=ct,ct!==536870912&&(ut.suspendedLanes=0,ut.pingedLanes=0),ut=ut.eventTimes,ct=31-Zt(ct),ut[ct]=_t}function Js(ut,ct){var _t=ut.pendingLanes&~ct;ut.pendingLanes=ct,ut.suspendedLanes=0,ut.pingedLanes=0,ut.expiredLanes&=ct,ut.mutableReadLanes&=ct,ut.entangledLanes&=ct,ct=ut.entanglements;var Et=ut.eventTimes;for(ut=ut.expirationTimes;0<_t;){var Tt=31-Zt(_t),Ot=1<<Tt;ct[Tt]=0,Et[Tt]=-1,ut[Tt]=-1,_t&=~Ot}}function Eu(ut,ct){var _t=ut.entangledLanes|=ct;for(ut=ut.entanglements;_t;){var Et=31-Zt(_t),Tt=1<<Et;Tt&ct|ut[Et]&ct&&(ut[Et]|=ct),_t&=~Tt}}var Fr=0;function mm(ut){return ut&=-ut,1<ut?4<ut?ut&268435455?16:536870912:4:1}var b0=$.unstable_scheduleCallback,vm=$.unstable_cancelCallback,o1=$.unstable_shouldYield,x0=$.unstable_requestPaint,Fo=$.unstable_now,w0=$.unstable_ImmediatePriority,a1=$.unstable_UserBlockingPriority,S0=$.unstable_NormalPriority,s1=$.unstable_IdlePriority,Kr=null,Ir=null;function l1(ut){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Kr,ut,void 0,(ut.current.flags&128)===128)}catch{}}function u1(ut,ct){return ut===ct&&(ut!==0||1/ut===1/ct)||ut!==ut&&ct!==ct}var As=typeof Object.is=="function"?Object.is:u1,yl=null,Dp=!1,E0=!1;function T0(ut){yl===null?yl=[ut]:yl.push(ut)}function c1(ut){Dp=!0,T0(ut)}function _i(){if(!E0&&yl!==null){E0=!0;var ut=0,ct=Fr;try{var _t=yl;for(Fr=1;ut<_t.length;ut++){var Et=_t[ut];do Et=Et(!0);while(Et!==null)}yl=null,Dp=!1}catch(Tt){throw yl!==null&&(yl=yl.slice(ut+1)),b0(w0,_i),Tt}finally{Fr=ct,E0=!1}}return null}var Ml=[],ps=0,tp=null,Tu=0,ao=[],ts=0,Fl=null,Bs=1,Gs="";function Nl(ut,ct){Ml[ps++]=Tu,Ml[ps++]=tp,tp=ut,Tu=ct}function C0(ut,ct,_t){ao[ts++]=Bs,ao[ts++]=Gs,ao[ts++]=Fl,Fl=ut;var Et=Bs;ut=Gs;var Tt=32-Zt(Et)-1;Et&=~(1<<Tt),_t+=1;var Ot=32-Zt(ct)+Tt;if(30<Ot){var zt=Tt-Tt%5;Ot=(Et&(1<<zt)-1).toString(32),Et>>=zt,Tt-=zt,Bs=1<<32-Zt(ct)+Tt|_t<<Tt|Et,Gs=Ot+ut}else Bs=1<<Ot|_t<<Tt|Et,Gs=ut}function Qo(ut){ut.return!==null&&(Nl(ut,1),C0(ut,1,0))}function P0(ut){for(;ut===tp;)tp=Ml[--ps],Ml[ps]=null,Tu=Ml[--ps],Ml[ps]=null;for(;ut===Fl;)Fl=ao[--ts],ao[ts]=null,Gs=ao[--ts],ao[ts]=null,Bs=ao[--ts],ao[ts]=null}var ro=null,gs=null,eo=!1,ms=!1,xa=null;function Mp(ut,ct){var _t=xs(5,null,null,0);_t.elementType="DELETED",_t.stateNode=ct,_t.return=ut,ct=ut.deletions,ct===null?(ut.deletions=[_t],ut.flags|=16):ct.push(_t)}function to(ut,ct){switch(ut.tag){case 5:return ct=Hr(ct,ut.type,ut.pendingProps),ct!==null?(ut.stateNode=ct,ro=ut,gs=Rr(ct),!0):!1;case 6:return ct=oo(ct,ut.pendingProps),ct!==null?(ut.stateNode=ct,ro=ut,gs=null,!0):!1;case 13:if(ct=go(ct),ct!==null){var _t=Fl!==null?{id:Bs,overflow:Gs}:null;return ut.memoizedState={dehydrated:ct,treeContext:_t,retryLane:1073741824},_t=xs(18,null,null,0),_t.stateNode=ct,_t.return=ut,ut.child=_t,ro=ut,gs=null,!0}return!1;default:return!1}}function Hs(ut){return(ut.mode&1)!==0&&(ut.flags&128)===0}function np(ut){if(eo){var ct=gs;if(ct){var _t=ct;if(!to(ut,ct)){if(Hs(ut))throw Error(_e(418));ct=er(_t);var Et=ro;ct&&to(ut,ct)?Mp(Et,_t):(ut.flags=ut.flags&-4097|2,eo=!1,ro=ut)}}else{if(Hs(ut))throw Error(_e(418));ut.flags=ut.flags&-4097|2,eo=!1,ro=ut}}}function ym(ut){for(ut=ut.return;ut!==null&&ut.tag!==5&&ut.tag!==3&&ut.tag!==13;)ut=ut.return;ro=ut}function Cu(ut){if(!Mn||ut!==ro)return!1;if(!eo)return ym(ut),eo=!0,!1;if(ut.tag!==3&&(ut.tag!==5||Cs(ut.type)&&!kn(ut.type,ut.memoizedProps))){var ct=gs;if(ct){if(Hs(ut))throw _m(),Error(_e(418));for(;ct;)Mp(ut,ct),ct=er(ct)}}if(ym(ut),ut.tag===13){if(!Mn)throw Error(_e(316));if(ut=ut.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(_e(317));gs=us(ut)}else gs=ro?er(ut.stateNode):null;return!0}function _m(){for(var ut=gs;ut;)ut=er(ut)}function Pu(){Mn&&(gs=ro=null,ms=eo=!1)}function A0(ut){xa===null?xa=[ut]:xa.push(ut)}var bm=rt.ReactCurrentBatchConfig;function lu(ut,ct){if(As(ut,ct))return!0;if(typeof ut!="object"||ut===null||typeof ct!="object"||ct===null)return!1;var _t=Object.keys(ut),Et=Object.keys(ct);if(_t.length!==Et.length)return!1;for(Et=0;Et<_t.length;Et++){var Tt=_t[Et];if(!Ip.call(ct,Tt)||!As(ut[Tt],ct[Tt]))return!1}return!0}function Au(ut){switch(ut.tag){case 5:return Dl(ut.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return ut=ou(ut.type,!1),ut;case 11:return ut=ou(ut.type.render,!1),ut;case 1:return ut=ou(ut.type,!0),ut;default:return""}}function Os(ut,ct){if(ut&&ut.defaultProps){ct=et({},ct),ut=ut.defaultProps;for(var _t in ut)ct[_t]===void 0&&(ct[_t]=ut[_t]);return ct}return ct}var rp=cs(null),ip=null,Ll=null,op=null;function Fp(){op=Ll=ip=null}function xm(ut,ct,_t){jn?(zr(rp,ct._currentValue),ct._currentValue=_t):(zr(rp,ct._currentValue2),ct._currentValue2=_t)}function ap(ut){var ct=rp.current;Wr(rp),jn?ut._currentValue=ct:ut._currentValue2=ct}function sp(ut,ct,_t){for(;ut!==null;){var Et=ut.alternate;if((ut.childLanes&ct)!==ct?(ut.childLanes|=ct,Et!==null&&(Et.childLanes|=ct)):Et!==null&&(Et.childLanes&ct)!==ct&&(Et.childLanes|=ct),ut===_t)break;ut=ut.return}}function Ou(ut,ct){ip=ut,op=Ll=null,ut=ut.dependencies,ut!==null&&ut.firstContext!==null&&(ut.lanes&ct&&(es=!0),ut.firstContext=null)}function ns(ut){var ct=jn?ut._currentValue:ut._currentValue2;if(op!==ut)if(ut={context:ut,memoizedValue:ct,next:null},Ll===null){if(ip===null)throw Error(_e(308));Ll=ut,ip.dependencies={lanes:0,firstContext:ut}}else Ll=Ll.next=ut;return ct}var Po=null;function lp(ut){Po===null?Po=[ut]:Po.push(ut)}function $u(ut,ct,_t,Et){var Tt=ct.interleaved;return Tt===null?(_t.next=_t,lp(ct)):(_t.next=Tt.next,Tt.next=_t),ct.interleaved=_t,$s(ut,Et)}function $s(ut,ct){ut.lanes|=ct;var _t=ut.alternate;for(_t!==null&&(_t.lanes|=ct),_t=ut,ut=ut.return;ut!==null;)ut.childLanes|=ct,_t=ut.alternate,_t!==null&&(_t.childLanes|=ct),_t=ut,ut=ut.return;return _t.tag===3?_t.stateNode:null}var _l=!1;function O0(ut){ut.updateQueue={baseState:ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(ut,ct){ut=ut.updateQueue,ct.updateQueue===ut&&(ct.updateQueue={baseState:ut.baseState,firstBaseUpdate:ut.firstBaseUpdate,lastBaseUpdate:ut.lastBaseUpdate,shared:ut.shared,effects:ut.effects})}function xl(ut,ct){return{eventTime:ut,lane:ct,tag:0,payload:null,callback:null,next:null}}function Ul(ut,ct,_t){var Et=ut.updateQueue;if(Et===null)return null;if(Et=Et.shared,Ar&2){var Tt=Et.pending;return Tt===null?ct.next=ct:(ct.next=Tt.next,Tt.next=ct),Et.pending=ct,$s(ut,_t)}return Tt=Et.interleaved,Tt===null?(ct.next=ct,lp(Et)):(ct.next=Tt.next,Tt.next=ct),Et.interleaved=ct,$s(ut,_t)}function Np(ut,ct,_t){if(ct=ct.updateQueue,ct!==null&&(ct=ct.shared,(_t&4194240)!==0)){var Et=ct.lanes;Et&=ut.pendingLanes,_t|=Et,ct.lanes=_t,Eu(ut,_t)}}function uu(ut,ct){var _t=ut.updateQueue,Et=ut.alternate;if(Et!==null&&(Et=Et.updateQueue,_t===Et)){var Tt=null,Ot=null;if(_t=_t.firstBaseUpdate,_t!==null){do{var zt={eventTime:_t.eventTime,lane:_t.lane,tag:_t.tag,payload:_t.payload,callback:_t.callback,next:null};Ot===null?Tt=Ot=zt:Ot=Ot.next=zt,_t=_t.next}while(_t!==null);Ot===null?Tt=Ot=ct:Ot=Ot.next=ct}else Tt=Ot=ct;_t={baseState:Et.baseState,firstBaseUpdate:Tt,lastBaseUpdate:Ot,shared:Et.shared,effects:Et.effects},ut.updateQueue=_t;return}ut=_t.lastBaseUpdate,ut===null?_t.firstBaseUpdate=ct:ut.next=ct,_t.lastBaseUpdate=ct}function Lp(ut,ct,_t,Et){var Tt=ut.updateQueue;_l=!1;var Ot=Tt.firstBaseUpdate,zt=Tt.lastBaseUpdate,nn=Tt.shared.pending;if(nn!==null){Tt.shared.pending=null;var dn=nn,Rn=dn.next;dn.next=null,zt===null?Ot=Rn:zt.next=Rn,zt=dn;var Yn=ut.alternate;Yn!==null&&(Yn=Yn.updateQueue,nn=Yn.lastBaseUpdate,nn!==zt&&(nn===null?Yn.firstBaseUpdate=Rn:nn.next=Rn,Yn.lastBaseUpdate=dn))}if(Ot!==null){var br=Tt.baseState;zt=0,Yn=Rn=dn=null,nn=Ot;do{var Kn=nn.lane,no=nn.eventTime;if((Et&Kn)===Kn){Yn!==null&&(Yn=Yn.next={eventTime:no,lane:0,tag:nn.tag,payload:nn.payload,callback:nn.callback,next:null});e:{var Zr=ut,lo=nn;switch(Kn=ct,no=_t,lo.tag){case 1:if(Zr=lo.payload,typeof Zr=="function"){br=Zr.call(no,br,Kn);break e}br=Zr;break e;case 3:Zr.flags=Zr.flags&-65537|128;case 0:if(Zr=lo.payload,Kn=typeof Zr=="function"?Zr.call(no,br,Kn):Zr,Kn==null)break e;br=et({},br,Kn);break e;case 2:_l=!0}}nn.callback!==null&&nn.lane!==0&&(ut.flags|=64,Kn=Tt.effects,Kn===null?Tt.effects=[nn]:Kn.push(nn))}else no={eventTime:no,lane:Kn,tag:nn.tag,payload:nn.payload,callback:nn.callback,next:null},Yn===null?(Rn=Yn=no,dn=br):Yn=Yn.next=no,zt|=Kn;if(nn=nn.next,nn===null){if(nn=Tt.shared.pending,nn===null)break;Kn=nn,nn=Kn.next,Kn.next=null,Tt.lastBaseUpdate=Kn,Tt.shared.pending=null}}while(1);if(Yn===null&&(dn=br),Tt.baseState=dn,Tt.firstBaseUpdate=Rn,Tt.lastBaseUpdate=Yn,ct=Tt.shared.interleaved,ct!==null){Tt=ct;do zt|=Tt.lane,Tt=Tt.next;while(Tt!==ct)}else Ot===null&&(Tt.shared.lanes=0);Wl|=zt,ut.lanes=zt,ut.memoizedState=br}}function Sm(ut,ct,_t){if(ut=ct.effects,ct.effects=null,ut!==null)for(ct=0;ct<ut.length;ct++){var Et=ut[ct],Tt=Et.callback;if(Tt!==null){if(Et.callback=null,Et=_t,typeof Tt!="function")throw Error(_e(191,Tt));Tt.call(Et)}}}var jp=new s.Component().refs;function Up(ut,ct,_t,Et){ct=ut.memoizedState,_t=_t(Et,ct),_t=_t==null?ct:et({},ct,_t),ut.memoizedState=_t,ut.lanes===0&&(ut.updateQueue.baseState=_t)}var Rs={isMounted:function(ut){return(ut=ut._reactInternals)?St(ut)===ut:!1},enqueueSetState:function(ut,ct,_t){ut=ut._reactInternals;var Et=Ko(),Tt=Ro(ut),Ot=xl(Et,Tt);Ot.payload=ct,_t!=null&&(Ot.callback=_t),ct=Ul(ut,Ot,Tt),ct!==null&&(bs(ct,ut,Tt,Et),Np(ct,ut,Tt))},enqueueReplaceState:function(ut,ct,_t){ut=ut._reactInternals;var Et=Ko(),Tt=Ro(ut),Ot=xl(Et,Tt);Ot.tag=1,Ot.payload=ct,_t!=null&&(Ot.callback=_t),ct=Ul(ut,Ot,Tt),ct!==null&&(bs(ct,ut,Tt,Et),Np(ct,ut,Tt))},enqueueForceUpdate:function(ut,ct){ut=ut._reactInternals;var _t=Ko(),Et=Ro(ut),Tt=xl(_t,Et);Tt.tag=2,ct!=null&&(Tt.callback=ct),ct=Ul(ut,Tt,Et),ct!==null&&(bs(ct,ut,Et,_t),Np(ct,ut,Et))}};function up(ut,ct,_t,Et,Tt,Ot,zt){return ut=ut.stateNode,typeof ut.shouldComponentUpdate=="function"?ut.shouldComponentUpdate(Et,Ot,zt):ct.prototype&&ct.prototype.isPureReactComponent?!lu(_t,Et)||!lu(Tt,Ot):!0}function Em(ut,ct,_t){var Et=!1,Tt=ds,Ot=ct.contextType;return typeof Ot=="object"&&Ot!==null?Ot=ns(Ot):(Tt=Co(ct)?fs:yo.current,Et=ct.contextTypes,Ot=(Et=Et!=null)?Zs(ut,Tt):ds),ct=new ct(_t,Ot),ut.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,ct.updater=Rs,ut.stateNode=ct,ct._reactInternals=ut,Et&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=Tt,ut.__reactInternalMemoizedMaskedChildContext=Ot),ct}function Tm(ut,ct,_t,Et){ut=ct.state,typeof ct.componentWillReceiveProps=="function"&&ct.componentWillReceiveProps(_t,Et),typeof ct.UNSAFE_componentWillReceiveProps=="function"&&ct.UNSAFE_componentWillReceiveProps(_t,Et),ct.state!==ut&&Rs.enqueueReplaceState(ct,ct.state,null)}function $0(ut,ct,_t,Et){var Tt=ut.stateNode;Tt.props=_t,Tt.state=ut.memoizedState,Tt.refs=jp,O0(ut);var Ot=ct.contextType;typeof Ot=="object"&&Ot!==null?Tt.context=ns(Ot):(Ot=Co(ct)?fs:yo.current,Tt.context=Zs(ut,Ot)),Tt.state=ut.memoizedState,Ot=ct.getDerivedStateFromProps,typeof Ot=="function"&&(Up(ut,ct,Ot,_t),Tt.state=ut.memoizedState),typeof ct.getDerivedStateFromProps=="function"||typeof Tt.getSnapshotBeforeUpdate=="function"||typeof Tt.UNSAFE_componentWillMount!="function"&&typeof Tt.componentWillMount!="function"||(ct=Tt.state,typeof Tt.componentWillMount=="function"&&Tt.componentWillMount(),typeof Tt.UNSAFE_componentWillMount=="function"&&Tt.UNSAFE_componentWillMount(),ct!==Tt.state&&Rs.enqueueReplaceState(Tt,Tt.state,null),Lp(ut,_t,Tt,Et),Tt.state=ut.memoizedState),typeof Tt.componentDidMount=="function"&&(ut.flags|=4194308)}function Ws(ut,ct,_t){if(ut=_t.ref,ut!==null&&typeof ut!="function"&&typeof ut!="object"){if(_t._owner){if(_t=_t._owner,_t){if(_t.tag!==1)throw Error(_e(309));var Et=_t.stateNode}if(!Et)throw Error(_e(147,ut));var Tt=Et,Ot=""+ut;return ct!==null&&ct.ref!==null&&typeof ct.ref=="function"&&ct.ref._stringRef===Ot?ct.ref:(ct=function(zt){var nn=Tt.refs;nn===jp&&(nn=Tt.refs={}),zt===null?delete nn[Ot]:nn[Ot]=zt},ct._stringRef=Ot,ct)}if(typeof ut!="string")throw Error(_e(284));if(!_t._owner)throw Error(_e(290,ut))}return ut}function $a(ut,ct){throw ut=Object.prototype.toString.call(ct),Error(_e(31,ut==="[object Object]"?"object with keys {"+Object.keys(ct).join(", ")+"}":ut))}function R0(ut){var ct=ut._init;return ct(ut._payload)}function Cm(ut){function ct(fn,on){if(ut){var vn=fn.deletions;vn===null?(fn.deletions=[on],fn.flags|=16):vn.push(on)}}function _t(fn,on){if(!ut)return null;for(;on!==null;)ct(fn,on),on=on.sibling;return null}function Et(fn,on){for(fn=new Map;on!==null;)on.key!==null?fn.set(on.key,on):fn.set(on.index,on),on=on.sibling;return fn}function Tt(fn,on){return fn=as(fn,on),fn.index=0,fn.sibling=null,fn}function Ot(fn,on,vn){return fn.index=vn,ut?(vn=fn.alternate,vn!==null?(vn=vn.index,vn<on?(fn.flags|=2,on):vn):(fn.flags|=2,on)):(fn.flags|=1048576,on)}function zt(fn){return ut&&fn.alternate===null&&(fn.flags|=2),fn}function nn(fn,on,vn,Un){return on===null||on.tag!==6?(on=g0(vn,fn.mode,Un),on.return=fn,on):(on=Tt(on,vn),on.return=fn,on)}function dn(fn,on,vn,Un){var Pn=vn.type;return Pn===at?Yn(fn,on,vn.props.children,Un,vn.key):on!==null&&(on.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===pt&&R0(Pn)===on.type)?(Un=Tt(on,vn.props),Un.ref=Ws(fn,on,vn),Un.return=fn,Un):(Un=Pp(vn.type,vn.key,vn.props,null,fn.mode,Un),Un.ref=Ws(fn,on,vn),Un.return=fn,Un)}function Rn(fn,on,vn,Un){return on===null||on.tag!==4||on.stateNode.containerInfo!==vn.containerInfo||on.stateNode.implementation!==vn.implementation?(on=eu(vn,fn.mode,Un),on.return=fn,on):(on=Tt(on,vn.children||[]),on.return=fn,on)}function Yn(fn,on,vn,Un,Pn){return on===null||on.tag!==7?(on=Jl(vn,fn.mode,Un,Pn),on.return=fn,on):(on=Tt(on,vn),on.return=fn,on)}function br(fn,on,vn){if(typeof on=="string"&&on!==""||typeof on=="number")return on=g0(""+on,fn.mode,vn),on.return=fn,on;if(typeof on=="object"&&on!==null){switch(on.$$typeof){case ot:return vn=Pp(on.type,on.key,on.props,null,fn.mode,vn),vn.ref=Ws(fn,null,on),vn.return=fn,vn;case it:return on=eu(on,fn.mode,vn),on.return=fn,on;case pt:var Un=on._init;return br(fn,Un(on._payload),vn)}if(Lt(on)||yt(on))return on=Jl(on,fn.mode,vn,null),on.return=fn,on;$a(fn,on)}return null}function Kn(fn,on,vn,Un){var Pn=on!==null?on.key:null;if(typeof vn=="string"&&vn!==""||typeof vn=="number")return Pn!==null?null:nn(fn,on,""+vn,Un);if(typeof vn=="object"&&vn!==null){switch(vn.$$typeof){case ot:return vn.key===Pn?dn(fn,on,vn,Un):null;case it:return vn.key===Pn?Rn(fn,on,vn,Un):null;case pt:return Pn=vn._init,Kn(fn,on,Pn(vn._payload),Un)}if(Lt(vn)||yt(vn))return Pn!==null?null:Yn(fn,on,vn,Un,null);$a(fn,vn)}return null}function no(fn,on,vn,Un,Pn){if(typeof Un=="string"&&Un!==""||typeof Un=="number")return fn=fn.get(vn)||null,nn(on,fn,""+Un,Pn);if(typeof Un=="object"&&Un!==null){switch(Un.$$typeof){case ot:return fn=fn.get(Un.key===null?vn:Un.key)||null,dn(on,fn,Un,Pn);case it:return fn=fn.get(Un.key===null?vn:Un.key)||null,Rn(on,fn,Un,Pn);case pt:var xr=Un._init;return no(fn,on,vn,xr(Un._payload),Pn)}if(Lt(Un)||yt(Un))return fn=fn.get(vn)||null,Yn(on,fn,Un,Pn,null);$a(on,Un)}return null}function Zr(fn,on,vn,Un){for(var Pn=null,xr=null,vr=on,Or=on=0,Lo=null;vr!==null&&Or<vn.length;Or++){vr.index>Or?(Lo=vr,vr=null):Lo=vr.sibling;var Mr=Kn(fn,vr,vn[Or],Un);if(Mr===null){vr===null&&(vr=Lo);break}ut&&vr&&Mr.alternate===null&&ct(fn,vr),on=Ot(Mr,on,Or),xr===null?Pn=Mr:xr.sibling=Mr,xr=Mr,vr=Lo}if(Or===vn.length)return _t(fn,vr),eo&&Nl(fn,Or),Pn;if(vr===null){for(;Or<vn.length;Or++)vr=br(fn,vn[Or],Un),vr!==null&&(on=Ot(vr,on,Or),xr===null?Pn=vr:xr.sibling=vr,xr=vr);return eo&&Nl(fn,Or),Pn}for(vr=Et(fn,vr);Or<vn.length;Or++)Lo=no(vr,fn,Or,vn[Or],Un),Lo!==null&&(ut&&Lo.alternate!==null&&vr.delete(Lo.key===null?Or:Lo.key),on=Ot(Lo,on,Or),xr===null?Pn=Lo:xr.sibling=Lo,xr=Lo);return ut&&vr.forEach(function(Ol){return ct(fn,Ol)}),eo&&Nl(fn,Or),Pn}function lo(fn,on,vn,Un){var Pn=yt(vn);if(typeof Pn!="function")throw Error(_e(150));if(vn=Pn.call(vn),vn==null)throw Error(_e(151));for(var xr=Pn=null,vr=on,Or=on=0,Lo=null,Mr=vn.next();vr!==null&&!Mr.done;Or++,Mr=vn.next()){vr.index>Or?(Lo=vr,vr=null):Lo=vr.sibling;var Ol=Kn(fn,vr,Mr.value,Un);if(Ol===null){vr===null&&(vr=Lo);break}ut&&vr&&Ol.alternate===null&&ct(fn,vr),on=Ot(Ol,on,Or),xr===null?Pn=Ol:xr.sibling=Ol,xr=Ol,vr=Lo}if(Mr.done)return _t(fn,vr),eo&&Nl(fn,Or),Pn;if(vr===null){for(;!Mr.done;Or++,Mr=vn.next())Mr=br(fn,Mr.value,Un),Mr!==null&&(on=Ot(Mr,on,Or),xr===null?Pn=Mr:xr.sibling=Mr,xr=Mr);return eo&&Nl(fn,Or),Pn}for(vr=Et(fn,vr);!Mr.done;Or++,Mr=vn.next())Mr=no(vr,fn,Or,Mr.value,Un),Mr!==null&&(ut&&Mr.alternate!==null&&vr.delete(Mr.key===null?Or:Mr.key),on=Ot(Mr,on,Or),xr===null?Pn=Mr:xr.sibling=Mr,xr=Mr);return ut&&vr.forEach(function(qo){return ct(fn,qo)}),eo&&Nl(fn,Or),Pn}function Ls(fn,on,vn,Un){if(typeof vn=="object"&&vn!==null&&vn.type===at&&vn.key===null&&(vn=vn.props.children),typeof vn=="object"&&vn!==null){switch(vn.$$typeof){case ot:e:{for(var Pn=vn.key,xr=on;xr!==null;){if(xr.key===Pn){if(Pn=vn.type,Pn===at){if(xr.tag===7){_t(fn,xr.sibling),on=Tt(xr,vn.props.children),on.return=fn,fn=on;break e}}else if(xr.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===pt&&R0(Pn)===xr.type){_t(fn,xr.sibling),on=Tt(xr,vn.props),on.ref=Ws(fn,xr,vn),on.return=fn,fn=on;break e}_t(fn,xr);break}else ct(fn,xr);xr=xr.sibling}vn.type===at?(on=Jl(vn.props.children,fn.mode,Un,vn.key),on.return=fn,fn=on):(Un=Pp(vn.type,vn.key,vn.props,null,fn.mode,Un),Un.ref=Ws(fn,on,vn),Un.return=fn,fn=Un)}return zt(fn);case it:e:{for(xr=vn.key;on!==null;){if(on.key===xr)if(on.tag===4&&on.stateNode.containerInfo===vn.containerInfo&&on.stateNode.implementation===vn.implementation){_t(fn,on.sibling),on=Tt(on,vn.children||[]),on.return=fn,fn=on;break e}else{_t(fn,on);break}else ct(fn,on);on=on.sibling}on=eu(vn,fn.mode,Un),on.return=fn,fn=on}return zt(fn);case pt:return xr=vn._init,Ls(fn,on,xr(vn._payload),Un)}if(Lt(vn))return Zr(fn,on,vn,Un);if(yt(vn))return lo(fn,on,vn,Un);$a(fn,vn)}return typeof vn=="string"&&vn!==""||typeof vn=="number"?(vn=""+vn,on!==null&&on.tag===6?(_t(fn,on.sibling),on=Tt(on,vn),on.return=fn,fn=on):(_t(fn,on),on=g0(vn,fn.mode,Un),on.return=fn,fn=on),zt(fn)):_t(fn,on)}return Ls}var Ru=Cm(!0),Pm=Cm(!1),cp={},vs=cs(cp),Ks=cs(cp),tn=cs(cp);function yn(ut){if(ut===cp)throw Error(_e(174));return ut}function pn(ut,ct){zr(tn,ct),zr(Ks,ut),zr(vs,cp),ut=Mt(ct),Wr(vs),zr(vs,ut)}function Wn(){Wr(vs),Wr(Ks),Wr(tn)}function mr(ut){var ct=yn(tn.current),_t=yn(vs.current);ct=Vt(_t,ut.type,ct),_t!==ct&&(zr(Ks,ut),zr(vs,ct))}function Nr(ut){Ks.current===ut&&(Wr(vs),Wr(Ks))}var Sr=cs(0);function Vr(ut){for(var ct=ut;ct!==null;){if(ct.tag===13){var _t=ct.memoizedState;if(_t!==null&&(_t=_t.dehydrated,_t===null||mo(_t)||fr(_t)))return ct}else if(ct.tag===19&&ct.memoizedProps.revealOrder!==void 0){if(ct.flags&128)return ct}else if(ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===ut)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)return null;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}return null}var dp=[];function k0(){for(var ut=0;ut<dp.length;ut++){var ct=dp[ut];jn?ct._workInProgressVersionPrimary=null:ct._workInProgressVersionSecondary=null}dp.length=0}var Zo=rt.ReactCurrentDispatcher,ku=rt.ReactCurrentBatchConfig,cu=0,qr=null,so=null,co=null,Ur=!1,fp=!1,Iu=0,zp=0;function Bo(){throw Error(_e(321))}function I0(ut,ct){if(ct===null)return!1;for(var _t=0;_t<ct.length&&_t<ut.length;_t++)if(!As(ut[_t],ct[_t]))return!1;return!0}function D0(ut,ct,_t,Et,Tt,Ot){if(cu=Ot,qr=ct,ct.memoizedState=null,ct.updateQueue=null,ct.lanes=0,Zo.current=ut===null||ut.memoizedState===null?d1:f1,ut=_t(Et,Tt),fp){Ot=0;do{if(fp=!1,Iu=0,25<=Ot)throw Error(_e(301));Ot+=1,co=so=null,ct.updateQueue=null,Zo.current=h1,ut=_t(Et,Tt)}while(fp)}if(Zo.current=Sl,ct=so!==null&&so.next!==null,cu=0,co=so=qr=null,Ur=!1,ct)throw Error(_e(300));return ut}function Du(){var ut=Iu!==0;return Iu=0,ut}function jo(){var ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return co===null?qr.memoizedState=co=ut:co=co.next=ut,co}function Jo(){if(so===null){var ut=qr.alternate;ut=ut!==null?ut.memoizedState:null}else ut=so.next;var ct=co===null?qr.memoizedState:co.next;if(ct!==null)co=ct,so=ut;else{if(ut===null)throw Error(_e(310));so=ut,ut={memoizedState:so.memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},co===null?qr.memoizedState=co=ut:co=co.next=ut}return co}function Mu(ut,ct){return typeof ct=="function"?ct(ut):ct}function Fu(ut){var ct=Jo(),_t=ct.queue;if(_t===null)throw Error(_e(311));_t.lastRenderedReducer=ut;var Et=so,Tt=Et.baseQueue,Ot=_t.pending;if(Ot!==null){if(Tt!==null){var zt=Tt.next;Tt.next=Ot.next,Ot.next=zt}Et.baseQueue=Tt=Ot,_t.pending=null}if(Tt!==null){Ot=Tt.next,Et=Et.baseState;var nn=zt=null,dn=null,Rn=Ot;do{var Yn=Rn.lane;if((cu&Yn)===Yn)dn!==null&&(dn=dn.next={lane:0,action:Rn.action,hasEagerState:Rn.hasEagerState,eagerState:Rn.eagerState,next:null}),Et=Rn.hasEagerState?Rn.eagerState:ut(Et,Rn.action);else{var br={lane:Yn,action:Rn.action,hasEagerState:Rn.hasEagerState,eagerState:Rn.eagerState,next:null};dn===null?(nn=dn=br,zt=Et):dn=dn.next=br,qr.lanes|=Yn,Wl|=Yn}Rn=Rn.next}while(Rn!==null&&Rn!==Ot);dn===null?zt=Et:dn.next=nn,As(Et,ct.memoizedState)||(es=!0),ct.memoizedState=Et,ct.baseState=zt,ct.baseQueue=dn,_t.lastRenderedState=Et}if(ut=_t.interleaved,ut!==null){Tt=ut;do Ot=Tt.lane,qr.lanes|=Ot,Wl|=Ot,Tt=Tt.next;while(Tt!==ut)}else Tt===null&&(_t.lanes=0);return[ct.memoizedState,_t.dispatch]}function Vp(ut){var ct=Jo(),_t=ct.queue;if(_t===null)throw Error(_e(311));_t.lastRenderedReducer=ut;var Et=_t.dispatch,Tt=_t.pending,Ot=ct.memoizedState;if(Tt!==null){_t.pending=null;var zt=Tt=Tt.next;do Ot=ut(Ot,zt.action),zt=zt.next;while(zt!==Tt);As(Ot,ct.memoizedState)||(es=!0),ct.memoizedState=Ot,ct.baseQueue===null&&(ct.baseState=Ot),_t.lastRenderedState=Ot}return[Ot,Et]}function M0(){}function hp(ut,ct){var _t=qr,Et=Jo(),Tt=ct(),Ot=!As(Et.memoizedState,Tt);if(Ot&&(Et.memoizedState=Tt,es=!0),Et=Et.queue,Bp(zl.bind(null,_t,Et,ut),[ut]),Et.getSnapshot!==ct||Ot||co!==null&&co.memoizedState.tag&1){if(_t.flags|=2048,gp(9,Nu.bind(null,_t,Et,Tt,ct),void 0,null),No===null)throw Error(_e(349));cu&30||F0(_t,ct,Tt)}return Tt}function F0(ut,ct,_t){ut.flags|=16384,ut={getSnapshot:ct,value:_t},ct=qr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},qr.updateQueue=ct,ct.stores=[ut]):(_t=ct.stores,_t===null?ct.stores=[ut]:_t.push(ut))}function Nu(ut,ct,_t,Et){ct.value=_t,ct.getSnapshot=Et,pp(ct)&&Am(ut)}function zl(ut,ct,_t){return _t(function(){pp(ct)&&Am(ut)})}function pp(ut){var ct=ut.getSnapshot;ut=ut.value;try{var _t=ct();return!As(ut,_t)}catch{return!0}}function Am(ut){var ct=$s(ut,1);ct!==null&&bs(ct,ut,1,-1)}function Om(ut){var ct=jo();return typeof ut=="function"&&(ut=ut()),ct.memoizedState=ct.baseState=ut,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:ut},ct.queue=ut,ut=ut.dispatch=Uu.bind(null,qr,ut),[ct.memoizedState,ut]}function gp(ut,ct,_t,Et){return ut={tag:ut,create:ct,destroy:_t,deps:Et,next:null},ct=qr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},qr.updateQueue=ct,ct.lastEffect=ut.next=ut):(_t=ct.lastEffect,_t===null?ct.lastEffect=ut.next=ut:(Et=_t.next,_t.next=ut,ut.next=Et,ct.lastEffect=ut)),ut}function mp(){return Jo().memoizedState}function du(ut,ct,_t,Et){var Tt=jo();qr.flags|=ut,Tt.memoizedState=gp(1|ct,_t,void 0,Et===void 0?null:Et)}function Lu(ut,ct,_t,Et){var Tt=Jo();Et=Et===void 0?null:Et;var Ot=void 0;if(so!==null){var zt=so.memoizedState;if(Ot=zt.destroy,Et!==null&&I0(Et,zt.deps)){Tt.memoizedState=gp(ct,_t,Ot,Et);return}}qr.flags|=ut,Tt.memoizedState=gp(1|ct,_t,Ot,Et)}function $m(ut,ct){return du(8390656,8,ut,ct)}function Bp(ut,ct){return Lu(2048,8,ut,ct)}function Rm(ut,ct){return Lu(4,2,ut,ct)}function km(ut,ct){return Lu(4,4,ut,ct)}function _o(ut,ct){if(typeof ct=="function")return ut=ut(),ct(ut),function(){ct(null)};if(ct!=null)return ut=ut(),ct.current=ut,function(){ct.current=null}}function Uo(ut,ct,_t){return _t=_t!=null?_t.concat([ut]):null,Lu(4,4,_o.bind(null,ct,ut),_t)}function N0(){}function Im(ut,ct){var _t=Jo();ct=ct===void 0?null:ct;var Et=_t.memoizedState;return Et!==null&&ct!==null&&I0(ct,Et[1])?Et[0]:(_t.memoizedState=[ut,ct],ut)}function L0(ut,ct){var _t=Jo();ct=ct===void 0?null:ct;var Et=_t.memoizedState;return Et!==null&&ct!==null&&I0(ct,Et[1])?Et[0]:(ut=ut(),_t.memoizedState=[ut,ct],ut)}function Dm(ut,ct,_t){return cu&21?(As(_t,ct)||(_t=bn(),qr.lanes|=_t,Wl|=_t,ut.baseState=!0),ct):(ut.baseState&&(ut.baseState=!1,es=!0),ut.memoizedState=_t)}function j0(ut,ct){var _t=Fr;Fr=_t!==0&&4>_t?_t:4,ut(!0);var Et=ku.transition;ku.transition={};try{ut(!1),ct()}finally{Fr=_t,ku.transition=Et}}function ju(){return Jo().memoizedState}function U0(ut,ct,_t){var Et=Ro(ut);if(_t={lane:Et,action:_t,hasEagerState:!1,eagerState:null,next:null},zu(ut))Vu(ct,_t);else if(_t=$u(ut,ct,_t,Et),_t!==null){var Tt=Ko();bs(_t,ut,Et,Tt),vp(_t,ct,Et)}}function Uu(ut,ct,_t){var Et=Ro(ut),Tt={lane:Et,action:_t,hasEagerState:!1,eagerState:null,next:null};if(zu(ut))Vu(ct,Tt);else{var Ot=ut.alternate;if(ut.lanes===0&&(Ot===null||Ot.lanes===0)&&(Ot=ct.lastRenderedReducer,Ot!==null))try{var zt=ct.lastRenderedState,nn=Ot(zt,_t);if(Tt.hasEagerState=!0,Tt.eagerState=nn,As(nn,zt)){var dn=ct.interleaved;dn===null?(Tt.next=Tt,lp(ct)):(Tt.next=dn.next,dn.next=Tt),ct.interleaved=Tt;return}}catch{}finally{}_t=$u(ut,ct,Tt,Et),_t!==null&&(Tt=Ko(),bs(_t,ut,Et,Tt),vp(_t,ct,Et))}}function zu(ut){var ct=ut.alternate;return ut===qr||ct!==null&&ct===qr}function Vu(ut,ct){fp=Ur=!0;var _t=ut.pending;_t===null?ct.next=ct:(ct.next=_t.next,_t.next=ct),ut.pending=ct}function vp(ut,ct,_t){if(_t&4194240){var Et=ct.lanes;Et&=ut.pendingLanes,_t|=Et,ct.lanes=_t,Eu(ut,_t)}}var Sl={readContext:ns,useCallback:Bo,useContext:Bo,useEffect:Bo,useImperativeHandle:Bo,useInsertionEffect:Bo,useLayoutEffect:Bo,useMemo:Bo,useReducer:Bo,useRef:Bo,useState:Bo,useDebugValue:Bo,useDeferredValue:Bo,useTransition:Bo,useMutableSource:Bo,useSyncExternalStore:Bo,useId:Bo,unstable_isNewReconciler:!1},d1={readContext:ns,useCallback:function(ut,ct){return jo().memoizedState=[ut,ct===void 0?null:ct],ut},useContext:ns,useEffect:$m,useImperativeHandle:function(ut,ct,_t){return _t=_t!=null?_t.concat([ut]):null,du(4194308,4,_o.bind(null,ct,ut),_t)},useLayoutEffect:function(ut,ct){return du(4194308,4,ut,ct)},useInsertionEffect:function(ut,ct){return du(4,2,ut,ct)},useMemo:function(ut,ct){var _t=jo();return ct=ct===void 0?null:ct,ut=ut(),_t.memoizedState=[ut,ct],ut},useReducer:function(ut,ct,_t){var Et=jo();return ct=_t!==void 0?_t(ct):ct,Et.memoizedState=Et.baseState=ct,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ut,lastRenderedState:ct},Et.queue=ut,ut=ut.dispatch=U0.bind(null,qr,ut),[Et.memoizedState,ut]},useRef:function(ut){var ct=jo();return ut={current:ut},ct.memoizedState=ut},useState:Om,useDebugValue:N0,useDeferredValue:function(ut){return jo().memoizedState=ut},useTransition:function(){var ut=Om(!1),ct=ut[0];return ut=j0.bind(null,ut[1]),jo().memoizedState=ut,[ct,ut]},useMutableSource:function(){},useSyncExternalStore:function(ut,ct,_t){var Et=qr,Tt=jo();if(eo){if(_t===void 0)throw Error(_e(407));_t=_t()}else{if(_t=ct(),No===null)throw Error(_e(349));cu&30||F0(Et,ct,_t)}Tt.memoizedState=_t;var Ot={value:_t,getSnapshot:ct};return Tt.queue=Ot,$m(zl.bind(null,Et,Ot,ut),[ut]),Et.flags|=2048,gp(9,Nu.bind(null,Et,Ot,_t,ct),void 0,null),_t},useId:function(){var ut=jo(),ct=No.identifierPrefix;if(eo){var _t=Gs,Et=Bs;_t=(Et&~(1<<32-Zt(Et)-1)).toString(32)+_t,ct=":"+ct+"R"+_t,_t=Iu++,0<_t&&(ct+="H"+_t.toString(32)),ct+=":"}else _t=zp++,ct=":"+ct+"r"+_t.toString(32)+":";return ut.memoizedState=ct},unstable_isNewReconciler:!1},f1={readContext:ns,useCallback:Im,useContext:ns,useEffect:Bp,useImperativeHandle:Uo,useInsertionEffect:Rm,useLayoutEffect:km,useMemo:L0,useReducer:Fu,useRef:mp,useState:function(){return Fu(Mu)},useDebugValue:N0,useDeferredValue:function(ut){var ct=Jo();return Dm(ct,so.memoizedState,ut)},useTransition:function(){var ut=Fu(Mu)[0],ct=Jo().memoizedState;return[ut,ct]},useMutableSource:M0,useSyncExternalStore:hp,useId:ju,unstable_isNewReconciler:!1},h1={readContext:ns,useCallback:Im,useContext:ns,useEffect:Bp,useImperativeHandle:Uo,useInsertionEffect:Rm,useLayoutEffect:km,useMemo:L0,useReducer:Vp,useRef:mp,useState:function(){return Vp(Mu)},useDebugValue:N0,useDeferredValue:function(ut){var ct=Jo();return so===null?ct.memoizedState=ut:Dm(ct,so.memoizedState,ut)},useTransition:function(){var ut=Vp(Mu)[0],ct=Jo().memoizedState;return[ut,ct]},useMutableSource:M0,useSyncExternalStore:hp,useId:ju,unstable_isNewReconciler:!1};function Bu(ut,ct){try{var _t="",Et=ct;do _t+=Au(Et),Et=Et.return;while(Et);var Tt=_t}catch(Ot){Tt=`
Error generating stack: `+Ot.message+`
`+Ot.stack}return{value:ut,source:ct,stack:Tt,digest:null}}function z0(ut,ct,_t){return{value:ut,source:null,stack:_t??null,digest:ct??null}}function Gu(ut,ct){try{console.error(ct.value)}catch(_t){setTimeout(function(){throw _t})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function V0(ut,ct,_t){_t=xl(-1,_t),_t.tag=3,_t.payload={element:null};var Et=ct.value;return _t.callback=function(){wp||(wp=!0,Sp=Et),Gu(ut,ct)},_t}function Nt(ut,ct,_t){_t=xl(-1,_t),_t.tag=3;var Et=ut.type.getDerivedStateFromError;if(typeof Et=="function"){var Tt=ct.value;_t.payload=function(){return Et(Tt)},_t.callback=function(){Gu(ut,ct)}}var Ot=ut.stateNode;return Ot!==null&&typeof Ot.componentDidCatch=="function"&&(_t.callback=function(){Gu(ut,ct),typeof Et!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var zt=ct.stack;this.componentDidCatch(ct.value,{componentStack:zt!==null?zt:""})}),_t}function fu(ut,ct,_t){var Et=ut.pingCache;if(Et===null){Et=ut.pingCache=new yp;var Tt=new Set;Et.set(ct,Tt)}else Tt=Et.get(ct),Tt===void 0&&(Tt=new Set,Et.set(ct,Tt));Tt.has(_t)||(Tt.add(_t),ut=Km.bind(null,ut,ct,_t),ct.then(ut,ut))}function _p(ut){do{var ct;if((ct=ut.tag===13)&&(ct=ut.memoizedState,ct=ct!==null?ct.dehydrated!==null:!0),ct)return ut;ut=ut.return}while(ut!==null);return null}function rs(ut,ct,_t,Et,Tt){return ut.mode&1?(ut.flags|=65536,ut.lanes=Tt,ut):(ut===ct?ut.flags|=65536:(ut.flags|=128,_t.flags|=131072,_t.flags&=-52805,_t.tag===1&&(_t.alternate===null?_t.tag=17:(ct=xl(-1,1),ct.tag=2,Ul(_t,ct,1))),_t.lanes|=1),ut)}var kr=rt.ReactCurrentOwner,es=!1;function na(ut,ct,_t,Et){ct.child=ut===null?Pm(ct,null,_t,Et):Ru(ct,ut.child,_t,Et)}function Mm(ut,ct,_t,Et,Tt){_t=_t.render;var Ot=ct.ref;return Ou(ct,Tt),Et=D0(ut,ct,_t,Et,Ot,Tt),_t=Du(),ut!==null&&!es?(ct.updateQueue=ut.updateQueue,ct.flags&=-2053,ut.lanes&=~Tt,El(ut,ct,Tt)):(eo&&_t&&Qo(ct),ct.flags|=1,na(ut,ct,Et,Tt),ct.child)}function Vl(ut,ct,_t,Et,Tt){if(ut===null){var Ot=_t.type;return typeof Ot=="function"&&!um(Ot)&&Ot.defaultProps===void 0&&_t.compare===null&&_t.defaultProps===void 0?(ct.tag=15,ct.type=Ot,Fm(ut,ct,Ot,Et,Tt)):(ut=Pp(_t.type,null,Et,ct,ct.mode,Tt),ut.ref=ct.ref,ut.return=ct,ct.child=ut)}if(Ot=ut.child,!(ut.lanes&Tt)){var zt=Ot.memoizedProps;if(_t=_t.compare,_t=_t!==null?_t:lu,_t(zt,Et)&&ut.ref===ct.ref)return El(ut,ct,Tt)}return ct.flags|=1,ut=as(Ot,Et),ut.ref=ct.ref,ut.return=ct,ct.child=ut}function Fm(ut,ct,_t,Et,Tt){if(ut!==null){var Ot=ut.memoizedProps;if(lu(Ot,Et)&&ut.ref===ct.ref)if(es=!1,ct.pendingProps=Et=Ot,(ut.lanes&Tt)!==0)ut.flags&131072&&(es=!0);else return ct.lanes=ut.lanes,El(ut,ct,Tt)}return B0(ut,ct,_t,Et,Tt)}function Nm(ut,ct,_t){var Et=ct.pendingProps,Tt=Et.children,Ot=ut!==null?ut.memoizedState:null;if(Et.mode==="hidden")if(!(ct.mode&1))ct.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Hl,is),is|=_t;else{if(!(_t&1073741824))return ut=Ot!==null?Ot.baseLanes|_t:_t,ct.lanes=ct.childLanes=1073741824,ct.memoizedState={baseLanes:ut,cachePool:null,transitions:null},ct.updateQueue=null,zr(Hl,is),is|=ut,null;ct.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et=Ot!==null?Ot.baseLanes:_t,zr(Hl,is),is|=Et}else Ot!==null?(Et=Ot.baseLanes|_t,ct.memoizedState=null):Et=_t,zr(Hl,is),is|=Et;return na(ut,ct,Tt,_t),ct.child}function Lm(ut,ct){var _t=ct.ref;(ut===null&&_t!==null||ut!==null&&ut.ref!==_t)&&(ct.flags|=512,ct.flags|=2097152)}function B0(ut,ct,_t,Et,Tt){var Ot=Co(_t)?fs:yo.current;return Ot=Zs(ct,Ot),Ou(ct,Tt),_t=D0(ut,ct,_t,Et,Ot,Tt),Et=Du(),ut!==null&&!es?(ct.updateQueue=ut.updateQueue,ct.flags&=-2053,ut.lanes&=~Tt,El(ut,ct,Tt)):(eo&&Et&&Qo(ct),ct.flags|=1,na(ut,ct,_t,Tt),ct.child)}function jm(ut,ct,_t,Et,Tt){if(Co(_t)){var Ot=!0;jt(ct)}else Ot=!1;if(Ou(ct,Tt),ct.stateNode===null)qs(ut,ct),Em(ct,_t,Et),$0(ct,_t,Et,Tt),Et=!0;else if(ut===null){var zt=ct.stateNode,nn=ct.memoizedProps;zt.props=nn;var dn=zt.context,Rn=_t.contextType;typeof Rn=="object"&&Rn!==null?Rn=ns(Rn):(Rn=Co(_t)?fs:yo.current,Rn=Zs(ct,Rn));var Yn=_t.getDerivedStateFromProps,br=typeof Yn=="function"||typeof zt.getSnapshotBeforeUpdate=="function";br||typeof zt.UNSAFE_componentWillReceiveProps!="function"&&typeof zt.componentWillReceiveProps!="function"||(nn!==Et||dn!==Rn)&&Tm(ct,zt,Et,Rn),_l=!1;var Kn=ct.memoizedState;zt.state=Kn,Lp(ct,Et,zt,Tt),dn=ct.memoizedState,nn!==Et||Kn!==dn||To.current||_l?(typeof Yn=="function"&&(Up(ct,_t,Yn,Et),dn=ct.memoizedState),(nn=_l||up(ct,_t,nn,Et,Kn,dn,Rn))?(br||typeof zt.UNSAFE_componentWillMount!="function"&&typeof zt.componentWillMount!="function"||(typeof zt.componentWillMount=="function"&&zt.componentWillMount(),typeof zt.UNSAFE_componentWillMount=="function"&&zt.UNSAFE_componentWillMount()),typeof zt.componentDidMount=="function"&&(ct.flags|=4194308)):(typeof zt.componentDidMount=="function"&&(ct.flags|=4194308),ct.memoizedProps=Et,ct.memoizedState=dn),zt.props=Et,zt.state=dn,zt.context=Rn,Et=nn):(typeof zt.componentDidMount=="function"&&(ct.flags|=4194308),Et=!1)}else{zt=ct.stateNode,wm(ut,ct),nn=ct.memoizedProps,Rn=ct.type===ct.elementType?nn:Os(ct.type,nn),zt.props=Rn,br=ct.pendingProps,Kn=zt.context,dn=_t.contextType,typeof dn=="object"&&dn!==null?dn=ns(dn):(dn=Co(_t)?fs:yo.current,dn=Zs(ct,dn));var no=_t.getDerivedStateFromProps;(Yn=typeof no=="function"||typeof zt.getSnapshotBeforeUpdate=="function")||typeof zt.UNSAFE_componentWillReceiveProps!="function"&&typeof zt.componentWillReceiveProps!="function"||(nn!==br||Kn!==dn)&&Tm(ct,zt,Et,dn),_l=!1,Kn=ct.memoizedState,zt.state=Kn,Lp(ct,Et,zt,Tt);var Zr=ct.memoizedState;nn!==br||Kn!==Zr||To.current||_l?(typeof no=="function"&&(Up(ct,_t,no,Et),Zr=ct.memoizedState),(Rn=_l||up(ct,_t,Rn,Et,Kn,Zr,dn)||!1)?(Yn||typeof zt.UNSAFE_componentWillUpdate!="function"&&typeof zt.componentWillUpdate!="function"||(typeof zt.componentWillUpdate=="function"&&zt.componentWillUpdate(Et,Zr,dn),typeof zt.UNSAFE_componentWillUpdate=="function"&&zt.UNSAFE_componentWillUpdate(Et,Zr,dn)),typeof zt.componentDidUpdate=="function"&&(ct.flags|=4),typeof zt.getSnapshotBeforeUpdate=="function"&&(ct.flags|=1024)):(typeof zt.componentDidUpdate!="function"||nn===ut.memoizedProps&&Kn===ut.memoizedState||(ct.flags|=4),typeof zt.getSnapshotBeforeUpdate!="function"||nn===ut.memoizedProps&&Kn===ut.memoizedState||(ct.flags|=1024),ct.memoizedProps=Et,ct.memoizedState=Zr),zt.props=Et,zt.state=Zr,zt.context=dn,Et=Rn):(typeof zt.componentDidUpdate!="function"||nn===ut.memoizedProps&&Kn===ut.memoizedState||(ct.flags|=4),typeof zt.getSnapshotBeforeUpdate!="function"||nn===ut.memoizedProps&&Kn===ut.memoizedState||(ct.flags|=1024),Et=!1)}return ks(ut,ct,_t,Et,Ot,Tt)}function ks(ut,ct,_t,Et,Tt,Ot){Lm(ut,ct);var zt=(ct.flags&128)!==0;if(!Et&&!zt)return Tt&&qt(ct,_t,!1),El(ut,ct,Ot);Et=ct.stateNode,kr.current=ct;var nn=zt&&typeof _t.getDerivedStateFromError!="function"?null:Et.render();return ct.flags|=1,ut!==null&&zt?(ct.child=Ru(ct,ut.child,null,Ot),ct.child=Ru(ct,null,nn,Ot)):na(ut,ct,nn,Ot),ct.memoizedState=Et.state,Tt&&qt(ct,_t,!0),ct.child}function Um(ut){var ct=ut.stateNode;ct.pendingContext?au(ut,ct.pendingContext,ct.pendingContext!==ct.context):ct.context&&au(ut,ct.context,!1),pn(ut,ct.containerInfo)}function zm(ut,ct,_t,Et,Tt){return Pu(),A0(Tt),ct.flags|=256,na(ut,ct,_t,Et),ct.child}var G0={dehydrated:null,treeContext:null,retryLane:0};function H0(ut){return{baseLanes:ut,cachePool:null,transitions:null}}function Vm(ut,ct,_t){var Et=ct.pendingProps,Tt=Sr.current,Ot=!1,zt=(ct.flags&128)!==0,nn;if((nn=zt)||(nn=ut!==null&&ut.memoizedState===null?!1:(Tt&2)!==0),nn?(Ot=!0,ct.flags&=-129):(ut===null||ut.memoizedState!==null)&&(Tt|=1),zr(Sr,Tt&1),ut===null)return np(ct),ut=ct.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null)?(ct.mode&1?fr(ut)?ct.lanes=8:ct.lanes=1073741824:ct.lanes=1,null):(zt=Et.children,ut=Et.fallback,Ot?(Et=ct.mode,Ot=ct.child,zt={mode:"hidden",children:zt},!(Et&1)&&Ot!==null?(Ot.childLanes=0,Ot.pendingProps=zt):Ot=p0(zt,Et,0,null),ut=Jl(ut,Et,_t,null),Ot.return=ct,ut.return=ct,Ot.sibling=ut,ct.child=Ot,ct.child.memoizedState=H0(_t),ct.memoizedState=G0,ut):Is(ct,zt));if(Tt=ut.memoizedState,Tt!==null&&(nn=Tt.dehydrated,nn!==null))return p1(ut,ct,zt,Et,nn,Tt,_t);if(Ot){Ot=Et.fallback,zt=ct.mode,Tt=ut.child,nn=Tt.sibling;var dn={mode:"hidden",children:Et.children};return!(zt&1)&&ct.child!==Tt?(Et=ct.child,Et.childLanes=0,Et.pendingProps=dn,ct.deletions=null):(Et=as(Tt,dn),Et.subtreeFlags=Tt.subtreeFlags&14680064),nn!==null?Ot=as(nn,Ot):(Ot=Jl(Ot,zt,_t,null),Ot.flags|=2),Ot.return=ct,Et.return=ct,Et.sibling=Ot,ct.child=Et,Et=Ot,Ot=ct.child,zt=ut.child.memoizedState,zt=zt===null?H0(_t):{baseLanes:zt.baseLanes|_t,cachePool:null,transitions:zt.transitions},Ot.memoizedState=zt,Ot.childLanes=ut.childLanes&~_t,ct.memoizedState=G0,Et}return Ot=ut.child,ut=Ot.sibling,Et=as(Ot,{mode:"visible",children:Et.children}),!(ct.mode&1)&&(Et.lanes=_t),Et.return=ct,Et.sibling=null,ut!==null&&(_t=ct.deletions,_t===null?(ct.deletions=[ut],ct.flags|=16):_t.push(ut)),ct.child=Et,ct.memoizedState=null,Et}function Is(ut,ct){return ct=p0({mode:"visible",children:ct},ut.mode,0,null),ct.return=ut,ut.child=ct}function Gp(ut,ct,_t,Et){return Et!==null&&A0(Et),Ru(ct,ut.child,null,_t),ut=Is(ct,ct.pendingProps.children),ut.flags|=2,ct.memoizedState=null,ut}function p1(ut,ct,_t,Et,Tt,Ot,zt){if(_t)return ct.flags&256?(ct.flags&=-257,Et=z0(Error(_e(422))),Gp(ut,ct,zt,Et)):ct.memoizedState!==null?(ct.child=ut.child,ct.flags|=128,null):(Ot=Et.fallback,Tt=ct.mode,Et=p0({mode:"visible",children:Et.children},Tt,0,null),Ot=Jl(Ot,Tt,zt,null),Ot.flags|=2,Et.return=ct,Ot.return=ct,Et.sibling=Ot,ct.child=Et,ct.mode&1&&Ru(ct,ut.child,null,zt),ct.child.memoizedState=H0(zt),ct.memoizedState=G0,Ot);if(!(ct.mode&1))return Gp(ut,ct,zt,null);if(fr(Tt))return Et=yr(Tt).digest,Ot=Error(_e(419)),Et=z0(Ot,Et,void 0),Gp(ut,ct,zt,Et);if(_t=(zt&ut.childLanes)!==0,es||_t){if(Et=No,Et!==null){switch(zt&-zt){case 4:Tt=2;break;case 16:Tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Tt=32;break;case 536870912:Tt=268435456;break;default:Tt=0}Tt=Tt&(Et.suspendedLanes|zt)?0:Tt,Tt!==0&&Tt!==Ot.retryLane&&(Ot.retryLane=Tt,$s(ut,Tt),bs(Et,ut,Tt,-1))}return Cp(),Et=z0(Error(_e(421))),Gp(ut,ct,zt,Et)}return mo(Tt)?(ct.flags|=128,ct.child=ut.child,ct=b1.bind(null,ut),_r(Tt,ct),null):(ut=Ot.treeContext,Mn&&(gs=tr(Tt),ro=ct,eo=!0,xa=null,ms=!1,ut!==null&&(ao[ts++]=Bs,ao[ts++]=Gs,ao[ts++]=Fl,Bs=ut.id,Gs=ut.overflow,Fl=ct)),ct=Is(ct,Et.children),ct.flags|=4096,ct)}function Bm(ut,ct,_t){ut.lanes|=ct;var Et=ut.alternate;Et!==null&&(Et.lanes|=ct),sp(ut.return,ct,_t)}function W0(ut,ct,_t,Et,Tt){var Ot=ut.memoizedState;Ot===null?ut.memoizedState={isBackwards:ct,rendering:null,renderingStartTime:0,last:Et,tail:_t,tailMode:Tt}:(Ot.isBackwards=ct,Ot.rendering=null,Ot.renderingStartTime=0,Ot.last=Et,Ot.tail=_t,Ot.tailMode=Tt)}function Gm(ut,ct,_t){var Et=ct.pendingProps,Tt=Et.revealOrder,Ot=Et.tail;if(na(ut,ct,Et.children,_t),Et=Sr.current,Et&2)Et=Et&1|2,ct.flags|=128;else{if(ut!==null&&ut.flags&128)e:for(ut=ct.child;ut!==null;){if(ut.tag===13)ut.memoizedState!==null&&Bm(ut,_t,ct);else if(ut.tag===19)Bm(ut,_t,ct);else if(ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===ct)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===ct)break e;ut=ut.return}ut.sibling.return=ut.return,ut=ut.sibling}Et&=1}if(zr(Sr,Et),!(ct.mode&1))ct.memoizedState=null;else switch(Tt){case"forwards":for(_t=ct.child,Tt=null;_t!==null;)ut=_t.alternate,ut!==null&&Vr(ut)===null&&(Tt=_t),_t=_t.sibling;_t=Tt,_t===null?(Tt=ct.child,ct.child=null):(Tt=_t.sibling,_t.sibling=null),W0(ct,!1,Tt,_t,Ot);break;case"backwards":for(_t=null,Tt=ct.child,ct.child=null;Tt!==null;){if(ut=Tt.alternate,ut!==null&&Vr(ut)===null){ct.child=Tt;break}ut=Tt.sibling,Tt.sibling=_t,_t=Tt,Tt=ut}W0(ct,!0,_t,null,Ot);break;case"together":W0(ct,!1,null,null,void 0);break;default:ct.memoizedState=null}return ct.child}function qs(ut,ct){!(ct.mode&1)&&ut!==null&&(ut.alternate=null,ct.alternate=null,ct.flags|=2)}function El(ut,ct,_t){if(ut!==null&&(ct.dependencies=ut.dependencies),Wl|=ct.lanes,!(_t&ct.childLanes))return null;if(ut!==null&&ct.child!==ut.child)throw Error(_e(153));if(ct.child!==null){for(ut=ct.child,_t=as(ut,ut.pendingProps),ct.child=_t,_t.return=ct;ut.sibling!==null;)ut=ut.sibling,_t=_t.sibling=as(ut,ut.pendingProps),_t.return=ct;_t.sibling=null}return ct.child}function g1(ut,ct,_t){switch(ct.tag){case 3:Um(ct),Pu();break;case 5:mr(ct);break;case 1:Co(ct.type)&&jt(ct);break;case 4:pn(ct,ct.stateNode.containerInfo);break;case 10:xm(ct,ct.type._context,ct.memoizedProps.value);break;case 13:var Et=ct.memoizedState;if(Et!==null)return Et.dehydrated!==null?(zr(Sr,Sr.current&1),ct.flags|=128,null):_t&ct.child.childLanes?Vm(ut,ct,_t):(zr(Sr,Sr.current&1),ut=El(ut,ct,_t),ut!==null?ut.sibling:null);zr(Sr,Sr.current&1);break;case 19:if(Et=(_t&ct.childLanes)!==0,ut.flags&128){if(Et)return Gm(ut,ct,_t);ct.flags|=128}var Tt=ct.memoizedState;if(Tt!==null&&(Tt.rendering=null,Tt.tail=null,Tt.lastEffect=null),zr(Sr,Sr.current),Et)break;return null;case 22:case 23:return ct.lanes=0,Nm(ut,ct,_t)}return El(ut,ct,_t)}function bo(ut){ut.flags|=4}function Hm(ut,ct){if(ut!==null&&ut.child===ct.child)return!0;if(ct.flags&16)return!1;for(ut=ct.child;ut!==null;){if(ut.flags&12854||ut.subtreeFlags&12854)return!1;ut=ut.sibling}return!0}var bp,xp,Hp,Wp;if(xn)bp=function(ut,ct){for(var _t=ct.child;_t!==null;){if(_t.tag===5||_t.tag===6)ln(ut,_t.stateNode);else if(_t.tag!==4&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===ct)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===ct)return;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}},xp=function(){},Hp=function(ut,ct,_t,Et,Tt){if(ut=ut.memoizedProps,ut!==Et){var Ot=ct.stateNode,zt=yn(vs.current);_t=_n(Ot,_t,ut,Et,Tt,zt),(ct.updateQueue=_t)&&bo(ct)}},Wp=function(ut,ct,_t,Et){_t!==Et&&bo(ct)};else if(Bn){bp=function(ut,ct,_t,Et){for(var Tt=ct.child;Tt!==null;){if(Tt.tag===5){var Ot=Tt.stateNode;_t&&Et&&(Ot=sr(Ot,Tt.type,Tt.memoizedProps,Tt)),ln(ut,Ot)}else if(Tt.tag===6)Ot=Tt.stateNode,_t&&Et&&(Ot=Gr(Ot,Tt.memoizedProps,Tt)),ln(ut,Ot);else if(Tt.tag!==4){if(Tt.tag===22&&Tt.memoizedState!==null)Ot=Tt.child,Ot!==null&&(Ot.return=Tt),bp(ut,Tt,!0,!0);else if(Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}}if(Tt===ct)break;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===ct)return;Tt=Tt.return}Tt.sibling.return=Tt.return,Tt=Tt.sibling}};var K0=function(ut,ct,_t,Et){for(var Tt=ct.child;Tt!==null;){if(Tt.tag===5){var Ot=Tt.stateNode;_t&&Et&&(Ot=sr(Ot,Tt.type,Tt.memoizedProps,Tt)),ir(ut,Ot)}else if(Tt.tag===6)Ot=Tt.stateNode,_t&&Et&&(Ot=Gr(Ot,Tt.memoizedProps,Tt)),ir(ut,Ot);else if(Tt.tag!==4){if(Tt.tag===22&&Tt.memoizedState!==null)Ot=Tt.child,Ot!==null&&(Ot.return=Tt),K0(ut,Tt,!0,!0);else if(Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}}if(Tt===ct)break;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===ct)return;Tt=Tt.return}Tt.sibling.return=Tt.return,Tt=Tt.sibling}};xp=function(ut,ct){var _t=ct.stateNode;if(!Hm(ut,ct)){ut=_t.containerInfo;var Et=Ln(ut);K0(Et,ct,!1,!1),_t.pendingChildren=Et,bo(ct),rn(ut,Et)}},Hp=function(ut,ct,_t,Et,Tt){var Ot=ut.stateNode,zt=ut.memoizedProps;if((ut=Hm(ut,ct))&&zt===Et)ct.stateNode=Ot;else{var nn=ct.stateNode,dn=yn(vs.current),Rn=null;zt!==Et&&(Rn=_n(nn,_t,zt,Et,Tt,dn)),ut&&Rn===null?ct.stateNode=Ot:(Ot=In(Ot,Rn,_t,zt,Et,ct,ut,nn),wn(Ot,_t,Et,Tt,dn)&&bo(ct),ct.stateNode=Ot,ut?bo(ct):bp(Ot,ct,!1,!1))}},Wp=function(ut,ct,_t,Et){_t!==Et?(ut=yn(tn.current),_t=yn(vs.current),ct.stateNode=Cn(Et,ut,_t,ct),bo(ct)):ct.stateNode=ut.stateNode}}else xp=function(){},Hp=function(){},Wp=function(){};function Hu(ut,ct){if(!eo)switch(ut.tailMode){case"hidden":ct=ut.tail;for(var _t=null;ct!==null;)ct.alternate!==null&&(_t=ct),ct=ct.sibling;_t===null?ut.tail=null:_t.sibling=null;break;case"collapsed":_t=ut.tail;for(var Et=null;_t!==null;)_t.alternate!==null&&(Et=_t),_t=_t.sibling;Et===null?ct||ut.tail===null?ut.tail=null:ut.tail.sibling=null:Et.sibling=null}}function Go(ut){var ct=ut.alternate!==null&&ut.alternate.child===ut.child,_t=0,Et=0;if(ct)for(var Tt=ut.child;Tt!==null;)_t|=Tt.lanes|Tt.childLanes,Et|=Tt.subtreeFlags&14680064,Et|=Tt.flags&14680064,Tt.return=ut,Tt=Tt.sibling;else for(Tt=ut.child;Tt!==null;)_t|=Tt.lanes|Tt.childLanes,Et|=Tt.subtreeFlags,Et|=Tt.flags,Tt.return=ut,Tt=Tt.sibling;return ut.subtreeFlags|=Et,ut.childLanes=_t,ct}function m1(ut,ct,_t){var Et=ct.pendingProps;switch(P0(ct),ct.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(ct),null;case 1:return Co(ct.type)&&hs(),Go(ct),null;case 3:return _t=ct.stateNode,Wn(),Wr(To),Wr(yo),k0(),_t.pendingContext&&(_t.context=_t.pendingContext,_t.pendingContext=null),(ut===null||ut.child===null)&&(Cu(ct)?bo(ct):ut===null||ut.memoizedState.isDehydrated&&!(ct.flags&256)||(ct.flags|=1024,xa!==null&&(c0(xa),xa=null))),xp(ut,ct),Go(ct),null;case 5:Nr(ct),_t=yn(tn.current);var Tt=ct.type;if(ut!==null&&ct.stateNode!=null)Hp(ut,ct,Tt,Et,_t),ut.ref!==ct.ref&&(ct.flags|=512,ct.flags|=2097152);else{if(!Et){if(ct.stateNode===null)throw Error(_e(166));return Go(ct),null}if(ut=yn(vs.current),Cu(ct)){if(!Mn)throw Error(_e(175));ut=Eo(ct.stateNode,ct.type,ct.memoizedProps,_t,ut,ct,!ms),ct.updateQueue=ut,ut!==null&&bo(ct)}else{var Ot=Jt(Tt,Et,_t,ut,ct);bp(Ot,ct,!1,!1),ct.stateNode=Ot,wn(Ot,Tt,Et,_t,ut)&&bo(ct)}ct.ref!==null&&(ct.flags|=512,ct.flags|=2097152)}return Go(ct),null;case 6:if(ut&&ct.stateNode!=null)Wp(ut,ct,ut.memoizedProps,Et);else{if(typeof Et!="string"&&ct.stateNode===null)throw Error(_e(166));if(ut=yn(tn.current),_t=yn(vs.current),Cu(ct)){if(!Mn)throw Error(_e(176));if(ut=ct.stateNode,_t=ct.memoizedProps,(Et=Mo(ut,_t,ct,!ms))&&(Tt=ro,Tt!==null))switch(Tt.tag){case 3:_0(Tt.stateNode.containerInfo,ut,_t,(Tt.mode&1)!==0);break;case 5:iu(Tt.type,Tt.memoizedProps,Tt.stateNode,ut,_t,(Tt.mode&1)!==0)}Et&&bo(ct)}else ct.stateNode=Cn(Et,ut,_t,ct)}return Go(ct),null;case 13:if(Wr(Sr),Et=ct.memoizedState,ut===null||ut.memoizedState!==null&&ut.memoizedState.dehydrated!==null){if(eo&&gs!==null&&ct.mode&1&&!(ct.flags&128))_m(),Pu(),ct.flags|=98560,Tt=!1;else if(Tt=Cu(ct),Et!==null&&Et.dehydrated!==null){if(ut===null){if(!Tt)throw Error(_e(318));if(!Mn)throw Error(_e(344));if(Tt=ct.memoizedState,Tt=Tt!==null?Tt.dehydrated:null,!Tt)throw Error(_e(317));vo(Tt,ct)}else Pu(),!(ct.flags&128)&&(ct.memoizedState=null),ct.flags|=4;Go(ct),Tt=!1}else xa!==null&&(c0(xa),xa=null),Tt=!0;if(!Tt)return ct.flags&65536?ct:null}return ct.flags&128?(ct.lanes=_t,ct):(_t=Et!==null,_t!==(ut!==null&&ut.memoizedState!==null)&&_t&&(ct.child.flags|=8192,ct.mode&1&&(ut===null||Sr.current&1?wo===0&&(wo=3):Cp())),ct.updateQueue!==null&&(ct.flags|=4),Go(ct),null);case 4:return Wn(),xp(ut,ct),ut===null&&Fn(ct.stateNode.containerInfo),Go(ct),null;case 10:return ap(ct.type._context),Go(ct),null;case 17:return Co(ct.type)&&hs(),Go(ct),null;case 19:if(Wr(Sr),Tt=ct.memoizedState,Tt===null)return Go(ct),null;if(Et=(ct.flags&128)!==0,Ot=Tt.rendering,Ot===null)if(Et)Hu(Tt,!1);else{if(wo!==0||ut!==null&&ut.flags&128)for(ut=ct.child;ut!==null;){if(Ot=Vr(ut),Ot!==null){for(ct.flags|=128,Hu(Tt,!1),ut=Ot.updateQueue,ut!==null&&(ct.updateQueue=ut,ct.flags|=4),ct.subtreeFlags=0,ut=_t,_t=ct.child;_t!==null;)Et=_t,Tt=ut,Et.flags&=14680066,Ot=Et.alternate,Ot===null?(Et.childLanes=0,Et.lanes=Tt,Et.child=null,Et.subtreeFlags=0,Et.memoizedProps=null,Et.memoizedState=null,Et.updateQueue=null,Et.dependencies=null,Et.stateNode=null):(Et.childLanes=Ot.childLanes,Et.lanes=Ot.lanes,Et.child=Ot.child,Et.subtreeFlags=0,Et.deletions=null,Et.memoizedProps=Ot.memoizedProps,Et.memoizedState=Ot.memoizedState,Et.updateQueue=Ot.updateQueue,Et.type=Ot.type,Tt=Ot.dependencies,Et.dependencies=Tt===null?null:{lanes:Tt.lanes,firstContext:Tt.firstContext}),_t=_t.sibling;return zr(Sr,Sr.current&1|2),ct.child}ut=ut.sibling}Tt.tail!==null&&Fo()>o0&&(ct.flags|=128,Et=!0,Hu(Tt,!1),ct.lanes=4194304)}else{if(!Et)if(ut=Vr(Ot),ut!==null){if(ct.flags|=128,Et=!0,ut=ut.updateQueue,ut!==null&&(ct.updateQueue=ut,ct.flags|=4),Hu(Tt,!0),Tt.tail===null&&Tt.tailMode==="hidden"&&!Ot.alternate&&!eo)return Go(ct),null}else 2*Fo()-Tt.renderingStartTime>o0&&_t!==1073741824&&(ct.flags|=128,Et=!0,Hu(Tt,!1),ct.lanes=4194304);Tt.isBackwards?(Ot.sibling=ct.child,ct.child=Ot):(ut=Tt.last,ut!==null?ut.sibling=Ot:ct.child=Ot,Tt.last=Ot)}return Tt.tail!==null?(ct=Tt.tail,Tt.rendering=ct,Tt.tail=ct.sibling,Tt.renderingStartTime=Fo(),ct.sibling=null,ut=Sr.current,zr(Sr,Et?ut&1|2:ut&1),ct):(Go(ct),null);case 22:case 23:return _c(),_t=ct.memoizedState!==null,ut!==null&&ut.memoizedState!==null!==_t&&(ct.flags|=8192),_t&&ct.mode&1?is&1073741824&&(Go(ct),xn&&ct.subtreeFlags&6&&(ct.flags|=8192)):Go(ct),null;case 24:return null;case 25:return null}throw Error(_e(156,ct.tag))}function q0(ut,ct){switch(P0(ct),ct.tag){case 1:return Co(ct.type)&&hs(),ut=ct.flags,ut&65536?(ct.flags=ut&-65537|128,ct):null;case 3:return Wn(),Wr(To),Wr(yo),k0(),ut=ct.flags,ut&65536&&!(ut&128)?(ct.flags=ut&-65537|128,ct):null;case 5:return Nr(ct),null;case 13:if(Wr(Sr),ut=ct.memoizedState,ut!==null&&ut.dehydrated!==null){if(ct.alternate===null)throw Error(_e(340));Pu()}return ut=ct.flags,ut&65536?(ct.flags=ut&-65537|128,ct):null;case 19:return Wr(Sr),null;case 4:return Wn(),null;case 10:return ap(ct.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var Bl=!1,Ao=!1,v1=typeof WeakSet=="function"?WeakSet:Set,qn=null;function Wu(ut,ct){var _t=ut.ref;if(_t!==null)if(typeof _t=="function")try{_t(null)}catch(Et){io(ut,ct,Et)}else _t.current=null}function Ds(ut,ct,_t){try{_t()}catch(Et){io(ut,ct,Et)}}var Kp=!1;function hu(ut,ct){for(Kt(ut.containerInfo),qn=ct;qn!==null;)if(ut=qn,ct=ut.child,(ut.subtreeFlags&1028)!==0&&ct!==null)ct.return=ut,qn=ct;else for(;qn!==null;){ut=qn;try{var _t=ut.alternate;if(ut.flags&1024)switch(ut.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var Et=_t.memoizedProps,Tt=_t.memoizedState,Ot=ut.stateNode,zt=Ot.getSnapshotBeforeUpdate(ut.elementType===ut.type?Et:Os(ut.type,Et),Tt);Ot.__reactInternalSnapshotBeforeUpdate=zt}break;case 3:xn&&$n(ut.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(nn){io(ut,ut.return,nn)}if(ct=ut.sibling,ct!==null){ct.return=ut.return,qn=ct;break}qn=ut.return}return _t=Kp,Kp=!1,_t}function Ho(ut,ct,_t){var Et=ct.updateQueue;if(Et=Et!==null?Et.lastEffect:null,Et!==null){var Tt=Et=Et.next;do{if((Tt.tag&ut)===ut){var Ot=Tt.destroy;Tt.destroy=void 0,Ot!==void 0&&Ds(ct,_t,Ot)}Tt=Tt.next}while(Tt!==Et)}}function qp(ut,ct){if(ct=ct.updateQueue,ct=ct!==null?ct.lastEffect:null,ct!==null){var _t=ct=ct.next;do{if((_t.tag&ut)===ut){var Et=_t.create;_t.destroy=Et()}_t=_t.next}while(_t!==ct)}}function Yp(ut){var ct=ut.ref;if(ct!==null){var _t=ut.stateNode;switch(ut.tag){case 5:ut=Dt(_t);break;default:ut=_t}typeof ct=="function"?ct(ut):ct.current=ut}}function Y0(ut){var ct=ut.alternate;ct!==null&&(ut.alternate=null,Y0(ct)),ut.child=null,ut.deletions=null,ut.sibling=null,ut.tag===5&&(ct=ut.stateNode,ct!==null&&Jn(ct)),ut.stateNode=null,ut.return=null,ut.dependencies=null,ut.memoizedProps=null,ut.memoizedState=null,ut.pendingProps=null,ut.stateNode=null,ut.updateQueue=null}function Ku(ut){return ut.tag===5||ut.tag===3||ut.tag===4}function Tl(ut){e:for(;;){for(;ut.sibling===null;){if(ut.return===null||Ku(ut.return))return null;ut=ut.return}for(ut.sibling.return=ut.return,ut=ut.sibling;ut.tag!==5&&ut.tag!==6&&ut.tag!==18;){if(ut.flags&2||ut.child===null||ut.tag===4)continue e;ut.child.return=ut,ut=ut.child}if(!(ut.flags&2))return ut.stateNode}}function Xp(ut,ct,_t){var Et=ut.tag;if(Et===5||Et===6)ut=ut.stateNode,ct?Bt(_t,ut,ct):Br(_t,ut);else if(Et!==4&&(ut=ut.child,ut!==null))for(Xp(ut,ct,_t),ut=ut.sibling;ut!==null;)Xp(ut,ct,_t),ut=ut.sibling}function X0(ut,ct,_t){var Et=ut.tag;if(Et===5||Et===6)ut=ut.stateNode,ct?Ft(_t,ut,ct):Tr(_t,ut);else if(Et!==4&&(ut=ut.child,ut!==null))for(X0(ut,ct,_t),ut=ut.sibling;ut!==null;)X0(ut,ct,_t),ut=ut.sibling}var xo=null,Ms=!1;function Fs(ut,ct,_t){for(_t=_t.child;_t!==null;)Oo(ut,ct,_t),_t=_t.sibling}function Oo(ut,ct,_t){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Kr,_t)}catch{}switch(_t.tag){case 5:Ao||Wu(_t,ct);case 6:if(xn){var Et=xo,Tt=Ms;xo=null,Fs(ut,ct,_t),xo=Et,Ms=Tt,xo!==null&&(Ms?Qt(xo,_t.stateNode):Gt(xo,_t.stateNode))}else Fs(ut,ct,_t);break;case 18:xn&&xo!==null&&(Ms?Vs(xo,_t.stateNode):xu(xo,_t.stateNode));break;case 4:xn?(Et=xo,Tt=Ms,xo=_t.stateNode.containerInfo,Ms=!0,Fs(ut,ct,_t),xo=Et,Ms=Tt):(Bn&&(Et=_t.stateNode.containerInfo,Tt=Ln(Et),Hn(Et,Tt)),Fs(ut,ct,_t));break;case 0:case 11:case 14:case 15:if(!Ao&&(Et=_t.updateQueue,Et!==null&&(Et=Et.lastEffect,Et!==null))){Tt=Et=Et.next;do{var Ot=Tt,zt=Ot.destroy;Ot=Ot.tag,zt!==void 0&&(Ot&2||Ot&4)&&Ds(_t,ct,zt),Tt=Tt.next}while(Tt!==Et)}Fs(ut,ct,_t);break;case 1:if(!Ao&&(Wu(_t,ct),Et=_t.stateNode,typeof Et.componentWillUnmount=="function"))try{Et.props=_t.memoizedProps,Et.state=_t.memoizedState,Et.componentWillUnmount()}catch(nn){io(_t,ct,nn)}Fs(ut,ct,_t);break;case 21:Fs(ut,ct,_t);break;case 22:_t.mode&1?(Ao=(Et=Ao)||_t.memoizedState!==null,Fs(ut,ct,_t),Ao=Et):Fs(ut,ct,_t);break;default:Fs(ut,ct,_t)}}function Qp(ut){var ct=ut.updateQueue;if(ct!==null){ut.updateQueue=null;var _t=ut.stateNode;_t===null&&(_t=ut.stateNode=new v1),ct.forEach(function(Et){var Tt=qm.bind(null,ut,Et);_t.has(Et)||(_t.add(Et),Et.then(Tt,Tt))})}}function ys(ut,ct){var _t=ct.deletions;if(_t!==null)for(var Et=0;Et<_t.length;Et++){var Tt=_t[Et];try{var Ot=ut,zt=ct;if(xn){var nn=zt;e:for(;nn!==null;){switch(nn.tag){case 5:xo=nn.stateNode,Ms=!1;break e;case 3:xo=nn.stateNode.containerInfo,Ms=!0;break e;case 4:xo=nn.stateNode.containerInfo,Ms=!0;break e}nn=nn.return}if(xo===null)throw Error(_e(160));Oo(Ot,zt,Tt),xo=null,Ms=!1}else Oo(Ot,zt,Tt);var dn=Tt.alternate;dn!==null&&(dn.return=null),Tt.return=null}catch(Rn){io(Tt,ct,Rn)}}if(ct.subtreeFlags&12854)for(ct=ct.child;ct!==null;)Ns(ct,ut),ct=ct.sibling}function Ns(ut,ct){var _t=ut.alternate,Et=ut.flags;switch(ut.tag){case 0:case 11:case 14:case 15:if(ys(ct,ut),_s(ut),Et&4){try{Ho(3,ut,ut.return),qp(3,ut)}catch(Kn){io(ut,ut.return,Kn)}try{Ho(5,ut,ut.return)}catch(Kn){io(ut,ut.return,Kn)}}break;case 1:ys(ct,ut),_s(ut),Et&512&&_t!==null&&Wu(_t,_t.return);break;case 5:if(ys(ct,ut),_s(ut),Et&512&&_t!==null&&Wu(_t,_t.return),xn){if(ut.flags&32){var Tt=ut.stateNode;try{en(Tt)}catch(Kn){io(ut,ut.return,Kn)}}if(Et&4&&(Tt=ut.stateNode,Tt!=null)){var Ot=ut.memoizedProps;if(_t=_t!==null?_t.memoizedProps:Ot,Et=ut.type,ct=ut.updateQueue,ut.updateQueue=null,ct!==null)try{Xn(Tt,ct,Et,_t,Ot,ut)}catch(Kn){io(ut,ut.return,Kn)}}}break;case 6:if(ys(ct,ut),_s(ut),Et&4&&xn){if(ut.stateNode===null)throw Error(_e(162));Tt=ut.stateNode,Ot=ut.memoizedProps,_t=_t!==null?_t.memoizedProps:Ot;try{jr(Tt,_t,Ot)}catch(Kn){io(ut,ut.return,Kn)}}break;case 3:if(ys(ct,ut),_s(ut),Et&4){if(xn&&Mn&&_t!==null&&_t.memoizedState.isDehydrated)try{nu(ct.containerInfo)}catch(Kn){io(ut,ut.return,Kn)}if(Bn){Tt=ct.containerInfo,Ot=ct.pendingChildren;try{Hn(Tt,Ot)}catch(Kn){io(ut,ut.return,Kn)}}}break;case 4:if(ys(ct,ut),_s(ut),Et&4&&Bn){Ot=ut.stateNode,Tt=Ot.containerInfo,Ot=Ot.pendingChildren;try{Hn(Tt,Ot)}catch(Kn){io(ut,ut.return,Kn)}}break;case 13:ys(ct,ut),_s(ut),Tt=ut.child,Tt.flags&8192&&(Ot=Tt.memoizedState!==null,Tt.stateNode.isHidden=Ot,!Ot||Tt.alternate!==null&&Tt.alternate.memoizedState!==null||(nm=Fo())),Et&4&&Qp(ut);break;case 22:var zt=_t!==null&&_t.memoizedState!==null;if(ut.mode&1?(Ao=(_t=Ao)||zt,ys(ct,ut),Ao=_t):ys(ct,ut),_s(ut),Et&8192){if(_t=ut.memoizedState!==null,(ut.stateNode.isHidden=_t)&&!zt&&ut.mode&1)for(qn=ut,Et=ut.child;Et!==null;){for(ct=qn=Et;qn!==null;){zt=qn;var nn=zt.child;switch(zt.tag){case 0:case 11:case 14:case 15:Ho(4,zt,zt.return);break;case 1:Wu(zt,zt.return);var dn=zt.stateNode;if(typeof dn.componentWillUnmount=="function"){var Rn=zt,Yn=zt.return;try{var br=Rn;dn.props=br.memoizedProps,dn.state=br.memoizedState,dn.componentWillUnmount()}catch(Kn){io(Rn,Yn,Kn)}}break;case 5:Wu(zt,zt.return);break;case 22:if(zt.memoizedState!==null){Wo(ct);continue}}nn!==null?(nn.return=zt,qn=nn):Wo(ct)}Et=Et.sibling}if(xn){e:if(Et=null,xn)for(ct=ut;;){if(ct.tag===5){if(Et===null){Et=ct;try{Tt=ct.stateNode,_t?sn(Tt):hn(ct.stateNode,ct.memoizedProps)}catch(Kn){io(ut,ut.return,Kn)}}}else if(ct.tag===6){if(Et===null)try{Ot=ct.stateNode,_t?un(Ot):Sn(Ot,ct.memoizedProps)}catch(Kn){io(ut,ut.return,Kn)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===ut)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===ut)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)break e;Et===ct&&(Et=null),ct=ct.return}Et===ct&&(Et=null),ct.sibling.return=ct.return,ct=ct.sibling}}}break;case 19:ys(ct,ut),_s(ut),Et&4&&Qp(ut);break;case 21:break;default:ys(ct,ut),_s(ut)}}function _s(ut){var ct=ut.flags;if(ct&2){try{if(xn){e:{for(var _t=ut.return;_t!==null;){if(Ku(_t)){var Et=_t;break e}_t=_t.return}throw Error(_e(160))}switch(Et.tag){case 5:var Tt=Et.stateNode;Et.flags&32&&(en(Tt),Et.flags&=-33);var Ot=Tl(ut);X0(ut,Ot,Tt);break;case 3:case 4:var zt=Et.stateNode.containerInfo,nn=Tl(ut);Xp(ut,nn,zt);break;default:throw Error(_e(161))}}}catch(dn){io(ut,ut.return,dn)}ut.flags&=-3}ct&4096&&(ut.flags&=-4097)}function Zp(ut,ct,_t){qn=ut,Gl(ut)}function Gl(ut,ct,_t){for(var Et=(ut.mode&1)!==0;qn!==null;){var Tt=qn,Ot=Tt.child;if(Tt.tag===22&&Et){var zt=Tt.memoizedState!==null||Bl;if(!zt){var nn=Tt.alternate,dn=nn!==null&&nn.memoizedState!==null||Ao;nn=Bl;var Rn=Ao;if(Bl=zt,(Ao=dn)&&!Rn)for(qn=Tt;qn!==null;)zt=qn,dn=zt.child,zt.tag===22&&zt.memoizedState!==null?Jp(Tt):dn!==null?(dn.return=zt,qn=dn):Jp(Tt);for(;Ot!==null;)qn=Ot,Gl(Ot),Ot=Ot.sibling;qn=Tt,Bl=nn,Ao=Rn}Q0(ut)}else Tt.subtreeFlags&8772&&Ot!==null?(Ot.return=Tt,qn=Ot):Q0(ut)}}function Q0(ut){for(;qn!==null;){var ct=qn;if(ct.flags&8772){var _t=ct.alternate;try{if(ct.flags&8772)switch(ct.tag){case 0:case 11:case 15:Ao||qp(5,ct);break;case 1:var Et=ct.stateNode;if(ct.flags&4&&!Ao)if(_t===null)Et.componentDidMount();else{var Tt=ct.elementType===ct.type?_t.memoizedProps:Os(ct.type,_t.memoizedProps);Et.componentDidUpdate(Tt,_t.memoizedState,Et.__reactInternalSnapshotBeforeUpdate)}var Ot=ct.updateQueue;Ot!==null&&Sm(ct,Ot,Et);break;case 3:var zt=ct.updateQueue;if(zt!==null){if(_t=null,ct.child!==null)switch(ct.child.tag){case 5:_t=Dt(ct.child.stateNode);break;case 1:_t=ct.child.stateNode}Sm(ct,zt,_t)}break;case 5:var nn=ct.stateNode;_t===null&&ct.flags&4&&Jr(nn,ct.type,ct.memoizedProps,ct);break;case 6:break;case 4:break;case 12:break;case 13:if(Mn&&ct.memoizedState===null){var dn=ct.alternate;if(dn!==null){var Rn=dn.memoizedState;if(Rn!==null){var Yn=Rn.dehydrated;Yn!==null&&ru(Yn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Ao||ct.flags&512&&Yp(ct)}catch(br){io(ct,ct.return,br)}}if(ct===ut){qn=null;break}if(_t=ct.sibling,_t!==null){_t.return=ct.return,qn=_t;break}qn=ct.return}}function Wo(ut){for(;qn!==null;){var ct=qn;if(ct===ut){qn=null;break}var _t=ct.sibling;if(_t!==null){_t.return=ct.return,qn=_t;break}qn=ct.return}}function Jp(ut){for(;qn!==null;){var ct=qn;try{switch(ct.tag){case 0:case 11:case 15:var _t=ct.return;try{qp(4,ct)}catch(dn){io(ct,_t,dn)}break;case 1:var Et=ct.stateNode;if(typeof Et.componentDidMount=="function"){var Tt=ct.return;try{Et.componentDidMount()}catch(dn){io(ct,Tt,dn)}}var Ot=ct.return;try{Yp(ct)}catch(dn){io(ct,Ot,dn)}break;case 5:var zt=ct.return;try{Yp(ct)}catch(dn){io(ct,zt,dn)}}}catch(dn){io(ct,ct.return,dn)}if(ct===ut){qn=null;break}var nn=ct.sibling;if(nn!==null){nn.return=ct.return,qn=nn;break}qn=ct.return}}var _g=0,e0=1,t0=2,qu=3,n0=4;if(typeof Symbol=="function"&&Symbol.for){var Cl=Symbol.for;_g=Cl("selector.component"),e0=Cl("selector.has_pseudo_class"),t0=Cl("selector.role"),qu=Cl("selector.test_id"),n0=Cl("selector.text")}function r0(ut){var ct=Zn(ut);if(ct!=null){if(typeof ct.memoizedProps["data-testname"]!="string")throw Error(_e(364));return ct}if(ut=rr(ut),ut===null)throw Error(_e(362));return ut.stateNode.current}function Z0(ut,ct){switch(ct.$$typeof){case _g:if(ut.type===ct.value)return!0;break;case e0:e:{ct=ct.value,ut=[ut,0];for(var _t=0;_t<ut.length;){var Et=ut[_t++],Tt=ut[_t++],Ot=ct[Tt];if(Et.tag!==5||!On(Et)){for(;Ot!=null&&Z0(Et,Ot);)Tt++,Ot=ct[Tt];if(Tt===ct.length){ct=!0;break e}else for(Et=Et.child;Et!==null;)ut.push(Et,Tt),Et=Et.sibling}}ct=!1}return ct;case t0:if(ut.tag===5&&Nn(ut.stateNode,ct.value))return!0;break;case n0:if((ut.tag===5||ut.tag===6)&&(ut=ar(ut),ut!==null&&0<=ut.indexOf(ct.value)))return!0;break;case qu:if(ut.tag===5&&(ut=ut.memoizedProps["data-testname"],typeof ut=="string"&&ut.toLowerCase()===ct.value.toLowerCase()))return!0;break;default:throw Error(_e(365))}return!1}function J0(ut){switch(ut.$$typeof){case _g:return"<"+(xt(ut.value)||"Unknown")+">";case e0:return":has("+(J0(ut)||"")+")";case t0:return'[role="'+ut.value+'"]';case n0:return'"'+ut.value+'"';case qu:return'[data-testname="'+ut.value+'"]';default:throw Error(_e(365))}}function Yu(ut,ct){var _t=[];ut=[ut,0];for(var Et=0;Et<ut.length;){var Tt=ut[Et++],Ot=ut[Et++],zt=ct[Ot];if(Tt.tag!==5||!On(Tt)){for(;zt!=null&&Z0(Tt,zt);)Ot++,zt=ct[Ot];if(Ot===ct.length)_t.push(Tt);else for(Tt=Tt.child;Tt!==null;)ut.push(Tt,Ot),Tt=Tt.sibling}}return _t}function em(ut,ct){if(!Gn)throw Error(_e(363));ut=r0(ut),ut=Yu(ut,ct),ct=[],ut=Array.from(ut);for(var _t=0;_t<ut.length;){var Et=ut[_t++];if(Et.tag===5)On(Et)||ct.push(Et.stateNode);else for(Et=Et.child;Et!==null;)ut.push(Et),Et=Et.sibling}return ct}var y1=Math.ceil,Xu=rt.ReactCurrentDispatcher,i0=rt.ReactCurrentOwner,fo=rt.ReactCurrentBatchConfig,Ar=0,No=null,ho=null,$o=0,is=0,Hl=cs(0),wo=0,Qu=null,Wl=0,pu=0,tm=0,Zu=null,ga=null,nm=0,o0=1/0,Pl=null;function Kl(){o0=Fo()+500}var wp=!1,Sp=null,Yl=null,Ju=!1,hr=null,a0=0,Ep=0,gu=null,Tp=-1,s0=0;function Ko(){return Ar&6?Fo():Tp!==-1?Tp:Tp=Fo()}function Ro(ut){return ut.mode&1?Ar&2&&$o!==0?$o&-$o:bm.transition!==null?(s0===0&&(s0=bn()),s0):(ut=Fr,ut!==0?ut:wr()):1}function bs(ut,ct,_t,Et){if(50<Ep)throw Ep=0,gu=null,Error(_e(185));Qr(ut,_t,Et),(!(Ar&2)||ut!==No)&&(ut===No&&(!(Ar&2)&&(pu|=_t),wo===4&&_a(ut,$o)),zo(ut,Et),_t===1&&Ar===0&&!(ct.mode&1)&&(Kl(),Dp&&_i()))}function zo(ut,ct){var _t=ut.callbackNode;ep(ut,ct);var Et=uo(ut,ut===No?$o:0);if(Et===0)_t!==null&&vm(_t),ut.callbackNode=null,ut.callbackPriority=0;else if(ct=Et&-Et,ut.callbackPriority!==ct){if(_t!=null&&vm(_t),ct===1)ut.tag===0?c1(d0.bind(null,ut)):T0(d0.bind(null,ut)),dr?or(function(){!(Ar&6)&&_i()}):b0(w0,_i),_t=null;else{switch(mm(Et)){case 1:_t=w0;break;case 4:_t=a1;break;case 16:_t=S0;break;case 536870912:_t=s1;break;default:_t=S0}_t=ba(_t,l0.bind(null,ut))}ut.callbackPriority=ct,ut.callbackNode=_t}}function l0(ut,ct){if(Tp=-1,s0=0,Ar&6)throw Error(_e(327));var _t=ut.callbackNode;if(mu()&&ut.callbackNode!==_t)return null;var Et=uo(ut,ut===No?$o:0);if(Et===0)return null;if(Et&30||Et&ut.expiredLanes||ct)ct=_d(ut,Et);else{ct=Et;var Tt=Ar;Ar|=2;var Ot=im();(No!==ut||$o!==ct)&&(Pl=null,Kl(),Xl(ut,ct));do try{_1();break}catch(nn){f0(ut,nn)}while(1);Fp(),Xu.current=Ot,Ar=Tt,ho!==null?ct=0:(No=null,$o=0,ct=wo)}if(ct!==0){if(ct===2&&(Tt=su(ut),Tt!==0&&(Et=Tt,ct=u0(ut,Tt))),ct===1)throw _t=Qu,Xl(ut,0),_a(ut,Et),zo(ut,Fo()),_t;if(ct===6)_a(ut,Et);else{if(Tt=ut.current.alternate,!(Et&30)&&!os(Tt)&&(ct=_d(ut,Et),ct===2&&(Ot=su(ut),Ot!==0&&(Et=Ot,ct=u0(ut,Ot))),ct===1))throw _t=Qu,Xl(ut,0),_a(ut,Et),zo(ut,Fo()),_t;switch(ut.finishedWork=Tt,ut.finishedLanes=Et,ct){case 0:case 1:throw Error(_e(345));case 2:Zl(ut,ga,Pl);break;case 3:if(_a(ut,Et),(Et&130023424)===Et&&(ct=nm+500-Fo(),10<ct)){if(uo(ut,0)!==0)break;if(Tt=ut.suspendedLanes,(Tt&Et)!==Et){Ko(),ut.pingedLanes|=ut.suspendedLanes&Tt;break}ut.timeoutHandle=Ht(Zl.bind(null,ut,ga,Pl),ct);break}Zl(ut,ga,Pl);break;case 4:if(_a(ut,Et),(Et&4194240)===Et)break;for(ct=ut.eventTimes,Tt=-1;0<Et;){var zt=31-Zt(Et);Ot=1<<zt,zt=ct[zt],zt>Tt&&(Tt=zt),Et&=~Ot}if(Et=Tt,Et=Fo()-Et,Et=(120>Et?120:480>Et?480:1080>Et?1080:1920>Et?1920:3e3>Et?3e3:4320>Et?4320:1960*y1(Et/1960))-Et,10<Et){ut.timeoutHandle=Ht(Zl.bind(null,ut,ga,Pl),Et);break}Zl(ut,ga,Pl);break;case 5:Zl(ut,ga,Pl);break;default:throw Error(_e(329))}}}return zo(ut,Fo()),ut.callbackNode===_t?l0.bind(null,ut):null}function u0(ut,ct){var _t=Zu;return ut.current.memoizedState.isDehydrated&&(Xl(ut,ct).flags|=256),ut=_d(ut,ct),ut!==2&&(ct=ga,ga=_t,ct!==null&&c0(ct)),ut}function c0(ut){ga===null?ga=ut:ga.push.apply(ga,ut)}function os(ut){for(var ct=ut;;){if(ct.flags&16384){var _t=ct.updateQueue;if(_t!==null&&(_t=_t.stores,_t!==null))for(var Et=0;Et<_t.length;Et++){var Tt=_t[Et],Ot=Tt.getSnapshot;Tt=Tt.value;try{if(!As(Ot(),Tt))return!1}catch{return!1}}}if(_t=ct.child,ct.subtreeFlags&16384&&_t!==null)_t.return=ct,ct=_t;else{if(ct===ut)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)return!0;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}}return!0}function _a(ut,ct){for(ct&=~tm,ct&=~pu,ut.suspendedLanes|=ct,ut.pingedLanes&=~ct,ut=ut.expirationTimes;0<ct;){var _t=31-Zt(ct),Et=1<<_t;ut[_t]=-1,ct&=~Et}}function d0(ut){if(Ar&6)throw Error(_e(327));mu();var ct=uo(ut,0);if(!(ct&1))return zo(ut,Fo()),null;var _t=_d(ut,ct);if(ut.tag!==0&&_t===2){var Et=su(ut);Et!==0&&(ct=Et,_t=u0(ut,Et))}if(_t===1)throw _t=Qu,Xl(ut,0),_a(ut,ct),zo(ut,Fo()),_t;if(_t===6)throw Error(_e(345));return ut.finishedWork=ut.current.alternate,ut.finishedLanes=ct,Zl(ut,ga,Pl),zo(ut,Fo()),null}function rm(ut){hr!==null&&hr.tag===0&&!(Ar&6)&&mu();var ct=Ar;Ar|=1;var _t=fo.transition,Et=Fr;try{if(fo.transition=null,Fr=1,ut)return ut()}finally{Fr=Et,fo.transition=_t,Ar=ct,!(Ar&6)&&_i()}}function _c(){is=Hl.current,Wr(Hl)}function Xl(ut,ct){ut.finishedWork=null,ut.finishedLanes=0;var _t=ut.timeoutHandle;if(_t!==gn&&(ut.timeoutHandle=gn,cn(_t)),ho!==null)for(_t=ho.return;_t!==null;){var Et=_t;switch(P0(Et),Et.tag){case 1:Et=Et.type.childContextTypes,Et!=null&&hs();break;case 3:Wn(),Wr(To),Wr(yo),k0();break;case 5:Nr(Et);break;case 4:Wn();break;case 13:Wr(Sr);break;case 19:Wr(Sr);break;case 10:ap(Et.type._context);break;case 22:case 23:_c()}_t=_t.return}if(No=ut,ho=ut=as(ut.current,null),$o=is=ct,wo=0,Qu=null,tm=pu=Wl=0,ga=Zu=null,Po!==null){for(ct=0;ct<Po.length;ct++)if(_t=Po[ct],Et=_t.interleaved,Et!==null){_t.interleaved=null;var Tt=Et.next,Ot=_t.pending;if(Ot!==null){var zt=Ot.next;Ot.next=Tt,Et.next=zt}_t.pending=Et}Po=null}return ut}function f0(ut,ct){do{var _t=ho;try{if(Fp(),Zo.current=Sl,Ur){for(var Et=qr.memoizedState;Et!==null;){var Tt=Et.queue;Tt!==null&&(Tt.pending=null),Et=Et.next}Ur=!1}if(cu=0,co=so=qr=null,fp=!1,Iu=0,i0.current=null,_t===null||_t.return===null){wo=1,Qu=ct,ho=null;break}e:{var Ot=ut,zt=_t.return,nn=_t,dn=ct;if(ct=$o,nn.flags|=32768,dn!==null&&typeof dn=="object"&&typeof dn.then=="function"){var Rn=dn,Yn=nn,br=Yn.tag;if(!(Yn.mode&1)&&(br===0||br===11||br===15)){var Kn=Yn.alternate;Kn?(Yn.updateQueue=Kn.updateQueue,Yn.memoizedState=Kn.memoizedState,Yn.lanes=Kn.lanes):(Yn.updateQueue=null,Yn.memoizedState=null)}var no=_p(zt);if(no!==null){no.flags&=-257,rs(no,zt,nn,Ot,ct),no.mode&1&&fu(Ot,Rn,ct),ct=no,dn=Rn;var Zr=ct.updateQueue;if(Zr===null){var lo=new Set;lo.add(dn),ct.updateQueue=lo}else Zr.add(dn);break e}else{if(!(ct&1)){fu(Ot,Rn,ct),Cp();break e}dn=Error(_e(426))}}else if(eo&&nn.mode&1){var Ls=_p(zt);if(Ls!==null){!(Ls.flags&65536)&&(Ls.flags|=256),rs(Ls,zt,nn,Ot,ct),A0(Bu(dn,nn));break e}}Ot=dn=Bu(dn,nn),wo!==4&&(wo=2),Zu===null?Zu=[Ot]:Zu.push(Ot),Ot=zt;do{switch(Ot.tag){case 3:Ot.flags|=65536,ct&=-ct,Ot.lanes|=ct;var fn=V0(Ot,dn,ct);uu(Ot,fn);break e;case 1:nn=dn;var on=Ot.type,vn=Ot.stateNode;if(!(Ot.flags&128)&&(typeof on.getDerivedStateFromError=="function"||vn!==null&&typeof vn.componentDidCatch=="function"&&(Yl===null||!Yl.has(vn)))){Ot.flags|=65536,ct&=-ct,Ot.lanes|=ct;var Un=Nt(Ot,nn,ct);uu(Ot,Un);break e}}Ot=Ot.return}while(Ot!==null)}om(_t)}catch(Pn){ct=Pn,ho===_t&&_t!==null&&(ho=_t=_t.return);continue}break}while(1)}function im(){var ut=Xu.current;return Xu.current=Sl,ut===null?Sl:ut}function Cp(){(wo===0||wo===3||wo===2)&&(wo=4),No===null||!(Wl&268435455)&&!(pu&268435455)||_a(No,$o)}function _d(ut,ct){var _t=Ar;Ar|=2;var Et=im();(No!==ut||$o!==ct)&&(Pl=null,Xl(ut,ct));do try{Ql();break}catch(Tt){f0(ut,Tt)}while(1);if(Fp(),Ar=_t,Xu.current=Et,ho!==null)throw Error(_e(261));return No=null,$o=0,wo}function Ql(){for(;ho!==null;)Al(ho)}function _1(){for(;ho!==null&&!o1();)Al(ho)}function Al(ut){var ct=lm(ut.alternate,ut,is);ut.memoizedProps=ut.pendingProps,ct===null?om(ut):ho=ct,i0.current=null}function om(ut){var ct=ut;do{var _t=ct.alternate;if(ut=ct.return,ct.flags&32768){if(_t=q0(_t,ct),_t!==null){_t.flags&=32767,ho=_t;return}if(ut!==null)ut.flags|=32768,ut.subtreeFlags=0,ut.deletions=null;else{wo=6,ho=null;return}}else if(_t=m1(_t,ct,is),_t!==null){ho=_t;return}if(ct=ct.sibling,ct!==null){ho=ct;return}ho=ct=ut}while(ct!==null);wo===0&&(wo=5)}function Zl(ut,ct,_t){var Et=Fr,Tt=fo.transition;try{fo.transition=null,Fr=1,am(ut,ct,_t,Et)}finally{fo.transition=Tt,Fr=Et}return null}function am(ut,ct,_t,Et){do mu();while(hr!==null);if(Ar&6)throw Error(_e(327));_t=ut.finishedWork;var Tt=ut.finishedLanes;if(_t===null)return null;if(ut.finishedWork=null,ut.finishedLanes=0,_t===ut.current)throw Error(_e(177));ut.callbackNode=null,ut.callbackPriority=0;var Ot=_t.lanes|_t.childLanes;if(Js(ut,Ot),ut===No&&(ho=No=null,$o=0),!(_t.subtreeFlags&2064)&&!(_t.flags&2064)||Ju||(Ju=!0,ba(S0,function(){return mu(),null})),Ot=(_t.flags&15990)!==0,_t.subtreeFlags&15990||Ot){Ot=fo.transition,fo.transition=null;var zt=Fr;Fr=1;var nn=Ar;Ar|=4,i0.current=null,hu(ut,_t),Ns(_t,ut),Yt(ut.containerInfo),ut.current=_t,Zp(_t),x0(),Ar=nn,Fr=zt,fo.transition=Ot}else ut.current=_t;if(Ju&&(Ju=!1,hr=ut,a0=Tt),Ot=ut.pendingLanes,Ot===0&&(Yl=null),l1(_t.stateNode),zo(ut,Fo()),ct!==null)for(Et=ut.onRecoverableError,_t=0;_t<ct.length;_t++)Tt=ct[_t],Et(Tt.value,{componentStack:Tt.stack,digest:Tt.digest});if(wp)throw wp=!1,ut=Sp,Sp=null,ut;return a0&1&&ut.tag!==0&&mu(),Ot=ut.pendingLanes,Ot&1?ut===gu?Ep++:(Ep=0,gu=ut):Ep=0,_i(),null}function mu(){if(hr!==null){var ut=mm(a0),ct=fo.transition,_t=Fr;try{if(fo.transition=null,Fr=16>ut?16:ut,hr===null)var Et=!1;else{if(ut=hr,hr=null,a0=0,Ar&6)throw Error(_e(331));var Tt=Ar;for(Ar|=4,qn=ut.current;qn!==null;){var Ot=qn,zt=Ot.child;if(qn.flags&16){var nn=Ot.deletions;if(nn!==null){for(var dn=0;dn<nn.length;dn++){var Rn=nn[dn];for(qn=Rn;qn!==null;){var Yn=qn;switch(Yn.tag){case 0:case 11:case 15:Ho(8,Yn,Ot)}var br=Yn.child;if(br!==null)br.return=Yn,qn=br;else for(;qn!==null;){Yn=qn;var Kn=Yn.sibling,no=Yn.return;if(Y0(Yn),Yn===Rn){qn=null;break}if(Kn!==null){Kn.return=no,qn=Kn;break}qn=no}}}var Zr=Ot.alternate;if(Zr!==null){var lo=Zr.child;if(lo!==null){Zr.child=null;do{var Ls=lo.sibling;lo.sibling=null,lo=Ls}while(lo!==null)}}qn=Ot}}if(Ot.subtreeFlags&2064&&zt!==null)zt.return=Ot,qn=zt;else e:for(;qn!==null;){if(Ot=qn,Ot.flags&2048)switch(Ot.tag){case 0:case 11:case 15:Ho(9,Ot,Ot.return)}var fn=Ot.sibling;if(fn!==null){fn.return=Ot.return,qn=fn;break e}qn=Ot.return}}var on=ut.current;for(qn=on;qn!==null;){zt=qn;var vn=zt.child;if(zt.subtreeFlags&2064&&vn!==null)vn.return=zt,qn=vn;else e:for(zt=on;qn!==null;){if(nn=qn,nn.flags&2048)try{switch(nn.tag){case 0:case 11:case 15:qp(9,nn)}}catch(Pn){io(nn,nn.return,Pn)}if(nn===zt){qn=null;break e}var Un=nn.sibling;if(Un!==null){Un.return=nn.return,qn=Un;break e}qn=nn.return}}if(Ar=Tt,_i(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Kr,ut)}catch{}Et=!0}return Et}finally{Fr=_t,fo.transition=ct}}return!1}function Wm(ut,ct,_t){ct=Bu(_t,ct),ct=V0(ut,ct,1),ut=Ul(ut,ct,1),ct=Ko(),ut!==null&&(Qr(ut,1,ct),zo(ut,ct))}function io(ut,ct,_t){if(ut.tag===3)Wm(ut,ut,_t);else for(;ct!==null;){if(ct.tag===3){Wm(ct,ut,_t);break}else if(ct.tag===1){var Et=ct.stateNode;if(typeof ct.type.getDerivedStateFromError=="function"||typeof Et.componentDidCatch=="function"&&(Yl===null||!Yl.has(Et))){ut=Bu(_t,ut),ut=Nt(ct,ut,1),ct=Ul(ct,ut,1),ut=Ko(),ct!==null&&(Qr(ct,1,ut),zo(ct,ut));break}}ct=ct.return}}function Km(ut,ct,_t){var Et=ut.pingCache;Et!==null&&Et.delete(ct),ct=Ko(),ut.pingedLanes|=ut.suspendedLanes&_t,No===ut&&($o&_t)===_t&&(wo===4||wo===3&&($o&130023424)===$o&&500>Fo()-nm?Xl(ut,0):tm|=_t),zo(ut,ct)}function sm(ut,ct){ct===0&&(ut.mode&1?(ct=Xr,Xr<<=1,!(Xr&130023424)&&(Xr=4194304)):ct=1);var _t=Ko();ut=$s(ut,ct),ut!==null&&(Qr(ut,ct,_t),zo(ut,_t))}function b1(ut){var ct=ut.memoizedState,_t=0;ct!==null&&(_t=ct.retryLane),sm(ut,_t)}function qm(ut,ct){var _t=0;switch(ut.tag){case 13:var Et=ut.stateNode,Tt=ut.memoizedState;Tt!==null&&(_t=Tt.retryLane);break;case 19:Et=ut.stateNode;break;default:throw Error(_e(314))}Et!==null&&Et.delete(ct),sm(ut,_t)}var lm;lm=function(ut,ct,_t){if(ut!==null)if(ut.memoizedProps!==ct.pendingProps||To.current)es=!0;else{if(!(ut.lanes&_t)&&!(ct.flags&128))return es=!1,g1(ut,ct,_t);es=!!(ut.flags&131072)}else es=!1,eo&&ct.flags&1048576&&C0(ct,Tu,ct.index);switch(ct.lanes=0,ct.tag){case 2:var Et=ct.type;qs(ut,ct),ut=ct.pendingProps;var Tt=Zs(ct,yo.current);Ou(ct,_t),Tt=D0(null,ct,Et,ut,Tt,_t);var Ot=Du();return ct.flags|=1,typeof Tt=="object"&&Tt!==null&&typeof Tt.render=="function"&&Tt.$$typeof===void 0?(ct.tag=1,ct.memoizedState=null,ct.updateQueue=null,Co(Et)?(Ot=!0,jt(ct)):Ot=!1,ct.memoizedState=Tt.state!==null&&Tt.state!==void 0?Tt.state:null,O0(ct),Tt.updater=Rs,ct.stateNode=Tt,Tt._reactInternals=ct,$0(ct,Et,ut,_t),ct=ks(null,ct,Et,!0,Ot,_t)):(ct.tag=0,eo&&Ot&&Qo(ct),na(null,ct,Tt,_t),ct=ct.child),ct;case 16:Et=ct.elementType;e:{switch(qs(ut,ct),ut=ct.pendingProps,Tt=Et._init,Et=Tt(Et._payload),ct.type=Et,Tt=ct.tag=h0(Et),ut=Os(Et,ut),Tt){case 0:ct=B0(null,ct,Et,ut,_t);break e;case 1:ct=jm(null,ct,Et,ut,_t);break e;case 11:ct=Mm(null,ct,Et,ut,_t);break e;case 14:ct=Vl(null,ct,Et,Os(Et.type,ut),_t);break e}throw Error(_e(306,Et,""))}return ct;case 0:return Et=ct.type,Tt=ct.pendingProps,Tt=ct.elementType===Et?Tt:Os(Et,Tt),B0(ut,ct,Et,Tt,_t);case 1:return Et=ct.type,Tt=ct.pendingProps,Tt=ct.elementType===Et?Tt:Os(Et,Tt),jm(ut,ct,Et,Tt,_t);case 3:e:{if(Um(ct),ut===null)throw Error(_e(387));Et=ct.pendingProps,Ot=ct.memoizedState,Tt=Ot.element,wm(ut,ct),Lp(ct,Et,null,_t);var zt=ct.memoizedState;if(Et=zt.element,Mn&&Ot.isDehydrated)if(Ot={element:Et,isDehydrated:!1,cache:zt.cache,pendingSuspenseBoundaries:zt.pendingSuspenseBoundaries,transitions:zt.transitions},ct.updateQueue.baseState=Ot,ct.memoizedState=Ot,ct.flags&256){Tt=Bu(Error(_e(423)),ct),ct=zm(ut,ct,Et,_t,Tt);break e}else if(Et!==Tt){Tt=Bu(Error(_e(424)),ct),ct=zm(ut,ct,Et,_t,Tt);break e}else for(Mn&&(gs=Do(ct.stateNode.containerInfo),ro=ct,eo=!0,xa=null,ms=!1),_t=Pm(ct,null,Et,_t),ct.child=_t;_t;)_t.flags=_t.flags&-3|4096,_t=_t.sibling;else{if(Pu(),Et===Tt){ct=El(ut,ct,_t);break e}na(ut,ct,Et,_t)}ct=ct.child}return ct;case 5:return mr(ct),ut===null&&np(ct),Et=ct.type,Tt=ct.pendingProps,Ot=ut!==null?ut.memoizedProps:null,zt=Tt.children,kn(Et,Tt)?zt=null:Ot!==null&&kn(Et,Ot)&&(ct.flags|=32),Lm(ut,ct),na(ut,ct,zt,_t),ct.child;case 6:return ut===null&&np(ct),null;case 13:return Vm(ut,ct,_t);case 4:return pn(ct,ct.stateNode.containerInfo),Et=ct.pendingProps,ut===null?ct.child=Ru(ct,null,Et,_t):na(ut,ct,Et,_t),ct.child;case 11:return Et=ct.type,Tt=ct.pendingProps,Tt=ct.elementType===Et?Tt:Os(Et,Tt),Mm(ut,ct,Et,Tt,_t);case 7:return na(ut,ct,ct.pendingProps,_t),ct.child;case 8:return na(ut,ct,ct.pendingProps.children,_t),ct.child;case 12:return na(ut,ct,ct.pendingProps.children,_t),ct.child;case 10:e:{if(Et=ct.type._context,Tt=ct.pendingProps,Ot=ct.memoizedProps,zt=Tt.value,xm(ct,Et,zt),Ot!==null)if(As(Ot.value,zt)){if(Ot.children===Tt.children&&!To.current){ct=El(ut,ct,_t);break e}}else for(Ot=ct.child,Ot!==null&&(Ot.return=ct);Ot!==null;){var nn=Ot.dependencies;if(nn!==null){zt=Ot.child;for(var dn=nn.firstContext;dn!==null;){if(dn.context===Et){if(Ot.tag===1){dn=xl(-1,_t&-_t),dn.tag=2;var Rn=Ot.updateQueue;if(Rn!==null){Rn=Rn.shared;var Yn=Rn.pending;Yn===null?dn.next=dn:(dn.next=Yn.next,Yn.next=dn),Rn.pending=dn}}Ot.lanes|=_t,dn=Ot.alternate,dn!==null&&(dn.lanes|=_t),sp(Ot.return,_t,ct),nn.lanes|=_t;break}dn=dn.next}}else if(Ot.tag===10)zt=Ot.type===ct.type?null:Ot.child;else if(Ot.tag===18){if(zt=Ot.return,zt===null)throw Error(_e(341));zt.lanes|=_t,nn=zt.alternate,nn!==null&&(nn.lanes|=_t),sp(zt,_t,ct),zt=Ot.sibling}else zt=Ot.child;if(zt!==null)zt.return=Ot;else for(zt=Ot;zt!==null;){if(zt===ct){zt=null;break}if(Ot=zt.sibling,Ot!==null){Ot.return=zt.return,zt=Ot;break}zt=zt.return}Ot=zt}na(ut,ct,Tt.children,_t),ct=ct.child}return ct;case 9:return Tt=ct.type,Et=ct.pendingProps.children,Ou(ct,_t),Tt=ns(Tt),Et=Et(Tt),ct.flags|=1,na(ut,ct,Et,_t),ct.child;case 14:return Et=ct.type,Tt=Os(Et,ct.pendingProps),Tt=Os(Et.type,Tt),Vl(ut,ct,Et,Tt,_t);case 15:return Fm(ut,ct,ct.type,ct.pendingProps,_t);case 17:return Et=ct.type,Tt=ct.pendingProps,Tt=ct.elementType===Et?Tt:Os(Et,Tt),qs(ut,ct),ct.tag=1,Co(Et)?(ut=!0,jt(ct)):ut=!1,Ou(ct,_t),Em(ct,Et,Tt),$0(ct,Et,Tt,_t),ks(null,ct,Et,!0,ut,_t);case 19:return Gm(ut,ct,_t);case 22:return Nm(ut,ct,_t)}throw Error(_e(156,ct.tag))};function ba(ut,ct){return b0(ut,ct)}function Ys(ut,ct,_t,Et){this.tag=ut,this.key=_t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ct,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(ut,ct,_t,Et){return new Ys(ut,ct,_t,Et)}function um(ut){return ut=ut.prototype,!(!ut||!ut.isReactComponent)}function h0(ut){if(typeof ut=="function")return um(ut)?1:0;if(ut!=null){if(ut=ut.$$typeof,ut===st)return 11;if(ut===gt)return 14}return 2}function as(ut,ct){var _t=ut.alternate;return _t===null?(_t=xs(ut.tag,ct,ut.key,ut.mode),_t.elementType=ut.elementType,_t.type=ut.type,_t.stateNode=ut.stateNode,_t.alternate=ut,ut.alternate=_t):(_t.pendingProps=ct,_t.type=ut.type,_t.flags=0,_t.subtreeFlags=0,_t.deletions=null),_t.flags=ut.flags&14680064,_t.childLanes=ut.childLanes,_t.lanes=ut.lanes,_t.child=ut.child,_t.memoizedProps=ut.memoizedProps,_t.memoizedState=ut.memoizedState,_t.updateQueue=ut.updateQueue,ct=ut.dependencies,_t.dependencies=ct===null?null:{lanes:ct.lanes,firstContext:ct.firstContext},_t.sibling=ut.sibling,_t.index=ut.index,_t.ref=ut.ref,_t}function Pp(ut,ct,_t,Et,Tt,Ot){var zt=2;if(Et=ut,typeof ut=="function")um(ut)&&(zt=1);else if(typeof ut=="string")zt=5;else e:switch(ut){case at:return Jl(_t.children,Tt,Ot,ct);case j:zt=8,Tt|=8;break;case _:return ut=xs(12,_t,ct,Tt|2),ut.elementType=_,ut.lanes=Ot,ut;case dt:return ut=xs(13,_t,ct,Tt),ut.elementType=dt,ut.lanes=Ot,ut;case ft:return ut=xs(19,_t,ct,Tt),ut.elementType=ft,ut.lanes=Ot,ut;case mt:return p0(_t,Tt,Ot,ct);default:if(typeof ut=="object"&&ut!==null)switch(ut.$$typeof){case tt:zt=10;break e;case nt:zt=9;break e;case st:zt=11;break e;case gt:zt=14;break e;case pt:zt=16,Et=null;break e}throw Error(_e(130,ut==null?ut:typeof ut,""))}return ct=xs(zt,_t,ct,Tt),ct.elementType=ut,ct.type=Et,ct.lanes=Ot,ct}function Jl(ut,ct,_t,Et){return ut=xs(7,ut,Et,ct),ut.lanes=_t,ut}function p0(ut,ct,_t,Et){return ut=xs(22,ut,Et,ct),ut.elementType=mt,ut.lanes=_t,ut.stateNode={isHidden:!1},ut}function g0(ut,ct,_t){return ut=xs(6,ut,null,ct),ut.lanes=_t,ut}function eu(ut,ct,_t){return ct=xs(4,ut.children!==null?ut.children:[],ut.key,ct),ct.lanes=_t,ct.stateNode={containerInfo:ut.containerInfo,pendingChildren:null,implementation:ut.implementation},ct}function Ap(ut,ct,_t,Et,Tt){this.tag=ct,this.containerInfo=ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=gn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=Et,this.onRecoverableError=Tt,Mn&&(this.mutableSourceEagerHydrationData=null)}function Ym(ut,ct,_t,Et,Tt,Ot,zt,nn,dn){return ut=new Ap(ut,ct,_t,nn,dn),ct===1?(ct=1,Ot===!0&&(ct|=8)):ct=0,Ot=xs(3,null,null,ct),ut.current=Ot,Ot.stateNode=ut,Ot.memoizedState={element:Et,isDehydrated:_t,cache:null,transitions:null,pendingSuspenseBoundaries:null},O0(Ot),ut}function cm(ut){if(!ut)return ds;ut=ut._reactInternals;e:{if(St(ut)!==ut||ut.tag!==1)throw Error(_e(170));var ct=ut;do{switch(ct.tag){case 3:ct=ct.stateNode.context;break e;case 1:if(Co(ct.type)){ct=ct.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ct=ct.return}while(ct!==null);throw Error(_e(171))}if(ut.tag===1){var _t=ut.type;if(Co(_t))return _h(ut,_t,ct)}return ct}function dm(ut){var ct=ut._reactInternals;if(ct===void 0)throw typeof ut.render=="function"?Error(_e(188)):(ut=Object.keys(ut).join(","),Error(_e(268,ut)));return ut=$t(ct),ut===null?null:ut.stateNode}function Op(ut,ct){if(ut=ut.memoizedState,ut!==null&&ut.dehydrated!==null){var _t=ut.retryLane;ut.retryLane=_t!==0&&_t<ct?_t:ct}}function $p(ut,ct){Op(ut,ct),(ut=ut.alternate)&&Op(ut,ct)}function m0(ut){return ut=$t(ut),ut===null?null:ut.stateNode}function fm(){return null}return a.attemptContinuousHydration=function(ut){if(ut.tag===13){var ct=$s(ut,134217728);if(ct!==null){var _t=Ko();bs(ct,ut,134217728,_t)}$p(ut,134217728)}},a.attemptDiscreteHydration=function(ut){if(ut.tag===13){var ct=$s(ut,1);if(ct!==null){var _t=Ko();bs(ct,ut,1,_t)}$p(ut,1)}},a.attemptHydrationAtCurrentPriority=function(ut){if(ut.tag===13){var ct=Ro(ut),_t=$s(ut,ct);if(_t!==null){var Et=Ko();bs(_t,ut,ct,Et)}$p(ut,ct)}},a.attemptSynchronousHydration=function(ut){switch(ut.tag){case 3:var ct=ut.stateNode;if(ct.current.memoizedState.isDehydrated){var _t=Xo(ct.pendingLanes);_t!==0&&(Eu(ct,_t|1),zo(ct,Fo()),!(Ar&6)&&(Kl(),_i()))}break;case 13:rm(function(){var Et=$s(ut,1);if(Et!==null){var Tt=Ko();bs(Et,ut,1,Tt)}}),$p(ut,1)}},a.batchedUpdates=function(ut,ct){var _t=Ar;Ar|=1;try{return ut(ct)}finally{Ar=_t,Ar===0&&(Kl(),Dp&&_i())}},a.createComponentSelector=function(ut){return{$$typeof:_g,value:ut}},a.createContainer=function(ut,ct,_t,Et,Tt,Ot,zt){return Ym(ut,ct,!1,null,_t,Et,Tt,Ot,zt)},a.createHasPseudoClassSelector=function(ut){return{$$typeof:e0,value:ut}},a.createHydrationContainer=function(ut,ct,_t,Et,Tt,Ot,zt,nn,dn){return ut=Ym(_t,Et,!0,ut,Tt,Ot,zt,nn,dn),ut.context=cm(null),_t=ut.current,Et=Ko(),Tt=Ro(_t),Ot=xl(Et,Tt),Ot.callback=ct??null,Ul(_t,Ot,Tt),ut.current.lanes=Tt,Qr(ut,Tt,Et),zo(ut,Et),ut},a.createPortal=function(ut,ct,_t){var Et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:it,key:Et==null?null:""+Et,children:ut,containerInfo:ct,implementation:_t}},a.createRoleSelector=function(ut){return{$$typeof:t0,value:ut}},a.createTestNameSelector=function(ut){return{$$typeof:qu,value:ut}},a.createTextSelector=function(ut){return{$$typeof:n0,value:ut}},a.deferredUpdates=function(ut){var ct=Fr,_t=fo.transition;try{return fo.transition=null,Fr=16,ut()}finally{Fr=ct,fo.transition=_t}},a.discreteUpdates=function(ut,ct,_t,Et,Tt){var Ot=Fr,zt=fo.transition;try{return fo.transition=null,Fr=1,ut(ct,_t,Et,Tt)}finally{Fr=Ot,fo.transition=zt,Ar===0&&Kl()}},a.findAllNodes=em,a.findBoundingRects=function(ut,ct){if(!Gn)throw Error(_e(363));ct=em(ut,ct),ut=[];for(var _t=0;_t<ct.length;_t++)ut.push(Qn(ct[_t]));for(ct=ut.length-1;0<ct;ct--){_t=ut[ct];for(var Et=_t.x,Tt=Et+_t.width,Ot=_t.y,zt=Ot+_t.height,nn=ct-1;0<=nn;nn--)if(ct!==nn){var dn=ut[nn],Rn=dn.x,Yn=Rn+dn.width,br=dn.y,Kn=br+dn.height;if(Et>=Rn&&Ot>=br&&Tt<=Yn&&zt<=Kn){ut.splice(ct,1);break}else if(Et!==Rn||_t.width!==dn.width||Kn<Ot||br>zt){if(!(Ot!==br||_t.height!==dn.height||Yn<Et||Rn>Tt)){Rn>Et&&(dn.width+=Rn-Et,dn.x=Et),Yn<Tt&&(dn.width=Tt-Rn),ut.splice(ct,1);break}}else{br>Ot&&(dn.height+=br-Ot,dn.y=Ot),Kn<zt&&(dn.height=zt-br),ut.splice(ct,1);break}}}return ut},a.findHostInstance=dm,a.findHostInstanceWithNoPortals=function(ut){return ut=At(ut),ut=ut!==null?kt(ut):null,ut===null?null:ut.stateNode},a.findHostInstanceWithWarning=function(ut){return dm(ut)},a.flushControlled=function(ut){var ct=Ar;Ar|=1;var _t=fo.transition,Et=Fr;try{fo.transition=null,Fr=1,ut()}finally{Fr=Et,fo.transition=_t,Ar=ct,Ar===0&&(Kl(),_i())}},a.flushPassiveEffects=mu,a.flushSync=rm,a.focusWithin=function(ut,ct){if(!Gn)throw Error(_e(363));for(ut=r0(ut),ct=Yu(ut,ct),ct=Array.from(ct),ut=0;ut<ct.length;){var _t=ct[ut++];if(!On(_t)){if(_t.tag===5&&pr(_t.stateNode))return!0;for(_t=_t.child;_t!==null;)ct.push(_t),_t=_t.sibling}}return!1},a.getCurrentUpdatePriority=function(){return Fr},a.getFindAllNodesFailureDescription=function(ut,ct){if(!Gn)throw Error(_e(363));var _t=0,Et=[];ut=[r0(ut),0];for(var Tt=0;Tt<ut.length;){var Ot=ut[Tt++],zt=ut[Tt++],nn=ct[zt];if((Ot.tag!==5||!On(Ot))&&(Z0(Ot,nn)&&(Et.push(J0(nn)),zt++,zt>_t&&(_t=zt)),zt<ct.length))for(Ot=Ot.child;Ot!==null;)ut.push(Ot,zt),Ot=Ot.sibling}if(_t<ct.length){for(ut=[];_t<ct.length;_t++)ut.push(J0(ct[_t]));return`findAllNodes was able to match part of the selector:
  `+(Et.join(" > ")+`

No matching component was found for:
  `)+ut.join(" > ")}return null},a.getPublicRootInstance=function(ut){if(ut=ut.current,!ut.child)return null;switch(ut.child.tag){case 5:return Dt(ut.child.stateNode);default:return ut.child.stateNode}},a.injectIntoDevTools=function(ut){if(ut={bundleType:ut.bundleType,version:ut.version,rendererPackageName:ut.rendererPackageName,rendererConfig:ut.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rt.ReactCurrentDispatcher,findHostInstanceByFiber:m0,findFiberByHostInstance:ut.findFiberByHostInstance||fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")ut=!1;else{var ct=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ct.isDisabled||!ct.supportsFiber)ut=!0;else{try{Kr=ct.inject(ut),Ir=ct}catch{}ut=!!ct.checkDCE}}return ut},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(ut,ct,_t,Et){if(!Gn)throw Error(_e(363));ut=em(ut,ct);var Tt=lr(ut,_t,Et).disconnect;return{disconnect:function(){Tt()}}},a.registerMutableSourceForHydration=function(ut,ct){var _t=ct._getVersion;_t=_t(ct._source),ut.mutableSourceEagerHydrationData==null?ut.mutableSourceEagerHydrationData=[ct,_t]:ut.mutableSourceEagerHydrationData.push(ct,_t)},a.runWithPriority=function(ut,ct){var _t=Fr;try{return Fr=ut,ct()}finally{Fr=_t}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(ut,ct,_t,Et){var Tt=ct.current,Ot=Ko(),zt=Ro(Tt);return _t=cm(_t),ct.context===null?ct.context=_t:ct.pendingContext=_t,ct=xl(Ot,zt),ct.payload={element:ut},Et=Et===void 0?null:Et,Et!==null&&(ct.callback=Et),ut=Ul(Tt,ct,zt),ut!==null&&(bs(ut,Tt,zt,Ot),Np(ut,Tt,zt)),zt},a};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const ReactFiberReconciler=getDefaultExportFromCjs(reactReconcilerExports);var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event",DRAGGABLE_WARNING=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Z_INDEX_WARNING=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,EMPTY_PROPS={};function applyNodeProps(o,i,a=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in i&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&i.draggable){var s=i.x!==void 0||i.y!==void 0,$=i.onDragEnd||i.onDragMove;s&&!$&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var et in a)if(!propsToSkip[et]){var _e=et.slice(0,2)==="on",rt=a[et]!==i[et];if(_e&&rt){var ot=et.substr(2).toLowerCase();ot.substr(0,7)==="content"&&(ot="content"+ot.substr(7,1).toUpperCase()+ot.substr(8)),o.off(ot,a[et])}var it=!i.hasOwnProperty(et);it&&o.setAttr(et,void 0)}var at=i._useStrictMode,j={},_=!1;const tt={};for(var et in i)if(!propsToSkip[et]){var _e=et.slice(0,2)==="on",nt=a[et]!==i[et];if(_e&&nt){var ot=et.substr(2).toLowerCase();ot.substr(0,7)==="content"&&(ot="content"+ot.substr(7,1).toUpperCase()+ot.substr(8)),i[et]&&(tt[ot]=i[et])}!_e&&(i[et]!==a[et]||at&&i[et]!==o.getAttr(et))&&(_=!0,j[et]=i[et])}_&&(o.setAttrs(j),updatePicture(o));for(var ot in tt)o.on(ot+EVENTS_NAMESPACE,tt[ot])}function updatePicture(o){if(!Global.Konva.autoDrawEnabled){var i=o.getLayer()||o.getStage();i&&i.batchDraw()}}const NO_CONTEXT={},UPDATE_SIGNAL={};Konva.Node.prototype._applyProps=applyNodeProps;function appendInitialChild(o,i){if(typeof i=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${i}`);return}o.add(i),updatePicture(o)}function createInstance(o,i,a){let s=Konva[o];s||(console.error(`Konva has no node with the type ${o}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${o}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),s=Konva.Group);const $={},et={};for(var _e in i){var rt=_e.slice(0,2)==="on";rt?et[_e]=i[_e]:$[_e]=i[_e]}const ot=new s($);return applyNodeProps(ot,et),ot}function createTextInstance(o,i,a){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${o}"`)}function finalizeInitialChildren(o,i,a){return!1}function getPublicInstance(o){return o}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(o,i,a,s){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(o){}function shouldDeprioritizeSubtree(o,i){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(o,i){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(o,i){i.parent===o?i.moveToTop():o.add(i),updatePicture(o)}function appendChildToContainer(o,i){i.parent===o?i.moveToTop():o.add(i),updatePicture(o)}function insertBefore(o,i,a){i._remove(),o.add(i),i.setZIndex(a.getZIndex()),updatePicture(o)}function insertInContainerBefore(o,i,a){insertBefore(o,i,a)}function removeChild(o,i){i.destroy(),i.off(EVENTS_NAMESPACE),updatePicture(o)}function removeChildFromContainer(o,i){i.destroy(),i.off(EVENTS_NAMESPACE),updatePicture(o)}function commitTextUpdate(o,i,a){console.error(`Text components are not yet supported in ReactKonva. You text is: "${a}"`)}function commitMount(o,i,a){}function commitUpdate(o,i,a,s,$){applyNodeProps(o,$,s)}function hideInstance(o){o.hide(),updatePicture(o)}function hideTextInstance(o){}function unhideInstance(o,i){(i.visible==null||i.visible)&&o.show()}function unhideTextInstance(o,i){}function clearContainer(o){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constantsExports.DefaultEventPriority,HostConfig=Object.freeze(Object.defineProperty({__proto__:null,appendChild,appendChildToContainer,appendInitialChild,cancelTimeout,clearContainer,commitMount,commitTextUpdate,commitUpdate,createInstance,createTextInstance,detachDeletedInstance,finalizeInitialChildren,getChildHostContext,getCurrentEventPriority,getPublicInstance,getRootHostContext,hideInstance,hideTextInstance,idlePriority:schedulerExports.unstable_IdlePriority,insertBefore,insertInContainerBefore,isPrimaryRenderer,noTimeout,now:schedulerExports.unstable_now,prepareForCommit,preparePortalMount,prepareUpdate,removeChild,removeChildFromContainer,resetAfterCommit,resetTextContent,run:schedulerExports.unstable_runWithPriority,scheduleTimeout,shouldDeprioritizeSubtree,shouldSetTextContent,supportsMutation,unhideInstance,unhideTextInstance,warnsIfNotActing},Symbol.toStringTag,{value:"Module"}));var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(o,i,a)=>i in o?__defProp(o,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[i]=a,__spreadValues=(o,i)=>{for(var a in i||(i={}))__hasOwnProp.call(i,a)&&__defNormalProp(o,a,i[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(i))__propIsEnum.call(i,a)&&__defNormalProp(o,a,i[a]);return o},__spreadProps=(o,i)=>__defProps(o,__getOwnPropDescs(i));function traverseFiber(o,i,a){if(!o)return;if(a(o)===!0)return o;let s=i?o.return:o.child;for(;s;){const $=traverseFiber(s,i,a);if($)return $;s=i?null:s.sibling}}function wrapContext(o){try{return Object.defineProperties(o,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return o}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const o=reactExports.useContext(FiberContext);if(o===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=reactExports.useId();return reactExports.useMemo(()=>{for(const s of[ReactCurrentOwner==null?void 0:ReactCurrentOwner.current,o,o==null?void 0:o.alternate]){if(!s)continue;const $=traverseFiber(s,!1,et=>{let _e=et.memoizedState;for(;_e;){if(_e.memoizedState===i)return!0;_e=_e.next}});if($)return $}},[o,i])}function useContextMap(){var o,i;const a=useFiber(),[s]=reactExports.useState(()=>new Map);s.clear();let $=a;for(;$;){const et=(o=$.type)==null?void 0:o._context;et&&et!==FiberContext&&!s.has(et)&&s.set(et,(i=ReactCurrentDispatcher==null?void 0:ReactCurrentDispatcher.current)==null?void 0:i.readContext(wrapContext(et))),$=$.return}return s}function useContextBridge(){const o=useContextMap();return reactExports.useMemo(()=>Array.from(o.keys()).reduce((i,a)=>s=>reactExports.createElement(i,null,reactExports.createElement(a.Provider,__spreadProps(__spreadValues({},s),{value:o.get(a)}))),i=>reactExports.createElement(FiberProvider,__spreadValues({},i))),[o])}function usePrevious(o){const i=React.useRef({});return React.useLayoutEffect(()=>{i.current=o}),React.useLayoutEffect(()=>()=>{i.current={}},[]),i.current}const StageWrap=o=>{const i=React.useRef(),a=React.useRef(),s=React.useRef(),$=usePrevious(o),et=useContextBridge(),_e=rt=>{const{forwardedRef:ot}=o;ot&&(typeof ot=="function"?ot(rt):ot.current=rt)};return React.useLayoutEffect(()=>(a.current=new Konva.Stage({width:o.width,height:o.height,container:i.current}),_e(a.current),s.current=KonvaRenderer.createContainer(a.current,constantsExports.LegacyRoot,!1,null),KonvaRenderer.updateContainer(React.createElement(et,{},o.children),s.current),()=>{Konva.isBrowser&&(_e(null),KonvaRenderer.updateContainer(null,s.current,null),a.current.destroy())}),[]),React.useLayoutEffect(()=>{_e(a.current),applyNodeProps(a.current,o,$),KonvaRenderer.updateContainer(React.createElement(et,{},o.children),s.current,null)}),React.createElement("div",{ref:i,id:o.id,accessKey:o.accessKey,className:o.className,role:o.role,style:o.style,tabIndex:o.tabIndex,title:o.title})},Layer="Layer",Rect="Rect",Circle="Circle",Image$1="Image",Ring="Ring",Path="Path",KonvaRenderer=ReactFiberReconciler(HostConfig);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:React.version,rendererPackageName:"react-konva"});const Stage$1=React.forwardRef((o,i)=>React.createElement(FiberProvider,{},React.createElement(StageWrap,{...o,forwardedRef:i}))),canvasScaleInitializer=({width:o,height:i,containerRef:a,shouldFitToWidth:s})=>{var _e,rt;const $=((_e=a.current)==null?void 0:_e.offsetWidth)||o,et=((rt=a.current)==null?void 0:rt.offsetHeight)||i;return canvasScaleResizer({width:o,height:i,containerWidth:$,containerHeight:et,shouldFitToWidth:s})},canvasScaleResizer=({width:o,height:i,containerWidth:a,containerHeight:s,shouldFitToWidth:$})=>{const et=window.innerWidth<768;let _e=1;const rt=a/o,ot=s/i;et?_e=Math.max(rt,ot):$?_e=rt:_e=Math.min(rt,ot);const it=_e*o,at=_e*i;return{scalingStyle:{transform:`scale(${_e})`,transformOrigin:"left top"},scaledDimensionsStyle:{width:it,height:at},scaledWidth:it,scaledHeight:at,containerWidth:a,containerHeight:s}},DETECTRON2_COLORS=[[0,.447,.741],[.85,.325,.098],[.929,.694,.125],[.494,.184,.556],[.466,.674,.188],[.301,.745,.933],[.635,.078,.184],[.3,.3,.3],[.6,.6,.6],[1,0,0],[1,.5,0],[.749,.749,0],[0,1,0],[0,0,1],[.667,0,1],[.333,.333,0],[.333,.667,0],[.333,1,0],[.667,.333,0],[.667,.667,0],[.667,1,0],[1,.333,0],[1,.667,0],[1,1,0],[0,.333,.5],[0,.667,.5],[0,1,.5],[.333,0,.5],[.333,.333,.5],[.333,.667,.5],[.333,1,.5],[.667,0,.5],[.667,.333,.5],[.667,.667,.5],[.667,1,.5],[1,0,.5],[1,.333,.5],[1,.667,.5],[1,1,.5],[0,.333,1],[0,.667,1],[0,1,1],[.333,0,1],[.333,.333,1],[.333,.667,1],[.333,1,1],[.667,0,1],[.667,.333,1],[.667,.667,1],[.667,1,1],[1,0,1],[1,.333,1],[1,.667,1],[.333,0,0],[.5,0,0],[.667,0,0],[.833,0,0],[1,0,0],[0,.167,0],[0,.333,0],[0,.5,0],[0,.667,0],[0,.833,0],[0,1,0],[0,0,.167],[0,0,.333],[0,0,.5],[0,0,.667],[0,0,.833],[0,0,1],[0,0,0],[.143,.143,.143],[.857,.857,.857],[1,1,1]],colors=function(){const o=[];return DETECTRON2_COLORS.map(i=>{const[a,s,$]=i.map(et=>Math.round(et*255));o.push(`rgb(${a},${s},${$})`)}),o}(),SvgMask=({xScale:o,yScale:i,svgStr:a,id:s="",className:$=""})=>{const{click:[et],image:[_e],isLoading:[rt],isErasing:[ot],svg:[it],isMultiMaskMode:[at]}=reactExports.useContext(AppContext),[j,_]=reactExports.useState(Math.random()),[tt,nt]=reactExports.useState(void 0),st=reactExports.useRef(null),dt=()=>{st!=null&&st.current&&nt(st.current.getBBox())};reactExports.useEffect(()=>{rt||_(Math.random()),dt()},[it]);const ft=tt==null?void 0:tt.x,gt=tt==null?void 0:tt.y,pt=tt==null?void 0:tt.width,mt=tt==null?void 0:tt.height,vt=gt&&mt&&gt+mt/2,yt=pt&&pt/o;return jsxRuntimeExports.jsxs("svg",{className:`absolute w-full h-full pointer-events-none ${$}`,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${o} ${i}`,children:[!at&&ft&&pt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("radialGradient",{id:"gradient"+s,cx:0,cy:0,r:pt,gradientUnits:"userSpaceOnUse",gradientTransform:`translate(${ft-pt/4},${vt})`,children:[jsxRuntimeExports.jsx("stop",{offset:0,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:.25,stopColor:"white",stopOpacity:.7}),jsxRuntimeExports.jsx("stop",{offset:.5,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:.75,stopColor:"white",stopOpacity:.7}),jsxRuntimeExports.jsx("stop",{offset:1,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("animateTransform",{attributeName:"gradientTransform",attributeType:"XML",type:"scale",from:0,to:12,dur:"1.5s",begin:".3s",fill:"freeze",additive:"sum"})]})}),jsxRuntimeExports.jsx("clipPath",{id:"clip-path"+s,children:jsxRuntimeExports.jsx("path",{d:a})}),jsxRuntimeExports.jsxs("filter",{id:"glow"+s,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:"#1d85bb"}),jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#1d85bb"}),jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"6",floodColor:"#1d85bb"})]}),jsxRuntimeExports.jsx("image",{width:"100%",height:"100%",xlinkHref:_e==null?void 0:_e.src,clipPath:`url(#clip-path${s})`}),!et&&(!rt||ot)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!at&&yt&&jsxRuntimeExports.jsx("path",{id:"mask-gradient"+s,className:`mask-gradient ${yt>.5&&window.innerWidth<768?"hidden":""}`,d:a,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"0",fillOpacity:"1",fill:`url(#gradient${s})`}),jsxRuntimeExports.jsx("path",{id:"mask-path"+s,className:"mask-path",d:a,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:".8",fillOpacity:"0",stroke:"#1d85bb",strokeWidth:"3",ref:st,filter:`url(#glow${s})`})]})]},j)};Konva$1.pixelRatio=1;const Canvas=reactExports.memo(({konvaRef:o,handleMouseUp:i,scale:a,handleMouseDown:s,handleMouseMove:$,handleMouseOut:et,annotations:_e,newAnnotation:rt,containerRef:ot,hasClicked:it,setCanvasScale:at,isStandalone:j,isHoverToolTip:[,_],allText:[,tt]})=>{const{click:[nt],clicks:[st,dt],image:[ft],svg:[gt],svgs:[pt],allsvg:[mt],segmentTypes:[vt],isErased:[yt],isErasing:[xt],isLoading:[wt,St],canvasWidth:[,Ct],canvasHeight:[,At],maskImg:[$t],stickerTabBool:[Rt,kt],isModelLoaded:[Lt],isMultiMaskMode:[Dt],isHovering:[Mt,Vt],didShowAMGAnimation:[Kt,Yt],isAllAnimationDone:[,Jt]}=reactExports.useContext(AppContext);if(!ft)return null;const ln=1677721,wn=a.width,_n=a.height,Cn=wn*_n>ln?Math.sqrt(ln/(wn*_n)):1,Ht={width:Math.floor(wn*Cn),height:Math.floor(_n*Cn)},cn=new window.Image;cn.src=ft.src,cn.width=wn,cn.height=_n;const gn=canvasScaleInitializer({width:Ht.width,height:Ht.height,containerRef:ot,shouldFitToWidth:j}),[jn,xn]=reactExports.useState(gn.scalingStyle),[Bn,Mn]=reactExports.useState(gn.scaledDimensionsStyle),[Zn,Fn]=reactExports.useState(null),[wr,Jn]=reactExports.useState(!1),[dr,or]=reactExports.useState(0),Gn=reactExports.useRef(null),[rr,Qn]=reactExports.useState([]),[ar,On]=reactExports.useState(!1),Nn=reactExports.useRef(!1),pr=[..._e,...rt],lr="turquoise",Tr="pink",Br=Gt=>{switch(Gt){case 0:return Tr;case 1:return lr;default:return null}},jr=nt?Br(nt.clickType):null,Jr=new ResizeObserver(Gt=>{for(const Qt of Gt)if(Qt.target===ot.current){let en,sn;if(Qt.contentBoxSize){const hn=Array.isArray(Qt.contentBoxSize)?Qt.contentBoxSize[0]:Qt.contentBoxSize;en=hn.inlineSize,sn=hn.blockSize}else en=Qt.contentRect.width,sn=Qt.contentRect.height;const un=canvasScaleResizer({width:Ht.width,height:Ht.height,containerWidth:en,containerHeight:sn,shouldFitToWidth:j});Ct(un.scaledWidth),At(un.scaledHeight),Mn(un.scaledDimensionsStyle),xn(un.scalingStyle)}});reactExports.useEffect(()=>{if(vt==="All")Nn.current=!0,On(!0);else{if(Nn.current=!1,On(!1),rr.forEach(Qt=>clearTimeout(Qt)),Qn([]),o===null||o.current===null)return;const Gt=o.current.findOne(".animateAllSvg");Gt.destroyChildren(),Gt.draw()}},[vt]);const Xn=()=>{if(console.log("animateAllSvg"),console.log(Kt),console.log(o),Kt||o===null||o.current===null)return;Jt(!1);const Gt=o.current.findOne(".animateAllSvg");Gt.find("Circle").forEach(Ln=>Ln.destroy()),Gt.find("Path").forEach(Ln=>Ln.destroy());const Qt=Ht.width/32,en=Ht.height/32,un=Math.max(1.5,2.5*Cn/a.uploadScale),hn=2*un,Sn=Ln=>new Promise((ir,rn)=>setTimeout(()=>{ar&&Nn.current?ir():rn()},Ln));(async()=>{try{tt("Prompting SAM with each point in the grid");for(let Ln=0;Ln<=32;Ln++){await Sn(50);for(let ir=0;ir<=32;ir++){const rn=new Konva$1.Circle({x:Qt*(Ln+.5),y:en*(ir+.5),radius:un,fill:"white",perfectDrawEnabled:!1,opacity:0});Gt.add(rn),rn.to({opacity:1,duration:1,easing:Konva$1.Easings.EaseInOut});const Hn=setTimeout(()=>{rn.to({opacity:0,duration:1,easing:Konva$1.Easings.EaseInOut})},2700);Qn(sr=>[...sr,Hn])}}}catch{console.log("Rejected")}})(),(async()=>{try{if(Yt(!0),await Sn(2300),tt("Final points after de-duplicating predicted masks"),!mt||!a)return;mt.map(async({svg:Ln,point_coord:ir},rn)=>{const Hn=new Konva$1.Circle({x:ir[0]*(Cn/a.uploadScale),y:ir[1]*(Cn/a.uploadScale),radius:un,fill:"white",perfectDrawEnabled:!1}),sr=new Konva$1.Path({key:rn,id:`${rn}`,data:Ln.join(" "),fill:colors[rn%colors.length],stroke:"blue",strokeWidth:3,scaleX:Cn/a.uploadScale,scaleY:Cn/a.uploadScale,opacity:0,lineCap:"round",lineJoin:"round",preventDefault:!1,perfectDrawEnabled:!1});Gt.add(sr),Gt.add(Hn),Gt.draw(),Hn.to({duration:1,radius:hn,easing:Konva$1.Easings.EaseInOut});const Gr=setTimeout(()=>{sr.to({opacity:.4,duration:1,easing:Konva$1.Easings.EaseInOut})},2600),Hr=setTimeout(()=>{tt("All of the predicted masks"),Hn.to({duration:1,opacity:0,easing:Konva$1.Easings.EaseInOut})},3500),oo=setTimeout(()=>{Jt(!0),tt(jsxRuntimeExports.jsxs("span",{children:["Interested in learning more? Check out the"," ",jsxRuntimeExports.jsx("a",{href:"https://ai.facebook.com/research/publications/segment-anything/",target:"_blank",className:"underline",children:"Paper"}),","," ",jsxRuntimeExports.jsx("a",{href:"https://ai.facebook.com/blog/segment-anything-foundation-model-image-segmentation/",target:"_blank",className:"underline",children:"Blog Post"}),", or"," ",jsxRuntimeExports.jsx("a",{href:"https://github.com/facebookresearch/segment-anything",target:"_blank",className:"underline",children:"Code"}),"."]}))},5e3);Qn(go=>[...go,Gr,Hr,oo])})}catch{console.log("Rejected")}})()};reactExports.useEffect(()=>(at(Cn),Ct(gn.scaledWidth),At(gn.scaledHeight),ot.current&&Jr.observe(ot.current),()=>{ot.current&&Jr.unobserve(ot.current)}),[]);const Ft=Gt=>{setTimeout(()=>window.requestAnimationFrame(()=>{setTimeout(()=>{Gt()},0)}),0)};reactExports.useEffect(()=>{let Gt=null;st&&nt?Gt=[...st,nt]:nt&&(Gt=[nt]),Gt&&Ft(()=>Ft(()=>dt(Gt)))},[nt]),reactExports.useEffect(()=>{const Gt=j?0:144,Qt=Gn.current;if(Qt){const en=gn.scaledWidth-gn.containerWidth,sn=gn.scaledHeight-gn.containerHeight;Qt.scrollLeft=en/2,Qt.scrollTop=Gt+sn/2}},[jn]),reactExports.useEffect(()=>{Mt&&st&&st.length==1?(console.log("isHovering setShouldShowAnimation"),console.log(st),Fn(!0)):Fn(!1)},[st,Mt]);const Bt=vt==="All"&&wt||wt&&!it&&!Lt.boxModel||wt&&xt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Bt&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 flex items-center justify-center w-full h-full md:hidden"}),jsxRuntimeExports.jsx("div",{className:`absolute w-full h-full overflow-auto Canvas-wrapper md:overflow-visible md:w-auto md:h-auto absolute-center ${j?"":"pt-36 pb-14 md:p-0"}`,ref:Gn,children:jsxRuntimeExports.jsxs("div",{onMouseOver:()=>{_(!0),vt==="Click"&&Dt&&(console.log("onMouseOver"),Vt(!0))},onMouseOut:()=>{_(!1),vt==="Click"&&Dt&&st!==null&&st.length===1&&(console.log("onMouseOut"),Vt(!1))},className:`Canvas relative ${wt?"pointer-events-none":""} ${Zn?"rotate":Mt===!1?"unrotate":""} ${Dt?"multi-mask-mode":""}`,style:Bn,children:[jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full bg-black pointer-events-none background"}),jsxRuntimeExports.jsx("img",{src:ft.src,className:`absolute w-full h-full pointer-events-none ${wt||it&&!Dt||Dt&&st?"opacity-50":""}`,style:{margin:0}}),vt!=="All"&&gt&&pt&&a&&it&&Dt&&pt.map((Gt,Qt)=>jsxRuntimeExports.jsx(SvgMask,{id:`${Qt}`,className:`mask-${Qt+1}-of-${pt.length}`,xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:Gt.join(" ")},Qt)).concat(jsxRuntimeExports.jsx(SvgMask,{className:"mask-best",xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:gt.join(" ")},gt.join(" "))),vt!=="All"&&gt&&a&&it&&!Dt&&jsxRuntimeExports.jsx(SvgMask,{id:gt.join(" "),xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:gt.join(" ")},gt.join(" ")),jsxRuntimeExports.jsxs(Stage$1,{className:"konva",width:Ht.width,height:Ht.height,onMouseDown:Gt=>{Rt||s(Gt)},onMouseUp:Gt=>{if(Rt){kt(!1);return}vt!=="All"&&(Dt&&st||(St(!0),i(Gt)))},onMouseMove:$,onMouseOut:et,onMouseLeave:et,onTouchStart:Gt=>{Rt||(s(Gt),or(Qt=>Qt+1))},onTouchEnd:Gt=>{Rt||(vt!=="All"&&!wr&&dr===1&&(St(!0),Ft(()=>Ft(()=>i(Gt,!0)))),Jn(!1),or(0))},onTouchMove:()=>{Jn(!0)},onContextMenu:Gt=>Gt.evt.preventDefault(),ref:o,style:jn,children:[jsxRuntimeExports.jsxs(Layer,{name:"svgMask",children:[jsxRuntimeExports.jsx(Image$1,{x:0,y:0,image:cn,width:Ht.width,height:Ht.height,opacity:0,preventDefault:!1}),vt!=="All"?gt&&a&&it&&jsxRuntimeExports.jsx(Path,{data:gt.join(" "),fill:"black",scaleX:Cn/a.uploadScale,scaleY:Cn/a.uploadScale,lineCap:"round",lineJoin:"round",opacity:0,preventDefault:!1}):mt&&a&&mt.map(({svg:Gt},Qt)=>jsxRuntimeExports.jsx(Path,{id:Gt.join(" "),data:Gt.join(" "),fill:colors[Qt%colors.length],stroke:"blue",strokeWidth:3,scaleX:Cn/a.uploadScale,scaleY:Cn/a.uploadScale,opacity:.5,lineCap:"round",lineJoin:"round",preventDefault:!1,visible:!1},Qt))]}),jsxRuntimeExports.jsx(Layer,{name:"animateAllSvg",children:vt==="All"&&ar&&Xn()}),jsxRuntimeExports.jsxs(Layer,{name:"annotations",children:[st&&it&&st.map((Gt,Qt)=>{const en=Br(Gt.clickType);return en&&jsxRuntimeExports.jsx(Circle,{id:`${Qt}`,x:Gt.x*Cn/a.scale,y:Gt.y*Cn/a.scale,fill:en,radius:5*Cn/a.scale,shadowBlur:5,shadowColor:en===lr?"black":en,preventDefault:!1},Qt)}),nt&&jr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Circle,{x:nt.x*Cn/a.scale,y:nt.y*Cn/a.scale,fill:jr,shadowColor:jr===lr?"black":Tr,shadowBlur:5,preventDefault:!1,radius:5*Cn/a.scale}),jsxRuntimeExports.jsx(Ring,{x:nt.x*Cn/a.scale,y:nt.y*Cn/a.scale,fill:jr,shadowColor:jr===lr?"black":Tr,shadowBlur:5,preventDefault:!1,radius:55*Cn/a.scale,innerRadius:50*Cn/a.scale,outerRadius:60*Cn/a.scale})]}),!yt&&pr.map((Gt,Qt)=>jsxRuntimeExports.jsx(Rect,{id:`${Qt}`,x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height,fill:"transparent",stroke:"white",strokeWidth:1.5,preventDefault:!1},Qt))]})]}),vt!=="All"&&$t&&!it&&jsxRuntimeExports.jsx("img",{src:$t==null?void 0:$t.src,style:{margin:0},className:"absolute top-0 opacity-40 pointer-events-none w-full h-full"}),Bt&&jsxRuntimeExports.jsx("div",{className:"hidden absolute z-10 md:flex items-center justify-center w-full h-full top-0"})]})})]})}),LoadingModal=({handleResetState:o})=>{const{showLoadingModal:[i],isErasing:[a],eraserText:[s],image:[$]}=reactExports.useContext(AppContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i&&jsxRuntimeExports.jsx("div",{className:"modal modal-open",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-72 modal-box",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("img",{className:"object-contain w-10 mr-3",src:$==null?void 0:$.src}),jsxRuntimeExports.jsx("img",{className:"mr-3",src:"/assets/arrow-icn.svg"}),jsxRuntimeExports.jsx("img",{src:"/assets/icn-nn.svg"}),jsxRuntimeExports.jsx("img",{className:"mr-3",src:"/assets/arrow-icn.svg"}),jsxRuntimeExports.jsx("img",{src:"/assets/stack.svg"})]}),jsxRuntimeExports.jsxs("p",{className:"py-4 text-sm md:text-lg",children:[a&&s.isEmbedding&&"Re-extracting embedding on the erased image",a&&s.isErase&&"Masks can be fed into other open source models",!a&&"Extracting an embedding for the image..."]}),jsxRuntimeExports.jsx("div",{className:"loading-bar"}),jsxRuntimeExports.jsx("button",{className:"pt-8 text-lg font-bold",onClick:o,children:"Cancel"})]})})})};function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}function _toPrimitive(o,i){if(_typeof(o)!=="object"||o===null)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var s=a.call(o,i||"default");if(_typeof(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _toPropertyKey(o){var i=_toPrimitive(o,"string");return _typeof(i)==="symbol"?i:String(i)}function _defineProperties(o,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,_toPropertyKey(s.key),s)}}function _createClass(o,i,a){return i&&_defineProperties(o.prototype,i),a&&_defineProperties(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}function _setPrototypeOf$1(o,i){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,$){return s.__proto__=$,s},_setPrototypeOf$1(o,i)}function _inherits(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$1(o,i)}function _getPrototypeOf$1(o){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf$1(o)}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _possibleConstructorReturn(o,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _createSuper(o){var i=_isNativeReflectConstruct$1();return function(){var s=_getPrototypeOf$1(o),$;if(i){var et=_getPrototypeOf$1(this).constructor;$=Reflect.construct(s,arguments,et)}else $=s.apply(this,arguments);return _possibleConstructorReturn(this,$)}}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var i={}.hasOwnProperty;function a(){for(var s=[],$=0;$<arguments.length;$++){var et=arguments[$];if(et){var _e=typeof et;if(_e==="string"||_e==="number")s.push(et);else if(Array.isArray(et)){if(et.length){var rt=a.apply(null,et);rt&&s.push(rt)}}else if(_e==="object"){if(et.toString!==Object.prototype.toString&&!et.toString.toString().includes("[native code]")){s.push(et.toString());continue}for(var ot in et)i.call(et,ot)&&et[ot]&&s.push(ot)}}}return s.join(" ")}o.exports?(a.default=a,o.exports=a):window.classNames=a})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$1.apply(this,arguments)}var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case c:switch(o=o.type,o){case l:case m:case e:case g:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k:case n:case t:case r:case h:return o;default:return i}}case d:return i}}}function A(o){return z(o)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A(o)||z(o)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(o){return z(o)===k};reactIs_production_min.isContextProvider=function(o){return z(o)===h};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z(o)===n};reactIs_production_min.isFragment=function(o){return z(o)===e};reactIs_production_min.isLazy=function(o){return z(o)===t};reactIs_production_min.isMemo=function(o){return z(o)===r};reactIs_production_min.isPortal=function(o){return z(o)===d};reactIs_production_min.isProfiler=function(o){return z(o)===g};reactIs_production_min.isStrictMode=function(o){return z(o)===f};reactIs_production_min.isSuspense=function(o){return z(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m||o===g||o===f||o===p||o===q||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h||o.$$typeof===k||o.$$typeof===n||o.$$typeof===w||o.$$typeof===x||o.$$typeof===y||o.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;function toArray$1(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[];return React.Children.forEach(o,function(s){s==null&&!i.keepEmpty||(Array.isArray(s)?a=a.concat(toArray$1(s)):reactIsExports.isFragment(s)&&s.props?a=a.concat(toArray$1(s.props.children,i)):a.push(s))}),a}var warned={},preMessage=function o(i){};function warning$2(o,i){}function note(o,i){}function resetWarned(){warned={}}function call(o,i,a){!i&&!warned[a]&&(o(!1,a),warned[a]=!0)}function warningOnce(o,i){call(warning$2,o,i)}function noteOnce(o,i){call(note,o,i)}warningOnce.preMessage=preMessage;warningOnce.resetWarned=resetWarned;warningOnce.noteOnce=noteOnce;function _defineProperty(o,i,a){return i=_toPropertyKey(i),i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function ownKeys(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),a.push.apply(a,s)}return a}function _objectSpread2(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(s){_defineProperty(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function useMemo(o,i,a){var s=reactExports.useRef({});return(!("value"in s.current)||a(s.current.condition,i))&&(s.current.value=o(),s.current.condition=i),s.current.value}function fillRef(o,i){typeof o=="function"?o(i):_typeof(o)==="object"&&o&&"current"in o&&(o.current=i)}function supportRef(o){var i,a,s=reactIsExports.isMemo(o)?o.type.type:o.type;return!(typeof s=="function"&&!((i=s.prototype)!==null&&i!==void 0&&i.render)||typeof o=="function"&&!((a=o.prototype)!==null&&a!==void 0&&a.render))}function isDOM(o){return o instanceof HTMLElement||o instanceof SVGElement}function findDOMNode(o){return isDOM(o)?o:o instanceof React.Component?ReactDOM.findDOMNode(o):null}function _arrayLikeToArray(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _unsupportedIterableToArray(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(o,i)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableSpread()}var raf=function o(i){return+setTimeout(i,16)},caf=function o(i){return clearTimeout(i)};typeof window<"u"&&"requestAnimationFrame"in window&&(raf=function(i){return window.requestAnimationFrame(i)},caf=function(i){return window.cancelAnimationFrame(i)});var rafUUID=0,rafIds=new Map;function cleanup(o){rafIds.delete(o)}var wrapperRaf=function o(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;var s=rafUUID;function $(et){if(et===0)cleanup(s),i();else{var _e=raf(function(){$(et-1)});rafIds.set(s,_e)}}return $(a),s};wrapperRaf.cancel=function(o){var i=rafIds.get(o);return cleanup(i),caf(i)};function murmur2(o){for(var i=0,a,s=0,$=o.length;$>=4;++s,$-=4)a=o.charCodeAt(s)&255|(o.charCodeAt(++s)&255)<<8|(o.charCodeAt(++s)&255)<<16|(o.charCodeAt(++s)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,i=(a&65535)*1540483477+((a>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch($){case 3:i^=(o.charCodeAt(s+2)&255)<<16;case 2:i^=(o.charCodeAt(s+1)&255)<<8;case 1:i^=o.charCodeAt(s)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}function _objectWithoutPropertiesLoose(o,i){if(o==null)return{};var a={},s=Object.keys(o),$,et;for(et=0;et<s.length;et++)$=s[et],!(i.indexOf($)>=0)&&(a[$]=o[$]);return a}function _objectWithoutProperties(o,i){if(o==null)return{};var a=_objectWithoutPropertiesLoose(o,i),s,$;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for($=0;$<et.length;$++)s=et[$],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(a[s]=o[s])}return a}function isEqual(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=new Set;function $(et,_e){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ot=s.has(et);if(warningOnce(!ot,"Warning: There may be circular references"),ot)return!1;if(et===_e)return!0;if(a&&rt>1)return!1;s.add(et);var it=rt+1;if(Array.isArray(et)){if(!Array.isArray(_e)||et.length!==_e.length)return!1;for(var at=0;at<et.length;at++)if(!$(et[at],_e[at],it))return!1;return!0}if(et&&_e&&_typeof(et)==="object"&&_typeof(_e)==="object"){var j=Object.keys(et);return j.length!==Object.keys(_e).length?!1:j.every(function(_){return $(et[_],_e[_],it)})}return!1}return $(o,i)}var Entity=function(){function o(i){_classCallCheck(this,o),_defineProperty(this,"instanceId",void 0),_defineProperty(this,"cache",new Map),this.instanceId=i}return _createClass(o,[{key:"get",value:function(a){return this.cache.get(a.join("%"))||null}},{key:"update",value:function(a,s){var $=a.join("%"),et=this.cache.get($),_e=s(et);_e===null?this.cache.delete($):this.cache.set($,_e)}}]),o}(),ATTR_TOKEN="data-token-hash",ATTR_MARK="data-css-hash",CSS_IN_JS_INSTANCE="__cssinjs_instance__";function createCache(){var o=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var i=document.body.querySelectorAll("style[".concat(ATTR_MARK,"]"))||[],a=document.head.firstChild;Array.from(i).forEach(function($){$[CSS_IN_JS_INSTANCE]=$[CSS_IN_JS_INSTANCE]||o,$[CSS_IN_JS_INSTANCE]===o&&document.head.insertBefore($,a)});var s={};Array.from(document.querySelectorAll("style[".concat(ATTR_MARK,"]"))).forEach(function($){var et=$.getAttribute(ATTR_MARK);if(s[et]){if($[CSS_IN_JS_INSTANCE]===o){var _e;(_e=$.parentNode)===null||_e===void 0||_e.removeChild($)}}else s[et]=!0})}return new Entity(o)}var StyleContext=reactExports.createContext({hashPriority:"low",cache:createCache(),defaultCache:!0});const StyleContext$1=StyleContext;function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains(o,i){if(!o)return!1;if(o.contains)return o.contains(i);for(var a=i;a;){if(a===o)return!0;a=a.parentNode}return!1}var APPEND_ORDER="data-rc-order",MARK_KEY="rc-util-key",containerCache=new Map;function getMark(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=o.mark;return i?i.startsWith("data-")?i:"data-".concat(i):MARK_KEY}function getContainer(o){if(o.attachTo)return o.attachTo;var i=document.querySelector("head");return i||document.body}function getOrder(o){return o==="queue"?"prependQueue":o?"prepend":"append"}function findStyles(o){return Array.from((containerCache.get(o)||o).children).filter(function(i){return i.tagName==="STYLE"})}function injectCSS(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var a=i.csp,s=i.prepend,$=document.createElement("style");$.setAttribute(APPEND_ORDER,getOrder(s)),a!=null&&a.nonce&&($.nonce=a==null?void 0:a.nonce),$.innerHTML=o;var et=getContainer(i),_e=et.firstChild;if(s){if(s==="queue"){var rt=findStyles(et).filter(function(ot){return["prepend","prependQueue"].includes(ot.getAttribute(APPEND_ORDER))});if(rt.length)return et.insertBefore($,rt[rt.length-1].nextSibling),$}et.insertBefore($,_e)}else et.appendChild($);return $}function findExistNode(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=getContainer(i);return findStyles(a).find(function(s){return s.getAttribute(getMark(i))===o})}function removeCSS(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=findExistNode(o,i);if(a){var s=getContainer(i);s.removeChild(a)}}function syncRealContainer(o,i){var a=containerCache.get(o);if(!a||!contains(document,a)){var s=injectCSS("",i),$=s.parentNode;containerCache.set(o,$),o.removeChild(s)}}function updateCSS(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=getContainer(a);syncRealContainer(s,a);var $=findExistNode(i,a);if($){var et,_e;if((et=a.csp)!==null&&et!==void 0&&et.nonce&&$.nonce!==((_e=a.csp)===null||_e===void 0?void 0:_e.nonce)){var rt;$.nonce=(rt=a.csp)===null||rt===void 0?void 0:rt.nonce}return $.innerHTML!==o&&($.innerHTML=o),$}var ot=injectCSS(o,a);return ot.setAttribute(getMark(a),i),ot}function flattenToken(o){var i="";return Object.keys(o).forEach(function(a){var s=o[a];i+=a,s&&_typeof(s)==="object"?i+=flattenToken(s):i+=s}),i}function token2key(o,i){return murmur2("".concat(i,"_").concat(flattenToken(o)))}var layerKey="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),layerWidth="903px";function supportSelector(o,i){if(canUseDom()){var a;updateCSS(o,layerKey);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",i==null||i(s),document.body.appendChild(s);var $=getComputedStyle(s).width===layerWidth;return(a=s.parentNode)===null||a===void 0||a.removeChild(s),removeCSS(layerKey),$}return!1}var canLayer=void 0;function supportLayer(){return canLayer===void 0&&(canLayer=supportSelector("@layer ".concat(layerKey," { .").concat(layerKey," { width: ").concat(layerWidth,"!important; } }"),function(o){o.className=layerKey})),canLayer}function _arrayWithHoles(o){if(Array.isArray(o))return o}function _iterableToArrayLimit(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s,$,et,_e,rt=[],ot=!0,it=!1;try{if(et=(a=a.call(o)).next,i===0){if(Object(a)!==a)return;ot=!1}else for(;!(ot=(s=et.call(a)).done)&&(rt.push(s.value),rt.length!==i);ot=!0);}catch(at){it=!0,$=at}finally{try{if(!ot&&a.return!=null&&(_e=a.return(),Object(_e)!==_e))return}finally{if(it)throw $}}return rt}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(o,i){return _arrayWithHoles(o)||_iterableToArrayLimit(o,i)||_unsupportedIterableToArray(o,i)||_nonIterableRest()}function useClientCache(o,i,a,s){var $=reactExports.useContext(StyleContext$1),et=$.cache,_e=[o].concat(_toConsumableArray(i));return reactExports.useMemo(function(){et.update(_e,function(rt){var ot=rt||[],it=_slicedToArray(ot,2),at=it[0],j=at===void 0?0:at,_=it[1],tt=_,nt=tt||a();return[j+1,nt]})},[_e.join("_")]),reactExports.useEffect(function(){return function(){et.update(_e,function(rt){var ot=rt||[],it=_slicedToArray(ot,2),at=it[0],j=at===void 0?0:at,_=it[1],tt=j-1;return tt===0?(s==null||s(_,!1),null):[j-1,_]})}},_e),et.get(_e)[1]}var EMPTY_OVERRIDE={},hashPrefix="css",tokenKeys=new Map;function recordCleanToken(o){tokenKeys.set(o,(tokenKeys.get(o)||0)+1)}function removeStyleTags(o,i){if(typeof document<"u"){var a=document.querySelectorAll("style[".concat(ATTR_TOKEN,'="').concat(o,'"]'));a.forEach(function(s){if(s[CSS_IN_JS_INSTANCE]===i){var $;($=s.parentNode)===null||$===void 0||$.removeChild(s)}})}}function cleanTokenStyle(o,i){tokenKeys.set(o,(tokenKeys.get(o)||0)-1);var a=Array.from(tokenKeys.keys()),s=a.filter(function($){var et=tokenKeys.get($)||0;return et<=0});s.length<a.length&&s.forEach(function($){removeStyleTags($,i),tokenKeys.delete($)})}var getComputedToken=function o(i,a,s,$){var et=s.getDerivativeToken(i),_e=_objectSpread2(_objectSpread2({},et),a);return $&&(_e=$(_e)),_e};function useCacheToken(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=reactExports.useContext(StyleContext$1),$=s.cache.instanceId,et=a.salt,_e=et===void 0?"":et,rt=a.override,ot=rt===void 0?EMPTY_OVERRIDE:rt,it=a.formatToken,at=reactExports.useMemo(function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(i)))},[i]),j=reactExports.useMemo(function(){return flattenToken(at)},[at]),_=reactExports.useMemo(function(){return flattenToken(ot)},[ot]),tt=useClientCache("token",[_e,o.id,j,_],function(){var nt=getComputedToken(at,ot,o,it),st=token2key(nt,_e);nt._tokenKey=st,recordCleanToken(st);var dt="".concat(hashPrefix,"-").concat(murmur2(st));return nt._hashId=dt,[nt,dt]},function(nt){cleanTokenStyle(nt[0]._tokenKey,$)});return tt}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(o){return o.trim()}function replace(o,i,a){return o.replace(i,a)}function indexof(o,i){return o.indexOf(i)}function charat(o,i){return o.charCodeAt(i)|0}function substr(o,i,a){return o.slice(i,a)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,i){return i.push(o),o}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,i,a,s,$,et,_e){return{value:o,root:i,parent:a,type:s,props:$,children:et,line,column,length:_e,return:""}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,i){return substr(characters,o,i)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace$1(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,i){for(;next()&&o+character!==47+10;)if(o+character===42+42&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse(o,i,a,s,$,et,_e,rt,ot){for(var it=0,at=0,j=_e,_=0,tt=0,nt=0,st=1,dt=1,ft=1,gt=0,pt="",mt=$,vt=et,yt=s,xt=pt;dt;)switch(nt=gt,gt=next()){case 40:if(nt!=108&&charat(xt,j-1)==58){indexof(xt+=replace(delimit(gt),"&","&\f"),"&\f")!=-1&&(ft=-1);break}case 34:case 39:case 91:xt+=delimit(gt);break;case 9:case 10:case 13:case 32:xt+=whitespace$1(nt);break;case 92:xt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,a),ot);break;default:xt+="/"}break;case 123*st:rt[it++]=strlen(xt)*ft;case 125*st:case 59:case 0:switch(gt){case 0:case 125:dt=0;case 59+at:ft==-1&&(xt=replace(xt,/\f/g,"")),tt>0&&strlen(xt)-j&&append(tt>32?declaration(xt+";",s,a,j-1):declaration(replace(xt," ","")+";",s,a,j-2),ot);break;case 59:xt+=";";default:if(append(yt=ruleset(xt,i,a,it,at,$,rt,pt,mt=[],vt=[],j),et),gt===123)if(at===0)parse(xt,i,yt,yt,mt,et,j,rt,vt);else switch(_===99&&charat(xt,3)===110?100:_){case 100:case 108:case 109:case 115:parse(o,yt,yt,s&&append(ruleset(o,yt,yt,0,0,$,rt,pt,$,mt=[],j),vt),$,vt,j,rt,s?mt:vt);break;default:parse(xt,yt,yt,yt,[""],vt,0,rt,vt)}}it=at=tt=0,st=ft=1,pt=xt="",j=_e;break;case 58:j=1+strlen(xt),tt=nt;default:if(st<1){if(gt==123)--st;else if(gt==125&&st++==0&&prev()==125)continue}switch(xt+=from(gt),gt*st){case 38:ft=at>0?1:(xt+="\f",-1);break;case 44:rt[it++]=(strlen(xt)-1)*ft,ft=1;break;case 64:peek()===45&&(xt+=delimit(next())),_=peek(),at=j=strlen(pt=xt+=identifier(caret())),gt++;break;case 45:nt===45&&strlen(xt)==2&&(st=0)}}return et}function ruleset(o,i,a,s,$,et,_e,rt,ot,it,at){for(var j=$-1,_=$===0?et:[""],tt=sizeof(_),nt=0,st=0,dt=0;nt<s;++nt)for(var ft=0,gt=substr(o,j+1,j=abs(st=_e[nt])),pt=o;ft<tt;++ft)(pt=trim(st>0?_[ft]+" "+gt:replace(gt,/&\f/g,_[ft])))&&(ot[dt++]=pt);return node(o,i,a,$===0?RULESET:rt,ot,it,at)}function comment(o,i,a){return node(o,i,a,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,i,a,s){return node(o,i,a,DECLARATION,substr(o,0,s),substr(o,s+1,-1),s)}function serialize(o,i){for(var a="",s=sizeof(o),$=0;$<s;$++)a+=i(o[$],$,o,i)||"";return a}function stringify$1(o,i,a,s){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,s)+"}";case RULESET:o.value=o.props.join(",")}return strlen(a=serialize(o.children,s))?o.return=o.value+"{"+a+"}":""}var isClientSide=canUseDom(),SKIP_CHECK="_skip_check_",MULTI_VALUE="_multi_value_";function normalizeStyle(o){var i=serialize(compile(o),stringify$1);return i.replace(/\{%%%\:[^;];}/g,";")}function isCompoundCSSProperty(o){return _typeof(o)==="object"&&o&&(SKIP_CHECK in o||MULTI_VALUE in o)}function injectSelectorHash(o,i,a){if(!i)return o;var s=".".concat(i),$=a==="low"?":where(".concat(s,")"):s,et=o.split(",").map(function(_e){var rt,ot=_e.trim().split(/\s+/),it=ot[0]||"",at=((rt=it.match(/^\w+/))===null||rt===void 0?void 0:rt[0])||"";return it="".concat(at).concat($).concat(it.slice(at.length)),[it].concat(_toConsumableArray(ot.slice(1))).join(" ")});return et.join(",")}var parseStyle=function o(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},$=s.root,et=s.injectHash,_e=s.parentSelectors,rt=a.hashId,ot=a.layer;a.path;var it=a.hashPriority,at=a.transformers,j=at===void 0?[]:at;a.linters;var _="",tt={};function nt(pt){var mt=pt.getName(rt);if(!tt[mt]){var vt=o(pt.style,a,{root:!1,parentSelectors:_e}),yt=_slicedToArray(vt,1),xt=yt[0];tt[mt]="@keyframes ".concat(pt.getName(rt)).concat(xt)}}function st(pt){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return pt.forEach(function(vt){Array.isArray(vt)?st(vt,mt):vt&&mt.push(vt)}),mt}var dt=st(Array.isArray(i)?i:[i]);if(dt.forEach(function(pt){var mt=typeof pt=="string"&&!$?{}:pt;if(typeof mt=="string")_+="".concat(mt,`
`);else if(mt._keyframe)nt(mt);else{var vt=j.reduce(function(yt,xt){var wt;return(xt==null||(wt=xt.visit)===null||wt===void 0?void 0:wt.call(xt,yt))||yt},mt);Object.keys(vt).forEach(function(yt){var xt=vt[yt];if(_typeof(xt)==="object"&&xt&&(yt!=="animationName"||!xt._keyframe)&&!isCompoundCSSProperty(xt)){var wt=!1,St=yt.trim(),Ct=!1;($||et)&&rt?St.startsWith("@")?wt=!0:St=injectSelectorHash(yt,rt,it):$&&!rt&&(St==="&"||St==="")&&(St="",Ct=!0);var At=o(xt,a,{root:Ct,injectHash:wt,parentSelectors:[].concat(_toConsumableArray(_e),[St])}),$t=_slicedToArray(At,2),Rt=$t[0],kt=$t[1];tt=_objectSpread2(_objectSpread2({},tt),kt),_+="".concat(St).concat(Rt)}else{let Vt=function(Kt,Yt){var Jt=Kt.replace(/[A-Z]/g,function(wn){return"-".concat(wn.toLowerCase())}),ln=Yt;!unitlessKeys[Kt]&&typeof ln=="number"&&ln!==0&&(ln="".concat(ln,"px")),Kt==="animationName"&&Yt!==null&&Yt!==void 0&&Yt._keyframe&&(nt(Yt),ln=Yt.getName(rt)),_+="".concat(Jt,":").concat(ln,";")};var Mt=Vt,Lt,Dt=(Lt=xt==null?void 0:xt.value)!==null&&Lt!==void 0?Lt:xt;_typeof(xt)==="object"&&xt!==null&&xt!==void 0&&xt[MULTI_VALUE]&&Array.isArray(Dt)?Dt.forEach(function(Kt){Vt(yt,Kt)}):Vt(yt,Dt)}})}}),!$)_="{".concat(_,"}");else if(ot&&supportLayer()){var ft=ot.split(","),gt=ft[ft.length-1].trim();_="@layer ".concat(gt," {").concat(_,"}"),ft.length>1&&(_="@layer ".concat(ot,"{%%%:%}").concat(_))}return[_,tt]};function uniqueHash(o,i){return murmur2("".concat(o.join("%")).concat(i))}function Empty(){return null}function useStyleRegister(o,i){var a=o.token,s=o.path,$=o.hashId,et=o.layer,_e=o.nonce,rt=reactExports.useContext(StyleContext$1),ot=rt.autoClear;rt.mock;var it=rt.defaultCache,at=rt.hashPriority,j=rt.container,_=rt.ssrInline,tt=rt.transformers,nt=rt.linters,st=rt.cache,dt=a._tokenKey,ft=[dt].concat(_toConsumableArray(s)),gt=isClientSide,pt=useClientCache("style",ft,function(){var wt=i(),St=parseStyle(wt,{hashId:$,hashPriority:at,layer:et,path:s.join("-"),transformers:tt,linters:nt}),Ct=_slicedToArray(St,2),At=Ct[0],$t=Ct[1],Rt=normalizeStyle(At),kt=uniqueHash(ft,Rt);if(gt){var Lt={mark:ATTR_MARK,prepend:"queue",attachTo:j},Dt=typeof _e=="function"?_e():_e;Dt&&(Lt.csp={nonce:Dt});var Mt=updateCSS(Rt,kt,Lt);Mt[CSS_IN_JS_INSTANCE]=st.instanceId,Mt.setAttribute(ATTR_TOKEN,dt),Object.keys($t).forEach(function(Vt){updateCSS(normalizeStyle($t[Vt]),"_effect-".concat(Vt),Lt)})}return[Rt,dt,kt]},function(wt,St){var Ct=_slicedToArray(wt,3),At=Ct[2];(St||ot)&&isClientSide&&removeCSS(At,{mark:ATTR_MARK})}),mt=_slicedToArray(pt,3),vt=mt[0],yt=mt[1],xt=mt[2];return function(wt){var St;if(!_||gt||!it)St=reactExports.createElement(Empty,null);else{var Ct;St=reactExports.createElement("style",_extends$1({},(Ct={},_defineProperty(Ct,ATTR_TOKEN,yt),_defineProperty(Ct,ATTR_MARK,xt),Ct),{dangerouslySetInnerHTML:{__html:vt}}))}return reactExports.createElement(reactExports.Fragment,null,St,wt)}}var Keyframe=function(){function o(i,a){_classCallCheck(this,o),_defineProperty(this,"name",void 0),_defineProperty(this,"style",void 0),_defineProperty(this,"_keyframe",!0),this.name=i,this.style=a}return _createClass(o,[{key:"getName",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return a?"".concat(a,"-").concat(this.name):this.name}}]),o}();function sameDerivativeOption(o,i){if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(o[a]!==i[a])return!1;return!0}var ThemeCache=function(){function o(){_classCallCheck(this,o),_defineProperty(this,"cache",void 0),_defineProperty(this,"keys",void 0),_defineProperty(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return _createClass(o,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(a){var s,$,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_e={map:this.cache};return a.forEach(function(rt){if(!_e)_e=void 0;else{var ot,it;_e=(ot=_e)===null||ot===void 0||(it=ot.map)===null||it===void 0?void 0:it.get(rt)}}),(s=_e)!==null&&s!==void 0&&s.value&&et&&(_e.value[1]=this.cacheCallTimes++),($=_e)===null||$===void 0?void 0:$.value}},{key:"get",value:function(a){var s;return(s=this.internalGet(a,!0))===null||s===void 0?void 0:s[0]}},{key:"has",value:function(a){return!!this.internalGet(a)}},{key:"set",value:function(a,s){var $=this;if(!this.has(a)){if(this.size()+1>o.MAX_CACHE_SIZE+o.MAX_CACHE_OFFSET){var et=this.keys.reduce(function(it,at){var j=_slicedToArray(it,2),_=j[1];return $.internalGet(at)[1]<_?[at,$.internalGet(at)[1]]:it},[this.keys[0],this.cacheCallTimes]),_e=_slicedToArray(et,1),rt=_e[0];this.delete(rt)}this.keys.push(a)}var ot=this.cache;a.forEach(function(it,at){if(at===a.length-1)ot.set(it,{value:[s,$.cacheCallTimes++]});else{var j=ot.get(it);j?j.map||(j.map=new Map):ot.set(it,{map:new Map}),ot=ot.get(it).map}})}},{key:"deleteByPath",value:function(a,s){var $=a.get(s[0]);if(s.length===1){var et;return $.map?a.set(s[0],{map:$.map}):a.delete(s[0]),(et=$.value)===null||et===void 0?void 0:et[0]}var _e=this.deleteByPath($.map,s.slice(1));return(!$.map||$.map.size===0)&&!$.value&&a.delete(s[0]),_e}},{key:"delete",value:function(a){if(this.has(a))return this.keys=this.keys.filter(function(s){return!sameDerivativeOption(s,a)}),this.deleteByPath(this.cache,a)}}]),o}();_defineProperty(ThemeCache,"MAX_CACHE_SIZE",20);_defineProperty(ThemeCache,"MAX_CACHE_OFFSET",5);var uuid=0,Theme=function(){function o(i){_classCallCheck(this,o),_defineProperty(this,"derivatives",void 0),_defineProperty(this,"id",void 0),this.derivatives=Array.isArray(i)?i:[i],this.id=uuid,i.length===0&&(i.length>0,void 0),uuid+=1}return _createClass(o,[{key:"getDerivativeToken",value:function(a){return this.derivatives.reduce(function(s,$){return $(a,s)},void 0)}}]),o}(),cacheThemes=new ThemeCache;function createTheme(o){var i=Array.isArray(o)?o:[o];return cacheThemes.has(i)||cacheThemes.set(i,new Theme(i)),cacheThemes.get(i)}function noSplit(o){return o.notSplit=!0,o}noSplit(["borderTop","borderBottom"]),noSplit(["borderTop"]),noSplit(["borderBottom"]),noSplit(["borderLeft","borderRight"]),noSplit(["borderLeft"]),noSplit(["borderRight"]);var IconContext=reactExports.createContext({});const Context$2=IconContext;function _toArray(o){return _arrayWithHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableRest()}function get(o,i){for(var a=o,s=0;s<i.length;s+=1){if(a==null)return;a=a[i[s]]}return a}function internalSet(o,i,a,s){if(!i.length)return a;var $=_toArray(i),et=$[0],_e=$.slice(1),rt;return!o&&typeof et=="number"?rt=[]:Array.isArray(o)?rt=_toConsumableArray(o):rt=_objectSpread2({},o),s&&a===void 0&&_e.length===1?delete rt[et][_e[0]]:rt[et]=internalSet(rt[et],_e,a,s),rt}function set(o,i,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return i.length&&s&&a===void 0&&!get(o,i.slice(0,-1))?o:internalSet(o,i,a,s)}function isObject(o){return _typeof(o)==="object"&&o!==null&&Object.getPrototypeOf(o)===Object.prototype}function createEmpty(o){return Array.isArray(o)?[]:{}}function merge$1(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=createEmpty(i[0]);return i.forEach(function($){function et(_e,rt){var ot=new Set(rt),it=get($,_e),at=Array.isArray(it);if(at||isObject(it)){if(!ot.has(it)){ot.add(it);var j=get(s,_e);at?s=set(s,_e,[]):(!j||_typeof(j)!=="object")&&(s=set(s,_e,createEmpty(it))),Object.keys(it).forEach(function(_){et([].concat(_toConsumableArray(_e),[_]),ot)})}}else s=set(s,_e,it)}et([])}),s}var HOOK_MARK="RC_FORM_INTERNAL_HOOKS",warningFunc=function o(){warningOnce(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Context$1=reactExports.createContext({getFieldValue:warningFunc,getFieldsValue:warningFunc,getFieldError:warningFunc,getFieldWarning:warningFunc,getFieldsError:warningFunc,isFieldsTouched:warningFunc,isFieldTouched:warningFunc,isFieldValidating:warningFunc,isFieldsValidating:warningFunc,resetFields:warningFunc,setFields:warningFunc,setFieldValue:warningFunc,setFieldsValue:warningFunc,validateFields:warningFunc,submit:warningFunc,getInternalHooks:function o(){return warningFunc(),{dispatch:warningFunc,initEntityValue:warningFunc,registerField:warningFunc,useSubscribe:warningFunc,setInitialValues:warningFunc,destroyForm:warningFunc,setCallbacks:warningFunc,registerWatch:warningFunc,getFields:warningFunc,setValidateMessages:warningFunc,setPreserve:warningFunc,getInitialValue:warningFunc}}}),ListContext=reactExports.createContext(null);function toArray(o){return o==null?[]:Array.isArray(o)?o:[o]}function isFormInstance(o){return o&&!!o._init}function _regeneratorRuntime(){_regeneratorRuntime=function(){return o};var o={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function($t,Rt,kt){$t[Rt]=kt.value},$=typeof Symbol=="function"?Symbol:{},et=$.iterator||"@@iterator",_e=$.asyncIterator||"@@asyncIterator",rt=$.toStringTag||"@@toStringTag";function ot($t,Rt,kt){return Object.defineProperty($t,Rt,{value:kt,enumerable:!0,configurable:!0,writable:!0}),$t[Rt]}try{ot({},"")}catch{ot=function(kt,Lt,Dt){return kt[Lt]=Dt}}function it($t,Rt,kt,Lt){var Dt=Rt&&Rt.prototype instanceof _?Rt:_,Mt=Object.create(Dt.prototype),Vt=new St(Lt||[]);return s(Mt,"_invoke",{value:vt($t,kt,Vt)}),Mt}function at($t,Rt,kt){try{return{type:"normal",arg:$t.call(Rt,kt)}}catch(Lt){return{type:"throw",arg:Lt}}}o.wrap=it;var j={};function _(){}function tt(){}function nt(){}var st={};ot(st,et,function(){return this});var dt=Object.getPrototypeOf,ft=dt&&dt(dt(Ct([])));ft&&ft!==i&&a.call(ft,et)&&(st=ft);var gt=nt.prototype=_.prototype=Object.create(st);function pt($t){["next","throw","return"].forEach(function(Rt){ot($t,Rt,function(kt){return this._invoke(Rt,kt)})})}function mt($t,Rt){function kt(Dt,Mt,Vt,Kt){var Yt=at($t[Dt],$t,Mt);if(Yt.type!=="throw"){var Jt=Yt.arg,ln=Jt.value;return ln&&_typeof(ln)=="object"&&a.call(ln,"__await")?Rt.resolve(ln.__await).then(function(wn){kt("next",wn,Vt,Kt)},function(wn){kt("throw",wn,Vt,Kt)}):Rt.resolve(ln).then(function(wn){Jt.value=wn,Vt(Jt)},function(wn){return kt("throw",wn,Vt,Kt)})}Kt(Yt.arg)}var Lt;s(this,"_invoke",{value:function(Mt,Vt){function Kt(){return new Rt(function(Yt,Jt){kt(Mt,Vt,Yt,Jt)})}return Lt=Lt?Lt.then(Kt,Kt):Kt()}})}function vt($t,Rt,kt){var Lt="suspendedStart";return function(Dt,Mt){if(Lt==="executing")throw new Error("Generator is already running");if(Lt==="completed"){if(Dt==="throw")throw Mt;return At()}for(kt.method=Dt,kt.arg=Mt;;){var Vt=kt.delegate;if(Vt){var Kt=yt(Vt,kt);if(Kt){if(Kt===j)continue;return Kt}}if(kt.method==="next")kt.sent=kt._sent=kt.arg;else if(kt.method==="throw"){if(Lt==="suspendedStart")throw Lt="completed",kt.arg;kt.dispatchException(kt.arg)}else kt.method==="return"&&kt.abrupt("return",kt.arg);Lt="executing";var Yt=at($t,Rt,kt);if(Yt.type==="normal"){if(Lt=kt.done?"completed":"suspendedYield",Yt.arg===j)continue;return{value:Yt.arg,done:kt.done}}Yt.type==="throw"&&(Lt="completed",kt.method="throw",kt.arg=Yt.arg)}}}function yt($t,Rt){var kt=Rt.method,Lt=$t.iterator[kt];if(Lt===void 0)return Rt.delegate=null,kt==="throw"&&$t.iterator.return&&(Rt.method="return",Rt.arg=void 0,yt($t,Rt),Rt.method==="throw")||kt!=="return"&&(Rt.method="throw",Rt.arg=new TypeError("The iterator does not provide a '"+kt+"' method")),j;var Dt=at(Lt,$t.iterator,Rt.arg);if(Dt.type==="throw")return Rt.method="throw",Rt.arg=Dt.arg,Rt.delegate=null,j;var Mt=Dt.arg;return Mt?Mt.done?(Rt[$t.resultName]=Mt.value,Rt.next=$t.nextLoc,Rt.method!=="return"&&(Rt.method="next",Rt.arg=void 0),Rt.delegate=null,j):Mt:(Rt.method="throw",Rt.arg=new TypeError("iterator result is not an object"),Rt.delegate=null,j)}function xt($t){var Rt={tryLoc:$t[0]};1 in $t&&(Rt.catchLoc=$t[1]),2 in $t&&(Rt.finallyLoc=$t[2],Rt.afterLoc=$t[3]),this.tryEntries.push(Rt)}function wt($t){var Rt=$t.completion||{};Rt.type="normal",delete Rt.arg,$t.completion=Rt}function St($t){this.tryEntries=[{tryLoc:"root"}],$t.forEach(xt,this),this.reset(!0)}function Ct($t){if($t){var Rt=$t[et];if(Rt)return Rt.call($t);if(typeof $t.next=="function")return $t;if(!isNaN($t.length)){var kt=-1,Lt=function Dt(){for(;++kt<$t.length;)if(a.call($t,kt))return Dt.value=$t[kt],Dt.done=!1,Dt;return Dt.value=void 0,Dt.done=!0,Dt};return Lt.next=Lt}}return{next:At}}function At(){return{value:void 0,done:!0}}return tt.prototype=nt,s(gt,"constructor",{value:nt,configurable:!0}),s(nt,"constructor",{value:tt,configurable:!0}),tt.displayName=ot(nt,rt,"GeneratorFunction"),o.isGeneratorFunction=function($t){var Rt=typeof $t=="function"&&$t.constructor;return!!Rt&&(Rt===tt||(Rt.displayName||Rt.name)==="GeneratorFunction")},o.mark=function($t){return Object.setPrototypeOf?Object.setPrototypeOf($t,nt):($t.__proto__=nt,ot($t,rt,"GeneratorFunction")),$t.prototype=Object.create(gt),$t},o.awrap=function($t){return{__await:$t}},pt(mt.prototype),ot(mt.prototype,_e,function(){return this}),o.AsyncIterator=mt,o.async=function($t,Rt,kt,Lt,Dt){Dt===void 0&&(Dt=Promise);var Mt=new mt(it($t,Rt,kt,Lt),Dt);return o.isGeneratorFunction(Rt)?Mt:Mt.next().then(function(Vt){return Vt.done?Vt.value:Mt.next()})},pt(gt),ot(gt,rt,"Generator"),ot(gt,et,function(){return this}),ot(gt,"toString",function(){return"[object Generator]"}),o.keys=function($t){var Rt=Object($t),kt=[];for(var Lt in Rt)kt.push(Lt);return kt.reverse(),function Dt(){for(;kt.length;){var Mt=kt.pop();if(Mt in Rt)return Dt.value=Mt,Dt.done=!1,Dt}return Dt.done=!0,Dt}},o.values=Ct,St.prototype={constructor:St,reset:function(Rt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(wt),!Rt)for(var kt in this)kt.charAt(0)==="t"&&a.call(this,kt)&&!isNaN(+kt.slice(1))&&(this[kt]=void 0)},stop:function(){this.done=!0;var Rt=this.tryEntries[0].completion;if(Rt.type==="throw")throw Rt.arg;return this.rval},dispatchException:function(Rt){if(this.done)throw Rt;var kt=this;function Lt(Jt,ln){return Vt.type="throw",Vt.arg=Rt,kt.next=Jt,ln&&(kt.method="next",kt.arg=void 0),!!ln}for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var Mt=this.tryEntries[Dt],Vt=Mt.completion;if(Mt.tryLoc==="root")return Lt("end");if(Mt.tryLoc<=this.prev){var Kt=a.call(Mt,"catchLoc"),Yt=a.call(Mt,"finallyLoc");if(Kt&&Yt){if(this.prev<Mt.catchLoc)return Lt(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return Lt(Mt.finallyLoc)}else if(Kt){if(this.prev<Mt.catchLoc)return Lt(Mt.catchLoc,!0)}else{if(!Yt)throw new Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return Lt(Mt.finallyLoc)}}}},abrupt:function(Rt,kt){for(var Lt=this.tryEntries.length-1;Lt>=0;--Lt){var Dt=this.tryEntries[Lt];if(Dt.tryLoc<=this.prev&&a.call(Dt,"finallyLoc")&&this.prev<Dt.finallyLoc){var Mt=Dt;break}}Mt&&(Rt==="break"||Rt==="continue")&&Mt.tryLoc<=kt&&kt<=Mt.finallyLoc&&(Mt=null);var Vt=Mt?Mt.completion:{};return Vt.type=Rt,Vt.arg=kt,Mt?(this.method="next",this.next=Mt.finallyLoc,j):this.complete(Vt)},complete:function(Rt,kt){if(Rt.type==="throw")throw Rt.arg;return Rt.type==="break"||Rt.type==="continue"?this.next=Rt.arg:Rt.type==="return"?(this.rval=this.arg=Rt.arg,this.method="return",this.next="end"):Rt.type==="normal"&&kt&&(this.next=kt),j},finish:function(Rt){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Lt=this.tryEntries[kt];if(Lt.finallyLoc===Rt)return this.complete(Lt.completion,Lt.afterLoc),wt(Lt),j}},catch:function(Rt){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Lt=this.tryEntries[kt];if(Lt.tryLoc===Rt){var Dt=Lt.completion;if(Dt.type==="throw"){var Mt=Dt.arg;wt(Lt)}return Mt}}throw new Error("illegal catch attempt")},delegateYield:function(Rt,kt,Lt){return this.delegate={iterator:Ct(Rt),resultName:kt,nextLoc:Lt},this.method==="next"&&(this.arg=void 0),j}},o}function asyncGeneratorStep(o,i,a,s,$,et,_e){try{var rt=o[et](_e),ot=rt.value}catch(it){a(it);return}rt.done?i(ot):Promise.resolve(ot).then(s,$)}function _asyncToGenerator(o){return function(){var i=this,a=arguments;return new Promise(function(s,$){var et=o.apply(i,a);function _e(ot){asyncGeneratorStep(et,s,$,_e,rt,"next",ot)}function rt(ot){asyncGeneratorStep(et,s,$,_e,rt,"throw",ot)}_e(void 0)})}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends.apply(this,arguments)}function _inheritsLoose(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,_setPrototypeOf(o,i)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(o)}function _setPrototypeOf(o,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,$){return s.__proto__=$,s},_setPrototypeOf(o,i)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(o,i,a){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function($,et,_e){var rt=[null];rt.push.apply(rt,et);var ot=Function.bind.apply($,rt),it=new ot;return _e&&_setPrototypeOf(it,_e.prototype),it},_construct.apply(null,arguments)}function _isNativeFunction(o){return Function.toString.call(o).indexOf("[native code]")!==-1}function _wrapNativeSuper(o){var i=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(s){if(s===null||!_isNativeFunction(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof i<"u"){if(i.has(s))return i.get(s);i.set(s,$)}function $(){return _construct(s,arguments,_getPrototypeOf(this).constructor)}return $.prototype=Object.create(s.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf($,s)},_wrapNativeSuper(o)}var formatRegExp=/%[sdj%]/g,warning$1=function o(){};typeof process<"u";function convertFieldsError(o){if(!o||!o.length)return null;var i={};return o.forEach(function(a){var s=a.field;i[s]=i[s]||[],i[s].push(a)}),i}function format(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var $=0,et=a.length;if(typeof o=="function")return o.apply(null,a);if(typeof o=="string"){var _e=o.replace(formatRegExp,function(rt){if(rt==="%%")return"%";if($>=et)return rt;switch(rt){case"%s":return String(a[$++]);case"%d":return Number(a[$++]);case"%j":try{return JSON.stringify(a[$++])}catch{return"[Circular]"}break;default:return rt}});return _e}return o}function isNativeStringType(o){return o==="string"||o==="url"||o==="hex"||o==="email"||o==="date"||o==="pattern"}function isEmptyValue(o,i){return!!(o==null||i==="array"&&Array.isArray(o)&&!o.length||isNativeStringType(i)&&typeof o=="string"&&!o)}function asyncParallelArray(o,i,a){var s=[],$=0,et=o.length;function _e(rt){s.push.apply(s,rt||[]),$++,$===et&&a(s)}o.forEach(function(rt){i(rt,_e)})}function asyncSerialArray(o,i,a){var s=0,$=o.length;function et(_e){if(_e&&_e.length){a(_e);return}var rt=s;s=s+1,rt<$?i(o[rt],et):a([])}et([])}function flattenObjArr(o){var i=[];return Object.keys(o).forEach(function(a){i.push.apply(i,o[a]||[])}),i}var AsyncValidationError=function(o){_inheritsLoose(i,o);function i(a,s){var $;return $=o.call(this,"Async Validation Error")||this,$.errors=a,$.fields=s,$}return i}(_wrapNativeSuper(Error));function asyncMap(o,i,a,s,$){if(i.first){var et=new Promise(function(_,tt){var nt=function(ft){return s(ft),ft.length?tt(new AsyncValidationError(ft,convertFieldsError(ft))):_($)},st=flattenObjArr(o);asyncSerialArray(st,a,nt)});return et.catch(function(_){return _}),et}var _e=i.firstFields===!0?Object.keys(o):i.firstFields||[],rt=Object.keys(o),ot=rt.length,it=0,at=[],j=new Promise(function(_,tt){var nt=function(dt){if(at.push.apply(at,dt),it++,it===ot)return s(at),at.length?tt(new AsyncValidationError(at,convertFieldsError(at))):_($)};rt.length||(s(at),_($)),rt.forEach(function(st){var dt=o[st];_e.indexOf(st)!==-1?asyncSerialArray(dt,a,nt):asyncParallelArray(dt,a,nt)})});return j.catch(function(_){return _}),j}function isErrorObj(o){return!!(o&&o.message!==void 0)}function getValue$1(o,i){for(var a=o,s=0;s<i.length;s++){if(a==null)return a;a=a[i[s]]}return a}function complementError(o,i){return function(a){var s;return o.fullFields?s=getValue$1(i,o.fullFields):s=i[a.field||o.fullField],isErrorObj(a)?(a.field=a.field||o.fullField,a.fieldValue=s,a):{message:typeof a=="function"?a():a,fieldValue:s,field:a.field||o.fullField}}}function deepMerge(o,i){if(i){for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];typeof s=="object"&&typeof o[a]=="object"?o[a]=_extends({},o[a],s):o[a]=s}}return o}var required$1=function o(i,a,s,$,et,_e){i.required&&(!s.hasOwnProperty(i.field)||isEmptyValue(a,_e||i.type))&&$.push(format(et.messages.required,i.fullField))},whitespace=function o(i,a,s,$,et){(/^\s+$/.test(a)||a==="")&&$.push(format(et.messages.whitespace,i.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var o="[a-fA-F\\d:]",i=function(mt){return mt&&mt.includeBoundaries?"(?:(?<=\\s|^)(?="+o+")|(?<="+o+")(?=\\s|$))":""},a="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",$=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+a+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+a+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+a+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+a+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+a+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+a+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+a+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),et=new RegExp("(?:^"+a+"$)|(?:^"+$+"$)"),_e=new RegExp("^"+a+"$"),rt=new RegExp("^"+$+"$"),ot=function(mt){return mt&&mt.exact?et:new RegExp("(?:"+i(mt)+a+i(mt)+")|(?:"+i(mt)+$+i(mt)+")","g")};ot.v4=function(pt){return pt&&pt.exact?_e:new RegExp(""+i(pt)+a+i(pt),"g")},ot.v6=function(pt){return pt&&pt.exact?rt:new RegExp(""+i(pt)+$+i(pt),"g")};var it="(?:(?:[a-z]+:)?//)",at="(?:\\S+(?::\\S*)?@)?",j=ot.v4().source,_=ot.v6().source,tt="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",nt="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",st="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",dt="(?::\\d{2,5})?",ft='(?:[/?#][^\\s"]*)?',gt="(?:"+it+"|www\\.)"+at+"(?:localhost|"+j+"|"+_+"|"+tt+nt+st+")"+dt+ft;return urlReg=new RegExp("(?:^"+gt+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function o(i){return types.number(i)&&parseInt(i,10)===i},float:function o(i){return types.number(i)&&!types.integer(i)},array:function o(i){return Array.isArray(i)},regexp:function o(i){if(i instanceof RegExp)return!0;try{return!!new RegExp(i)}catch{return!1}},date:function o(i){return typeof i.getTime=="function"&&typeof i.getMonth=="function"&&typeof i.getYear=="function"&&!isNaN(i.getTime())},number:function o(i){return isNaN(i)?!1:typeof i=="number"},object:function o(i){return typeof i=="object"&&!types.array(i)},method:function o(i){return typeof i=="function"},email:function o(i){return typeof i=="string"&&i.length<=320&&!!i.match(pattern$2.email)},url:function o(i){return typeof i=="string"&&i.length<=2048&&!!i.match(getUrlRegex())},hex:function o(i){return typeof i=="string"&&!!i.match(pattern$2.hex)}},type$1=function o(i,a,s,$,et){if(i.required&&a===void 0){required$1(i,a,s,$,et);return}var _e=["integer","float","array","regexp","object","method","email","number","date","url","hex"],rt=i.type;_e.indexOf(rt)>-1?types[rt](a)||$.push(format(et.messages.types[rt],i.fullField,i.type)):rt&&typeof a!==i.type&&$.push(format(et.messages.types[rt],i.fullField,i.type))},range=function o(i,a,s,$,et){var _e=typeof i.len=="number",rt=typeof i.min=="number",ot=typeof i.max=="number",it=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,at=a,j=null,_=typeof a=="number",tt=typeof a=="string",nt=Array.isArray(a);if(_?j="number":tt?j="string":nt&&(j="array"),!j)return!1;nt&&(at=a.length),tt&&(at=a.replace(it,"_").length),_e?at!==i.len&&$.push(format(et.messages[j].len,i.fullField,i.len)):rt&&!ot&&at<i.min?$.push(format(et.messages[j].min,i.fullField,i.min)):ot&&!rt&&at>i.max?$.push(format(et.messages[j].max,i.fullField,i.max)):rt&&ot&&(at<i.min||at>i.max)&&$.push(format(et.messages[j].range,i.fullField,i.min,i.max))},ENUM$1="enum",enumerable$1=function o(i,a,s,$,et){i[ENUM$1]=Array.isArray(i[ENUM$1])?i[ENUM$1]:[],i[ENUM$1].indexOf(a)===-1&&$.push(format(et.messages[ENUM$1],i.fullField,i[ENUM$1].join(", ")))},pattern$1=function o(i,a,s,$,et){if(i.pattern){if(i.pattern instanceof RegExp)i.pattern.lastIndex=0,i.pattern.test(a)||$.push(format(et.messages.pattern.mismatch,i.fullField,a,i.pattern));else if(typeof i.pattern=="string"){var _e=new RegExp(i.pattern);_e.test(a)||$.push(format(et.messages.pattern.mismatch,i.fullField,a,i.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"string")&&!i.required)return s();rules.required(i,a,$,_e,et,"string"),isEmptyValue(a,"string")||(rules.type(i,a,$,_e,et),rules.range(i,a,$,_e,et),rules.pattern(i,a,$,_e,et),i.whitespace===!0&&rules.whitespace(i,a,$,_e,et))}s(_e)},method=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&rules.type(i,a,$,_e,et)}s(_e)},number=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(a===""&&(a=void 0),isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&(rules.type(i,a,$,_e,et),rules.range(i,a,$,_e,et))}s(_e)},_boolean=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&rules.type(i,a,$,_e,et)}s(_e)},regexp=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),isEmptyValue(a)||rules.type(i,a,$,_e,et)}s(_e)},integer=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&(rules.type(i,a,$,_e,et),rules.range(i,a,$,_e,et))}s(_e)},floatFn=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&(rules.type(i,a,$,_e,et),rules.range(i,a,$,_e,et))}s(_e)},array=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(a==null&&!i.required)return s();rules.required(i,a,$,_e,et,"array"),a!=null&&(rules.type(i,a,$,_e,et),rules.range(i,a,$,_e,et))}s(_e)},object=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&rules.type(i,a,$,_e,et)}s(_e)},ENUM="enum",enumerable=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et),a!==void 0&&rules[ENUM](i,a,$,_e,et)}s(_e)},pattern=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"string")&&!i.required)return s();rules.required(i,a,$,_e,et),isEmptyValue(a,"string")||rules.pattern(i,a,$,_e,et)}s(_e)},date=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"date")&&!i.required)return s();if(rules.required(i,a,$,_e,et),!isEmptyValue(a,"date")){var ot;a instanceof Date?ot=a:ot=new Date(a),rules.type(i,ot,$,_e,et),ot&&rules.range(i,ot.getTime(),$,_e,et)}}s(_e)},required=function o(i,a,s,$,et){var _e=[],rt=Array.isArray(a)?"array":typeof a;rules.required(i,a,$,_e,et,rt),s(_e)},type=function o(i,a,s,$,et){var _e=i.type,rt=[],ot=i.required||!i.required&&$.hasOwnProperty(i.field);if(ot){if(isEmptyValue(a,_e)&&!i.required)return s();rules.required(i,a,$,rt,et,_e),isEmptyValue(a,_e)||rules.type(i,a,$,rt,et)}s(rt)},any=function o(i,a,s,$,et){var _e=[],rt=i.required||!i.required&&$.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,$,_e,et)}s(_e)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var i=JSON.parse(JSON.stringify(this));return i.clone=this.clone,i}}}var messages=newMessages(),Schema=function(){function o(a){this.rules=null,this._messages=messages,this.define(a)}var i=o.prototype;return i.define=function(s){var $=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(et){var _e=s[et];$.rules[et]=Array.isArray(_e)?_e:[_e]})},i.messages=function(s){return s&&(this._messages=deepMerge(newMessages(),s)),this._messages},i.validate=function(s,$,et){var _e=this;$===void 0&&($={}),et===void 0&&(et=function(){});var rt=s,ot=$,it=et;if(typeof ot=="function"&&(it=ot,ot={}),!this.rules||Object.keys(this.rules).length===0)return it&&it(null,rt),Promise.resolve(rt);function at(st){var dt=[],ft={};function gt(mt){if(Array.isArray(mt)){var vt;dt=(vt=dt).concat.apply(vt,mt)}else dt.push(mt)}for(var pt=0;pt<st.length;pt++)gt(st[pt]);dt.length?(ft=convertFieldsError(dt),it(dt,ft)):it(null,rt)}if(ot.messages){var j=this.messages();j===messages&&(j=newMessages()),deepMerge(j,ot.messages),ot.messages=j}else ot.messages=this.messages();var _={},tt=ot.keys||Object.keys(this.rules);tt.forEach(function(st){var dt=_e.rules[st],ft=rt[st];dt.forEach(function(gt){var pt=gt;typeof pt.transform=="function"&&(rt===s&&(rt=_extends({},rt)),ft=rt[st]=pt.transform(ft)),typeof pt=="function"?pt={validator:pt}:pt=_extends({},pt),pt.validator=_e.getValidationMethod(pt),pt.validator&&(pt.field=st,pt.fullField=pt.fullField||st,pt.type=_e.getType(pt),_[st]=_[st]||[],_[st].push({rule:pt,value:ft,source:rt,field:st}))})});var nt={};return asyncMap(_,ot,function(st,dt){var ft=st.rule,gt=(ft.type==="object"||ft.type==="array")&&(typeof ft.fields=="object"||typeof ft.defaultField=="object");gt=gt&&(ft.required||!ft.required&&st.value),ft.field=st.field;function pt(yt,xt){return _extends({},xt,{fullField:ft.fullField+"."+yt,fullFields:ft.fullFields?[].concat(ft.fullFields,[yt]):[yt]})}function mt(yt){yt===void 0&&(yt=[]);var xt=Array.isArray(yt)?yt:[yt];!ot.suppressWarning&&xt.length&&o.warning("async-validator:",xt),xt.length&&ft.message!==void 0&&(xt=[].concat(ft.message));var wt=xt.map(complementError(ft,rt));if(ot.first&&wt.length)return nt[ft.field]=1,dt(wt);if(!gt)dt(wt);else{if(ft.required&&!st.value)return ft.message!==void 0?wt=[].concat(ft.message).map(complementError(ft,rt)):ot.error&&(wt=[ot.error(ft,format(ot.messages.required,ft.field))]),dt(wt);var St={};ft.defaultField&&Object.keys(st.value).map(function($t){St[$t]=ft.defaultField}),St=_extends({},St,st.rule.fields);var Ct={};Object.keys(St).forEach(function($t){var Rt=St[$t],kt=Array.isArray(Rt)?Rt:[Rt];Ct[$t]=kt.map(pt.bind(null,$t))});var At=new o(Ct);At.messages(ot.messages),st.rule.options&&(st.rule.options.messages=ot.messages,st.rule.options.error=ot.error),At.validate(st.value,st.rule.options||ot,function($t){var Rt=[];wt&&wt.length&&Rt.push.apply(Rt,wt),$t&&$t.length&&Rt.push.apply(Rt,$t),dt(Rt.length?Rt:null)})}}var vt;if(ft.asyncValidator)vt=ft.asyncValidator(ft,st.value,mt,st.source,ot);else if(ft.validator){try{vt=ft.validator(ft,st.value,mt,st.source,ot)}catch(yt){console.error==null||console.error(yt),ot.suppressValidatorError||setTimeout(function(){throw yt},0),mt(yt.message)}vt===!0?mt():vt===!1?mt(typeof ft.message=="function"?ft.message(ft.fullField||ft.field):ft.message||(ft.fullField||ft.field)+" fails"):vt instanceof Array?mt(vt):vt instanceof Error&&mt(vt.message)}vt&&vt.then&&vt.then(function(){return mt()},function(yt){return mt(yt)})},function(st){at(st)},rt)},i.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!validators.hasOwnProperty(s.type))throw new Error(format("Unknown rule type %s",s.type));return s.type||"string"},i.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var $=Object.keys(s),et=$.indexOf("message");return et!==-1&&$.splice(et,1),$.length===1&&$[0]==="required"?validators.required:validators[this.getType(s)]||void 0},o}();Schema.register=function o(i,a){if(typeof a!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[i]=a};Schema.warning=warning$1;Schema.messages=messages;Schema.validators=validators;var typeTemplate$1="'${name}' is not a valid ${type}",defaultValidateMessages={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},AsyncValidator=Schema;function replaceMessage(o,i){return o.replace(/\$\{\w+\}/g,function(a){var s=a.slice(2,-1);return i[s]})}var CODE_LOGIC_ERROR="CODE_LOGIC_ERROR";function validateRule(o,i,a,s,$){return _validateRule.apply(this,arguments)}function _validateRule(){return _validateRule=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,a,s,$,et){var _e,rt,ot,it,at,j,_,tt,nt;return _regeneratorRuntime().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return _e=_objectSpread2({},s),delete _e.ruleIndex,AsyncValidator.warning=function(){},_e.validator&&(rt=_e.validator,_e.validator=function(){try{return rt.apply(void 0,arguments)}catch(ft){return console.error(ft),Promise.reject(CODE_LOGIC_ERROR)}}),ot=null,_e&&_e.type==="array"&&_e.defaultField&&(ot=_e.defaultField,delete _e.defaultField),it=new AsyncValidator(_defineProperty({},i,[_e])),at=merge$1(defaultValidateMessages,$.validateMessages),it.messages(at),j=[],dt.prev=10,dt.next=13,Promise.resolve(it.validate(_defineProperty({},i,a),_objectSpread2({},$)));case 13:dt.next=18;break;case 15:dt.prev=15,dt.t0=dt.catch(10),dt.t0.errors&&(j=dt.t0.errors.map(function(ft,gt){var pt=ft.message,mt=pt===CODE_LOGIC_ERROR?at.default:pt;return reactExports.isValidElement(mt)?reactExports.cloneElement(mt,{key:"error_".concat(gt)}):mt}));case 18:if(!(!j.length&&ot)){dt.next=23;break}return dt.next=21,Promise.all(a.map(function(ft,gt){return validateRule("".concat(i,".").concat(gt),ft,ot,$,et)}));case 21:return _=dt.sent,dt.abrupt("return",_.reduce(function(ft,gt){return[].concat(_toConsumableArray(ft),_toConsumableArray(gt))},[]));case 23:return tt=_objectSpread2(_objectSpread2({},s),{},{name:i,enum:(s.enum||[]).join(", ")},et),nt=j.map(function(ft){return typeof ft=="string"?replaceMessage(ft,tt):ft}),dt.abrupt("return",nt);case 26:case"end":return dt.stop()}},o,null,[[10,15]])})),_validateRule.apply(this,arguments)}function validateRules(o,i,a,s,$,et){var _e=o.join("."),rt=a.map(function(at,j){var _=at.validator,tt=_objectSpread2(_objectSpread2({},at),{},{ruleIndex:j});return _&&(tt.validator=function(nt,st,dt){var ft=!1,gt=function(){for(var vt=arguments.length,yt=new Array(vt),xt=0;xt<vt;xt++)yt[xt]=arguments[xt];Promise.resolve().then(function(){warningOnce(!ft,"Your validator function has already return a promise. `callback` will be ignored."),ft||dt.apply(void 0,yt)})},pt=_(nt,st,gt);ft=pt&&typeof pt.then=="function"&&typeof pt.catch=="function",warningOnce(ft,"`callback` is deprecated. Please return a promise instead."),ft&&pt.then(function(){dt()}).catch(function(mt){dt(mt||" ")})}),tt}).sort(function(at,j){var _=at.warningOnly,tt=at.ruleIndex,nt=j.warningOnly,st=j.ruleIndex;return!!_==!!nt?tt-st:_?1:-1}),ot;if($===!0)ot=new Promise(function(){var at=_asyncToGenerator(_regeneratorRuntime().mark(function j(_,tt){var nt,st,dt;return _regeneratorRuntime().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:nt=0;case 1:if(!(nt<rt.length)){gt.next=12;break}return st=rt[nt],gt.next=5,validateRule(_e,i,st,s,et);case 5:if(dt=gt.sent,!dt.length){gt.next=9;break}return tt([{errors:dt,rule:st}]),gt.abrupt("return");case 9:nt+=1,gt.next=1;break;case 12:_([]);case 13:case"end":return gt.stop()}},j)}));return function(j,_){return at.apply(this,arguments)}}());else{var it=rt.map(function(at){return validateRule(_e,i,at,s,et).then(function(j){return{errors:j,rule:at}})});ot=($?finishOnFirstFailed(it):finishOnAllFailed(it)).then(function(at){return Promise.reject(at)})}return ot.catch(function(at){return at}),ot}function finishOnAllFailed(o){return _finishOnAllFailed.apply(this,arguments)}function _finishOnAllFailed(){return _finishOnAllFailed=_asyncToGenerator(_regeneratorRuntime().mark(function o(i){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Promise.all(i).then(function($){var et,_e=(et=[]).concat.apply(et,_toConsumableArray($));return _e}));case 1:case"end":return s.stop()}},o)})),_finishOnAllFailed.apply(this,arguments)}function finishOnFirstFailed(o){return _finishOnFirstFailed.apply(this,arguments)}function _finishOnFirstFailed(){return _finishOnFirstFailed=_asyncToGenerator(_regeneratorRuntime().mark(function o(i){var a;return _regeneratorRuntime().wrap(function($){for(;;)switch($.prev=$.next){case 0:return a=0,$.abrupt("return",new Promise(function(et){i.forEach(function(_e){_e.then(function(rt){rt.errors.length&&et([rt]),a+=1,a===i.length&&et([])})})}));case 2:case"end":return $.stop()}},o)})),_finishOnFirstFailed.apply(this,arguments)}function getNamePath(o){return toArray(o)}function cloneByNamePathList(o,i){var a={};return i.forEach(function(s){var $=get(o,s);a=set(a,s,$)}),a}function containsNamePath(o,i){return o&&o.some(function(a){return matchNamePath(a,i)})}function matchNamePath(o,i){return!o||!i||o.length!==i.length?!1:o.every(function(a,s){return i[s]===a})}function isSimilar(o,i){if(o===i)return!0;if(!o&&i||o&&!i||!o||!i||_typeof(o)!=="object"||_typeof(i)!=="object")return!1;var a=Object.keys(o),s=Object.keys(i),$=new Set([].concat(a,s));return _toConsumableArray($).every(function(et){var _e=o[et],rt=i[et];return typeof _e=="function"&&typeof rt=="function"?!0:_e===rt})}function defaultGetValueFromEvent(o){var i=arguments.length<=1?void 0:arguments[1];return i&&i.target&&_typeof(i.target)==="object"&&o in i.target?i.target[o]:i}function move(o,i,a){var s=o.length;if(i<0||i>=s||a<0||a>=s)return o;var $=o[i],et=i-a;return et>0?[].concat(_toConsumableArray(o.slice(0,a)),[$],_toConsumableArray(o.slice(a,i)),_toConsumableArray(o.slice(i+1,s))):et<0?[].concat(_toConsumableArray(o.slice(0,i)),_toConsumableArray(o.slice(i+1,a+1)),[$],_toConsumableArray(o.slice(a+1,s))):o}var _excluded$7=["name"],EMPTY_ERRORS=[];function requireUpdate(o,i,a,s,$,et){return typeof o=="function"?o(i,a,"source"in et?{source:et.source}:{}):s!==$}var Field=function(o){_inherits(a,o);var i=_createSuper(a);function a(s){var $;if(_classCallCheck(this,a),$=i.call(this,s),$.state={resetCount:0},$.cancelRegisterFunc=null,$.mounted=!1,$.touched=!1,$.dirty=!1,$.validatePromise=void 0,$.prevValidating=void 0,$.errors=EMPTY_ERRORS,$.warnings=EMPTY_ERRORS,$.cancelRegister=function(){var ot=$.props,it=ot.preserve,at=ot.isListField,j=ot.name;$.cancelRegisterFunc&&$.cancelRegisterFunc(at,it,getNamePath(j)),$.cancelRegisterFunc=null},$.getNamePath=function(){var ot=$.props,it=ot.name,at=ot.fieldContext,j=at.prefixName,_=j===void 0?[]:j;return it!==void 0?[].concat(_toConsumableArray(_),_toConsumableArray(it)):[]},$.getRules=function(){var ot=$.props,it=ot.rules,at=it===void 0?[]:it,j=ot.fieldContext;return at.map(function(_){return typeof _=="function"?_(j):_})},$.refresh=function(){$.mounted&&$.setState(function(ot){var it=ot.resetCount;return{resetCount:it+1}})},$.triggerMetaEvent=function(ot){var it=$.props.onMetaChange;it==null||it(_objectSpread2(_objectSpread2({},$.getMeta()),{},{destroy:ot}))},$.onStoreChange=function(ot,it,at){var j=$.props,_=j.shouldUpdate,tt=j.dependencies,nt=tt===void 0?[]:tt,st=j.onReset,dt=at.store,ft=$.getNamePath(),gt=$.getValue(ot),pt=$.getValue(dt),mt=it&&containsNamePath(it,ft);switch(at.type==="valueUpdate"&&at.source==="external"&&gt!==pt&&($.touched=!0,$.dirty=!0,$.validatePromise=null,$.errors=EMPTY_ERRORS,$.warnings=EMPTY_ERRORS,$.triggerMetaEvent()),at.type){case"reset":if(!it||mt){$.touched=!1,$.dirty=!1,$.validatePromise=void 0,$.errors=EMPTY_ERRORS,$.warnings=EMPTY_ERRORS,$.triggerMetaEvent(),st==null||st(),$.refresh();return}break;case"remove":{if(_){$.reRender();return}break}case"setField":{if(mt){var vt=at.data;"touched"in vt&&($.touched=vt.touched),"validating"in vt&&!("originRCField"in vt)&&($.validatePromise=vt.validating?Promise.resolve([]):null),"errors"in vt&&($.errors=vt.errors||EMPTY_ERRORS),"warnings"in vt&&($.warnings=vt.warnings||EMPTY_ERRORS),$.dirty=!0,$.triggerMetaEvent(),$.reRender();return}if(_&&!ft.length&&requireUpdate(_,ot,dt,gt,pt,at)){$.reRender();return}break}case"dependenciesUpdate":{var yt=nt.map(getNamePath);if(yt.some(function(xt){return containsNamePath(at.relatedFields,xt)})){$.reRender();return}break}default:if(mt||(!nt.length||ft.length||_)&&requireUpdate(_,ot,dt,gt,pt,at)){$.reRender();return}break}_===!0&&$.reRender()},$.validateRules=function(ot){var it=$.getNamePath(),at=$.getValue(),j=ot||{},_=j.triggerName,tt=j.validateOnly,nt=tt===void 0?!1:tt,st=Promise.resolve().then(function(){if(!$.mounted)return[];var dt=$.props,ft=dt.validateFirst,gt=ft===void 0?!1:ft,pt=dt.messageVariables,mt=$.getRules();_&&(mt=mt.filter(function(yt){return yt}).filter(function(yt){var xt=yt.validateTrigger;if(!xt)return!0;var wt=toArray(xt);return wt.includes(_)}));var vt=validateRules(it,at,mt,ot,gt,pt);return vt.catch(function(yt){return yt}).then(function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EMPTY_ERRORS;if($.validatePromise===st){var xt;$.validatePromise=null;var wt=[],St=[];(xt=yt.forEach)===null||xt===void 0||xt.call(yt,function(Ct){var At=Ct.rule.warningOnly,$t=Ct.errors,Rt=$t===void 0?EMPTY_ERRORS:$t;At?St.push.apply(St,_toConsumableArray(Rt)):wt.push.apply(wt,_toConsumableArray(Rt))}),$.errors=wt,$.warnings=St,$.triggerMetaEvent(),$.reRender()}}),vt});return nt||($.validatePromise=st,$.dirty=!0,$.errors=EMPTY_ERRORS,$.warnings=EMPTY_ERRORS,$.triggerMetaEvent(),$.reRender()),st},$.isFieldValidating=function(){return!!$.validatePromise},$.isFieldTouched=function(){return $.touched},$.isFieldDirty=function(){if($.dirty||$.props.initialValue!==void 0)return!0;var ot=$.props.fieldContext,it=ot.getInternalHooks(HOOK_MARK),at=it.getInitialValue;return at($.getNamePath())!==void 0},$.getErrors=function(){return $.errors},$.getWarnings=function(){return $.warnings},$.isListField=function(){return $.props.isListField},$.isList=function(){return $.props.isList},$.isPreserve=function(){return $.props.preserve},$.getMeta=function(){$.prevValidating=$.isFieldValidating();var ot={touched:$.isFieldTouched(),validating:$.prevValidating,errors:$.errors,warnings:$.warnings,name:$.getNamePath(),validated:$.validatePromise===null};return ot},$.getOnlyChild=function(ot){if(typeof ot=="function"){var it=$.getMeta();return _objectSpread2(_objectSpread2({},$.getOnlyChild(ot($.getControlled(),it,$.props.fieldContext))),{},{isFunction:!0})}var at=toArray$1(ot);return at.length!==1||!reactExports.isValidElement(at[0])?{child:at,isFunction:!1}:{child:at[0],isFunction:!1}},$.getValue=function(ot){var it=$.props.fieldContext.getFieldsValue,at=$.getNamePath();return get(ot||it(!0),at)},$.getControlled=function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=$.props,at=it.trigger,j=it.validateTrigger,_=it.getValueFromEvent,tt=it.normalize,nt=it.valuePropName,st=it.getValueProps,dt=it.fieldContext,ft=j!==void 0?j:dt.validateTrigger,gt=$.getNamePath(),pt=dt.getInternalHooks,mt=dt.getFieldsValue,vt=pt(HOOK_MARK),yt=vt.dispatch,xt=$.getValue(),wt=st||function($t){return _defineProperty({},nt,$t)},St=ot[at],Ct=_objectSpread2(_objectSpread2({},ot),wt(xt));Ct[at]=function(){$.touched=!0,$.dirty=!0,$.triggerMetaEvent();for(var $t,Rt=arguments.length,kt=new Array(Rt),Lt=0;Lt<Rt;Lt++)kt[Lt]=arguments[Lt];_?$t=_.apply(void 0,kt):$t=defaultGetValueFromEvent.apply(void 0,[nt].concat(kt)),tt&&($t=tt($t,xt,mt(!0))),yt({type:"updateValue",namePath:gt,value:$t}),St&&St.apply(void 0,kt)};var At=toArray(ft||[]);return At.forEach(function($t){var Rt=Ct[$t];Ct[$t]=function(){Rt&&Rt.apply(void 0,arguments);var kt=$.props.rules;kt&&kt.length&&yt({type:"validateField",namePath:gt,triggerName:$t})}}),Ct},s.fieldContext){var et=s.fieldContext.getInternalHooks,_e=et(HOOK_MARK),rt=_e.initEntityValue;rt(_assertThisInitialized($))}return $}return _createClass(a,[{key:"componentDidMount",value:function(){var $=this.props,et=$.shouldUpdate,_e=$.fieldContext;if(this.mounted=!0,_e){var rt=_e.getInternalHooks,ot=rt(HOOK_MARK),it=ot.registerField;this.cancelRegisterFunc=it(this)}et===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var $=this.state.resetCount,et=this.props.children,_e=this.getOnlyChild(et),rt=_e.child,ot=_e.isFunction,it;return ot?it=rt:reactExports.isValidElement(rt)?it=reactExports.cloneElement(rt,this.getControlled(rt.props)):(warningOnce(!rt,"`children` of Field is not validate ReactElement."),it=rt),reactExports.createElement(reactExports.Fragment,{key:$},it)}}]),a}(reactExports.Component);Field.contextType=Context$1;Field.defaultProps={trigger:"onChange",valuePropName:"value"};function WrapperField(o){var i=o.name,a=_objectWithoutProperties(o,_excluded$7),s=reactExports.useContext(Context$1),$=reactExports.useContext(ListContext),et=i!==void 0?getNamePath(i):void 0,_e="keep";return a.isListField||(_e="_".concat((et||[]).join("_"))),reactExports.createElement(Field,_extends$1({key:_e,name:et,isListField:!!$},a,{fieldContext:s}))}var List=function o(i){var a=i.name,s=i.initialValue,$=i.children,et=i.rules,_e=i.validateTrigger,rt=i.isListField,ot=reactExports.useContext(Context$1),it=reactExports.useContext(ListContext),at=reactExports.useRef({keys:[],id:0}),j=at.current,_=reactExports.useMemo(function(){var dt=getNamePath(ot.prefixName)||[];return[].concat(_toConsumableArray(dt),_toConsumableArray(getNamePath(a)))},[ot.prefixName,a]),tt=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},ot),{},{prefixName:_})},[ot,_]),nt=reactExports.useMemo(function(){return{getKey:function(ft){var gt=_.length,pt=ft[gt];return[j.keys[pt],ft.slice(gt+1)]}}},[_]);if(typeof $!="function")return warningOnce(!1,"Form.List only accepts function as children."),null;var st=function(ft,gt,pt){var mt=pt.source;return mt==="internal"?!1:ft!==gt};return reactExports.createElement(ListContext.Provider,{value:nt},reactExports.createElement(Context$1.Provider,{value:tt},reactExports.createElement(WrapperField,{name:[],shouldUpdate:st,rules:et,validateTrigger:_e,initialValue:s,isList:!0,isListField:rt??!!it},function(dt,ft){var gt=dt.value,pt=gt===void 0?[]:gt,mt=dt.onChange,vt=ot.getFieldValue,yt=function(){var Ct=vt(_||[]);return Ct||[]},xt={add:function(Ct,At){var $t=yt();At>=0&&At<=$t.length?(j.keys=[].concat(_toConsumableArray(j.keys.slice(0,At)),[j.id],_toConsumableArray(j.keys.slice(At))),mt([].concat(_toConsumableArray($t.slice(0,At)),[Ct],_toConsumableArray($t.slice(At))))):(j.keys=[].concat(_toConsumableArray(j.keys),[j.id]),mt([].concat(_toConsumableArray($t),[Ct]))),j.id+=1},remove:function(Ct){var At=yt(),$t=new Set(Array.isArray(Ct)?Ct:[Ct]);$t.size<=0||(j.keys=j.keys.filter(function(Rt,kt){return!$t.has(kt)}),mt(At.filter(function(Rt,kt){return!$t.has(kt)})))},move:function(Ct,At){if(Ct!==At){var $t=yt();Ct<0||Ct>=$t.length||At<0||At>=$t.length||(j.keys=move(j.keys,Ct,At),mt(move($t,Ct,At)))}}},wt=pt||[];return Array.isArray(wt)||(wt=[]),$(wt.map(function(St,Ct){var At=j.keys[Ct];return At===void 0&&(j.keys[Ct]=j.id,At=j.keys[Ct],j.id+=1),{name:Ct,key:At,isListField:!0}}),xt,ft)})))};function allPromiseFinish(o){var i=!1,a=o.length,s=[];return o.length?new Promise(function($,et){o.forEach(function(_e,rt){_e.catch(function(ot){return i=!0,ot}).then(function(ot){a-=1,s[rt]=ot,!(a>0)&&(i&&et(s),$(s))})})}):Promise.resolve([])}var SPLIT="__@field_split__";function normalize(o){return o.map(function(i){return"".concat(_typeof(i),":").concat(i)}).join(SPLIT)}var NameMap=function(){function o(){_classCallCheck(this,o),this.kvs=new Map}return _createClass(o,[{key:"set",value:function(a,s){this.kvs.set(normalize(a),s)}},{key:"get",value:function(a){return this.kvs.get(normalize(a))}},{key:"update",value:function(a,s){var $=this.get(a),et=s($);et?this.set(a,et):this.delete(a)}},{key:"delete",value:function(a){this.kvs.delete(normalize(a))}},{key:"map",value:function(a){return _toConsumableArray(this.kvs.entries()).map(function(s){var $=_slicedToArray(s,2),et=$[0],_e=$[1],rt=et.split(SPLIT);return a({key:rt.map(function(ot){var it=ot.match(/^([^:]*):(.*)$/),at=_slicedToArray(it,3),j=at[1],_=at[2];return j==="number"?Number(_):_}),value:_e})})}},{key:"toJSON",value:function(){var a={};return this.map(function(s){var $=s.key,et=s.value;return a[$.join(".")]=et,null}),a}}]),o}(),_excluded$6=["name"],FormStore=_createClass(function o(i){var a=this;_classCallCheck(this,o),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:a.getFieldValue,getFieldsValue:a.getFieldsValue,getFieldError:a.getFieldError,getFieldWarning:a.getFieldWarning,getFieldsError:a.getFieldsError,isFieldsTouched:a.isFieldsTouched,isFieldTouched:a.isFieldTouched,isFieldValidating:a.isFieldValidating,isFieldsValidating:a.isFieldsValidating,resetFields:a.resetFields,setFields:a.setFields,setFieldValue:a.setFieldValue,setFieldsValue:a.setFieldsValue,validateFields:a.validateFields,submit:a.submit,_init:!0,getInternalHooks:a.getInternalHooks}},this.getInternalHooks=function(s){return s===HOOK_MARK?(a.formHooked=!0,{dispatch:a.dispatch,initEntityValue:a.initEntityValue,registerField:a.registerField,useSubscribe:a.useSubscribe,setInitialValues:a.setInitialValues,destroyForm:a.destroyForm,setCallbacks:a.setCallbacks,setValidateMessages:a.setValidateMessages,getFields:a.getFields,setPreserve:a.setPreserve,getInitialValue:a.getInitialValue,registerWatch:a.registerWatch}):(warningOnce(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(s){a.subscribable=s},this.prevWithoutPreserves=null,this.setInitialValues=function(s,$){if(a.initialValues=s||{},$){var et,_e=merge$1(s,a.store);(et=a.prevWithoutPreserves)===null||et===void 0||et.map(function(rt){var ot=rt.key;_e=set(_e,ot,get(s,ot))}),a.prevWithoutPreserves=null,a.updateStore(_e)}},this.destroyForm=function(){var s=new NameMap;a.getFieldEntities(!0).forEach(function($){a.isMergedPreserve($.isPreserve())||s.set($.getNamePath(),!0)}),a.prevWithoutPreserves=s},this.getInitialValue=function(s){var $=get(a.initialValues,s);return s.length?merge$1($):$},this.setCallbacks=function(s){a.callbacks=s},this.setValidateMessages=function(s){a.validateMessages=s},this.setPreserve=function(s){a.preserve=s},this.watchList=[],this.registerWatch=function(s){return a.watchList.push(s),function(){a.watchList=a.watchList.filter(function($){return $!==s})}},this.notifyWatch=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(a.watchList.length){var $=a.getFieldsValue(),et=a.getFieldsValue(!0);a.watchList.forEach(function(_e){_e($,et,s)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(s){a.store=s},this.getFieldEntities=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return s?a.fieldEntities.filter(function($){return $.getNamePath().length}):a.fieldEntities},this.getFieldsMap=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,$=new NameMap;return a.getFieldEntities(s).forEach(function(et){var _e=et.getNamePath();$.set(_e,et)}),$},this.getFieldEntitiesForNamePathList=function(s){if(!s)return a.getFieldEntities(!0);var $=a.getFieldsMap(!0);return s.map(function(et){var _e=getNamePath(et);return $.get(_e)||{INVALIDATE_NAME_PATH:getNamePath(et)}})},this.getFieldsValue=function(s,$){if(a.warningUnhooked(),s===!0&&!$)return a.store;var et=a.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),_e=[];return et.forEach(function(rt){var ot,it="INVALIDATE_NAME_PATH"in rt?rt.INVALIDATE_NAME_PATH:rt.getNamePath();if(!(!s&&(!((ot=rt.isListField)===null||ot===void 0)&&ot.call(rt))))if(!$)_e.push(it);else{var at="getMeta"in rt?rt.getMeta():null;$(at)&&_e.push(it)}}),cloneByNamePathList(a.store,_e.map(getNamePath))},this.getFieldValue=function(s){a.warningUnhooked();var $=getNamePath(s);return get(a.store,$)},this.getFieldsError=function(s){a.warningUnhooked();var $=a.getFieldEntitiesForNamePathList(s);return $.map(function(et,_e){return et&&!("INVALIDATE_NAME_PATH"in et)?{name:et.getNamePath(),errors:et.getErrors(),warnings:et.getWarnings()}:{name:getNamePath(s[_e]),errors:[],warnings:[]}})},this.getFieldError=function(s){a.warningUnhooked();var $=getNamePath(s),et=a.getFieldsError([$])[0];return et.errors},this.getFieldWarning=function(s){a.warningUnhooked();var $=getNamePath(s),et=a.getFieldsError([$])[0];return et.warnings},this.isFieldsTouched=function(){a.warningUnhooked();for(var s=arguments.length,$=new Array(s),et=0;et<s;et++)$[et]=arguments[et];var _e=$[0],rt=$[1],ot,it=!1;$.length===0?ot=null:$.length===1?Array.isArray(_e)?(ot=_e.map(getNamePath),it=!1):(ot=null,it=_e):(ot=_e.map(getNamePath),it=rt);var at=a.getFieldEntities(!0),j=function(dt){return dt.isFieldTouched()};if(!ot)return it?at.every(j):at.some(j);var _=new NameMap;ot.forEach(function(st){_.set(st,[])}),at.forEach(function(st){var dt=st.getNamePath();ot.forEach(function(ft){ft.every(function(gt,pt){return dt[pt]===gt})&&_.update(ft,function(gt){return[].concat(_toConsumableArray(gt),[st])})})});var tt=function(dt){return dt.some(j)},nt=_.map(function(st){var dt=st.value;return dt});return it?nt.every(tt):nt.some(tt)},this.isFieldTouched=function(s){return a.warningUnhooked(),a.isFieldsTouched([s])},this.isFieldsValidating=function(s){a.warningUnhooked();var $=a.getFieldEntities();if(!s)return $.some(function(_e){return _e.isFieldValidating()});var et=s.map(getNamePath);return $.some(function(_e){var rt=_e.getNamePath();return containsNamePath(et,rt)&&_e.isFieldValidating()})},this.isFieldValidating=function(s){return a.warningUnhooked(),a.isFieldsValidating([s])},this.resetWithFieldInitialValue=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=new NameMap,et=a.getFieldEntities(!0);et.forEach(function(ot){var it=ot.props.initialValue,at=ot.getNamePath();if(it!==void 0){var j=$.get(at)||new Set;j.add({entity:ot,value:it}),$.set(at,j)}});var _e=function(it){it.forEach(function(at){var j=at.props.initialValue;if(j!==void 0){var _=at.getNamePath(),tt=a.getInitialValue(_);if(tt!==void 0)warningOnce(!1,"Form already set 'initialValues' with path '".concat(_.join("."),"'. Field can not overwrite it."));else{var nt=$.get(_);if(nt&&nt.size>1)warningOnce(!1,"Multiple Field with path '".concat(_.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(nt){var st=a.getFieldValue(_);(!s.skipExist||st===void 0)&&a.updateStore(set(a.store,_,_toConsumableArray(nt)[0].value))}}}})},rt;s.entities?rt=s.entities:s.namePathList?(rt=[],s.namePathList.forEach(function(ot){var it=$.get(ot);if(it){var at;(at=rt).push.apply(at,_toConsumableArray(_toConsumableArray(it).map(function(j){return j.entity})))}})):rt=et,_e(rt)},this.resetFields=function(s){a.warningUnhooked();var $=a.store;if(!s){a.updateStore(merge$1(a.initialValues)),a.resetWithFieldInitialValue(),a.notifyObservers($,null,{type:"reset"}),a.notifyWatch();return}var et=s.map(getNamePath);et.forEach(function(_e){var rt=a.getInitialValue(_e);a.updateStore(set(a.store,_e,rt))}),a.resetWithFieldInitialValue({namePathList:et}),a.notifyObservers($,et,{type:"reset"}),a.notifyWatch(et)},this.setFields=function(s){a.warningUnhooked();var $=a.store,et=[];s.forEach(function(_e){var rt=_e.name,ot=_objectWithoutProperties(_e,_excluded$6),it=getNamePath(rt);et.push(it),"value"in ot&&a.updateStore(set(a.store,it,ot.value)),a.notifyObservers($,[it],{type:"setField",data:_e})}),a.notifyWatch(et)},this.getFields=function(){var s=a.getFieldEntities(!0),$=s.map(function(et){var _e=et.getNamePath(),rt=et.getMeta(),ot=_objectSpread2(_objectSpread2({},rt),{},{name:_e,value:a.getFieldValue(_e)});return Object.defineProperty(ot,"originRCField",{value:!0}),ot});return $},this.initEntityValue=function(s){var $=s.props.initialValue;if($!==void 0){var et=s.getNamePath(),_e=get(a.store,et);_e===void 0&&a.updateStore(set(a.store,et,$))}},this.isMergedPreserve=function(s){var $=s!==void 0?s:a.preserve;return $??!0},this.registerField=function(s){a.fieldEntities.push(s);var $=s.getNamePath();if(a.notifyWatch([$]),s.props.initialValue!==void 0){var et=a.store;a.resetWithFieldInitialValue({entities:[s],skipExist:!0}),a.notifyObservers(et,[s.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(_e,rt){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(a.fieldEntities=a.fieldEntities.filter(function(j){return j!==s}),!a.isMergedPreserve(rt)&&(!_e||ot.length>1)){var it=_e?void 0:a.getInitialValue($);if($.length&&a.getFieldValue($)!==it&&a.fieldEntities.every(function(j){return!matchNamePath(j.getNamePath(),$)})){var at=a.store;a.updateStore(set(at,$,it,!0)),a.notifyObservers(at,[$],{type:"remove"}),a.triggerDependenciesUpdate(at,$)}}a.notifyWatch([$])}},this.dispatch=function(s){switch(s.type){case"updateValue":{var $=s.namePath,et=s.value;a.updateValue($,et);break}case"validateField":{var _e=s.namePath,rt=s.triggerName;a.validateFields([_e],{triggerName:rt});break}}},this.notifyObservers=function(s,$,et){if(a.subscribable){var _e=_objectSpread2(_objectSpread2({},et),{},{store:a.getFieldsValue(!0)});a.getFieldEntities().forEach(function(rt){var ot=rt.onStoreChange;ot(s,$,_e)})}else a.forceRootUpdate()},this.triggerDependenciesUpdate=function(s,$){var et=a.getDependencyChildrenFields($);return et.length&&a.validateFields(et),a.notifyObservers(s,et,{type:"dependenciesUpdate",relatedFields:[$].concat(_toConsumableArray(et))}),et},this.updateValue=function(s,$){var et=getNamePath(s),_e=a.store;a.updateStore(set(a.store,et,$)),a.notifyObservers(_e,[et],{type:"valueUpdate",source:"internal"}),a.notifyWatch([et]);var rt=a.triggerDependenciesUpdate(_e,et),ot=a.callbacks.onValuesChange;if(ot){var it=cloneByNamePathList(a.store,[et]);ot(it,a.getFieldsValue())}a.triggerOnFieldsChange([et].concat(_toConsumableArray(rt)))},this.setFieldsValue=function(s){a.warningUnhooked();var $=a.store;if(s){var et=merge$1(a.store,s);a.updateStore(et)}a.notifyObservers($,null,{type:"valueUpdate",source:"external"}),a.notifyWatch()},this.setFieldValue=function(s,$){a.setFields([{name:s,value:$}])},this.getDependencyChildrenFields=function(s){var $=new Set,et=[],_e=new NameMap;a.getFieldEntities().forEach(function(ot){var it=ot.props.dependencies;(it||[]).forEach(function(at){var j=getNamePath(at);_e.update(j,function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return _.add(ot),_})})});var rt=function ot(it){var at=_e.get(it)||new Set;at.forEach(function(j){if(!$.has(j)){$.add(j);var _=j.getNamePath();j.isFieldDirty()&&_.length&&(et.push(_),ot(_))}})};return rt(s),et},this.triggerOnFieldsChange=function(s,$){var et=a.callbacks.onFieldsChange;if(et){var _e=a.getFields();if($){var rt=new NameMap;$.forEach(function(it){var at=it.name,j=it.errors;rt.set(at,j)}),_e.forEach(function(it){it.errors=rt.get(it.name)||it.errors})}var ot=_e.filter(function(it){var at=it.name;return containsNamePath(s,at)});et(ot,_e)}},this.validateFields=function(s,$){a.warningUnhooked();var et,_e;Array.isArray(s)||typeof s=="string"||typeof $=="string"?(et=s,_e=$):_e=s;var rt=!!et,ot=rt?et.map(getNamePath):[],it=[];a.getFieldEntities(!0).forEach(function(_){var tt;if(rt||ot.push(_.getNamePath()),!((tt=_e)===null||tt===void 0)&&tt.recursive&&rt){var nt=_.getNamePath();nt.every(function(ft,gt){return et[gt]===ft||et[gt]===void 0})&&ot.push(nt)}if(!(!_.props.rules||!_.props.rules.length)){var st=_.getNamePath();if(!rt||containsNamePath(ot,st)){var dt=_.validateRules(_objectSpread2({validateMessages:_objectSpread2(_objectSpread2({},defaultValidateMessages),a.validateMessages)},_e));it.push(dt.then(function(){return{name:st,errors:[],warnings:[]}}).catch(function(ft){var gt,pt=[],mt=[];return(gt=ft.forEach)===null||gt===void 0||gt.call(ft,function(vt){var yt=vt.rule.warningOnly,xt=vt.errors;yt?mt.push.apply(mt,_toConsumableArray(xt)):pt.push.apply(pt,_toConsumableArray(xt))}),pt.length?Promise.reject({name:st,errors:pt,warnings:mt}):{name:st,errors:pt,warnings:mt}}))}}});var at=allPromiseFinish(it);a.lastValidatePromise=at,at.catch(function(_){return _}).then(function(_){var tt=_.map(function(nt){var st=nt.name;return st});a.notifyObservers(a.store,tt,{type:"validateFinish"}),a.triggerOnFieldsChange(tt,_)});var j=at.then(function(){return a.lastValidatePromise===at?Promise.resolve(a.getFieldsValue(ot)):Promise.reject([])}).catch(function(_){var tt=_.filter(function(nt){return nt&&nt.errors.length});return Promise.reject({values:a.getFieldsValue(ot),errorFields:tt,outOfDate:a.lastValidatePromise!==at})});return j.catch(function(_){return _}),a.triggerOnFieldsChange(ot),j},this.submit=function(){a.warningUnhooked(),a.validateFields().then(function(s){var $=a.callbacks.onFinish;if($)try{$(s)}catch(et){console.error(et)}}).catch(function(s){var $=a.callbacks.onFinishFailed;$&&$(s)})},this.forceRootUpdate=i});function useForm(o){var i=reactExports.useRef(),a=reactExports.useState({}),s=_slicedToArray(a,2),$=s[1];if(!i.current)if(o)i.current=o;else{var et=function(){$({})},_e=new FormStore(et);i.current=_e.getForm()}return[i.current]}var FormContext=reactExports.createContext({triggerFormChange:function o(){},triggerFormFinish:function o(){},registerForm:function o(){},unregisterForm:function o(){}}),FormProvider=function o(i){var a=i.validateMessages,s=i.onFormChange,$=i.onFormFinish,et=i.children,_e=reactExports.useContext(FormContext),rt=reactExports.useRef({});return reactExports.createElement(FormContext.Provider,{value:_objectSpread2(_objectSpread2({},_e),{},{validateMessages:_objectSpread2(_objectSpread2({},_e.validateMessages),a),triggerFormChange:function(it,at){s&&s(it,{changedFields:at,forms:rt.current}),_e.triggerFormChange(it,at)},triggerFormFinish:function(it,at){$&&$(it,{values:at,forms:rt.current}),_e.triggerFormFinish(it,at)},registerForm:function(it,at){it&&(rt.current=_objectSpread2(_objectSpread2({},rt.current),{},_defineProperty({},it,at))),_e.registerForm(it,at)},unregisterForm:function(it){var at=_objectSpread2({},rt.current);delete at[it],rt.current=at,_e.unregisterForm(it)}})},et)},_excluded$5=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Form=function o(i,a){var s=i.name,$=i.initialValues,et=i.fields,_e=i.form,rt=i.preserve,ot=i.children,it=i.component,at=it===void 0?"form":it,j=i.validateMessages,_=i.validateTrigger,tt=_===void 0?"onChange":_,nt=i.onValuesChange,st=i.onFieldsChange,dt=i.onFinish,ft=i.onFinishFailed,gt=_objectWithoutProperties(i,_excluded$5),pt=reactExports.useContext(FormContext),mt=useForm(_e),vt=_slicedToArray(mt,1),yt=vt[0],xt=yt.getInternalHooks(HOOK_MARK),wt=xt.useSubscribe,St=xt.setInitialValues,Ct=xt.setCallbacks,At=xt.setValidateMessages,$t=xt.setPreserve,Rt=xt.destroyForm;reactExports.useImperativeHandle(a,function(){return yt}),reactExports.useEffect(function(){return pt.registerForm(s,yt),function(){pt.unregisterForm(s)}},[pt,yt,s]),At(_objectSpread2(_objectSpread2({},pt.validateMessages),j)),Ct({onValuesChange:nt,onFieldsChange:function(ln){if(pt.triggerFormChange(s,ln),st){for(var wn=arguments.length,_n=new Array(wn>1?wn-1:0),kn=1;kn<wn;kn++)_n[kn-1]=arguments[kn];st.apply(void 0,[ln].concat(_n))}},onFinish:function(ln){pt.triggerFormFinish(s,ln),dt&&dt(ln)},onFinishFailed:ft}),$t(rt);var kt=reactExports.useRef(null);St($,!kt.current),kt.current||(kt.current=!0),reactExports.useEffect(function(){return Rt},[]);var Lt,Dt=typeof ot=="function";if(Dt){var Mt=yt.getFieldsValue(!0);Lt=ot(Mt,yt)}else Lt=ot;wt(!Dt);var Vt=reactExports.useRef();reactExports.useEffect(function(){isSimilar(Vt.current||[],et||[])||yt.setFields(et||[]),Vt.current=et},[et,yt]);var Kt=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},yt),{},{validateTrigger:tt})},[yt,tt]),Yt=reactExports.createElement(ListContext.Provider,{value:null},reactExports.createElement(Context$1.Provider,{value:Kt},Lt));return at===!1?Yt:reactExports.createElement(at,_extends$1({},gt,{onSubmit:function(ln){ln.preventDefault(),ln.stopPropagation(),yt.submit()},onReset:function(ln){var wn;ln.preventDefault(),yt.resetFields(),(wn=gt.onReset)===null||wn===void 0||wn.call(gt,ln)}}),Yt)};function stringify(o){try{return JSON.stringify(o)}catch{return Math.random()}}function useWatch(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=i[0],$=s===void 0?[]:s,et=i[1],_e=et===void 0?{}:et,rt=isFormInstance(_e)?{form:_e}:_e,ot=rt.form,it=reactExports.useState(),at=_slicedToArray(it,2),j=at[0],_=at[1],tt=reactExports.useMemo(function(){return stringify(j)},[j]),nt=reactExports.useRef(tt);nt.current=tt;var st=reactExports.useContext(Context$1),dt=ot||st,ft=dt&&dt._init,gt=getNamePath($),pt=reactExports.useRef(gt);return pt.current=gt,reactExports.useEffect(function(){if(ft){var mt=dt.getFieldsValue,vt=dt.getInternalHooks,yt=vt(HOOK_MARK),xt=yt.registerWatch,wt=xt(function(Ct,At){var $t=get(rt.preserve?At:Ct,pt.current),Rt=stringify($t);nt.current!==Rt&&(nt.current=Rt,_($t))}),St=get(rt.preserve?mt(!0):mt(),pt.current);return _(St),wt}},[ft]),j}var InternalForm=reactExports.forwardRef(Form),RefForm=InternalForm;RefForm.FormProvider=FormProvider;RefForm.Field=WrapperField;RefForm.List=List;RefForm.useForm=useForm;RefForm.useWatch=useWatch;const ValidateMessagesContext=reactExports.createContext(void 0),enUS$1={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var locale$2={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const locale$1={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},TimePicker=locale$1,locale={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},locale$2),timePickerLocale:Object.assign({},TimePicker)},enUS=locale,typeTemplate="${label} is not a valid ${type}",localeValues={locale:"en",Pagination:enUS$1,DatePicker:enUS,TimePicker,Calendar:enUS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},defaultLocale=localeValues;let runtimeLocale=Object.assign({},defaultLocale.Modal);function changeConfirmLocale(o){o?runtimeLocale=Object.assign(Object.assign({},runtimeLocale),o):runtimeLocale=Object.assign({},defaultLocale.Modal)}const LocaleContext=reactExports.createContext(void 0),LocaleContext$1=LocaleContext,ANT_MARK="internalMark",LocaleProvider=o=>{const{locale:i={},children:a,_ANT_MARK__:s}=o;reactExports.useEffect(()=>(changeConfirmLocale(i&&i.Modal),()=>{changeConfirmLocale()}),[i]);const $=reactExports.useMemo(()=>Object.assign(Object.assign({},i),{exist:!0}),[i]);return reactExports.createElement(LocaleContext$1.Provider,{value:$},a)},LocaleProvider$1=LocaleProvider,version$1="5.6.1";function bound01(o,i){isOnePointZero(o)&&(o="100%");var a=isPercentage(o);return o=i===360?o:Math.min(i,Math.max(0,parseFloat(o))),a&&(o=parseInt(String(o*i),10)/100),Math.abs(o-i)<1e-6?1:(i===360?o=(o<0?o%i+i:o%i)/parseFloat(String(i)):o=o%i/parseFloat(String(i)),o)}function clamp01(o){return Math.min(1,Math.max(0,o))}function isOnePointZero(o){return typeof o=="string"&&o.indexOf(".")!==-1&&parseFloat(o)===1}function isPercentage(o){return typeof o=="string"&&o.indexOf("%")!==-1}function boundAlpha(o){return o=parseFloat(o),(isNaN(o)||o<0||o>1)&&(o=1),o}function convertToPercentage(o){return o<=1?"".concat(Number(o)*100,"%"):o}function pad2(o){return o.length===1?"0"+o:String(o)}function rgbToRgb(o,i,a){return{r:bound01(o,255)*255,g:bound01(i,255)*255,b:bound01(a,255)*255}}function rgbToHsl(o,i,a){o=bound01(o,255),i=bound01(i,255),a=bound01(a,255);var s=Math.max(o,i,a),$=Math.min(o,i,a),et=0,_e=0,rt=(s+$)/2;if(s===$)_e=0,et=0;else{var ot=s-$;switch(_e=rt>.5?ot/(2-s-$):ot/(s+$),s){case o:et=(i-a)/ot+(i<a?6:0);break;case i:et=(a-o)/ot+2;break;case a:et=(o-i)/ot+4;break}et/=6}return{h:et,s:_e,l:rt}}function hue2rgb(o,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(i-o)*(6*a):a<1/2?i:a<2/3?o+(i-o)*(2/3-a)*6:o}function hslToRgb(o,i,a){var s,$,et;if(o=bound01(o,360),i=bound01(i,100),a=bound01(a,100),i===0)$=a,et=a,s=a;else{var _e=a<.5?a*(1+i):a+i-a*i,rt=2*a-_e;s=hue2rgb(rt,_e,o+1/3),$=hue2rgb(rt,_e,o),et=hue2rgb(rt,_e,o-1/3)}return{r:s*255,g:$*255,b:et*255}}function rgbToHsv(o,i,a){o=bound01(o,255),i=bound01(i,255),a=bound01(a,255);var s=Math.max(o,i,a),$=Math.min(o,i,a),et=0,_e=s,rt=s-$,ot=s===0?0:rt/s;if(s===$)et=0;else{switch(s){case o:et=(i-a)/rt+(i<a?6:0);break;case i:et=(a-o)/rt+2;break;case a:et=(o-i)/rt+4;break}et/=6}return{h:et,s:ot,v:_e}}function hsvToRgb(o,i,a){o=bound01(o,360)*6,i=bound01(i,100),a=bound01(a,100);var s=Math.floor(o),$=o-s,et=a*(1-i),_e=a*(1-$*i),rt=a*(1-(1-$)*i),ot=s%6,it=[a,_e,et,et,rt,a][ot],at=[rt,a,a,_e,et,et][ot],j=[et,et,rt,a,a,_e][ot];return{r:it*255,g:at*255,b:j*255}}function rgbToHex(o,i,a,s){var $=[pad2(Math.round(o).toString(16)),pad2(Math.round(i).toString(16)),pad2(Math.round(a).toString(16))];return s&&$[0].startsWith($[0].charAt(1))&&$[1].startsWith($[1].charAt(1))&&$[2].startsWith($[2].charAt(1))?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0):$.join("")}function rgbaToHex(o,i,a,s,$){var et=[pad2(Math.round(o).toString(16)),pad2(Math.round(i).toString(16)),pad2(Math.round(a).toString(16)),pad2(convertDecimalToHex(s))];return $&&et[0].startsWith(et[0].charAt(1))&&et[1].startsWith(et[1].charAt(1))&&et[2].startsWith(et[2].charAt(1))&&et[3].startsWith(et[3].charAt(1))?et[0].charAt(0)+et[1].charAt(0)+et[2].charAt(0)+et[3].charAt(0):et.join("")}function convertDecimalToHex(o){return Math.round(parseFloat(o)*255).toString(16)}function convertHexToDecimal(o){return parseIntFromHex(o)/255}function parseIntFromHex(o){return parseInt(o,16)}function numberInputToObject(o){return{r:o>>16,g:(o&65280)>>8,b:o&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(o){var i={r:0,g:0,b:0},a=1,s=null,$=null,et=null,_e=!1,rt=!1;return typeof o=="string"&&(o=stringInputToObject(o)),typeof o=="object"&&(isValidCSSUnit(o.r)&&isValidCSSUnit(o.g)&&isValidCSSUnit(o.b)?(i=rgbToRgb(o.r,o.g,o.b),_e=!0,rt=String(o.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(o.h)&&isValidCSSUnit(o.s)&&isValidCSSUnit(o.v)?(s=convertToPercentage(o.s),$=convertToPercentage(o.v),i=hsvToRgb(o.h,s,$),_e=!0,rt="hsv"):isValidCSSUnit(o.h)&&isValidCSSUnit(o.s)&&isValidCSSUnit(o.l)&&(s=convertToPercentage(o.s),et=convertToPercentage(o.l),i=hslToRgb(o.h,s,et),_e=!0,rt="hsl"),Object.prototype.hasOwnProperty.call(o,"a")&&(a=o.a)),a=boundAlpha(a),{ok:_e,format:o.format||rt,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(o){if(o=o.trim().toLowerCase(),o.length===0)return!1;var i=!1;if(names[o])o=names[o],i=!0;else if(o==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var a=matchers.rgb.exec(o);return a?{r:a[1],g:a[2],b:a[3]}:(a=matchers.rgba.exec(o),a?{r:a[1],g:a[2],b:a[3],a:a[4]}:(a=matchers.hsl.exec(o),a?{h:a[1],s:a[2],l:a[3]}:(a=matchers.hsla.exec(o),a?{h:a[1],s:a[2],l:a[3],a:a[4]}:(a=matchers.hsv.exec(o),a?{h:a[1],s:a[2],v:a[3]}:(a=matchers.hsva.exec(o),a?{h:a[1],s:a[2],v:a[3],a:a[4]}:(a=matchers.hex8.exec(o),a?{r:parseIntFromHex(a[1]),g:parseIntFromHex(a[2]),b:parseIntFromHex(a[3]),a:convertHexToDecimal(a[4]),format:i?"name":"hex8"}:(a=matchers.hex6.exec(o),a?{r:parseIntFromHex(a[1]),g:parseIntFromHex(a[2]),b:parseIntFromHex(a[3]),format:i?"name":"hex"}:(a=matchers.hex4.exec(o),a?{r:parseIntFromHex(a[1]+a[1]),g:parseIntFromHex(a[2]+a[2]),b:parseIntFromHex(a[3]+a[3]),a:convertHexToDecimal(a[4]+a[4]),format:i?"name":"hex8"}:(a=matchers.hex3.exec(o),a?{r:parseIntFromHex(a[1]+a[1]),g:parseIntFromHex(a[2]+a[2]),b:parseIntFromHex(a[3]+a[3]),format:i?"name":"hex"}:!1)))))))))}function isValidCSSUnit(o){return!!matchers.CSS_UNIT.exec(String(o))}var TinyColor=function(){function o(i,a){i===void 0&&(i=""),a===void 0&&(a={});var s;if(i instanceof o)return i;typeof i=="number"&&(i=numberInputToObject(i)),this.originalInput=i;var $=inputToRGB(i);this.originalInput=i,this.r=$.r,this.g=$.g,this.b=$.b,this.a=$.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=a.format)!==null&&s!==void 0?s:$.format,this.gradientType=a.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=$.ok}return o.prototype.isDark=function(){return this.getBrightness()<128},o.prototype.isLight=function(){return!this.isDark()},o.prototype.getBrightness=function(){var i=this.toRgb();return(i.r*299+i.g*587+i.b*114)/1e3},o.prototype.getLuminance=function(){var i=this.toRgb(),a,s,$,et=i.r/255,_e=i.g/255,rt=i.b/255;return et<=.03928?a=et/12.92:a=Math.pow((et+.055)/1.055,2.4),_e<=.03928?s=_e/12.92:s=Math.pow((_e+.055)/1.055,2.4),rt<=.03928?$=rt/12.92:$=Math.pow((rt+.055)/1.055,2.4),.2126*a+.7152*s+.0722*$},o.prototype.getAlpha=function(){return this.a},o.prototype.setAlpha=function(i){return this.a=boundAlpha(i),this.roundA=Math.round(100*this.a)/100,this},o.prototype.isMonochrome=function(){var i=this.toHsl().s;return i===0},o.prototype.toHsv=function(){var i=rgbToHsv(this.r,this.g,this.b);return{h:i.h*360,s:i.s,v:i.v,a:this.a}},o.prototype.toHsvString=function(){var i=rgbToHsv(this.r,this.g,this.b),a=Math.round(i.h*360),s=Math.round(i.s*100),$=Math.round(i.v*100);return this.a===1?"hsv(".concat(a,", ").concat(s,"%, ").concat($,"%)"):"hsva(".concat(a,", ").concat(s,"%, ").concat($,"%, ").concat(this.roundA,")")},o.prototype.toHsl=function(){var i=rgbToHsl(this.r,this.g,this.b);return{h:i.h*360,s:i.s,l:i.l,a:this.a}},o.prototype.toHslString=function(){var i=rgbToHsl(this.r,this.g,this.b),a=Math.round(i.h*360),s=Math.round(i.s*100),$=Math.round(i.l*100);return this.a===1?"hsl(".concat(a,", ").concat(s,"%, ").concat($,"%)"):"hsla(".concat(a,", ").concat(s,"%, ").concat($,"%, ").concat(this.roundA,")")},o.prototype.toHex=function(i){return i===void 0&&(i=!1),rgbToHex(this.r,this.g,this.b,i)},o.prototype.toHexString=function(i){return i===void 0&&(i=!1),"#"+this.toHex(i)},o.prototype.toHex8=function(i){return i===void 0&&(i=!1),rgbaToHex(this.r,this.g,this.b,this.a,i)},o.prototype.toHex8String=function(i){return i===void 0&&(i=!1),"#"+this.toHex8(i)},o.prototype.toHexShortString=function(i){return i===void 0&&(i=!1),this.a===1?this.toHexString(i):this.toHex8String(i)},o.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},o.prototype.toRgbString=function(){var i=Math.round(this.r),a=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(i,", ").concat(a,", ").concat(s,")"):"rgba(".concat(i,", ").concat(a,", ").concat(s,", ").concat(this.roundA,")")},o.prototype.toPercentageRgb=function(){var i=function(a){return"".concat(Math.round(bound01(a,255)*100),"%")};return{r:i(this.r),g:i(this.g),b:i(this.b),a:this.a}},o.prototype.toPercentageRgbString=function(){var i=function(a){return Math.round(bound01(a,255)*100)};return this.a===1?"rgb(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%)"):"rgba(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%, ").concat(this.roundA,")")},o.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var i="#"+rgbToHex(this.r,this.g,this.b,!1),a=0,s=Object.entries(names);a<s.length;a++){var $=s[a],et=$[0],_e=$[1];if(i===_e)return et}return!1},o.prototype.toString=function(i){var a=!!i;i=i??this.format;var s=!1,$=this.a<1&&this.a>=0,et=!a&&$&&(i.startsWith("hex")||i==="name");return et?i==="name"&&this.a===0?this.toName():this.toRgbString():(i==="rgb"&&(s=this.toRgbString()),i==="prgb"&&(s=this.toPercentageRgbString()),(i==="hex"||i==="hex6")&&(s=this.toHexString()),i==="hex3"&&(s=this.toHexString(!0)),i==="hex4"&&(s=this.toHex8String(!0)),i==="hex8"&&(s=this.toHex8String()),i==="name"&&(s=this.toName()),i==="hsl"&&(s=this.toHslString()),i==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},o.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},o.prototype.clone=function(){return new o(this.toString())},o.prototype.lighten=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.l+=i/100,a.l=clamp01(a.l),new o(a)},o.prototype.brighten=function(i){i===void 0&&(i=10);var a=this.toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(255*-(i/100)))),a.g=Math.max(0,Math.min(255,a.g-Math.round(255*-(i/100)))),a.b=Math.max(0,Math.min(255,a.b-Math.round(255*-(i/100)))),new o(a)},o.prototype.darken=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.l-=i/100,a.l=clamp01(a.l),new o(a)},o.prototype.tint=function(i){return i===void 0&&(i=10),this.mix("white",i)},o.prototype.shade=function(i){return i===void 0&&(i=10),this.mix("black",i)},o.prototype.desaturate=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.s-=i/100,a.s=clamp01(a.s),new o(a)},o.prototype.saturate=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.s+=i/100,a.s=clamp01(a.s),new o(a)},o.prototype.greyscale=function(){return this.desaturate(100)},o.prototype.spin=function(i){var a=this.toHsl(),s=(a.h+i)%360;return a.h=s<0?360+s:s,new o(a)},o.prototype.mix=function(i,a){a===void 0&&(a=50);var s=this.toRgb(),$=new o(i).toRgb(),et=a/100,_e={r:($.r-s.r)*et+s.r,g:($.g-s.g)*et+s.g,b:($.b-s.b)*et+s.b,a:($.a-s.a)*et+s.a};return new o(_e)},o.prototype.analogous=function(i,a){i===void 0&&(i=6),a===void 0&&(a=30);var s=this.toHsl(),$=360/a,et=[this];for(s.h=(s.h-($*i>>1)+720)%360;--i;)s.h=(s.h+$)%360,et.push(new o(s));return et},o.prototype.complement=function(){var i=this.toHsl();return i.h=(i.h+180)%360,new o(i)},o.prototype.monochromatic=function(i){i===void 0&&(i=6);for(var a=this.toHsv(),s=a.h,$=a.s,et=a.v,_e=[],rt=1/i;i--;)_e.push(new o({h:s,s:$,v:et})),et=(et+rt)%1;return _e},o.prototype.splitcomplement=function(){var i=this.toHsl(),a=i.h;return[this,new o({h:(a+72)%360,s:i.s,l:i.l}),new o({h:(a+216)%360,s:i.s,l:i.l})]},o.prototype.onBackground=function(i){var a=this.toRgb(),s=new o(i).toRgb(),$=a.a+s.a*(1-a.a);return new o({r:(a.r*a.a+s.r*s.a*(1-a.a))/$,g:(a.g*a.a+s.g*s.a*(1-a.a))/$,b:(a.b*a.a+s.b*s.a*(1-a.a))/$,a:$})},o.prototype.triad=function(){return this.polyad(3)},o.prototype.tetrad=function(){return this.polyad(4)},o.prototype.polyad=function(i){for(var a=this.toHsl(),s=a.h,$=[this],et=360/i,_e=1;_e<i;_e++)$.push(new o({h:(s+_e*et)%360,s:a.s,l:a.l}));return $},o.prototype.equals=function(i){return this.toRgbString()===new o(i).toRgbString()},o}(),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(o){var i=o.r,a=o.g,s=o.b,$=rgbToHsv(i,a,s);return{h:$.h*360,s:$.s,v:$.v}}function toHex(o){var i=o.r,a=o.g,s=o.b;return"#".concat(rgbToHex(i,a,s,!1))}function mix(o,i,a){var s=a/100,$={r:(i.r-o.r)*s+o.r,g:(i.g-o.g)*s+o.g,b:(i.b-o.b)*s+o.b};return $}function getHue(o,i,a){var s;return Math.round(o.h)>=60&&Math.round(o.h)<=240?s=a?Math.round(o.h)-hueStep*i:Math.round(o.h)+hueStep*i:s=a?Math.round(o.h)+hueStep*i:Math.round(o.h)-hueStep*i,s<0?s+=360:s>=360&&(s-=360),s}function getSaturation(o,i,a){if(o.h===0&&o.s===0)return o.s;var s;return a?s=o.s-saturationStep*i:i===darkColorCount?s=o.s+saturationStep:s=o.s+saturationStep2*i,s>1&&(s=1),a&&i===lightColorCount&&s>.1&&(s=.1),s<.06&&(s=.06),Number(s.toFixed(2))}function getValue(o,i,a){var s;return a?s=o.v+brightnessStep1*i:s=o.v-brightnessStep2*i,s>1&&(s=1),Number(s.toFixed(2))}function generate$1(o){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[],s=inputToRGB(o),$=lightColorCount;$>0;$-=1){var et=toHsv(s),_e=toHex(inputToRGB({h:getHue(et,$,!0),s:getSaturation(et,$,!0),v:getValue(et,$,!0)}));a.push(_e)}a.push(toHex(s));for(var rt=1;rt<=darkColorCount;rt+=1){var ot=toHsv(s),it=toHex(inputToRGB({h:getHue(ot,rt),s:getSaturation(ot,rt),v:getValue(ot,rt)}));a.push(it)}return i.theme==="dark"?darkColorMap.map(function(at){var j=at.index,_=at.opacity,tt=toHex(mix(inputToRGB(i.backgroundColor||"#141414"),inputToRGB(a[j]),_*100));return tt}):a}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(o){presetPalettes[o]=generate$1(presetPrimaryColors[o]),presetPalettes[o].primary=presetPalettes[o][5],presetDarkPalettes[o]=generate$1(presetPrimaryColors[o],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[o].primary=presetDarkPalettes[o][5]});var blue=presetPalettes.blue;const genControlHeight=o=>{const{controlHeight:i}=o;return{controlHeightSM:i*.75,controlHeightXS:i*.5,controlHeightLG:i*1.25}},genControlHeight$1=genControlHeight;function genSizeMapToken(o){const{sizeUnit:i,sizeStep:a}=o;return{sizeXXL:i*(a+8),sizeXL:i*(a+4),sizeLG:i*(a+2),sizeMD:i*(a+1),sizeMS:i*a,size:i*a,sizeSM:i*(a-1),sizeXS:i*(a-2),sizeXXS:i*(a-3)}}const defaultPresetColors={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},seedToken=Object.assign(Object.assign({},defaultPresetColors),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),seedToken$1=seedToken;function genColorMapToken(o,i){let{generateColorPalettes:a,generateNeutralColorPalettes:s}=i;const{colorSuccess:$,colorWarning:et,colorError:_e,colorInfo:rt,colorPrimary:ot,colorBgBase:it,colorTextBase:at}=o,j=a(ot),_=a($),tt=a(et),nt=a(_e),st=a(rt),dt=s(it,at);return Object.assign(Object.assign({},dt),{colorPrimaryBg:j[1],colorPrimaryBgHover:j[2],colorPrimaryBorder:j[3],colorPrimaryBorderHover:j[4],colorPrimaryHover:j[5],colorPrimary:j[6],colorPrimaryActive:j[7],colorPrimaryTextHover:j[8],colorPrimaryText:j[9],colorPrimaryTextActive:j[10],colorSuccessBg:_[1],colorSuccessBgHover:_[2],colorSuccessBorder:_[3],colorSuccessBorderHover:_[4],colorSuccessHover:_[4],colorSuccess:_[6],colorSuccessActive:_[7],colorSuccessTextHover:_[8],colorSuccessText:_[9],colorSuccessTextActive:_[10],colorErrorBg:nt[1],colorErrorBgHover:nt[2],colorErrorBorder:nt[3],colorErrorBorderHover:nt[4],colorErrorHover:nt[5],colorError:nt[6],colorErrorActive:nt[7],colorErrorTextHover:nt[8],colorErrorText:nt[9],colorErrorTextActive:nt[10],colorWarningBg:tt[1],colorWarningBgHover:tt[2],colorWarningBorder:tt[3],colorWarningBorderHover:tt[4],colorWarningHover:tt[4],colorWarning:tt[6],colorWarningActive:tt[7],colorWarningTextHover:tt[8],colorWarningText:tt[9],colorWarningTextActive:tt[10],colorInfoBg:st[1],colorInfoBgHover:st[2],colorInfoBorder:st[3],colorInfoBorderHover:st[4],colorInfoHover:st[4],colorInfo:st[6],colorInfoActive:st[7],colorInfoTextHover:st[8],colorInfoText:st[9],colorInfoTextActive:st[10],colorBgMask:new TinyColor("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const genRadius=o=>{let i=o,a=o,s=o,$=o;return o<6&&o>=5?i=o+1:o<16&&o>=6?i=o+2:o>=16&&(i=16),o<7&&o>=5?a=4:o<8&&o>=7?a=5:o<14&&o>=8?a=6:o<16&&o>=14?a=7:o>=16&&(a=8),o<6&&o>=2?s=1:o>=6&&(s=2),o>4&&o<8?$=4:o>=8&&($=6),{borderRadius:o>16?16:o,borderRadiusXS:s,borderRadiusSM:a,borderRadiusLG:i,borderRadiusOuter:$}},genRadius$1=genRadius;function genCommonMapToken(o){const{motionUnit:i,motionBase:a,borderRadius:s,lineWidth:$}=o;return Object.assign({motionDurationFast:`${(a+i).toFixed(1)}s`,motionDurationMid:`${(a+i*2).toFixed(1)}s`,motionDurationSlow:`${(a+i*3).toFixed(1)}s`,lineWidthBold:$+1},genRadius$1(s))}const getAlphaColor$1=(o,i)=>new TinyColor(o).setAlpha(i).toRgbString(),getSolidColor=(o,i)=>new TinyColor(o).darken(i).toHexString(),generateColorPalettes=o=>{const i=generate$1(o);return{1:i[0],2:i[1],3:i[2],4:i[3],5:i[4],6:i[5],7:i[6],8:i[4],9:i[5],10:i[6]}},generateNeutralColorPalettes=(o,i)=>{const a=o||"#fff",s=i||"#000";return{colorBgBase:a,colorTextBase:s,colorText:getAlphaColor$1(s,.88),colorTextSecondary:getAlphaColor$1(s,.65),colorTextTertiary:getAlphaColor$1(s,.45),colorTextQuaternary:getAlphaColor$1(s,.25),colorFill:getAlphaColor$1(s,.15),colorFillSecondary:getAlphaColor$1(s,.06),colorFillTertiary:getAlphaColor$1(s,.04),colorFillQuaternary:getAlphaColor$1(s,.02),colorBgLayout:getSolidColor(a,4),colorBgContainer:getSolidColor(a,0),colorBgElevated:getSolidColor(a,0),colorBgSpotlight:getAlphaColor$1(s,.85),colorBorder:getSolidColor(a,15),colorBorderSecondary:getSolidColor(a,6)}};function getFontSizes(o){const i=new Array(10).fill(null).map((a,s)=>{const $=s-1,et=o*Math.pow(2.71828,$/5),_e=s>1?Math.floor(et):Math.ceil(et);return Math.floor(_e/2)*2});return i[1]=o,i.map(a=>{const s=a+8;return{size:a,lineHeight:s/a}})}const genFontMapToken=o=>{const i=getFontSizes(o),a=i.map($=>$.size),s=i.map($=>$.lineHeight);return{fontSizeSM:a[0],fontSize:a[1],fontSizeLG:a[2],fontSizeXL:a[3],fontSizeHeading1:a[6],fontSizeHeading2:a[5],fontSizeHeading3:a[4],fontSizeHeading4:a[3],fontSizeHeading5:a[2],lineHeight:s[1],lineHeightLG:s[2],lineHeightSM:s[0],lineHeightHeading1:s[6],lineHeightHeading2:s[5],lineHeightHeading3:s[4],lineHeightHeading4:s[3],lineHeightHeading5:s[2]}},genFontMapToken$1=genFontMapToken;function derivative(o){const i=Object.keys(defaultPresetColors).map(a=>{const s=generate$1(o[a]);return new Array(10).fill(1).reduce(($,et,_e)=>($[`${a}-${_e+1}`]=s[_e],$[`${a}${_e+1}`]=s[_e],$),{})}).reduce((a,s)=>(a=Object.assign(Object.assign({},a),s),a),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),i),genColorMapToken(o,{generateColorPalettes,generateNeutralColorPalettes})),genFontMapToken$1(o.fontSize)),genSizeMapToken(o)),genControlHeight$1(o)),genCommonMapToken(o))}function isStableColor(o){return o>=0&&o<=255}function getAlphaColor(o,i){const{r:a,g:s,b:$,a:et}=new TinyColor(o).toRgb();if(et<1)return o;const{r:_e,g:rt,b:ot}=new TinyColor(i).toRgb();for(let it=.01;it<=1;it+=.01){const at=Math.round((a-_e*(1-it))/it),j=Math.round((s-rt*(1-it))/it),_=Math.round(($-ot*(1-it))/it);if(isStableColor(at)&&isStableColor(j)&&isStableColor(_))return new TinyColor({r:at,g:j,b:_,a:Math.round(it*100)/100}).toRgbString()}return new TinyColor({r:a,g:s,b:$,a:1}).toRgbString()}var __rest$3=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,s=Object.getOwnPropertySymbols(o);$<s.length;$++)i.indexOf(s[$])<0&&Object.prototype.propertyIsEnumerable.call(o,s[$])&&(a[s[$]]=o[s[$]]);return a};function formatToken(o){const{override:i}=o,a=__rest$3(o,["override"]),s=Object.assign({},i);Object.keys(seedToken$1).forEach(_=>{delete s[_]});const $=Object.assign(Object.assign({},a),s),et=480,_e=576,rt=768,ot=992,it=1200,at=1600;if($.motion===!1){const _="0s";$.motionDurationFast=_,$.motionDurationMid=_,$.motionDurationSlow=_}return Object.assign(Object.assign(Object.assign({},$),{colorLink:$.colorInfoText,colorLinkHover:$.colorInfoHover,colorLinkActive:$.colorInfoActive,colorFillContent:$.colorFillSecondary,colorFillContentHover:$.colorFill,colorFillAlter:$.colorFillQuaternary,colorBgContainerDisabled:$.colorFillTertiary,colorBorderBg:$.colorBgContainer,colorSplit:getAlphaColor($.colorBorderSecondary,$.colorBgContainer),colorTextPlaceholder:$.colorTextQuaternary,colorTextDisabled:$.colorTextQuaternary,colorTextHeading:$.colorText,colorTextLabel:$.colorTextSecondary,colorTextDescription:$.colorTextTertiary,colorTextLightSolid:$.colorWhite,colorHighlight:$.colorError,colorBgTextHover:$.colorFillSecondary,colorBgTextActive:$.colorFill,colorIcon:$.colorTextTertiary,colorIconHover:$.colorText,colorErrorOutline:getAlphaColor($.colorErrorBg,$.colorBgContainer),colorWarningOutline:getAlphaColor($.colorWarningBg,$.colorBgContainer),fontSizeIcon:$.fontSizeSM,lineWidthFocus:$.lineWidth*4,lineWidth:$.lineWidth,controlOutlineWidth:$.lineWidth*2,controlInteractiveSize:$.controlHeight/2,controlItemBgHover:$.colorFillTertiary,controlItemBgActive:$.colorPrimaryBg,controlItemBgActiveHover:$.colorPrimaryBgHover,controlItemBgActiveDisabled:$.colorFill,controlTmpOutline:$.colorFillQuaternary,controlOutline:getAlphaColor($.colorPrimaryBg,$.colorBgContainer),lineType:$.lineType,borderRadius:$.borderRadius,borderRadiusXS:$.borderRadiusXS,borderRadiusSM:$.borderRadiusSM,borderRadiusLG:$.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:$.sizeXXS,paddingXS:$.sizeXS,paddingSM:$.sizeSM,padding:$.size,paddingMD:$.sizeMD,paddingLG:$.sizeLG,paddingXL:$.sizeXL,paddingContentHorizontalLG:$.sizeLG,paddingContentVerticalLG:$.sizeMS,paddingContentHorizontal:$.sizeMS,paddingContentVertical:$.sizeSM,paddingContentHorizontalSM:$.size,paddingContentVerticalSM:$.sizeXS,marginXXS:$.sizeXXS,marginXS:$.sizeXS,marginSM:$.sizeSM,margin:$.size,marginMD:$.sizeMD,marginLG:$.sizeLG,marginXL:$.sizeXL,marginXXL:$.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:et,screenXSMin:et,screenXSMax:_e-1,screenSM:_e,screenSMMin:_e,screenSMMax:rt-1,screenMD:rt,screenMDMin:rt,screenMDMax:ot-1,screenLG:ot,screenLGMin:ot,screenLGMax:it-1,screenXL:it,screenXLMin:it,screenXLMax:at-1,screenXXL:at,screenXXLMin:at,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new TinyColor("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new TinyColor("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new TinyColor("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),s)}function useSafeState(o){var i=reactExports.useRef(!1),a=reactExports.useState(o),s=_slicedToArray(a,2),$=s[0],et=s[1];reactExports.useEffect(function(){return i.current=!1,function(){i.current=!0}},[]);function _e(rt,ot){ot&&i.current||et(rt)}return[$,_e]}const defaultIconPrefixCls="anticon",defaultGetPrefixCls=(o,i)=>i||(o?`ant-${o}`:"ant"),ConfigContext=reactExports.createContext({getPrefixCls:defaultGetPrefixCls,iconPrefixCls:defaultIconPrefixCls}),resetComponent=o=>({boxSizing:"border-box",margin:0,padding:0,color:o.colorText,fontSize:o.fontSize,lineHeight:o.lineHeight,listStyle:"none",fontFamily:o.fontFamily}),resetIcon=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),genLinkStyle=o=>({a:{color:o.colorLink,textDecoration:o.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${o.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:o.colorLinkHover},"&:active":{color:o.colorLinkActive},[`&:active,
  &:hover`]:{textDecoration:o.linkHoverDecoration,outline:0},"&:focus":{textDecoration:o.linkFocusDecoration,outline:0},"&[disabled]":{color:o.colorTextDisabled,cursor:"not-allowed"}}}),genCommonStyle=(o,i)=>{const{fontFamily:a,fontSize:s}=o,$=`[class^="${i}"], [class*=" ${i}"]`;return{[$]:{fontFamily:a,fontSize:s,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[$]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}};function genComponentStyleHook(o,i,a,s){return $=>{const[et,_e,rt]=useToken(),{getPrefixCls:ot,iconPrefixCls:it,csp:at}=reactExports.useContext(ConfigContext),j=ot(),_={theme:et,token:_e,hashId:rt,nonce:()=>at==null?void 0:at.nonce};return useStyleRegister(Object.assign(Object.assign({},_),{path:["Shared",j]}),()=>[{"&":genLinkStyle(_e)}]),[useStyleRegister(Object.assign(Object.assign({},_),{path:[o,$,it]}),()=>{const{token:tt,flush:nt}=statisticToken(_e),st=Object.assign({},_e[o]);if(s!=null&&s.deprecatedTokens){const{deprecatedTokens:vt}=s;vt.forEach(yt=>{let[xt,wt]=yt;var St;(st!=null&&st[xt]||st!=null&&st[wt])&&((St=st[wt])!==null&&St!==void 0||(st[wt]=st==null?void 0:st[xt]))})}const dt=typeof a=="function"?a(merge(tt,st??{})):a,ft=Object.assign(Object.assign({},dt),st),gt=`.${$}`,pt=merge(tt,{componentCls:gt,prefixCls:$,iconCls:`.${it}`,antCls:`.${j}`},ft),mt=i(pt,{hashId:rt,prefixCls:$,rootPrefixCls:j,iconPrefixCls:it,overrideComponentToken:st});return nt(o,ft),[(s==null?void 0:s.resetStyle)===!1?null:genCommonStyle(_e,$),mt]}),rt]}}const enableStatistic=typeof CSSINJS_STATISTIC<"u";let recording=!0;function merge(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if(!enableStatistic)return Object.assign.apply(Object,[{}].concat(i));recording=!1;const s={};return i.forEach($=>{Object.keys($).forEach(_e=>{Object.defineProperty(s,_e,{configurable:!0,enumerable:!0,get:()=>$[_e]})})}),recording=!0,s}function noop(){}function statisticToken(o){let i,a=o,s=noop;return enableStatistic&&(i=new Set,a=new Proxy(o,{get($,et){return recording&&i.add(et),$[et]}}),s=($,et)=>{Array.from(i)}),{token:a,keys:i,flush:s}}const defaultTheme=createTheme(derivative),defaultConfig={token:seedToken$1,hashed:!0},DesignTokenContext=React.createContext(defaultConfig);function useToken(){const{token:o,hashed:i,theme:a,components:s}=React.useContext(DesignTokenContext),$=`${version$1}-${i||""}`,et=a||defaultTheme,[_e,rt]=useCacheToken(et,[seedToken$1,o],{salt:$,override:Object.assign({override:o},s),formatToken});return[et,_e,i?rt:""]}const dynamicStyleMark=`-ant-${Date.now()}-${Math.random()}`;function getStyle(o,i){const a={},s=(_e,rt)=>{let ot=_e.clone();return ot=(rt==null?void 0:rt(ot))||ot,ot.toRgbString()},$=(_e,rt)=>{const ot=new TinyColor(_e),it=generate$1(ot.toRgbString());a[`${rt}-color`]=s(ot),a[`${rt}-color-disabled`]=it[1],a[`${rt}-color-hover`]=it[4],a[`${rt}-color-active`]=it[6],a[`${rt}-color-outline`]=ot.clone().setAlpha(.2).toRgbString(),a[`${rt}-color-deprecated-bg`]=it[0],a[`${rt}-color-deprecated-border`]=it[2]};if(i.primaryColor){$(i.primaryColor,"primary");const _e=new TinyColor(i.primaryColor),rt=generate$1(_e.toRgbString());rt.forEach((it,at)=>{a[`primary-${at+1}`]=it}),a["primary-color-deprecated-l-35"]=s(_e,it=>it.lighten(35)),a["primary-color-deprecated-l-20"]=s(_e,it=>it.lighten(20)),a["primary-color-deprecated-t-20"]=s(_e,it=>it.tint(20)),a["primary-color-deprecated-t-50"]=s(_e,it=>it.tint(50)),a["primary-color-deprecated-f-12"]=s(_e,it=>it.setAlpha(it.getAlpha()*.12));const ot=new TinyColor(rt[0]);a["primary-color-active-deprecated-f-30"]=s(ot,it=>it.setAlpha(it.getAlpha()*.3)),a["primary-color-active-deprecated-d-02"]=s(ot,it=>it.darken(2))}return i.successColor&&$(i.successColor,"success"),i.warningColor&&$(i.warningColor,"warning"),i.errorColor&&$(i.errorColor,"error"),i.infoColor&&$(i.infoColor,"info"),`
  :root {
    ${Object.keys(a).map(_e=>`--${o}-${_e}: ${a[_e]};`).join(`
`)}
  }
  `.trim()}function registerTheme(o,i){const a=getStyle(o,i);canUseDom()&&updateCSS(a,`${dynamicStyleMark}-dynamic-theme`)}const DisabledContext=reactExports.createContext(!1),DisabledContextProvider=o=>{let{children:i,disabled:a}=o;const s=reactExports.useContext(DisabledContext);return reactExports.createElement(DisabledContext.Provider,{value:a??s},i)},DisabledContext$1=DisabledContext,useSize=o=>{const i=React.useContext(SizeContext$1);return React.useMemo(()=>o?typeof o=="string"?o??i:o instanceof Function?o(i):i:i,[o,i])},useSize$1=useSize,SizeContext=reactExports.createContext(void 0),SizeContextProvider=o=>{let{children:i,size:a}=o;const s=useSize$1(a);return reactExports.createElement(SizeContext.Provider,{value:s},i)},SizeContext$1=SizeContext;function useConfig(){const o=reactExports.useContext(DisabledContext$1),i=reactExports.useContext(SizeContext$1);return{componentDisabled:o,componentSize:i}}function useTheme(o,i){const a=o||{},s=a.inherit===!1||!i?defaultConfig:i;return useMemo(()=>{if(!o)return i;const et=Object.assign({},s.components);return Object.keys(o.components||{}).forEach(_e=>{et[_e]=Object.assign(Object.assign({},et[_e]),o.components[_e])}),Object.assign(Object.assign(Object.assign({},s),a),{token:Object.assign(Object.assign({},s.token),a.token),components:et})},[a,s],(et,_e)=>et.some((rt,ot)=>{const it=_e[ot];return!isEqual(rt,it,!0)}))}var _excluded$4=["children"],Context=reactExports.createContext({});function MotionProvider(o){var i=o.children,a=_objectWithoutProperties(o,_excluded$4);return reactExports.createElement(Context.Provider,{value:a},i)}var DomWrapper=function(o){_inherits(a,o);var i=_createSuper(a);function a(){return _classCallCheck(this,a),i.apply(this,arguments)}return _createClass(a,[{key:"render",value:function(){return this.props.children}}]),a}(reactExports.Component),STATUS_NONE="none",STATUS_APPEAR="appear",STATUS_ENTER="enter",STATUS_LEAVE="leave",STEP_NONE="none",STEP_PREPARE="prepare",STEP_START="start",STEP_ACTIVE="active",STEP_ACTIVATED="end",STEP_PREPARED="prepared";function makePrefixMap(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit".concat(o)]="webkit".concat(i),a["Moz".concat(o)]="moz".concat(i),a["ms".concat(o)]="MS".concat(i),a["O".concat(o)]="o".concat(i.toLowerCase()),a}function getVendorPrefixes(o,i){var a={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return o&&("AnimationEvent"in i||delete a.animationend.animation,"TransitionEvent"in i||delete a.transitionend.transition),a}var vendorPrefixes=getVendorPrefixes(canUseDom(),typeof window<"u"?window:{}),style={};if(canUseDom()){var _document$createEleme=document.createElement("div");style=_document$createEleme.style}var prefixedEventNames={};function getVendorPrefixedEventName(o){if(prefixedEventNames[o])return prefixedEventNames[o];var i=vendorPrefixes[o];if(i)for(var a=Object.keys(i),s=a.length,$=0;$<s;$+=1){var et=a[$];if(Object.prototype.hasOwnProperty.call(i,et)&&et in style)return prefixedEventNames[o]=i[et],prefixedEventNames[o]}return""}var internalAnimationEndName=getVendorPrefixedEventName("animationend"),internalTransitionEndName=getVendorPrefixedEventName("transitionend"),supportTransition=!!(internalAnimationEndName&&internalTransitionEndName),animationEndName=internalAnimationEndName||"animationend",transitionEndName=internalTransitionEndName||"transitionend";function getTransitionName(o,i){if(!o)return null;if(_typeof(o)==="object"){var a=i.replace(/-\w/g,function(s){return s[1].toUpperCase()});return o[a]}return"".concat(o,"-").concat(i)}const useDomMotionEvents=function(o){var i=reactExports.useRef(),a=reactExports.useRef(o);a.current=o;var s=reactExports.useCallback(function(_e){a.current(_e)},[]);function $(_e){_e&&(_e.removeEventListener(transitionEndName,s),_e.removeEventListener(animationEndName,s))}function et(_e){i.current&&i.current!==_e&&$(i.current),_e&&_e!==i.current&&(_e.addEventListener(transitionEndName,s),_e.addEventListener(animationEndName,s),i.current=_e)}return reactExports.useEffect(function(){return function(){$(i.current)}},[]),[et,$]};var useIsomorphicLayoutEffect=canUseDom()?reactExports.useLayoutEffect:reactExports.useEffect;const useNextFrame=function(){var o=reactExports.useRef(null);function i(){wrapperRaf.cancel(o.current)}function a(s){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;i();var et=wrapperRaf(function(){$<=1?s({isCanceled:function(){return et!==o.current}}):a(s,$-1)});o.current=et}return reactExports.useEffect(function(){return function(){i()}},[]),[a,i]};var FULL_STEP_QUEUE=[STEP_PREPARE,STEP_START,STEP_ACTIVE,STEP_ACTIVATED],SIMPLE_STEP_QUEUE=[STEP_PREPARE,STEP_PREPARED],SkipStep=!1,DoStep=!0;function isActive(o){return o===STEP_ACTIVE||o===STEP_ACTIVATED}const useStepQueue=function(o,i,a){var s=useSafeState(STEP_NONE),$=_slicedToArray(s,2),et=$[0],_e=$[1],rt=useNextFrame(),ot=_slicedToArray(rt,2),it=ot[0],at=ot[1];function j(){_e(STEP_PREPARE,!0)}var _=i?SIMPLE_STEP_QUEUE:FULL_STEP_QUEUE;return useIsomorphicLayoutEffect(function(){if(et!==STEP_NONE&&et!==STEP_ACTIVATED){var tt=_.indexOf(et),nt=_[tt+1],st=a(et);st===SkipStep?_e(nt,!0):nt&&it(function(dt){function ft(){dt.isCanceled()||_e(nt,!0)}st===!0?ft():Promise.resolve(st).then(ft)})}},[o,et]),reactExports.useEffect(function(){return function(){at()}},[]),[j,et]};function useStatus(o,i,a,s){var $=s.motionEnter,et=$===void 0?!0:$,_e=s.motionAppear,rt=_e===void 0?!0:_e,ot=s.motionLeave,it=ot===void 0?!0:ot,at=s.motionDeadline,j=s.motionLeaveImmediately,_=s.onAppearPrepare,tt=s.onEnterPrepare,nt=s.onLeavePrepare,st=s.onAppearStart,dt=s.onEnterStart,ft=s.onLeaveStart,gt=s.onAppearActive,pt=s.onEnterActive,mt=s.onLeaveActive,vt=s.onAppearEnd,yt=s.onEnterEnd,xt=s.onLeaveEnd,wt=s.onVisibleChanged,St=useSafeState(),Ct=_slicedToArray(St,2),At=Ct[0],$t=Ct[1],Rt=useSafeState(STATUS_NONE),kt=_slicedToArray(Rt,2),Lt=kt[0],Dt=kt[1],Mt=useSafeState(null),Vt=_slicedToArray(Mt,2),Kt=Vt[0],Yt=Vt[1],Jt=reactExports.useRef(!1),ln=reactExports.useRef(null);function wn(){return a()}var _n=reactExports.useRef(!1);function kn(){Dt(STATUS_NONE,!0),Yt(null,!0)}function Cn(or){var Gn=wn();if(!(or&&!or.deadline&&or.target!==Gn)){var rr=_n.current,Qn;Lt===STATUS_APPEAR&&rr?Qn=vt==null?void 0:vt(Gn,or):Lt===STATUS_ENTER&&rr?Qn=yt==null?void 0:yt(Gn,or):Lt===STATUS_LEAVE&&rr&&(Qn=xt==null?void 0:xt(Gn,or)),Lt!==STATUS_NONE&&rr&&Qn!==!1&&kn()}}var Ht=useDomMotionEvents(Cn),cn=_slicedToArray(Ht,1),gn=cn[0],jn=function(Gn){var rr,Qn,ar;switch(Gn){case STATUS_APPEAR:return rr={},_defineProperty(rr,STEP_PREPARE,_),_defineProperty(rr,STEP_START,st),_defineProperty(rr,STEP_ACTIVE,gt),rr;case STATUS_ENTER:return Qn={},_defineProperty(Qn,STEP_PREPARE,tt),_defineProperty(Qn,STEP_START,dt),_defineProperty(Qn,STEP_ACTIVE,pt),Qn;case STATUS_LEAVE:return ar={},_defineProperty(ar,STEP_PREPARE,nt),_defineProperty(ar,STEP_START,ft),_defineProperty(ar,STEP_ACTIVE,mt),ar;default:return{}}},xn=reactExports.useMemo(function(){return jn(Lt)},[Lt]),Bn=useStepQueue(Lt,!o,function(or){if(or===STEP_PREPARE){var Gn=xn[STEP_PREPARE];return Gn?Gn(wn()):SkipStep}if(Fn in xn){var rr;Yt(((rr=xn[Fn])===null||rr===void 0?void 0:rr.call(xn,wn(),null))||null)}return Fn===STEP_ACTIVE&&(gn(wn()),at>0&&(clearTimeout(ln.current),ln.current=setTimeout(function(){Cn({deadline:!0})},at))),Fn===STEP_PREPARED&&kn(),DoStep}),Mn=_slicedToArray(Bn,2),Zn=Mn[0],Fn=Mn[1],wr=isActive(Fn);_n.current=wr,useIsomorphicLayoutEffect(function(){$t(i);var or=Jt.current;Jt.current=!0;var Gn;!or&&i&&rt&&(Gn=STATUS_APPEAR),or&&i&&et&&(Gn=STATUS_ENTER),(or&&!i&&it||!or&&j&&!i&&it)&&(Gn=STATUS_LEAVE);var rr=jn(Gn);Gn&&(o||rr[STEP_PREPARE])?(Dt(Gn),Zn()):Dt(STATUS_NONE)},[i]),reactExports.useEffect(function(){(Lt===STATUS_APPEAR&&!rt||Lt===STATUS_ENTER&&!et||Lt===STATUS_LEAVE&&!it)&&Dt(STATUS_NONE)},[rt,et,it]),reactExports.useEffect(function(){return function(){Jt.current=!1,clearTimeout(ln.current)}},[]);var Jn=reactExports.useRef(!1);reactExports.useEffect(function(){At&&(Jn.current=!0),At!==void 0&&Lt===STATUS_NONE&&((Jn.current||At)&&(wt==null||wt(At)),Jn.current=!0)},[At,Lt]);var dr=Kt;return xn[STEP_PREPARE]&&Fn===STEP_START&&(dr=_objectSpread2({transition:"none"},dr)),[Lt,Fn,dr,At??i]}function genCSSMotion(o){var i=o;_typeof(o)==="object"&&(i=o.transitionSupport);function a($,et){return!!($.motionName&&i&&et!==!1)}var s=reactExports.forwardRef(function($,et){var _e=$.visible,rt=_e===void 0?!0:_e,ot=$.removeOnLeave,it=ot===void 0?!0:ot,at=$.forceRender,j=$.children,_=$.motionName,tt=$.leavedClassName,nt=$.eventProps,st=reactExports.useContext(Context),dt=st.motion,ft=a($,dt),gt=reactExports.useRef(),pt=reactExports.useRef();function mt(){try{return gt.current instanceof HTMLElement?gt.current:findDOMNode(pt.current)}catch{return null}}var vt=useStatus(ft,rt,mt,$),yt=_slicedToArray(vt,4),xt=yt[0],wt=yt[1],St=yt[2],Ct=yt[3],At=reactExports.useRef(Ct);Ct&&(At.current=!0);var $t=reactExports.useCallback(function(Yt){gt.current=Yt,fillRef(et,Yt)},[et]),Rt,kt=_objectSpread2(_objectSpread2({},nt),{},{visible:rt});if(!j)Rt=null;else if(xt===STATUS_NONE)Ct?Rt=j(_objectSpread2({},kt),$t):!it&&At.current&&tt?Rt=j(_objectSpread2(_objectSpread2({},kt),{},{className:tt}),$t):at||!it&&!tt?Rt=j(_objectSpread2(_objectSpread2({},kt),{},{style:{display:"none"}}),$t):Rt=null;else{var Lt,Dt;wt===STEP_PREPARE?Dt="prepare":isActive(wt)?Dt="active":wt===STEP_START&&(Dt="start");var Mt=getTransitionName(_,"".concat(xt,"-").concat(Dt));Rt=j(_objectSpread2(_objectSpread2({},kt),{},{className:classNames(getTransitionName(_,xt),(Lt={},_defineProperty(Lt,Mt,Mt&&Dt),_defineProperty(Lt,_,typeof _=="string"),Lt)),style:St}),$t)}if(reactExports.isValidElement(Rt)&&supportRef(Rt)){var Vt=Rt,Kt=Vt.ref;Kt||(Rt=reactExports.cloneElement(Rt,{ref:$t}))}return reactExports.createElement(DomWrapper,{ref:pt},Rt)});return s.displayName="CSSMotion",s}const CSSMotion=genCSSMotion(supportTransition);var STATUS_ADD="add",STATUS_KEEP="keep",STATUS_REMOVE="remove",STATUS_REMOVED="removed";function wrapKeyToObject(o){var i;return o&&_typeof(o)==="object"&&"key"in o?i=o:i={key:o},_objectSpread2(_objectSpread2({},i),{},{key:String(i.key)})}function parseKeys(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return o.map(wrapKeyToObject)}function diffKeys(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[],s=0,$=i.length,et=parseKeys(o),_e=parseKeys(i);et.forEach(function(it){for(var at=!1,j=s;j<$;j+=1){var _=_e[j];if(_.key===it.key){s<j&&(a=a.concat(_e.slice(s,j).map(function(tt){return _objectSpread2(_objectSpread2({},tt),{},{status:STATUS_ADD})})),s=j),a.push(_objectSpread2(_objectSpread2({},_),{},{status:STATUS_KEEP})),s+=1,at=!0;break}}at||a.push(_objectSpread2(_objectSpread2({},it),{},{status:STATUS_REMOVE}))}),s<$&&(a=a.concat(_e.slice(s).map(function(it){return _objectSpread2(_objectSpread2({},it),{},{status:STATUS_ADD})})));var rt={};a.forEach(function(it){var at=it.key;rt[at]=(rt[at]||0)+1});var ot=Object.keys(rt).filter(function(it){return rt[it]>1});return ot.forEach(function(it){a=a.filter(function(at){var j=at.key,_=at.status;return j!==it||_!==STATUS_REMOVE}),a.forEach(function(at){at.key===it&&(at.status=STATUS_KEEP)})}),a}var _excluded$3=["component","children","onVisibleChanged","onAllRemoved"],_excluded2=["status"],MOTION_PROP_NAMES=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function genCSSMotionList(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CSSMotion,a=function(s){_inherits(et,s);var $=_createSuper(et);function et(){var _e;_classCallCheck(this,et);for(var rt=arguments.length,ot=new Array(rt),it=0;it<rt;it++)ot[it]=arguments[it];return _e=$.call.apply($,[this].concat(ot)),_defineProperty(_assertThisInitialized(_e),"state",{keyEntities:[]}),_defineProperty(_assertThisInitialized(_e),"removeKey",function(at){var j=_e.state.keyEntities,_=j.map(function(tt){return tt.key!==at?tt:_objectSpread2(_objectSpread2({},tt),{},{status:STATUS_REMOVED})});return _e.setState({keyEntities:_}),_.filter(function(tt){var nt=tt.status;return nt!==STATUS_REMOVED}).length}),_e}return _createClass(et,[{key:"render",value:function(){var rt=this,ot=this.state.keyEntities,it=this.props,at=it.component,j=it.children,_=it.onVisibleChanged,tt=it.onAllRemoved,nt=_objectWithoutProperties(it,_excluded$3),st=at||reactExports.Fragment,dt={};return MOTION_PROP_NAMES.forEach(function(ft){dt[ft]=nt[ft],delete nt[ft]}),delete nt.keys,reactExports.createElement(st,nt,ot.map(function(ft){var gt=ft.status,pt=_objectWithoutProperties(ft,_excluded2),mt=gt===STATUS_ADD||gt===STATUS_KEEP;return reactExports.createElement(i,_extends$1({},dt,{key:pt.key,visible:mt,eventProps:pt,onVisibleChanged:function(yt){if(_==null||_(yt,{key:pt.key}),!yt){var xt=rt.removeKey(pt.key);xt===0&&tt&&tt()}}}),j)}))}}],[{key:"getDerivedStateFromProps",value:function(rt,ot){var it=rt.keys,at=ot.keyEntities,j=parseKeys(it),_=diffKeys(at,j);return{keyEntities:_.filter(function(tt){var nt=at.find(function(st){var dt=st.key;return tt.key===dt});return!(nt&&nt.status===STATUS_REMOVED&&tt.status===STATUS_REMOVE)})}}}]),et}(reactExports.Component);return _defineProperty(a,"defaultProps",{component:"div"}),a}const CSSMotionList=genCSSMotionList(supportTransition);function MotionWrapper(o){const{children:i}=o,[,a]=useToken(),{motion:s}=a,$=reactExports.useRef(!1);return $.current=$.current||s===!1,$.current?reactExports.createElement(MotionProvider,{motion:s},i):i}const useStyle$1=(o,i)=>{const[a,s]=useToken();return useStyleRegister({theme:a,token:s,hashId:"",path:["ant-design-icons",o],nonce:()=>i==null?void 0:i.nonce},()=>[{[`.${o}`]:Object.assign(Object.assign({},resetIcon()),{[`.${o} .${o}-icon`]:{display:"block"}})}])},useStyle$2=useStyle$1;var __rest$2=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,s=Object.getOwnPropertySymbols(o);$<s.length;$++)i.indexOf(s[$])<0&&Object.prototype.propertyIsEnumerable.call(o,s[$])&&(a[s[$]]=o[s[$]]);return a};const PASSED_PROPS=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],defaultPrefixCls="ant";let globalPrefixCls,globalIconPrefixCls,globalTheme;function getGlobalPrefixCls(){return globalPrefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalIconPrefixCls||defaultIconPrefixCls}function isLegacyTheme(o){return Object.keys(o).some(i=>i.endsWith("Color"))}const setGlobalConfig=o=>{let{prefixCls:i,iconPrefixCls:a,theme:s}=o;i!==void 0&&(globalPrefixCls=i),a!==void 0&&(globalIconPrefixCls=a),s&&(isLegacyTheme(s)?registerTheme(getGlobalPrefixCls(),s):globalTheme=s)},globalConfig=()=>({getPrefixCls:(o,i)=>i||(o?`${getGlobalPrefixCls()}-${o}`:getGlobalPrefixCls()),getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:()=>globalPrefixCls||getGlobalPrefixCls(),getTheme:()=>globalTheme}),ProviderChildren=o=>{const{children:i,csp:a,autoInsertSpaceInButton:s,form:$,locale:et,componentSize:_e,direction:rt,space:ot,virtual:it,dropdownMatchSelectWidth:at,popupMatchSelectWidth:j,popupOverflow:_,legacyLocale:tt,parentContext:nt,iconPrefixCls:st,theme:dt,componentDisabled:ft}=o,gt=reactExports.useCallback((Lt,Dt)=>{const{prefixCls:Mt}=o;if(Dt)return Dt;const Vt=Mt||nt.getPrefixCls("");return Lt?`${Vt}-${Lt}`:Vt},[nt.getPrefixCls,o.prefixCls]),pt=st||nt.iconPrefixCls||defaultIconPrefixCls,mt=pt!==nt.iconPrefixCls,vt=a||nt.csp,yt=useStyle$2(pt,vt),xt=useTheme(dt,nt.theme),wt={csp:vt,autoInsertSpaceInButton:s,locale:et||tt,direction:rt,space:ot,virtual:it,popupMatchSelectWidth:j??at,popupOverflow:_,getPrefixCls:gt,iconPrefixCls:pt,theme:xt},St=Object.assign({},nt);Object.keys(wt).forEach(Lt=>{wt[Lt]!==void 0&&(St[Lt]=wt[Lt])}),PASSED_PROPS.forEach(Lt=>{const Dt=o[Lt];Dt&&(St[Lt]=Dt)});const Ct=useMemo(()=>St,St,(Lt,Dt)=>{const Mt=Object.keys(Lt),Vt=Object.keys(Dt);return Mt.length!==Vt.length||Mt.some(Kt=>Lt[Kt]!==Dt[Kt])}),At=reactExports.useMemo(()=>({prefixCls:pt,csp:vt}),[pt,vt]);let $t=mt?yt(i):i;const Rt=reactExports.useMemo(()=>{var Lt,Dt,Mt;return merge$1(((Lt=defaultLocale.Form)===null||Lt===void 0?void 0:Lt.defaultValidateMessages)||{},((Mt=(Dt=Ct.locale)===null||Dt===void 0?void 0:Dt.Form)===null||Mt===void 0?void 0:Mt.defaultValidateMessages)||{},($==null?void 0:$.validateMessages)||{})},[Ct,$==null?void 0:$.validateMessages]);Object.keys(Rt).length>0&&($t=reactExports.createElement(ValidateMessagesContext.Provider,{value:Rt},i)),et&&($t=reactExports.createElement(LocaleProvider$1,{locale:et,_ANT_MARK__:ANT_MARK},$t)),(pt||vt)&&($t=reactExports.createElement(Context$2.Provider,{value:At},$t)),_e&&($t=reactExports.createElement(SizeContextProvider,{size:_e},$t)),$t=reactExports.createElement(MotionWrapper,null,$t);const kt=reactExports.useMemo(()=>{const Lt=xt||{},{algorithm:Dt,token:Mt}=Lt,Vt=__rest$2(Lt,["algorithm","token"]),Kt=Dt&&(!Array.isArray(Dt)||Dt.length>0)?createTheme(Dt):void 0;return Object.assign(Object.assign({},Vt),{theme:Kt,token:Object.assign(Object.assign({},seedToken$1),Mt)})},[xt]);return dt&&($t=reactExports.createElement(DesignTokenContext.Provider,{value:kt},$t)),ft!==void 0&&($t=reactExports.createElement(DisabledContextProvider,{disabled:ft},$t)),reactExports.createElement(ConfigContext.Provider,{value:Ct},$t)},ConfigProvider=o=>{const i=reactExports.useContext(ConfigContext),a=reactExports.useContext(LocaleContext$1);return reactExports.createElement(ProviderChildren,Object.assign({parentContext:i,legacyLocale:a},o))};ConfigProvider.ConfigContext=ConfigContext;ConfigProvider.SizeContext=SizeContext$1;ConfigProvider.config=setGlobalConfig;ConfigProvider.useConfig=useConfig;Object.defineProperty(ConfigProvider,"SizeContext",{get:()=>SizeContext$1});var CheckCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const CheckCircleFilledSvg=CheckCircleFilled$2;function getRoot(o){var i;return o==null||(i=o.getRootNode)===null||i===void 0?void 0:i.call(o)}function inShadow(o){return getRoot(o)!==(o==null?void 0:o.ownerDocument)}function getShadowRoot(o){return inShadow(o)?getRoot(o):null}function warning(o,i){warningOnce(o,"[@ant-design/icons] ".concat(i))}function isIconDefinition(o){return _typeof(o)==="object"&&typeof o.name=="string"&&typeof o.theme=="string"&&(_typeof(o.icon)==="object"||typeof o.icon=="function")}function normalizeAttrs(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(o).reduce(function(i,a){var s=o[a];switch(a){case"class":i.className=s,delete i.class;break;default:i[a]=s}return i},{})}function generate(o,i,a){return a?React.createElement(o.tag,_objectSpread2(_objectSpread2({key:i},normalizeAttrs(o.attrs)),a),(o.children||[]).map(function(s,$){return generate(s,"".concat(i,"-").concat(o.tag,"-").concat($))})):React.createElement(o.tag,_objectSpread2({key:i},normalizeAttrs(o.attrs)),(o.children||[]).map(function(s,$){return generate(s,"".concat(i,"-").concat(o.tag,"-").concat($))}))}function getSecondaryColor(o){return generate$1(o)[0]}function normalizeTwoToneColors(o){return o?Array.isArray(o)?o:[o]:[]}var iconStyles=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,useInsertStyles=function o(i){var a=reactExports.useContext(Context$2),s=a.csp,$=a.prefixCls,et=iconStyles;$&&(et=et.replace(/anticon/g,$)),reactExports.useEffect(function(){var _e=i.current,rt=getShadowRoot(_e);updateCSS(et,"@ant-design-icons",{prepend:!0,csp:s,attachTo:rt})},[])},_excluded$2=["icon","className","onClick","style","primaryColor","secondaryColor"],twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors(o){var i=o.primaryColor,a=o.secondaryColor;twoToneColorPalette.primaryColor=i,twoToneColorPalette.secondaryColor=a||getSecondaryColor(i),twoToneColorPalette.calculated=!!a}function getTwoToneColors(){return _objectSpread2({},twoToneColorPalette)}var IconBase=function o(i){var a=i.icon,s=i.className,$=i.onClick,et=i.style,_e=i.primaryColor,rt=i.secondaryColor,ot=_objectWithoutProperties(i,_excluded$2),it=reactExports.useRef(),at=twoToneColorPalette;if(_e&&(at={primaryColor:_e,secondaryColor:rt||getSecondaryColor(_e)}),useInsertStyles(it),warning(isIconDefinition(a),"icon should be icon definiton, but got ".concat(a)),!isIconDefinition(a))return null;var j=a;return j&&typeof j.icon=="function"&&(j=_objectSpread2(_objectSpread2({},j),{},{icon:j.icon(at.primaryColor,at.secondaryColor)})),generate(j.icon,"svg-".concat(j.name),_objectSpread2(_objectSpread2({className:s,onClick:$,style:et,"data-icon":j.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},ot),{},{ref:it}))};IconBase.displayName="IconReact";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;const ReactIcon=IconBase;function setTwoToneColor(o){var i=normalizeTwoToneColors(o),a=_slicedToArray(i,2),s=a[0],$=a[1];return ReactIcon.setTwoToneColors({primaryColor:s,secondaryColor:$})}function getTwoToneColor(){var o=ReactIcon.getTwoToneColors();return o.calculated?[o.primaryColor,o.secondaryColor]:o.primaryColor}var _excluded$1=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];setTwoToneColor(blue.primary);var Icon=reactExports.forwardRef(function(o,i){var a,s=o.className,$=o.icon,et=o.spin,_e=o.rotate,rt=o.tabIndex,ot=o.onClick,it=o.twoToneColor,at=_objectWithoutProperties(o,_excluded$1),j=reactExports.useContext(Context$2),_=j.prefixCls,tt=_===void 0?"anticon":_,nt=j.rootClassName,st=classNames(nt,tt,(a={},_defineProperty(a,"".concat(tt,"-").concat($.name),!!$.name),_defineProperty(a,"".concat(tt,"-spin"),!!et||$.name==="loading"),a),s),dt=rt;dt===void 0&&ot&&(dt=-1);var ft=_e?{msTransform:"rotate(".concat(_e,"deg)"),transform:"rotate(".concat(_e,"deg)")}:void 0,gt=normalizeTwoToneColors(it),pt=_slicedToArray(gt,2),mt=pt[0],vt=pt[1];return reactExports.createElement("span",_extends$1({role:"img","aria-label":$.name},at,{ref:i,tabIndex:dt,onClick:ot,className:st}),reactExports.createElement(ReactIcon,{icon:$,primaryColor:mt,secondaryColor:vt,style:ft}))});Icon.displayName="AntdIcon";Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;const AntdIcon=Icon;var CheckCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CheckCircleFilledSvg}))};const CheckCircleFilled$1=reactExports.forwardRef(CheckCircleFilled);var CloseCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const CloseCircleFilledSvg=CloseCircleFilled$2;var CloseCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CloseCircleFilledSvg}))};const CloseCircleFilled$1=reactExports.forwardRef(CloseCircleFilled);var CloseOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const CloseOutlinedSvg=CloseOutlined$2;var CloseOutlined=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CloseOutlinedSvg}))};const CloseOutlined$1=reactExports.forwardRef(CloseOutlined);var ExclamationCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const ExclamationCircleFilledSvg=ExclamationCircleFilled$2;var ExclamationCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:ExclamationCircleFilledSvg}))};const ExclamationCircleFilled$1=reactExports.forwardRef(ExclamationCircleFilled);var InfoCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const InfoCircleFilledSvg=InfoCircleFilled$2;var InfoCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:InfoCircleFilledSvg}))};const InfoCircleFilled$1=reactExports.forwardRef(InfoCircleFilled);var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function o(i){var a=i.keyCode;if(i.altKey&&!i.ctrlKey||i.metaKey||a>=KeyCode.F1&&a<=KeyCode.F12)return!1;switch(a){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function o(i){if(i>=KeyCode.ZERO&&i<=KeyCode.NINE||i>=KeyCode.NUM_ZERO&&i<=KeyCode.NUM_MULTIPLY||i>=KeyCode.A&&i<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&i===0)return!0;switch(i){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Notify=reactExports.forwardRef(function(o,i){var a=o.prefixCls,s=o.style,$=o.className,et=o.duration,_e=et===void 0?4.5:et,rt=o.eventKey,ot=o.content,it=o.closable,at=o.closeIcon,j=at===void 0?"x":at,_=o.props,tt=o.onClick,nt=o.onNoticeClose,st=o.times,dt=reactExports.useState(!1),ft=_slicedToArray(dt,2),gt=ft[0],pt=ft[1],mt=function(){nt(rt)},vt=function(wt){(wt.key==="Enter"||wt.code==="Enter"||wt.keyCode===KeyCode.ENTER)&&mt()};reactExports.useEffect(function(){if(!gt&&_e>0){var xt=setTimeout(function(){mt()},_e*1e3);return function(){clearTimeout(xt)}}},[_e,gt,st]);var yt="".concat(a,"-notice");return reactExports.createElement("div",_extends$1({},_,{ref:i,className:classNames(yt,$,_defineProperty({},"".concat(yt,"-closable"),it)),style:s,onMouseEnter:function(){pt(!0)},onMouseLeave:function(){pt(!1)},onClick:tt}),reactExports.createElement("div",{className:"".concat(yt,"-content")},ot),it&&reactExports.createElement("a",{tabIndex:0,className:"".concat(yt,"-close"),onKeyDown:vt,onClick:function(wt){wt.preventDefault(),wt.stopPropagation(),mt()}},j))});const Notice=Notify;var Notifications=reactExports.forwardRef(function(o,i){var a=o.prefixCls,s=a===void 0?"rc-notification":a,$=o.container,et=o.motion,_e=o.maxCount,rt=o.className,ot=o.style,it=o.onAllRemoved,at=reactExports.useState([]),j=_slicedToArray(at,2),_=j[0],tt=j[1],nt=function(xt){var wt,St=_.find(function(Ct){return Ct.key===xt});St==null||(wt=St.onClose)===null||wt===void 0||wt.call(St),tt(function(Ct){return Ct.filter(function(At){return At.key!==xt})})};reactExports.useImperativeHandle(i,function(){return{open:function(xt){tt(function(wt){var St=_toConsumableArray(wt),Ct=St.findIndex(function(Rt){return Rt.key===xt.key}),At=_objectSpread2({},xt);if(Ct>=0){var $t;At.times=((($t=wt[Ct])===null||$t===void 0?void 0:$t.times)||0)+1,St[Ct]=At}else At.times=0,St.push(At);return _e>0&&St.length>_e&&(St=St.slice(-_e)),St})},close:function(xt){nt(xt)},destroy:function(){tt([])}}});var st=reactExports.useState({}),dt=_slicedToArray(st,2),ft=dt[0],gt=dt[1];reactExports.useEffect(function(){var yt={};_.forEach(function(xt){var wt=xt.placement,St=wt===void 0?"topRight":wt;St&&(yt[St]=yt[St]||[],yt[St].push(xt))}),Object.keys(ft).forEach(function(xt){yt[xt]=yt[xt]||[]}),gt(yt)},[_]);var pt=function(xt){gt(function(wt){var St=_objectSpread2({},wt),Ct=St[xt]||[];return Ct.length||delete St[xt],St})},mt=reactExports.useRef(!1);if(reactExports.useEffect(function(){Object.keys(ft).length>0?mt.current=!0:mt.current&&(it==null||it(),mt.current=!1)},[ft]),!$)return null;var vt=Object.keys(ft);return reactDomExports.createPortal(reactExports.createElement(reactExports.Fragment,null,vt.map(function(yt){var xt=ft[yt],wt=xt.map(function(Ct){return{config:Ct,key:Ct.key}}),St=typeof et=="function"?et(yt):et;return reactExports.createElement(CSSMotionList,_extends$1({key:yt,className:classNames(s,"".concat(s,"-").concat(yt),rt==null?void 0:rt(yt)),style:ot==null?void 0:ot(yt),keys:wt,motionAppear:!0},St,{onAllRemoved:function(){pt(yt)}}),function(Ct,At){var $t=Ct.config,Rt=Ct.className,kt=Ct.style,Lt=$t.key,Dt=$t.times,Mt=$t.className,Vt=$t.style;return reactExports.createElement(Notice,_extends$1({},$t,{ref:At,prefixCls:s,className:classNames(Rt,Mt),style:_objectSpread2(_objectSpread2({},kt),Vt),times:Dt,key:Lt,eventKey:Lt,onNoticeClose:nt}))})})),$)}),_excluded=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],defaultGetContainer=function o(){return document.body},uniqueKey=0;function mergeConfig(){for(var o={},i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.forEach(function($){$&&Object.keys($).forEach(function(et){var _e=$[et];_e!==void 0&&(o[et]=_e)})}),o}function useNotification(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=o.getContainer,a=i===void 0?defaultGetContainer:i,s=o.motion,$=o.prefixCls,et=o.maxCount,_e=o.className,rt=o.style,ot=o.onAllRemoved,it=_objectWithoutProperties(o,_excluded),at=reactExports.useState(),j=_slicedToArray(at,2),_=j[0],tt=j[1],nt=reactExports.useRef(),st=reactExports.createElement(Notifications,{container:_,ref:nt,prefixCls:$,motion:s,maxCount:et,className:_e,style:rt,onAllRemoved:ot}),dt=reactExports.useState([]),ft=_slicedToArray(dt,2),gt=ft[0],pt=ft[1],mt=reactExports.useMemo(function(){return{open:function(yt){var xt=mergeConfig(it,yt);(xt.key===null||xt.key===void 0)&&(xt.key="rc-notification-".concat(uniqueKey),uniqueKey+=1),pt(function(wt){return[].concat(_toConsumableArray(wt),[{type:"open",config:xt}])})},close:function(yt){pt(function(xt){return[].concat(_toConsumableArray(xt),[{type:"close",key:yt}])})},destroy:function(){pt(function(yt){return[].concat(_toConsumableArray(yt),[{type:"destroy"}])})}}},[]);return reactExports.useEffect(function(){tt(a())}),reactExports.useEffect(function(){nt.current&&gt.length&&(gt.forEach(function(vt){switch(vt.type){case"open":nt.current.open(vt.config);break;case"close":nt.current.close(vt.key);break;case"destroy":nt.current.destroy();break}}),pt([]))},[gt]),[mt,st]}const genMessageStyle=o=>{const{componentCls:i,iconCls:a,boxShadow:s,colorText:$,colorSuccess:et,colorError:_e,colorWarning:rt,colorInfo:ot,fontSizeLG:it,motionEaseInOutCirc:at,motionDurationSlow:j,marginXS:_,paddingXS:tt,borderRadiusLG:nt,zIndexPopup:st,contentPadding:dt,contentBg:ft}=o,gt=`${i}-notice`,pt=new Keyframe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:tt,transform:"translateY(0)",opacity:1}}),mt=new Keyframe("MessageMoveOut",{"0%":{maxHeight:o.height,padding:tt,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),vt={padding:tt,textAlign:"center",[`${i}-custom-content > ${a}`]:{verticalAlign:"text-bottom",marginInlineEnd:_,fontSize:it},[`${gt}-content`]:{display:"inline-block",padding:dt,background:ft,borderRadius:nt,boxShadow:s,pointerEvents:"all"},[`${i}-success > ${a}`]:{color:et},[`${i}-error > ${a}`]:{color:_e},[`${i}-warning > ${a}`]:{color:rt},[`${i}-info > ${a},
      ${i}-loading > ${a}`]:{color:ot}};return[{[i]:Object.assign(Object.assign({},resetComponent(o)),{color:$,position:"fixed",top:_,width:"100%",pointerEvents:"none",zIndex:st,[`${i}-move-up`]:{animationFillMode:"forwards"},[`
        ${i}-move-up-appear,
        ${i}-move-up-enter
      `]:{animationName:pt,animationDuration:j,animationPlayState:"paused",animationTimingFunction:at},[`
        ${i}-move-up-appear${i}-move-up-appear-active,
        ${i}-move-up-enter${i}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${i}-move-up-leave`]:{animationName:mt,animationDuration:j,animationPlayState:"paused",animationTimingFunction:at},[`${i}-move-up-leave${i}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[i]:{[gt]:Object.assign({},vt)}},{[`${i}-notice-pure-panel`]:Object.assign(Object.assign({},vt),{padding:0,textAlign:"start"})}]},useStyle=genComponentStyleHook("Message",o=>{const i=merge(o,{height:150});return[genMessageStyle(i)]},o=>({zIndexPopup:o.zIndexPopupBase+10,contentBg:o.colorBgElevated,contentPadding:`${(o.controlHeightLG-o.fontSize*o.lineHeight)/2}px ${o.paddingSM}px`}));function getMotion(o,i){return{motionName:i??`${o}-move-up`}}function wrapPromiseFn(o){let i;const a=new Promise($=>{i=o(()=>{$(!0)})}),s=()=>{i==null||i()};return s.then=($,et)=>a.then($,et),s.promise=a,s}var LoadingOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const LoadingOutlinedSvg=LoadingOutlined$2;var LoadingOutlined=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:LoadingOutlinedSvg}))};const LoadingOutlined$1=reactExports.forwardRef(LoadingOutlined);var __rest$1=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,s=Object.getOwnPropertySymbols(o);$<s.length;$++)i.indexOf(s[$])<0&&Object.prototype.propertyIsEnumerable.call(o,s[$])&&(a[s[$]]=o[s[$]]);return a};const TypeIcon={info:reactExports.createElement(InfoCircleFilled$1,null),success:reactExports.createElement(CheckCircleFilled$1,null),error:reactExports.createElement(CloseCircleFilled$1,null),warning:reactExports.createElement(ExclamationCircleFilled$1,null),loading:reactExports.createElement(LoadingOutlined$1,null)};function PureContent(o){let{prefixCls:i,type:a,icon:s,children:$}=o;return reactExports.createElement("div",{className:classNames(`${i}-custom-content`,`${i}-${a}`)},s||TypeIcon[a],reactExports.createElement("span",null,$))}function PurePanel(o){const{prefixCls:i,className:a,type:s,icon:$,content:et}=o,_e=__rest$1(o,["prefixCls","className","type","icon","content"]),{getPrefixCls:rt}=reactExports.useContext(ConfigContext),ot=i||rt("message"),[,it]=useStyle(ot);return reactExports.createElement(Notice,Object.assign({},_e,{prefixCls:ot,className:classNames(a,it,`${ot}-notice-pure-panel`),eventKey:"pure",duration:null,content:reactExports.createElement(PureContent,{prefixCls:ot,type:s,icon:$},et)}))}var __rest=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,s=Object.getOwnPropertySymbols(o);$<s.length;$++)i.indexOf(s[$])<0&&Object.prototype.propertyIsEnumerable.call(o,s[$])&&(a[s[$]]=o[s[$]]);return a};const DEFAULT_OFFSET=8,DEFAULT_DURATION=3,Holder=reactExports.forwardRef((o,i)=>{const{top:a,prefixCls:s,getContainer:$,maxCount:et,duration:_e=DEFAULT_DURATION,rtl:rt,transitionName:ot,onAllRemoved:it}=o,{getPrefixCls:at,getPopupContainer:j}=reactExports.useContext(ConfigContext),_=s||at("message"),[,tt]=useStyle(_),nt=()=>({left:"50%",transform:"translateX(-50%)",top:a??DEFAULT_OFFSET}),st=()=>classNames(tt,rt?`${_}-rtl`:""),dt=()=>getMotion(_,ot),ft=reactExports.createElement("span",{className:`${_}-close-x`},reactExports.createElement(CloseOutlined$1,{className:`${_}-close-icon`})),[gt,pt]=useNotification({prefixCls:_,style:nt,className:st,motion:dt,closable:!1,closeIcon:ft,duration:_e,getContainer:()=>($==null?void 0:$())||(j==null?void 0:j())||document.body,maxCount:et,onAllRemoved:it});return reactExports.useImperativeHandle(i,()=>Object.assign(Object.assign({},gt),{prefixCls:_,hashId:tt})),pt});let keyIndex=0;function useInternalMessage(o){const i=reactExports.useRef(null);return[reactExports.useMemo(()=>{const s=ot=>{var it;(it=i.current)===null||it===void 0||it.close(ot)},$=ot=>{if(!i.current){const vt=()=>{};return vt.then=()=>{},vt}const{open:it,prefixCls:at,hashId:j}=i.current,_=`${at}-notice`,{content:tt,icon:nt,type:st,key:dt,className:ft,onClose:gt}=ot,pt=__rest(ot,["content","icon","type","key","className","onClose"]);let mt=dt;return mt==null&&(keyIndex+=1,mt=`antd-message-${keyIndex}`),wrapPromiseFn(vt=>(it(Object.assign(Object.assign({},pt),{key:mt,content:reactExports.createElement(PureContent,{prefixCls:at,type:st,icon:nt},tt),placement:"top",className:classNames(st&&`${_}-${st}`,j,ft),onClose:()=>{gt==null||gt(),vt()}})),()=>{s(mt)}))},_e={open:$,destroy:ot=>{var it;ot!==void 0?s(ot):(it=i.current)===null||it===void 0||it.destroy()}};return["info","success","warning","error","loading"].forEach(ot=>{const it=(at,j,_)=>{let tt;at&&typeof at=="object"&&"content"in at?tt=at:tt={content:at};let nt,st;typeof j=="function"?st=j:(nt=j,st=_);const dt=Object.assign(Object.assign({onClose:st,duration:nt},tt),{type:ot});return $(dt)};_e[ot]=it}),_e},[]),reactExports.createElement(Holder,Object.assign({key:"message-holder"},o,{ref:i}))]}function useMessage(o){return useInternalMessage(o)}var fullClone=_objectSpread2({},ReactDOM$1),version=fullClone.version,reactRender=fullClone.render;fullClone.unmountComponentAtNode;var createRoot;try{var mainVersion=Number((version||"").split(".")[0]);mainVersion>=18&&(createRoot=fullClone.createRoot)}catch(o){}function toggleWarning(o){var i=fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;i&&_typeof(i)==="object"&&(i.usingClientEntryPoint=o)}var MARK="__rc_react_root__";function modernRender(o,i){toggleWarning(!0);var a=i[MARK]||createRoot(i);toggleWarning(!1),a.render(o),i[MARK]=a}function legacyRender(o,i){reactRender(o,i)}function render(o,i){if(createRoot){modernRender(o,i);return}legacyRender(o,i)}let message=null,act=o=>o(),taskQueue=[],defaultGlobalConfig={};function getGlobalContext(){const{prefixCls:o,getContainer:i,duration:a,rtl:s,maxCount:$,top:et}=defaultGlobalConfig,_e=o??globalConfig().getPrefixCls("message"),rt=(i==null?void 0:i())||document.body;return{prefixCls:_e,container:rt,duration:a,rtl:s,maxCount:$,top:et}}const GlobalHolder=reactExports.forwardRef((o,i)=>{const a=()=>{const{prefixCls:_,container:tt,maxCount:nt,duration:st,rtl:dt,top:ft}=getGlobalContext();return{prefixCls:_,getContainer:()=>tt,maxCount:nt,duration:st,rtl:dt,top:ft}},[s,$]=reactExports.useState(a),[et,_e]=useInternalMessage(s),rt=globalConfig(),ot=rt.getRootPrefixCls(),it=rt.getIconPrefixCls(),at=rt.getTheme(),j=()=>{$(a)};return reactExports.useEffect(j,[]),reactExports.useImperativeHandle(i,()=>{const _=Object.assign({},et);return Object.keys(_).forEach(tt=>{_[tt]=function(){return j(),et[tt].apply(et,arguments)}}),{instance:_,sync:j}}),reactExports.createElement(ConfigProvider,{prefixCls:ot,iconPrefixCls:it,theme:at},_e)});function flushNotice(){if(!message){const o=document.createDocumentFragment(),i={fragment:o};message=i,act(()=>{render(reactExports.createElement(GlobalHolder,{ref:a=>{const{instance:s,sync:$}=a||{};Promise.resolve().then(()=>{!i.instance&&s&&(i.instance=s,i.sync=$,flushNotice())})}}),o)});return}message.instance&&(taskQueue.forEach(o=>{const{type:i,skipped:a}=o;if(!a)switch(i){case"open":{act(()=>{const s=message.instance.open(Object.assign(Object.assign({},defaultGlobalConfig),o.config));s==null||s.then(o.resolve),o.setCloseFn(s)});break}case"destroy":act(()=>{message==null||message.instance.destroy(o.key)});break;default:act(()=>{var s;const $=(s=message.instance)[i].apply(s,_toConsumableArray(o.args));$==null||$.then(o.resolve),o.setCloseFn($)})}}),taskQueue=[])}function setMessageGlobalConfig(o){defaultGlobalConfig=Object.assign(Object.assign({},defaultGlobalConfig),o),act(()=>{var i;(i=message==null?void 0:message.sync)===null||i===void 0||i.call(message)})}function open(o){const i=wrapPromiseFn(a=>{let s;const $={type:"open",config:o,resolve:a,setCloseFn:et=>{s=et}};return taskQueue.push($),()=>{s?act(()=>{s()}):$.skipped=!0}});return flushNotice(),i}function typeOpen(o,i){const a=wrapPromiseFn(s=>{let $;const et={type:o,args:i,resolve:s,setCloseFn:_e=>{$=_e}};return taskQueue.push(et),()=>{$?act(()=>{$()}):et.skipped=!0}});return flushNotice(),a}function destroy(o){taskQueue.push({type:"destroy",key:o}),flushNotice()}const methods=["success","info","warning","error","loading"],baseStaticMethods={open,destroy,config:setMessageGlobalConfig,useMessage,_InternalPanelDoNotUseOrYouWillBeFired:PurePanel},staticMethods=baseStaticMethods;methods.forEach(o=>{staticMethods[o]=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeOpen(o,a)}});const message$1=staticMethods;function useDelayUnmount(o,i){const[a,s]=reactExports.useState(!1);return reactExports.useEffect(()=>{let $;return o&&!a?s(!0):!o&&a&&($=setTimeout(()=>s(!1),i)),()=>clearTimeout($)},[o,i,a]),a}const Animate=({children:o,isMounted:i})=>{const a=useDelayUnmount(i,450),s={animation:"inAnimation 450ms ease-in"},$={animation:"outAnimation 700ms ease-out",animationFillMode:"forwards"};return jsxRuntimeExports.jsx("div",{children:a&&jsxRuntimeExports.jsx("div",{style:i?s:$,children:o})})},SegmentOptions=({handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:$,isCutOut:[et,_e],handleMultiMaskMode:rt})=>{const{segmentTypes:[ot,it],isLoading:[,at],isErased:[j,_],svg:[tt],clicksHistory:[nt],isMultiMaskMode:[st],svgs:[dt],didShowAMGAnimation:[,ft],handleImage:gt}=reactExports.useContext(AppContext);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`flex justify-between px-4 py-2 my-2 text-sm bg-gray-200 rounded-xl opacity-70 ${ot==="All"&&"hidden"} ${et&&"hidden"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{j&&(_(!1),at(!0),gt()),it("Click"),o()},className:`${(!tt&&!dt&&!j||ot==="All")&&"disabled"}`,children:"Reset"}),jsxRuntimeExports.jsx("button",{onClick:i,className:`${(!tt||ot==="All"||st)&&"disabled"}`,children:"Undo"}),jsxRuntimeExports.jsx("button",{onClick:a,className:`${(!(nt!=null&&nt.length)||ot==="All")&&"disabled"}`,children:"Redo"})]}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col gap-3 py-3 pl-3 text-sm bg-gray-200 cursor-pointer rounded-xl ${$&&"bg-gradient-to-r from-gray-200 to-blue-400/30 background-animate"} ${et&&"hidden"}`,children:[ot==="Click"&&jsxRuntimeExports.jsxs("button",{onClick:()=>{rt(),ft(!1)},className:"flex opacity-70",children:[jsxRuntimeExports.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("rect",{x:"1",y:"1",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:st?"#2962D9":"#1C2A33",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:st?"#2962D9":"#1C2A33",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"7",y:"7",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:st?"#2962D9":"#1C2A33",strokeWidth:"2"})]}),jsxRuntimeExports.jsx("span",{className:`pl-2 opacity-70 font-bold ${st&&"text-blue-600 "}`,children:"Multi-mask"})]}),jsxRuntimeExports.jsxs("button",{className:`flex ${!tt&&ot!=="All"&&"disabled"} `,onClick:pt=>{s(),pt.stopPropagation(),_e(!0)},children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M11.7895 0H13.4737V2.52632H16V4.21053H13.4737V6.73684H11.7895V4.21053H9.26316V2.52632H11.7895V0ZM3.36842 2.52632H6.73684V4.21053H3.36842C2.44211 4.21053 1.68421 4.96842 1.68421 5.89474V12.6316C1.68421 13.5663 2.44211 14.3158 3.36842 14.3158H10.1053C11.04 14.3158 11.7895 13.5663 11.7895 12.6316V9.26316H13.4737V12.6316C13.4737 14.4926 11.9663 16 10.1053 16H3.36842C1.50737 16 0 14.4926 0 12.6316V5.89474C0 4.03368 1.50737 2.52632 3.36842 2.52632Z",fill:"black"})}),jsxRuntimeExports.jsx("span",{className:"pl-2 opacity-70",children:ot==="All"?"Cut out all objects":"Cut out object"})]})]})]})},SegmentDrawer=({handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,handleMultiMaskMode:$,userNegClickBool:[et,_e],showGallery:[,rt],hasClicked:ot})=>{const{isModelLoaded:[it],segmentTypes:[at,j],isLoading:[_],isErased:[tt],isMultiMaskMode:[,nt],stickers:[st],activeSticker:[dt,ft],didShowAMGAnimation:[,gt],isAllAnimationDone:[pt],isToolBarUpload:[,mt],handleResetState:vt,handleSelectedImage:yt}=reactExports.useContext(AppContext),[xt,wt]=reactExports.useState(!0),[St,Ct]=reactExports.useState(!1),[At,$t]=reactExports.useState(!1),[Rt,kt]=reactExports.useState(!1),[Lt,Dt]=reactExports.useState(!1),[Mt,Vt]=reactExports.useState(!1),Kt=Qn=>{ft(Qn)},[Yt,Jt]=reactExports.useState(!0),[ln,wn]=reactExports.useState(!0),[_n,kn]=reactExports.useState(!0),[Cn,Ht]=reactExports.useState(!0),[cn,gn]=reactExports.useState(!1),[jn,xn]=reactExports.useState(!1),[Bn,Mn]=reactExports.useState(!1),[Zn,Fn]=reactExports.useState(!1);let wr,Jn,dr,or;const{getRootProps:Gn,getInputProps:rr}=useDropzone({accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},onDrop:Qn=>{try{if(Qn.length===0){message$1.warning("不支持此格式图片，请重新选择图片");return}if(Qn.length>1){message$1.warning("1次只能添加一张图片");return}const ar=new FileReader;ar.onloadend=()=>{yt(Qn[0])},ar.readAsDataURL(Qn[0])}catch(ar){console.log(ar)}},maxSize:5e7});return jsxRuntimeExports.jsx("section",{className:"flex-col hidden w-1/5 pt-[6%] overflow-y-auto md:flex lg:w-72",children:jsxRuntimeExports.jsx("div",{className:"shadow-[0px_0px_15px_5px_#00000024] rounded-xl md:mx-1 lg:mx-5",children:jsxRuntimeExports.jsxs("div",{className:"p-4 pt-5",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between p-2 pb-3",children:jsxRuntimeExports.jsx("span",{className:"leading-3",children:"Tools"})}),xt&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between px-3 py-2 mb-3 cursor-pointer rounded-xl outline outline-gray-200",children:[jsxRuntimeExports.jsx("button",{className:"flex",onClick:()=>{rt(!0),Vt(!1),mt(!0)},children:jsxRuntimeExports.jsxs("span",{...Gn(),className:"flex text-sm",children:[jsxRuntimeExports.jsx("input",{...rr()}),jsxRuntimeExports.jsx("img",{src:"/assets/upload_arrow.svg",className:"w-5 mr-1"}),"Upload"]})}),jsxRuntimeExports.jsxs("button",{className:"flex",onClick:()=>{mt(!1),rt(!1),Vt(!1),gt(!1),vt(),history.back()},children:[jsxRuntimeExports.jsx("img",{src:"/assets/icn-image-gallery.svg",className:"w-5 mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Gallery"})]})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{at!=="Click"&&o(),clearTimeout(wr),j("Click"),Vt(!1),gt(!1)},className:`transition-all overflow-hidden pb-2 ${at!=="Click"&&(Yt?"max-h-[40px]":"max-h-[85px]")} px-3 py-2 cursor-pointer rounded-xl ${at==="Click"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200 "} ${Mt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(wr),wr=setTimeout(()=>{Jt(!1),Ct(!0),gn(!cn)},700)},onMouseLeave:()=>{Jt(!0),wn(!0),kn(!0),Ht(!0),clearTimeout(wr),gn(!1),xn(!1),Mn(!1),Fn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-3 mr-2",children:jsxRuntimeExports.jsx("path",{d:"M9.13635 23.8813C8.53843 24.1683 7.82091 23.9172 7.54586 23.3192L4.93889 17.6509L1.93729 20.0665C1.73399 20.2339 1.48286 20.3296 1.19586 20.3296C0.878697 20.3296 0.574526 20.2036 0.350259 19.9793C0.125992 19.7551 0 19.4509 0 19.1337V1.19586C0 0.878697 0.125992 0.574526 0.350259 0.350259C0.574526 0.125992 0.878697 0 1.19586 0C1.48286 0 1.75791 0.107627 1.96121 0.275047L1.97317 0.263089L15.7136 11.7912C16.2278 12.2217 16.2876 12.9751 15.869 13.4773C15.6897 13.6926 15.4385 13.8361 15.1874 13.8839L11.4085 14.6253L14.0394 20.2817C14.3503 20.8797 14.0633 21.5852 13.4654 21.8603L9.13635 23.8813Z",fill:`${at==="Click"?"#2962D9":"#000000"}`})}),jsxRuntimeExports.jsx("span",{className:`font-bold ${at==="Click"&&"text-blue-600"}`,children:"点选"})]}),at!=="Click"&&St&&jsxRuntimeExports.jsx(Animate,{isMounted:cn,children:jsxRuntimeExports.jsx("p",{className:"my-3 text-[11px] opacity-70",children:"Click an object one or more times. Shift-click to remove regions."})}),at==="Click"&&jsxRuntimeExports.jsx("p",{className:"my-3 text-[11px] text-blue-700 opacity-70",children:"Click an object one or more times. Shift-click to remove regions."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mx-5 my-3",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>_e(!1),className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-7 text-center align-middle rounded-lg mb-1 ${et?"outline outline-1":"bg-blue-600 text-white"}`,children:"+"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${!et&&"text-blue-600"}`,children:"Add Mask"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>_e(!0),className:`flex flex-col items-center ${ot?"":"disabled"}`,children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-6 text-center align-middle rounded-lg mb-1 ${et?"bg-blue-600 text-white":"outline outline-1"}`,children:"-"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${et&&"text-blue-600"}`,children:"Remove Area"})]})]}),at==="Click"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:ot,isCutOut:[Mt,Vt],handleMultiMaskMode:$})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{at!=="Box"&&o(!0),clearTimeout(Jn),nt(!1),j("Box"),Vt(!1),gt(!1)},className:`transition-all overflow-hidden ${at!=="Box"&&(ln?"max-h-[40px]":"max-h-[85px]")} my-2 rounded-xl px-4 py-2 cursor-pointer ${at==="Box"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"} ${Mt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(Jn),Jn=setTimeout(()=>{wn(!1),$t(!0),xn(!0)},700)},onMouseLeave:()=>{Jt(!0),wn(!0),kn(!0),Ht(!0),clearTimeout(Jn),gn(!1),xn(!1),Mn(!1),Fn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M17.7778 0H2.22222C1.63285 0 1.06762 0.234126 0.650874 0.650874C0.234126 1.06762 0 1.63285 0 2.22222V17.7778C0 18.3671 0.234126 18.9324 0.650874 19.3491C1.06762 19.7659 1.63285 20 2.22222 20H17.7778C18.3671 20 18.9324 19.7659 19.3491 19.3491C19.7659 18.9324 20 18.3671 20 17.7778V2.22222C20 1.63285 19.7659 1.06762 19.3491 0.650874C18.9324 0.234126 18.3671 0 17.7778 0ZM17.7778 17.7778H2.22222V2.22222H17.7778V17.7778ZM15.5556 15.5556H4.44444V4.44444H15.5556V15.5556Z",fill:`${at==="Box"?"#2962D9":"#000000"}`})}),jsxRuntimeExports.jsx("span",{className:`pl-2 font-bold ${at==="Box"&&"text-blue-600"}`,children:"框选"})]}),at!=="Box"&&At&&jsxRuntimeExports.jsx(Animate,{isMounted:jn,children:jsxRuntimeExports.jsx("p",{className:"my-3 text-xs opacity-70",children:"Roughly draw a box around an object."})}),at==="Box"&&jsxRuntimeExports.jsx("p",{className:"my-3 text-xs text-blue-700 opacity-70",children:"Roughly draw a box around an object."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mx-5 my-3",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>_e(!1),className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-7 text-center align-middle rounded-lg mb-1 ${et?"outline outline-1":"bg-blue-600 text-white"}`,children:"+"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${!et&&"text-blue-600"}`,children:"Add Mask"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>_e(!0),className:`flex flex-col items-center ${ot?"":"disabled"}`,children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-6 text-center align-middle rounded-lg mb-1 ${et?"bg-blue-600 text-white":"outline outline-1"}`,children:"-"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${et&&"text-blue-600"}`,children:"Remove Area"})]})]}),at==="Box"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:ot,isCutOut:[Mt,Vt],handleMultiMaskMode:$})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{at!=="All"&&o(),clearTimeout(dr),j("All"),Vt(!1),gt(!1)},className:`transition-all overflow-hidden ${at==="All"&&pt===!1&&"disabled"} ${at!=="All"&&(_n?"max-h-[40px]":"max-h-[85px]")} my-2 rounded-xl px-4 py-2 cursor-pointer ${at==="All"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"} ${(!it.allModel||_&&!tt)&&"pointer-events-none"} ${Mt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(dr),dr=setTimeout(()=>{kn(!1),kt(!0),Mn(!0)},700)},onMouseLeave:()=>{Jt(!0),wn(!0),kn(!0),Ht(!0),clearTimeout(dr),gn(!1),xn(!1),Mn(!1),Fn(!1)},children:[jsxRuntimeExports.jsx("div",{className:"flex",children:jsxRuntimeExports.jsx("span",{className:`pl-3 font-bold ${at==="All"&&"text-blue-600"} ${(!it.allModel||_&&!tt)&&"disabled"}`,children:"全景分割"})}),at!=="All"&&Rt&&jsxRuntimeExports.jsx(Animate,{isMounted:Bn,children:jsxRuntimeExports.jsx("p",{className:`text-xs my-3 opacity-70 ${(!it.allModel||_&&!tt)&&"disabled"}`,children:"Find all the objects in the image automatically."})}),at==="All"&&jsxRuntimeExports.jsx("p",{className:`text-xs my-3 opacity-70 text-blue-700 ${(!it.allModel||_&&!tt)&&"disabled"}`,children:"Find all the objects in the image automatically."}),at==="All"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:ot,isCutOut:[Mt,Vt],handleMultiMaskMode:$})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{clearTimeout(or),nt(!1),Vt(!0),wt(!1)},className:`transition-all overflow-hidden my-2 rounded-xl px-4 py-2 cursor-pointer ${Mt?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"}`,onMouseEnter:()=>{clearTimeout(or),or=setTimeout(()=>{Ht(!1),Dt(!0),Fn(!0)},700)},onMouseLeave:()=>{Jt(!0),wn(!0),kn(!0),Ht(!0),clearTimeout(or),gn(!1),xn(!1),Mn(!1),Fn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:`flex ${Mt===!1&&(Cn?"max-h-[40px]":"max-h-[2048px]")}`,children:[jsxRuntimeExports.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:"mt-1",children:[jsxRuntimeExports.jsx("path",{d:"M10.575 6.3C10.575 5.175 11.0812 4.5 11.925 4.5C12.7687 4.5 13.275 5.175 13.275 6.3C13.275 7.425 12.7687 8.1 11.925 8.1C11.0812 8.1 10.575 7.425 10.575 6.3Z",fill:`${Mt?"#2962D9":"#000000"}`}),jsxRuntimeExports.jsx("path",{d:"M6.075 4.5C5.23125 4.5 4.725 5.175 4.725 6.3C4.725 7.425 5.23125 8.1 6.075 8.1C6.91875 8.1 7.425 7.425 7.425 6.3C7.425 5.175 6.91875 4.5 6.075 4.5Z",fill:`${Mt?"#2962D9":"#000000"}`}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10.2088V3.6C18 1.61177 16.3882 0 14.4 0H3.6C1.61177 0 0 1.61177 0 3.6V14.4C0 16.3882 1.61177 18 3.6 18H10.2088C11.1636 18 12.0793 17.6207 12.7544 16.9456L16.9456 12.7544C17.6207 12.0793 18 11.1636 18 10.2088ZM3.6 2.25H14.4C15.1456 2.25 15.75 2.85442 15.75 3.6V8.75C15.75 8.88807 15.6381 9 15.5 9H12.6C10.8656 9 9.4177 10.2265 9.07625 11.8594C9.06866 11.8957 9.03707 11.9225 8.99998 11.9225C7.65188 11.9225 6.41916 11.4285 5.47297 10.6116C5.07293 10.2662 4.45995 10.2265 4.08625 10.6001C3.75946 10.9269 3.73435 11.4546 4.07118 11.771C5.3028 12.928 6.94175 13.6565 8.74991 13.7182C8.8879 13.7229 8.99998 13.8344 8.99998 13.9725L9 15.5C9 15.6381 8.88807 15.75 8.75 15.75H3.6C2.85442 15.75 2.25 15.1456 2.25 14.4V3.6C2.25 2.85442 2.85442 2.25 3.6 2.25Z",fill:`${Mt?"#2962D9":"#000000"}`})]}),jsxRuntimeExports.jsx("span",{className:`pl-2 font-bold ${Mt&&"text-blue-600"}`,children:"Cut-Outs"}),Mt&&jsxRuntimeExports.jsx("button",{className:"ml-auto font-bold",onClick:Qn=>{Qn.stopPropagation(),Vt(!1),j("Click"),wt(!0)},children:"Close"})]}),Mt===!1&&Lt&&jsxRuntimeExports.jsx(Animate,{isMounted:Zn,children:jsxRuntimeExports.jsx("p",{className:"my-2 text-xs opacity-70",children:"See Cut-outs"})}),Mt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Animate,{isMounted:Mt,children:[jsxRuntimeExports.jsx("p",{className:"my-1 text-xs text-blue-700",children:"See Cut-outs"}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-[30rem] text-center",children:st.map((Qn,ar)=>jsxRuntimeExports.jsx("img",{className:`sticker m-5 max-w-[75%] max-h-20 md:max-h-24 lg:max-h-28 xl:max-h-32 cursor-pointer inline hover:opacity-100 ${ar===dt?"sticker-select":""}`,alt:"sticker",src:Qn.toDataURL(),onClick:()=>Kt(ar)},ar))})]})})]})]})})})},Stage=()=>{const{click:[,o],clicks:[i,a],clicksHistory:[s,$],svg:[,et],stickers:[_e,rt],segmentTypes:[ot],isErased:[,it],maskImg:[,at],userNegClickBool:[j,_],activeSticker:[,tt],isLoading:[,nt],hasNegClicked:[,st],stickerTabBool:[dt],isMultiMaskMode:[ft,gt],svgs:[,pt],isHovering:[,mt],showLoadingModal:[vt],predMask:[,yt],predMasks:[xt,wt],predMasksHistory:[St,Ct],isToolBarUpload:[At],modelScale:[$t],hasClicked:[Rt,kt],image:[Lt],handleResetState:Dt}=reactExports.useContext(AppContext),[Mt,Vt]=reactExports.useState([]),[Kt,Yt]=reactExports.useState([]),[Jt,ln]=reactExports.useState([]),[wn,_n]=reactExports.useState(!0),[kn,Cn]=reactExports.useState(!1),[Ht,cn]=reactExports.useState(0),[gn,jn]=reactExports.useState(),[xn,Bn]=reactExports.useState(1),Mn=4,Zn=30,Fn=reactExports.useRef(null),wr=reactExports.useRef(null),[Jn,dr]=reactExports.useState("");reactExports.useEffect(()=>()=>{Dt()},[]);const or=en=>{setTimeout(()=>window.requestAnimationFrame(()=>{setTimeout(()=>{en()},0)}),0)},Gn=()=>{Fn.current!==null&&(nt(!0),or(()=>or(()=>or(()=>or(rr)))))},rr=()=>{if(Fn.current===null)return;const en=ir=>{let rn=null;try{const Hn=ir.toCanvas().getContext("2d");let sr=ir.width(),Gr=ir.height();const Hr={x:[],y:[]},oo=Hn.getImageData(0,0,sr,Gr);let go,mo,fr;for(mo=0;mo<Gr;mo++)for(go=0;go<sr;go++)fr=(mo*sr+go)*4,oo.data[fr+3]>0&&(Hr.x.push(go),Hr.y.push(mo));Hr.x.sort(function(er,Rr){return er-Rr}),Hr.y.sort(function(er,Rr){return er-Rr});const yr=Hr.x.length-1;sr=1+Hr.x[yr]-Hr.x[0],Gr=1+Hr.y[yr]-Hr.y[0];const _r=Hn.getImageData(Hr.x[0],Hr.y[0],sr,Gr);Hn.width=sr,Hn.height=Gr,Hn.putImageData(_r,0,0),rn=document.createElement("canvas"),rn.width=sr,rn.height=Gr,rn.getContext("2d").putImageData(_r,0,0)}catch(Hn){console.log(Hn);return}return rn},sn=window.innerWidth<768,un=Fn.current.clone(),hn=un.findOne(".svgMask"),Sn=hn.find("Path"),$n=hn.find("Image")[0];if(ot==="All")for(const ir of Sn)ir.attrs.visible=!0;const In=[];let Ln=0;un.findOne(".annotations").hide(),un.findOne(".animateAllSvg").hide(),hn.globalCompositeOperation("destination-atop"),$n.opacity(-1),$n.remove();for(const ir of Sn)ir.opacity(-1).remove();for(const ir of Sn){Ln++,hn.add($n),hn.add(ir);const rn=en(un);if(rn&&In.push(rn),$n.remove(),ir.remove(),sn&&Ln===Zn)break}tt(0),rt([...In||[],..._e||[]]),Ft(),nt(!1)},Qn=lodashExports.throttle((en,sn,un)=>{const hn=lr(en,sn,un);hn&&a([hn])},15);reactExports.useEffect(()=>{Ht===Mn&&gn&&(cn(0),Br(gn))},[Ht,gn]);const ar=en=>{if(dt||(s&&$(null),St&&Ct(null),ot!=="Box"))return;const{x:sn,y:un}=en.target.getStage().getPointerPosition();cn(0),Kt.length===0&&Yt([{x:sn,y:un,width:0,height:0,clickType:-1}])},On=(en,sn)=>{if(dt)return;nt(!0),kt(!0);const{x:un,y:hn}=en.target.getStage().getPointerPosition();switch(ot){case"Click":if(Rt||sn)if(sn){const rn=lr(en,un,hn)||null;(rn==null?void 0:rn.clickType)===0&&st(!0),o(rn)}else Tr(en,un,hn);break;case"Box":const Sn=Kt[0].x,$n=Kt[0].y,In=un-Sn,Ln=hn-$n,ir=In===0&&Ln===0;if(Yt([]),ir)if(i!=null&&i.length&&i[0].width&&i[0].height){const rn=lr(en,un,hn),Hn={sx:i[0].x*xn/$t.scale,sy:i[0].y*xn/$t.scale,x:i[0].width*xn/$t.scale,y:i[0].height*xn/$t.scale};Jr(Hn,rn),Vt([jr(Hn)]),Br(Hn,rn)}else kt(!1),nt(!1);else{const rn={sx:Sn,sy:$n,x:un,y:hn};jn(rn),Jr(rn),Vt([jr(rn)]),Br(rn)}break}},Nn=en=>{if(dt)return;const{x:sn,y:un}=en.target.getStage().getPointerPosition();if(ot==="Click"&&!Rt)Qn(en,sn,un);else if(Kt.length===1){const hn=Kt[0].x,Sn=Kt[0].y;Yt([jr({sx:hn,sy:Sn,x:sn,y:un})]),Vt([]),jn({sx:hn,sy:Sn,x:sn,y:un}),cn($n=>$n+1)}},pr=()=>{dt||(i==null?void 0:i.length)===1&&ot==="Click"&&!Rt&&(lodashExports.defer(Ft),setTimeout(Ft,25))},lr=(en,sn,un)=>{let hn;if(en.evt.button===0||!en.evt.button?hn=1:en.evt.button===2&&(hn=0),hn!==void 0)return j&&(hn=0),sn*=$t.scale/xn,un*=$t.scale/xn,{x:sn,y:un,width:null,height:null,clickType:hn}},Tr=(en,sn,un)=>{const hn=lr(en,sn,un);hn&&a([...i||[],hn])},Br=({sx:en,sy:sn,x:un,y:hn},Sn,$n)=>{en*=$t.scale/xn,sn*=$t.scale/xn,un*=$t.scale/xn,hn*=$t.scale/xn;const In={x:Math.min(en,un),y:Math.min(sn,hn),width:Math.max(en,un),height:Math.max(sn,hn),clickType:2},Ln=$n||[...i||[]];Sn&&Ln.push(Sn),Ln[0]&&!Ln[0].width?Ln.unshift(In):Ln[0]=In,a(Ln)},jr=({sx:en,sy:sn,x:un,y:hn})=>({x:en,y:sn,width:un-en,height:hn-sn,clickType:2}),Jr=(en,sn,un)=>{const hn=Xn(sn,un);if(!hn||!hn.xMin||!hn.yMin||!hn.xMax||!hn.yMax)return;let{sx:Sn,sy:$n,x:In,y:Ln}=en;const ir=Math.min(Sn,In),rn=Math.min($n,Ln),Hn=Math.max(Sn,In),sr=Math.max($n,Ln);hn.xMin<ir&&(Sn<In?Sn=hn.xMin:In=hn.xMin),hn.yMin<rn&&($n<Ln?$n=hn.yMin:Ln=hn.yMin),hn.xMax>Hn&&(Sn>In?Sn=hn.xMax:In=hn.xMax),hn.yMax>sr&&($n>Ln?$n=hn.yMax:Ln=hn.yMax),en.sx=Sn,en.sy=$n,en.x=In,en.y=Ln},Xn=(en,sn)=>{let un,hn,Sn,$n;const In=sn||(i?[...i]:null);if(In){en&&In.push(en);for(const Ln of In)Ln.width||Ln.clickType!==0&&((!un||Ln.x<un)&&(un=Ln.x),(!hn||Ln.y<hn)&&(hn=Ln.y),(!Sn||Ln.x>Sn)&&(Sn=Ln.x),(!$n||Ln.y>$n)&&($n=Ln.y));return un=un&&un*xn/$t.scale,hn=hn&&hn*xn/$t.scale,Sn=Sn&&Sn*xn/$t.scale,$n=$n&&$n*xn/$t.scale,{xMin:un,yMin:hn,xMax:Sn,yMax:$n}}},Ft=en=>{et(null),pt(null),o(null),a(null),Vt([]),Yt([]),$(null),at(null),_(!1),mt(null),yt(null),wt(null),Ct(null),nt(!1),jn(void 0),ot==="Click"&&!en?ft||kt(!1):(kt(!1),gt(!1))},Bt=()=>{ft?i||kt(!1):(i&&i.length>1&&Ft(),kt(!0)),gt(!ft)};reactExports.useEffect(()=>{i||(Vt([]),Yt([]),jn(void 0))},[i]);const Gt=()=>{if((i==null?void 0:i.length)===1&&(Mt!=null&&Mt.length)&&ot==="Box"&&(ln(Mt),Vt([]),Yt([])),xt!=null&&xt.length&&(i!=null&&i.length)){const en=[...xt],sn=en.pop(),un=[...St||[]];wt(en),sn&&un.push(sn),Ct(un);const hn=[...i],Sn=hn.pop(),$n=[...s||[]];if(Sn&&$n.push(Sn),$($n),i.length===1)yt(null),kt(!1),a(null),et(null),it(!1),at(null);else if(nt(!0),yt(en[en.length-1]),gn){const In={...gn};Jr(In,void 0,hn),Vt([jr(In)]),Br(In,void 0,hn)}else a(hn)}},Qt=()=>{if(s!=null&&s.length&&(Jt!=null&&Jt.length)&&ot==="Box"&&(Vt(Jt),Yt([]),ln([])),St!=null&&St.length&&(s!=null&&s.length)){nt(!0),kt(!0);const en=[...xt||[]],sn=[...St||[]],un=sn.pop();un&&en.push(un),Ct(sn),wt(en),yt(en[en.length-1]);const hn=[...i||[]],Sn=[...s||[]],$n=Sn.pop();if($n&&hn.push($n),$(Sn),gn){const In={...gn};Jr(In,void 0,hn),Vt([jr(In)]),Br(In,void 0,hn)}else a(hn)}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Lt||At?jsxRuntimeExports.jsxs("div",{className:"flex items-stretch justify-center flex-1 overflow-hidden stage",children:[vt&&jsxRuntimeExports.jsx(LoadingModal,{handleResetState:Dt}),jsxRuntimeExports.jsx(SegmentDrawer,{handleResetInteraction:Ft,handleUndoInteraction:Gt,handleRedoInteraction:Qt,handleCreateSticker:Gn,userNegClickBool:[j,_],handleMultiMaskMode:Bt,showGallery:[wn,_n],hasClicked:Rt}),jsxRuntimeExports.jsx("div",{className:"relative flex flex-col items-center md:justify-center flex-1 overflow-hidden md:overflow-visible md:px-12 md:py-9",children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-[calc(100%-6rem)] md:h-full md:my-7",ref:wr,children:jsxRuntimeExports.jsx(reactExports.Profiler,{id:"Canvas",onRender:()=>{},children:jsxRuntimeExports.jsx(Canvas,{konvaRef:Fn,containerRef:wr,annotations:Mt,newAnnotation:Kt,scale:$t,handleMouseUp:On,handleMouseDown:ar,handleMouseMove:Nn,handleMouseOut:pr,hasClicked:Rt,setCanvasScale:Bn,isHoverToolTip:[kn,Cn],allText:[Jn,dr]})})})})]}):jsxRuntimeExports.jsx(Home,{})})},index="",router=createBrowserRouter([{path:"/",children:[{path:"/",element:jsxRuntimeExports.jsx(Home,{})},{path:"main",element:jsxRuntimeExports.jsx(Stage,{})}]}],{basename:"/segment-anything-demo/"});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(AppContextProvider,{children:jsxRuntimeExports.jsx(RouterProvider,{router})})}));
