function _mergeNamespaces(o,i){for(var a=0;a<i.length;a++){const s=i[a];if(typeof s!="string"&&!Array.isArray(s)){for(const j in s)if(j!=="default"&&!(j in o)){const et=Object.getOwnPropertyDescriptor(s,j);et&&Object.defineProperty(o,j,et.get?et:{enumerable:!0,get:()=>s[j]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))s(j);new MutationObserver(j=>{for(const et of j)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&s(tt)}).observe(document,{childList:!0,subtree:!0});function a(j){const et={};return j.integrity&&(et.integrity=j.integrity),j.referrerPolicy&&(et.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?et.credentials="include":j.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function s(j){if(j.ep)return;j.ep=!0;const et=a(j);fetch(j.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(o){return o===null||typeof o!="object"?null:(o=z$2&&o[z$2]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,i,a){this.props=o,this.context=i,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,i,a){this.props=o,this.context=i,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,i,a){var s,j={},et=null,tt=null;if(i!=null)for(s in i.ref!==void 0&&(tt=i.ref),i.key!==void 0&&(et=""+i.key),i)J.call(i,s)&&!L$1.hasOwnProperty(s)&&(j[s]=i[s]);var rt=arguments.length-2;if(rt===1)j.children=a;else if(1<rt){for(var at=Array(rt),ot=0;ot<rt;ot++)at[ot]=arguments[ot+2];j.children=at}if(o&&o.defaultProps)for(s in rt=o.defaultProps,rt)j[s]===void 0&&(j[s]=rt[s]);return{$$typeof:l$2,type:o,key:et,ref:tt,props:j,_owner:K$1.current}}function N$1(o,i){return{$$typeof:l$2,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return i[a]})}var P$1=/\/+/g;function Q$1(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):i.toString(36)}function R$1(o,i,a,s,j){var et=typeof o;(et==="undefined"||et==="boolean")&&(o=null);var tt=!1;if(o===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:tt=!0}}if(tt)return tt=o,j=j(tt),o=s===""?"."+Q$1(tt,0):s,I$1(j)?(a="",o!=null&&(a=o.replace(P$1,"$&/")+"/"),R$1(j,i,a,"",function(ot){return ot})):j!=null&&(O$1(j)&&(j=N$1(j,a+(!j.key||tt&&tt.key===j.key?"":(""+j.key).replace(P$1,"$&/")+"/")+o)),i.push(j)),1;if(tt=0,s=s===""?".":s+":",I$1(o))for(var rt=0;rt<o.length;rt++){et=o[rt];var at=s+Q$1(et,rt);tt+=R$1(et,i,a,at,j)}else if(at=A$2(o),typeof at=="function")for(o=at.call(o),rt=0;!(et=o.next()).done;)et=et.value,at=s+Q$1(et,rt++),tt+=R$1(et,i,a,at,j);else if(et==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(o,i,a){if(o==null)return o;var s=[],j=0;return R$1(o,s,"","",function(et){return i.call(a,et,j++)}),s}function T$1(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,i,a){S$1(o,function(){i.apply(this,arguments)},a)},count:function(o){var i=0;return S$1(o,function(){i++}),i},toArray:function(o){return S$1(o,function(i){return i})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,i,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var s=C$1({},o.props),j=o.key,et=o.ref,tt=o._owner;if(i!=null){if(i.ref!==void 0&&(et=i.ref,tt=K$1.current),i.key!==void 0&&(j=""+i.key),o.type&&o.type.defaultProps)var rt=o.type.defaultProps;for(at in i)J.call(i,at)&&!L$1.hasOwnProperty(at)&&(s[at]=i[at]===void 0&&rt!==void 0?rt[at]:i[at])}var at=arguments.length-2;if(at===1)s.children=a;else if(1<at){rt=Array(at);for(var ot=0;ot<at;ot++)rt[ot]=arguments[ot+2];s.children=rt}return{$$typeof:l$2,type:o.type,key:j,ref:et,props:s,_owner:tt}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var i=M$1.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,i){return{$$typeof:x$1,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,i){return U$1.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$1.current.useEffect(o,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,i,a){return U$1.current.useImperativeHandle(o,i,a)};react_production_min.useInsertionEffect=function(o,i){return U$1.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$1.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$1.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,a){return U$1.current.useReducer(o,i,a)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,a){return U$1.current.useSyncExternalStore(o,i,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,i,a){var s,j={},et=null,tt=null;a!==void 0&&(et=""+a),i.key!==void 0&&(et=""+i.key),i.ref!==void 0&&(tt=i.ref);for(s in i)m$2.call(i,s)&&!p$2.hasOwnProperty(s)&&(j[s]=i[s]);if(o&&o.defaultProps)for(s in i=o.defaultProps,i)j[s]===void 0&&(j[s]=i[s]);return{$$typeof:k$1,type:o,key:et,ref:tt,props:j,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(Ft,Ut){var zt=Ft.length;Ft.push(Ut);e:for(;0<zt;){var Wt=zt-1>>>1,Qt=Ft[Wt];if(0<j(Qt,Ut))Ft[Wt]=Ut,Ft[zt]=Qt,zt=Wt;else break e}}function a(Ft){return Ft.length===0?null:Ft[0]}function s(Ft){if(Ft.length===0)return null;var Ut=Ft[0],zt=Ft.pop();if(zt!==Ut){Ft[0]=zt;e:for(var Wt=0,Qt=Ft.length,un=Qt>>>1;Wt<un;){var an=2*(Wt+1)-1,vn=Ft[an],fn=an+1,jt=Ft[fn];if(0>j(vn,zt))fn<Qt&&0>j(jt,vn)?(Ft[Wt]=jt,Ft[fn]=zt,Wt=fn):(Ft[Wt]=vn,Ft[an]=zt,Wt=an);else if(fn<Qt&&0>j(jt,zt))Ft[Wt]=jt,Ft[fn]=zt,Wt=fn;else break e}}return Ut}function j(Ft,Ut){var zt=Ft.sortIndex-Ut.sortIndex;return zt!==0?zt:Ft.id-Ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;o.unstable_now=function(){return et.now()}}else{var tt=Date,rt=tt.now();o.unstable_now=function(){return tt.now()-rt}}var at=[],ot=[],st=1,_e=null,$=3,nt=!1,it=!1,lt=!1,dt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ht(Ft){for(var Ut=a(ot);Ut!==null;){if(Ut.callback===null)s(ot);else if(Ut.startTime<=Ft)s(ot),Ut.sortIndex=Ut.expirationTime,i(at,Ut);else break;Ut=a(ot)}}function gt(Ft){if(lt=!1,ht(Ft),!it)if(a(at)!==null)it=!0,$t(mt);else{var Ut=a(ot);Ut!==null&&kt(gt,Ut.startTime-Ft)}}function mt(Ft,Ut){it=!1,lt&&(lt=!1,ft(_t),_t=-1),nt=!0;var zt=$;try{for(ht(Ut),_e=a(at);_e!==null&&(!(_e.expirationTime>Ut)||Ft&&!Tt());){var Wt=_e.callback;if(typeof Wt=="function"){_e.callback=null,$=_e.priorityLevel;var Qt=Wt(_e.expirationTime<=Ut);Ut=o.unstable_now(),typeof Qt=="function"?_e.callback=Qt:_e===a(at)&&s(at),ht(Ut)}else s(at);_e=a(at)}if(_e!==null)var un=!0;else{var an=a(ot);an!==null&&kt(gt,an.startTime-Ut),un=!1}return un}finally{_e=null,$=zt,nt=!1}}var yt=!1,bt=null,_t=-1,xt=5,Et=-1;function Tt(){return!(o.unstable_now()-Et<xt)}function Pt(){if(bt!==null){var Ft=o.unstable_now();Et=Ft;var Ut=!0;try{Ut=bt(!0,Ft)}finally{Ut?At():(yt=!1,bt=null)}}else yt=!1}var At;if(typeof pt=="function")At=function(){pt(Pt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,It=Ot.port2;Ot.port1.onmessage=Pt,At=function(){It.postMessage(null)}}else At=function(){dt(Pt,0)};function $t(Ft){bt=Ft,yt||(yt=!0,At())}function kt(Ft,Ut){_t=dt(function(){Ft(o.unstable_now())},Ut)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ft){Ft.callback=null},o.unstable_continueExecution=function(){it||nt||(it=!0,$t(mt))},o.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<Ft?Math.floor(1e3/Ft):5},o.unstable_getCurrentPriorityLevel=function(){return $},o.unstable_getFirstCallbackNode=function(){return a(at)},o.unstable_next=function(Ft){switch($){case 1:case 2:case 3:var Ut=3;break;default:Ut=$}var zt=$;$=Ut;try{return Ft()}finally{$=zt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Ft,Ut){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var zt=$;$=Ft;try{return Ut()}finally{$=zt}},o.unstable_scheduleCallback=function(Ft,Ut,zt){var Wt=o.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Wt+zt:Wt):zt=Wt,Ft){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=zt+Qt,Ft={id:st++,callback:Ut,priorityLevel:Ft,startTime:zt,expirationTime:Qt,sortIndex:-1},zt>Wt?(Ft.sortIndex=zt,i(ot,Ft),a(at)===null&&Ft===a(ot)&&(lt?(ft(_t),_t=-1):lt=!0,kt(gt,zt-Wt))):(Ft.sortIndex=Qt,i(at,Ft),it||nt||(it=!0,$t(mt))),Ft},o.unstable_shouldYield=Tt,o.unstable_wrapCallback=function(Ft){var Ut=$;return function(){var zt=$;$=Ut;try{return Ft.apply(this,arguments)}finally{$=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,i){ha(o,i),ha(o+"Capture",i)}function ha(o,i){for(ea[o]=i,o=0;o<i.length;o++)da.add(i[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,i,a,s){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,i,a,s){if(i===null||typeof i>"u"||pa(o,i,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(o,i,a,s,j,et,tt){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=s,this.attributeNamespace=j,this.mustUseProperty=a,this.propertyName=o,this.type=i,this.sanitizeURL=et,this.removeEmptyString=tt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$1[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z$1[i]=new v$1(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$1[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$1[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$1[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$1[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$1[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$1[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$1[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra,sa);z$1[i]=new v$1(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$1[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$1[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,i,a,s){var j=z$1.hasOwnProperty(i)?z$1[i]:null;(j!==null?j.type!==0:s||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,a,j,s)&&(a=null),s||j===null?oa(i)&&(a===null?o.removeAttribute(i):o.setAttribute(i,""+a)):j.mustUseProperty?o[j.propertyName]=a===null?j.type===3?!1:"":a:(i=j.attributeName,s=j.attributeNamespace,a===null?o.removeAttribute(i):(j=j.type,a=j===3||j===4&&a===!0?"":""+a,s?o.setAttributeNS(s,i,a):o.setAttribute(i,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$1=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na=!1;function Oa(o,i){if(!o||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ot){var s=ot}Reflect.construct(o,[],i)}else{try{i.call()}catch(ot){s=ot}o.call(i.prototype)}else{try{throw Error()}catch(ot){s=ot}o()}}catch(ot){if(ot&&s&&typeof ot.stack=="string"){for(var j=ot.stack.split(`
`),et=s.stack.split(`
`),tt=j.length-1,rt=et.length-1;1<=tt&&0<=rt&&j[tt]!==et[rt];)rt--;for(;1<=tt&&0<=rt;tt--,rt--)if(j[tt]!==et[rt]){if(tt!==1||rt!==1)do if(tt--,rt--,0>rt||j[tt]!==et[rt]){var at=`
`+j[tt].replace(" at new "," at ");return o.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",o.displayName)),at}while(1<=tt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return i=o.displayName||null,i!==null?i:Qa(o.type)||"Memo";case Ha:i=o._payload,o=o._init;try{return Qa(o(i))}catch{}}return null}function Ra(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(o){var i=Ta(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),s=""+o[i];if(!o.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var j=a.get,et=a.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return j.call(this)},set:function(tt){s=""+tt,et.call(this,tt)}}),Object.defineProperty(o,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(tt){s=""+tt},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return o&&(s=Ta(o)?o.checked?"true":"false":o.value),o=s,o!==a?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,i){var a=i.checked;return A$1({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function Za(o,i){var a=i.defaultValue==null?"":i.defaultValue,s=i.checked!=null?i.checked:i.defaultChecked;a=Sa(i.value!=null?i.value:a),o._wrapperState={initialChecked:s,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(o,i){i=i.checked,i!=null&&ta(o,"checked",i,!1)}function bb(o,i){ab(o,i);var a=Sa(i.value),s=i.type;if(a!=null)s==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(s==="submit"||s==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb$1(o,i.type,a):i.hasOwnProperty("defaultValue")&&cb$1(o,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db(o,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var s=i.type;if(!(s!=="submit"&&s!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,a||i===o.value||(o.value=i),o.defaultValue=i}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function cb$1(o,i,a){(i!=="number"||Xa(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var eb=Array.isArray;function fb(o,i,a,s){if(o=o.options,i){i={};for(var j=0;j<a.length;j++)i["$"+a[j]]=!0;for(a=0;a<o.length;a++)j=i.hasOwnProperty("$"+o[a].value),o[a].selected!==j&&(o[a].selected=j),j&&s&&(o[a].defaultSelected=!0)}else{for(a=""+Sa(a),i=null,j=0;j<o.length;j++){if(o[j].value===a){o[j].selected=!0,s&&(o[j].defaultSelected=!0);return}i!==null||o[j].disabled||(i=o[j])}i!==null&&(i.selected=!0)}}function gb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}i=a}i==null&&(i=""),a=i}o._wrapperState={initialValue:Sa(a)}}function ib(o,i){var a=Sa(i.value),s=Sa(i.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),i.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),s!=null&&(o.defaultValue=""+s)}function jb(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,s,j){MSApp.execUnsafeLocalFunction(function(){return o(i,a,s,j)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob(o,i){if(i){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=i;return}}o.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb[i]=pb[o]})});function rb(o,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pb.hasOwnProperty(o)&&pb[o]?(""+i).trim():i+"px"}function sb(o,i){o=o.style;for(var a in i)if(i.hasOwnProperty(a)){var s=a.indexOf("--")===0,j=rb(a,i[a],s);a==="float"&&(a="cssFloat"),s?o.setProperty(a,j):o[a]=j}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,i){if(i){if(tb[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$1(280));var i=o.stateNode;i&&(i=Db(i),yb(o.stateNode,o.type,i))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,i=Ab;if(Ab=zb=null,Bb(o),i)for(o=0;o<i.length;o++)Bb(i[o])}}function Gb(o,i){return o(i)}function Hb(){}var Ib=!1;function Jb(o,i,a){if(Ib)return o(i,a);Ib=!0;try{return Gb(o,i,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,i){var a=o.stateNode;if(a===null)return null;var s=Db(a);if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(o=o.type,s=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!s;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(p$1(231,i,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,i,a,s,j,et,tt,rt,at){var ot=Array.prototype.slice.call(arguments,3);try{i.apply(a,ot)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,i,a,s,j,et,tt,rt,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,i,a,s,j,et,tt,rt,at){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=ot)}}function Vb(o){var i=o,a=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(a=i.return),o=i.return;while(o)}return i.tag===3?a:null}function Wb(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$1(188))}function Yb(o){var i=o.alternate;if(!i){if(i=Vb(o),i===null)throw Error(p$1(188));return i!==o?null:o}for(var a=o,s=i;;){var j=a.return;if(j===null)break;var et=j.alternate;if(et===null){if(s=j.return,s!==null){a=s;continue}break}if(j.child===et.child){for(et=j.child;et;){if(et===a)return Xb(j),o;if(et===s)return Xb(j),i;et=et.sibling}throw Error(p$1(188))}if(a.return!==s.return)a=j,s=et;else{for(var tt=!1,rt=j.child;rt;){if(rt===a){tt=!0,a=j,s=et;break}if(rt===s){tt=!0,s=j,a=et;break}rt=rt.sibling}if(!tt){for(rt=et.child;rt;){if(rt===a){tt=!0,a=et,s=j;break}if(rt===s){tt=!0,s=et,a=j;break}rt=rt.sibling}if(!tt)throw Error(p$1(189))}}if(a.alternate!==s)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?o:i}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b(o);if(i!==null)return i;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,i){var a=o.pendingLanes;if(a===0)return 0;var s=0,j=o.suspendedLanes,et=o.pingedLanes,tt=a&268435455;if(tt!==0){var rt=tt&~j;rt!==0?s=tc(rt):(et&=tt,et!==0&&(s=tc(et)))}else tt=a&~j,tt!==0?s=tc(tt):et!==0&&(s=tc(et));if(s===0)return 0;if(i!==0&&i!==s&&!(i&j)&&(j=s&-s,et=i&-i,j>=et||j===16&&(et&4194240)!==0))return i;if(s&4&&(s|=a&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=s;0<i;)a=31-oc(i),j=1<<a,s|=o[a],i&=~j;return s}function vc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,i){for(var a=o.suspendedLanes,s=o.pingedLanes,j=o.expirationTimes,et=o.pendingLanes;0<et;){var tt=31-oc(et),rt=1<<tt,at=j[tt];at===-1?(!(rt&a)||rt&s)&&(j[tt]=vc(rt,i)):at<=i&&(o.expiredLanes|=rt),et&=~rt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var i=[],a=0;31>a;a++)i.push(o);return i}function Ac(o,i,a){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc(i),o[i]=a}function Bc(o,i){var a=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var s=o.eventTimes;for(o=o.expirationTimes;0<a;){var j=31-oc(a),et=1<<j;i[j]=0,s[j]=-1,o[j]=-1,a&=~et}}function Cc(o,i){var a=o.entangledLanes|=i;for(o=o.entanglements;a;){var s=31-oc(a),j=1<<s;j&i|o[s]&i&&(o[s]|=i),a&=~j}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,i){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(o,i,a,s,j,et){return o===null||o.nativeEvent!==et?(o={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:et,targetContainers:[j]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),o):(o.eventSystemFlags|=s,i=o.targetContainers,j!==null&&i.indexOf(j)===-1&&i.push(j),o)}function Uc(o,i,a,s,j){switch(i){case"focusin":return Lc=Tc(Lc,o,i,a,s,j),!0;case"dragenter":return Mc=Tc(Mc,o,i,a,s,j),!0;case"mouseover":return Nc=Tc(Nc,o,i,a,s,j),!0;case"pointerover":var et=j.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,o,i,a,s,j)),!0;case"gotpointercapture":return et=j.pointerId,Pc.set(et,Tc(Pc.get(et)||null,o,i,a,s,j)),!0}return!1}function Vc(o){var i=Wc(o.target);if(i!==null){var a=Vb(i);if(a!==null){if(i=a.tag,i===13){if(i=Wb(a),i!==null){o.blockedOn=i,Ic(o.priority,function(){Gc(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var a=Yc(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var s=new a.constructor(a.type,a);wb=s,a.target.dispatchEvent(s),wb=null}else return i=Cb(a),i!==null&&Fc(i),o.blockedOn=a,!1;i.shift()}return!0}function Zc(o,i,a){Xc(o)&&a.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function i(j){return ad(j,o)}if(0<Kc.length){ad(Kc[0],o);for(var a=1;a<Kc.length;a++){var s=Kc[a];s.blockedOn===o&&(s.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(i),Pc.forEach(i),a=0;a<Qc.length;a++)s=Qc[a],s.blockedOn===o&&(s.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,i,a,s){var j=C,et=cd.transition;cd.transition=null;try{C=1,fd(o,i,a,s)}finally{C=j,cd.transition=et}}function gd(o,i,a,s){var j=C,et=cd.transition;cd.transition=null;try{C=4,fd(o,i,a,s)}finally{C=j,cd.transition=et}}function fd(o,i,a,s){if(dd){var j=Yc(o,i,a,s);if(j===null)hd(o,i,s,id,a),Sc(o,s);else if(Uc(j,o,i,a,s))s.stopPropagation();else if(Sc(o,s),i&4&&-1<Rc.indexOf(o)){for(;j!==null;){var et=Cb(j);if(et!==null&&Ec(et),et=Yc(o,i,a,s),et===null&&hd(o,i,s,id,a),et===j)break;j=et}j!==null&&s.stopPropagation()}else hd(o,i,s,null,a)}}var id=null;function Yc(o,i,a,s){if(id=null,o=xb(s),o=Wc(o),o!==null)if(i=Vb(o),i===null)o=null;else if(a=i.tag,a===13){if(o=Wb(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,i=ld,a=i.length,s,j="value"in kd?kd.value:kd.textContent,et=j.length;for(o=0;o<a&&i[o]===j[o];o++);var tt=a-o;for(s=1;s<=tt&&i[a-s]===j[et-s];s++);return md=j.slice(o,1<s?1-s:void 0)}function od(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function i(a,s,j,et,tt){this._reactName=a,this._targetInst=j,this.type=s,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var rt in o)o.hasOwnProperty(rt)&&(a=o[rt],this[rt]=a?a(et):et[rt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od[o])?!!i[o]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(o){if(o.key){var i=Md[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,i){switch(o){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,i){switch(o){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return o=i.data,o===ee&&fe?null:o;default:return null}}function ke(o,i){if(ie)return o==="compositionend"||!ae&&ge(o,i)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le[o.type]:i==="textarea"}function ne(o,i,a,s){Eb(s),i=oe(i,"onChange"),0<i.length&&(a=new td("onChange","change",null,a,s),o.push({event:a,listeners:i}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var i=ue(o);if(Wa(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,o,xb(o)),Jb(re,i)}}function Ce(o,i,a){o==="focusin"?(Ae(),pe=i,qe=a,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,i){if(o==="click")return te(i)}function Fe(o,i){if(o==="input"||o==="change")return te(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var a=Object.keys(o),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var j=a[s];if(!ja.call(i,j)||!He(o[j],i[j]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var a=Je(o);o=0;for(var s;a;){if(a.nodeType===3){if(s=o+a.textContent.length,o<=i&&s>=i)return{node:a,offset:i-o};o=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),a=o.focusedElem,s=o.selectionRange;if(i!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(s!==null&&Ne(a)){if(i=s.start,o=s.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var j=a.textContent.length,et=Math.min(s.start,j);s=s.end===void 0?et:Math.min(s.end,j),!o.extend&&et>s&&(j=s,s=et,et=j),j=Ke(a,et);var tt=Ke(a,s);j&&tt&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==tt.node||o.focusOffset!==tt.offset)&&(i=i.createRange(),i.setStart(j.node,j.offset),o.removeAllRanges(),et>s?(o.addRange(i),o.extend(tt.node,tt.offset)):(i.setEnd(tt.node,tt.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Ne(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Ie(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(i=new td("onSelect","select",null,i,a),o.push({event:i,listeners:s}),i.target=Qe)))}function Ve(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit"+o]="webkit"+i,a["Moz"+o]="moz"+i,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ye)return Xe[o]=i[a];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,a){var s=o.type||"unknown-event";o.currentTarget=a,Ub(s,i,void 0,o),o.currentTarget=null}function se(o,i){i=(i&4)!==0;for(var a=0;a<o.length;a++){var s=o[a],j=s.event;s=s.listeners;e:{var et=void 0;if(i)for(var tt=s.length-1;0<=tt;tt--){var rt=s[tt],at=rt.instance,ot=rt.currentTarget;if(rt=rt.listener,at!==et&&j.isPropagationStopped())break e;nf(j,rt,ot),et=at}else for(tt=0;tt<s.length;tt++){if(rt=s[tt],at=rt.instance,ot=rt.currentTarget,rt=rt.listener,at!==et&&j.isPropagationStopped())break e;nf(j,rt,ot),et=at}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,i){var a=i[of];a===void 0&&(a=i[of]=new Set);var s=o+"__bubble";a.has(s)||(pf(i,o,2,!1),a.add(s))}function qf(o,i,a){var s=0;i&&(s|=4),pf(a,o,s,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,o),qf(a,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,a,s){switch(jd(i)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}a=j.bind(null,i,a,o),j=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(j=!0),s?j!==void 0?o.addEventListener(i,a,{capture:!0,passive:j}):o.addEventListener(i,a,!0):j!==void 0?o.addEventListener(i,a,{passive:j}):o.addEventListener(i,a,!1)}function hd(o,i,a,s,j){var et=s;if(!(i&1)&&!(i&2)&&s!==null)e:for(;;){if(s===null)return;var tt=s.tag;if(tt===3||tt===4){var rt=s.stateNode.containerInfo;if(rt===j||rt.nodeType===8&&rt.parentNode===j)break;if(tt===4)for(tt=s.return;tt!==null;){var at=tt.tag;if((at===3||at===4)&&(at=tt.stateNode.containerInfo,at===j||at.nodeType===8&&at.parentNode===j))return;tt=tt.return}for(;rt!==null;){if(tt=Wc(rt),tt===null)return;if(at=tt.tag,at===5||at===6){s=et=tt;continue e}rt=rt.parentNode}}s=s.return}Jb(function(){var ot=et,st=xb(a),_e=[];e:{var $=df.get(o);if($!==void 0){var nt=td,it=o;switch(o){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":it="focus",nt=Fd;break;case"focusout":it="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var lt=(i&4)!==0,dt=!lt&&o==="scroll",ft=lt?$!==null?$+"Capture":null:$;lt=[];for(var pt=ot,ht;pt!==null;){ht=pt;var gt=ht.stateNode;if(ht.tag===5&&gt!==null&&(ht=gt,ft!==null&&(gt=Kb(pt,ft),gt!=null&&lt.push(tf(pt,gt,ht)))),dt)break;pt=pt.return}0<lt.length&&($=new nt($,it,null,a,st),_e.push({event:$,listeners:lt}))}}if(!(i&7)){e:{if($=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",$&&a!==wb&&(it=a.relatedTarget||a.fromElement)&&(Wc(it)||it[uf]))break e;if((nt||$)&&($=st.window===st?st:($=st.ownerDocument)?$.defaultView||$.parentWindow:window,nt?(it=a.relatedTarget||a.toElement,nt=ot,it=it?Wc(it):null,it!==null&&(dt=Vb(it),it!==dt||it.tag!==5&&it.tag!==6)&&(it=null)):(nt=null,it=ot),nt!==it)){if(lt=Bd,gt="onMouseLeave",ft="onMouseEnter",pt="mouse",(o==="pointerout"||o==="pointerover")&&(lt=Td,gt="onPointerLeave",ft="onPointerEnter",pt="pointer"),dt=nt==null?$:ue(nt),ht=it==null?$:ue(it),$=new lt(gt,pt+"leave",nt,a,st),$.target=dt,$.relatedTarget=ht,gt=null,Wc(st)===ot&&(lt=new lt(ft,pt+"enter",it,a,st),lt.target=ht,lt.relatedTarget=dt,gt=lt),dt=gt,nt&&it)t:{for(lt=nt,ft=it,pt=0,ht=lt;ht;ht=vf(ht))pt++;for(ht=0,gt=ft;gt;gt=vf(gt))ht++;for(;0<pt-ht;)lt=vf(lt),pt--;for(;0<ht-pt;)ft=vf(ft),ht--;for(;pt--;){if(lt===ft||ft!==null&&lt===ft.alternate)break t;lt=vf(lt),ft=vf(ft)}lt=null}else lt=null;nt!==null&&wf(_e,$,nt,lt,!1),it!==null&&dt!==null&&wf(_e,dt,it,lt,!0)}}e:{if($=ot?ue(ot):window,nt=$.nodeName&&$.nodeName.toLowerCase(),nt==="select"||nt==="input"&&$.type==="file")var mt=ve;else if(me($))if(we)mt=Fe;else{mt=De;var yt=Ce}else(nt=$.nodeName)&&nt.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(mt=Ee);if(mt&&(mt=mt(o,ot))){ne(_e,mt,a,st);break e}yt&&yt(o,$,ot),o==="focusout"&&(yt=$._wrapperState)&&yt.controlled&&$.type==="number"&&cb$1($,"number",$.value)}switch(yt=ot?ue(ot):window,o){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,a,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,a,st)}var bt;if(ae)e:{switch(o){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ie?ge(o,a)&&(_t="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(de&&a.locale!=="ko"&&(ie||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ie&&(bt=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(ot,_t),0<yt.length&&(_t=new Ld(_t,o,null,a,st),_e.push({event:_t,listeners:yt}),bt?_t.data=bt:(bt=he(a),bt!==null&&(_t.data=bt)))),(bt=ce?je(o,a):ke(o,a))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(st=new Ld("onBeforeInput","beforeinput",null,a,st),_e.push({event:st,listeners:ot}),st.data=bt))}se(_e,i)})}function tf(o,i,a){return{instance:o,listener:i,currentTarget:a}}function oe(o,i){for(var a=i+"Capture",s=[];o!==null;){var j=o,et=j.stateNode;j.tag===5&&et!==null&&(j=et,et=Kb(o,a),et!=null&&s.unshift(tf(o,et,j)),et=Kb(o,i),et!=null&&s.push(tf(o,et,j))),o=o.return}return s}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,a,s,j){for(var et=i._reactName,tt=[];a!==null&&a!==s;){var rt=a,at=rt.alternate,ot=rt.stateNode;if(at!==null&&at===s)break;rt.tag===5&&ot!==null&&(rt=ot,j?(at=Kb(a,et),at!=null&&tt.unshift(tf(a,at,rt))):j||(at=Kb(a,et),at!=null&&tt.push(tf(a,at,rt)))),a=a.return}tt.length!==0&&o.push({event:i,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,a){if(i=zf(i),zf(o)!==i&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var a=i,s=0;do{var j=a.nextSibling;if(o.removeChild(a),j&&j.nodeType===8)if(a=j.data,a==="/$"){if(s===0){o.removeChild(j),bd(i);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=j}while(a);bd(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return o;i--}else a==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var i=o[Of];if(i)return i;for(var a=o.parentNode;a;){if(i=a[uf]||a[Of]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(o=Mf(o);o!==null;){if(a=o[Of])return a;o=Mf(o)}return i}o=a,a=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$1(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var a=o.type.contextTypes;if(!a)return Vf;var s=o.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===i)return s.__reactInternalMemoizedMaskedChildContext;var j={},et;for(et in a)j[et]=i[et];return s&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,i,a){if(H.current!==Vf)throw Error(p$1(168));G(H,i),G(Wf,a)}function bg(o,i,a){var s=o.stateNode;if(i=i.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var j in s)if(!(j in i))throw Error(p$1(108,Ra(o)||"Unknown",j));return A$1({},a,s)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,i,a){var s=o.stateNode;if(!s)throw Error(p$1(169));a?(o=bg(o,i,Xf),s.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C;try{var a=eg;for(C=1;o<a.length;o++){var s=a[o];do s=s(!0);while(s!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),j}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var s=rg;o=sg;var j=32-oc(s)-1;s&=~(1<<j),a+=1;var et=32-oc(i)+j;if(30<et){var tt=j-j%5;et=(s&(1<<tt)-1).toString(32),s>>=tt,j-=tt,rg=1<<32-oc(i)+j|a<<j|s,sg=et+o}else rg=1<<et|a<<j|s,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,i){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=o,i=o.deletions,i===null?(o.deletions=[a],o.flags|=16):i.push(a)}function Cg(o,i){switch(o.tag){case 5:var a=o.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=i,a.return=o,o.child=a,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var i=yg;if(i){var a=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$1(418));i=Lf(a.nextSibling);var s=xg;i&&Cg(o,i)?Ag(s,a):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$1(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$1(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$1(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,i){if(o&&o.defaultProps){i=A$1({},i),o=o.defaultProps;for(var a in o)i[a]===void 0&&(i[a]=o[a]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var i=Mg.current;E(Mg),o._currentValue=i}function Sg(o,i,a){for(;o!==null;){var s=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),o===a)break;o=o.return}}function Tg(o,i){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(Ug=!0),o.firstContext=null)}function Vg(o){var i=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return i}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,i,a,s){var j=i.interleaved;return j===null?(a.next=a,Xg(i)):(a.next=j.next,j.next=a),i.interleaved=a,Zg(o,s)}function Zg(o,i){o.lanes|=i;var a=o.alternate;for(a!==null&&(a.lanes|=i),a=o,o=o.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),a=o,o=o.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(o,i,a){var s=o.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var j=s.pending;return j===null?i.next=i:(i.next=j.next,j.next=i),s.pending=i,Zg(o,a)}return j=s.interleaved,j===null?(i.next=i,Xg(s)):(i.next=j.next,j.next=i),s.interleaved=i,Zg(o,a)}function eh(o,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var s=i.lanes;s&=o.pendingLanes,a|=s,i.lanes=a,Cc(o,a)}}function fh(o,i){var a=o.updateQueue,s=o.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var j=null,et=null;if(a=a.firstBaseUpdate,a!==null){do{var tt={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};et===null?j=et=tt:et=et.next=tt,a=a.next}while(a!==null);et===null?j=et=i:et=et.next=i}else j=et=i;a={baseState:s.baseState,firstBaseUpdate:j,lastBaseUpdate:et,shared:s.shared,effects:s.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=i:o.next=i,a.lastBaseUpdate=i}function gh(o,i,a,s){var j=o.updateQueue;$g=!1;var et=j.firstBaseUpdate,tt=j.lastBaseUpdate,rt=j.shared.pending;if(rt!==null){j.shared.pending=null;var at=rt,ot=at.next;at.next=null,tt===null?et=ot:tt.next=ot,tt=at;var st=o.alternate;st!==null&&(st=st.updateQueue,rt=st.lastBaseUpdate,rt!==tt&&(rt===null?st.firstBaseUpdate=ot:rt.next=ot,st.lastBaseUpdate=at))}if(et!==null){var _e=j.baseState;tt=0,st=ot=at=null,rt=et;do{var $=rt.lane,nt=rt.eventTime;if((s&$)===$){st!==null&&(st=st.next={eventTime:nt,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var it=o,lt=rt;switch($=i,nt=a,lt.tag){case 1:if(it=lt.payload,typeof it=="function"){_e=it.call(nt,_e,$);break e}_e=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=lt.payload,$=typeof it=="function"?it.call(nt,_e,$):it,$==null)break e;_e=A$1({},_e,$);break e;case 2:$g=!0}}rt.callback!==null&&rt.lane!==0&&(o.flags|=64,$=j.effects,$===null?j.effects=[rt]:$.push(rt))}else nt={eventTime:nt,lane:$,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},st===null?(ot=st=nt,at=_e):st=st.next=nt,tt|=$;if(rt=rt.next,rt===null){if(rt=j.shared.pending,rt===null)break;$=rt,rt=$.next,$.next=null,j.lastBaseUpdate=$,j.shared.pending=null}}while(1);if(st===null&&(at=_e),j.baseState=at,j.firstBaseUpdate=ot,j.lastBaseUpdate=st,i=j.shared.interleaved,i!==null){j=i;do tt|=j.lane,j=j.next;while(j!==i)}else et===null&&(j.shared.lanes=0);hh|=tt,o.lanes=tt,o.memoizedState=_e}}function ih(o,i,a){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var s=o[i],j=s.callback;if(j!==null){if(s.callback=null,s=a,typeof j!="function")throw Error(p$1(191,j));j.call(s)}}}var jh=new aa.Component().refs;function kh(o,i,a,s){i=o.memoizedState,a=a(s,i),a=a==null?i:A$1({},i,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,i,a){o=o._reactInternals;var s=L(),j=lh(o),et=ch(s,j);et.payload=i,a!=null&&(et.callback=a),i=dh(o,et,j),i!==null&&(mh(i,o,j,s),eh(i,o,j))},enqueueReplaceState:function(o,i,a){o=o._reactInternals;var s=L(),j=lh(o),et=ch(s,j);et.tag=1,et.payload=i,a!=null&&(et.callback=a),i=dh(o,et,j),i!==null&&(mh(i,o,j,s),eh(i,o,j))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var a=L(),s=lh(o),j=ch(a,s);j.tag=2,i!=null&&(j.callback=i),i=dh(o,j,s),i!==null&&(mh(i,o,s,a),eh(i,o,s))}};function oh(o,i,a,s,j,et,tt){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(s,et,tt):i.prototype&&i.prototype.isPureReactComponent?!Ie(a,s)||!Ie(j,et):!0}function ph(o,i,a){var s=!1,j=Vf,et=i.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(j=Zf(i)?Xf:H.current,s=i.contextTypes,et=(s=s!=null)?Yf(o,j):Vf),i=new i(a,et),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,o.stateNode=i,i._reactInternals=o,s&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=et),i}function qh(o,i,a,s){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==o&&nh.enqueueReplaceState(i,i.state,null)}function rh(o,i,a,s){var j=o.stateNode;j.props=a,j.state=o.memoizedState,j.refs=jh,ah(o);var et=i.contextType;typeof et=="object"&&et!==null?j.context=Vg(et):(et=Zf(i)?Xf:H.current,j.context=Yf(o,et)),j.state=o.memoizedState,et=i.getDerivedStateFromProps,typeof et=="function"&&(kh(o,i,et,a),j.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(i=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),i!==j.state&&nh.enqueueReplaceState(j,j.state,null),gh(o,a,j,s),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,i,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var s=a.stateNode}if(!s)throw Error(p$1(147,o));var j=s,et=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===et?i.ref:(i=function(tt){var rt=j.refs;rt===jh&&(rt=j.refs={}),tt===null?delete rt[et]:rt[et]=tt},i._stringRef=et,i)}if(typeof o!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,o))}return o}function th(o,i){throw o=Object.prototype.toString.call(i),Error(p$1(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function uh(o){var i=o._init;return i(o._payload)}function vh(o){function i(ft,pt){if(o){var ht=ft.deletions;ht===null?(ft.deletions=[pt],ft.flags|=16):ht.push(pt)}}function a(ft,pt){if(!o)return null;for(;pt!==null;)i(ft,pt),pt=pt.sibling;return null}function s(ft,pt){for(ft=new Map;pt!==null;)pt.key!==null?ft.set(pt.key,pt):ft.set(pt.index,pt),pt=pt.sibling;return ft}function j(ft,pt){return ft=wh(ft,pt),ft.index=0,ft.sibling=null,ft}function et(ft,pt,ht){return ft.index=ht,o?(ht=ft.alternate,ht!==null?(ht=ht.index,ht<pt?(ft.flags|=2,pt):ht):(ft.flags|=2,pt)):(ft.flags|=1048576,pt)}function tt(ft){return o&&ft.alternate===null&&(ft.flags|=2),ft}function rt(ft,pt,ht,gt){return pt===null||pt.tag!==6?(pt=xh(ht,ft.mode,gt),pt.return=ft,pt):(pt=j(pt,ht),pt.return=ft,pt)}function at(ft,pt,ht,gt){var mt=ht.type;return mt===ya?st(ft,pt,ht.props.children,gt,ht.key):pt!==null&&(pt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===pt.type)?(gt=j(pt,ht.props),gt.ref=sh(ft,pt,ht),gt.return=ft,gt):(gt=yh(ht.type,ht.key,ht.props,null,ft.mode,gt),gt.ref=sh(ft,pt,ht),gt.return=ft,gt)}function ot(ft,pt,ht,gt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==ht.containerInfo||pt.stateNode.implementation!==ht.implementation?(pt=zh(ht,ft.mode,gt),pt.return=ft,pt):(pt=j(pt,ht.children||[]),pt.return=ft,pt)}function st(ft,pt,ht,gt,mt){return pt===null||pt.tag!==7?(pt=Ah(ht,ft.mode,gt,mt),pt.return=ft,pt):(pt=j(pt,ht),pt.return=ft,pt)}function _e(ft,pt,ht){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return pt=xh(""+pt,ft.mode,ht),pt.return=ft,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return ht=yh(pt.type,pt.key,pt.props,null,ft.mode,ht),ht.ref=sh(ft,null,pt),ht.return=ft,ht;case wa:return pt=zh(pt,ft.mode,ht),pt.return=ft,pt;case Ha:var gt=pt._init;return _e(ft,gt(pt._payload),ht)}if(eb(pt)||Ka(pt))return pt=Ah(pt,ft.mode,ht,null),pt.return=ft,pt;th(ft,pt)}return null}function $(ft,pt,ht,gt){var mt=pt!==null?pt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return mt!==null?null:rt(ft,pt,""+ht,gt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ht.key===mt?at(ft,pt,ht,gt):null;case wa:return ht.key===mt?ot(ft,pt,ht,gt):null;case Ha:return mt=ht._init,$(ft,pt,mt(ht._payload),gt)}if(eb(ht)||Ka(ht))return mt!==null?null:st(ft,pt,ht,gt,null);th(ft,ht)}return null}function nt(ft,pt,ht,gt,mt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ft=ft.get(ht)||null,rt(pt,ft,""+gt,mt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return ft=ft.get(gt.key===null?ht:gt.key)||null,at(pt,ft,gt,mt);case wa:return ft=ft.get(gt.key===null?ht:gt.key)||null,ot(pt,ft,gt,mt);case Ha:var yt=gt._init;return nt(ft,pt,ht,yt(gt._payload),mt)}if(eb(gt)||Ka(gt))return ft=ft.get(ht)||null,st(pt,ft,gt,mt,null);th(pt,gt)}return null}function it(ft,pt,ht,gt){for(var mt=null,yt=null,bt=pt,_t=pt=0,xt=null;bt!==null&&_t<ht.length;_t++){bt.index>_t?(xt=bt,bt=null):xt=bt.sibling;var Et=$(ft,bt,ht[_t],gt);if(Et===null){bt===null&&(bt=xt);break}o&&bt&&Et.alternate===null&&i(ft,bt),pt=et(Et,pt,_t),yt===null?mt=Et:yt.sibling=Et,yt=Et,bt=xt}if(_t===ht.length)return a(ft,bt),I&&tg(ft,_t),mt;if(bt===null){for(;_t<ht.length;_t++)bt=_e(ft,ht[_t],gt),bt!==null&&(pt=et(bt,pt,_t),yt===null?mt=bt:yt.sibling=bt,yt=bt);return I&&tg(ft,_t),mt}for(bt=s(ft,bt);_t<ht.length;_t++)xt=nt(bt,ft,_t,ht[_t],gt),xt!==null&&(o&&xt.alternate!==null&&bt.delete(xt.key===null?_t:xt.key),pt=et(xt,pt,_t),yt===null?mt=xt:yt.sibling=xt,yt=xt);return o&&bt.forEach(function(Tt){return i(ft,Tt)}),I&&tg(ft,_t),mt}function lt(ft,pt,ht,gt){var mt=Ka(ht);if(typeof mt!="function")throw Error(p$1(150));if(ht=mt.call(ht),ht==null)throw Error(p$1(151));for(var yt=mt=null,bt=pt,_t=pt=0,xt=null,Et=ht.next();bt!==null&&!Et.done;_t++,Et=ht.next()){bt.index>_t?(xt=bt,bt=null):xt=bt.sibling;var Tt=$(ft,bt,Et.value,gt);if(Tt===null){bt===null&&(bt=xt);break}o&&bt&&Tt.alternate===null&&i(ft,bt),pt=et(Tt,pt,_t),yt===null?mt=Tt:yt.sibling=Tt,yt=Tt,bt=xt}if(Et.done)return a(ft,bt),I&&tg(ft,_t),mt;if(bt===null){for(;!Et.done;_t++,Et=ht.next())Et=_e(ft,Et.value,gt),Et!==null&&(pt=et(Et,pt,_t),yt===null?mt=Et:yt.sibling=Et,yt=Et);return I&&tg(ft,_t),mt}for(bt=s(ft,bt);!Et.done;_t++,Et=ht.next())Et=nt(bt,ft,_t,Et.value,gt),Et!==null&&(o&&Et.alternate!==null&&bt.delete(Et.key===null?_t:Et.key),pt=et(Et,pt,_t),yt===null?mt=Et:yt.sibling=Et,yt=Et);return o&&bt.forEach(function(Pt){return i(ft,Pt)}),I&&tg(ft,_t),mt}function dt(ft,pt,ht,gt){if(typeof ht=="object"&&ht!==null&&ht.type===ya&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:e:{for(var mt=ht.key,yt=pt;yt!==null;){if(yt.key===mt){if(mt=ht.type,mt===ya){if(yt.tag===7){a(ft,yt.sibling),pt=j(yt,ht.props.children),pt.return=ft,ft=pt;break e}}else if(yt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===yt.type){a(ft,yt.sibling),pt=j(yt,ht.props),pt.ref=sh(ft,yt,ht),pt.return=ft,ft=pt;break e}a(ft,yt);break}else i(ft,yt);yt=yt.sibling}ht.type===ya?(pt=Ah(ht.props.children,ft.mode,gt,ht.key),pt.return=ft,ft=pt):(gt=yh(ht.type,ht.key,ht.props,null,ft.mode,gt),gt.ref=sh(ft,pt,ht),gt.return=ft,ft=gt)}return tt(ft);case wa:e:{for(yt=ht.key;pt!==null;){if(pt.key===yt)if(pt.tag===4&&pt.stateNode.containerInfo===ht.containerInfo&&pt.stateNode.implementation===ht.implementation){a(ft,pt.sibling),pt=j(pt,ht.children||[]),pt.return=ft,ft=pt;break e}else{a(ft,pt);break}else i(ft,pt);pt=pt.sibling}pt=zh(ht,ft.mode,gt),pt.return=ft,ft=pt}return tt(ft);case Ha:return yt=ht._init,dt(ft,pt,yt(ht._payload),gt)}if(eb(ht))return it(ft,pt,ht,gt);if(Ka(ht))return lt(ft,pt,ht,gt);th(ft,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,pt!==null&&pt.tag===6?(a(ft,pt.sibling),pt=j(pt,ht),pt.return=ft,ft=pt):(a(ft,pt),pt=xh(ht,ft.mode,gt),pt.return=ft,ft=pt),tt(ft)):a(ft,pt)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$1(174));return o}function Ih(o,i){switch(G(Gh,i),G(Fh,o),G(Eh,Dh),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb(i,o)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var i=Hh(Eh.current),a=lb(i,o.type);i!==a&&(G(Fh,o),G(Eh,a))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var i=o;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(o,i){if(i===null)return!1;for(var a=0;a<i.length&&a<o.length;a++)if(!He(o[a],i[a]))return!1;return!0}function Xh(o,i,a,s,j,et){if(Rh=et,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=a(s,j),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$1(301));et+=1,P=O=null,i.updateQueue=null,Ph.current=$h,o=a(s,j)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p$1(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=o;else{if(o===null)throw Error(p$1(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,i){return typeof i=="function"?i(o):i}function fi(o){var i=di(),a=i.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=o;var s=O,j=s.baseQueue,et=a.pending;if(et!==null){if(j!==null){var tt=j.next;j.next=et.next,et.next=tt}s.baseQueue=j=et,a.pending=null}if(j!==null){et=j.next,s=s.baseState;var rt=tt=null,at=null,ot=et;do{var st=ot.lane;if((Rh&st)===st)at!==null&&(at=at.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),s=ot.hasEagerState?ot.eagerState:o(s,ot.action);else{var _e={lane:st,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};at===null?(rt=at=_e,tt=s):at=at.next=_e,N.lanes|=st,hh|=st}ot=ot.next}while(ot!==null&&ot!==et);at===null?tt=s:at.next=rt,He(s,i.memoizedState)||(Ug=!0),i.memoizedState=s,i.baseState=tt,i.baseQueue=at,a.lastRenderedState=s}if(o=a.interleaved,o!==null){j=o;do et=j.lane,N.lanes|=et,hh|=et,j=j.next;while(j!==o)}else j===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gi(o){var i=di(),a=i.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=o;var s=a.dispatch,j=a.pending,et=i.memoizedState;if(j!==null){a.pending=null;var tt=j=j.next;do et=o(et,tt.action),tt=tt.next;while(tt!==j);He(et,i.memoizedState)||(Ug=!0),i.memoizedState=et,i.baseQueue===null&&(i.baseState=et),a.lastRenderedState=et}return[et,s]}function hi(){}function ii(o,i){var a=N,s=di(),j=i(),et=!He(s.memoizedState,j);if(et&&(s.memoizedState=j,Ug=!0),s=s.queue,ji(ki.bind(null,a,s,o),[o]),s.getSnapshot!==i||et||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,s,j,i),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(a,i,j)}return j}function ni(o,i,a){o.flags|=16384,o={getSnapshot:i,value:a},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[o]):(a=i.stores,a===null?i.stores=[o]:a.push(o))}function mi(o,i,a,s){i.value=a,i.getSnapshot=s,oi(i)&&pi(o)}function ki(o,i,a){return a(function(){oi(i)&&pi(o)})}function oi(o){var i=o.getSnapshot;o=o.value;try{var a=i();return!He(o,a)}catch{return!0}}function pi(o){var i=Zg(o,1);i!==null&&mh(i,o,1,-1)}function qi(o){var i=ci();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},i.queue=o,o=o.dispatch=ri.bind(null,N,o),[i.memoizedState,o]}function li(o,i,a,s){return o={tag:o,create:i,destroy:a,deps:s,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=o.next=o):(a=i.lastEffect,a===null?i.lastEffect=o.next=o:(s=a.next,a.next=o,o.next=s,i.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,i,a,s){var j=ci();N.flags|=o,j.memoizedState=li(1|i,a,void 0,s===void 0?null:s)}function ui(o,i,a,s){var j=di();s=s===void 0?null:s;var et=void 0;if(O!==null){var tt=O.memoizedState;if(et=tt.destroy,s!==null&&Wh(s,tt.deps)){j.memoizedState=li(i,a,et,s);return}}N.flags|=o,j.memoizedState=li(1|i,a,et,s)}function vi(o,i){return ti(8390656,8,o,i)}function ji(o,i){return ui(2048,8,o,i)}function wi(o,i){return ui(4,2,o,i)}function xi(o,i){return ui(4,4,o,i)}function yi(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function zi(o,i,a){return a=a!=null?a.concat([o]):null,ui(4,4,yi.bind(null,i,o),a)}function Ai(){}function Bi(o,i){var a=di();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(a.memoizedState=[o,i],o)}function Ci(o,i){var a=di();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Wh(i,s[1])?s[0]:(o=o(),a.memoizedState=[o,i],o)}function Di(o,i,a){return Rh&21?(He(a,i)||(a=yc(),N.lanes|=a,hh|=a,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=a)}function Ei(o,i){var a=C;C=a!==0&&4>a?a:4,o(!0);var s=Qh.transition;Qh.transition={};try{o(!1),i()}finally{C=a,Qh.transition=s}}function Fi(){return di().memoizedState}function Gi(o,i,a){var s=lh(o);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(i,a);else if(a=Yg(o,i,a,s),a!==null){var j=L();mh(a,o,s,j),Ji(a,i,s)}}function ri(o,i,a){var s=lh(o),j={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(i,j);else{var et=o.alternate;if(o.lanes===0&&(et===null||et.lanes===0)&&(et=i.lastRenderedReducer,et!==null))try{var tt=i.lastRenderedState,rt=et(tt,a);if(j.hasEagerState=!0,j.eagerState=rt,He(rt,tt)){var at=i.interleaved;at===null?(j.next=j,Xg(i)):(j.next=at.next,at.next=j),i.interleaved=j;return}}catch{}finally{}a=Yg(o,i,j,s),a!==null&&(j=L(),mh(a,o,s,j),Ji(a,i,s))}}function Hi(o){var i=o.alternate;return o===N||i!==null&&i===N}function Ii(o,i){Th=Sh=!0;var a=o.pending;a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i}function Ji(o,i,a){if(a&4194240){var s=i.lanes;s&=o.pendingLanes,a|=s,i.lanes=a,Cc(o,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,i){return ci().memoizedState=[o,i===void 0?null:i],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,i,a){return a=a!=null?a.concat([o]):null,ti(4194308,4,yi.bind(null,i,o),a)},useLayoutEffect:function(o,i){return ti(4194308,4,o,i)},useInsertionEffect:function(o,i){return ti(4,2,o,i)},useMemo:function(o,i){var a=ci();return i=i===void 0?null:i,o=o(),a.memoizedState=[o,i],o},useReducer:function(o,i,a){var s=ci();return i=a!==void 0?a(i):i,s.memoizedState=s.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},s.queue=o,o=o.dispatch=Gi.bind(null,N,o),[s.memoizedState,o]},useRef:function(o){var i=ci();return o={current:o},i.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),i=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,a){var s=N,j=ci();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=i(),R===null)throw Error(p$1(349));Rh&30||ni(s,i,a)}j.memoizedState=a;var et={value:a,getSnapshot:i};return j.queue=et,vi(ki.bind(null,s,et,o),[o]),s.flags|=2048,li(9,mi.bind(null,s,et,a,i),void 0,null),a},useId:function(){var o=ci(),i=R.identifierPrefix;if(I){var a=sg,s=rg;a=(s&~(1<<32-oc(s)-1)).toString(32)+a,i=":"+i+"R"+a,a=Uh++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Vh++,i=":"+i+"r"+a.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return Di(i,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return O===null?i.memoizedState=o:Di(i,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,i){try{var a="",s=i;do a+=Pa(s),s=s.return;while(s);var j=a}catch(et){j=`
Error generating stack: `+et.message+`
`+et.stack}return{value:o,source:i,stack:j,digest:null}}function Li(o,i,a){return{value:o,source:null,stack:a??null,digest:i??null}}function Mi(o,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,i,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var s=i.value;return a.callback=function(){Pi||(Pi=!0,Qi=s),Mi(o,i)},a}function Ri(o,i,a){a=ch(-1,a),a.tag=3;var s=o.type.getDerivedStateFromError;if(typeof s=="function"){var j=i.value;a.payload=function(){return s(j)},a.callback=function(){Mi(o,i)}}var et=o.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(a.callback=function(){Mi(o,i),typeof s!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=i.stack;this.componentDidCatch(i.value,{componentStack:tt!==null?tt:""})}),a}function Ti(o,i,a){var s=o.pingCache;if(s===null){s=o.pingCache=new Ni;var j=new Set;s.set(i,j)}else j=s.get(i),j===void 0&&(j=new Set,s.set(i,j));j.has(a)||(j.add(a),o=Ui.bind(null,o,i,a),i.then(o,o))}function Vi(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Wi(o,i,a,s,j){return o.mode&1?(o.flags|=65536,o.lanes=j,o):(o===i?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ch(-1,1),i.tag=2,dh(a,i,1))),a.lanes|=1),o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,i,a,s){i.child=o===null?Ch(i,null,a,s):Bh(i,o.child,a,s)}function Zi(o,i,a,s,j){a=a.render;var et=i.ref;return Tg(i,j),s=Xh(o,i,a,s,et,j),a=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~j,$i(o,i,j)):(I&&a&&vg(i),i.flags|=1,Yi(o,i,s,j),i.child)}function aj(o,i,a,s,j){if(o===null){var et=a.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=et,cj(o,i,et,s,j)):(o=yh(a.type,null,s,i,i.mode,j),o.ref=i.ref,o.return=i,i.child=o)}if(et=o.child,!(o.lanes&j)){var tt=et.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(tt,s)&&o.ref===i.ref)return $i(o,i,j)}return i.flags|=1,o=wh(et,s),o.ref=i.ref,o.return=i,i.child=o}function cj(o,i,a,s,j){if(o!==null){var et=o.memoizedProps;if(Ie(et,s)&&o.ref===i.ref)if(Ug=!1,i.pendingProps=s=et,(o.lanes&j)!==0)o.flags&131072&&(Ug=!0);else return i.lanes=o.lanes,$i(o,i,j)}return dj(o,i,a,s,j)}function ej(o,i,a){var s=i.pendingProps,j=s.children,et=o!==null?o.memoizedState:null;if(s.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return o=et!==null?et.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=et!==null?et.baseLanes:a,G(fj,gj),gj|=s}else et!==null?(s=et.baseLanes|a,i.memoizedState=null):s=a,G(fj,gj),gj|=s;return Yi(o,i,j,a),i.child}function hj(o,i){var a=i.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function dj(o,i,a,s,j){var et=Zf(a)?Xf:H.current;return et=Yf(i,et),Tg(i,j),a=Xh(o,i,a,s,et,j),s=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~j,$i(o,i,j)):(I&&s&&vg(i),i.flags|=1,Yi(o,i,a,j),i.child)}function ij(o,i,a,s,j){if(Zf(a)){var et=!0;cg(i)}else et=!1;if(Tg(i,j),i.stateNode===null)jj(o,i),ph(i,a,s),rh(i,a,s,j),s=!0;else if(o===null){var tt=i.stateNode,rt=i.memoizedProps;tt.props=rt;var at=tt.context,ot=a.contextType;typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(a)?Xf:H.current,ot=Yf(i,ot));var st=a.getDerivedStateFromProps,_e=typeof st=="function"||typeof tt.getSnapshotBeforeUpdate=="function";_e||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==s||at!==ot)&&qh(i,tt,s,ot),$g=!1;var $=i.memoizedState;tt.state=$,gh(i,s,tt,j),at=i.memoizedState,rt!==s||$!==at||Wf.current||$g?(typeof st=="function"&&(kh(i,a,st,s),at=i.memoizedState),(rt=$g||oh(i,a,rt,s,$,at,ot))?(_e||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(i.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=at),tt.props=s,tt.state=at,tt.context=ot,s=rt):(typeof tt.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{tt=i.stateNode,bh(o,i),rt=i.memoizedProps,ot=i.type===i.elementType?rt:Lg(i.type,rt),tt.props=ot,_e=i.pendingProps,$=tt.context,at=a.contextType,typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(a)?Xf:H.current,at=Yf(i,at));var nt=a.getDerivedStateFromProps;(st=typeof nt=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==_e||$!==at)&&qh(i,tt,s,at),$g=!1,$=i.memoizedState,tt.state=$,gh(i,s,tt,j);var it=i.memoizedState;rt!==_e||$!==it||Wf.current||$g?(typeof nt=="function"&&(kh(i,a,nt,s),it=i.memoizedState),(ot=$g||oh(i,a,ot,s,$,it,at)||!1)?(st||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(s,it,at),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(s,it,at)),typeof tt.componentDidUpdate=="function"&&(i.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof tt.componentDidUpdate!="function"||rt===o.memoizedProps&&$===o.memoizedState||(i.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&$===o.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=it),tt.props=s,tt.state=it,tt.context=at,s=ot):(typeof tt.componentDidUpdate!="function"||rt===o.memoizedProps&&$===o.memoizedState||(i.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&$===o.memoizedState||(i.flags|=1024),s=!1)}return kj(o,i,a,s,et,j)}function kj(o,i,a,s,j,et){hj(o,i);var tt=(i.flags&128)!==0;if(!s&&!tt)return j&&dg(i,a,!1),$i(o,i,et);s=i.stateNode,Xi.current=i;var rt=tt&&typeof a.getDerivedStateFromError!="function"?null:s.render();return i.flags|=1,o!==null&&tt?(i.child=Bh(i,o.child,null,et),i.child=Bh(i,null,rt,et)):Yi(o,i,rt,et),i.memoizedState=s.state,j&&dg(i,a,!0),i.child}function lj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),Ih(o,i.containerInfo)}function mj(o,i,a,s,j){return Ig(),Jg(j),i.flags|=256,Yi(o,i,a,s),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,i,a){var s=i.pendingProps,j=M.current,et=!1,tt=(i.flags&128)!==0,rt;if((rt=tt)||(rt=o!==null&&o.memoizedState===null?!1:(j&2)!==0),rt?(et=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),G(M,j&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(tt=s.children,o=s.fallback,et?(s=i.mode,et=i.child,tt={mode:"hidden",children:tt},!(s&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=qj(tt,s,0,null),o=Ah(o,s,a,null),et.return=i,o.return=i,et.sibling=o,i.child=et,i.child.memoizedState=oj(a),i.memoizedState=nj,o):rj(i,tt));if(j=o.memoizedState,j!==null&&(rt=j.dehydrated,rt!==null))return sj(o,i,tt,s,rt,j,a);if(et){et=s.fallback,tt=i.mode,j=o.child,rt=j.sibling;var at={mode:"hidden",children:s.children};return!(tt&1)&&i.child!==j?(s=i.child,s.childLanes=0,s.pendingProps=at,i.deletions=null):(s=wh(j,at),s.subtreeFlags=j.subtreeFlags&14680064),rt!==null?et=wh(rt,et):(et=Ah(et,tt,a,null),et.flags|=2),et.return=i,s.return=i,s.sibling=et,i.child=s,s=et,et=i.child,tt=o.child.memoizedState,tt=tt===null?oj(a):{baseLanes:tt.baseLanes|a,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=o.childLanes&~a,i.memoizedState=nj,s}return et=o.child,o=et.sibling,s=wh(et,{mode:"visible",children:s.children}),!(i.mode&1)&&(s.lanes=a),s.return=i,s.sibling=null,o!==null&&(a=i.deletions,a===null?(i.deletions=[o],i.flags|=16):a.push(o)),i.child=s,i.memoizedState=null,s}function rj(o,i){return i=qj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function tj(o,i,a,s){return s!==null&&Jg(s),Bh(i,o.child,null,a),o=rj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function sj(o,i,a,s,j,et,tt){if(a)return i.flags&256?(i.flags&=-257,s=Li(Error(p$1(422))),tj(o,i,tt,s)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(et=s.fallback,j=i.mode,s=qj({mode:"visible",children:s.children},j,0,null),et=Ah(et,j,tt,null),et.flags|=2,s.return=i,et.return=i,s.sibling=et,i.child=s,i.mode&1&&Bh(i,o.child,null,tt),i.child.memoizedState=oj(tt),i.memoizedState=nj,et);if(!(i.mode&1))return tj(o,i,tt,null);if(j.data==="$!"){if(s=j.nextSibling&&j.nextSibling.dataset,s)var rt=s.dgst;return s=rt,et=Error(p$1(419)),s=Li(et,s,void 0),tj(o,i,tt,s)}if(rt=(tt&o.childLanes)!==0,Ug||rt){if(s=R,s!==null){switch(tt&-tt){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&(s.suspendedLanes|tt)?0:j,j!==0&&j!==et.retryLane&&(et.retryLane=j,Zg(o,j),mh(s,o,j,-1))}return uj(),s=Li(Error(p$1(421))),tj(o,i,tt,s)}return j.data==="$?"?(i.flags|=128,i.child=o.child,i=vj.bind(null,o),j._reactRetry=i,null):(o=et.treeContext,yg=Lf(j.nextSibling),xg=i,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=rj(i,s.children),i.flags|=4096,i)}function wj(o,i,a){o.lanes|=i;var s=o.alternate;s!==null&&(s.lanes|=i),Sg(o.return,i,a)}function xj(o,i,a,s,j){var et=o.memoizedState;et===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:j}:(et.isBackwards=i,et.rendering=null,et.renderingStartTime=0,et.last=s,et.tail=a,et.tailMode=j)}function yj(o,i,a){var s=i.pendingProps,j=s.revealOrder,et=s.tail;if(Yi(o,i,s.children,a),s=M.current,s&2)s=s&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,a,i);else if(o.tag===19)wj(o,a,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}s&=1}if(G(M,s),!(i.mode&1))i.memoizedState=null;else switch(j){case"forwards":for(a=i.child,j=null;a!==null;)o=a.alternate,o!==null&&Mh(o)===null&&(j=a),a=a.sibling;a=j,a===null?(j=i.child,i.child=null):(j=a.sibling,a.sibling=null),xj(i,!1,j,a,et);break;case"backwards":for(a=null,j=i.child,i.child=null;j!==null;){if(o=j.alternate,o!==null&&Mh(o)===null){i.child=j;break}o=j.sibling,j.sibling=a,a=j,j=o}xj(i,!0,a,null,et);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function $i(o,i,a){if(o!==null&&(i.dependencies=o.dependencies),hh|=i.lanes,!(a&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$1(153));if(i.child!==null){for(o=i.child,a=wh(o,o.pendingProps),i.child=a,a.return=i;o.sibling!==null;)o=o.sibling,a=a.sibling=wh(o,o.pendingProps),a.return=i;a.sibling=null}return i.child}function zj(o,i,a){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var s=i.type._context,j=i.memoizedProps.value;G(Mg,s._currentValue),s._currentValue=j;break;case 13:if(s=i.memoizedState,s!==null)return s.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):a&i.child.childLanes?pj(o,i,a):(G(M,M.current&1),o=$i(o,i,a),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if(s=(a&i.childLanes)!==0,o.flags&128){if(s)return yj(o,i,a);i.flags|=128}if(j=i.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(M,M.current),s)break;return null;case 22:case 23:return i.lanes=0,ej(o,i,a)}return $i(o,i,a)}var Aj,Bj,Cj,Dj;Aj=function(o,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(o,i,a,s){var j=o.memoizedProps;if(j!==s){o=i.stateNode,Hh(Eh.current);var et=null;switch(a){case"input":j=Ya(o,j),s=Ya(o,s),et=[];break;case"select":j=A$1({},j,{value:void 0}),s=A$1({},s,{value:void 0}),et=[];break;case"textarea":j=gb(o,j),s=gb(o,s),et=[];break;default:typeof j.onClick!="function"&&typeof s.onClick=="function"&&(o.onclick=Bf)}ub(a,s);var tt;a=null;for(ot in j)if(!s.hasOwnProperty(ot)&&j.hasOwnProperty(ot)&&j[ot]!=null)if(ot==="style"){var rt=j[ot];for(tt in rt)rt.hasOwnProperty(tt)&&(a||(a={}),a[tt]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?et||(et=[]):(et=et||[]).push(ot,null));for(ot in s){var at=s[ot];if(rt=j!=null?j[ot]:void 0,s.hasOwnProperty(ot)&&at!==rt&&(at!=null||rt!=null))if(ot==="style")if(rt){for(tt in rt)!rt.hasOwnProperty(tt)||at&&at.hasOwnProperty(tt)||(a||(a={}),a[tt]="");for(tt in at)at.hasOwnProperty(tt)&&rt[tt]!==at[tt]&&(a||(a={}),a[tt]=at[tt])}else a||(et||(et=[]),et.push(ot,a)),a=at;else ot==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,rt=rt?rt.__html:void 0,at!=null&&rt!==at&&(et=et||[]).push(ot,at)):ot==="children"?typeof at!="string"&&typeof at!="number"||(et=et||[]).push(ot,""+at):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(at!=null&&ot==="onScroll"&&D("scroll",o),et||rt===at||(et=[])):(et=et||[]).push(ot,at))}a&&(et=et||[]).push("style",a);var ot=et;(i.updateQueue=ot)&&(i.flags|=4)}};Dj=function(o,i,a,s){a!==s&&(i.flags|=4)};function Ej(o,i){if(!I)switch(o.tailMode){case"hidden":i=o.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:s.sibling=null}}function S(o){var i=o.alternate!==null&&o.alternate.child===o.child,a=0,s=0;if(i)for(var j=o.child;j!==null;)a|=j.lanes|j.childLanes,s|=j.subtreeFlags&14680064,s|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)a|=j.lanes|j.childLanes,s|=j.subtreeFlags,s|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=s,o.childLanes=a,i}function Fj(o,i,a){var s=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return s=i.stateNode,Jh(),E(Wf),E(H),Oh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,i),S(i),null;case 5:Lh(i);var j=Hh(Gh.current);if(a=i.type,o!==null&&i.stateNode!=null)Cj(o,i,a,s,j),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!s){if(i.stateNode===null)throw Error(p$1(166));return S(i),null}if(o=Hh(Eh.current),Gg(i)){s=i.stateNode,a=i.type;var et=i.memoizedProps;switch(s[Of]=i,s[Pf]=et,o=(i.mode&1)!==0,a){case"dialog":D("cancel",s),D("close",s);break;case"iframe":case"object":case"embed":D("load",s);break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],s);break;case"source":D("error",s);break;case"img":case"image":case"link":D("error",s),D("load",s);break;case"details":D("toggle",s);break;case"input":Za(s,et),D("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!et.multiple},D("invalid",s);break;case"textarea":hb(s,et),D("invalid",s)}ub(a,et),j=null;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=et[tt];tt==="children"?typeof rt=="string"?s.textContent!==rt&&(et.suppressHydrationWarning!==!0&&Af(s.textContent,rt,o),j=["children",rt]):typeof rt=="number"&&s.textContent!==""+rt&&(et.suppressHydrationWarning!==!0&&Af(s.textContent,rt,o),j=["children",""+rt]):ea.hasOwnProperty(tt)&&rt!=null&&tt==="onScroll"&&D("scroll",s)}switch(a){case"input":Va(s),db(s,et,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(s.onclick=Bf)}s=j,i.updateQueue=s,s!==null&&(i.flags|=4)}else{tt=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=tt.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof s.is=="string"?o=tt.createElement(a,{is:s.is}):(o=tt.createElement(a),a==="select"&&(tt=o,s.multiple?tt.multiple=!0:s.size&&(tt.size=s.size))):o=tt.createElementNS(o,a),o[Of]=i,o[Pf]=s,Aj(o,i,!1,!1),i.stateNode=o;e:{switch(tt=vb(a,s),a){case"dialog":D("cancel",o),D("close",o),j=s;break;case"iframe":case"object":case"embed":D("load",o),j=s;break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],o);j=s;break;case"source":D("error",o),j=s;break;case"img":case"image":case"link":D("error",o),D("load",o),j=s;break;case"details":D("toggle",o),j=s;break;case"input":Za(o,s),j=Ya(o,s),D("invalid",o);break;case"option":j=s;break;case"select":o._wrapperState={wasMultiple:!!s.multiple},j=A$1({},s,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,s),j=gb(o,s),D("invalid",o);break;default:j=s}ub(a,j),rt=j;for(et in rt)if(rt.hasOwnProperty(et)){var at=rt[et];et==="style"?sb(o,at):et==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb(o,at)):et==="children"?typeof at=="string"?(a!=="textarea"||at!=="")&&ob(o,at):typeof at=="number"&&ob(o,""+at):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?at!=null&&et==="onScroll"&&D("scroll",o):at!=null&&ta(o,et,at,tt))}switch(a){case"input":Va(o),db(o,s,!1);break;case"textarea":Va(o),jb(o);break;case"option":s.value!=null&&o.setAttribute("value",""+Sa(s.value));break;case"select":o.multiple=!!s.multiple,et=s.value,et!=null?fb(o,!!s.multiple,et,!1):s.defaultValue!=null&&fb(o,!!s.multiple,s.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(o&&i.stateNode!=null)Dj(o,i,o.memoizedProps,s);else{if(typeof s!="string"&&i.stateNode===null)throw Error(p$1(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(s=i.stateNode,a=i.memoizedProps,s[Of]=i,(et=s.nodeValue!==a)&&(o=xg,o!==null))switch(o.tag){case 3:Af(s.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(s.nodeValue,a,(o.mode&1)!==0)}et&&(i.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[Of]=i,i.stateNode=s}return S(i),null;case 13:if(E(M),s=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,et=!1;else if(et=Gg(i),s!==null&&s.dehydrated!==null){if(o===null){if(!et)throw Error(p$1(318));if(et=i.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(s=s!==null,s!==(o!==null&&o.memoizedState!==null)&&s&&(i.child.flags|=8192,i.mode&1&&(o===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(o,i),o===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),et=i.memoizedState,et===null)return S(i),null;if(s=(i.flags&128)!==0,tt=et.rendering,tt===null)if(s)Ej(et,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(tt=Mh(o),tt!==null){for(i.flags|=128,Ej(et,!1),s=tt.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),i.subtreeFlags=0,s=a,a=i.child;a!==null;)et=a,o=s,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=o,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,o=tt.dependencies,et.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return G(M,M.current&1|2),i.child}o=o.sibling}et.tail!==null&&B()>Hj&&(i.flags|=128,s=!0,Ej(et,!1),i.lanes=4194304)}else{if(!s)if(o=Mh(tt),o!==null){if(i.flags|=128,s=!0,a=o.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I)return S(i),null}else 2*B()-et.renderingStartTime>Hj&&a!==1073741824&&(i.flags|=128,s=!0,Ej(et,!1),i.lanes=4194304);et.isBackwards?(tt.sibling=i.child,i.child=tt):(a=et.last,a!==null?a.sibling=tt:i.child=tt,et.last=tt)}return et.tail!==null?(i=et.tail,et.rendering=i,et.tail=i.sibling,et.renderingStartTime=B(),i.sibling=null,a=M.current,G(M,s?a&1|2:a&1),i):(S(i),null);case 22:case 23:return Ij(),s=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==s&&(i.flags|=8192),s&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Jj(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,i){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){W(o,i,s)}else a.current=null}function Nj(o,i,a){try{a()}catch(s){W(o,i,s)}}var Oj=!1;function Pj(o,i){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var j=s.anchorOffset,et=s.focusNode;s=s.focusOffset;try{a.nodeType,et.nodeType}catch{a=null;break e}var tt=0,rt=-1,at=-1,ot=0,st=0,_e=o,$=null;t:for(;;){for(var nt;_e!==a||j!==0&&_e.nodeType!==3||(rt=tt+j),_e!==et||s!==0&&_e.nodeType!==3||(at=tt+s),_e.nodeType===3&&(tt+=_e.nodeValue.length),(nt=_e.firstChild)!==null;)$=_e,_e=nt;for(;;){if(_e===o)break t;if($===a&&++ot===j&&(rt=tt),$===et&&++st===s&&(at=tt),(nt=_e.nextSibling)!==null)break;_e=$,$=_e.parentNode}_e=nt}a=rt===-1||at===-1?null:{start:rt,end:at}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:o,selectionRange:a},dd=!1,V=i;V!==null;)if(i=V,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V=o;else for(;V!==null;){i=V;try{var it=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var lt=it.memoizedProps,dt=it.memoizedState,ft=i.stateNode,pt=ft.getSnapshotBeforeUpdate(i.elementType===i.type?lt:Lg(i.type,lt),dt);ft.__reactInternalSnapshotBeforeUpdate=pt}break;case 3:var ht=i.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(gt){W(i,i.return,gt)}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}return it=Oj,Oj=!1,it}function Qj(o,i,a){var s=i.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var j=s=s.next;do{if((j.tag&o)===o){var et=j.destroy;j.destroy=void 0,et!==void 0&&Nj(i,a,et)}j=j.next}while(j!==s)}}function Rj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&o)===o){var s=a.create;a.destroy=s()}a=a.next}while(a!==i)}}function Sj(o){var i=o.ref;if(i!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof i=="function"?i(o):i.current=o}}function Tj(o){var i=o.alternate;i!==null&&(o.alternate=null,Tj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,i,a){var s=o.tag;if(s===5||s===6)o=o.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(o,i):a.insertBefore(o,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(o,a)):(i=a,i.appendChild(o)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bf));else if(s!==4&&(o=o.child,o!==null))for(Wj(o,i,a),o=o.sibling;o!==null;)Wj(o,i,a),o=o.sibling}function Xj(o,i,a){var s=o.tag;if(s===5||s===6)o=o.stateNode,i?a.insertBefore(o,i):a.appendChild(o);else if(s!==4&&(o=o.child,o!==null))for(Xj(o,i,a),o=o.sibling;o!==null;)Xj(o,i,a),o=o.sibling}var X=null,Yj=!1;function Zj(o,i,a){for(a=a.child;a!==null;)ak(o,i,a),a=a.sibling}function ak(o,i,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,i);case 6:var s=X,j=Yj;X=null,Zj(o,i,a),X=s,Yj=j,X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?Kf(o.parentNode,a):o.nodeType===1&&Kf(o,a),bd(o)):Kf(X,a.stateNode));break;case 4:s=X,j=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(o,i,a),X=s,Yj=j;break;case 0:case 11:case 14:case 15:if(!U&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){j=s=s.next;do{var et=j,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Nj(a,i,tt),j=j.next}while(j!==s)}Zj(o,i,a);break;case 1:if(!U&&(Mj(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(rt){W(a,i,rt)}Zj(o,i,a);break;case 21:Zj(o,i,a);break;case 22:a.mode&1?(U=(s=U)||a.memoizedState!==null,Zj(o,i,a),U=s):Zj(o,i,a);break;default:Zj(o,i,a)}}function bk(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new Lj),i.forEach(function(s){var j=ck.bind(null,o,s);a.has(s)||(a.add(s),s.then(j,j))})}}function dk(o,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var j=a[s];try{var et=o,tt=i,rt=tt;e:for(;rt!==null;){switch(rt.tag){case 5:X=rt.stateNode,Yj=!1;break e;case 3:X=rt.stateNode.containerInfo,Yj=!0;break e;case 4:X=rt.stateNode.containerInfo,Yj=!0;break e}rt=rt.return}if(X===null)throw Error(p$1(160));ak(et,tt,j),X=null,Yj=!1;var at=j.alternate;at!==null&&(at.return=null),j.return=null}catch(ot){W(j,i,ot)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,o),i=i.sibling}function ek(o,i){var a=o.alternate,s=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(i,o),fk(o),s&4){try{Qj(3,o,o.return),Rj(3,o)}catch(lt){W(o,o.return,lt)}try{Qj(5,o,o.return)}catch(lt){W(o,o.return,lt)}}break;case 1:dk(i,o),fk(o),s&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(i,o),fk(o),s&512&&a!==null&&Mj(a,a.return),o.flags&32){var j=o.stateNode;try{ob(j,"")}catch(lt){W(o,o.return,lt)}}if(s&4&&(j=o.stateNode,j!=null)){var et=o.memoizedProps,tt=a!==null?a.memoizedProps:et,rt=o.type,at=o.updateQueue;if(o.updateQueue=null,at!==null)try{rt==="input"&&et.type==="radio"&&et.name!=null&&ab(j,et),vb(rt,tt);var ot=vb(rt,et);for(tt=0;tt<at.length;tt+=2){var st=at[tt],_e=at[tt+1];st==="style"?sb(j,_e):st==="dangerouslySetInnerHTML"?nb(j,_e):st==="children"?ob(j,_e):ta(j,st,_e,ot)}switch(rt){case"input":bb(j,et);break;case"textarea":ib(j,et);break;case"select":var $=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!et.multiple;var nt=et.value;nt!=null?fb(j,!!et.multiple,nt,!1):$!==!!et.multiple&&(et.defaultValue!=null?fb(j,!!et.multiple,et.defaultValue,!0):fb(j,!!et.multiple,et.multiple?[]:"",!1))}j[Pf]=et}catch(lt){W(o,o.return,lt)}}break;case 6:if(dk(i,o),fk(o),s&4){if(o.stateNode===null)throw Error(p$1(162));j=o.stateNode,et=o.memoizedProps;try{j.nodeValue=et}catch(lt){W(o,o.return,lt)}}break;case 3:if(dk(i,o),fk(o),s&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(lt){W(o,o.return,lt)}break;case 4:dk(i,o),fk(o);break;case 13:dk(i,o),fk(o),j=o.child,j.flags&8192&&(et=j.memoizedState!==null,j.stateNode.isHidden=et,!et||j.alternate!==null&&j.alternate.memoizedState!==null||(gk=B())),s&4&&bk(o);break;case 22:if(st=a!==null&&a.memoizedState!==null,o.mode&1?(U=(ot=U)||st,dk(i,o),U=ot):dk(i,o),fk(o),s&8192){if(ot=o.memoizedState!==null,(o.stateNode.isHidden=ot)&&!st&&o.mode&1)for(V=o,st=o.child;st!==null;){for(_e=V=st;V!==null;){switch($=V,nt=$.child,$.tag){case 0:case 11:case 14:case 15:Qj(4,$,$.return);break;case 1:Mj($,$.return);var it=$.stateNode;if(typeof it.componentWillUnmount=="function"){s=$,a=$.return;try{i=s,it.props=i.memoizedProps,it.state=i.memoizedState,it.componentWillUnmount()}catch(lt){W(s,a,lt)}}break;case 5:Mj($,$.return);break;case 22:if($.memoizedState!==null){hk(_e);continue}}nt!==null?(nt.return=$,V=nt):hk(_e)}st=st.sibling}e:for(st=null,_e=o;;){if(_e.tag===5){if(st===null){st=_e;try{j=_e.stateNode,ot?(et=j.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(rt=_e.stateNode,at=_e.memoizedProps.style,tt=at!=null&&at.hasOwnProperty("display")?at.display:null,rt.style.display=rb("display",tt))}catch(lt){W(o,o.return,lt)}}}else if(_e.tag===6){if(st===null)try{_e.stateNode.nodeValue=ot?"":_e.memoizedProps}catch(lt){W(o,o.return,lt)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===o)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===o)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===o)break e;st===_e&&(st=null),_e=_e.return}st===_e&&(st=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:dk(i,o),fk(o),s&4&&bk(o);break;case 21:break;default:dk(i,o),fk(o)}}function fk(o){var i=o.flags;if(i&2){try{e:{for(var a=o.return;a!==null;){if(Uj(a)){var s=a;break e}a=a.return}throw Error(p$1(160))}switch(s.tag){case 5:var j=s.stateNode;s.flags&32&&(ob(j,""),s.flags&=-33);var et=Vj(o);Xj(o,et,j);break;case 3:case 4:var tt=s.stateNode.containerInfo,rt=Vj(o);Wj(o,rt,tt);break;default:throw Error(p$1(161))}}catch(at){W(o,o.return,at)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function ik(o,i,a){V=o,jk(o)}function jk(o,i,a){for(var s=(o.mode&1)!==0;V!==null;){var j=V,et=j.child;if(j.tag===22&&s){var tt=j.memoizedState!==null||Kj;if(!tt){var rt=j.alternate,at=rt!==null&&rt.memoizedState!==null||U;rt=Kj;var ot=U;if(Kj=tt,(U=at)&&!ot)for(V=j;V!==null;)tt=V,at=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(j):at!==null?(at.return=tt,V=at):kk(j);for(;et!==null;)V=et,jk(et),et=et.sibling;V=j,Kj=rt,U=ot}lk(o)}else j.subtreeFlags&8772&&et!==null?(et.return=j,V=et):lk(o)}}function lk(o){for(;V!==null;){var i=V;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var s=i.stateNode;if(i.flags&4&&!U)if(a===null)s.componentDidMount();else{var j=i.elementType===i.type?a.memoizedProps:Lg(i.type,a.memoizedProps);s.componentDidUpdate(j,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var et=i.updateQueue;et!==null&&ih(i,et,s);break;case 3:var tt=i.updateQueue;if(tt!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}ih(i,tt,a)}break;case 5:var rt=i.stateNode;if(a===null&&i.flags&4){a=rt;var at=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&a.focus();break;case"img":at.src&&(a.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ot=i.alternate;if(ot!==null){var st=ot.memoizedState;if(st!==null){var _e=st.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||i.flags&512&&Sj(i)}catch($){W(i,i.return,$)}}if(i===o){V=null;break}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}}function hk(o){for(;V!==null;){var i=V;if(i===o){V=null;break}var a=i.sibling;if(a!==null){a.return=i.return,V=a;break}V=i.return}}function kk(o){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Rj(4,i)}catch(at){W(i,a,at)}break;case 1:var s=i.stateNode;if(typeof s.componentDidMount=="function"){var j=i.return;try{s.componentDidMount()}catch(at){W(i,j,at)}}var et=i.return;try{Sj(i)}catch(at){W(i,et,at)}break;case 5:var tt=i.return;try{Sj(i)}catch(at){W(i,tt,at)}}}catch(at){W(i,i.return,at)}if(i===o){V=null;break}var rt=i.sibling;if(rt!==null){rt.return=i.return,V=rt;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function mh(o,i,a,s){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(o,a,s),(!(K&2)||o!==R)&&(o===R&&(!(K&2)&&(rk|=a),T===4&&Dk(o,Z)),Ek(o,s),a===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(o,i){var a=o.callbackNode;wc(o,i);var s=uc(o,o===R?Z:0);if(s===0)a!==null&&bc(a),o.callbackNode=null,o.callbackPriority=0;else if(i=s&-s,o.callbackPriority!==i){if(a!=null&&bc(a),i===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(s)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,o))}o.callbackPriority=i,o.callbackNode=a}}function Hk(o,i){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var a=o.callbackNode;if(Ik()&&o.callbackNode!==a)return null;var s=uc(o,o===R?Z:0);if(s===0)return null;if(s&30||s&o.expiredLanes||i)i=Jk(o,s);else{i=s;var j=K;K|=2;var et=Kk();(R!==o||Z!==i)&&(vk=null,Hj=B()+500,Lk(o,i));do try{Mk();break}catch(rt){Nk(o,rt)}while(1);Qg(),nk.current=et,K=j,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&(j=xc(o),j!==0&&(s=j,i=Ok(o,j))),i===1)throw a=qk,Lk(o,0),Dk(o,s),Ek(o,B()),a;if(i===6)Dk(o,s);else{if(j=o.current.alternate,!(s&30)&&!Pk(j)&&(i=Jk(o,s),i===2&&(et=xc(o),et!==0&&(s=et,i=Ok(o,et))),i===1))throw a=qk,Lk(o,0),Dk(o,s),Ek(o,B()),a;switch(o.finishedWork=j,o.finishedLanes=s,i){case 0:case 1:throw Error(p$1(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,s),(s&130023424)===s&&(i=gk+500-B(),10<i)){if(uc(o,0)!==0)break;if(j=o.suspendedLanes,(j&s)!==s){L(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),i);break}Qk(o,uk,vk);break;case 4:if(Dk(o,s),(s&4194240)===s)break;for(i=o.eventTimes,j=-1;0<s;){var tt=31-oc(s);et=1<<tt,tt=i[tt],tt>j&&(j=tt),s&=~et}if(s=j,s=B()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*mk(s/1960))-s,10<s){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(o,B()),o.callbackNode===a?Hk.bind(null,o):null}function Ok(o,i){var a=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,i).flags|=256),o=Jk(o,i),o!==2&&(i=uk,uk=a,i!==null&&Gj(i)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var i=o;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var j=a[s],et=j.getSnapshot;j=j.value;try{if(!He(et(),j))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(o,i){for(i&=~sk,i&=~rk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var a=31-oc(i),s=1<<a;o[a]=-1,i&=~s}}function Fk(o){if(K&6)throw Error(p$1(327));Ik();var i=uc(o,0);if(!(i&1))return Ek(o,B()),null;var a=Jk(o,i);if(o.tag!==0&&a===2){var s=xc(o);s!==0&&(i=s,a=Ok(o,s))}if(a===1)throw a=qk,Lk(o,0),Dk(o,i),Ek(o,B()),a;if(a===6)throw Error(p$1(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,i){var a=K;K|=1;try{return o(i)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var a=pk.transition,s=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=s,pk.transition=a,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,i){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var s=a;switch(wg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(s);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(s.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=o,Y=o=wh(o.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(a=Wg[i],s=a.interleaved,s!==null){a.interleaved=null;var j=s.next,et=a.pending;if(et!==null){var tt=et.next;et.next=j,s.next=tt}a.pending=s}Wg=null}return o}function Nk(o,i){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var s=N.memoizedState;s!==null;){var j=s.queue;j!==null&&(j.pending=null),s=s.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=i,Y=null;break}e:{var et=o,tt=a.return,rt=a,at=i;if(i=Z,rt.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ot=at,st=rt,_e=st.tag;if(!(st.mode&1)&&(_e===0||_e===11||_e===15)){var $=st.alternate;$?(st.updateQueue=$.updateQueue,st.memoizedState=$.memoizedState,st.lanes=$.lanes):(st.updateQueue=null,st.memoizedState=null)}var nt=Vi(tt);if(nt!==null){nt.flags&=-257,Wi(nt,tt,rt,et,i),nt.mode&1&&Ti(et,ot,i),i=nt,at=ot;var it=i.updateQueue;if(it===null){var lt=new Set;lt.add(at),i.updateQueue=lt}else it.add(at);break e}else{if(!(i&1)){Ti(et,ot,i),uj();break e}at=Error(p$1(426))}}else if(I&&rt.mode&1){var dt=Vi(tt);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,tt,rt,et,i),Jg(Ki(at,rt));break e}}et=at=Ki(at,rt),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,i&=-i,et.lanes|=i;var ft=Oi(et,at,i);fh(et,ft);break e;case 1:rt=at;var pt=et.type,ht=et.stateNode;if(!(et.flags&128)&&(typeof pt.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Si===null||!Si.has(ht)))){et.flags|=65536,i&=-i,et.lanes|=i;var gt=Ri(et,rt,i);fh(et,gt);break e}}et=et.return}while(et!==null)}Tk(a)}catch(mt){i=mt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(o,i){var a=K;K|=2;var s=Kk();(R!==o||Z!==i)&&(vk=null,Lk(o,i));do try{Uk();break}catch(j){Nk(o,j)}while(1);if(Qg(),K=a,nk.current=s,Y!==null)throw Error(p$1(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(o){var i=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,i===null?Tk(o):Y=i,ok.current=null}function Tk(o){var i=o;do{var a=i.alternate;if(o=i.return,i.flags&32768){if(a=Jj(a,i),a!==null){a.flags&=32767,Y=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,i,gj),a!==null){Y=a;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=o}while(i!==null);T===0&&(T=5)}function Qk(o,i,a){var s=C,j=pk.transition;try{pk.transition=null,C=1,Xk(o,i,a,s)}finally{pk.transition=j,C=s}return null}function Xk(o,i,a,s){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));a=o.finishedWork;var j=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(p$1(177));o.callbackNode=null,o.callbackPriority=0;var et=a.lanes|a.childLanes;if(Bc(o,et),o===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(a.flags&15990)!==0,a.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var tt=C;C=1;var rt=K;K|=4,ok.current=null,Pj(o,a),ek(a,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=a,ik(a),dc(),K=rt,C=tt,pk.transition=et}else o.current=a;if(wk&&(wk=!1,xk=o,yk=j),et=o.pendingLanes,et===0&&(Si=null),mc(a.stateNode),Ek(o,B()),i!==null)for(s=o.onRecoverableError,a=0;a<i.length;a++)j=i[a],s(j.value,{componentStack:j.stack,digest:j.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),et=o.pendingLanes,et&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),i=pk.transition,a=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var s=!1;else{if(o=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var j=K;for(K|=4,V=o.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var rt=et.deletions;if(rt!==null){for(var at=0;at<rt.length;at++){var ot=rt[at];for(V=ot;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Qj(8,st,et)}var _e=st.child;if(_e!==null)_e.return=st,V=_e;else for(;V!==null;){st=V;var $=st.sibling,nt=st.return;if(Tj(st),st===ot){V=null;break}if($!==null){$.return=nt,V=$;break}V=nt}}}var it=et.alternate;if(it!==null){var lt=it.child;if(lt!==null){it.child=null;do{var dt=lt.sibling;lt.sibling=null,lt=dt}while(lt!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var ft=et.sibling;if(ft!==null){ft.return=et.return,V=ft;break e}V=et.return}}var pt=o.current;for(V=pt;V!==null;){tt=V;var ht=tt.child;if(tt.subtreeFlags&2064&&ht!==null)ht.return=tt,V=ht;else e:for(tt=pt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Rj(9,rt)}}catch(mt){W(rt,rt.return,mt)}if(rt===tt){V=null;break e}var gt=rt.sibling;if(gt!==null){gt.return=rt.return,V=gt;break e}V=rt.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}s=!0}return s}finally{C=a,pk.transition=i}}return!1}function Yk(o,i,a){i=Ki(a,i),i=Oi(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i))}function W(o,i,a){if(o.tag===3)Yk(o,o,a);else for(;i!==null;){if(i.tag===3){Yk(i,o,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Si===null||!Si.has(s))){o=Ki(a,o),o=Ri(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o));break}}i=i.return}}function Ui(o,i,a){var s=o.pingCache;s!==null&&s.delete(i),i=L(),o.pingedLanes|=o.suspendedLanes&a,R===o&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(o,0):sk|=a),Ek(o,i)}function Zk(o,i){i===0&&(o.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var a=L();o=Zg(o,i),o!==null&&(Ac(o,i,a),Ek(o,a))}function vj(o){var i=o.memoizedState,a=0;i!==null&&(a=i.retryLane),Zk(o,a)}function ck(o,i){var a=0;switch(o.tag){case 13:var s=o.stateNode,j=o.memoizedState;j!==null&&(a=j.retryLane);break;case 19:s=o.stateNode;break;default:throw Error(p$1(314))}s!==null&&s.delete(i),Zk(o,a)}var Wk;Wk=function(o,i,a){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&a)&&!(i.flags&128))return Ug=!1,zj(o,i,a);Ug=!!(o.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var s=i.type;jj(o,i),o=i.pendingProps;var j=Yf(i,H.current);Tg(i,a),j=Xh(null,i,s,o,j,a);var et=bi();return i.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(s)?(et=!0,cg(i)):et=!1,i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ah(i),j.updater=nh,i.stateNode=j,j._reactInternals=i,rh(i,s,o,a),i=kj(null,i,s,!0,et,a)):(i.tag=0,I&&et&&vg(i),Yi(null,i,j,a),i=i.child),i;case 16:s=i.elementType;e:{switch(jj(o,i),o=i.pendingProps,j=s._init,s=j(s._payload),i.type=s,j=i.tag=$k(s),o=Lg(s,o),j){case 0:i=dj(null,i,s,o,a);break e;case 1:i=ij(null,i,s,o,a);break e;case 11:i=Zi(null,i,s,o,a);break e;case 14:i=aj(null,i,s,Lg(s.type,o),a);break e}throw Error(p$1(306,s,""))}return i;case 0:return s=i.type,j=i.pendingProps,j=i.elementType===s?j:Lg(s,j),dj(o,i,s,j,a);case 1:return s=i.type,j=i.pendingProps,j=i.elementType===s?j:Lg(s,j),ij(o,i,s,j,a);case 3:e:{if(lj(i),o===null)throw Error(p$1(387));s=i.pendingProps,et=i.memoizedState,j=et.element,bh(o,i),gh(i,s,null,a);var tt=i.memoizedState;if(s=tt.element,et.isDehydrated)if(et={element:s,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},i.updateQueue.baseState=et,i.memoizedState=et,i.flags&256){j=Ki(Error(p$1(423)),i),i=mj(o,i,s,a,j);break e}else if(s!==j){j=Ki(Error(p$1(424)),i),i=mj(o,i,s,a,j);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,a=Ch(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),s===j){i=$i(o,i,a);break e}Yi(o,i,s,a)}i=i.child}return i;case 5:return Kh(i),o===null&&Eg(i),s=i.type,j=i.pendingProps,et=o!==null?o.memoizedProps:null,tt=j.children,Ef(s,j)?tt=null:et!==null&&Ef(s,et)&&(i.flags|=32),hj(o,i),Yi(o,i,tt,a),i.child;case 6:return o===null&&Eg(i),null;case 13:return pj(o,i,a);case 4:return Ih(i,i.stateNode.containerInfo),s=i.pendingProps,o===null?i.child=Bh(i,null,s,a):Yi(o,i,s,a),i.child;case 11:return s=i.type,j=i.pendingProps,j=i.elementType===s?j:Lg(s,j),Zi(o,i,s,j,a);case 7:return Yi(o,i,i.pendingProps,a),i.child;case 8:return Yi(o,i,i.pendingProps.children,a),i.child;case 12:return Yi(o,i,i.pendingProps.children,a),i.child;case 10:e:{if(s=i.type._context,j=i.pendingProps,et=i.memoizedProps,tt=j.value,G(Mg,s._currentValue),s._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===j.children&&!Wf.current){i=$i(o,i,a);break e}}else for(et=i.child,et!==null&&(et.return=i);et!==null;){var rt=et.dependencies;if(rt!==null){tt=et.child;for(var at=rt.firstContext;at!==null;){if(at.context===s){if(et.tag===1){at=ch(-1,a&-a),at.tag=2;var ot=et.updateQueue;if(ot!==null){ot=ot.shared;var st=ot.pending;st===null?at.next=at:(at.next=st.next,st.next=at),ot.pending=at}}et.lanes|=a,at=et.alternate,at!==null&&(at.lanes|=a),Sg(et.return,a,i),rt.lanes|=a;break}at=at.next}}else if(et.tag===10)tt=et.type===i.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$1(341));tt.lanes|=a,rt=tt.alternate,rt!==null&&(rt.lanes|=a),Sg(tt,a,i),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===i){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Yi(o,i,j.children,a),i=i.child}return i;case 9:return j=i.type,s=i.pendingProps.children,Tg(i,a),j=Vg(j),s=s(j),i.flags|=1,Yi(o,i,s,a),i.child;case 14:return s=i.type,j=Lg(s,i.pendingProps),j=Lg(s.type,j),aj(o,i,s,j,a);case 15:return cj(o,i,i.type,i.pendingProps,a);case 17:return s=i.type,j=i.pendingProps,j=i.elementType===s?j:Lg(s,j),jj(o,i),i.tag=1,Zf(s)?(o=!0,cg(i)):o=!1,Tg(i,a),ph(i,s,j),rh(i,s,j,a),kj(null,i,s,!0,o,a);case 19:return yj(o,i,a);case 22:return ej(o,i,a)}throw Error(p$1(156,i.tag))};function Gk(o,i){return ac(o,i)}function al(o,i,a,s){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,a,s){return new al(o,i,a,s)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,i){var a=o.alternate;return a===null?(a=Bg(o.tag,i,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=i,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function yh(o,i,a,s,j,et){var tt=2;if(s=o,typeof o=="function")bj(o)&&(tt=1);else if(typeof o=="string")tt=5;else e:switch(o){case ya:return Ah(a.children,j,et,i);case za:tt=8,j|=8;break;case Aa:return o=Bg(12,a,i,j|2),o.elementType=Aa,o.lanes=et,o;case Ea:return o=Bg(13,a,i,j),o.elementType=Ea,o.lanes=et,o;case Fa:return o=Bg(19,a,i,j),o.elementType=Fa,o.lanes=et,o;case Ia:return qj(a,j,et,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,s=null;break e}throw Error(p$1(130,o==null?o:typeof o,""))}return i=Bg(tt,a,i,j),i.elementType=o,i.type=s,i.lanes=et,i}function Ah(o,i,a,s){return o=Bg(7,o,s,i),o.lanes=a,o}function qj(o,i,a,s){return o=Bg(22,o,s,i),o.elementType=Ia,o.lanes=a,o.stateNode={isHidden:!1},o}function xh(o,i,a){return o=Bg(6,o,null,i),o.lanes=a,o}function zh(o,i,a){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=a,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function bl(o,i,a,s,j){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function cl(o,i,a,s,j,et,tt,rt,at){return o=new bl(o,i,a,rt,at),i===1?(i=1,et===!0&&(i|=8)):i=0,et=Bg(3,null,null,i),o.current=et,et.stateNode=o,et.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),o}function dl(o,i,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:o,containerInfo:i,implementation:a}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$1(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(o.tag===1){var a=o.type;if(Zf(a))return bg(o,a,i)}return i}function fl(o,i,a,s,j,et,tt,rt,at){return o=cl(a,s,!0,o,j,et,tt,rt,at),o.context=el(null),a=o.current,s=L(),j=lh(a),et=ch(s,j),et.callback=i??null,dh(a,et,j),o.current.lanes=j,Ac(o,j,s),Ek(o,s),o}function gl(o,i,a,s){var j=i.current,et=L(),tt=lh(j);return a=el(a),i.context===null?i.context=a:i.pendingContext=a,i=ch(et,tt),i.payload={element:o},s=s===void 0?null:s,s!==null&&(i.callback=s),o=dh(j,i,tt),o!==null&&(mh(o,j,tt,et),eh(o,j,tt)),tt}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<i?a:i}}function jl(o,i){il(o,i),(o=o.alternate)&&il(o,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$1(409));gl(o,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Sk(function(){gl(null,o,null,null)}),i[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc();o={blockedOn:null,target:o,priority:i};for(var a=0;a<Qc.length&&i!==0&&i<Qc[a].priority;a++);Qc.splice(a,0,o),a===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,i,a,s,j){if(j){if(typeof s=="function"){var et=s;s=function(){var ot=hl(tt);et.call(ot)}}var tt=fl(i,s,o,0,null,!1,!1,"",ql);return o._reactRootContainer=tt,o[uf]=tt.current,sf(o.nodeType===8?o.parentNode:o),Sk(),tt}for(;j=o.lastChild;)o.removeChild(j);if(typeof s=="function"){var rt=s;s=function(){var ot=hl(at);rt.call(ot)}}var at=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=at,o[uf]=at.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(i,at,a,s)}),at}function sl(o,i,a,s,j){var et=a._reactRootContainer;if(et){var tt=et;if(typeof j=="function"){var rt=j;j=function(){var at=hl(tt);rt.call(at)}}gl(i,tt,o,j)}else tt=rl(a,i,o,j,s);return hl(tt)}Ec=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var a=tc(i.pendingLanes);a!==0&&(Cc(i,a|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var s=Zg(o,1);if(s!==null){var j=L();mh(s,o,1,j)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var i=Zg(o,134217728);if(i!==null){var a=L();mh(i,o,134217728,a)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var i=lh(o),a=Zg(o,i);if(a!==null){var s=L();mh(a,o,i,s)}jl(o,i)}};Hc=function(){return C};Ic=function(o,i){var a=C;try{return C=o,i()}finally{C=a}};yb=function(o,i,a){switch(i){case"input":if(bb(o,a),i=a.name,a.type==="radio"&&i!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==o&&s.form===o.form){var j=Db(s);if(!j)throw Error(p$1(90));Wa(s),bb(s,j)}}}break;case"textarea":ib(o,a);break;case"select":i=a.value,i!=null&&fb(o,!!a.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p$1(200));return dl(o,i,null,a)};reactDom_production_min.createRoot=function(o,i){if(!ol(o))throw Error(p$1(299));var a=!1,s="",j=ll;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=cl(o,1,!1,null,null,a,!1,s,j),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ml(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$1(188)):(o=Object.keys(o).join(","),Error(p$1(268,o)));return o=Zb(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,i,a){if(!pl(i))throw Error(p$1(200));return sl(null,o,i,!0,a)};reactDom_production_min.hydrateRoot=function(o,i,a){if(!ol(o))throw Error(p$1(405));var s=a!=null&&a.hydratedSources||null,j=!1,et="",tt=ll;if(a!=null&&(a.unstable_strictMode===!0&&(j=!0),a.identifierPrefix!==void 0&&(et=a.identifierPrefix),a.onRecoverableError!==void 0&&(tt=a.onRecoverableError)),i=fl(i,null,o,1,a??null,j,!1,et,tt),o[uf]=i.current,sf(o),s)for(o=0;o<s.length;o++)a=s[o],j=a._getVersion,j=j(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,j]:i.mutableSourceEagerHydrationData.push(a,j);return new nl(i)};reactDom_production_min.render=function(o,i,a){if(!pl(i))throw Error(p$1(200));return sl(null,o,i,!1,a)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$1(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,a,s){if(!pl(a))throw Error(p$1(200));if(o==null||o._reactInternals===void 0)throw Error(p$1(38));return sl(o,i,a,!1,s)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$4.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function i(s,j){let{pathname:et,search:tt,hash:rt}=s.location;return createLocation("",{pathname:et,search:tt,hash:rt},j.state&&j.state.usr||null,j.state&&j.state.key||"default")}function a(s,j){return typeof j=="string"?j:createPath(j)}return getUrlBasedHistory(i,a,null,o)}function invariant(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function warning$3(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,i){return{usr:o.state,key:o.key,idx:i}}function createLocation(o,i,a,s){return a===void 0&&(a=null),_extends$4({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:a,key:i&&i.key||s||createKey()})}function createPath(o){let{pathname:i="/",search:a="",hash:s=""}=o;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function parsePath(o){let i={};if(o){let a=o.indexOf("#");a>=0&&(i.hash=o.substr(a),o=o.substr(0,a));let s=o.indexOf("?");s>=0&&(i.search=o.substr(s),o=o.substr(0,s)),o&&(i.pathname=o)}return i}function getUrlBasedHistory(o,i,a,s){s===void 0&&(s={});let{window:j=document.defaultView,v5Compat:et=!1}=s,tt=j.history,rt=Action.Pop,at=null,ot=st();ot==null&&(ot=0,tt.replaceState(_extends$4({},tt.state,{idx:ot}),""));function st(){return(tt.state||{idx:null}).idx}function _e(){rt=Action.Pop;let dt=st(),ft=dt==null?null:dt-ot;ot=dt,at&&at({action:rt,location:lt.location,delta:ft})}function $(dt,ft){rt=Action.Push;let pt=createLocation(lt.location,dt,ft);a&&a(pt,dt),ot=st()+1;let ht=getHistoryState(pt,ot),gt=lt.createHref(pt);try{tt.pushState(ht,"",gt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;j.location.assign(gt)}et&&at&&at({action:rt,location:lt.location,delta:1})}function nt(dt,ft){rt=Action.Replace;let pt=createLocation(lt.location,dt,ft);a&&a(pt,dt),ot=st();let ht=getHistoryState(pt,ot),gt=lt.createHref(pt);tt.replaceState(ht,"",gt),et&&at&&at({action:rt,location:lt.location,delta:0})}function it(dt){let ft=j.location.origin!=="null"?j.location.origin:j.location.href,pt=typeof dt=="string"?dt:createPath(dt);return invariant(ft,"No window.location.(origin|href) available to create URL for href: "+pt),new URL(pt,ft)}let lt={get action(){return rt},get location(){return o(j,tt)},listen(dt){if(at)throw new Error("A history only accepts one active listener");return j.addEventListener(PopStateEventType,_e),at=dt,()=>{j.removeEventListener(PopStateEventType,_e),at=null}},createHref(dt){return i(j,dt)},createURL:it,encodeLocation(dt){let ft=it(dt);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:$,replace:nt,go(dt){return tt.go(dt)}};return lt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(o){return o.index===!0}function convertRoutesToDataRoutes(o,i,a,s){return a===void 0&&(a=[]),s===void 0&&(s={}),o.map((j,et)=>{let tt=[...a,et],rt=typeof j.id=="string"?j.id:tt.join("-");if(invariant(j.index!==!0||!j.children,"Cannot specify children on an index route"),invariant(!s[rt],'Found a route id collision on id "'+rt+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(j)){let at=_extends$4({},j,i(j),{id:rt});return s[rt]=at,at}else{let at=_extends$4({},j,i(j),{id:rt,children:void 0});return s[rt]=at,j.children&&(at.children=convertRoutesToDataRoutes(j.children,i,tt,s)),at}})}function matchRoutes(o,i,a){a===void 0&&(a="/");let s=typeof i=="string"?parsePath(i):i,j=stripBasename(s.pathname||"/",a);if(j==null)return null;let et=flattenRoutes(o);rankRouteBranches(et);let tt=null;for(let rt=0;tt==null&&rt<et.length;++rt)tt=matchRouteBranch(et[rt],safelyDecodeURI(j));return tt}function flattenRoutes(o,i,a,s){i===void 0&&(i=[]),a===void 0&&(a=[]),s===void 0&&(s="");let j=(et,tt,rt)=>{let at={relativePath:rt===void 0?et.path||"":rt,caseSensitive:et.caseSensitive===!0,childrenIndex:tt,route:et};at.relativePath.startsWith("/")&&(invariant(at.relativePath.startsWith(s),'Absolute route path "'+at.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),at.relativePath=at.relativePath.slice(s.length));let ot=joinPaths([s,at.relativePath]),st=a.concat(at);et.children&&et.children.length>0&&(invariant(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ot+'".')),flattenRoutes(et.children,i,st,ot)),!(et.path==null&&!et.index)&&i.push({path:ot,score:computeScore(ot,et.index),routesMeta:st})};return o.forEach((et,tt)=>{var rt;if(et.path===""||!((rt=et.path)!=null&&rt.includes("?")))j(et,tt);else for(let at of explodeOptionalSegments(et.path))j(et,tt,at)}),i}function explodeOptionalSegments(o){let i=o.split("/");if(i.length===0)return[];let[a,...s]=i,j=a.endsWith("?"),et=a.replace(/\?$/,"");if(s.length===0)return j?[et,""]:[et];let tt=explodeOptionalSegments(s.join("/")),rt=[];return rt.push(...tt.map(at=>at===""?et:[et,at].join("/"))),j&&rt.push(...tt),rt.map(at=>o.startsWith("/")&&at===""?"/":at)}function rankRouteBranches(o){o.sort((i,a)=>i.score!==a.score?a.score-i.score:compareIndexes(i.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,i){let a=o.split("/"),s=a.length;return a.some(isSplat)&&(s+=splatPenalty),i&&(s+=indexRouteValue),a.filter(j=>!isSplat(j)).reduce((j,et)=>j+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),s)}function compareIndexes(o,i){return o.length===i.length&&o.slice(0,-1).every((s,j)=>s===i[j])?o[o.length-1]-i[i.length-1]:0}function matchRouteBranch(o,i){let{routesMeta:a}=o,s={},j="/",et=[];for(let tt=0;tt<a.length;++tt){let rt=a[tt],at=tt===a.length-1,ot=j==="/"?i:i.slice(j.length)||"/",st=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:at},ot);if(!st)return null;Object.assign(s,st.params);let _e=rt.route;et.push({params:s,pathname:joinPaths([j,st.pathname]),pathnameBase:normalizePathname(joinPaths([j,st.pathnameBase])),route:_e}),st.pathnameBase!=="/"&&(j=joinPaths([j,st.pathnameBase]))}return et}function matchPath(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,s]=compilePath(o.path,o.caseSensitive,o.end),j=i.match(a);if(!j)return null;let et=j[0],tt=et.replace(/(.)\/+$/,"$1"),rt=j.slice(1);return{params:s.reduce((ot,st,_e)=>{if(st==="*"){let $=rt[_e]||"";tt=et.slice(0,et.length-$.length).replace(/(.)\/+$/,"$1")}return ot[st]=safelyDecodeURIComponent(rt[_e]||"",st),ot},{}),pathname:et,pathnameBase:tt,pattern:o}}function compilePath(o,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),warning$3(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let s=[],j="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(tt,rt)=>(s.push(rt),"/([^\\/]+)"));return o.endsWith("*")?(s.push("*"),j+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?j+="\\/*$":o!==""&&o!=="/"&&(j+="(?:(?=\\/|$))"),[new RegExp(j,i?void 0:"i"),s]}function safelyDecodeURI(o){try{return decodeURI(o)}catch(i){return warning$3(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function safelyDecodeURIComponent(o,i){try{return decodeURIComponent(o)}catch(a){return warning$3(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),o}}function stripBasename(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,s=o.charAt(a);return s&&s!=="/"?null:o.slice(a)||"/"}function resolvePath(o,i){i===void 0&&(i="/");let{pathname:a,search:s="",hash:j=""}=typeof o=="string"?parsePath(o):o;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,i):i,search:normalizeSearch(s),hash:normalizeHash(j)}}function resolvePathname(o,i){let a=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(j=>{j===".."?a.length>1&&a.pop():j!=="."&&a.push(j)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(o,i,a,s){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function resolveTo(o,i,a,s){s===void 0&&(s=!1);let j;typeof o=="string"?j=parsePath(o):(j=_extends$4({},o),invariant(!j.pathname||!j.pathname.includes("?"),getInvalidPathError("?","pathname","search",j)),invariant(!j.pathname||!j.pathname.includes("#"),getInvalidPathError("#","pathname","hash",j)),invariant(!j.search||!j.search.includes("#"),getInvalidPathError("#","search","hash",j)));let et=o===""||j.pathname==="",tt=et?"/":j.pathname,rt;if(s||tt==null)rt=a;else{let _e=i.length-1;if(tt.startsWith("..")){let $=tt.split("/");for(;$[0]==="..";)$.shift(),_e-=1;j.pathname=$.join("/")}rt=_e>=0?i[_e]:"/"}let at=resolvePath(j,rt),ot=tt&&tt!=="/"&&tt.endsWith("/"),st=(et||tt===".")&&a.endsWith("/");return!at.pathname.endsWith("/")&&(ot||st)&&(at.pathname+="/"),at}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;class ErrorResponse{constructor(i,a,s,j){j===void 0&&(j=!1),this.status=i,this.statusText=a||"",this.internal=j,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=o=>({hasErrorBoundary:!!o.hasErrorBoundary});function createRouter(o){const i=o.window?o.window:typeof window<"u"?window:void 0,a=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u",s=!a;invariant(o.routes.length>0,"You must provide a non-empty routes array to createRouter");let j;if(o.mapRouteProperties)j=o.mapRouteProperties;else if(o.detectErrorBoundary){let Rt=o.detectErrorBoundary;j=Nt=>({hasErrorBoundary:Rt(Nt)})}else j=defaultMapRouteProperties;let et={},tt=convertRoutesToDataRoutes(o.routes,j,void 0,et),rt,at=o.basename||"/",ot=_extends$4({v7_normalizeFormMethod:!1,v7_prependBasename:!1},o.future),st=null,_e=new Set,$=null,nt=null,it=null,lt=o.hydrationData!=null,dt=matchRoutes(tt,o.history.location,at),ft=null;if(dt==null){let Rt=getInternalRouterError(404,{pathname:o.history.location.pathname}),{matches:Nt,route:Lt}=getShortCircuitMatches(tt);dt=Nt,ft={[Lt.id]:Rt}}let pt=!dt.some(Rt=>Rt.route.lazy)&&(!dt.some(Rt=>Rt.route.loader)||o.hydrationData!=null),ht,gt={historyAction:o.history.action,location:o.history.location,matches:dt,initialized:pt,navigation:IDLE_NAVIGATION,restoreScrollPosition:o.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:o.hydrationData&&o.hydrationData.loaderData||{},actionData:o.hydrationData&&o.hydrationData.actionData||null,errors:o.hydrationData&&o.hydrationData.errors||ft,fetchers:new Map,blockers:new Map},mt=Action.Pop,yt=!1,bt,_t=!1,xt=!1,Et=[],Tt=[],Pt=new Map,At=0,Ot=-1,It=new Map,$t=new Set,kt=new Map,Ft=new Map,Ut=new Map,zt=!1;function Wt(){return st=o.history.listen(Rt=>{let{action:Nt,location:Lt,delta:Bt}=Rt;if(zt){zt=!1;return}warning$3(Ut.size===0||Bt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ht=Kn({currentLocation:gt.location,nextLocation:Lt,historyAction:Nt});if(Ht&&Bt!=null){zt=!0,o.history.go(Bt*-1),Wn(Ht,{state:"blocked",location:Lt,proceed(){Wn(Ht,{state:"proceeding",proceed:void 0,reset:void 0,location:Lt}),o.history.go(Bt)},reset(){Sn(Ht),an({blockers:new Map(ht.state.blockers)})}});return}return en(Nt,Lt)}),gt.initialized||en(Action.Pop,gt.location),ht}function Qt(){st&&st(),_e.clear(),bt&&bt.abort(),gt.fetchers.forEach((Rt,Nt)=>jn(Nt)),gt.blockers.forEach((Rt,Nt)=>Sn(Nt))}function un(Rt){return _e.add(Rt),()=>_e.delete(Rt)}function an(Rt){gt=_extends$4({},gt,Rt),_e.forEach(Nt=>Nt(gt))}function vn(Rt,Nt){var Lt,Bt;let Ht=gt.actionData!=null&&gt.navigation.formMethod!=null&&isMutationMethod(gt.navigation.formMethod)&&gt.navigation.state==="loading"&&((Lt=Rt.state)==null?void 0:Lt._isRedirect)!==!0,Xt;Nt.actionData?Object.keys(Nt.actionData).length>0?Xt=Nt.actionData:Xt=null:Ht?Xt=gt.actionData:Xt=null;let Zt=Nt.loaderData?mergeLoaderData(gt.loaderData,Nt.loaderData,Nt.matches||[],Nt.errors):gt.loaderData;for(let[dn]of Ut)Sn(dn);let tn=yt===!0||gt.navigation.formMethod!=null&&isMutationMethod(gt.navigation.formMethod)&&((Bt=Rt.state)==null?void 0:Bt._isRedirect)!==!0;rt&&(tt=rt,rt=void 0),an(_extends$4({},Nt,{actionData:Xt,loaderData:Zt,historyAction:mt,location:Rt,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:yr(Rt,Nt.matches||gt.matches),preventScrollReset:tn,blockers:new Map(gt.blockers)})),_t||mt===Action.Pop||(mt===Action.Push?o.history.push(Rt,Rt.state):mt===Action.Replace&&o.history.replace(Rt,Rt.state)),mt=Action.Pop,yt=!1,_t=!1,xt=!1,Et=[],Tt=[]}async function fn(Rt,Nt){if(typeof Rt=="number"){o.history.go(Rt);return}let Lt=normalizeTo(gt.location,gt.matches,at,ot.v7_prependBasename,Rt,Nt==null?void 0:Nt.fromRouteId,Nt==null?void 0:Nt.relative),{path:Bt,submission:Ht,error:Xt}=normalizeNavigateOptions(ot.v7_normalizeFormMethod,!1,Lt,Nt),Zt=gt.location,tn=createLocation(gt.location,Bt,Nt&&Nt.state);tn=_extends$4({},tn,o.history.encodeLocation(tn));let dn=Nt&&Nt.replace!=null?Nt.replace:void 0,pn=Action.Push;dn===!0?pn=Action.Replace:dn===!1||Ht!=null&&isMutationMethod(Ht.formMethod)&&Ht.formAction===gt.location.pathname+gt.location.search&&(pn=Action.Replace);let mn=Nt&&"preventScrollReset"in Nt?Nt.preventScrollReset===!0:void 0,_n=Kn({currentLocation:Zt,nextLocation:tn,historyAction:pn});if(_n){Wn(_n,{state:"blocked",location:tn,proceed(){Wn(_n,{state:"proceeding",proceed:void 0,reset:void 0,location:tn}),fn(Rt,Nt)},reset(){Sn(_n),an({blockers:new Map(gt.blockers)})}});return}return await en(pn,tn,{submission:Ht,pendingError:Xt,preventScrollReset:mn,replace:Nt&&Nt.replace})}function jt(){if(Ln(),an({revalidation:"loading"}),gt.navigation.state!=="submitting"){if(gt.navigation.state==="idle"){en(gt.historyAction,gt.location,{startUninterruptedRevalidation:!0});return}en(mt||gt.historyAction,gt.navigation.location,{overrideNavigation:gt.navigation})}}async function en(Rt,Nt,Lt){bt&&bt.abort(),bt=null,mt=Rt,_t=(Lt&&Lt.startUninterruptedRevalidation)===!0,ur(gt.location,gt.matches),yt=(Lt&&Lt.preventScrollReset)===!0;let Bt=rt||tt,Ht=Lt&&Lt.overrideNavigation,Xt=matchRoutes(Bt,Nt,at);if(!Xt){let Mn=getInternalRouterError(404,{pathname:Nt.pathname}),{matches:Kt,route:En}=getShortCircuitMatches(Bt);ir(),vn(Nt,{matches:Kt,loaderData:{},errors:{[En.id]:Mn}});return}if(gt.initialized&&!xt&&isHashChangeOnly(gt.location,Nt)&&!(Lt&&Lt.submission&&isMutationMethod(Lt.submission.formMethod))){vn(Nt,{matches:Xt});return}bt=new AbortController;let Zt=createClientSideRequest(o.history,Nt,bt.signal,Lt&&Lt.submission),tn,dn;if(Lt&&Lt.pendingError)dn={[findNearestBoundary(Xt).route.id]:Lt.pendingError};else if(Lt&&Lt.submission&&isMutationMethod(Lt.submission.formMethod)){let Mn=await on(Zt,Nt,Lt.submission,Xt,{replace:Lt.replace});if(Mn.shortCircuited)return;tn=Mn.pendingActionData,dn=Mn.pendingActionError,Ht=_extends$4({state:"loading",location:Nt},Lt.submission),Zt=new Request(Zt.url,{signal:Zt.signal})}let{shortCircuited:pn,loaderData:mn,errors:_n}=await wn(Zt,Nt,Xt,Ht,Lt&&Lt.submission,Lt&&Lt.fetcherSubmission,Lt&&Lt.replace,tn,dn);pn||(bt=null,vn(Nt,_extends$4({matches:Xt},tn?{actionData:tn}:{},{loaderData:mn,errors:_n})))}async function on(Rt,Nt,Lt,Bt,Ht){Ln();let Xt=_extends$4({state:"submitting",location:Nt},Lt);an({navigation:Xt});let Zt,tn=getTargetMatch(Bt,Nt);if(!tn.route.action&&!tn.route.lazy)Zt={type:ResultType.error,error:getInternalRouterError(405,{method:Rt.method,pathname:Nt.pathname,routeId:tn.route.id})};else if(Zt=await callLoaderOrAction("action",Rt,tn,Bt,et,j,at),Rt.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Zt)){let dn;return Ht&&Ht.replace!=null?dn=Ht.replace:dn=Zt.location===gt.location.pathname+gt.location.search,await xn(gt,Zt,{submission:Lt,replace:dn}),{shortCircuited:!0}}if(isErrorResult(Zt)){let dn=findNearestBoundary(Bt,tn.route.id);return(Ht&&Ht.replace)!==!0&&(mt=Action.Push),{pendingActionData:{},pendingActionError:{[dn.route.id]:Zt.error}}}if(isDeferredResult(Zt))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[tn.route.id]:Zt.data}}}async function wn(Rt,Nt,Lt,Bt,Ht,Xt,Zt,tn,dn){let pn=Bt;pn||(pn=_extends$4({state:"loading",location:Nt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ht));let mn=Ht||Xt?Ht||Xt:pn.formMethod&&pn.formAction&&pn.formData&&pn.formEncType?{formMethod:pn.formMethod,formAction:pn.formAction,formData:pn.formData,formEncType:pn.formEncType}:void 0,_n=rt||tt,[Mn,Kt]=getMatchesToLoad(o.history,gt,Lt,mn,Nt,xt,Et,Tt,kt,_n,at,tn,dn);if(ir(In=>!(Lt&&Lt.some(rr=>rr.route.id===In))||Mn&&Mn.some(rr=>rr.route.id===In)),Mn.length===0&&Kt.length===0){let In=Fn();return vn(Nt,_extends$4({matches:Lt,loaderData:{},errors:dn||null},tn?{actionData:tn}:{},In?{fetchers:new Map(gt.fetchers)}:{})),{shortCircuited:!0}}if(!_t){Kt.forEach(rr=>{let Dr=gt.fetchers.get(rr.key),Dn={state:"loading",data:Dr&&Dr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(rr.key,Dn)});let In=tn||gt.actionData;an(_extends$4({navigation:pn},In?Object.keys(In).length===0?{actionData:null}:{actionData:In}:{},Kt.length>0?{fetchers:new Map(gt.fetchers)}:{}))}Ot=++At,Kt.forEach(In=>{In.controller&&Pt.set(In.key,In.controller)});let En=()=>Kt.forEach(In=>On(In.key));bt&&bt.signal.addEventListener("abort",En);let{results:Un,loaderResults:cr,fetcherResults:dr}=await Jn(gt.matches,Lt,Mn,Kt,Rt);if(Rt.signal.aborted)return{shortCircuited:!0};bt&&bt.signal.removeEventListener("abort",En),Kt.forEach(In=>Pt.delete(In.key));let Sr=findRedirect(Un);if(Sr)return await xn(gt,Sr,{replace:Zt}),{shortCircuited:!0};let{loaderData:Tr,errors:Ir}=processLoaderData(gt,Lt,Mn,cr,dn,Kt,dr,Ft);Ft.forEach((In,rr)=>{In.subscribe(Dr=>{(Dr||In.done)&&Ft.delete(rr)})});let Gn=Fn(),qn=Bn(Ot),Yn=Gn||qn||Kt.length>0;return _extends$4({loaderData:Tr,errors:Ir},Yn?{fetchers:new Map(gt.fetchers)}:{})}function cn(Rt){return gt.fetchers.get(Rt)||IDLE_FETCHER}function An(Rt,Nt,Lt,Bt){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pt.has(Rt)&&On(Rt);let Ht=rt||tt,Xt=normalizeTo(gt.location,gt.matches,at,ot.v7_prependBasename,Lt,Nt,Bt==null?void 0:Bt.relative),Zt=matchRoutes(Ht,Xt,at);if(!Zt){Hn(Rt,Nt,getInternalRouterError(404,{pathname:Xt}));return}let{path:tn,submission:dn}=normalizeNavigateOptions(ot.v7_normalizeFormMethod,!0,Xt,Bt),pn=getTargetMatch(Zt,tn);if(yt=(Bt&&Bt.preventScrollReset)===!0,dn&&isMutationMethod(dn.formMethod)){bn(Rt,Nt,tn,pn,Zt,dn);return}kt.set(Rt,{routeId:Nt,path:tn}),Vn(Rt,Nt,tn,pn,Zt,dn)}async function bn(Rt,Nt,Lt,Bt,Ht,Xt){if(Ln(),kt.delete(Rt),!Bt.route.action&&!Bt.route.lazy){let Dn=getInternalRouterError(405,{method:Xt.formMethod,pathname:Lt,routeId:Nt});Hn(Rt,Nt,Dn);return}let Zt=gt.fetchers.get(Rt),tn=_extends$4({state:"submitting"},Xt,{data:Zt&&Zt.data," _hasFetcherDoneAnything ":!0});gt.fetchers.set(Rt,tn),an({fetchers:new Map(gt.fetchers)});let dn=new AbortController,pn=createClientSideRequest(o.history,Lt,dn.signal,Xt);Pt.set(Rt,dn);let mn=await callLoaderOrAction("action",pn,Bt,Ht,et,j,at);if(pn.signal.aborted){Pt.get(Rt)===dn&&Pt.delete(Rt);return}if(isRedirectResult(mn)){Pt.delete(Rt),$t.add(Rt);let Dn=_extends$4({state:"loading"},Xt,{data:void 0," _hasFetcherDoneAnything ":!0});return gt.fetchers.set(Rt,Dn),an({fetchers:new Map(gt.fetchers)}),xn(gt,mn,{submission:Xt,isFetchActionRedirect:!0})}if(isErrorResult(mn)){Hn(Rt,Nt,mn.error);return}if(isDeferredResult(mn))throw getInternalRouterError(400,{type:"defer-action"});let _n=gt.navigation.location||gt.location,Mn=createClientSideRequest(o.history,_n,dn.signal),Kt=rt||tt,En=gt.navigation.state!=="idle"?matchRoutes(Kt,gt.navigation.location,at):gt.matches;invariant(En,"Didn't find any matches after fetcher action");let Un=++At;It.set(Rt,Un);let cr=_extends$4({state:"loading",data:mn.data},Xt,{" _hasFetcherDoneAnything ":!0});gt.fetchers.set(Rt,cr);let[dr,Sr]=getMatchesToLoad(o.history,gt,En,Xt,_n,xt,Et,Tt,kt,Kt,at,{[Bt.route.id]:mn.data},void 0);Sr.filter(Dn=>Dn.key!==Rt).forEach(Dn=>{let Or=Dn.key,Vr=gt.fetchers.get(Or),Cr={state:"loading",data:Vr&&Vr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Or,Cr),Dn.controller&&Pt.set(Or,Dn.controller)}),an({fetchers:new Map(gt.fetchers)});let Tr=()=>Sr.forEach(Dn=>On(Dn.key));dn.signal.addEventListener("abort",Tr);let{results:Ir,loaderResults:Gn,fetcherResults:qn}=await Jn(gt.matches,En,dr,Sr,Mn);if(dn.signal.aborted)return;dn.signal.removeEventListener("abort",Tr),It.delete(Rt),Pt.delete(Rt),Sr.forEach(Dn=>Pt.delete(Dn.key));let Yn=findRedirect(Ir);if(Yn)return xn(gt,Yn);let{loaderData:In,errors:rr}=processLoaderData(gt,gt.matches,dr,Gn,void 0,Sr,qn,Ft);if(gt.fetchers.has(Rt)){let Dn={state:"idle",data:mn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Rt,Dn)}let Dr=Bn(Un);gt.navigation.state==="loading"&&Un>Ot?(invariant(mt,"Expected pending action"),bt&&bt.abort(),vn(gt.navigation.location,{matches:En,loaderData:In,errors:rr,fetchers:new Map(gt.fetchers)})):(an(_extends$4({errors:rr,loaderData:mergeLoaderData(gt.loaderData,In,En,rr)},Dr||Sr.length>0?{fetchers:new Map(gt.fetchers)}:{})),xt=!1)}async function Vn(Rt,Nt,Lt,Bt,Ht,Xt){let Zt=gt.fetchers.get(Rt),tn=_extends$4({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Xt,{data:Zt&&Zt.data," _hasFetcherDoneAnything ":!0});gt.fetchers.set(Rt,tn),an({fetchers:new Map(gt.fetchers)});let dn=new AbortController,pn=createClientSideRequest(o.history,Lt,dn.signal);Pt.set(Rt,dn);let mn=await callLoaderOrAction("loader",pn,Bt,Ht,et,j,at);if(isDeferredResult(mn)&&(mn=await resolveDeferredData(mn,pn.signal,!0)||mn),Pt.get(Rt)===dn&&Pt.delete(Rt),pn.signal.aborted)return;if(isRedirectResult(mn)){$t.add(Rt),await xn(gt,mn);return}if(isErrorResult(mn)){let Mn=findNearestBoundary(gt.matches,Nt);gt.fetchers.delete(Rt),an({fetchers:new Map(gt.fetchers),errors:{[Mn.route.id]:mn.error}});return}invariant(!isDeferredResult(mn),"Unhandled fetcher deferred data");let _n={state:"idle",data:mn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Rt,_n),an({fetchers:new Map(gt.fetchers)})}async function xn(Rt,Nt,Lt){let{submission:Bt,replace:Ht,isFetchActionRedirect:Xt}=Lt===void 0?{}:Lt;Nt.revalidate&&(xt=!0);let Zt=createLocation(Rt.location,Nt.location,_extends$4({_isRedirect:!0},Xt?{_isFetchActionRedirect:!0}:{}));if(invariant(Zt,"Expected a location on the redirect navigation"),ABSOLUTE_URL_REGEX.test(Nt.location)&&a){let Mn=o.history.createURL(Nt.location),Kt=stripBasename(Mn.pathname,at)==null;if(i.location.origin!==Mn.origin||Kt){Ht?i.location.replace(Nt.location):i.location.assign(Nt.location);return}}bt=null;let tn=Ht===!0?Action.Replace:Action.Push,{formMethod:dn,formAction:pn,formEncType:mn,formData:_n}=Rt.navigation;!Bt&&dn&&pn&&_n&&mn&&(Bt={formMethod:dn,formAction:pn,formEncType:mn,formData:_n}),redirectPreserveMethodStatusCodes.has(Nt.status)&&Bt&&isMutationMethod(Bt.formMethod)?await en(tn,Zt,{submission:_extends$4({},Bt,{formAction:Nt.location}),preventScrollReset:yt}):Xt?await en(tn,Zt,{overrideNavigation:{state:"loading",location:Zt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Bt,preventScrollReset:yt}):await en(tn,Zt,{overrideNavigation:{state:"loading",location:Zt,formMethod:Bt?Bt.formMethod:void 0,formAction:Bt?Bt.formAction:void 0,formEncType:Bt?Bt.formEncType:void 0,formData:Bt?Bt.formData:void 0},preventScrollReset:yt})}async function Jn(Rt,Nt,Lt,Bt,Ht){let Xt=await Promise.all([...Lt.map(dn=>callLoaderOrAction("loader",Ht,dn,Nt,et,j,at)),...Bt.map(dn=>dn.matches&&dn.match&&dn.controller?callLoaderOrAction("loader",createClientSideRequest(o.history,dn.path,dn.controller.signal),dn.match,dn.matches,et,j,at):{type:ResultType.error,error:getInternalRouterError(404,{pathname:dn.path})})]),Zt=Xt.slice(0,Lt.length),tn=Xt.slice(Lt.length);return await Promise.all([resolveDeferredResults(Rt,Lt,Zt,Zt.map(()=>Ht.signal),!1,gt.loaderData),resolveDeferredResults(Rt,Bt.map(dn=>dn.match),tn,Bt.map(dn=>dn.controller?dn.controller.signal:null),!0)]),{results:Xt,loaderResults:Zt,fetcherResults:tn}}function Ln(){xt=!0,Et.push(...ir()),kt.forEach((Rt,Nt)=>{Pt.has(Nt)&&(Tt.push(Nt),On(Nt))})}function Hn(Rt,Nt,Lt){let Bt=findNearestBoundary(gt.matches,Nt);jn(Rt),an({errors:{[Bt.route.id]:Lt},fetchers:new Map(gt.fetchers)})}function jn(Rt){let Nt=gt.fetchers.get(Rt);Pt.has(Rt)&&!(Nt&&Nt.state==="loading"&&It.has(Rt))&&On(Rt),kt.delete(Rt),It.delete(Rt),$t.delete(Rt),gt.fetchers.delete(Rt)}function On(Rt){let Nt=Pt.get(Rt);invariant(Nt,"Expected fetch controller: "+Rt),Nt.abort(),Pt.delete(Rt)}function zn(Rt){for(let Nt of Rt){let Bt={state:"idle",data:cn(Nt).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};gt.fetchers.set(Nt,Bt)}}function Fn(){let Rt=[],Nt=!1;for(let Lt of $t){let Bt=gt.fetchers.get(Lt);invariant(Bt,"Expected fetcher: "+Lt),Bt.state==="loading"&&($t.delete(Lt),Rt.push(Lt),Nt=!0)}return zn(Rt),Nt}function Bn(Rt){let Nt=[];for(let[Lt,Bt]of It)if(Bt<Rt){let Ht=gt.fetchers.get(Lt);invariant(Ht,"Expected fetcher: "+Lt),Ht.state==="loading"&&(On(Lt),It.delete(Lt),Nt.push(Lt))}return zn(Nt),Nt.length>0}function hn(Rt,Nt){let Lt=gt.blockers.get(Rt)||IDLE_BLOCKER;return Ut.get(Rt)!==Nt&&Ut.set(Rt,Nt),Lt}function Sn(Rt){gt.blockers.delete(Rt),Ut.delete(Rt)}function Wn(Rt,Nt){let Lt=gt.blockers.get(Rt)||IDLE_BLOCKER;invariant(Lt.state==="unblocked"&&Nt.state==="blocked"||Lt.state==="blocked"&&Nt.state==="blocked"||Lt.state==="blocked"&&Nt.state==="proceeding"||Lt.state==="blocked"&&Nt.state==="unblocked"||Lt.state==="proceeding"&&Nt.state==="unblocked","Invalid blocker state transition: "+Lt.state+" -> "+Nt.state),gt.blockers.set(Rt,Nt),an({blockers:new Map(gt.blockers)})}function Kn(Rt){let{currentLocation:Nt,nextLocation:Lt,historyAction:Bt}=Rt;if(Ut.size===0)return;Ut.size>1&&warning$3(!1,"A router only supports one blocker at a time");let Ht=Array.from(Ut.entries()),[Xt,Zt]=Ht[Ht.length-1],tn=gt.blockers.get(Xt);if(!(tn&&tn.state==="proceeding")&&Zt({currentLocation:Nt,nextLocation:Lt,historyAction:Bt}))return Xt}function ir(Rt){let Nt=[];return Ft.forEach((Lt,Bt)=>{(!Rt||Rt(Bt))&&(Lt.cancel(),Nt.push(Bt),Ft.delete(Bt))}),Nt}function gr(Rt,Nt,Lt){if($=Rt,it=Nt,nt=Lt||(Bt=>Bt.key),!lt&&gt.navigation===IDLE_NAVIGATION){lt=!0;let Bt=yr(gt.location,gt.matches);Bt!=null&&an({restoreScrollPosition:Bt})}return()=>{$=null,it=null,nt=null}}function ur(Rt,Nt){if($&&nt&&it){let Lt=Nt.map(Ht=>createUseMatchesMatch(Ht,gt.loaderData)),Bt=nt(Rt,Lt)||Rt.key;$[Bt]=it()}}function yr(Rt,Nt){if($&&nt&&it){let Lt=Nt.map(Xt=>createUseMatchesMatch(Xt,gt.loaderData)),Bt=nt(Rt,Lt)||Rt.key,Ht=$[Bt];if(typeof Ht=="number")return Ht}return null}function Rn(Rt){et={},rt=convertRoutesToDataRoutes(Rt,j,void 0,et)}return ht={get basename(){return at},get state(){return gt},get routes(){return tt},initialize:Wt,subscribe:un,enableScrollRestoration:gr,navigate:fn,fetch:An,revalidate:jt,createHref:Rt=>o.history.createHref(Rt),encodeLocation:Rt=>o.history.encodeLocation(Rt),getFetcher:cn,deleteFetcher:jn,dispose:Qt,getBlocker:hn,deleteBlocker:Sn,_internalFetchControllers:Pt,_internalActiveDeferreds:Ft,_internalSetRoutes:Rn},ht}function isSubmissionNavigation(o){return o!=null&&"formData"in o}function normalizeTo(o,i,a,s,j,et,tt){let rt,at;if(et!=null&&tt!=="path"){rt=[];for(let st of i)if(rt.push(st),st.route.id===et){at=st;break}}else rt=i,at=i[i.length-1];let ot=resolveTo(j||".",getPathContributingMatches(rt).map(st=>st.pathnameBase),stripBasename(o.pathname,a)||o.pathname,tt==="path");return j==null&&(ot.search=o.search,ot.hash=o.hash),(j==null||j===""||j===".")&&at&&at.route.index&&!hasNakedIndexQuery(ot.search)&&(ot.search=ot.search?ot.search.replace(/^\?/,"?index&"):"?index"),s&&a!=="/"&&(ot.pathname=ot.pathname==="/"?a:joinPaths([a,ot.pathname])),createPath(ot)}function normalizeNavigateOptions(o,i,a,s){if(!s||!isSubmissionNavigation(s))return{path:a};if(s.formMethod&&!isValidMethod(s.formMethod))return{path:a,error:getInternalRouterError(405,{method:s.formMethod})};let j;if(s.formData){let rt=s.formMethod||"get";if(j={formMethod:o?rt.toUpperCase():rt.toLowerCase(),formAction:stripHashFromPath(a),formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:s.formData},isMutationMethod(j.formMethod))return{path:a,submission:j}}let et=parsePath(a),tt=convertFormDataToSearchParams(s.formData);return i&&et.search&&hasNakedIndexQuery(et.search)&&tt.append("index",""),et.search="?"+tt,{path:createPath(et),submission:j}}function getLoaderMatchesUntilBoundary(o,i){let a=o;if(i){let s=o.findIndex(j=>j.route.id===i);s>=0&&(a=o.slice(0,s))}return a}function getMatchesToLoad(o,i,a,s,j,et,tt,rt,at,ot,st,_e,$){let nt=$?Object.values($)[0]:_e?Object.values(_e)[0]:void 0,it=o.createURL(i.location),lt=o.createURL(j),dt=$?Object.keys($)[0]:void 0,pt=getLoaderMatchesUntilBoundary(a,dt).filter((gt,mt)=>{if(gt.route.lazy)return!0;if(gt.route.loader==null)return!1;if(isNewLoader(i.loaderData,i.matches[mt],gt)||tt.some(_t=>_t===gt.route.id))return!0;let yt=i.matches[mt],bt=gt;return shouldRevalidateLoader(gt,_extends$4({currentUrl:it,currentParams:yt.params,nextUrl:lt,nextParams:bt.params},s,{actionResult:nt,defaultShouldRevalidate:et||it.pathname+it.search===lt.pathname+lt.search||it.search!==lt.search||isNewRouteInstance(yt,bt)}))}),ht=[];return at.forEach((gt,mt)=>{if(!a.some(xt=>xt.route.id===gt.routeId))return;let yt=matchRoutes(ot,gt.path,st);if(!yt){ht.push({key:mt,routeId:gt.routeId,path:gt.path,matches:null,match:null,controller:null});return}let bt=getTargetMatch(yt,gt.path);if(rt.includes(mt)){ht.push({key:mt,routeId:gt.routeId,path:gt.path,matches:yt,match:bt,controller:new AbortController});return}shouldRevalidateLoader(bt,_extends$4({currentUrl:it,currentParams:i.matches[i.matches.length-1].params,nextUrl:lt,nextParams:a[a.length-1].params},s,{actionResult:nt,defaultShouldRevalidate:et}))&&ht.push({key:mt,routeId:gt.routeId,path:gt.path,matches:yt,match:bt,controller:new AbortController})}),[pt,ht]}function isNewLoader(o,i,a){let s=!i||a.route.id!==i.route.id,j=o[a.route.id]===void 0;return s||j}function isNewRouteInstance(o,i){let a=o.route.path;return o.pathname!==i.pathname||a!=null&&a.endsWith("*")&&o.params["*"]!==i.params["*"]}function shouldRevalidateLoader(o,i){if(o.route.shouldRevalidate){let a=o.route.shouldRevalidate(i);if(typeof a=="boolean")return a}return i.defaultShouldRevalidate}async function loadLazyRouteModule(o,i,a){if(!o.lazy)return;let s=await o.lazy();if(!o.lazy)return;let j=a[o.id];invariant(j,"No route found in manifest");let et={};for(let tt in s){let at=j[tt]!==void 0&&tt!=="hasErrorBoundary";warning$3(!at,'Route "'+j.id+'" has a static property "'+tt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+tt+'" will be ignored.')),!at&&!immutableRouteKeys.has(tt)&&(et[tt]=s[tt])}Object.assign(j,et),Object.assign(j,_extends$4({},i(j),{lazy:void 0}))}async function callLoaderOrAction(o,i,a,s,j,et,tt,rt,at,ot){rt===void 0&&(rt=!1),at===void 0&&(at=!1);let st,_e,$,nt=dt=>{let ft,pt=new Promise((ht,gt)=>ft=gt);return $=()=>ft(),i.signal.addEventListener("abort",$),Promise.race([dt({request:i,params:a.params,context:ot}),pt])};try{let dt=a.route[o];if(a.route.lazy)if(dt)_e=(await Promise.all([nt(dt),loadLazyRouteModule(a.route,et,j)]))[0];else if(await loadLazyRouteModule(a.route,et,j),dt=a.route[o],dt)_e=await nt(dt);else if(o==="action"){let ft=new URL(i.url),pt=ft.pathname+ft.search;throw getInternalRouterError(405,{method:i.method,pathname:pt,routeId:a.route.id})}else return{type:ResultType.data,data:void 0};else if(dt)_e=await nt(dt);else{let ft=new URL(i.url),pt=ft.pathname+ft.search;throw getInternalRouterError(404,{pathname:pt})}invariant(_e!==void 0,"You defined "+(o==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+o+"` ")+"function. Please return a value or `null`.")}catch(dt){st=ResultType.error,_e=dt}finally{$&&i.signal.removeEventListener("abort",$)}if(isResponse(_e)){let dt=_e.status;if(redirectStatusCodes.has(dt)){let ht=_e.headers.get("Location");if(invariant(ht,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(ht))ht=normalizeTo(new URL(i.url),s.slice(0,s.indexOf(a)+1),tt,!0,ht);else if(!rt){let gt=new URL(i.url),mt=ht.startsWith("//")?new URL(gt.protocol+ht):new URL(ht),yt=stripBasename(mt.pathname,tt)!=null;mt.origin===gt.origin&&yt&&(ht=mt.pathname+mt.search+mt.hash)}if(rt)throw _e.headers.set("Location",ht),_e;return{type:ResultType.redirect,status:dt,location:ht,revalidate:_e.headers.get("X-Remix-Revalidate")!==null}}if(at)throw{type:st||ResultType.data,response:_e};let ft,pt=_e.headers.get("Content-Type");return pt&&/\bapplication\/json\b/.test(pt)?ft=await _e.json():ft=await _e.text(),st===ResultType.error?{type:st,error:new ErrorResponse(dt,_e.statusText,ft),headers:_e.headers}:{type:ResultType.data,data:ft,statusCode:_e.status,headers:_e.headers}}if(st===ResultType.error)return{type:st,error:_e};if(isDeferredData(_e)){var it,lt;return{type:ResultType.deferred,deferredData:_e,statusCode:(it=_e.init)==null?void 0:it.status,headers:((lt=_e.init)==null?void 0:lt.headers)&&new Headers(_e.init.headers)}}return{type:ResultType.data,data:_e}}function createClientSideRequest(o,i,a,s){let j=o.createURL(stripHashFromPath(i)).toString(),et={signal:a};if(s&&isMutationMethod(s.formMethod)){let{formMethod:tt,formEncType:rt,formData:at}=s;et.method=tt.toUpperCase(),et.body=rt==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(at):at}return new Request(j,et)}function convertFormDataToSearchParams(o){let i=new URLSearchParams;for(let[a,s]of o.entries())i.append(a,s instanceof File?s.name:s);return i}function processRouteLoaderData(o,i,a,s,j){let et={},tt=null,rt,at=!1,ot={};return a.forEach((st,_e)=>{let $=i[_e].route.id;if(invariant(!isRedirectResult(st),"Cannot handle redirect results in processLoaderData"),isErrorResult(st)){let nt=findNearestBoundary(o,$),it=st.error;s&&(it=Object.values(s)[0],s=void 0),tt=tt||{},tt[nt.route.id]==null&&(tt[nt.route.id]=it),et[$]=void 0,at||(at=!0,rt=isRouteErrorResponse(st.error)?st.error.status:500),st.headers&&(ot[$]=st.headers)}else isDeferredResult(st)?(j.set($,st.deferredData),et[$]=st.deferredData.data):et[$]=st.data,st.statusCode!=null&&st.statusCode!==200&&!at&&(rt=st.statusCode),st.headers&&(ot[$]=st.headers)}),s&&(tt=s,et[Object.keys(s)[0]]=void 0),{loaderData:et,errors:tt,statusCode:rt||200,loaderHeaders:ot}}function processLoaderData(o,i,a,s,j,et,tt,rt){let{loaderData:at,errors:ot}=processRouteLoaderData(i,a,s,j,rt);for(let st=0;st<et.length;st++){let{key:_e,match:$,controller:nt}=et[st];invariant(tt!==void 0&&tt[st]!==void 0,"Did not find corresponding fetcher result");let it=tt[st];if(!(nt&&nt.signal.aborted))if(isErrorResult(it)){let lt=findNearestBoundary(o.matches,$==null?void 0:$.route.id);ot&&ot[lt.route.id]||(ot=_extends$4({},ot,{[lt.route.id]:it.error})),o.fetchers.delete(_e)}else if(isRedirectResult(it))invariant(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(it))invariant(!1,"Unhandled fetcher deferred data");else{let lt={state:"idle",data:it.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};o.fetchers.set(_e,lt)}}return{loaderData:at,errors:ot}}function mergeLoaderData(o,i,a,s){let j=_extends$4({},i);for(let et of a){let tt=et.route.id;if(i.hasOwnProperty(tt)?i[tt]!==void 0&&(j[tt]=i[tt]):o[tt]!==void 0&&et.route.loader&&(j[tt]=o[tt]),s&&s.hasOwnProperty(tt))break}return j}function findNearestBoundary(o,i){return(i?o.slice(0,o.findIndex(s=>s.route.id===i)+1):[...o]).reverse().find(s=>s.route.hasErrorBoundary===!0)||o[0]}function getShortCircuitMatches(o){let i=o.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function getInternalRouterError(o,i){let{pathname:a,routeId:s,method:j,type:et}=i===void 0?{}:i,tt="Unknown Server Error",rt="Unknown @remix-run/router error";return o===400?(tt="Bad Request",j&&a&&s?rt="You made a "+j+' request to "'+a+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":et==="defer-action"&&(rt="defer() is not supported in actions")):o===403?(tt="Forbidden",rt='Route "'+s+'" does not match URL "'+a+'"'):o===404?(tt="Not Found",rt='No route matches URL "'+a+'"'):o===405&&(tt="Method Not Allowed",j&&a&&s?rt="You made a "+j.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":j&&(rt='Invalid request method "'+j.toUpperCase()+'"')),new ErrorResponse(o||500,tt,new Error(rt),!0)}function findRedirect(o){for(let i=o.length-1;i>=0;i--){let a=o[i];if(isRedirectResult(a))return a}}function stripHashFromPath(o){let i=typeof o=="string"?parsePath(o):o;return createPath(_extends$4({},i,{hash:""}))}function isHashChangeOnly(o,i){return o.pathname!==i.pathname||o.search!==i.search?!1:o.hash===""?i.hash!=="":o.hash===i.hash?!0:i.hash!==""}function isDeferredResult(o){return o.type===ResultType.deferred}function isErrorResult(o){return o.type===ResultType.error}function isRedirectResult(o){return(o&&o.type)===ResultType.redirect}function isDeferredData(o){let i=o;return i&&typeof i=="object"&&typeof i.data=="object"&&typeof i.subscribe=="function"&&typeof i.cancel=="function"&&typeof i.resolveData=="function"}function isResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.headers=="object"&&typeof o.body<"u"}function isValidMethod(o){return validRequestMethods.has(o.toLowerCase())}function isMutationMethod(o){return validMutationMethods.has(o.toLowerCase())}async function resolveDeferredResults(o,i,a,s,j,et){for(let tt=0;tt<a.length;tt++){let rt=a[tt],at=i[tt];if(!at)continue;let ot=o.find(_e=>_e.route.id===at.route.id),st=ot!=null&&!isNewRouteInstance(ot,at)&&(et&&et[at.route.id])!==void 0;if(isDeferredResult(rt)&&(j||st)){let _e=s[tt];invariant(_e,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(rt,_e,j).then($=>{$&&(a[tt]=$||a[tt])})}}}async function resolveDeferredData(o,i,a){if(a===void 0&&(a=!1),!await o.deferredData.resolveData(i)){if(a)try{return{type:ResultType.data,data:o.deferredData.unwrappedData}}catch(j){return{type:ResultType.error,error:j}}return{type:ResultType.data,data:o.deferredData.data}}}function hasNakedIndexQuery(o){return new URLSearchParams(o).getAll("index").some(i=>i==="")}function createUseMatchesMatch(o,i){let{route:a,pathname:s,params:j}=o;return{id:a.id,pathname:s,params:j,data:i[a.id],handle:a.handle}}function getTargetMatch(o,i){let a=typeof i=="string"?parsePath(i).search:i.search;if(o[o.length-1].route.index&&hasNakedIndexQuery(a||""))return o[o.length-1];let s=getPathContributingMatches(o);return s[s.length-1]}/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:i,navigator:a}=reactExports.useContext(NavigationContext),{matches:s}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),et=JSON.stringify(getPathContributingMatches(s).map(at=>at.pathnameBase)),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{tt.current=!0}),reactExports.useCallback(function(at,ot){if(ot===void 0&&(ot={}),!tt.current)return;if(typeof at=="number"){a.go(at);return}let st=resolveTo(at,JSON.parse(et),j,ot.relative==="path");o==null&&i!=="/"&&(st.pathname=st.pathname==="/"?i:joinPaths([i,st.pathname])),(ot.replace?a.replace:a.push)(st,ot.state,ot)},[i,a,et,j,o])}function useRoutesImpl(o,i,a){useInRouterContext()||invariant(!1);let{navigator:s}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),et=j[j.length-1],tt=et?et.params:{};et&&et.pathname;let rt=et?et.pathnameBase:"/";et&&et.route;let at=useLocation(),ot;if(i){var st;let lt=typeof i=="string"?parsePath(i):i;rt==="/"||(st=lt.pathname)!=null&&st.startsWith(rt)||invariant(!1),ot=lt}else ot=at;let _e=ot.pathname||"/",$=rt==="/"?_e:_e.slice(rt.length)||"/",nt=matchRoutes(o,{pathname:$}),it=_renderMatches(nt&&nt.map(lt=>Object.assign({},lt,{params:Object.assign({},tt,lt.params),pathname:joinPaths([rt,s.encodeLocation?s.encodeLocation(lt.pathname).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?rt:joinPaths([rt,s.encodeLocation?s.encodeLocation(lt.pathnameBase).pathname:lt.pathnameBase])})),j,a);return i&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},ot),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let o=useRouteError(),i=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,j={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},et=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),a?reactExports.createElement("pre",{style:j},a):null,et)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error||a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:i,match:a,children:s}=o,j=reactExports.useContext(DataRouterContext);return j&&j.static&&j.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(j.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:i},s)}function _renderMatches(o,i,a){var s;if(i===void 0&&(i=[]),a===void 0&&(a=null),o==null){var j;if((j=a)!=null&&j.errors)o=a.matches;else return null}let et=o,tt=(s=a)==null?void 0:s.errors;if(tt!=null){let rt=et.findIndex(at=>at.route.id&&(tt==null?void 0:tt[at.route.id]));rt>=0||invariant(!1),et=et.slice(0,Math.min(et.length,rt+1))}return et.reduceRight((rt,at,ot)=>{let st=at.route.id?tt==null?void 0:tt[at.route.id]:null,_e=null;a&&(_e=at.route.errorElement||defaultErrorElement);let $=i.concat(et.slice(0,ot+1)),nt=()=>{let it;return st?it=_e:at.route.Component?it=reactExports.createElement(at.route.Component,null):at.route.element?it=at.route.element:it=rt,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:rt,matches:$,isDataRoute:a!=null},children:it})};return a&&(at.route.ErrorBoundary||at.route.errorElement||ot===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:_e,error:st,children:nt(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):nt()},null)}var DataRouterHook$1;(function(o){o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(o){o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(o){let i=reactExports.useContext(DataRouterContext);return i||invariant(!1),i}function useDataRouterState(o){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(o){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(o){let i=useRouteContext(),a=i.matches[i.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var o;let i=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),s=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i||((o=a.errors)==null?void 0:o[s])}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{a.current=!0}),reactExports.useCallback(function(j,et){et===void 0&&(et={}),a.current&&(typeof j=="number"?o.navigate(j):o.navigate(j,_extends$3({fromRouteId:i},et)))},[o,i])}const START_TRANSITION="startTransition";function RouterProvider(o){let{fallbackElement:i,router:a}=o,[s,j]=reactExports.useState(a.state),et=reactExports.useCallback(ot=>{START_TRANSITION in React$1?React$1[START_TRANSITION](()=>j(ot)):j(ot)},[j]);reactExports.useLayoutEffect(()=>a.subscribe(et),[a,et]);let tt=reactExports.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:ot=>a.navigate(ot),push:(ot,st,_e)=>a.navigate(ot,{state:st,preventScrollReset:_e==null?void 0:_e.preventScrollReset}),replace:(ot,st,_e)=>a.navigate(ot,{replace:!0,state:st,preventScrollReset:_e==null?void 0:_e.preventScrollReset})}),[a]),rt=a.basename||"/",at=reactExports.useMemo(()=>({router:a,navigator:tt,static:!1,basename:rt}),[a,tt,rt]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:at},reactExports.createElement(DataRouterStateContext.Provider,{value:s},reactExports.createElement(Router,{basename:rt,location:s.location,navigationType:s.historyAction,navigator:tt},s.initialized?reactExports.createElement(DataRoutes,{routes:a.routes,state:s}):i))),null)}function DataRoutes(o){let{routes:i,state:a}=o;return useRoutesImpl(i,void 0,a)}function Router(o){let{basename:i="/",children:a=null,location:s,navigationType:j=Action.Pop,navigator:et,static:tt=!1}=o;useInRouterContext()&&invariant(!1);let rt=i.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:rt,navigator:et,static:tt}),[rt,et,tt]);typeof s=="string"&&(s=parsePath(s));let{pathname:ot="/",search:st="",hash:_e="",state:$=null,key:nt="default"}=s,it=reactExports.useMemo(()=>{let lt=stripBasename(ot,rt);return lt==null?null:{location:{pathname:lt,search:st,hash:_e,state:$,key:nt},navigationType:j}},[rt,ot,st,_e,$,nt,j]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:a,value:it}))}var AwaitRenderStatus;(function(o){o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function mapRouteProperties(o){let i={hasErrorBoundary:o.ErrorBoundary!=null||o.errorElement!=null};return o.Component&&Object.assign(i,{element:reactExports.createElement(o.Component),Component:void 0}),o.ErrorBoundary&&Object.assign(i,{errorElement:reactExports.createElement(o.ErrorBoundary),ErrorBoundary:void 0}),i}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$2.apply(this,arguments)}function createBrowserRouter(o,i){return createRouter({basename:i==null?void 0:i.basename,future:_extends$2({},i==null?void 0:i.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:i==null?void 0:i.window}),hydrationData:(i==null?void 0:i.hydrationData)||parseHydrationData(),routes:o,mapRouteProperties}).initialize()}function parseHydrationData(){var o;let i=(o=window)==null?void 0:o.__staticRouterHydrationData;return i&&i.errors&&(i=_extends$2({},i,{errors:deserializeErrors(i.errors)})),i}function deserializeErrors(o){if(!o)return null;let i=Object.entries(o),a={};for(let[s,j]of i)if(j&&j.__type==="RouteErrorResponse")a[s]=new ErrorResponse(j.status,j.statusText,j.data,j.internal===!0);else if(j&&j.__type==="Error"){let et=new Error(j.message);et.stack="",a[s]=et}else a[s]=j;return a}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmitImpl="useSubmitImpl",o.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.15.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,i){module.exports=i()})(self,()=>(()=>{var __webpack_modules__={8453:(o,i,a)=>{a.r(i),a.d(i,{InferenceSession:()=>nt,Tensor:()=>_e,env:()=>tt,registerBackend:()=>et});const s={},j=[],et=(it,lt,dt)=>{if(!lt||typeof lt.init!="function"||typeof lt.createSessionHandler!="function")throw new TypeError("not a valid backend");{const ft=s[it];if(ft===void 0)s[it]={backend:lt,priority:dt};else{if(ft.priority>dt)return;if(ft.priority===dt&&ft.backend!==lt)throw new Error(`cannot register backend "${it}" using priority ${dt}`)}if(dt>=0){const pt=j.indexOf(it);pt!==-1&&j.splice(pt,1);for(let ht=0;ht<j.length;ht++)if(s[j[ht]].priority<=dt)return void j.splice(ht,0,it);j.push(it)}}},tt=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(it){if(it!==void 0){if(typeof it!="string"||["verbose","info","warning","error","fatal"].indexOf(it)===-1)throw new Error(`Unsupported logging level: ${it}`);this.logLevelInternal=it}}get logLevel(){return this.logLevelInternal}},rt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),at=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ot=!1;class st{constructor(lt,dt,ft){let pt,ht,gt;if((()=>{if(!ot){ot=!0;const yt=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",bt=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";yt&&(rt.set("int64",BigInt64Array),at.set(BigInt64Array,"int64")),bt&&(rt.set("uint64",BigUint64Array),at.set(BigUint64Array,"uint64"))}})(),typeof lt=="string")if(pt=lt,gt=ft,lt==="string"){if(!Array.isArray(dt))throw new TypeError("A string tensor's data must be a string array.");ht=dt}else{const yt=rt.get(lt);if(yt===void 0)throw new TypeError(`Unsupported tensor type: ${lt}.`);if(Array.isArray(dt))ht=yt.from(dt);else{if(!(dt instanceof yt))throw new TypeError(`A ${pt} tensor's data must be type of ${yt}`);ht=dt}}else if(gt=dt,Array.isArray(lt)){if(lt.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const yt=typeof lt[0];if(yt==="string")pt="string",ht=lt;else{if(yt!=="boolean")throw new TypeError(`Invalid element type of data array: ${yt}.`);pt="bool",ht=Uint8Array.from(lt)}}else{const yt=at.get(lt.constructor);if(yt===void 0)throw new TypeError(`Unsupported type for tensor data: ${lt.constructor}.`);pt=yt,ht=lt}if(gt===void 0)gt=[ht.length];else if(!Array.isArray(gt))throw new TypeError("A tensor's dims must be a number array");const mt=(yt=>{let bt=1;for(let _t=0;_t<yt.length;_t++){const xt=yt[_t];if(typeof xt!="number"||!Number.isSafeInteger(xt))throw new TypeError(`dims[${_t}] must be an integer, got: ${xt}`);if(xt<0)throw new RangeError(`dims[${_t}] must be a non-negative integer, got: ${xt}`);bt*=xt}return bt})(gt);if(mt!==ht.length)throw new Error(`Tensor's size(${mt}) does not match data length(${ht.length}).`);this.dims=gt,this.type=pt,this.data=ht,this.size=mt}static bufferToTensor(lt,dt){if(lt===void 0)throw new Error("Image buffer must be defined");if(dt.height===void 0||dt.width===void 0)throw new Error("Image height and width must be defined");if(dt.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:ft,width:pt}=dt,ht=dt.norm??{mean:255,bias:0};let gt,mt;gt=typeof ht.mean=="number"?[ht.mean,ht.mean,ht.mean,ht.mean]:[ht.mean[0],ht.mean[1],ht.mean[2],ht.mean[3]??255],mt=typeof ht.bias=="number"?[ht.bias,ht.bias,ht.bias,ht.bias]:[ht.bias[0],ht.bias[1],ht.bias[2],ht.bias[3]??0];const yt=dt.bitmapFormat!==void 0?dt.bitmapFormat:"RGBA",bt=dt.tensorFormat!==void 0&&dt.tensorFormat!==void 0?dt.tensorFormat:"RGB",_t=ft*pt,xt=bt==="RGBA"?new Float32Array(4*_t):new Float32Array(3*_t);let Et=4,Tt=0,Pt=1,At=2,Ot=3,It=0,$t=_t,kt=2*_t,Ft=-1;yt==="RGB"&&(Et=3,Tt=0,Pt=1,At=2,Ot=-1),bt==="RGBA"?Ft=3*_t:bt==="RBG"?(It=0,kt=_t,$t=2*_t):bt==="BGR"&&(kt=0,$t=_t,It=2*_t);for(let Ut=0;Ut<_t;Ut++,Tt+=Et,At+=Et,Pt+=Et,Ot+=Et)xt[It++]=(lt[Tt]+mt[0])/gt[0],xt[$t++]=(lt[Pt]+mt[1])/gt[1],xt[kt++]=(lt[At]+mt[2])/gt[2],Ft!==-1&&Ot!==-1&&(xt[Ft++]=(lt[Ot]+mt[3])/gt[3]);return new st("float32",xt,bt==="RGBA"?[1,4,ft,pt]:[1,3,ft,pt])}static async fromImage(lt,dt){const ft=typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement,pt=typeof ImageData<"u"&&lt instanceof ImageData,ht=typeof ImageBitmap<"u"&&lt instanceof ImageBitmap,gt=typeof lt=="string";let mt,yt=dt??{};if(ft){const bt=document.createElement("canvas");bt.width=lt.width,bt.height=lt.height;const _t=bt.getContext("2d");if(_t==null)throw new Error("Can not access image data");{let xt=lt.height,Et=lt.width;if(dt!==void 0&&dt.resizedHeight!==void 0&&dt.resizedWidth!==void 0&&(xt=dt.resizedHeight,Et=dt.resizedWidth),dt!==void 0){if(yt=dt,dt.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(yt.tensorFormat="RGBA",dt.height!==void 0&&dt.height!==xt)throw new Error("Image input config height doesn't match HTMLImageElement height");if(yt.height=xt,dt.width!==void 0&&dt.width!==Et)throw new Error("Image input config width doesn't match HTMLImageElement width");yt.width=Et}else yt.tensorFormat="RGBA",yt.height=xt,yt.width=Et;_t.drawImage(lt,0,0),mt=_t.getImageData(0,0,Et,xt).data}}else{if(!pt){if(ht){if(dt===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(dt.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const bt=document.createElement("canvas").getContext("2d");if(bt!=null){const _t=lt.height,xt=lt.width;if(bt.drawImage(lt,0,0,xt,_t),mt=bt.getImageData(0,0,xt,_t).data,dt!==void 0){if(dt.height!==void 0&&dt.height!==_t)throw new Error("Image input config height doesn't match ImageBitmap height");if(yt.height=_t,dt.width!==void 0&&dt.width!==xt)throw new Error("Image input config width doesn't match ImageBitmap width");yt.width=xt}else yt.height=_t,yt.width=xt;return st.bufferToTensor(mt,yt)}throw new Error("Can not access image data")}if(gt)return new Promise((bt,_t)=>{const xt=document.createElement("canvas"),Et=xt.getContext("2d");if(!lt||!Et)return _t();const Tt=new Image;Tt.crossOrigin="Anonymous",Tt.src=lt,Tt.onload=()=>{xt.width=Tt.width,xt.height=Tt.height,Et.drawImage(Tt,0,0,xt.width,xt.height);const Pt=Et.getImageData(0,0,xt.width,xt.height);if(dt!==void 0){if(dt.height!==void 0&&dt.height!==xt.height)throw new Error("Image input config height doesn't match height");if(yt.height=xt.height,dt.width!==void 0&&dt.width!==xt.width)throw new Error("Image input config width doesn't match width");yt.width=xt.width}else yt.height=xt.height,yt.width=xt.width;bt(st.bufferToTensor(Pt.data,yt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const bt="RGBA";let _t,xt;if(dt!==void 0&&dt.resizedWidth!==void 0&&dt.resizedHeight!==void 0?(_t=dt.resizedHeight,xt=dt.resizedWidth):(_t=lt.height,xt=lt.width),dt!==void 0){if(yt=dt,dt.bitmapFormat!==void 0&&dt.bitmapFormat!==bt)throw new Error("Image input config format must be RGBA for ImageData");yt.bitmapFormat="RGBA"}else yt.bitmapFormat="RGBA";if(yt.height=_t,yt.width=xt,dt!==void 0){const Et=document.createElement("canvas");Et.width=xt,Et.height=_t;const Tt=Et.getContext("2d");if(Tt==null)throw new Error("Can not access image data");Tt.putImageData(lt,0,0),mt=Tt.getImageData(0,0,xt,_t).data}else mt=lt.data}}if(mt!==void 0)return st.bufferToTensor(mt,yt);throw new Error("Input data provided is not supported - aborted tensor creation")}toDataURL(lt){const dt=document.createElement("canvas");dt.width=this.dims[3],dt.height=this.dims[2];const ft=dt.getContext("2d");if(ft!=null){let pt,ht;(lt==null?void 0:lt.tensorLayout)!==void 0&&lt.tensorLayout==="NHWC"?(pt=this.dims[2],ht=this.dims[3]):(pt=this.dims[3],ht=this.dims[2]);const gt=(lt==null?void 0:lt.format)!==void 0?lt.format:"RGB",mt=lt==null?void 0:lt.norm;let yt,bt;mt===void 0||mt.mean===void 0?yt=[255,255,255,255]:typeof mt.mean=="number"?yt=[mt.mean,mt.mean,mt.mean,mt.mean]:(yt=[mt.mean[0],mt.mean[1],mt.mean[2],0],mt.mean[3]!==void 0&&(yt[3]=mt.mean[3])),mt===void 0||mt.bias===void 0?bt=[0,0,0,0]:typeof mt.bias=="number"?bt=[mt.bias,mt.bias,mt.bias,mt.bias]:(bt=[mt.bias[0],mt.bias[1],mt.bias[2],0],mt.bias[3]!==void 0&&(bt[3]=mt.bias[3]));const _t=ht*pt;let xt=0,Et=_t,Tt=2*_t,Pt=-1;gt==="RGBA"?(xt=0,Et=_t,Tt=2*_t,Pt=3*_t):gt==="RGB"?(xt=0,Et=_t,Tt=2*_t):gt==="RBG"&&(xt=0,Tt=_t,Et=2*_t);for(let At=0;At<ht;At++)for(let Ot=0;Ot<pt;Ot++){const It=(this.data[xt++]-bt[0])*yt[0],$t=(this.data[Et++]-bt[1])*yt[1],kt=(this.data[Tt++]-bt[2])*yt[2],Ft=Pt===-1?255:(this.data[Pt++]-bt[3])*yt[3];ft.fillStyle="rgba("+It+","+$t+","+kt+","+Ft+")",ft.fillRect(Ot,At,1,1)}return dt.toDataURL()}throw new Error("Can not access image data")}toImageData(lt){const dt=document.createElement("canvas").getContext("2d");let ft;if(dt==null)throw new Error("Can not access image data");{let pt,ht,gt;(lt==null?void 0:lt.tensorLayout)!==void 0&&lt.tensorLayout==="NHWC"?(pt=this.dims[2],ht=this.dims[1],gt=this.dims[3]):(pt=this.dims[3],ht=this.dims[2],gt=this.dims[1]);const mt=lt!==void 0&&lt.format!==void 0?lt.format:"RGB",yt=lt==null?void 0:lt.norm;let bt,_t;yt===void 0||yt.mean===void 0?bt=[255,255,255,255]:typeof yt.mean=="number"?bt=[yt.mean,yt.mean,yt.mean,yt.mean]:(bt=[yt.mean[0],yt.mean[1],yt.mean[2],255],yt.mean[3]!==void 0&&(bt[3]=yt.mean[3])),yt===void 0||yt.bias===void 0?_t=[0,0,0,0]:typeof yt.bias=="number"?_t=[yt.bias,yt.bias,yt.bias,yt.bias]:(_t=[yt.bias[0],yt.bias[1],yt.bias[2],0],yt.bias[3]!==void 0&&(_t[3]=yt.bias[3]));const xt=ht*pt;if(lt!==void 0){if(lt.height!==void 0&&lt.height!==ht)throw new Error("Image output config height doesn't match tensor height");if(lt.width!==void 0&&lt.width!==pt)throw new Error("Image output config width doesn't match tensor width");if(lt.format!==void 0&&gt===4&&lt.format!=="RGBA"||gt===3&&lt.format!=="RGB"&&lt.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const Et=4;let Tt=0,Pt=1,At=2,Ot=3,It=0,$t=xt,kt=2*xt,Ft=-1;mt==="RGBA"?(It=0,$t=xt,kt=2*xt,Ft=3*xt):mt==="RGB"?(It=0,$t=xt,kt=2*xt):mt==="RBG"&&(It=0,kt=xt,$t=2*xt),ft=dt.createImageData(pt,ht);for(let Ut=0;Ut<ht*pt;Tt+=Et,Pt+=Et,At+=Et,Ot+=Et,Ut++)ft.data[Tt]=(this.data[It++]-_t[0])*bt[0],ft.data[Pt]=(this.data[$t++]-_t[1])*bt[1],ft.data[At]=(this.data[kt++]-_t[2])*bt[2],ft.data[Ot]=Ft===-1?255:(this.data[Ft++]-_t[3])*bt[3]}return ft}reshape(lt){return new st(this.type,this.data,lt)}}const _e=st;class ${constructor(lt){this.handler=lt}async run(lt,dt,ft){const pt={};let ht={};if(typeof lt!="object"||lt===null||lt instanceof _e||Array.isArray(lt))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let gt=!0;if(typeof dt=="object"){if(dt===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(dt instanceof _e)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(dt)){if(dt.length===0)throw new TypeError("'fetches' cannot be an empty array.");gt=!1;for(const bt of dt){if(typeof bt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(bt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${bt}.`);pt[bt]=null}if(typeof ft=="object"&&ft!==null)ht=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else{let bt=!1;const _t=Object.getOwnPropertyNames(dt);for(const xt of this.outputNames)if(_t.indexOf(xt)!==-1){const Et=dt[xt];(Et===null||Et instanceof _e)&&(bt=!0,gt=!1,pt[xt]=Et)}if(bt){if(typeof ft=="object"&&ft!==null)ht=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else ht=dt}}else if(dt!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const bt of this.inputNames)if(lt[bt]===void 0)throw new Error(`input '${bt}' is missing in 'feeds'.`);if(gt)for(const bt of this.outputNames)pt[bt]=null;const mt=await this.handler.run(lt,pt,ht),yt={};for(const bt in mt)Object.hasOwnProperty.call(mt,bt)&&(yt[bt]=new _e(mt[bt].type,mt[bt].data,mt[bt].dims));return yt}static async create(lt,dt,ft,pt){let ht,gt={};if(typeof lt=="string"){if(ht=lt,typeof dt=="object"&&dt!==null)gt=dt;else if(dt!==void 0)throw new TypeError("'options' must be an object.")}else if(lt instanceof Uint8Array){if(ht=lt,typeof dt=="object"&&dt!==null)gt=dt;else if(dt!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(lt instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&lt instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const _t=lt;let xt=0,Et=lt.byteLength;if(typeof dt=="object"&&dt!==null)gt=dt;else if(typeof dt=="number"){if(xt=dt,!Number.isSafeInteger(xt))throw new RangeError("'byteOffset' must be an integer.");if(xt<0||xt>=_t.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_t.byteLength}).`);if(Et=lt.byteLength-xt,typeof ft=="number"){if(Et=ft,!Number.isSafeInteger(Et))throw new RangeError("'byteLength' must be an integer.");if(Et<=0||xt+Et>_t.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_t.byteLength-xt}].`);if(typeof pt=="object"&&pt!==null)gt=pt;else if(pt!==void 0)throw new TypeError("'options' must be an object.")}else if(ft!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(dt!==void 0)throw new TypeError("'options' must be an object.");ht=new Uint8Array(_t,xt,Et)}}const mt=(gt.executionProviders||[]).map(_t=>typeof _t=="string"?_t:_t.name),yt=await(async _t=>{const xt=_t.length===0?j:_t,Et=[];for(const Tt of xt){const Pt=s[Tt];if(Pt){if(Pt.initialized)return Pt.backend;if(Pt.aborted)continue;const At=!!Pt.initPromise;try{return At||(Pt.initPromise=Pt.backend.init()),await Pt.initPromise,Pt.initialized=!0,Pt.backend}catch(Ot){At||Et.push({name:Tt,err:Ot}),Pt.aborted=!0}finally{delete Pt.initPromise}}}throw new Error(`no available backend found. ERR: ${Et.map(Tt=>`[${Tt.name}] ${Tt.err}`).join(", ")}`)})(mt),bt=await yt.createSessionHandler(ht,gt);return new $(bt)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const nt=$},5716:(o,i,a)=>{i.R=void 0;const s=a(6027),j=a(1723);i.R=new class{async init(){}async createSessionHandler(et,tt){const rt=new s.Session(tt);return await rt.loadModel(et),new j.OnnxjsSessionHandler(rt)}}},2818:(o,i,a)=>{i.c8=i.rX=void 0;const s=a(8453),j=a(5381),et=a(9544),tt=a(6640);i.rX=()=>{if((typeof s.env.wasm.initTimeout!="number"||s.env.wasm.initTimeout<0)&&(s.env.wasm.initTimeout=0),typeof s.env.wasm.simd!="boolean"&&(s.env.wasm.simd=!0),typeof s.env.wasm.proxy!="boolean"&&(s.env.wasm.proxy=!1),typeof s.env.wasm.numThreads!="number"||!Number.isInteger(s.env.wasm.numThreads)||s.env.wasm.numThreads<=0){const rt=typeof navigator>"u"?(0,j.cpus)().length:navigator.hardwareConcurrency;s.env.wasm.numThreads=Math.min(4,Math.ceil((rt||1)/2))}},i.c8=new class{async init(){(0,i.rX)(),await(0,et.initWasm)()}async createSessionHandler(rt,at){const ot=new tt.OnnxruntimeWebAssemblySessionHandler;return await ot.loadModel(rt,at),Promise.resolve(ot)}}},1057:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(tt,rt,at,ot){ot===void 0&&(ot=at);var st=Object.getOwnPropertyDescriptor(rt,at);st&&!("get"in st?!rt.__esModule:st.writable||st.configurable)||(st={enumerable:!0,get:function(){return rt[at]}}),Object.defineProperty(tt,ot,st)}:function(tt,rt,at,ot){ot===void 0&&(ot=at),tt[ot]=rt[at]}),j=this&&this.__exportStar||function(tt,rt){for(var at in tt)at==="default"||Object.prototype.hasOwnProperty.call(rt,at)||s(rt,tt,at)};Object.defineProperty(i,"__esModule",{value:!0}),j(a(8453),i);const et=a(8453);{const tt=a(5716).R;(0,et.registerBackend)("webgl",tt,-10)}{const tt=a(2818).c8;(0,et.registerBackend)("cpu",tt,10),(0,et.registerBackend)("wasm",tt,10),(0,et.registerBackend)("xnnpack",tt,9)}},4910:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createAttributeWithCacheKey=void 0;class a{constructor(j){Object.assign(this,j)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(j=>`${this[j]}`).join(";")),this._cacheKey}}i.createAttributeWithCacheKey=s=>new a(s)},6874:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Attribute=void 0;const s=a(1446),j=a(1287),et=a(9240),tt=a(7273);var rt=j.onnxruntime.experimental.fbs;class at{constructor(st){if(this._attributes=new Map,st!=null){for(const _e of st)_e instanceof s.onnx.AttributeProto?this._attributes.set(_e.name,[at.getValue(_e),at.getType(_e)]):_e instanceof rt.Attribute&&this._attributes.set(_e.name(),[at.getValue(_e),at.getType(_e)]);if(this._attributes.size<st.length)throw new Error("duplicated attribute names")}}set(st,_e,$){this._attributes.set(st,[$,_e])}delete(st){this._attributes.delete(st)}getFloat(st,_e){return this.get(st,"float",_e)}getInt(st,_e){return this.get(st,"int",_e)}getString(st,_e){return this.get(st,"string",_e)}getTensor(st,_e){return this.get(st,"tensor",_e)}getFloats(st,_e){return this.get(st,"floats",_e)}getInts(st,_e){return this.get(st,"ints",_e)}getStrings(st,_e){return this.get(st,"strings",_e)}getTensors(st,_e){return this.get(st,"tensors",_e)}get(st,_e,$){const nt=this._attributes.get(st);if(nt===void 0){if($!==void 0)return $;throw new Error(`required attribute not found: ${st}`)}if(nt[1]!==_e)throw new Error(`type mismatch: expected ${_e} but got ${nt[1]}`);return nt[0]}static getType(st){const _e=st instanceof s.onnx.AttributeProto?st.type:st.type();switch(_e){case s.onnx.AttributeProto.AttributeType.FLOAT:return"float";case s.onnx.AttributeProto.AttributeType.INT:return"int";case s.onnx.AttributeProto.AttributeType.STRING:return"string";case s.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case s.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case s.onnx.AttributeProto.AttributeType.INTS:return"ints";case s.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case s.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${s.onnx.AttributeProto.AttributeType[_e]}`)}}static getValue(st){const _e=st instanceof s.onnx.AttributeProto?st.type:st.type();if(_e===s.onnx.AttributeProto.AttributeType.GRAPH||_e===s.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const $=this.getValueNoCheck(st);if(_e===s.onnx.AttributeProto.AttributeType.INT&&tt.LongUtil.isLong($))return tt.LongUtil.longToNumber($);if(_e===s.onnx.AttributeProto.AttributeType.INTS){const nt=$,it=new Array(nt.length);for(let lt=0;lt<nt.length;lt++){const dt=nt[lt];it[lt]=tt.LongUtil.longToNumber(dt)}return it}if(_e===s.onnx.AttributeProto.AttributeType.TENSOR)return st instanceof s.onnx.AttributeProto?et.Tensor.fromProto($):et.Tensor.fromOrtTensor($);if(_e===s.onnx.AttributeProto.AttributeType.TENSORS){if(st instanceof s.onnx.AttributeProto)return $.map(nt=>et.Tensor.fromProto(nt));if(st instanceof rt.Attribute)return $.map(nt=>et.Tensor.fromOrtTensor(nt))}if(_e===s.onnx.AttributeProto.AttributeType.STRING&&st instanceof s.onnx.AttributeProto){const nt=$;return(0,tt.decodeUtf8String)(nt)}return _e===s.onnx.AttributeProto.AttributeType.STRINGS&&st instanceof s.onnx.AttributeProto?$.map(tt.decodeUtf8String):$}static getValueNoCheck(st){return st instanceof s.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(st):this.getValueNoCheckFromOrtFormat(st)}static getValueNoCheckFromOnnxFormat(st){switch(st.type){case s.onnx.AttributeProto.AttributeType.FLOAT:return st.f;case s.onnx.AttributeProto.AttributeType.INT:return st.i;case s.onnx.AttributeProto.AttributeType.STRING:return st.s;case s.onnx.AttributeProto.AttributeType.TENSOR:return st.t;case s.onnx.AttributeProto.AttributeType.GRAPH:return st.g;case s.onnx.AttributeProto.AttributeType.FLOATS:return st.floats;case s.onnx.AttributeProto.AttributeType.INTS:return st.ints;case s.onnx.AttributeProto.AttributeType.STRINGS:return st.strings;case s.onnx.AttributeProto.AttributeType.TENSORS:return st.tensors;case s.onnx.AttributeProto.AttributeType.GRAPHS:return st.graphs;default:throw new Error(`unsupported attribute type: ${s.onnx.AttributeProto.AttributeType[st.type]}`)}}static getValueNoCheckFromOrtFormat(st){switch(st.type()){case rt.AttributeType.FLOAT:return st.f();case rt.AttributeType.INT:return st.i();case rt.AttributeType.STRING:return st.s();case rt.AttributeType.TENSOR:return st.t();case rt.AttributeType.GRAPH:return st.g();case rt.AttributeType.FLOATS:return st.floatsArray();case rt.AttributeType.INTS:{const _e=[];for(let $=0;$<st.intsLength();$++)_e.push(st.ints($));return _e}case rt.AttributeType.STRINGS:{const _e=[];for(let $=0;$<st.stringsLength();$++)_e.push(st.strings($));return _e}case rt.AttributeType.TENSORS:{const _e=[];for(let $=0;$<st.tensorsLength();$++)_e.push(st.tensors($));return _e}default:throw new Error(`unsupported attribute type: ${rt.AttributeType[st.type()]}`)}}}i.Attribute=at},1975:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.resolveBackend=i.backend=void 0;const s=a(4418),j=new Map;async function et(tt){const rt=i.backend;if(rt[tt]!==void 0&&function(at){const ot=at;return"initialize"in ot&&typeof ot.initialize=="function"&&"createSessionHandler"in ot&&typeof ot.createSessionHandler=="function"&&"dispose"in ot&&typeof ot.dispose=="function"}(rt[tt])){const at=rt[tt];let ot=at.initialize();if(typeof ot=="object"&&"then"in ot&&(ot=await ot),ot)return j.set(tt,at),at}}i.backend={webgl:new s.WebGLBackend},i.resolveBackend=async function tt(rt){if(!rt)return tt(["webgl"]);{const at=typeof rt=="string"?[rt]:rt;for(const ot of at){const st=j.get(ot);if(st)return st;const _e=await et(ot);if(_e)return _e}}throw new Error("no available backend to use")}},4418:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLBackend=void 0;const s=a(8453),j=a(1315),et=a(2171),tt=a(3389);i.WebGLBackend=class{get contextId(){return s.env.webgl.contextId}set contextId(rt){s.env.webgl.contextId=rt}get matmulMaxBatchSize(){return s.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(rt){s.env.webgl.matmulMaxBatchSize=rt}get textureCacheMode(){return s.env.webgl.textureCacheMode}set textureCacheMode(rt){s.env.webgl.textureCacheMode=rt}get pack(){return s.env.webgl.pack}set pack(rt){s.env.webgl.pack=rt}get async(){return s.env.webgl.async}set async(rt){s.env.webgl.async=rt}initialize(){try{return this.glContext=(0,tt.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),j.Logger.setWithEnv(s.env),j.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(rt){return j.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${rt}`),!1}}createSessionHandler(rt){return new et.WebGLSessionHandler(this,rt)}dispose(){this.glContext.dispose()}}},6859:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoordsGlslLib=void 0;const s=a(7273),j=a(1997),et=a(6757),tt=a(7618),rt=a(432);class at extends j.GlslLib{constructor(st){super(st)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new j.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new j.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const st=this.context.outputTextureLayout;return st.isPacked?this.getPackedOutputSamplingSnippet(st):this.getUnpackedOutputSamplingSnippet(st)}getPackedOutputSamplingSnippet(st){const _e=st.unpackedShape,$=[st.width,st.height],nt={},it="getOutputCoords";switch(_e.length){case 0:nt[it]=this.getOutputScalarCoords();break;case 1:nt[it]=this.getOutputPacked1DCoords(_e,$);break;case 2:nt[it]=this.getOutputPacked2DCoords(_e,$);break;case 3:nt[it]=this.getOutputPacked3DCoords(_e,$);break;default:nt[it]=this.getOutputPackedNDCoords(_e,$)}const lt=`
      void setOutput(vec4 val) {
        ${(0,et.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return nt.floatTextureSetRGBA=new j.GlslLibRoutine(lt),nt}getUnpackedOutputSamplingSnippet(st){const _e=st.unpackedShape,$=[st.width,st.height],nt={},it="getOutputCoords";switch(_e.length){case 0:nt[it]=this.getOutputScalarCoords();break;case 1:nt[it]=this.getOutputUnpacked1DCoords(_e,$);break;case 2:nt[it]=this.getOutputUnpacked2DCoords(_e,$);break;case 3:nt[it]=this.getOutputUnpacked3DCoords(_e,$);break;case 4:nt[it]=this.getOutputUnpacked4DCoords(_e,$);break;case 5:nt[it]=this.getOutputUnpacked5DCoords(_e,$);break;case 6:nt[it]=this.getOutputUnpacked6DCoords(_e,$);break;default:throw new Error(`Unsupported output dimensionality: ${_e.length}`)}const lt=`
        void setOutput(float val) {
          ${(0,et.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return nt.floatTextureSetR=new j.GlslLibRoutine(lt),nt}getOutputScalarCoords(){return new j.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(st,_e){const $=_e;let nt="";return $[0]===1?(nt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${$[1]}.0);
          }
        `,new j.GlslLibRoutine(nt)):$[1]===1?(nt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${$[0]}.0);
          }
        `,new j.GlslLibRoutine(nt)):(nt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${$[0]}, ${$[1]}));
          return 2 * (resTexRC.y * ${$[0]} + resTexRC.x);
        }
      `,new j.GlslLibRoutine(nt))}getOutputPacked2DCoords(st,_e){let $="";if(s.ArrayUtil.arraysEqual(st,_e))return $=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${_e[0]}, ${_e[1]}));
        }
      `,new j.GlslLibRoutine($);const nt=_e,it=Math.ceil(st[1]/2);return $=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${nt[0]}, ${nt[1]}));

          int index = resTexRC.y * ${nt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${it}) * 2;
          int c = 2 * (index / ${it});

          return ivec2(r, c);
        }
      `,new j.GlslLibRoutine($)}getOutputPacked3DCoords(st,_e){const $=[_e[0],_e[1]],nt=Math.ceil(st[2]/2),it=nt*Math.ceil(st[1]/2),lt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${$[0]}, ${$[1]}));
          int index = resTexRC.y * ${$[0]} + resTexRC.x;

          int b = index / ${it};
          index -= b * ${it};

          // reverse r and c order for packed texture
          int r = imod(index, ${nt}) * 2;
          int c = 2 * (index / ${nt});

          return ivec3(b, r, c);
        }
      `;return new j.GlslLibRoutine(lt)}getOutputPackedNDCoords(st,_e){const $=[_e[0],_e[1]],nt=Math.ceil(st[st.length-1]/2),it=nt*Math.ceil(st[st.length-2]/2);let lt=it,dt="",ft="b, r, c";for(let ht=2;ht<st.length-1;ht++)lt*=st[st.length-ht-1],dt=`
      int b${ht} = index / ${lt};
      index -= b${ht} * ${lt};
    `+dt,ft=`b${ht}, `+ft;const pt=`
      ivec${st.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${$[0]}, ${$[1]}));
        int index = resTexRC.y * ${$[0]} + resTexRC.x;

        ${dt}

        int b = index / ${it};
        index -= b * ${it};

        // reverse r and c order for packed texture
        int r = imod(index, ${nt}) * 2;
        int c = 2 * (index / ${nt});

        return ivec${st.length}(${ft});
      }
    `;return new j.GlslLibRoutine(pt)}getOutputUnpacked1DCoords(st,_e){const $=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          return resTexRC.y * ${_e[0]} + resTexRC.x;
        }
      `;return new j.GlslLibRoutine($)}getOutputUnpacked2DCoords(st,_e){const $=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          int index = resTexRC.y * ${_e[0]} + resTexRC.x;
          int r = index / ${st[1]};
          int c = index - r * ${st[1]};
          return ivec2(r, c);
        }
      `;return new j.GlslLibRoutine($)}getOutputUnpacked3DCoords(st,_e){let $="";const nt=st.length;let it=null;nt<2&&(it=[]),it=new Array(nt-1),it[nt-2]=st[nt-1];for(let ft=nt-3;ft>=0;--ft)it[ft]=it[ft+1]*st[ft+1];const lt=["r","c","d"],dt=it.map((ft,pt)=>`int ${lt[pt]} = index / ${ft}; ${pt===it.length-1?`int ${lt[pt+1]} = index - ${lt[pt]} * ${ft}`:`index -= ${lt[pt]} * ${ft}`};`).join("");return $=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          int index = resTexRC.y * ${_e[0]} + resTexRC.x;
          ${dt}
          return ivec3(r, c, d);
        }
      `,new j.GlslLibRoutine($)}getOutputUnpacked4DCoords(st,_e){let $="";const nt=st.length;let it=null;nt<2&&(it=[]),it=new Array(nt-1),it[nt-2]=st[nt-1];for(let ft=nt-3;ft>=0;--ft)it[ft]=it[ft+1]*st[ft+1];const lt=["r","c","d","d2"],dt=it.map((ft,pt)=>`int ${lt[pt]} = index / ${ft}; ${pt===it.length-1?`int ${lt[pt+1]} = index - ${lt[pt]} * ${ft}`:`index -= ${lt[pt]} * ${ft}`};`).join("");return $=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          int index = resTexRC.y * ${_e[0]} + resTexRC.x;
          ${dt}
          return ivec4(r, c, d, d2);
        }
      `,new j.GlslLibRoutine($)}getOutputUnpacked5DCoords(st,_e){let $="";const nt=st.length;let it=null;nt<2&&(it=[]),it=new Array(nt-1),it[nt-2]=st[nt-1];for(let ft=nt-3;ft>=0;--ft)it[ft]=it[ft+1]*st[ft+1];const lt=["r","c","d","d2","d3"],dt=it.map((ft,pt)=>`int ${lt[pt]} = index / ${ft}; ${pt===it.length-1?`int ${lt[pt+1]} = index - ${lt[pt]} * ${ft}`:`index -= ${lt[pt]} * ${ft}`};`).join("");return $=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          int index = resTexRC.y * ${_e[0]} + resTexRC.x;
          ${dt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new j.GlslLibRoutine($)}getOutputUnpacked6DCoords(st,_e){let $="";const nt=st.length;let it=null;nt<2&&(it=[]),it=new Array(nt-1),it[nt-2]=st[nt-1];for(let ft=nt-3;ft>=0;--ft)it[ft]=it[ft+1]*st[ft+1];const lt=["r","c","d","d2","d3","d4"],dt=it.map((ft,pt)=>`int ${lt[pt]} = index / ${ft}; ${pt===it.length-1?`int ${lt[pt+1]} = index - ${lt[pt]} * ${ft}`:`index -= ${lt[pt]} * ${ft}`};`).join("");return $=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${_e[0]}, ${_e[1]}));
         int index = resTexRC.y * ${_e[0]} + resTexRC.x;
         ${dt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new j.GlslLibRoutine($)}getCommonUtilFuncs(){const st={};let _e="uvFromFlat";st[_e]=new j.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),_e="packedUVfrom1D",st[_e]=new j.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),_e="packedUVfrom2D",st[_e]=new j.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),_e="packedUVfrom3D",st[_e]=new j.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),_e="sampleTexture";const $=(0,et.getGlsl)(this.context.glContext.version);return st[_e]=new j.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${$.texture2D}(textureSampler, uv).r;
        }`),st}getInputsSamplingSnippets(){const st={},_e=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(($,nt)=>{const it=this.context.inputTextureLayouts[nt],lt=(0,rt.generateShaderFuncNameFromInputSamplerName)($);it.isPacked?st[lt]=this.getPackedSamplerFromInput(lt,$,it):st[lt]=this.getUnpackedSamplerFromInput(lt,$,it);const dt=(0,rt.generateShaderFuncNameFromInputSamplerNameAtOutCoords)($);it.unpackedShape.length<=_e.unpackedShape.length&&(it.isPacked?st[dt]=this.getPackedSamplerAtOutputCoords(dt,it,_e,$):st[dt]=this.getUnpackedSamplerAtOutputCoords(dt,it,_e,$))}),st}getPackedSamplerAtOutputCoords(st,_e,$,nt){const it=_e.unpackedShape,lt=$.unpackedShape,dt=nt,ft=(0,rt.generateShaderFuncNameFromInputSamplerName)(dt),pt=it.length,ht=lt.length,gt=s.BroadcastUtil.getBroadcastDims(it,lt),mt=(0,rt.getCoordsDataType)(ht),yt=ht-pt;let bt;const _t=(0,rt.getGlChannels)();bt=pt===0?"":ht<2&&gt.length>=1?"coords = 0;":gt.map(Ot=>`coords.${_t[Ot+yt]} = 0;`).join(`
`);let xt="";xt=ht<2&&pt>0?"coords":it.map((Ot,It)=>`coords.${_t[It+yt]}`).join(", ");let Et="return outputValue;";const Tt=s.ShapeUtil.size(it)===1,Pt=s.ShapeUtil.size(lt)===1;if(pt!==1||Tt||Pt){if(Tt&&!Pt)Et=ht===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(gt.length){const Ot=pt-2,It=pt-1;gt.indexOf(Ot)>-1&&gt.indexOf(It)>-1?Et="return vec4(outputValue.x);":gt.indexOf(Ot)>-1?Et="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":gt.indexOf(It)>-1&&(Et="return vec4(outputValue.xx, outputValue.zz);")}}else Et=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const At=`
      vec4 ${st}() {
        ${mt} coords = getOutputCoords();
        
        int lastDim = coords.${_t[ht-1]};
        coords.${_t[ht-1]} = coords.${_t[ht-2]};
        coords.${_t[ht-2]} = lastDim;
      
        ${bt}
        vec4 outputValue = ${ft}(${xt});
        ${Et}
      }
    `;return new j.GlslLibRoutine(At,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(st,_e,$,nt){const it=[$.width,$.height],lt=[_e.width,_e.height],dt=_e.unpackedShape.length,ft=$.unpackedShape.length,pt=_e.unpackedShape,ht=$.unpackedShape,gt=(0,rt.generateShaderFuncNameFromInputSamplerName)(nt);if(dt===ft&&s.ArrayUtil.arraysEqual(lt,it)){const Pt=`
          float ${st}() {
            return sampleTexture(${nt}, TexCoords);
          }
        `;return new j.GlslLibRoutine(Pt,["coordinates.sampleTexture"])}const mt=(0,rt.getCoordsDataType)(ft),yt=s.BroadcastUtil.getBroadcastDims(pt,ht),bt=ft-dt;let _t;const xt=(0,rt.getGlChannels)();_t=dt===0?"":ft<2&&yt.length>=1?"coords = 0;":yt.map(Pt=>`coords.${xt[Pt+bt]} = 0;`).join(`
`);let Et="";Et=ft<2&&dt>0?"coords":_e.unpackedShape.map((Pt,At)=>`coords.${xt[At+bt]}`).join(", ");const Tt=`
        float ${st}() {
          ${mt} coords = getOutputCoords();
          ${_t}
          return ${gt}(${Et});
        }
      `;return new j.GlslLibRoutine(Tt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(st,_e,$){switch($.unpackedShape.length){case 0:return this.getPackedSamplerScalar(st,_e);case 1:return this.getPackedSampler1D(st,_e,$);case 2:return this.getPackedSampler2D(st,_e,$);case 3:return this.getPackedSampler3D(st,_e,$);default:return this.getPackedSamplerND(st,_e,$)}}getUnpackedSamplerFromInput(st,_e,$){const nt=$.unpackedShape;switch(nt.length){case 0:return this.getUnpackedSamplerScalar(st,_e,$);case 1:return this.getUnpackedSampler1D(st,_e,$);case 2:return this.getUnpackedSampler2D(st,_e,$);case 3:return this.getUnpackedSampler3D(st,_e,$);case 4:return this.getUnpackedSampler4D(st,_e,$);case 5:return this.getUnpackedSampler5D(st,_e,$);case 6:return this.getUnpackedSampler6D(st,_e,$);default:throw new Error(`Unsupported dimension ${nt.length}-D`)}}getPackedSamplerScalar(st,_e){const $=`
          vec4 ${st}() {
            return ${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${_e}, halfCR);
          }
        `;return new j.GlslLibRoutine($)}getPackedSampler1D(st,_e,$){const nt=[$.width,$.height],it=[nt[1],nt[0]],lt=(0,et.getGlsl)(this.context.glContext.version),dt=`vec4 ${st}(int index) {
      vec2 uv = packedUVfrom1D(
      ${it[0]}, ${it[1]}, index);
      return ${lt.texture2D}(${_e}, uv);
    }`;return new j.GlslLibRoutine(dt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(st,_e,$){const nt=$.unpackedShape,it=[$.width,$.height],lt=(0,et.getGlsl)(this.context.glContext.version),dt=it[0],ft=it[1];if(it!=null&&s.ArrayUtil.arraysEqual(nt,it)){const mt=`vec4 ${st}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${ft}.0, ${dt}.0);
        return ${lt.texture2D}(${_e}, uv);
      }`;return new j.GlslLibRoutine(mt)}const pt=it,ht=Math.ceil(nt[1]/2),gt=`vec4 ${st}(int row, int col) {
      vec2 uv = packedUVfrom2D(${pt[1]}, ${pt[0]}, ${ht}, row, col);
      return ${lt.texture2D}(${_e}, uv);
    }`;return new j.GlslLibRoutine(gt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(st,_e,$){const nt=$.unpackedShape,it=[$.width,$.height],lt=[it[0],it[1]],dt=(0,et.getGlsl)(this.context.glContext.version);if(nt[0]===1){const mt=nt.slice(1),yt=[1,2],bt=(0,rt.squeezeInputShape)(nt,mt),_t=["b","row","col"],xt=JSON.parse(JSON.stringify($));xt.unpackedShape=bt;const Et=this.getPackedSamplerFromInput(st,_e,xt),Tt=`${Et.routineBody}
      vec4 ${st}(int b, int row, int col) {
        return ${st}(${(0,rt.getSqueezedParams)(_t,yt)});
      } `;return new j.GlslLibRoutine(Tt,Et.dependencies)}const ft=lt[0],pt=lt[1],ht=Math.ceil(nt[2]/2),gt=`vec4 ${st}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${pt}, ${ft}, ${ht*Math.ceil(nt[1]/2)}, ${ht}, b, row, col);
      return ${dt.texture2D}(${_e}, uv);}`;return new j.GlslLibRoutine(gt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(st,_e,$){const nt=$.unpackedShape,it=nt.length,lt=[$.width,$.height],dt=(0,et.getGlsl)(this.context.glContext.version),ft=[lt[0],lt[1]],pt=ft[1],ht=ft[0],gt=Math.ceil(nt[it-1]/2);let mt=gt*Math.ceil(nt[it-2]/2),yt="int b, int row, int col",bt=`b * ${mt} + (row / 2) * ${gt} + (col / 2)`;for(let xt=2;xt<it-1;xt++)yt=`int b${xt}, `+yt,mt*=nt[it-xt-1],bt=`b${xt} * ${mt} + `+bt;const _t=`vec4 ${st}(${yt}) {
      int index = ${bt};
      int texR = index / ${ht};
      int texC = index - texR * ${ht};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${ht}, ${pt});
      return ${dt.texture2D}(${_e}, uv);
    }`;return new j.GlslLibRoutine(_t)}getUnpackedSamplerScalar(st,_e,$){const[nt,it]=[$.width,$.height];if(nt===1&&it===1){const dt=`
          float ${st}() {
            return sampleTexture(${_e}, halfCR);
          }
        `;return new j.GlslLibRoutine(dt,["coordinates.sampleTexture"])}const lt=`
        float ${st}() {
          int offset_${_e} = coordsToOffset(TexCoords, ${nt}, ${it});
          vec2 uv = uvFromFlat(${nt}, ${it}, offset_${_e});
          return sampleTexture(${_e}, uv);
        }
      `;return new j.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(st,_e,$){const nt=$.width,it=$.height;if(it===1&&nt===1){const dt=`
        float ${st}(int index) {
          return sampleTexture(${_e}, halfCR);
        }
      `;return new j.GlslLibRoutine(dt,["coordinates.sampleTexture"])}if(it===1){const dt=`
          float ${st}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${nt}.0, 0.5);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(dt,["coordinates.sampleTexture"])}if(nt===1){const dt=`
          float ${st}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${it}.0);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(dt,["coordinates.sampleTexture"])}const lt=`
        float ${st}(int index) {
          vec2 uv = uvFromFlat(${nt}, ${it}, index);
          return sampleTexture(${_e}, uv);
        }
      `;return new j.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(st,_e,$){const nt=$.unpackedShape,it=[$.height,$.width];if(it!=null&&s.ArrayUtil.arraysEqual(nt,it)){const mt=`
          float ${st}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${it[1]}.0, ${it[0]}.0);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const{newShape:lt,keptDims:dt}=(0,tt.squeezeShape)(nt),ft=lt;if(ft.length<nt.length){const mt=(0,rt.squeezeInputShape)(nt,ft),yt=JSON.parse(JSON.stringify($));yt.unpackedShape=mt;const bt=["col","row"],_t=`
          ${this.getUnpackedSamplerFromInput(st,_e,yt).routineBody}
          float ${st}(int row, int col) {
            return ${st}(${(0,rt.getSqueezedParams)(bt,dt)});
          }
        `;return new j.GlslLibRoutine(_t,["coordinates.sampleTexture"])}const pt=it[1],ht=it[0];if(ht===1){const mt=`
          float ${st}(int row, int col) {
            int offset_${_e} = coordsToOffset(TexCoords, ${pt}, ${ht});
            float index = dot(vec3(row, col, offset_${_e}), vec3(${nt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${pt}.0);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(pt===1){const mt=`
          float ${st}(int row, int col) {
            int offset_${_e} = coordsToOffset(TexCoords, ${pt}, ${ht});
            float index = dot(vec3(row, col, offset_${_e}), vec3(${nt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${ht}.0, 0.5);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const gt=`
        float ${st}(int row, int col) {
          int index = col * ${nt[1]} + row;
          vec2 uv = uvFromFlat(${pt}, ${ht}, index);
          return sampleTexture(${_e}, uv);
        }
      `;return new j.GlslLibRoutine(gt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(st,_e,$){const nt=$.unpackedShape,it=nt[1]*nt[2],lt=nt[2],{newShape:dt,keptDims:ft}=(0,tt.squeezeShape)(nt),pt=dt;if(pt.length<nt.length){const gt=(0,rt.squeezeInputShape)(nt,pt),mt=["batch","col","row"],yt=JSON.parse(JSON.stringify($));yt.unpackedShape=gt;const bt=this.getUnpackedSamplerFromInput(st,_e,yt),_t=ft.reverse(),xt=`
          ${bt.routineBody}
          float ${st}(int batch, int row, int col) {
            return ${st}(${(0,rt.getSqueezedParams)(mt,_t)});
          }
        `;return new j.GlslLibRoutine(xt,bt.dependencies)}const ht=`
          float ${st}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${it} + col * ${lt} + row;
            vec2 uv = uvFromFlat(${$.width}, ${$.height}, index);
            return sampleTexture(${_e}, uv);
          }
      `;return new j.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(st,_e,$){const nt=$.unpackedShape,it=nt[3],lt=nt[2]*it,dt=`
        float ${st}(int row, int col, int depth, int depth2) {
          int index = row * ${nt[1]*lt} + col * ${lt} +
              depth2 * ${it} + depth;
          vec2 uv = uvFromFlat(${$.width}, ${$.height}, index);
          return sampleTexture(${_e}, uv);
        }
      `;return new j.GlslLibRoutine(dt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(st,_e,$){const nt=$.unpackedShape,it=nt[4],lt=nt[3]*it,dt=nt[2]*lt,ft=nt[1]*dt,{newShape:pt,keptDims:ht}=(0,tt.squeezeShape)(nt);if(pt.length<nt.length){const mt=(0,rt.squeezeInputShape)(nt,pt),yt=["row","col","depth","depth2","depth3"],bt=JSON.parse(JSON.stringify($));bt.unpackedShape=mt;const _t=`
          ${this.getUnpackedSamplerFromInput(st,_e,bt).routineBody}
          float ${st}(int row, int col, int depth, int depth2, int depth3) {
            return ${st}(${(0,rt.getSqueezedParams)(yt,ht)});
          }
        `;return new j.GlslLibRoutine(_t,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const gt=`
        float ${st}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${ft} + col * ${dt} + depth * ${lt} +
          depth3 * ${it} + depth2;
          vec2 uv = uvFromFlat(${$.width}, ${$.height}, index);
          return sampleTexture(${_e}, uv);
        }
      `;return new j.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(st,_e,$){const nt=$.unpackedShape,it=nt[5],lt=nt[4]*it,dt=nt[3]*lt,ft=nt[2]*dt,pt=nt[1]*ft,{newShape:ht,keptDims:gt}=(0,tt.squeezeShape)(nt);if(ht.length<nt.length){const yt=(0,rt.squeezeInputShape)(nt,ht),bt=["row","col","depth","depth2","depth3","depth4"],_t=JSON.parse(JSON.stringify($));_t.unpackedShape=yt;const xt=`
            ${this.getUnpackedSamplerFromInput(st,_e,_t).routineBody}
            float ${st}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${st}(${(0,rt.getSqueezedParams)(bt,gt)});
            }
          `;return new j.GlslLibRoutine(xt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const mt=`
          float ${st}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${pt} + col * ${ft} + depth * ${dt} +
            depth2 * ${lt} + depth3 * ${it} + depth4;
            vec2 uv = uvFromFlat(${$.width}, ${$.height}, index);
            return sampleTexture(${_e}, uv);
          }
        `;return new j.GlslLibRoutine(mt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const st=this.context.outputTextureLayout,_e=st.shape.length,$=st.strides,nt=st.width,it=st.height,lt=[];for(let ft=0;ft<_e-1;++ft)lt.push(`
        c[${ft}] = offset / ${$[ft]};`),lt.push(`
        offset -= c[${ft}] * ${$[ft]};`);lt.push(`
        c[${_e-1}] = offset;`);const dt=`
      void toVec(vec2 texCoords, out int c[${_e}]) {
        int offset = coordsToOffset(texCoords, ${nt}, ${it});
        ${lt.join("")}
      }
      void toVec(int offset, out int c[${_e}]) {
        ${lt.join("")}
      }
    `;return{toVec:new j.GlslLibRoutine(dt,["coordinates.coordsToOffset"])}}valueFrom(){const st={};return this.context.programInfo.inputNames.forEach((_e,$)=>{const nt=this.context.inputTextureLayouts[$],it=(nt.unpackedShape.length>0?nt.unpackedShape:nt.shape).length;let lt=`_${_e}`;st[lt]=new j.GlslLibRoutine(this.getValueFromSingle(_e,it,nt.width,nt.height,!1),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),lt+="_T",st[lt]=new j.GlslLibRoutine(this.getValueFromSingle(_e,it,nt.width,nt.height,!0),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),st}getValueFromSingle(st,_e,$,nt,it){let lt=`_${st}`;return it&&(lt+="_T"),`
        float ${lt}(int m[${_e}]) {
          int offset = indicesToOffset${lt}(m);
          vec2 coords = offsetToCoords(offset, ${$}, ${nt});
          float value = getColorAsFloat(${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${st}, coords));
          return value;
        }
        `}getPackedValueFrom(st,_e,$,nt,it){let lt=`_${st}_Pack`;return it&&(lt+="_T"),`
        vec4 ${lt}(int m[${_e}]) {
          int offset = indicesToOffset_${st}(m);
          vec2 coords = offsetToCoords(offset, ${$}, ${nt});
          return ${(0,et.getGlsl)(this.context.glContext.version).texture2D}(${st}, coords);
        }
        `}}i.CoordsGlslLib=at},1997:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.TopologicalSortGlslRoutines=i.GlslLibRoutineNode=i.GlslLibRoutine=i.GlslLib=i.GlslContext=i.FunctionType=void 0,(a=i.FunctionType||(i.FunctionType={}))[a.ValueBased=0]="ValueBased",a[a.Positional=1]="Positional",i.GlslContext=class{constructor(s,j,et,tt){this.glContext=s,this.programInfo=j,this.inputTextureLayouts=et,this.outputTextureLayout=tt}},i.GlslLib=class{constructor(s){this.context=s}},i.GlslLibRoutine=class{constructor(s,j){this.routineBody=s,this.dependencies=j}},i.GlslLibRoutineNode=class{constructor(s,j,et){this.name=s,this.dependencies=et||[],j&&(this.routineBody=j)}addDependency(s){s&&this.dependencies.push(s)}},i.TopologicalSortGlslRoutines=class{static returnOrderedNodes(s){if(!s||s.length===0)return[];if(s.length===1)return s;const j=new Set,et=new Set,tt=new Array;return this.createOrderedNodes(s,j,et,tt),tt}static createOrderedNodes(s,j,et,tt){for(let rt=0;rt<s.length;++rt)this.dfsTraverse(s[rt],j,et,tt)}static dfsTraverse(s,j,et,tt){if(!s||et.has(s.name))return;if(j.has(s.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");j.add(s.name);const rt=s.dependencies;if(rt&&rt.length>0)for(let at=0;at<rt.length;++at)this.dfsTraverse(rt[at],j,et,tt);tt.push(s),et.add(s.name),j.delete(s.name)}}},1371:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EncodingGlslLib=void 0;const s=a(1997);class j extends s.GlslLib{constructor(tt){super(tt)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new s.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new s.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const tt=j.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new s.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${tt}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const tt=j.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new s.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${tt}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const tt=new ArrayBuffer(4),rt=new Uint32Array(tt),at=new Uint8Array(tt);if(rt[0]=3735928559,at[0]===239)return!0;if(at[0]===222)return!1;throw new Error("unknown endianness")}}i.EncodingGlslLib=j},2691:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FragColorGlslLib=void 0;const s=a(1997),j=a(6757);class et extends s.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const rt=(0,j.getGlsl)(this.context.glContext.version);return{setFragColor:new s.GlslLibRoutine(`
        void setFragColor(float value) {
            ${rt.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new s.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}i.FragColorGlslLib=et},3878:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.replaceInlines=void 0;const a=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;i.replaceInlines=function(s){const j={};let et;for(;(et=a.exec(s))!==null;){const tt=et[3].split(",").map(rt=>{const at=rt.trim().split(" ");return at&&at.length===2?{type:at[0],name:at[1]}:null}).filter(rt=>rt!==null);j[et[2]]={params:tt,body:et[4]}}for(const tt in j){const rt="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",tt),at=new RegExp(rt,"gm");for(;(et=at.exec(s))!==null;){const ot=et[1],st=et[2],_e=et[3].split(","),$=ot?`${ot} ${st};`:"";let nt=j[tt].body,it="";j[tt].params.forEach((dt,ft)=>{dt&&(it+=`${dt.type} ${dt.name} = ${_e[ft]};
`)}),nt=`${it}
 ${nt}`,nt=nt.replace("return",`${st} = `);const lt=`
      ${$}
      {
        ${nt}
      }
      `;s=s.replace(et[0],lt)}}return s.replace(a,"")}},8897:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlslPreprocessor=void 0;const s=a(1997),j=a(3878),et=a(1248),tt=a(6757);i.GlslPreprocessor=class{constructor(rt,at,ot,st){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new s.GlslContext(rt,at,ot,st),Object.keys(et.glslRegistry).forEach($=>{const nt=new et.glslRegistry[$](this.context);this.libs[$]=nt});const _e=this.glslLibRoutineDependencyGraph;for(const $ in this.libs){const nt=this.libs[$].getFunctions();for(const it in nt){const lt=$+"."+it;let dt;_e[lt]?(dt=_e[lt],dt.routineBody=nt[it].routineBody):(dt=new s.GlslLibRoutineNode(lt,nt[it].routineBody),_e[lt]=dt);const ft=nt[it].dependencies;if(ft)for(let pt=0;pt<ft.length;++pt)if(_e[ft[pt]])dt.addDependency(_e[ft[pt]]);else{const ht=new s.GlslLibRoutineNode(ft[pt]);_e[ft[pt]]=ht,dt.addDependency(ht)}}}}preprocess(){const rt=this.context.programInfo;let at=rt.shaderSource;return this.context.programInfo.hasMain||(at=`${at}
      ${(0,tt.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),at=(0,j.replaceInlines)(at),`${(0,tt.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(rt.inputNames,rt.variables)}
    ${this.getImports(at)}
    ${at}`}getImports(rt){const at=this.selectGlslLibRoutinesToBeIncluded(rt);if(at.length===0)return"";let ot="";for(let st=0;st<at.length;++st){if(!at[st].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${at[st].name}`);ot+=at[st].routineBody+`
`}return ot}selectGlslLibRoutinesToBeIncluded(rt){const at=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ot=>{const st=ot.split(".")[1];rt.indexOf(st)!==-1&&at.push(this.glslLibRoutineDependencyGraph[ot])}),s.TopologicalSortGlslRoutines.returnOrderedNodes(at)}getUniforms(rt,at){const ot=[];if(rt)for(const st of rt)ot.push(`uniform sampler2D ${st};`);if(at)for(const st of at)ot.push(`uniform ${st.type} ${st.name}${st.arrayLength?`[${st.arrayLength}]`:""};`);return ot.join(`
`)}}},1248:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.glslRegistry=void 0;const s=a(6859),j=a(1371),et=a(2691),tt=a(9183),rt=a(9314);i.glslRegistry={encoding:j.EncodingGlslLib,fragcolor:et.FragColorGlslLib,vec:rt.VecGlslLib,shapeUtils:tt.ShapeUtilsGlslLib,coordinates:s.CoordsGlslLib}},9183:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ShapeUtilsGlslLib=void 0;const s=a(1997);class j extends s.GlslLib{constructor(tt){super(tt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const tt=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((at,ot)=>{const st=this.context.inputTextureLayouts[ot].unpackedShape;if(st.length<=tt){const _e=st.length,$=tt-_e,nt=`bcastIndices_${at}`;let it="";for(let dt=0;dt<_e;++dt)it+=`
          realIndices[${dt}] = int( mod(float(bcastedIndices[${$+dt}]), ${st[dt]}.0) );
          `;const lt=`
        void ${nt} (int bcastedIndices[${tt}], out int realIndices[${_e}]) {
          ${it}
        }
        `;rt[nt]=new s.GlslLibRoutine(lt)}}),rt}bcastMatmulIndex(){const tt=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((at,ot)=>{const st=this.context.inputTextureLayouts[ot].shape;if(!(st.length<2||st.length>tt)){const _e=st.length,$=tt-_e,nt=`bcastMatmulIndices_${at}`;let it="";for(let dt=0;dt<_e-2;++dt)it+=`
          realIndices[${dt}] = int( mod(float(bcastedIndices[${$+dt}]), ${st[dt]}.0) );
          `;const lt=`
        void ${nt}(int bcastedIndices[${tt}], out int realIndices[${_e}]) {
          ${it}
          realIndices[${_e-1}] = bcastedIndices[${tt-1}];
          realIndices[${_e-2}] = bcastedIndices[${tt-2}];
        }
        `;rt[nt]=new s.GlslLibRoutine(lt)}}),rt}indicesToOffset(){const tt={};return this.context.programInfo.inputNames.forEach((rt,at)=>{const ot=this.context.inputTextureLayouts[at].shape,st=this.context.inputTextureLayouts[at].strides,_e=ot.length;let $=`indicesToOffset_${rt}`;tt[$]=new s.GlslLibRoutine(j.indexToOffsetSingle($,_e,st)),$=`indicesToOffset_${rt}_T`,tt[$]=new s.GlslLibRoutine(j.indexToOffsetSingle($,_e,st.slice().reverse()))}),tt}static indexToOffsetSingle(tt,rt,at){let ot="";for(let st=rt-1;st>=0;--st)ot+=`
        offset += indices[${st}] * ${at[st]};
        `;return`
      int ${tt}(int indices[${rt}]) {
        int offset = 0;
        ${ot}
        return offset;
      }
      `}offsetToIndices(){const tt={};return this.context.programInfo.inputNames.forEach((rt,at)=>{const ot=this.context.inputTextureLayouts[at].shape,st=this.context.inputTextureLayouts[at].strides,_e=ot.length;let $=`offsetToIndices_${rt}`;tt[$]=new s.GlslLibRoutine(j.offsetToIndicesSingle($,_e,st)),$=`offsetToIndices_${rt}_T`,tt[$]=new s.GlslLibRoutine(j.offsetToIndicesSingle($,_e,st.slice().reverse()))}),tt}static offsetToIndicesSingle(tt,rt,at){const ot=[];for(let st=0;st<rt-1;++st)ot.push(`
      indices[${st}] = offset / ${at[st]};`),ot.push(`
        offset -= indices[${st}] * ${at[st]};`);return ot.push(`
      indices[${rt-1}] = offset;`),`
      void ${tt}(int offset, out int indices[${rt}]) {
        ${ot.join("")}
      }
      `}incrementIndices(){const tt={};return this.context.programInfo.inputNames.forEach((rt,at)=>{const ot=this.context.inputTextureLayouts[at].shape,st=ot.length,_e=`incrementIndices_${rt}`;let $="";for(let it=0;it<st;++it)$+=`
        shape[${it}] = ${ot[it]};`;const nt=`
        void ${_e}(int axis, out int indices[${st}]) {
          int shape[${st}];
          ${$};
          for(int i = ${st} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;tt[_e]=new s.GlslLibRoutine(nt)}),tt}}i.ShapeUtilsGlslLib=j},6757:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getDefaultFragShaderMain=i.getFragShaderPreamble=i.getVertexShaderSource=i.getGlsl=void 0;const a={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},s={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function j(et){return et===1?a:s}i.getGlsl=j,i.getVertexShaderSource=function(et){const tt=j(et);return`${tt.version}
      precision highp float;
      ${tt.attribute} vec3 position;
      ${tt.attribute} vec2 textureCoord;

      ${tt.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},i.getFragShaderPreamble=function(et){const tt=j(et);return`${tt.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${tt.varyingFrag} vec2 TexCoords;
    ${tt.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},i.getDefaultFragShaderMain=function(et,tt){return`
  void main() {
    int indices[${tt}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${j(et).output} = result;
  }
  `}},9314:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VecGlslLib=void 0;const s=a(1997);class j extends s.GlslLib{constructor(tt){super(tt)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const tt=this.context.outputTextureLayout.shape.length,rt={add:"+=",sub:"-=",mul:"*=",div:"/="},at={};for(const ot in rt){const st=`${ot}Vec`;let _e="";for(let nt=0;nt<tt;++nt)_e+=`
          dest[${nt}] ${rt[ot]} src[${nt}];
          `;const $=`
        void ${st}(int src[${tt}], out int dest[${tt}]) {
          ${_e}
        }
        `;at[st]=new s.GlslLibRoutine($)}return at}copyVec(){const tt=this.context.outputTextureLayout.shape.length;let rt="";for(let ot=0;ot<tt;++ot)rt+=`
        dest[${ot}] = src[${ot}];
        `;const at=`
      void copyVec(int src[${tt}], out int dest[${tt}]) {
        ${rt}
      }
      `;return{copyVec:new s.GlslLibRoutine(at)}}setVecItem(){const tt=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index =${tt} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ot=1;ot<tt-1;++ot)rt+=`
        else if (index == ${ot})
            m[${ot}] = value;
            `;rt+=`
        else
            m[${tt-1}] = value;
        `;const at=`
      void setVecItem(out int m[${tt}], int index, int value) {
        ${rt}
      }
        `;return{setVecItem:new s.GlslLibRoutine(at)}}getVecItem(){const tt=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index = ${tt} + index;
        if (index == 0)
            return m[0];
      `;for(let ot=1;ot<tt-1;++ot)rt+=`
        else if (index == ${ot})
            return m[${ot}];
      `;rt+=`
        else
            return m[${tt-1}];
        `;const at=`
      int getVecItem(int m[${tt}], int index) {
        ${rt}
      }
    `;return{getVecItem:new s.GlslLibRoutine(at)}}}i.VecGlslLib=j},7860:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLInferenceHandler=void 0;const s=a(1315),j=a(9240),et=a(7273),tt=a(9),rt=a(7379),at=a(2488),ot=a(540),st=a(3314),_e=a(5639);i.WebGLInferenceHandler=class{constructor($){this.session=$,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight($,nt){return(0,st.calculateTextureWidthAndHeight)(this.session.layoutStrategy,$,nt)}executeProgram($,nt){if(nt.length<$.inputNames.length)throw new Error(`Input size mustn't be less than ${$.inputNames.length}.`);if($.inputNames.length!==$.inputTypes.length)throw new Error("input names size does not match input types");const it=[];for(let gt=0;gt<$.inputNames.length;++gt)it[gt]=this.getOrCreateTextureData(nt[gt],$.inputTypes[gt]);const lt=((gt,mt)=>{const yt=mt.map(_t=>`${_t.unpackedShape.join(",")};${_t.width}x${_t.height}`).join("_");let bt=gt.name;return gt.cacheHint&&(bt+="["+gt.cacheHint+"]"),bt+=":"+yt,bt})($,it);let dt=this.session.programManager.getArtifact(lt);const ft=dt?dt.programInfo:typeof $.get=="function"?$.get():$,pt=(0,st.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ft.output.dims,ft.output.textureType),ht=this.createTextureData(pt,ft.output.type);return dt||(dt=this.session.programManager.build(ft,it,ht),this.session.programManager.setArtifact(lt,dt)),this.runProgram(dt,it,ht),ht}run($,nt){return this.executeProgram($,nt).tensor}runProgram($,nt,it){for(let lt=0;lt<nt.length;++lt)if(!!nt[lt].isPacked!=($.programInfo.inputTypes[lt]===_e.TextureType.packed))throw new Error(`input[${lt}] property packed inconsistent`);if(!!it.isPacked!=($.programInfo.output.textureType===_e.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run($,nt,it)}getOrCreateTextureData($,nt){let it=this.getTextureData($.dataId,nt===_e.TextureType.packed);if(!it&&(it=this.getTextureData($.dataId,nt!==_e.TextureType.packed),it))return nt===_e.TextureType.packed?this.pack(it):this.unpack(it);if(!it){const lt=(0,st.createTextureLayoutFromTextureType)(this.session.layoutStrategy,$.dims,nt);if(nt===_e.TextureType.packedLastDimension){const pt=$.dims;if(pt.length===4){const ht=[pt[0],Math.ceil(pt[1]*pt[2]*pt[3]/4)],gt=(0,st.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ht,nt);let mt=$.numberData;if(pt[1]*pt[2]*pt[3]%4!=0){const yt=pt[0],bt=pt[1]*pt[2]*pt[3],_t=Math.ceil(bt*1/4)*4;mt=new Float32Array(yt*_t);for(let xt=0;xt<yt;++xt){const Et=xt*bt,Tt=xt*_t+xt%1*bt;mt.set($.numberData.subarray(Et,Et+bt),Tt)}}return this.createTextureData(gt,$.type,mt,$,1)}}if(nt===_e.TextureType.packed){const dt=(0,st.createTextureLayoutFromShape)(this.session.layoutStrategy,$.dims,1,[],{reverseWH:!0}),ft=this.createTextureData(dt,$.type,$.numberData,$,1);it=this.pack(ft)}else it=this.createTextureData(lt,$.type,$.numberData,$,1)}return it}createTextureDataFromLayoutBindTensor($,nt,it,lt){return this.createTextureData($,nt,it,lt,1)}createTextureData($,nt,it,lt,dt){s.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify($)}]`);const ft=this.session.textureManager.createTextureFromLayout(nt,$,it,dt);return this.createTextureDataFromTexture($,nt,ft,lt)}reshapeUnpacked($,nt){const it=this.getOrCreateTextureData($,_e.TextureType.unpacked),lt={channels:it.channels,height:it.height,width:it.width,shape:nt.length!==0?nt:[1],strides:et.ShapeUtil.computeStrides(nt),unpackedShape:nt};return this.createTextureDataFromTexture(lt,$.type,it.texture).tensor}reshapePacked($,nt){const it=this.getOrCreateTextureData($,_e.TextureType.packed);if((0,rt.isReshapeCheap)($.dims,nt)){const ht={channels:it.channels,height:it.height,width:it.width,shape:nt.length!==0?nt:[1],strides:et.ShapeUtil.computeStrides(nt),unpackedShape:nt,isPacked:!0};return this.createTextureDataFromTexture(ht,$.type,it.texture).tensor}const lt=(0,rt.processDims3D)($.dims),dt=(0,rt.processDims3D)(nt),ft=this.reshapePacked($,lt),pt=this.run((0,rt.createPackedReshape3DProgramInfoLoader)(this,ft,dt),[ft]);return this.reshapePacked(pt,nt)}cast($,nt){const it=this.getOrCreateTextureData($,_e.TextureType.unpacked);return this.createTextureDataFromTexture(it,nt,it.texture).tensor}createTextureDataFromTexture($,nt,it,lt,dt){const ft=Object.assign(Object.assign({},$),{tensor:lt||new j.Tensor($.unpackedShape,nt,pt=>this.readTexture(ft),async pt=>this.readTextureAsync(ft),void 0,dt),texture:it});return this.setTextureData(ft.tensor.dataId,ft,$.isPacked),ft}getTextureData($,nt=!1){return this.session.isInitializer($)?this.session.getTextureData($,nt):nt?this.packedTextureDataCache.get($):this.unpackedTextureDataCache.get($)}setTextureData($,nt,it=!1){this.session.isInitializer($)?this.session.setTextureData($,nt,it):(it?this.packedTextureDataCache:this.unpackedTextureDataCache).set($,nt)}isTextureLayoutCached($,nt=!1){return!!this.getTextureData($.dataId,nt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach($=>this.session.textureManager.releaseTexture($)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach($=>this.session.textureManager.releaseTexture($)),this.unpackedTextureDataCache=new Map}readTexture($){return $.isPacked?this.readTexture(this.unpack($)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture($,$.tensor.type,$.channels):this.session.textureManager.readUint8TextureAsFloat((0,at.encodeAsUint8)(this,$))}async readTextureAsync($){return $.isPacked?this.readTextureAsync(this.unpack($)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync($,$.tensor.type,$.channels):this.session.textureManager.readUint8TextureAsFloat((0,at.encodeAsUint8)(this,$))}pack($){return this.executeProgram((0,tt.createPackProgramInfoLoader)(this,$.tensor),[$.tensor])}unpack($){return this.executeProgram((0,ot.createUnpackProgramInfoLoader)(this,$.tensor),[$.tensor])}}},4110:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(zt,Wt,Qt,un){un===void 0&&(un=Qt);var an=Object.getOwnPropertyDescriptor(Wt,Qt);an&&!("get"in an?!Wt.__esModule:an.writable||an.configurable)||(an={enumerable:!0,get:function(){return Wt[Qt]}}),Object.defineProperty(zt,un,an)}:function(zt,Wt,Qt,un){un===void 0&&(un=Qt),zt[un]=Wt[Qt]}),j=this&&this.__setModuleDefault||(Object.create?function(zt,Wt){Object.defineProperty(zt,"default",{enumerable:!0,value:Wt})}:function(zt,Wt){zt.default=Wt}),et=this&&this.__importStar||function(zt){if(zt&&zt.__esModule)return zt;var Wt={};if(zt!=null)for(var Qt in zt)Qt!=="default"&&Object.prototype.hasOwnProperty.call(zt,Qt)&&s(Wt,zt,Qt);return j(Wt,zt),Wt};Object.defineProperty(i,"__esModule",{value:!0}),i.WEBGL_OP_RESOLVE_RULES=void 0;const tt=a(8817),rt=et(a(5194)),at=a(4752),ot=a(6668),st=a(9754),_e=a(5042),$=a(6742),nt=a(4125),it=a(6149),lt=a(5378),dt=a(6981),ft=a(7413),pt=a(7006),ht=a(8276),gt=a(5565),mt=a(2834),yt=a(1010),bt=a(8126),_t=a(2801),xt=a(565),Et=a(2444),Tt=a(815),Pt=a(564),At=a(5416),Ot=a(1240),It=a(5944),$t=a(5707),kt=et(a(9087)),Ft=a(7862),Ut=a(3980);i.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",kt.abs],["Acos","","7+",kt.acos],["Add","","7+",rt.add],["And","","7+",rt.and],["Asin","","7+",kt.asin],["Atan","","7+",kt.atan],["AveragePool","","7+",mt.averagePool,mt.parseAveragePoolAttributes],["BatchNormalization","","7+",tt.batchNormalization,tt.parseBatchNormalizationAttributes],["Cast","","6+",at.cast,at.parseCastAttributes],["Ceil","","6+",kt.ceil],["Clip","","6-10",kt.clip,kt.parseClipAttributes],["Clip","","11+",kt.clipV11],["Concat","","4+",ot.concat,ot.parseConcatAttributes],["Conv","","1+",st.conv,st.parseConvAttributes],["ConvTranspose","","1+",_e.convTranspose,_e.parseConvTransposeAttributes],["Cos","","7+",kt.cos],["Div","","7+",rt.div],["Dropout","","7+",kt.identity],["DepthToSpace","","1+",$.depthToSpace,$.parseDepthToSpaceAttributes],["Equal","","7+",rt.equal],["Elu","","6+",kt.elu,kt.parseEluAttributes],["Exp","","6+",kt.exp],["Flatten","","1+",nt.flatten,nt.parseFlattenAttributes],["Floor","","6+",kt.floor],["FusedConv","com.microsoft","1+",st.conv,st.parseConvAttributes],["Gather","","1+",it.gather,it.parseGatherAttributes],["Gemm","","7-10",lt.gemm,lt.parseGemmAttributesV7],["Gemm","","11+",lt.gemm,lt.parseGemmAttributesV11],["GlobalAveragePool","","1+",mt.globalAveragePool,mt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",mt.globalMaxPool],["Greater","","7+",rt.greater],["Identity","","1+",kt.identity],["ImageScaler","","1+",dt.imageScaler,dt.parseImageScalerAttributes],["InstanceNormalization","","6+",ft.instanceNormalization,ft.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",kt.leakyRelu,kt.parseLeakyReluAttributes],["Less","","7+",rt.less],["LRN","","1+",pt.lrn,pt.parseLrnAttributes],["Log","","6+",kt.log],["MatMul","","1+",ht.matMul,ht.parseMatMulAttributes],["MaxPool","","1+",mt.maxPool,mt.parseMaxPoolAttributes],["Mul","","7+",rt.mul],["Neg","","6+",kt.neg],["Not","","1+",kt.not],["Or","","7+",rt.or],["Pad","","2-10",gt.padV2,gt.parsePadAttributesV2],["Pad","","11+",gt.padV11,gt.parsePadAttributesV11],["Pow","","7+",rt.pow],["PRelu","","7+",rt.pRelu],["ReduceLogSum","","1+",yt.reduceLogSum,yt.parseReduceAttributes],["ReduceMax","","1+",yt.reduceMax,yt.parseReduceAttributes],["ReduceMean","","1+",yt.reduceMean,yt.parseReduceAttributes],["ReduceMin","","1+",yt.reduceMin,yt.parseReduceAttributes],["ReduceProd","","1+",yt.reduceProd,yt.parseReduceAttributes],["ReduceSum","","1-12",yt.reduceSum,yt.parseReduceAttributes],["ReduceSumSquare","","1+",yt.reduceLogSumSquare,yt.parseReduceAttributes],["Relu","","6+",kt.relu],["Reshape","","5+",bt.reshape],["Resize","","10",_t.resize,_t.parseResizeAttributesV10],["Resize","","11+",_t.resize,_t.parseResizeAttributesV11],["Shape","","1+",xt.shape],["Sigmoid","","6+",kt.sigmoid],["Sin","","7+",kt.sin],["Slice","","10+",Et.sliceV10],["Slice","","1-9",Et.slice,Et.parseSliceAttributes],["Softmax","","1-12",Tt.softmax,Tt.parseSoftmaxAttributes],["Softmax","","13+",Tt.softmaxV13,Tt.parseSoftmaxAttributesV13],["Split","","2-12",Pt.split,Pt.parseSplitAttributes],["Sqrt","","6+",kt.sqrt],["Squeeze","","1-12",At.squeeze,At.parseSqueezeAttributes],["Squeeze","","13+",At.squeezeV13],["Sub","","7+",rt.sub],["Sum","","6+",Ot.sum],["Tan","","7+",kt.tan],["Tanh","","6+",kt.tanh],["Tile","","6+",It.tile],["Transpose","","1+",$t.transpose,$t.parseTransposeAttributes],["Upsample","","7-8",Ut.upsample,Ut.parseUpsampleAttributesV7],["Upsample","","9",Ut.upsample,Ut.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Ft.unsqueeze,Ft.parseUnsqueezeAttributes],["Unsqueeze","","13+",Ft.unsqueezeV13],["Xor","","7+",rt.xor]]},8817:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseBatchNormalizationAttributes=i.batchNormalization=void 0;const s=a(4910),j=a(6757),et=a(5639),tt={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]};i.batchNormalization=(ot,st,_e)=>(at(st),[ot.run(Object.assign(Object.assign({},tt),{cacheHint:_e.cacheKey,get:()=>rt(ot,st,_e)}),st)]),i.parseBatchNormalizationAttributes=ot=>{const st=ot.attributes.getFloat("epsilon",1e-5),_e=ot.attributes.getFloat("momentum",.9),$=ot.attributes.getInt("spatial",1);return(0,s.createAttributeWithCacheKey)({epsilon:st,momentum:_e,spatial:$})};const rt=(ot,st,_e)=>{const $=(0,j.getGlsl)(ot.session.backend.glContext.version),nt=st[0].dims.length,[it,lt]=ot.calculateTextureWidthAndHeight(st[1].dims,et.TextureType.unpacked),dt=`
  float process(int[${nt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${it}, ${lt});
    float scale = getColorAsFloat(${$.texture2D}(Scale, position));
    float mean = getColorAsFloat(${$.texture2D}(Mean, position));
    float variance = getColorAsFloat(${$.texture2D}(Variance, position));
    float b = getColorAsFloat(${$.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${_e.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},tt),{output:{dims:st[0].dims,type:st[0].type,textureType:et.TextureType.unpacked},shaderSource:dt})},at=ot=>{if(!ot||ot.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const st=ot[0],_e=ot[1],$=ot[2],nt=ot[3],it=ot[4];if(st.dims.length<3||_e.dims.length!==1||$.dims.length!==1||nt.dims.length!==1||it.dims.length!==1)throw new Error("invalid input shape.");if(_e.dims[0]!==st.dims[1]||$.dims[0]!==st.dims[1]||nt.dims[0]!==st.dims[1]||it.dims[0]!==st.dims[1])throw new Error("invalid input shape.");if(st.type!=="float32"&&st.type!=="float64"||_e.type!=="float32"&&_e.type!=="float64"||$.type!=="float32"&&$.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64"||it.type!=="float32"&&it.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.xor=i.sub=i.pRelu=i.pow=i.or=i.mul=i.less=i.greater=i.equal=i.div=i.and=i.add=i.glslPRelu=i.glslPow=i.glslXor=i.glslOr=i.glslAnd=i.glslLess=i.glslGreater=i.glslEqual=i.glslSub=i.glslMul=i.glslDiv=i.glslAdd=void 0;const s=a(7273),j=a(1997),et=a(6757),tt=a(5639);function rt(){const mt="add_";return{body:`
  float ${mt}(float a, float b) {
    return a + b;
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function at(){const mt="div_";return{body:`
  float ${mt}(float a, float b) {
    return a / b;
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function ot(){const mt="mul_";return{body:`
  float ${mt}(float a, float b) {
    return a * b;
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function st(){const mt="sub_";return{body:`
  float ${mt}(float a, float b) {
    return a - b;
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function _e(){const mt="equal_";return{body:`
  float ${mt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function $(){const mt="greater_";return{body:`
  float ${mt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function nt(){const mt="less_";return{body:`
  float ${mt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function it(){const mt="and_";return{body:`
  float ${mt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function lt(){const mt="or_";return{body:`
  float ${mt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function dt(){const mt="xor_";return{body:`
  float ${mt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}function ft(){return function(mt){const yt=`${mt}_`;return{body:`
  float ${yt}(float a, float b) {
    return ${mt}(a, b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return ${mt}(v1, v2);
  }
  `,name:yt,type:j.FunctionType.ValueBased}}("pow")}function pt(){const mt="prelu_";return{body:`
  float ${mt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${mt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:mt,type:j.FunctionType.ValueBased}}i.glslAdd=rt,i.glslDiv=at,i.glslMul=ot,i.glslSub=st,i.glslEqual=_e,i.glslGreater=$,i.glslLess=nt,i.glslAnd=it,i.glslOr=lt,i.glslXor=dt,i.glslPow=ft,i.glslPRelu=pt;const ht=(mt,yt,bt,_t=yt[0].type,xt)=>{const Et=mt.session.pack?tt.TextureType.packed:tt.TextureType.unpacked;return{name:bt.name,inputNames:["A","B"],inputTypes:[Et,Et],cacheHint:xt,get:()=>gt(mt,yt,bt,_t)}},gt=(mt,yt,bt,_t=yt[0].type)=>{const xt=mt.session.pack?tt.TextureType.packed:tt.TextureType.unpacked,Et=!s.ShapeUtil.areEqual(yt[0].dims,yt[1].dims);let Tt=yt[0].dims;const Pt=mt.session.pack;if(Et){const It=s.BroadcastUtil.calcShape(yt[0].dims,yt[1].dims,!1);if(!It)throw new Error("Can't perform binary op on the given tensors");Tt=It;const $t=Tt.length,kt=yt[0].dims.length!==0?yt[0].dims.length:1,Ft=yt[1].dims.length!==0?yt[1].dims.length:1,Ut=yt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",zt=yt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Wt=(0,et.getGlsl)(mt.session.backend.glContext.version),Qt=Pt?`
      ${bt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${bt.name}(a, b);
        ${Wt.output} = result;
      }`:`
      ${bt.body}
      float process(int indices[${$t}]) {
        int aindices[${kt}];
        int bindices[${Ft}];
        ${Ut}
        ${zt}
        return ${bt.name}(_A(aindices), _B(bindices));
      }`;return{name:bt.name,inputNames:["A","B"],inputTypes:[xt,xt],output:{dims:Tt,type:_t,textureType:xt},shaderSource:Qt,hasMain:Pt}}const At=(0,et.getGlsl)(mt.session.backend.glContext.version),Ot=`
    ${bt.body}
    void main() {
      vec4 v1 = ${At.texture2D}(A, TexCoords);
      vec4 v2 = ${At.texture2D}(B, TexCoords);
      vec4 result = ${bt.name}(v1, v2);
      ${At.output} = result;
    }
    `;return{name:bt.name,inputNames:["A","B"],inputTypes:[xt,xt],output:{dims:yt[0].dims,type:_t,textureType:xt},shaderSource:Ot,hasMain:!0}};i.add=(mt,yt)=>[mt.run(ht(mt,yt,rt()),yt)],i.and=(mt,yt)=>[mt.run(ht(mt,yt,it(),"bool"),yt)],i.div=(mt,yt)=>[mt.run(ht(mt,yt,at()),yt)],i.equal=(mt,yt)=>[mt.run(ht(mt,yt,_e(),"bool"),yt)],i.greater=(mt,yt)=>[mt.run(ht(mt,yt,$(),"bool"),yt)],i.less=(mt,yt)=>[mt.run(ht(mt,yt,nt(),"bool"),yt)],i.mul=(mt,yt)=>[mt.run(ht(mt,yt,ot()),yt)],i.or=(mt,yt)=>[mt.run(ht(mt,yt,lt(),"bool"),yt)],i.pow=(mt,yt)=>[mt.run(ht(mt,yt,ft()),yt)],i.pRelu=(mt,yt)=>[mt.run(ht(mt,yt,pt()),yt)],i.sub=(mt,yt)=>[mt.run(ht(mt,yt,st()),yt)],i.xor=(mt,yt)=>[mt.run(ht(mt,yt,dt(),"bool"),yt)]},4752:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseCastAttributes=i.cast=void 0;const s=a(7273);i.cast=(et,tt,rt)=>(j(tt),[et.cast(tt[0],rt)]),i.parseCastAttributes=et=>s.ProtoUtil.tensorDataTypeFromProto(et.attributes.getInt("to"));const j=et=>{if(!et||et.length!==1)throw new Error("Cast requires 1 input.");if(et[0].type==="string")throw new Error("Invalid input type.")}},4595:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedConcatProgramInfoLoader=void 0;const s=a(6757),j=a(5639),et=a(432),tt=a(5614);i.createPackedConcatProgramInfoLoader=(at,ot,st)=>{const _e=($=ot.length,nt=st.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:$},(it,lt)=>`X${lt}`),inputTypes:Array($).fill(j.TextureType.packed),cacheHint:nt});var $,nt;return Object.assign(Object.assign({},_e),{get:()=>((it,lt,dt,ft)=>{const pt=dt[0].dims.slice();if(ft>=pt.length||ft<-1*pt.length)throw new Error("axis specified for concat doesn't match input dimensionality");ft<0&&(ft=pt.length+ft);const ht=pt.slice(0);for(let Ut=1;Ut<dt.length;Ut++){const zt=dt[Ut].dims.slice();for(let Wt=0;Wt<pt.length;Wt++)if(Wt===ft)ht[ft]+=zt[Wt];else if(pt[Wt]!==zt[Wt])throw new Error("non concat dimensions must match")}const gt=ht.length,mt=(0,tt.getChannels)("coords",gt),yt=(0,et.getCoordsDataType)(gt),bt=(0,tt.unpackFromChannel)(),_t=dt.map(Ut=>Ut.dims),xt=(0,et.getGlChannels)(gt),Et=new Array(_t.length-1);Et[0]=_t[0][ft];for(let Ut=1;Ut<Et.length;Ut++)Et[Ut]=Et[Ut-1]+_t[Ut][ft];const Tt=xt[ft],Pt=xt.slice(-2),At=xt.join();let Ot=`if (${Tt} < ${Et[0]}) {
        return getChannel(
            getX0(${At}), vec2(${Pt.join()}));
        }`;for(let Ut=1;Ut<Et.length;Ut++){const zt=Et[Ut-1];Ot+=`
            if (${Tt} < ${Et[Ut]}  && ${Tt} >= ${Et[Ut-1]}) {
              return getChannel(
                getX${Ut}(${rt(xt,Tt,zt)}),
                vec2(${rt(Pt,Tt,zt)}));
            }`}const It=Et.length,$t=Et[Et.length-1];Ot+=`
            return getChannel(
              getX${It}(${rt(xt,Tt,$t)}),
              vec2(${rt(Pt,Tt,$t)}));`;const kt=(0,s.getGlsl)(it.session.backend.glContext.version),Ft=`
          ${bt}
          float getValue(${xt.map(Ut=>"int "+Ut)}) {
            ${Ot}
          }

          void main() {
            ${yt} coords = getOutputCoords();
            int lastDim = coords.${xt[gt-1]};
            coords.${xt[gt-1]} = coords.${xt[gt-2]};
            coords.${xt[gt-2]} = lastDim;

            vec4 result = vec4(getValue(${mt}), 0., 0., 0.);

            ${mt[gt-1]} = ${mt[gt-1]} + 1;
            if (${mt[gt-1]} < ${ht[gt-1]}) {
              result.g = getValue(${mt});
            }

            ${mt[gt-2]} = ${mt[gt-2]} + 1;
            if (${mt[gt-2]} < ${ht[gt-2]}) {
              result.a = getValue(${mt});
            }

            ${mt[gt-1]} = ${mt[gt-1]} - 1;
            if (${mt[gt-2]} < ${ht[gt-2]} &&
                ${mt[gt-1]} < ${ht[gt-1]}) {
              result.b = getValue(${mt});
            }
            ${kt.output} = result;
          }
        `;return Object.assign(Object.assign({},lt),{output:{dims:ht,type:dt[0].type,textureType:j.TextureType.packed},shaderSource:Ft,hasMain:!0})})(at,_e,ot,st.axis)})};const rt=(at,ot,st)=>{const _e=at.indexOf(ot);return at.map(($,nt)=>nt===_e?`${$} - ${st}`:$).join()}},6668:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConcatAttributes=i.concat=void 0;const s=a(4910),j=a(5639),et=a(4595);i.concat=($,nt,it)=>(_e(nt),$.session.pack&&nt[0].dims.length>1?[$.run((0,et.createPackedConcatProgramInfoLoader)($,nt,it),nt)]:[$.run(tt($,nt,it),nt)]);const tt=($,nt,it)=>{const lt=(dt=nt.length,ft=it.cacheKey,{name:"Concat",inputNames:Array.from({length:dt},(pt,ht)=>`X${ht}`),inputTypes:Array(dt).fill(j.TextureType.unpacked),cacheHint:ft});var dt,ft;return Object.assign(Object.assign({},lt),{get:()=>((pt,ht,gt,mt)=>{const yt=gt[0].dims.slice();if(mt>=yt.length||mt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");mt<0&&(mt=yt.length+mt);const bt=yt.slice(0);for(let At=1;At<gt.length;At++){const Ot=gt[At].dims.slice();for(let It=0;It<yt.length;It++)if(It===mt)bt[mt]+=Ot[It];else if(yt[It]!==Ot[It])throw new Error("non concat dimensions must match")}const _t=bt.length,xt=new Array(gt.length);let Et=0;for(let At=0;At<xt.length;++At)Et+=gt[At].dims[mt],xt[At]=Et;let Tt="";Tt=gt.length<5?rt(xt):at(xt);const Pt=`
        ${ot(gt.length,_t)}
        ${st(xt)}
        ${Tt}
        float process(int indices[${_t}]) {
          int textureIndex = getTextureWhereDataResides (indices[${mt}]);

          if(textureIndex != 0) {
            indices[${mt}] = indices[${mt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},ht),{output:{dims:bt,type:gt[0].type,textureType:j.TextureType.unpacked},shaderSource:Pt})})(0,lt,nt,it.axis)})},rt=$=>`int getTextureWhereDataResides(int index) {
      ${$.map((nt,it)=>`if(index<${nt}) {return ${it};}
`).join("")}
    }`,at=$=>rt($),ot=($,nt)=>{const it=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${nt}]) {`];for(let lt=0;lt<$;++lt)lt===0?it.push(`	if (textureIndex == ${lt}) { return _X${lt}(indices); }`):lt===$-1?it.push(`	else { return _X${lt}(indices); }`):it.push(`	else if (textureIndex == ${lt}) { return _X${lt}(indices); }`);return it.push("	}"),it.join(`
`)},st=$=>{const nt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let it=0;it<$.length;++it)it===0?nt.push(`	if (index == ${it}) { return ${$[it]}; }`):it===$.length-1?nt.push(`	else { return ${$[it]}; }`):nt.push(`	else if (index == ${it}) { return ${$[it]}; }`);return nt.push("	}"),nt.join(`
`)};i.parseConcatAttributes=$=>(0,s.createAttributeWithCacheKey)({axis:$.attributes.getInt("axis")});const _e=$=>{if(!$||$.length<1)throw new Error("too few inputs");const nt=$[0].type,it=$[0].dims.length;if(nt==="string")throw new Error("string tensor is not supported yet");for(const lt of $){if(lt.type!==nt)throw new Error("input tensors should be one type");if(lt.dims.length!==it)throw new Error("input tensors should have the same shape")}}},7825:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackedGroupedConvProgramInfoLoader=void 0;const s=a(1315),j=a(6757),et=a(5639),tt=a(9754),rt=a(2150);i.createUnpackedGroupedConvProgramInfoLoader=(at,ot,st)=>{const _e=($=ot.length>2,nt=st.cacheKey,{name:"GroupedConv",inputNames:$?["X","W","Bias"]:["X","W"],inputTypes:$?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],cacheHint:nt});var $,nt;return Object.assign(Object.assign({},_e),{get:()=>((it,lt,dt,ft)=>{const pt=lt.length>2?"value += getBias(output_channel);":"",ht=lt[0].dims.slice(),gt=lt[1].dims.slice(),mt=gt[0]/ft.group;s.Logger.verbose("GroupedConv",`autpPad:${ft.autoPad}, dilations:${ft.dilations}, group:${ft.group}, kernelShape:${ft.kernelShape}, pads:${ft.pads}, strides:${ft.strides}`);const yt=(0,tt.calculateOutputShape)(ht,gt,ft.dilations,ft.pads,ft.strides),bt=(0,j.getGlsl)(it.session.backend.glContext.version),{activationFunction:_t,applyActivation:xt}=(0,rt.getActivationSnippet)(ft),Et=`
  const ivec2 strides = ivec2(${ft.strides[0]}, ${ft.strides[1]});
  const ivec2 pads = ivec2(${ft.pads[0]}, ${ft.pads[1]});
  ${_t}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${mt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${gt[1]}; wInChannel++) {
      int input_channel = group_id * ${gt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${gt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${ft.dilations[0]};

        if (xHeight < 0 || xHeight >= ${ht[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${gt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${ft.dilations[1]};
          if (xWidth < 0 || xWidth >= ${ht[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${pt}
    ${xt}
    ${bt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},dt),{output:{dims:yt,type:lt[0].type,textureType:et.TextureType.unpacked},shaderSource:Et,hasMain:!0})})(at,ot,_e,st)})}},7708:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.conv2DPacked=i.conv2DPackedPointwise=void 0;const s=a(9754),j=a(5950),et=a(5632);i.conv2DPackedPointwise=(tt,rt,at)=>{const ot=rt[0].dims,st=rt[1].dims,_e=(0,s.calculateOutputShape)(ot,st,at.dilations,at.pads,at.strides),$=tt.reshapePacked(rt[0],[ot[1],ot[2]*ot[3]]),nt=tt.reshapePacked(rt[1],[st[0],st[1]]),it=rt.length>2?[nt,$,rt[2]]:[nt,$],lt=tt.run((0,et.createPackedMatmulProgramInfoLoader)(tt,it,at),it);return tt.reshapePacked(lt,_e)},i.conv2DPacked=(tt,rt,at)=>{const ot=rt[0].dims,st=rt[1].dims,_e=(0,s.calculateOutputShape)(ot,st,at.dilations,at.pads,at.strides),$=tt.run((0,j.createPackedIm2ColProgramInfoLoader)(tt,rt[0],rt[1],_e,at),[rt[0]]),nt=tt.reshapePacked(rt[1],[st[0],st[1]*st[2]*st[3]]),it=rt.length===3?[nt,$,rt[2]]:[nt,$],lt=tt.run((0,et.createPackedMatmulProgramInfoLoader)(tt,it,at),it);return tt.reshapePacked(lt,_e)}},5042:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvTransposeAttributes=i.convTranspose=void 0;const s=a(4910),j=a(6757),et=a(5639),tt=a(2150),rt=(nt,it,lt,dt,ft,pt)=>(nt-1)*it+lt+(dt-1)*ft+1-pt,at=(nt,it,lt,dt,ft)=>{const pt=Math.floor(nt/2);it==="SAME_UPPER"?(lt[dt]=pt,lt[ft]=nt-pt):it==="SAME_LOWER"&&(lt[dt]=nt-pt,lt[ft]=pt)};i.convTranspose=(nt,it,lt)=>($(it,lt),ot(nt,it,lt));const ot=(nt,it,lt)=>{const dt=_e(lt,it);return[st(nt,it,dt)]},st=(nt,it,lt)=>nt.run(((dt,ft,pt)=>{const ht=(gt=ft.length>2,mt=pt.cacheKey,{name:"ConvTranspose",inputNames:gt?["X","W","B"]:["X","W"],inputTypes:gt?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],cacheHint:mt});var gt,mt;return Object.assign(Object.assign({},ht),{get:()=>((yt,bt,_t,xt)=>{const Et=bt.length>2?"getB(output_channel)":"0.0",Tt=bt[0].dims,Pt=bt[1].dims,At=Pt[1],Ot=Pt[0]/xt.group,It=[bt[0].dims[0],bt[1].dims[1]*xt.group,...xt.outputShape],$t=(0,j.getGlsl)(yt.session.backend.glContext.version),{activationFunction:kt,applyActivation:Ft}=(0,tt.getActivationSnippet)(xt),Ut=`
  const ivec2 strides = ivec2(${xt.strides[0]}, ${xt.strides[1]});
  const ivec2 pads = ivec2(${xt.pads[0]}, ${xt.pads[1]});
  ${kt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${At};
    int wOutChannel = output_channel - group_id * ${At};

    float value = ${Et};
    for (int inChannelOffset = 0; inChannelOffset < ${Ot}; inChannelOffset++) {
      int input_channel = group_id * ${Ot} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Pt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Pt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${xt.dilations[0]}, wHOff * ${xt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Tt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Tt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Ft}
    ${$t.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},_t),{output:{dims:It,type:bt[0].type,textureType:et.TextureType.unpacked},shaderSource:Ut,hasMain:!0})})(dt,ft,ht,pt)})})(nt,it,lt),it),_e=(nt,it)=>{const lt=nt.kernelShape.slice();if(nt.kernelShape.length===0)for(let ht=2;ht<it[1].dims.length;++ht)lt.push(it[1].dims[ht]);const dt=nt.pads.slice(),ft=nt.outputShape.slice();((ht,gt,mt,yt,bt,_t,xt,Et)=>{const Tt=ht.length-2,Pt=Et.length===0;for(let At=0;At<Tt;++At){const Ot=Pt?ht[At+2]*_t[At]:Et[At],It=rt(ht[At+2],_t[At],bt[At],gt[At],mt[At],Ot);at(It,yt,bt,At,At+Tt),Pt&&Et.push(_t[At]*(ht[At+2]-1)+xt[At]+(gt[At]-1)*mt[At]+1-bt[At]-bt[At+Tt])}})(it[0].dims,lt,nt.dilations,nt.autoPad,dt,nt.strides,nt.outputPadding,ft);const pt=Object.assign({},nt);return Object.assign(pt,{kernelShape:lt,pads:dt,outputShape:ft,cacheKey:nt.cacheKey}),pt};i.parseConvTransposeAttributes=nt=>{const it=nt.attributes,lt=(0,tt.parseInternalActivationAttributes)(it),dt=it.getString("auto_pad","NOTSET"),ft=it.getInts("dilations",[1,1]),pt=it.getInt("group",1),ht=it.getInts("kernel_shape",[]),gt=it.getInts("output_padding",[0,0]),mt=it.getInts("output_shape",[]),yt=it.getInts("pads",[0,0,0,0]),bt=it.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:dt,dilations:ft,group:pt,kernelShape:ht,outputPadding:gt,outputShape:mt,pads:yt,strides:bt},lt))};const $=(nt,it)=>{if(!nt||nt.length!==2&&nt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(nt[0].dims.length!==4||nt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(nt[0].dims[1]!==nt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const lt=nt[1].dims[1]*it.group;if(nt.length===3&&(nt[2].dims.length!==1||nt[2].dims[0]!==lt))throw new Error("invalid bias");const dt=nt[0].dims.length-2;if(it.dilations.length!==dt)throw new Error(`dilations should be ${dt}D`);if(it.strides.length!==dt)throw new Error(`strides should be ${dt}D`);if(it.pads.length!==2*dt)throw new Error(`pads should be ${2*dt}D`);if(it.outputPadding.length!==dt)throw new Error(`output_padding should be ${dt}D`);if(it.kernelShape.length!==0&&it.kernelShape.length!==nt[1].dims.length-2)throw new Error("invalid kernel shape");if(it.outputShape.length!==0&&it.outputShape.length!==nt[0].dims.length-2)throw new Error("invalid output shape");if(nt[0].type!=="float32"||nt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(nt.length===3&&nt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvAttributes=i.conv=i.calculateOutputShape=void 0;const s=a(4910),j=a(7273),et=a(7825),tt=a(7708),rt=a(3281),at=a(2150),ot=a(1625),st=a(8276);i.calculateOutputShape=(dt,ft,pt,ht,gt)=>{const mt=dt[0],yt=dt.slice(2),bt=yt.length,_t=ft[0],xt=ft.slice(2).map((Tt,Pt)=>Tt+(Tt-1)*(pt[Pt]-1)),Et=yt.map((Tt,Pt)=>Tt+ht[Pt]+ht[Pt+bt]).map((Tt,Pt)=>Math.floor((Tt-xt[Pt]+gt[Pt])/gt[Pt]));return[mt,_t].concat(...Et)},i.conv=(dt,ft,pt)=>(lt(ft,pt),_e(dt,ft,pt));const _e=(dt,ft,pt)=>{const ht=it(pt,ft),gt=dt.session.pack,mt=ht.kernelShape[0]===1&&ht.kernelShape[1]===1;return ht.group>1?[dt.run((0,et.createUnpackedGroupedConvProgramInfoLoader)(dt,ft,ht),ft)]:mt&&gt?[$(dt,ft,ht)]:gt&&ft[0].dims.length===4&&ft[0].dims[0]===1&&!mt?[(0,tt.conv2DPacked)(dt,ft,ht)]:[nt(dt,ft,ht)]},$=(dt,ft,pt)=>{const ht=ft[0].dims,gt=ft[1].dims,mt=(0,i.calculateOutputShape)(ht,gt,pt.dilations,pt.pads,pt.strides),yt=dt.reshapeUnpacked(ft[0],[ht[1],ht[2]*ht[3]]),bt=dt.reshapeUnpacked(ft[1],[gt[0],gt[1]]),_t=ft.length>2?[bt,yt,ft[2]]:[bt,yt],xt=dt.run((0,st.createMatmulProgramInfoLoader)(_t,pt),_t);return dt.reshapeUnpacked(xt,mt)},nt=(dt,ft,pt)=>{const ht=ft[0].dims,gt=ft[1].dims,mt=(0,i.calculateOutputShape)(ht,gt,pt.dilations,pt.pads,pt.strides),yt=dt.run((0,ot.createIm2ColProgramInfoLoader)(dt,ft[0],ft[1],mt,pt),[ft[0]]),bt=ft.length===3?[yt,ft[1],ft[2]]:[yt,ft[1]];return dt.run((0,rt.createDotProductProgramInfoLoader)(dt,ft,mt,pt),bt)},it=(dt,ft)=>{const pt=dt.kernelShape.slice();if(dt.kernelShape.length===0)for(let mt=2;mt<ft[1].dims.length;++mt)pt.push(ft[1].dims[mt]);const ht=dt.pads.slice();j.PoolConvUtil.adjustPadsBasedOnAutoPad(ft[0].dims,dt.strides,dt.dilations,pt,ht,dt.autoPad);const gt=Object.assign({},dt);return Object.assign(gt,{kernelShape:pt,pads:ht,cacheKey:dt.cacheKey}),gt};i.parseConvAttributes=dt=>{const ft=dt.attributes,pt=(0,at.parseInternalActivationAttributes)(ft),ht=ft.getString("auto_pad","NOTSET"),gt=ft.getInts("dilations",[1,1]),mt=ft.getInt("group",1),yt=ft.getInts("kernel_shape",[]),bt=ft.getInts("pads",[0,0,0,0]),_t=ft.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:ht,dilations:gt,group:mt,kernelShape:yt,pads:bt,strides:_t},pt))};const lt=(dt,ft)=>{if(!dt||dt.length!==2&&dt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(dt[0].dims.length!==4||dt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(dt[0].dims[1]!==dt[1].dims[1]*ft.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(dt.length===3&&(dt[2].dims.length!==1||dt[1].dims[0]!==dt[2].dims[0]))throw new Error("invalid bias");const pt=dt[0].dims.length-2;if(ft.dilations.length!==pt)throw new Error(`dilations should be ${pt}D`);if(ft.strides.length!==pt)throw new Error(`strides should be ${pt}D`);if(ft.pads.length!==2*pt)throw new Error(`pads should be ${2*pt}D`);if(ft.kernelShape.length!==0&&ft.kernelShape.length!==dt[1].dims.length-2)throw new Error("invalid kernel shape");if(dt[0].type!=="float32"||dt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(dt.length===3&&dt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseDepthToSpaceAttributes=i.depthToSpace=void 0;const s=a(5707);i.depthToSpace=(et,tt,rt)=>{j(tt);const at=rt.blocksize,ot=at*at,st=rt.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],_e=rt.mode==="DCR"?[tt[0].dims[0],at,at,tt[0].dims[1]/ot,tt[0].dims[2],tt[0].dims[3]]:[tt[0].dims[0],tt[0].dims[1]/ot,at,at,tt[0].dims[2],tt[0].dims[3]],$=et.reshapeUnpacked(tt[0],_e),nt={perm:st,cacheKey:`${st}`},[it]=(0,s.transpose)(et,[$],nt),lt=[tt[0].dims[0],tt[0].dims[1]/ot,tt[0].dims[2]*at,tt[0].dims[3]*at];return[et.reshapeUnpacked(it,lt)]},i.parseDepthToSpaceAttributes=et=>{const tt=et.attributes.getInt("blocksize");if(tt<1)throw new Error(`blocksize must be >= 1, but got : ${tt} for DepthToSpace`);const rt=et.attributes.getString("mode","DCR");if(rt!=="DCR"&&rt!=="CRD")throw new Error(`unrecognized mode: ${rt} for DepthToSpace`);return{mode:rt,blocksize:tt}};const j=et=>{if(et.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${et.length}`);if(et[0].type==="string"||et[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDotProductProgramInfoLoader=void 0;const s=a(7273),j=a(6757),et=a(5639),tt=a(2150),rt=a(1625);i.createDotProductProgramInfoLoader=(at,ot,st,_e)=>{const $=((nt,it)=>({name:"ConvDotProduct",inputNames:nt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:nt?[et.TextureType.unpacked,et.TextureType.packedLastDimension,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.packedLastDimension],cacheKey:it.activationCacheKey}))(ot.length>2,_e);return Object.assign(Object.assign({},$),{get:()=>((nt,it,lt,dt,ft)=>{const pt=lt[0].dims,ht=lt[1].dims,gt=[ht[0],Math.ceil(pt[1]*ht[2]*ht[3]/4)],mt=(0,rt.calculateIm2ColDims)(pt,ht,dt),[yt,bt]=nt.calculateTextureWidthAndHeight(gt,et.TextureType.packedLastDimension),_t=s.ShapeUtil.computeStrides(mt),[xt,Et]=nt.calculateTextureWidthAndHeight(mt,et.TextureType.packedLastDimension),Tt=dt.length,Pt=lt.length<3?"0.0":"_B(b)",At=Math.ceil(pt[1]*ht[2]*ht[3]/4),{activationFunction:Ot,applyActivation:It}=(0,tt.getActivationSnippet)(ft),$t=(0,j.getGlsl)(nt.session.backend.glContext.version),kt=`
${Ot}
float process(int indices[${Tt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${_t[0]} + im2col[1] * ${_t[1]} + im2col[2] * ${_t[2]};
  int kernelOffset = indices[1] * ${gt[1]};
  float value = ${Pt};
  for (int i = 0; i < ${At}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${xt}, ${Et});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${yt}, ${bt});
    value += dot(${$t.texture2D}(Im2Col, im2colCoords), ${$t.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${It}
  return value;
}`;return Object.assign(Object.assign({},it),{output:{dims:dt,type:lt[0].type,textureType:et.TextureType.unpacked},shaderSource:kt})})(at,$,ot,st,_e)})}},4125:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseFlattenAttributes=i.flatten=void 0;const s=a(7273);i.flatten=(et,tt,rt)=>{j(tt,rt);const at=s.ShapeUtil.flattenShape(tt[0].dims,rt);return[et.reshapeUnpacked(tt[0],at)]},i.parseFlattenAttributes=et=>et.attributes.getInt("axis",1);const j=(et,tt)=>{if(!et||et.length!==1)throw new Error("Flatten requires 1 input.");const rt=et[0].dims.length;if(rt===0)throw new Error("scalar tensor is not supported.");if(tt<-rt||tt>rt)throw new Error("Invalid axis");if(et[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInternalActivationAttributes=i.getActivationSnippet=void 0;const s=a(7273),j=a(9087);i.getActivationSnippet=function(et){let tt;switch(et.activation){case"Relu":tt=(0,j.glslRelu)();break;case"Sigmoid":tt=(0,j.glslSigmoid)();break;case"Clip":tt=(0,j.glslClip)(et.clipMin,et.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const rt=tt.name;return{activationFunction:tt.body,applyActivation:`value = ${rt}_(value);`}},i.parseInternalActivationAttributes=et=>{const tt=et.getString("activation","");if(tt==="Clip"){const[rt,at]=et.getFloats("activation_params",[s.MIN_CLIP,s.MAX_CLIP]);return{activation:tt,clipMax:at,clipMin:rt,activationCacheKey:`${tt}:${rt},${at}`}}return{activation:tt,activationCacheKey:tt}}},6149:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGatherAttributes=i.gather=void 0;const s=a(4910),j=a(6145),et=a(7273),tt=a(5639);i.gather=(st,_e,$)=>(ot(_e,$.axis),[st.run(at(st,_e,$),_e)]),i.parseGatherAttributes=st=>(0,s.createAttributeWithCacheKey)({axis:st.attributes.getInt("axis",0)});const rt={name:"Gather",inputNames:["A","B"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked]},at=(st,_e,$)=>{const nt=Object.assign(Object.assign({},rt),{cacheHint:$.cacheKey});return Object.assign(Object.assign({},nt),{get:()=>((it,lt,dt,ft)=>{const pt=dt[0].dims.slice(),ht=dt[1].dims.slice(),gt=new Array(pt.length+ht.length-1);ft=et.ShapeUtil.normalizeAxis(ft,pt.length);const mt=[];for(let bt=0;bt<gt.length;bt++)bt<ft?(gt[bt]=pt[bt],mt.push(`inputIdx[${bt}] = outputIdx[${bt}];`)):bt<ft+ht.length?(gt[bt]=ht[bt-ft],mt.push(`indexDataIdx[${bt-ft}] = outputIdx[${bt}];`)):(gt[bt]=pt[bt-ht.length+1],mt.push(`inputIdx[${bt-ht.length+1}] = outputIdx[${bt}];`));const yt=`
      float process(int outputIdx[${gt.length||1}]) {
        int inputIdx[${pt.length}];
        int indexDataIdx[${ht.length||1}];
        indexDataIdx[0] = 0;
        ${mt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${ft}] = idx < 0 ? idx + ${pt[ft]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},lt),{output:{dims:gt,type:dt[0].type,textureType:tt.TextureType.unpacked},shaderSource:yt})})(0,nt,_e,$.axis)})},ot=(st,_e)=>{if(!st||st.length!==2)throw new Error("Gather requires 2 inputs.");const $=st[0].dims.length;if($<1)throw new Error("Invalid input shape.");if(_e<-$||_e>$-1)throw new Error("Invalid axis.");if(j.NUMBER_TYPES.indexOf(st[0].type)===-1)throw new Error("Invaid input type.");if(st[1].type!=="int32"&&st[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGemmAttributesV11=i.parseGemmAttributesV7=i.gemm=void 0;const s=a(4910),j=a(7273),et=a(5639);i.gemm=(st,_e,$)=>(ot(_e,$),[st.run(rt(_e,$),_e)]);const tt=(st,_e)=>{const $=st.attributes.getInt("transA",0)!==0,nt=st.attributes.getInt("transB",0)!==0,it=st.attributes.getFloat("alpha",1),lt=st.attributes.getFloat("beta",1);return(0,s.createAttributeWithCacheKey)({transA:$,transB:nt,alpha:it,beta:lt,isOptionalC:_e})};i.parseGemmAttributesV7=st=>tt(st,!1),i.parseGemmAttributesV11=st=>tt(st,!0);const rt=(st,_e)=>{const $={name:"Gemm",inputNames:st.length===3?["A","B","C"]:["A","B"],inputTypes:st.length===3?[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]:[et.TextureType.unpacked,et.TextureType.unpacked],key:_e.cacheKey};return Object.assign(Object.assign({},$),{get:()=>at($,st,_e)})},at=(st,_e,$)=>{const nt=_e[0].dims.slice(),it=_e[1].dims.slice(),[lt,dt]=j.GemmUtil.getShapeOfGemmResult(nt,$.transA,it,$.transB,_e.length===3?_e[2].dims:void 0),ft=[lt,dt];if(!ft)throw new Error("Can't use gemm on the given tensors");let pt=nt[nt.length-1],ht="";$.transA&&(pt=nt[0]),$.transA&&$.transB?ht="value += _A_T(a) * _B_T(b);":$.transA&&!$.transB?ht="value += _A_T(a) * _B(b);":!$.transA&&$.transB?ht="value += _A(a) * _B_T(b);":$.transA||$.transB||(ht="value += _A(a) * _B(b);");const gt=ft.length,mt=`
      float process(int indices[${gt}]) {
          int a[${gt}];
          int b[${gt}];
          ${_e.length===3?`int c[${_e[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${_e.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${pt}; ++k) {
              a[${gt-1}] = k;
              b[${gt-2}] = k;
              ${ht}
          }

          value = value * alpha;
          ${_e.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},st),{output:{dims:ft,type:_e[0].type,textureType:et.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:$.alpha},{name:"beta",type:"float",data:$.beta}],shaderSource:mt})},ot=(st,_e)=>{if(!st)throw new Error("Input is missing");if(_e.isOptionalC&&(st.length<2||st.length>3))throw new Error("Invaid input shape.");if(!_e.isOptionalC&&st.length!==3)throw new Error("Gemm requires 3 inputs");if(st.length===3&&st[2].dims.length!==1&&st[2].dims.length!==2)throw new Error("Invalid input shape of C");if(st[0].type!=="float32"&&st[0].type!=="float64"||st[1].type!=="float32"&&st[1].type!=="float64"||st.length===3&&st[2].type!=="float32"&&st[2].type!=="float64")throw new Error("Invalid input type.");if(st[0].type!==st[1].type||st.length===3&&st[0].type!==st[2].type)throw new Error("Input types are mismatched")}},5950:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedIm2ColProgramInfoLoader=void 0;const s=a(6757),j=a(5639),et=a(5614);i.createPackedIm2ColProgramInfoLoader=(tt,rt,at,ot,st)=>{const _e=($=st.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[j.TextureType.packed],cacheHint:$});var $;return Object.assign(Object.assign({},_e),{get:()=>((nt,it,lt,dt,ft,pt)=>{const ht=lt.dims,gt=dt.dims,mt=ft.length,yt=[gt[1]*gt[2]*gt[3],ft[2]*ft[3]],bt=gt[2]*gt[3],_t=(0,et.unpackFromChannel)(),xt=(0,s.getGlsl)(nt.session.backend.glContext.version);let Et="";for(let Pt=0;Pt<=1;Pt++)for(let At=0;At<=1;At++)Et+=`
            blockIndex = rc.x + ${At};
            pos = rc.y + ${Pt};

            if(blockIndex < ${yt[1]} && pos < ${yt[0]}) {
              offsetY = int(blockIndex / (${ft[mt-1]})) * ${pt.strides[0]} -
                ${pt.pads[0]};
              d0 = offsetY + ${pt.dilations[0]} * (imod(pos, ${bt}) / ${gt[2]});

              if(d0 < ${ht[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${ft[mt-1]}) * ${pt.strides[1]} -
                  ${pt.pads[1]};
                d1 = offsetX + ${pt.dilations[1]} * imod(imod(pos, ${bt}), ${gt[2]});

                if(d1 < ${ht[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${bt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Pt+At}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Tt=`
      ${_t}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${Et}
          ${xt.output} = result;
      }
            `;return Object.assign(Object.assign({},it),{output:{dims:yt,type:lt.type,textureType:j.TextureType.packed},shaderSource:Tt,hasMain:!0})})(tt,_e,rt,at,ot,st)})}},1625:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.calculateIm2ColDims=i.createIm2ColProgramInfoLoader=void 0;const s=a(5639);i.createIm2ColProgramInfoLoader=(j,et,tt,rt,at)=>{const ot=(st=at.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[s.TextureType.unpacked],cacheHint:st});var st;return Object.assign(Object.assign({},ot),{get:()=>((_e,$,nt,it,lt,dt)=>{const ft=nt.dims,pt=it.dims,ht=lt.length,gt=(0,i.calculateIm2ColDims)(ft,pt,lt,4),mt=`
        const int XC = ${ft[1]};
        const int XH = ${ft[2]};
        const int XW = ${ft[3]};
        const int KH = ${dt.kernelShape[0]};
        const int KW = ${dt.kernelShape[1]};
        const int dilationH = ${dt.dilations[0]};
        const int dilationW = ${dt.dilations[1]};
        const int strideH = ${dt.strides[0]};
        const int strideW = ${dt.strides[1]};
        const int padH = ${dt.pads[0]};
        const int padW = ${dt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${ht}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${ft.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},$),{output:{dims:gt,type:nt.type,textureType:s.TextureType.packedLastDimension},shaderSource:mt})})(0,ot,et,tt,rt,at)})},i.calculateIm2ColDims=(j,et,tt,rt=4)=>[tt[0],tt[2],tt[3],Math.ceil(j[1]*et[2]*et[3]/rt)]},6981:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseImageScalerAttributes=i.imageScaler=void 0;const s=a(4910),j=a(5639);i.imageScaler=(ot,st,_e)=>(at(st),[ot.run(tt(ot,st,_e),st)]),i.parseImageScalerAttributes=ot=>{const st=ot.attributes.getFloat("scale"),_e=ot.attributes.getFloats("bias");return(0,s.createAttributeWithCacheKey)({scale:st,bias:_e})};const et={name:"ImageScaler",inputNames:["X"],inputTypes:[j.TextureType.unpacked]},tt=(ot,st,_e)=>{const $=Object.assign(Object.assign({},et),{cacheHint:_e.cacheKey});return Object.assign(Object.assign({},$),{get:()=>((nt,it,lt,dt)=>{const ft=lt[0].dims.slice(),pt=ft.length,ht=`
      ${rt(dt.bias.length)}
      float process(int indices[${pt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},it),{output:{dims:ft,type:lt[0].type,textureType:j.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:dt.bias.length,data:dt.bias},{name:"scale",type:"float",data:dt.scale}],shaderSource:ht})})(0,$,st,_e)})},rt=ot=>{const st=[`float getBias(float bias[${ot}], int channel) {`];for(let _e=0;_e<ot;++_e)_e===0?st.push(`	if (channel == ${_e}) { return bias[${_e}]; }`):_e===ot-1?st.push(`	else { return bias[${_e}]; }`):st.push(`	else if (channel == ${_e}) { return bias[${_e}]; }`);return st.push("	}"),st.join(`
`)},at=ot=>{if(!ot||ot.length!==1)throw new Error("ImageScaler requires 1 input.");if(ot[0].dims.length!==4)throw new Error("Invalid input shape.");if(ot[0].type!=="float32"&&ot[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInstanceNormalizationAttributes=i.instanceNormalization=void 0;const s=a(6757),j=a(5639);i.instanceNormalization=(st,_e,$)=>{ot(_e);const nt=st.run(tt(_e[0]),_e);return[st.run(at(st,_e[0],$,nt.dims),[_e[0],nt,_e[1],_e[2]])]},i.parseInstanceNormalizationAttributes=st=>st.attributes.getFloat("epsilon",1e-5);const et={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[j.TextureType.unpacked]},tt=st=>Object.assign(Object.assign({},et),{get:()=>((_e,$)=>{const nt=$.dims.slice(),it=nt[1],lt=nt[2]*nt[3],dt=[nt[0],it],ft=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${nt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${nt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${lt});
        temp = 0.0;
        for(int a2=0; a2<${nt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${nt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${lt});

        return v;
      }`;return Object.assign(Object.assign({},_e),{output:{dims:dt,type:$.type,textureType:j.TextureType.packedLastDimension},shaderSource:ft})})(et,st)}),rt={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[j.TextureType.unpacked,j.TextureType.packedLastDimension,j.TextureType.unpacked,j.TextureType.unpacked]},at=(st,_e,$,nt)=>{const it=Object.assign(Object.assign({},rt),{cacheHint:`${$}`});return Object.assign(Object.assign({},it),{get:()=>((lt,dt,ft,pt,ht)=>{const gt=(0,s.getGlsl)(lt.session.backend.glContext.version),[mt,yt]=lt.calculateTextureWidthAndHeight(ht,j.TextureType.packedLastDimension),[bt,_t]=[mt/4,yt],xt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${bt}, ${_t});
        return ${gt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},dt),{output:{dims:ft.dims,type:ft.type,textureType:j.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:pt}],shaderSource:xt})})(st,it,_e,$,nt)})},ot=st=>{if(!st||st.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const _e=st[0],$=st[1],nt=st[2];if(_e.dims.length<3||$.dims.length!==1||nt.dims.length!==1)throw new Error("Invalid input shape.");if($.dims[0]!==_e.dims[1]||nt.dims[0]!==_e.dims[1])throw new Error("Input shapes are mismatched.");if(_e.type!=="float32"&&_e.type!=="float64"||$.type!=="float32"&&$.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")throw new Error("Invalid input type.");if(st[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createLrnProgramInfoLoader=i.parseLrnAttributes=i.lrn=void 0;const s=a(4910),j=a(5639);i.lrn=(at,ot,st)=>(rt(ot),[at.run(tt(ot,st),ot)]),i.parseLrnAttributes=at=>{const ot=at.attributes.getFloat("alpha",1e-4),st=at.attributes.getFloat("beta",.75),_e=at.attributes.getFloat("bias",1),$=at.attributes.getInt("size");return(0,s.createAttributeWithCacheKey)({alpha:ot,beta:st,bias:_e,size:$})};const et={name:"LRN",inputNames:["X"],inputTypes:[j.TextureType.unpacked]};function tt(at,ot){return Object.assign(Object.assign({},et),{cacheHint:ot.cacheKey,get:()=>function(st,_e){const $=st[0].dims[1],nt=st[0].dims.length,it=-Math.floor((_e.size-1)/2),lt=Math.ceil((_e.size-1)/2),dt=`float(${_e.alpha}) / float(${_e.size})`,ft=`
    float process(int indices[${nt}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${it}; i <= ${lt}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${$}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${_e.bias}) + ${dt} * square_sum, float(${_e.beta}));
    }`;return Object.assign(Object.assign({},et),{cacheHint:_e.cacheKey,output:{dims:st[0].dims,type:st[0].type,textureType:j.TextureType.unpacked},shaderSource:ft})}(at,ot)})}i.createLrnProgramInfoLoader=tt;const rt=at=>{if(!at||at.length!==1)throw new Error("LRN requires 1 input.");if(at[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(at[0].type!=="float32")throw new Error("input should be float type")}},5632:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedMatmulProgramInfoLoader=void 0;const s=a(7273),j=a(6757),et=a(5639),tt=a(432),rt=a(2150),at=a(8276);i.createPackedMatmulProgramInfoLoader=(ot,st,_e)=>{const $=(nt=st.length>2,it=_e.activationCacheKey,{name:"MatMul (packed)",inputNames:nt?["A","B","Bias"]:["A","B"],inputTypes:nt?[et.TextureType.packed,et.TextureType.packed,et.TextureType.packed]:[et.TextureType.packed,et.TextureType.packed],cacheHint:it});var nt,it;return Object.assign(Object.assign({},$),{get:()=>((lt,dt,ft,pt)=>{const ht=ft.length>2,gt=ht?"value += getBiasForMatmul();":"",mt=ft[0].dims,yt=ft[1].dims,bt=s.BroadcastUtil.calcShape(mt,yt,!0),_t=!s.ShapeUtil.areEqual(ft[0].dims,ft[1].dims);if(!bt)throw new Error("Can't use matmul on the given tensors");const xt=mt[mt.length-1],Et=Math.ceil(xt/2),Tt=mt.length,Pt=yt.length,At=(0,j.getGlsl)(lt.session.backend.glContext.version),Ot=(0,tt.getCoordsDataType)(bt.length),It=bt.length,$t=(0,tt.getGlChannels)(),{activationFunction:kt,applyActivation:Ft}=(0,rt.getActivationSnippet)(pt),Ut=ht?`${(0,at.getBiasForMatmul)(Ot,$t,ft[2].dims,bt,!0)}`:"",zt=_t?`${function(an,vn,fn,jt){let en=[],on=[];const wn=fn[0].dims,cn=fn[1].dims,An=wn.length,bn=cn.length,Vn=jt.length,xn=Vn-An,Jn=Vn-bn;en=wn.map((Fn,Bn)=>`coords.${vn[Bn+xn]}`),en[An-1]="i*2",en.join(", "),on=cn.map((Fn,Bn)=>`coords.${vn[Bn+Jn]}`),on[bn-2]="i*2",on.join(", ");const Ln=s.BroadcastUtil.getBroadcastDims(wn,jt),Hn=s.BroadcastUtil.getBroadcastDims(cn,jt),jn=Ln.map(Fn=>`coords.${vn[Fn+xn]} = 0;`).join(`
`),On=Hn.map(Fn=>`coords.${vn[Fn+Jn]} = 0;`).join(`
`),zn=`int lastDim = coords.${vn[Vn-1]};
  coords.${vn[Vn-1]} = coords.${vn[Vn-2]};
  coords.${vn[Vn-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${an} coords = getOutputCoords();
  ${zn}
  ${jn}
  vec4 outputValue = getA(${en});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${an} coords = getOutputCoords();
  ${zn}
  ${On}
  vec4 outputValue = getB(${on});
  return outputValue;
}`}(Ot,$t,ft,bt)}`:"",Wt=_t?"getAAtOutCoordsMatmul(i)":`getA(${function(an,vn){let fn="";for(let jt=0;jt<vn-2;jt++)fn+=`rc.${an[jt]}, `;return fn+=`rc.${an[vn-2]}, i*2`,fn}($t,Tt)})`,Qt=_t?"getBAtOutCoordsMatmul(i)":`getB(${function(an,vn){let fn="";for(let jt=0;jt<vn-2;jt++)fn+=`rc.${an[jt]}, `;return fn+=`i*2, rc.${an[vn-1]}`,fn}($t,Pt)})`,un=`
            ${zt}
            ${Ut}
            ${kt}
            void main() {
              ${_t?"":`${Ot} rc =
          getOutputCoords(); int lastDim = rc.${$t[It-1]}; rc.${$t[It-1]} =
          rc.${$t[It-2]}; rc.${$t[It-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${Et}; i++) {
                vec4 a = ${Wt};
                vec4 b = ${Qt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${gt}
              ${Ft}
              ${At.output} = value;
            }`;return Object.assign(Object.assign({},dt),{output:{dims:bt,type:ft[0].type,textureType:et.TextureType.packed},shaderSource:un,hasMain:!0})})(ot,$,st,_e)})}},8276:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBiasForMatmul=i.createMatmulProgramInfoLoader=i.parseMatMulAttributes=i.matMul=void 0;const s=a(7273),j=a(5639),et=a(432),tt=a(2150),rt=a(5632);i.matMul=($,nt,it)=>(st(nt),$.session.pack?[$.run((0,rt.createPackedMatmulProgramInfoLoader)($,nt,it),nt)]:[$.run(ot(nt,it),nt)]),i.parseMatMulAttributes=$=>(0,tt.parseInternalActivationAttributes)($.attributes);const at=($,nt)=>({name:"MatMul",inputNames:$?["A","B","Bias"]:["A","B"],inputTypes:$?[j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked]:[j.TextureType.unpacked,j.TextureType.unpacked],cacheHint:nt});function ot($,nt){const it=at($.length>2,nt.activationCacheKey);return Object.assign(Object.assign({},it),{get:()=>function(lt,dt,ft){const pt=dt[0].dims,ht=dt[1].dims,gt=s.BroadcastUtil.calcShape(pt,ht,!0);if(!gt)throw new Error("Can't use matmul on the given tensors");const mt=(0,et.getCoordsDataType)(gt.length),yt=(0,et.getGlChannels)(),{activationFunction:bt,applyActivation:_t}=(0,tt.getActivationSnippet)(ft),xt=dt.length>2,Et=xt?"value += getBiasForMatmul();":"",Tt=xt?`${_e(mt,yt,dt[2].dims,gt,!1)}`:"",Pt=gt.length,At=pt.length,Ot=ht.length,It=`
    ${bt}
    ${Tt}
    float process(int indices[${Pt}]) {
        int a[${At}];
        int b[${Ot}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${pt[pt.length-1]}; ++k) {
            a[${At-1}] = k;
            b[${Ot-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Et}
        ${_t}
        return value;
    }`;return Object.assign(Object.assign({},lt),{output:{dims:gt,type:dt[0].type,textureType:j.TextureType.unpacked},shaderSource:It})}(it,$,nt)})}i.createMatmulProgramInfoLoader=ot;const st=$=>{if(!$||$.length!==2)throw new Error("MatMul requires 2 inputs.");if($[0].dims[$[0].dims.length-1]!==$[1].dims[$[1].dims.length-2])throw new Error("shared dimension does not match.");if($[0].type!=="float32"&&$[0].type!=="float64"||$[1].type!=="float32"&&$[1].type!=="float64")throw new Error("inputs should be float type");if($[0].type!==$[1].type)throw new Error("inputs types should match")};function _e($,nt,it,lt,dt){let ft="";const pt=it.length,ht=lt.length,gt=ht-pt;ft=ht<2&&pt>0?"coords":it.map((bt,_t)=>`coords.${nt[_t+gt]}`).join(", ");const mt=s.BroadcastUtil.getBroadcastDims(it,lt).map(bt=>`coords.${nt[bt+gt]} = 0;`).join(`
`);let yt="vec4(outputValue.xx, outputValue.yy)";return s.ShapeUtil.size(it)===1&&(yt="vec4(outputValue.x)"),dt?`
vec4 getBiasForMatmul() {
  ${$} coords = getOutputCoords();
  ${mt}
  vec4 outputValue = getBias(${ft});
  return ${yt};
}`:`
float getBiasForMatmul() {
  ${$} coords = getOutputCoords();
  ${mt}
  return getBias(coords.x);
}`}i.getBiasForMatmul=_e},9:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackProgramInfoLoader=void 0;const s=a(6757),j=a(5639),et=a(432),tt=a(5614),rt={name:"pack",inputNames:["A"],inputTypes:[j.TextureType.unpackedReversed]};i.createPackProgramInfoLoader=(at,ot)=>Object.assign(Object.assign({},rt),{get:()=>((st,_e)=>{const $=(0,s.getGlsl)(st.session.backend.glContext.version),nt=_e.dims,it=nt.length,lt=_e.dims.length,dt=(0,et.getCoordsDataType)(lt),ft=(0,tt.getChannels)("rc",lt),pt=(ht=lt,gt=ft,mt=nt[nt.length-2],yt=nt[nt.length-1],ht===0||ht===1?"":`
    int r = ${gt[ht-2]};
    int c = ${gt[ht-1]};
    int rp1 = ${gt[ht-2]} + 1;
    int cp1 = ${gt[ht-1]} + 1;
    bool rEdge = rp1 >= ${yt};
    bool cEdge = cp1 >= ${mt};
    `);var ht,gt,mt,yt;let bt;bt=it===0?[1,1]:it===1?[nt[0],1]:[nt[lt-1],nt[lt-2]];const _t=function(Tt,Pt,At){if(Tt===0)return"false";if(Tt===1)return`rc > ${Pt[0]}`;let Ot="";for(let It=Tt-2;It<Tt;It++)Ot+=`${At[It]} >= ${Pt[It-Tt+2]}`,It<Tt-1&&(Ot+="||");return Ot}(lt,bt,ft),xt=function(Tt,Pt){const At=Tt.length;if(At===0)return"getA(), 0, 0, 0";if(At===1)return`getA(rc),
            rc + 1 >= ${Tt[0]} ? 0. : getA(rc + 1),
            0, 0`;let Ot="";if(At>2)for(let It=0;It<At-2;++It)Ot+=`${Pt[It]},`;return`getA(${Ot}r, c),
          rEdge ? 0. : getA(${Ot}rp1, c),
          cEdge ? 0. : getA(${Ot}r, cp1),
          rEdge || cEdge ? 0. : getA(${Ot}rp1, cp1)`}(nt,ft),Et=`
        void main() {
          ${dt} rc = getOutputCoords();

          if(${_t}) {
            ${$.output} = vec4(0);
          } else {
            ${pt}

            ${$.output} = vec4(${xt});
          }
        }
      `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:_e.dims,type:_e.type,textureType:j.TextureType.packed},shaderSource:Et})})(at,ot)})},5614:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.unpackFromChannel=i.getChannels=i.getVecChannels=void 0;const s=a(432);function j(et,tt){return(0,s.getGlChannels)(tt).map(rt=>`${et}.${rt}`)}i.getVecChannels=j,i.getChannels=function(et,tt){return tt===1?[et]:j(et,tt)},i.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parsePadAttributesV11=i.padV11=i.parsePadAttributesV2=i.padV2=void 0;const s=a(4910),j=a(7273),et=a(6757),tt=a(5639),rt={name:"Pad",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};i.padV2=(dt,ft,pt)=>(st(ft),[dt.run(Object.assign(Object.assign({},rt),{cacheHint:pt.cacheKey,get:()=>ot(dt,ft[0],pt)}),ft)]),i.parsePadAttributesV2=dt=>{const ft=dt.attributes.getString("mode","constant"),pt=dt.attributes.getFloat("value",0),ht=dt.attributes.getInts("pads");return(0,s.createAttributeWithCacheKey)({mode:ft,value:pt,pads:ht})},i.padV11=(dt,ft,pt)=>{_e(ft);const ht=at(dt,ft,pt);return(0,i.padV2)(dt,[ft[0]],ht)},i.parsePadAttributesV11=dt=>dt.attributes.getString("mode","constant");const at=(dt,ft,pt)=>{if(!dt.session.isInitializer(ft[1].dataId)||ft.length>=3&&!dt.session.isInitializer(ft[2].dataId))throw new Error("dynamic pad attributes are not allowed");const ht=Array.from(ft[1].integerData),gt=ft.length>=3?ft[2].floatData[0]:0;return(0,s.createAttributeWithCacheKey)({mode:pt,pads:ht,value:gt})},ot=(dt,ft,pt)=>{const ht=j.ShapeUtil.padShape(ft.dims.slice(),pt.pads),gt=ht.length,mt=`
      ${$(dt,ft,pt)}
      float process(int[${gt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[tt.TextureType.unpacked],output:{dims:ht,type:ft.type,textureType:tt.TextureType.unpacked},shaderSource:mt}},st=dt=>{if(!dt||dt.length!==1)throw new Error("Pad requires 1 input");if(dt[0].type!=="float32"&&dt[0].type!=="float64")throw new Error("Invalid input type.")},_e=dt=>{if(!dt||dt.length!==2&&dt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(dt[1].type!=="int32")throw new Error("Invalid input type.");if(dt.length>=3&&dt[2].type==="string")throw new Error("Invalid input type.")},$=(dt,ft,pt)=>{const ht=(0,et.getGlsl)(dt.session.backend.glContext.version),[gt,mt]=dt.calculateTextureWidthAndHeight(ft.dims,tt.TextureType.unpacked),yt=j.ShapeUtil.computeStrides(ft.dims);switch(pt.mode){case"constant":return nt(ht,ft.dims,yt,gt,mt,pt.pads,pt.value);case"reflect":return it(ht,ft.dims,yt,gt,mt,pt.pads);case"edge":return lt(ht,ft.dims,yt,gt,mt,pt.pads);default:throw new Error("Invalid mode")}},nt=(dt,ft,pt,ht,gt,mt,yt)=>{const bt=ft.length;let _t="";for(let xt=bt-1;xt>=0;--xt)_t+=`
        k = m[${xt}] - ${mt[xt]};
        if (k < 0)  return constant;
        if (k >= ${ft[xt]}) return constant;
        offset += k * ${pt[xt]};
        `;return`
      float padA(int m[${bt}]) {
        const float constant = float(${yt});
        int offset = 0;
        int k = 0;
        ${_t}
        vec2 coords = offsetToCoords(offset, ${ht}, ${gt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `},it=(dt,ft,pt,ht,gt,mt)=>{const yt=ft.length;let bt="";for(let _t=yt-1;_t>=0;--_t)bt+=`
        k = m[${_t}] - ${mt[_t]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(ft[_t]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${ft[_t]}) { k = _2n_1 - k; }
        }
        offset += k * ${pt[_t]};
        `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${ht}, ${gt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `},lt=(dt,ft,pt,ht,gt,mt)=>{const yt=ft.length;let bt="";for(let _t=yt-1;_t>=0;--_t)bt+=`
        k = m[${_t}] - ${mt[_t]};
        if (k < 0)  k = 0;
        if (k >= ${ft[_t]}) k = ${ft[_t]-1};
        offset += k * ${pt[_t]};
      `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${ht}, ${gt});
        float value = getColorAsFloat(${dt.texture2D}(A, coords));
        return value;
      }
      `}},2834:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.globalMaxPool=i.parseMaxPoolAttributes=i.maxPool=i.parseGlobalAveragePoolAttributes=i.globalAveragePool=i.parseAveragePoolAttributes=i.averagePool=void 0;const s=a(4910),j=a(7273),et=a(5639);i.averagePool=(lt,dt,ft)=>{_e(dt);const pt={name:"AveragePool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:ft.cacheKey};return[lt.run(Object.assign(Object.assign({},pt),{get:()=>tt(dt,pt,!1,ft)}),dt)]},i.parseAveragePoolAttributes=lt=>{const dt=lt.attributes.getString("auto_pad","NOTSET"),ft=lt.attributes.getInt("ceil_mode",0),pt=lt.attributes.getInt("count_include_pad",0)!==0,ht=lt.attributes.getInts("kernel_shape"),gt=lt.attributes.getInts("strides",[]),mt=lt.attributes.getInts("pads",[]);if(ft!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,s.createAttributeWithCacheKey)({autoPad:dt,ceilMode:ft,countIncludePad:pt,kernelShape:ht,strides:gt,pads:mt})};const tt=(lt,dt,ft,pt)=>{const[ht,gt]=at(lt,pt,ft),mt=j.ShapeUtil.size(ht.kernelShape);let yt="";ht.countIncludePad?yt+=`value /= float(${mt});`:yt+=`value /= float(${mt} - pad);`;const bt=`
        ${$(lt[0].dims,ht,"value += _X(x);",yt,"0.0")}
      `;return Object.assign(Object.assign({},dt),{output:{dims:gt,type:lt[0].type,textureType:et.TextureType.unpacked},shaderSource:bt})};i.globalAveragePool=(lt,dt,ft)=>{_e(dt);const pt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:`${ft.countIncludePad}`};return[lt.run(Object.assign(Object.assign({},pt),{get:()=>tt(dt,pt,!0,ft)}),dt)]},i.parseGlobalAveragePoolAttributes=lt=>{const dt=lt.attributes.getInt("count_include_pad",0)!==0;return(0,s.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:dt,kernelShape:[],strides:[],pads:[]})},i.maxPool=(lt,dt,ft)=>{_e(dt);const pt={name:"MaxPool",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:ft.cacheKey};return[lt.run(Object.assign(Object.assign({},pt),{get:()=>rt(dt,pt,!1,ft)}),dt)]},i.parseMaxPoolAttributes=lt=>{const dt=lt.attributes.getString("auto_pad","NOTSET"),ft=lt.attributes.getInt("ceil_mode",0),pt=lt.attributes.getInts("kernel_shape"),ht=lt.attributes.getInts("strides",[]),gt=lt.attributes.getInts("pads",[]),mt=lt.attributes.getInt("storage_order",0),yt=lt.attributes.getInts("dilations",[]);if(mt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ft!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,s.createAttributeWithCacheKey)({autoPad:dt,ceilMode:ft,countIncludePad:!1,kernelShape:pt,strides:ht,pads:gt,storageOrder:mt,dilations:yt})};const rt=(lt,dt,ft,pt)=>{const[ht,gt]=at(lt,pt,ft),mt=`
      ${$(lt[0].dims,ht,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},dt),{output:{dims:gt,type:lt[0].type,textureType:et.TextureType.unpacked},shaderSource:mt})},at=(lt,dt,ft)=>{const pt=lt[0].dims.slice(),ht=Object.hasOwnProperty.call(dt,"dilations"),gt=dt.kernelShape.slice(),mt=dt.strides.slice(),yt=ht?dt.dilations.slice():[],bt=dt.pads.slice();j.PoolConvUtil.adjustPoolAttributes(ft,pt,gt,mt,yt,bt);const _t=j.PoolConvUtil.computePoolOutputShape(ft,pt,mt,yt,gt,bt,dt.autoPad),xt=Object.assign({},dt);return ht?Object.assign(xt,{kernelShape:gt,strides:mt,pads:bt,dilations:yt,cacheKey:dt.cacheKey}):Object.assign(xt,{kernelShape:gt,strides:mt,pads:bt,cacheKey:dt.cacheKey}),[xt,_t]},ot={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},st={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[et.TextureType.unpacked]};i.globalMaxPool=(lt,dt)=>(_e(dt),[lt.run(Object.assign(Object.assign({},st),{get:()=>rt(dt,st,!0,ot)}),dt)]);const _e=lt=>{if(!lt||lt.length!==1)throw new Error("Pool ops requires 1 input.");if(lt[0].type!=="float32"&&lt[0].type!=="float64")throw new Error("Invalid input type.")},$=(lt,dt,ft,pt,ht)=>{const gt=lt.length;if(dt.kernelShape.length<=2){const mt=dt.kernelShape[dt.kernelShape.length-1],yt=dt.strides[dt.strides.length-1],bt=dt.pads[dt.pads.length/2-1],_t=dt.pads[dt.pads.length-1],xt=lt[gt-1];let Et="",Tt="",Pt="";if(Et=bt+_t!==0?`
          for (int i = 0; i < ${mt}; i++) {
            x[${gt} - 1] = indices[${gt} - 1] * ${yt} - ${bt} + i;
            if (x[${gt} - 1] < 0 || x[${gt} - 1] >= ${xt}) {
              pad++;
              continue;
            }
            ${ft}
          }`:`
          for (int i = 0; i < ${mt}; i++) {
            x[${gt} - 1] = indices[${gt} - 1] * ${yt} - ${bt} + i;
            ${ft}
          }`,dt.kernelShape.length===2){const At=dt.kernelShape[dt.kernelShape.length-2],Ot=dt.strides[dt.strides.length-2],It=dt.pads[dt.pads.length/2-2],$t=dt.pads[dt.pads.length-2],kt=lt[gt-2];Tt=It+$t!==0?`
            for (int j = 0; j < ${At}; j++) {
              x[${gt} - 2] = indices[${gt} - 2] * ${Ot} - ${It} + j;
              if (x[${gt} - 2] < 0 || x[${gt} - 2] >= ${kt}) {
                pad+= ${mt};
                continue;
              }
          `:`
            for (int j = 0; j < ${At}; j++) {
              x[${gt} - 2] = indices[${gt} - 2] * ${Ot} - ${It} + j;
            `,Pt=`
          }
        `}return`
        float process(int indices[${gt}]) {
          int x[${gt}];
          copyVec(indices, x);

          float value = ${ht};
          int pad = 0;
          ${Tt}
          ${Et}
          ${Pt}
          ${pt}
          return value;
        }
      `}{const mt=j.ShapeUtil.size(dt.kernelShape),yt=j.ShapeUtil.computeStrides(dt.kernelShape),bt=yt.length,_t=dt.pads.length,xt=it(bt),Et=nt(lt,"inputDims"),Tt=nt(dt.pads,"pads"),Pt=nt(yt,"kernelStrides"),At=nt(dt.strides,"strides");let Ot="";return Ot=dt.pads.reduce((It,$t)=>It+$t)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${ft}
          }`:`
          }
          ${ft}
        `,`
        ${xt}
        float process(int indices[${gt}]) {
          int x[${gt}];
          copyVec(indices, x);
          int offset[${bt}];
          int pads[${_t}];
          int inputDims[${gt}];
          int kernelStrides[${bt}];
          int strides[${bt}];
          ${Tt}
          ${Et}
          ${At}
          ${Pt}

          float value = ${ht};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${mt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${gt} - ${bt}; j < ${gt}; j++) {
              x[j] = indices[j] * strides[j - ${gt} + ${bt}]
                + offset[j - ${gt} + ${bt}] - pads[j - 2];
              ${Ot}
          }
          ${pt}

          return value;
        }
      `}},nt=(lt,dt)=>{let ft="";for(let pt=0;pt<lt.length;pt++)ft+=`
      ${dt}[${pt}] = ${lt[pt]};
    `;return ft},it=lt=>`
  void offsetToIndices(int offset, int[${lt}] strides, out int[${lt}] indices) {
    if (${lt} == 0) {
      return;
    }
    for (int i = 0; i < ${lt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${lt} - 1] = offset;
  }`},1010:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reduceLogSumSquare=i.reduceLogSum=i.reduceProd=i.reduceMin=i.reduceMax=i.reduceMean=i.reduceSum=i.parseReduceAttributes=void 0;const s=a(4910),j=a(6145),et=a(7273),tt=a(5639),rt=(st,_e,$,nt,it)=>{ot(_e);const lt={name:nt,inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};return[st.run(Object.assign(Object.assign({},lt),{cacheHint:$.cacheKey,get:()=>at(st,_e,$,nt,it,lt)}),_e)]};i.parseReduceAttributes=st=>{const _e=st.attributes.getInts("axes",[]),$=st.attributes.getInt("keepdims",1)===1;return(0,s.createAttributeWithCacheKey)({axes:_e,keepDims:$})};const at=(st,_e,$,nt,it,lt)=>{const dt=[],ft=_e[0].dims.length||1,pt=[],ht=et.ShapeUtil.normalizeAxes($.axes,_e[0].dims.length),gt=it(_e,ht);let mt=gt[1];for(let bt=0;bt<_e[0].dims.length;bt++)ht.indexOf(bt)>=0||ht.length===0?($.keepDims&&dt.push(1),mt=`
          for(int j${bt} = 0; j${bt} < ${_e[0].dims[bt]}; j${bt}++) {
            inputIdx[${bt}] = j${bt};
            ${mt}
          }`):(pt.push(`inputIdx[${bt}] = outputIdx[${dt.length}];`),dt.push(_e[0].dims[bt]));const yt=`
      float process(int outputIdx[${dt.length||1}]) {
        float value;                 // final result
        int inputIdx[${ft}];      // addressing input data
        ${pt.join(`
`)}
        ${gt[0]}       // init ops for reduce max/min
        ${mt}
        ${gt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:dt,type:_e[0].type,textureType:tt.TextureType.unpacked},shaderSource:yt})},ot=st=>{if(!st||st.length!==1)throw new Error("Reduce op requires 1 input.");if(j.NUMBER_TYPES.indexOf(st[0].type)===-1)throw new Error("Invalid input type.")};i.reduceSum=(st,_e,$)=>rt(st,_e,$,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),i.reduceMean=(st,_e,$)=>rt(st,_e,$,"ReduceMean",(nt,it)=>{let lt=1;for(let dt=0;dt<nt[0].dims.length;dt++)(it.indexOf(dt)>=0||it.length===0)&&(lt*=nt[0].dims[dt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${lt}.;`]}),i.reduceMax=(st,_e,$)=>rt(st,_e,$,"ReduceMax",(nt,it)=>{const lt=[];for(let dt=0;dt<nt[0].dims.length;dt++)(it.indexOf(dt)>=0||it.length===0)&&lt.push(`inputIdx[${dt}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),i.reduceMin=(st,_e,$)=>rt(st,_e,$,"ReduceMin",(nt,it)=>{const lt=[];for(let dt=0;dt<nt[0].dims.length;dt++)(it.indexOf(dt)>=0||it.length===0)&&lt.push(`inputIdx[${dt}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),i.reduceProd=(st,_e,$)=>rt(st,_e,$,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),i.reduceLogSum=(st,_e,$)=>rt(st,_e,$,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),i.reduceLogSumSquare=(st,_e,$)=>rt(st,_e,$,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isReshapeCheap=i.processDims3D=i.createPackedReshape3DProgramInfoLoader=void 0;const s=a(7273),j=a(6757),et=a(5639),tt=a(5614);i.createPackedReshape3DProgramInfoLoader=(rt,at,ot)=>{const st=(_e=>({name:"Reshape (packed)",inputTypes:[et.TextureType.packed],inputNames:["A"],cacheHint:`${_e}`}))(ot);return Object.assign(Object.assign({},st),{get:()=>((_e,$,nt,it)=>{const lt=$.dims,dt=it;let ft="";for(let gt=0;gt<4;gt++){let mt="";switch(gt){case 0:mt="outputCoords = rc;";break;case 1:mt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:mt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:mt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}ft+=`
        ${mt}
        ${gt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${gt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${gt>0?"}":""}
      `}const pt=(0,j.getGlsl)(_e.session.backend.glContext.version),ht=`
      ${function(gt){const mt=s.ShapeUtil.computeStrides(gt),yt=["b","r","c"],bt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${mt.map((_t,xt)=>`int ${yt[xt]} = ${bt} / ${_t}; ${xt===mt.length-1?`int ${yt[xt+1]} = ${bt} - ${yt[xt]} * ${_t}`:`index -= ${yt[xt]} * ${_t}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(lt)}
      ${function(gt){const mt=s.ShapeUtil.computeStrides(gt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${mt[0]} + coords.z * ${mt[1]} + coords.y;
  }
`}(dt)}
      ${(0,tt.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${dt[2]};
        int cols = ${dt[1]};

        ${ft}
        ${pt.output} = result;
      }
    `;return Object.assign(Object.assign({},nt),{output:{dims:dt,type:$.type,textureType:et.TextureType.packed},shaderSource:ht,hasMain:!0})})(rt,at,st,ot)})},i.processDims3D=function(rt){if(rt.length===0)return[1,1,1];let at=1;for(let ot=0;ot<rt.length-2;++ot)at*=rt[ot];return[at,rt.length>1?rt[rt.length-2]:1,rt[rt.length-1]]},i.isReshapeCheap=function(rt,at){let ot=!1;return ot=rt.length===0||at.length===0||(rt.length<2||at.length<2?rt[rt.length-1]===at[at.length-1]:rt[rt.length-1]===at[at.length-1]&&rt[rt.length-2]===at[at.length-2]),ot}},8126:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reshape=void 0;const s=a(7273);i.reshape=(j,et)=>{const tt=s.ShapeUtil.calculateReshapedDims(et[0].dims,et[1].integerData);return j.session.pack?[j.reshapePacked(et[0],tt)]:[j.reshapeUnpacked(et[0],tt)]}},2801:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseResizeAttributesV11=i.parseResizeAttributesV10=i.resize=void 0;const s=a(6757),j=a(5639),et=a(432),tt=a(5614),rt=a(3980),at={name:"Resize",inputNames:["A"],inputTypes:[j.TextureType.packed]};i.resize=(nt,it,lt)=>((0,rt.validateInputs)(it,lt),[nt.run(Object.assign(Object.assign({},at),{cacheHint:lt.cacheKey,get:()=>ot(nt,it,lt)}),it)]),i.parseResizeAttributesV10=nt=>(0,rt.parseUpsampleAttributes)(nt,10),i.parseResizeAttributesV11=nt=>(0,rt.parseUpsampleAttributes)(nt,11);const ot=(nt,it,lt)=>{const dt=(0,s.getGlsl)(nt.session.backend.glContext.version),[ft,pt]=st(it,lt);if(ft.every(Ot=>Ot===1)&&lt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},at),{output:{dims:pt,type:it[0].type,textureType:j.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${dt.texture2D}(X, TexCoords);
                    ${dt.output} = v;
                }`});const ht=pt.length;if(ht<2)throw new Error(`output dimension should be at least 2, but got ${ht}`);const gt=pt[ht-2],mt=pt[ht-1],yt=it[0].dims;if(ht!==yt.length)throw new Error(`output dimension should match input ${yt.length}, but got ${ht}`);const bt=yt[ht-2],_t=yt[ht-1],xt=ft[ht-2],Et=ft[ht-1];let Tt="";if(lt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${lt.mode}'`);switch(lt.coordinateTransformMode){case"asymmetric":Tt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Tt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Tt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${mt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${gt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${mt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${gt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Tt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${mt}.0 - 1.0, ${gt}.0 - 1.0, ${mt}.0 - 1.0,
                            ${gt}.0 - 1.0);
                        vec4 original = vec4(${_t}.0 - 1.0, ${bt}.0 - 1.0, ${_t}.0 - 1.0,
                            ${bt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${lt.coordinateTransformMode}'`)}const Pt=(0,et.getCoordsDataType)(ht),At=`
            const vec2 inputWH = vec2(${bt}.0, ${_t}.0);
            const vec4 scaleWHWH = vec4(float(${xt}), float(${Et}), float(${xt}), float(${Et}));
            ${(0,tt.unpackFromChannel)()}
            ${Tt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Pt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${gt-1};
                bool hasNextCol = rc.z < ${mt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${dt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},at),{output:{dims:pt,type:it[0].type,textureType:j.TextureType.packed},hasMain:!0,shaderSource:At})},st=(nt,it)=>{const lt=nt[0].dims;let dt,ft=it.scales;if(ft.length===0){const ht=nt[it.scalesInputIdx];if(ht&&ht.size!==0){if(nt[it.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");ft=_e(ht,it.mode,it.isResize)}else{const gt=nt[it.sizesInputIdx];if(!gt||gt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");dt=Array.from(gt.integerData),ft=$(dt,lt,it.mode,it.isResize)}}else if(nt[it.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const pt=dt||lt.map((ht,gt)=>Math.floor(ht*ft[gt]));return[ft,pt]},_e=(nt,it,lt)=>{const dt=Array.from(nt.floatData);return(0,rt.scalesValidation)(dt,it,lt),dt},$=(nt,it,lt,dt)=>{const ft=it.length,pt=new Array(ft);for(let ht=0,gt=ft;ht<gt;ht++)if(it[ht]===0){if(nt[ht]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");pt[ht]=1}else pt[ht]=nt[ht]/it[ht];return(0,rt.scalesValidation)(pt,lt,dt),pt}},565:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shape=void 0;const s=a(9240);i.shape=(et,tt)=>(j(tt),[new s.Tensor([tt[0].dims.length],"int32",void 0,void 0,new Int32Array(tt[0].dims))]);const j=et=>{if(!et||et.length!==1)throw new Error("Shape requires 1 input.")}},2444:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sliceV10=i.parseSliceAttributes=i.slice=void 0;const s=a(4910),j=a(6145),et=a(7273),tt=a(5639),rt={name:"Slice",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};i.slice=($,nt,it)=>(ot(nt),[$.run(Object.assign(Object.assign({},rt),{cacheHint:it.cacheKey,get:()=>at($,nt[0],it)}),nt)]),i.parseSliceAttributes=$=>{const nt=$.attributes.getInts("starts"),it=$.attributes.getInts("ends"),lt=$.attributes.getInts("axes",[]);return(0,s.createAttributeWithCacheKey)({starts:nt,ends:it,axes:lt})};const at=($,nt,it)=>{const lt=it.axes.length===0?nt.dims.slice(0).map((yt,bt)=>bt):it.axes,dt=et.ShapeUtil.normalizeAxes(lt,nt.dims.length),ft=it.starts.map((yt,bt)=>yt>nt.dims[dt[bt]]-1?nt.dims[dt[bt]]:et.ShapeUtil.normalizeAxis(yt,nt.dims[dt[bt]])),pt=it.ends.map((yt,bt)=>yt>nt.dims[dt[bt]]-1?nt.dims[dt[bt]]:et.ShapeUtil.normalizeAxis(yt,nt.dims[dt[bt]])),ht=nt.dims.slice(),gt=[];for(let yt=0;yt<dt.length;yt++)ht[dt[yt]]=pt[yt]-ft[yt],ft[yt]>0&&gt.push(`outputIdx[${dt[yt]}] += ${ft[yt]};`);const mt=`
      float process(int outputIdx[${ht.length}]) {
        ${gt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:ht,type:nt.type,textureType:tt.TextureType.unpacked},shaderSource:mt})},ot=$=>{if(!$||$.length!==1)throw new Error("Slice requires 1 input.");if(j.NUMBER_TYPES.indexOf($[0].type)===-1)throw new Error("Invalid input type.")};i.sliceV10=($,nt)=>{_e(nt);const it=st($,nt);return[$.run(Object.assign(Object.assign({},rt),{cacheHint:it.cacheKey,get:()=>at($,nt[0],it)}),[nt[0]])]};const st=($,nt)=>{if(!$.session.isInitializer(nt[1].dataId)||!$.session.isInitializer(nt[2].dataId)||nt.length>=4&&!$.session.isInitializer(nt[3].dataId)||nt.length>=5&&!$.session.isInitializer(nt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(nt.length>=5&&nt[4].integerData.some(ft=>ft!==1))throw new Error("currently non-1 steps is not supported for Slice");const it=Array.from(nt[1].integerData),lt=Array.from(nt[2].integerData),dt=nt.length>=4?Array.from(nt[3].integerData):[];return{starts:it,ends:lt,axes:dt,cacheKey:`${dt};${it};${lt}`}},_e=$=>{if(!$||$.length<3||$.length>5)throw new Error("Invalid input number.");if($[1].type!=="int32"||$[1].dims.length!==1)throw new Error("Invalid input type.");if($[2].type!=="int32"||$[2].dims.length!==1)throw new Error("Invalid input type.");if($.length>=4&&($[3].type!=="int32"||$[3].dims.length!==1))throw new Error("Invalid input type.");if($.length>=5&&($[4].type!=="int32"||$[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.softmaxV13=i.parseSoftmaxAttributesV13=i.parseSoftmaxAttributes=i.softmax=void 0;const s=a(4910),j=a(7273),et=a(6757),tt=a(5639),rt=a(5707),at={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]},ot={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked]},st={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.unpacked,tt.TextureType.unpacked]};i.softmax=(dt,ft,pt)=>{lt(ft);const ht=ft[0].dims.slice(),gt=j.ShapeUtil.normalizeAxis(pt.axis,ht.length),mt=j.ShapeUtil.sizeToDimension(ht,gt),yt=j.ShapeUtil.sizeFromDimension(ht,gt);return _e(dt,ft,pt,mt,yt)},i.parseSoftmaxAttributes=dt=>(0,s.createAttributeWithCacheKey)({axis:dt.attributes.getInt("axis",1)}),i.parseSoftmaxAttributesV13=dt=>(0,s.createAttributeWithCacheKey)({axis:dt.attributes.getInt("axis",-1)}),i.softmaxV13=(dt,ft,pt)=>{lt(ft);const ht=ft[0].dims.slice(),gt=j.ShapeUtil.normalizeAxis(pt.axis,ht.length),mt=ht.length,yt=gt!==mt-1,bt=[];let _t,xt=[],Et=[];yt&&(xt=Array.from({length:mt}).map((Ot,It)=>It),xt[gt]=mt-1,xt[mt-1]=gt,xt.map(Ot=>bt.push(ht[Ot])),_t=(0,s.createAttributeWithCacheKey)({perm:xt}),Et=(0,rt.transpose)(dt,ft,_t));const Tt=yt?j.ShapeUtil.sizeToDimension(bt,mt-1):j.ShapeUtil.sizeToDimension(ht,mt-1),Pt=yt?j.ShapeUtil.sizeFromDimension(bt,mt-1):j.ShapeUtil.sizeFromDimension(ht,mt-1),At=_e(dt,yt?Et:ft,pt,Tt,Pt);return yt?(0,rt.transpose)(dt,At,_t):At};const _e=(dt,ft,pt,ht,gt)=>{const mt=$(dt,ft[0],ht,gt,[ht]),yt=dt.run(Object.assign(Object.assign({},at),{cacheHint:pt.cacheKey,get:()=>mt}),ft),bt=nt(dt,ft[0],ht,gt,mt.output.dims,[ht]),_t=dt.run(Object.assign(Object.assign({},ot),{cacheHint:pt.cacheKey,get:()=>bt}),[ft[0],yt]),xt=it(dt,ft[0],ht,gt,mt.output.dims,bt.output.dims);return[dt.run(Object.assign(Object.assign({},st),{cacheHint:pt.cacheKey,get:()=>xt}),[ft[0],yt,_t])]},$=(dt,ft,pt,ht,gt)=>{const[mt,yt]=dt.calculateTextureWidthAndHeight(ft.dims,tt.TextureType.unpacked),bt=gt.length;if(pt<1||ht<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(gt.length!==1)throw new Error("Dimensionality of the output should be 1");if(gt[0]!==pt)throw new Error("Shape of the output should be equal to logical row count");const _t=(0,et.getGlsl)(dt.session.backend.glContext.version),xt=`
      float process(int[${bt}] indices) {
        int logical_row_start_offset = indices[0] * ${ht};

        float max = getColorAsFloat(${_t.texture2D}(A, offsetToCoords(logical_row_start_offset, ${mt},
        ${yt} )));
        for(int i=1; i<${ht}; ++i)
        {
          float current = getColorAsFloat(${_t.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${mt}, ${yt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},at),{output:{dims:gt,type:ft.type,textureType:tt.TextureType.unpacked},shaderSource:xt})},nt=(dt,ft,pt,ht,gt,mt)=>{const[yt,bt]=dt.calculateTextureWidthAndHeight(ft.dims,tt.TextureType.unpacked),_t=mt.length;if(pt<1||ht<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(mt.length!==1)throw new Error("Dimensionality of the output should be 1");if(mt[0]!==pt)throw new Error("Shape of the output should be equal to logical row count");if(gt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(gt[0]!==pt)throw new Error("Shape of the intermediate results should be equal to logical row count");const xt=`
      float process(int[${_t}] indices) {
        int logical_row_start_offset = indices[0] * ${ht};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${ht}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,et.getGlsl)(dt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${yt}, ${bt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:mt,type:ft.type,textureType:tt.TextureType.unpacked},shaderSource:xt})},it=(dt,ft,pt,ht,gt,mt)=>{const[yt,bt]=dt.calculateTextureWidthAndHeight(ft.dims,tt.TextureType.unpacked),_t=ft.dims.length;if(pt<1||ht<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(gt.length!==1||mt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(gt[0]!==pt||mt[0]!==pt)throw new Error("Shape of the intermediate results should be equal to logical row count");const xt=`
      float process(int[${_t}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${yt}, ${bt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${ht};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},st),{output:{dims:ft.dims,type:ft.type,textureType:tt.TextureType.unpacked},shaderSource:xt})},lt=dt=>{if(!dt||dt.length!==1)throw new Error("Softmax requires 1 input.");if(dt[0].type!=="float32"&&dt[0].type!=="float64")throw new Error("Invalid input type")}},564:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSplitAttributes=i.split=void 0;const s=a(4910),j=a(7273),et=a(5639),tt={name:"Split",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.split=(st,_e,$)=>{ot(_e);const nt=j.ShapeUtil.normalizeAxis($.axis,_e[0].dims.length),it=rt(st,_e,nt,$),lt=[];for(let dt=0;dt<it;++dt)lt.push(st.run(Object.assign(Object.assign({},tt),{cacheHint:`${$.cacheKey};${dt}`,get:()=>at(st,_e[0],$,nt,dt)}),_e));return lt},i.parseSplitAttributes=st=>{const _e=st.attributes.getInt("axis",0),$=st.attributes.getInts("split",[]),nt=st.outputs.length;return(0,s.createAttributeWithCacheKey)({axis:_e,split:$,numOutputs:nt})};const rt=(st,_e,$,nt)=>{const[,it]=j.SplitUtil.splitShape(_e[0].dims,$,nt.split,nt.numOutputs);return it.length},at=(st,_e,$,nt,it)=>{const[lt,dt]=j.SplitUtil.splitShape(_e.dims,nt,$.split,$.numOutputs),ft=dt[it],pt=lt[it],ht=`
      float process(int indices[${pt.length}]) {
        indices[${nt}] += ${ft};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},tt),{cacheHint:`${$.cacheKey}:${it}`,output:{dims:pt,type:_e.type,textureType:et.TextureType.unpacked},shaderSource:ht})},ot=st=>{if(!st||st.length!==1)throw new Error("Split requires one input.");if(st[0].type!=="int8"&&st[0].type!=="uint8"&&st[0].type!=="int16"&&st[0].type!=="uint16"&&st[0].type!=="int32"&&st[0].type!=="uint32"&&st[0].type!=="float32"&&st[0].type!=="float64"&&st[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSqueezeAttributes=i.squeezeV13=i.squeeze=void 0;const s=a(7273);i.squeeze=(tt,rt,at)=>{j(rt);const ot=s.ShapeUtil.squeezeShape(rt[0].dims,at);return[tt.reshapeUnpacked(rt[0],ot)]},i.squeezeV13=(tt,rt)=>(et(rt),(0,i.squeeze)(tt,[rt[0]],Array.from(rt[1].integerData))),i.parseSqueezeAttributes=tt=>tt.attributes.getInts("axes");const j=tt=>{if(!tt||tt.length!==1)throw new Error("Squeeze requires 1 input.");if(tt[0].type==="string")throw new Error("invalid input tensor types.")},et=tt=>{if(!tt||tt.length!==2)throw new Error("Squeeze requires 2 inputs.");if(tt[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sum=void 0;const s=a(6757),j=a(5639);i.sum=(rt,at)=>{tt(at);const ot={name:"Sum",inputNames:at.map((st,_e)=>`X${_e}`),inputTypes:new Array(at.length).fill(j.TextureType.unpacked)};return[rt.run(Object.assign(Object.assign({},ot),{get:()=>et(rt,at,ot)}),at)]};const et=(rt,at,ot)=>{const st=(0,s.getGlsl)(rt.session.backend.glContext.version),_e=at[0].dims.slice(),$=`
      void main() {
        vec4 result = ${at.map((nt,it)=>`${st.texture2D}(X${it},TexCoords)`).join(" + ")};
        ${st.output} = result;
      }
    `;return Object.assign(Object.assign({},ot),{output:{dims:_e,type:at[0].type,textureType:j.TextureType.unpacked},hasMain:!0,shaderSource:$})},tt=rt=>{if(!rt||rt.length===0)throw new Error("Sum requires inputs.");const at=rt[0].dims.length;for(let ot=1;ot<rt.length;ot++){if(at!==rt[ot].dims.length)throw new Error("Input shapes are mismatched.");for(let st=0;st<at;st++)if(rt[0].dims[st]!==rt[ot].dims[st])throw new Error("Input shapes are not matched.")}if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type.");for(let ot=1;ot<rt.length;ot++)if(rt[0].type!==rt[ot].type)throw new Error("Input types are not matched.")}},5944:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tile=void 0;const s=a(6145),j=a(5639);i.tile=(rt,at)=>{tt(at);const ot={name:"Tile",inputNames:["A"],inputTypes:[j.TextureType.unpacked]};return[rt.run(Object.assign(Object.assign({},ot),{get:()=>et(rt,at,ot)}),at)]};const et=(rt,at,ot)=>{const st=at[0].dims.slice(),_e=new Array(st.length),$=[];for(let lt=0;lt<st.length;lt++)_e[lt]=st[lt]*at[1].numberData[lt],$.push(`inputIdx[${lt}] = int(mod(float(outputIdx[${lt}]), ${st[lt]}.));`);const nt=_e.length,it=`
      float process(int outputIdx[${nt}]) {
        int inputIdx[${nt}];
        ${$.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ot),{output:{dims:_e,type:at[0].type,textureType:j.TextureType.unpacked},shaderSource:it})},tt=rt=>{if(!rt||rt.length!==2)throw new Error("Tile requires 2 input.");if(rt[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(rt[1].dims[0]!==rt[0].dims.length)throw new Error("Invalid input shape.");if(s.NUMBER_TYPES.indexOf(rt[0].type)===-1)throw new Error("Invalid input type.");if(rt[1].type!=="int32"&&rt[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseTransposeAttributes=i.transpose=void 0;const s=a(4910),j=a(7273),et=a(5639),tt={name:"Transpose",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.transpose=($,nt,it)=>(_e(nt),[$.run(Object.assign(Object.assign({},tt),{cacheHint:it.cacheKey,get:()=>rt($,nt[0],it.perm)}),nt)]),i.parseTransposeAttributes=$=>(0,s.createAttributeWithCacheKey)({perm:$.attributes.getInts("perm",[])});const rt=($,nt,it)=>{const lt=nt.dims;it=at(lt,it);const dt=ot(lt,it),ft=lt.length,pt=`
      ${st("perm",it,ft)}
      float process(int indices[${ft}]) {
        int a[${ft}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},tt),{output:{dims:dt,type:nt.type,textureType:et.TextureType.unpacked},shaderSource:pt})},at=($,nt)=>(nt&&nt.length!==$.length&&(nt=[...$.keys()].reverse()),nt),ot=($,nt)=>(nt=at($,nt),j.ShapeUtil.sortBasedOnPerm($,nt)),st=($,nt,it)=>{const lt=[];lt.push(`void ${$}(out int a[${it}], int src[${it}]) {`);for(let dt=0;dt<it;++dt)lt.push(`	a[${nt[dt]}]=src[${dt}];`);return lt.push("	}"),lt.join(`
`)},_e=$=>{if(!$||$.length!==1)throw new Error("Transpose requires 1 input.");if($[0].type!=="float32"&&$[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.encodeAsUint8=void 0;const s=a(6757),j=a(5639);i.encodeAsUint8=(et,tt)=>{const rt=tt.shape,at=(0,s.getGlsl)(et.session.backend.glContext.version),ot=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${at.texture2D}(X,TexCoords).r;
      ${at.output} = encodeAsUint8(value);
    }`,st={name:"Uint8Encode",inputTypes:[j.TextureType.unpacked],inputNames:["X"],output:{dims:rt,type:tt.tensor.type,textureType:j.TextureType.downloadUint8AsFloat},shaderSource:ot,hasMain:!0};return et.executeProgram(st,[tt.tensor])}},9087:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tanh=i.tan=i.sqrt=i.sin=i.sigmoid=i.relu=i.not=i.neg=i.log=i.parseLeakyReluAttributes=i.leakyRelu=i.identity=i.floor=i.exp=i.parseEluAttributes=i.elu=i.cos=i.ceil=i.clipV11=i.parseClipAttributes=i.clip=i.atan=i.asin=i.acos=i.abs=i.glslTanh=i.glslTan=i.glslSqrt=i.glslSigmoid=i.glslRelu=i.glslSin=i.glslNot=i.glslNeg=i.glslLog=i.glslLeakyRelu=i.glslIdentity=i.glslClip=i.glslFloor=i.glslExp=i.glslElu=i.glslCos=i.glslCeil=i.glslAtan=i.glslAsin=i.glslAcos=i.glslAbs=void 0;const s=a(4910),j=a(7273),et=a(1997),tt=a(6757),rt=a(5639);function at(){return At("abs")}function ot(){return At("acos")}function st(){return At("asin")}function _e(){return At("atan")}function $(){return At("ceil")}function nt(){return At("cos")}function it($t){const kt="elu";return{body:`
  const float alpha = float(${$t});

  float ${kt}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${kt}_(vec4 v) {
    return vec4(${kt}_(v.x), ${kt}_(v.y), ${kt}_(v.z), ${kt}_(v.w));
  }
  `,name:kt,type:et.FunctionType.ValueBased}}function lt(){return At("exp")}function dt(){return At("floor")}function ft($t,kt){const Ft="clip";return{body:`
  const float min = float(${$t});
  const float max = float(${kt});

  float ${Ft}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Ft}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Ft,type:et.FunctionType.ValueBased}}function pt(){const $t="indentity";return{body:`
  float ${$t}_(float a) {
    return a;
  }
  vec4 ${$t}_(vec4 v) {
    return v;
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function ht($t){const kt="leakyRelu";return{body:`
  const float alpha = float(${$t});

  float ${kt}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${kt}_(vec4 v) {
    return vec4(${kt}_(v.x), ${kt}_(v.y), ${kt}_(v.z), ${kt}_(v.w));
  }
  `,name:kt,type:et.FunctionType.ValueBased}}function gt(){return At("log")}function mt(){const $t="neg";return{body:`
  float ${$t}_(float a) {
    return -a;
  }
  vec4 ${$t}_(vec4 v) {
    return -v;
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function yt(){const $t="not";return{body:`
  float ${$t}_(float a) {
    return float( ! bool(a) );
  }
  bool ${$t}_(bool a) {
    return !a;
  }
  vec4 ${$t}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${$t}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function bt(){return At("sin")}function _t(){const $t="relu";return{body:`
  float ${$t}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${$t}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function xt(){const $t="sigmoid";return{body:`
  float ${$t}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${$t}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function Et(){return At("sqrt")}function Tt(){return At("tan")}function Pt(){const $t="tanh";return{body:`
  float ${$t}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${$t}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:$t,type:et.FunctionType.ValueBased}}function At($t){return{body:`
  float ${$t}_(float a) {
    return ${$t}(a);
  }
  vec4 ${$t}_(vec4 v) {
    return ${$t}(v);
  }
  `,name:$t,type:et.FunctionType.ValueBased}}i.glslAbs=at,i.glslAcos=ot,i.glslAsin=st,i.glslAtan=_e,i.glslCeil=$,i.glslCos=nt,i.glslElu=it,i.glslExp=lt,i.glslFloor=dt,i.glslClip=ft,i.glslIdentity=pt,i.glslLeakyRelu=ht,i.glslLog=gt,i.glslNeg=mt,i.glslNot=yt,i.glslSin=bt,i.glslRelu=_t,i.glslSigmoid=xt,i.glslSqrt=Et,i.glslTan=Tt,i.glslTanh=Pt;const Ot=($t,kt,Ft,Ut)=>{const zt=$t.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,Wt={name:Ft.name,inputTypes:[zt],inputNames:["A"],cacheHint:Ut};return Object.assign(Object.assign({},Wt),{get:()=>((Qt,un,an,vn)=>{const fn=Qt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,jt=(0,tt.getGlsl)(Qt.session.backend.glContext.version);return Object.assign(Object.assign({},un),{output:{dims:an.dims,type:an.type,textureType:fn},shaderSource:`
     ${vn.body}
     void main() {
       vec4 v = ${jt.texture2D}(A, TexCoords);
       v = ${vn.name}_(v);
       ${jt.output} = v;
     }
     `,hasMain:!0})})($t,Wt,kt,Ft)})};i.abs=($t,kt)=>[$t.run(Ot($t,kt[0],at()),kt)],i.acos=($t,kt)=>[$t.run(Ot($t,kt[0],ot()),kt)],i.asin=($t,kt)=>[$t.run(Ot($t,kt[0],st()),kt)],i.atan=($t,kt)=>[$t.run(Ot($t,kt[0],_e()),kt)],i.clip=($t,kt,Ft)=>[$t.run(Ot($t,kt[0],ft(Ft.min,Ft.max),Ft.cacheKey),kt)],i.parseClipAttributes=$t=>(0,s.createAttributeWithCacheKey)({min:$t.attributes.getFloat("min",j.MIN_CLIP),max:$t.attributes.getFloat("max",j.MAX_CLIP)}),i.clipV11=($t,kt)=>{const Ft=It($t,kt);return(0,i.clip)($t,[kt[0]],Ft)};const It=($t,kt)=>{if(kt.length>=3&&(!$t.session.isInitializer(kt[1].dataId)||!$t.session.isInitializer(kt[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Ft=kt.length>=3?kt[1].numberData[0]:j.MIN_CLIP,Ut=kt.length>=3?kt[2].numberData[0]:j.MAX_CLIP;return(0,s.createAttributeWithCacheKey)({min:Ft,max:Ut})};i.ceil=($t,kt)=>[$t.run(Ot($t,kt[0],$()),kt)],i.cos=($t,kt)=>[$t.run(Ot($t,kt[0],nt()),kt)],i.elu=($t,kt,Ft)=>[$t.run(Ot($t,kt[0],it(Ft.alpha),Ft.cacheKey),kt)],i.parseEluAttributes=$t=>(0,s.createAttributeWithCacheKey)({alpha:$t.attributes.getFloat("alpha",1)}),i.exp=($t,kt)=>[$t.run(Ot($t,kt[0],lt()),kt)],i.floor=($t,kt)=>[$t.run(Ot($t,kt[0],dt()),kt)],i.identity=($t,kt)=>[$t.run(Ot($t,kt[0],pt()),kt)],i.leakyRelu=($t,kt,Ft)=>[$t.run(Ot($t,kt[0],ht(Ft.alpha),Ft.cacheKey),kt)],i.parseLeakyReluAttributes=$t=>(0,s.createAttributeWithCacheKey)({alpha:$t.attributes.getFloat("alpha",.01)}),i.log=($t,kt)=>[$t.run(Ot($t,kt[0],gt()),kt)],i.neg=($t,kt)=>[$t.run(Ot($t,kt[0],mt()),kt)],i.not=($t,kt)=>[$t.run(Ot($t,kt[0],yt()),kt)],i.relu=($t,kt)=>[$t.run(Ot($t,kt[0],_t()),kt)],i.sigmoid=($t,kt)=>[$t.run(Ot($t,kt[0],xt()),kt)],i.sin=($t,kt)=>[$t.run(Ot($t,kt[0],bt()),kt)],i.sqrt=($t,kt)=>[$t.run(Ot($t,kt[0],Et()),kt)],i.tan=($t,kt)=>[$t.run(Ot($t,kt[0],Tt()),kt)],i.tanh=($t,kt)=>[$t.run(Ot($t,kt[0],Pt()),kt)]},540:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackProgramInfoLoader=i.createUnpackProgramInfo=void 0;const s=a(6757),j=a(5639),et=a(432),tt=a(5614),rt={name:"unpack",inputNames:["A"],inputTypes:[j.TextureType.packed]};i.createUnpackProgramInfo=(at,ot)=>{const st=ot.dims.length,_e=(0,tt.getChannels)("rc",st),$=_e.slice(-2),nt=(0,et.getCoordsDataType)(st),it=(0,tt.unpackFromChannel)(),lt=ot.dims.length===0?"":function(pt,ht){if(pt===1)return"rc";let gt="";for(let mt=0;mt<pt;mt++)gt+=ht[mt],mt<pt-1&&(gt+=",");return gt}(st,_e),dt=st<=1?"rc":`vec2(${$.join(",")})`,ft=`
    ${it}
    void main() {
      ${nt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${lt});

       ${(0,s.getGlsl)(at.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${dt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:ot.dims,type:ot.type,textureType:j.TextureType.unpacked},shaderSource:ft})},i.createUnpackProgramInfoLoader=(at,ot)=>Object.assign(Object.assign({},rt),{get:()=>(0,i.createUnpackProgramInfo)(at,ot)})},7862:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseUnsqueezeAttributes=i.unsqueezeV13=i.unsqueeze=void 0;const s=a(7273);i.unsqueeze=(tt,rt,at)=>{j(rt);const ot=s.ShapeUtil.unsqueezeShape(rt[0].dims,at);return[tt.reshapeUnpacked(rt[0],ot)]},i.unsqueezeV13=(tt,rt)=>(et(rt),(0,i.unsqueeze)(tt,[rt[0]],Array.from(rt[1].integerData))),i.parseUnsqueezeAttributes=tt=>tt.attributes.getInts("axes");const j=tt=>{if(!tt||tt.length!==1)throw new Error("Unsqueeze requires 1 input.");if(tt[0].type==="string")throw new Error("invalid input tensor types.")},et=tt=>{if(!tt||tt.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(tt[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.scalesValidation=i.validateInputs=i.parseUpsampleAttributes=i.parseUpsampleAttributesV9=i.parseUpsampleAttributesV7=i.upsample=void 0;const s=a(4910),j=a(6757),et=a(5639),tt={name:"Upsample",inputNames:["X"],inputTypes:[et.TextureType.unpacked]};i.upsample=(at,ot,st)=>((0,i.validateInputs)(ot,st),[at.run(Object.assign(Object.assign({},tt),{cacheHint:st.cacheKey,get:()=>rt(at,ot,st)}),ot)]),i.parseUpsampleAttributesV7=at=>(0,i.parseUpsampleAttributes)(at,7),i.parseUpsampleAttributesV9=at=>(0,i.parseUpsampleAttributes)(at,9),i.parseUpsampleAttributes=(at,ot)=>{const st=ot>=10,_e=at.attributes.getString("mode","nearest");if(_e!=="nearest"&&_e!=="linear"&&(ot<11||_e!=="cubic"))throw new Error(`unrecognized mode: ${_e}`);let $=[];ot<9&&($=at.attributes.getFloats("scales"),(0,i.scalesValidation)($,_e,st));const nt=at.attributes.getFloat("extrapolation_value",0),it=ot>10?at.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(it)===-1)throw new Error(`coordinate_transform_mode '${it}' is not supported`);const lt=it==="tf_crop_and_resize",dt=lt,ft=_e==="nearest"&&ot>=11?at.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(ft)===-1)throw new Error(`nearest_mode '${ft}' is not supported`);const pt=at.attributes.getFloat("cubic_coeff_a",-.75),ht=at.attributes.getInt("exclude_outside",0)!==0;if(ht&&_e!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const gt=ot<11||_e==="nearest"&&it==="asymmetric"&&ft==="floor";let mt=0,yt=0,bt=0;return ot>10?at.inputs.length>2?(mt=1,yt=2,bt=3):(yt=1,bt=2):ot===9&&(yt=1),(0,s.createAttributeWithCacheKey)({opset:ot,isResize:st,mode:_e,scales:$,extrapolationValue:nt,coordinateTransformMode:it,useExtrapolation:dt,needRoiInput:lt,nearestMode:ft,cubicCoefficientA:pt,excludeOutside:ht,useNearest2xOptimization:gt,roiInputIdx:mt,scalesInputIdx:yt,sizesInputIdx:bt})};const rt=(at,ot,st)=>{const _e=(0,j.getGlsl)(at.session.backend.glContext.version),[$,nt]=at.calculateTextureWidthAndHeight(ot[0].dims,et.TextureType.unpacked),it=ot[0].dims.map((bt,_t)=>Math.floor(bt*st.scales[_t])),[lt,dt]=at.calculateTextureWidthAndHeight(it,et.TextureType.unpacked),ft=it.length,pt=new Array(ft),ht=new Array(ft);let gt=`
      int output_pitches[${ft}];
      int input_pitches[${ft}];
      `;for(let bt=ft-1;bt>=0;bt--)pt[bt]=bt===ft-1?1:pt[bt+1]*it[bt+1],ht[bt]=bt===ft-1?1:ht[bt+1]*ot[0].dims[bt+1],gt+=`
        output_pitches[${bt}] = ${pt[bt]};
        input_pitches[${bt}] = ${ht[bt]};
        `;const mt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${$}, ${nt});
        float value = getColorAsFloat(${_e.texture2D}(X, coords));
        return value;
      }
      `,yt=st.mode==="nearest"?`
    ${mt}
    float process(int indices[${ft}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${dt});

      ${gt}

      int d, m;
      for (int dim = 0; dim < ${ft}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:ft===4?`
    ${mt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${dt});

      ${gt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ot[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${mt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${dt});

      ${gt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ot[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},tt),{output:{dims:it,type:ot[0].type,textureType:et.TextureType.unpacked},shaderSource:yt,variables:[{name:"scales",type:"int",arrayLength:st.scales.length,data:st.scales.map(bt=>Math.ceil(bt))}]})};i.validateInputs=(at,ot)=>{if(!at||ot.opset<9&&at.length!==1||ot.opset>=9&&ot.opset<11&&at.length!==2||ot.opset>=11&&at.length<2)throw new Error("invalid inputs.");if(ot.scales.length>0&&at[0].dims.length!==ot.scales.length)throw new Error("Invalid input shape.");if(at[0].type==="string")throw new Error("Invalid input tensor types.")},i.scalesValidation=(at,ot,st)=>{if(st){for(const _e of at)if(_e<=0)throw new Error("Scale value should be greater than 0.")}else for(const _e of at)if(_e<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ot!=="linear"&&ot!=="cubic"||at.length===2||at.length===4&&at[0]===1&&at[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${st?"Resize":"Upsample"} opeartor.`)}},2757:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ProgramManager=void 0;const s=a(8453),j=a(1315),et=a(8897),tt=a(6757);i.ProgramManager=class{constructor(rt,at,ot){this.profiler=rt,this.glContext=at,this.textureLayoutStrategy=ot,this.repo=new Map,this.attributesBound=!1}getArtifact(rt){return this.repo.get(rt)}setArtifact(rt,at){this.repo.set(rt,at)}run(rt,at,ot){var st;this.profiler.event("op",`ProgramManager.run ${(st=rt.programInfo.name)!==null&&st!==void 0?st:"unknown kernel"}`,()=>{var _e;const $=this.glContext.gl,nt=rt.program;$.useProgram(nt);try{this.bindOutput(ot),this.attributesBound||this.bindAttributes(rt.attribLocations),this.bindUniforms(rt.uniformLocations,(_e=rt.programInfo.variables)!==null&&_e!==void 0?_e:[],at)}catch(it){throw j.Logger.error("ProgramManager",rt.programInfo.shaderSource),it}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(rt=>this.glContext.deleteProgram(rt.program))}build(rt,at,ot){return this.profiler.event("backend","ProgramManager.build",()=>{const st=new et.GlslPreprocessor(this.glContext,rt,at,ot),_e=st.preprocess(),$=this.compile(_e);return{programInfo:rt,program:$,uniformLocations:this.getUniformLocations($,st.context.programInfo.inputNames,st.context.programInfo.variables),attribLocations:this.getAttribLocations($)}})}compile(rt){if(!this.vertexShader){j.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const st=(0,tt.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(st,this.glContext.gl.VERTEX_SHADER)}s.env.debug&&j.Logger.verbose("ProrgramManager",`FragShader:
${rt}
`);const at=this.glContext.compileShader(rt,this.glContext.gl.FRAGMENT_SHADER),ot=this.glContext.createProgram(this.vertexShader,at);return this.glContext.deleteShader(at),ot}bindOutput(rt){const at=rt.width,ot=rt.height;j.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${at}/${ot}, shape=${rt.shape}, type=${rt.tensor.type}`),this.glContext.attachFramebuffer(rt.texture,at,ot)}bindAttributes(rt){const at=rt.position,ot=rt.textureCoord;this.glContext.setVertexAttributes(at,ot),this.attributesBound=!0}bindUniforms(rt,at,ot){var st;const _e=this.glContext.gl;let $=0;for(const{name:nt,type:it,location:lt,arrayLength:dt}of rt){const ft=(st=at.find(pt=>pt.name===nt))===null||st===void 0?void 0:st.data;if(it!=="sampler2D"&&!ft)throw new Error(`variable '${nt}' does not have data defined in program info`);switch(it){case"sampler2D":this.bindTexture(ot[$],lt,$),$++;break;case"float":dt?_e.uniform1fv(lt,ft):_e.uniform1f(lt,ft);break;case"int":dt?_e.uniform1iv(lt,ft):_e.uniform1i(lt,ft);break;default:throw new Error(`Uniform not implemented: ${it}`)}}}bindTexture(rt,at,ot){this.glContext.bindTextureToUniform(rt.texture,ot,at)}getAttribLocations(rt){return{position:this.getAttribLocation(rt,"position"),textureCoord:this.getAttribLocation(rt,"textureCoord")}}getUniformLocations(rt,at,ot){const st=[];if(at)for(const _e of at)st.push({name:_e,type:"sampler2D",location:this.getUniformLocation(rt,_e)});if(ot)for(const _e of ot)st.push(Object.assign(Object.assign({},_e),{location:this.getUniformLocation(rt,_e.name)}));return st}getUniformLocation(rt,at){const ot=this.glContext.gl.getUniformLocation(rt,at);if(ot===null)throw new Error(`Uniform ${at} not found.`);return ot}getAttribLocation(rt,at){return this.glContext.gl.getAttribLocation(rt,at)}}},2171:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLSessionHandler=void 0;const s=a(1315),j=a(5881),et=a(7860),tt=a(4110),rt=a(2757),at=a(7618),ot=a(5243);i.WebGLSessionHandler=class{constructor(st,_e){this.backend=st,this.context=_e,this.layoutStrategy=new at.PreferLogicalStrategy(st.glContext.maxTextureSize),this.programManager=new rt.ProgramManager(this.context.profiler,st.glContext,this.layoutStrategy),this.textureManager=new ot.TextureManager(st.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:st.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=st.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new et.WebGLInferenceHandler(this)}onGraphInitialized(st){const _e=st.getValues().filter($=>$.from===-1&&$.tensor).map($=>$.tensor.dataId);this.initializers=new Set(_e)}isInitializer(st){return!!this.initializers&&this.initializers.has(st)}addInitializer(st){this.initializers.add(st)}getTextureData(st,_e){return _e?this.packedTextureDataCache.get(st):this.unpackedTextureDataCache.get(st)}setTextureData(st,_e,$=!1){s.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),$?this.packedTextureDataCache.set(st,_e):this.unpackedTextureDataCache.set(st,_e)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(st=>this.textureManager.releaseTexture(st,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(st=>this.textureManager.releaseTexture(st,!0)),this.unpackedTextureDataCache=new Map}resolve(st,_e,$){const nt=(0,j.resolveOperator)(st,_e,tt.WEBGL_OP_RESOLVE_RULES);return{impl:nt.opImpl,context:nt.opInit?nt.opInit(st,$):st}}}},9622:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Uint8DataEncoder=i.RGBAFloatDataEncoder=i.RedFloat32DataEncoder=void 0;const s=a(1315);i.RedFloat32DataEncoder=class{constructor(j,et=1){if(et===1)this.internalFormat=j.R32F,this.format=j.RED,this.textureType=j.FLOAT,this.channelSize=et;else{if(et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=j.RGBA32F,this.format=j.RGBA,this.textureType=j.FLOAT,this.channelSize=et}}encode(j,et){let tt,rt;return j.constructor!==Float32Array&&(s.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),rt=new Float32Array(j)),et*this.channelSize>j.length?(s.Logger.warning("Encoder","Source data too small. Allocating larger array"),rt=j,tt=this.allocate(et*this.channelSize),rt.forEach((at,ot)=>tt[ot]=at)):(rt=j,tt=rt),tt}allocate(j){return new Float32Array(4*j)}decode(j,et){return this.channelSize===1?j.filter((tt,rt)=>rt%4==0).subarray(0,et):j.subarray(0,et)}},i.RGBAFloatDataEncoder=class{constructor(j,et=1,tt){if(et!==1&&et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=j.RGBA,this.format=j.RGBA,this.channelSize=et,this.textureType=tt||j.FLOAT}encode(j,et){let tt=j;return this.channelSize===1&&(s.Logger.verbose("Encoder","Exploding into a larger array"),tt=this.allocate(et),j.forEach((rt,at)=>tt[4*at]=rt)),tt}allocate(j){return new Float32Array(4*j)}decode(j,et){return this.channelSize===1?j.filter((tt,rt)=>rt%4==0).subarray(0,et):j.subarray(0,et)}},i.Uint8DataEncoder=class{constructor(j,et=1){if(this.channelSize=4,et===1)this.internalFormat=j.ALPHA,this.format=j.ALPHA,this.textureType=j.UNSIGNED_BYTE,this.channelSize=et;else{if(et!==4)throw new Error(`Invalid number of channels: ${et}`);this.internalFormat=j.RGBA,this.format=j.RGBA,this.textureType=j.UNSIGNED_BYTE,this.channelSize=et}}encode(j,et){return new Uint8Array(j.buffer,j.byteOffset,j.byteLength)}allocate(j){return new Uint8Array(j*this.channelSize)}decode(j,et){if(j instanceof Uint8Array)return j.subarray(0,et);throw new Error(`Invalid array type: ${j.constructor}`)}}},7618:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBatchDim=i.sizeToSquarishShape=i.getRowsCols=i.sizeFromShape=i.isInt=i.parseAxisParam=i.squeezeShape=i.PreferLogicalStrategy=i.AlwaysKeepOriginalSizeStrategy=void 0;const s=a(1315),j=a(7273);function et(st,_e){const $=[],nt=[],it=_e!=null&&Array.isArray(_e)&&_e.length===0,lt=_e==null||it?null:tt(_e,st).sort();let dt=0;for(let ft=0;ft<st.length;++ft){if(lt!=null){if(lt[dt]===ft&&st[ft]!==1)throw new Error(`Can't squeeze axis ${ft} since its dim '${st[ft]}' is not 1`);(lt[dt]==null||lt[dt]>ft)&&st[ft]===1&&($.push(st[ft]),nt.push(ft)),lt[dt]<=ft&&dt++}st[ft]!==1&&($.push(st[ft]),nt.push(ft))}return{newShape:$,keptDims:nt}}function tt(st,_e){const $=_e.length;return st=st==null?_e.map((nt,it)=>it):[].concat(st),(0,j.assert)(st.every(nt=>nt>=-$&&nt<$),()=>`All values in axis param must be in range [-${$}, ${$}) but got axis ${st}`),(0,j.assert)(st.every(rt),()=>`All values in axis param must be integers but got axis ${st}`),st.map(nt=>nt<0?$+nt:nt)}function rt(st){return st%1==0}function at(st){if(st.length===0)return 1;let _e=st[0];for(let $=1;$<st.length;$++)_e*=st[$];return _e}function ot(st){const _e=Math.ceil(Math.sqrt(st));return[_e,Math.ceil(st/_e)]}i.AlwaysKeepOriginalSizeStrategy=class{constructor(st){this.maxTextureSize=st}computeTextureWH(st,_e){if(st.length===0)return[1,1];const $=this.maxTextureSize;if(_e&&_e.breakAxis!==void 0){const lt=_e.breakAxis>=st.length?1:st.slice(_e.breakAxis).reduce((ft,pt)=>ft*pt),dt=_e.breakAxis<=0?1:st.slice(0,_e.breakAxis).reduce((ft,pt)=>ft*pt);if(!(lt>$||dt>$))return[lt,dt];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${st}, breakAxis:${_e.breakAxis}`)}const nt=st.reduce((lt,dt)=>lt*dt);let it=Math.floor(Math.sqrt(nt));for(;it<$&&it<nt&&nt%it!=0;it++);if(it>=$||nt%it!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${st}`);return[it,nt/it]}},i.PreferLogicalStrategy=class{constructor(st){this.maxTextureSize=st}computeTextureWH(st,_e){const $=this.computeTexture(st,_e);return _e&&_e.isPacked&&($[0]/=2,$[1]/=2),_e&&_e.reverseWH?[$[1],$[0]]:$}computeTexture(st,_e){const $=_e&&_e.isPacked;if(st.length===0)return $?[2,2]:[1,1];let nt=this.maxTextureSize;if(_e&&_e.breakAxis!==void 0){const dt=_e.breakAxis>=st.length?1:st.slice(_e.breakAxis).reduce((pt,ht)=>pt*ht),ft=_e.breakAxis<=0?1:st.slice(0,_e.breakAxis).reduce((pt,ht)=>pt*ht);if(!(dt>nt||ft>nt))return[dt,ft];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${st}, breakAxis:${_e.breakAxis}`)}let it=st.slice(0);$&&(nt*=2,it=it.map((dt,ft)=>ft>=it.length-2?it[ft]%2==0?it[ft]:it[ft]+1:it[ft]),it.length===1&&(it=[2,it[0]])),it.length!==2&&(it=et(it).newShape);const lt=at(it);return it.length<=1&&lt<=nt?[1,lt]:it.length===2&&it[0]<=nt&&it[1]<=nt?it:it.length===3&&it[0]*it[1]<=nt&&it[2]<=nt?[it[0]*it[1],it[2]]:it.length===3&&it[0]<=nt&&it[1]*it[2]<=nt?[it[0],it[1]*it[2]]:it.length===4&&it[0]*it[1]*it[2]<=nt&&it[3]<=nt?[it[0]*it[1]*it[2],it[3]]:it.length===4&&it[0]<=nt&&it[1]*it[2]*it[3]<=nt?[it[0],it[1]*it[2]*it[3]]:$?ot(lt/4).map(dt=>2*dt):ot(lt)}},i.squeezeShape=et,i.parseAxisParam=tt,i.isInt=rt,i.sizeFromShape=at,i.getRowsCols=function(st){if(st.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[st.length>1?st[st.length-2]:1,st[st.length-1]]},i.sizeToSquarishShape=ot,i.getBatchDim=function(st,_e=2){return at(st.slice(0,st.length-_e))}},3314:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createTextureLayoutFromShape=i.calculateTextureWidthAndHeight=i.createTextureLayoutFromTextureType=void 0;const s=a(7273),j=a(5639);i.createTextureLayoutFromTextureType=(et,tt,rt)=>{const at=rt===j.TextureType.unpacked||rt===j.TextureType.unpackedReversed?1:4,ot=rt===j.TextureType.packed,st=rt===j.TextureType.unpackedReversed||rt===j.TextureType.packed,_e=rt===j.TextureType.packedLastDimension?tt.length-1:void 0,$=rt===j.TextureType.packedLastDimension?tt.map((nt,it)=>it===tt.length-1?4*nt:nt):void 0;return(0,i.createTextureLayoutFromShape)(et,tt,at,$,{isPacked:ot,reverseWH:st,breakAxis:_e})},i.calculateTextureWidthAndHeight=(et,tt,rt)=>{const at=(0,i.createTextureLayoutFromTextureType)(et,tt,rt);return[at.width,at.height]},i.createTextureLayoutFromShape=(et,tt,rt=1,at,ot)=>{const st=!(!ot||!ot.isPacked),[_e,$]=et.computeTextureWH(st&&at||tt,ot),nt=tt.length;let it=tt.slice(0);if(nt===0&&(it=[1]),rt===1)at=tt;else if(st){if(rt!==4)throw new Error("a packed texture must be 4-channel");at=tt,nt>0&&(it[nt-1]=Math.ceil(it[nt-1]/2)),nt>1&&(it[nt-2]=Math.ceil(it[nt-2]/2))}else if(!at)throw new Error("Unpacked shape is needed when using channels > 1");return{width:_e,height:$,channels:rt,isPacked:st,shape:it,strides:s.ShapeUtil.computeStrides(it),unpackedShape:at,reversedWH:ot&&ot.reverseWH}}},5243:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextureManager=void 0;const s=a(1315);i.TextureManager=class{constructor(j,et,tt,rt){this.glContext=j,this.layoutStrategy=et,this.profiler=tt,this.config=rt,this.pendingRead=new Map,rt.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(j,et,tt,rt){const at=this.toEncoderType(j),ot=this.glContext.getEncoder(at,et.channels||1,rt);if(et.isPacked&&rt===1)throw new Error("not implemented");const st=et.width,_e=et.height;let $,nt;if(this.config.reuseTextures){$=`${st}x${_e}_${ot.format}_${ot.internalFormat}_${ot.textureType}`,nt=this.inUseTextures.get($),nt||(nt=[],this.inUseTextures.set($,nt));const lt=this.idleTextures.get($);if(lt&&lt.length>0){const dt=lt.pop();return nt.push(dt),rt===1&&this.glContext.updateTexture(dt,st,_e,ot,this.toTextureData(j,tt)),dt}}s.Logger.verbose("TextureManager",`Creating new texture of size ${et.width}x${et.height}`);const it=this.glContext.allocateTexture(st,_e,ot,this.toTextureData(j,tt));return this.config.reuseTextures&&(nt.push(it),this.textureLookup.set(it,$)),it}readTexture(j,et,tt){return tt||(tt=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const rt=j.shape.reduce((ot,st)=>ot*st)*tt,at=this.glContext.readTexture(j.texture,j.width,j.height,rt,this.toEncoderType(et),tt);return this.toTensorData(et,at)})}async readTextureAsync(j,et,tt){const rt=j.tensor.dataId;if(tt||(tt=1),this.pendingRead.has(rt)){const at=this.pendingRead.get(rt);return new Promise(ot=>at==null?void 0:at.push(ot))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(rt,[]);const at=j.shape.reduce(($,nt)=>$*nt)*tt;await this.glContext.createAndWaitForFence();const ot=this.glContext.readTexture(j.texture,j.width,j.height,at,this.toEncoderType(et),tt),st=this.toTensorData(et,ot),_e=this.pendingRead.get(rt);return this.pendingRead.delete(rt),_e==null||_e.forEach($=>$(st)),st})}readUint8TextureAsFloat(j){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const et=j.shape.reduce((rt,at)=>rt*at),tt=this.glContext.readTexture(j.texture,j.width,j.height,4*et,"byte",4);return new Float32Array(tt.buffer,tt.byteOffset,et)})}releaseTexture(j,et){let tt;if(this.config.reuseTextures&&(tt=this.textureLookup.get(j.texture),tt)){et&&this.textureLookup.delete(tt);const rt=this.inUseTextures.get(tt);if(rt){const at=rt.indexOf(j.texture);if(at!==-1){rt.splice(at,1);let ot=this.idleTextures.get(tt);ot||(ot=[],this.idleTextures.set(tt,ot)),ot.push(j.texture)}}}tt&&!et||(s.Logger.verbose("TextureManager",`Deleting texture of size ${j.width}x${j.height}`),this.glContext.deleteTexture(j.texture))}toTensorData(j,et){switch(j){case"int16":return et instanceof Int16Array?et:Int16Array.from(et);case"int32":return et instanceof Int32Array?et:Int32Array.from(et);case"int8":return et instanceof Int8Array?et:Int8Array.from(et);case"uint16":return et instanceof Uint16Array?et:Uint16Array.from(et);case"uint32":return et instanceof Uint32Array?et:Uint32Array.from(et);case"uint8":case"bool":return et instanceof Uint8Array?et:Uint8Array.from(et);case"float32":return et instanceof Float32Array?et:Float32Array.from(et);case"float64":return et instanceof Float64Array?et:Float64Array.from(et);default:throw new Error(`TensorData type ${j} is not supported`)}}toTextureData(j,et){if(et)return et instanceof Float32Array?et:new Float32Array(et)}toEncoderType(j){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.TextureType=void 0,(a=i.TextureType||(i.TextureType={}))[a.unpacked=0]="unpacked",a[a.unpackedReversed=1]="unpackedReversed",a[a.packed=2]="packed",a[a.downloadUint8AsFloat=3]="downloadUint8AsFloat",a[a.packedLastDimension=4]="packedLastDimension"},432:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getGlChannels=i.getCoordsDataType=i.getSqueezedParams=i.squeezeInputShape=i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=i.generateShaderFuncNameFromInputSamplerName=i.repeatedTry=i.getPackedShape=void 0;const s=a(7273);i.getPackedShape=function(j){const et=j.length;return j.slice(0,et-1).concat(j[et-1]/4)},i.repeatedTry=async function(j,et=rt=>0,tt){return new Promise((rt,at)=>{let ot=0;const st=()=>{if(j())return void rt();ot++;const _e=et(ot);tt!=null&&ot>=tt?at():setTimeout(st,_e)};st()})},i.generateShaderFuncNameFromInputSamplerName=function(j){return(0,s.assert)(j!==void 0&&j.length!==0,()=>"empty string found for sampler name"),"get"+j.charAt(0).toUpperCase()+j.slice(1)},i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(j){return(0,s.assert)(j!==void 0&&j.length!==0,()=>"empty string found for sampler name"),"get"+j.charAt(0).toUpperCase()+j.slice(1)+"AtOutCoords"},i.squeezeInputShape=function(j,et){let tt=JSON.parse(JSON.stringify(j));return tt=et,tt},i.getSqueezedParams=function(j,et){return et.map(tt=>j[tt]).join(", ")},i.getCoordsDataType=function(j){if(j<=1)return"int";if(j===2)return"ivec2";if(j===3)return"ivec3";if(j===4)return"ivec4";if(j===5)return"ivec5";if(j===6)return"ivec6";throw Error(`GPU for rank ${j} is not yet supported`)},i.getGlChannels=function(j=6){return["x","y","z","w","u","v"].slice(0,j)}},3389:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createNewWebGLContext=i.createWebGLContext=void 0;const s=a(1315),j=a(3524),et={};function tt(rt){const at=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const _e=document.createElement("canvas");return _e.width=1,_e.height=1,_e}();let ot;const st={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!rt||rt==="webgl2")&&(ot=at.getContext("webgl2",st),ot))try{return new j.WebGLContext(ot,2)}catch(_e){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${_e}`)}if((!rt||rt==="webgl")&&(ot=at.getContext("webgl",st)||at.getContext("experimental-webgl",st),ot))try{return new j.WebGLContext(ot,1)}catch(_e){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${_e}`)}throw new Error("WebGL is not supported")}i.createWebGLContext=function rt(at){let ot;at&&at!=="webgl2"||!("webgl2"in et)?at&&at!=="webgl"||!("webgl"in et)||(ot=et.webgl):ot=et.webgl2,ot=ot||tt(at),at=at||ot.version===1?"webgl":"webgl2";const st=ot.gl;return et[at]=ot,st.isContextLost()?(delete et[at],rt(at)):(st.disable(st.DEPTH_TEST),st.disable(st.STENCIL_TEST),st.disable(st.BLEND),st.disable(st.DITHER),st.disable(st.POLYGON_OFFSET_FILL),st.disable(st.SAMPLE_COVERAGE),st.enable(st.SCISSOR_TEST),st.enable(st.CULL_FACE),st.cullFace(st.BACK),ot)},i.createNewWebGLContext=tt},3524:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(st,_e,$,nt){nt===void 0&&(nt=$);var it=Object.getOwnPropertyDescriptor(_e,$);it&&!("get"in it?!_e.__esModule:it.writable||it.configurable)||(it={enumerable:!0,get:function(){return _e[$]}}),Object.defineProperty(st,nt,it)}:function(st,_e,$,nt){nt===void 0&&(nt=$),st[nt]=_e[$]}),j=this&&this.__setModuleDefault||(Object.create?function(st,_e){Object.defineProperty(st,"default",{enumerable:!0,value:_e})}:function(st,_e){st.default=_e}),et=this&&this.__importStar||function(st){if(st&&st.__esModule)return st;var _e={};if(st!=null)for(var $ in st)$!=="default"&&Object.prototype.hasOwnProperty.call(st,$)&&s(_e,st,$);return j(_e,st),_e};Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLContext=i.linearSearchLastTrue=void 0;const tt=a(8453),rt=et(a(9622)),at=a(432);function ot(st){let _e=0;for(;_e<st.length&&st[_e]();++_e);return _e-1}i.linearSearchLastTrue=ot,i.WebGLContext=class{constructor(st,_e){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=st,this.version=_e,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(st,_e,$,nt){const it=this.gl,lt=it.createTexture();it.bindTexture(it.TEXTURE_2D,lt),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.NEAREST),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE);const dt=nt?$.encode(nt,st*_e):null;return it.texImage2D(it.TEXTURE_2D,0,$.internalFormat,st,_e,0,$.format,$.textureType,dt),this.checkError(),lt}updateTexture(st,_e,$,nt,it){const lt=this.gl;lt.bindTexture(lt.TEXTURE_2D,st);const dt=nt.encode(it,_e*$);lt.texSubImage2D(lt.TEXTURE_2D,0,0,0,_e,$,nt.format,nt.textureType,dt),this.checkError()}attachFramebuffer(st,_e,$){const nt=this.gl;nt.bindTexture(nt.TEXTURE_2D,st),nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,st,0),this.checkError(),nt.viewport(0,0,_e,$),nt.scissor(0,0,_e,$)}readTexture(st,_e,$,nt,it,lt){const dt=this.gl;lt||(lt=1),this.frameBufferBound||this.attachFramebuffer(st,_e,$);const ft=this.getEncoder(it,lt),pt=ft.allocate(_e*$);return dt.bindTexture(dt.TEXTURE_2D,st),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,st,0),dt.readPixels(0,0,_e,$,dt.RGBA,ft.textureType,pt),this.checkError(),ft.decode(pt,nt)}isFramebufferReady(){return!0}getActiveTexture(){const st=this.gl;return"TEXTURE"+(st.getParameter(this.gl.ACTIVE_TEXTURE)-st.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(st,_e){const $=this.gl;$.vertexAttribPointer(st,3,$.FLOAT,!1,20,0),$.enableVertexAttribArray(st),_e!==-1&&($.vertexAttribPointer(_e,2,$.FLOAT,!1,20,12),$.enableVertexAttribArray(_e)),this.checkError()}createProgram(st,_e){const $=this.gl,nt=$.createProgram();return $.attachShader(nt,st),$.attachShader(nt,_e),$.linkProgram(nt),nt}compileShader(st,_e){const $=this.gl,nt=$.createShader(_e);if(!nt)throw new Error(`createShader() returned null with type ${_e}`);if($.shaderSource(nt,st),$.compileShader(nt),$.getShaderParameter(nt,$.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${$.getShaderInfoLog(nt)}
Shader source:
${st}`);return nt}deleteShader(st){this.gl.deleteShader(st)}bindTextureToUniform(st,_e,$){const nt=this.gl;nt.activeTexture(nt.TEXTURE0+_e),this.checkError(),nt.bindTexture(nt.TEXTURE_2D,st),this.checkError(),nt.uniform1i($,_e),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(tt.env.debug){const st=this.gl,_e=st.getError();let $="";switch(_e){case st.NO_ERROR:return;case st.INVALID_ENUM:$="INVALID_ENUM";break;case st.INVALID_VALUE:$="INVALID_VALUE";break;case st.INVALID_OPERATION:$="INVALID_OPERATION";break;case st.INVALID_FRAMEBUFFER_OPERATION:$="INVALID_FRAMEBUFFER_OPERATION";break;case st.OUT_OF_MEMORY:$="OUT_OF_MEMORY";break;case st.CONTEXT_LOST_WEBGL:$="CONTEXT_LOST_WEBGL";break;default:$=`Unknown WebGL Error: ${_e.toString(16)}`}throw new Error($)}}deleteTexture(st){this.gl.deleteTexture(st)}deleteProgram(st){this.gl.deleteProgram(st)}getEncoder(st,_e,$=0){if(this.version===2)return new rt.RedFloat32DataEncoder(this.gl,_e);switch(st){case"float":return $===1||this.isRenderFloat32Supported?new rt.RGBAFloatDataEncoder(this.gl,_e):new rt.RGBAFloatDataEncoder(this.gl,_e,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new rt.Uint8DataEncoder(this.gl,_e);default:throw new Error(`Invalid dataType: ${st}`)}}clearActiveTextures(){const st=this.gl;for(let _e=0;_e<this.maxTextureImageUnits;++_e)st.activeTexture(st.TEXTURE0+_e),st.bindTexture(st.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const st=this.gl;st.bindFramebuffer(st.FRAMEBUFFER,null),st.deleteFramebuffer(this.framebuffer),st.bindBuffer(st.ARRAY_BUFFER,null),st.deleteBuffer(this.vertexbuffer),st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,null),st.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const st=this.gl,_e=st.createBuffer();if(!_e)throw new Error("createBuffer() returned null");const $=this.createDefaultGeometry();return st.bindBuffer(st.ARRAY_BUFFER,_e),st.bufferData(st.ARRAY_BUFFER,$,st.STATIC_DRAW),this.checkError(),_e}createFramebuffer(){const st=this.gl.createFramebuffer();if(!st)throw new Error("createFramebuffer returned null");return st}queryVitalParameters(){const st=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=st.getParameter(st.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=st.getParameter(st.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const st=this.gl,_e=st.createTexture();st.bindTexture(st.TEXTURE_2D,_e);const $=this.version===2?st.RGBA32F:st.RGBA;st.texImage2D(st.TEXTURE_2D,0,$,1,1,0,st.RGBA,st.FLOAT,null);const nt=st.createFramebuffer();st.bindFramebuffer(st.FRAMEBUFFER,nt),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,_e,0);const it=st.checkFramebufferStatus(st.FRAMEBUFFER)===st.FRAMEBUFFER_COMPLETE;return st.bindTexture(st.TEXTURE_2D,null),st.bindFramebuffer(st.FRAMEBUFFER,null),st.deleteTexture(_e),st.deleteFramebuffer(nt),it}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const st=this.gl;let _e,$,nt,it,lt;try{_e=st.createTexture(),$=st.createFramebuffer(),st.bindTexture(st.TEXTURE_2D,_e);const dt=this.version===2?st.RGBA32F:st.RGBA;return st.texImage2D(st.TEXTURE_2D,0,dt,1,1,0,st.RGBA,st.FLOAT,null),st.bindFramebuffer(st.FRAMEBUFFER,$),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,_e,0),st.enable(st.BLEND),nt=st.createShader(st.VERTEX_SHADER),!!nt&&(st.shaderSource(nt,"void main(){}"),st.compileShader(nt),it=st.createShader(st.FRAGMENT_SHADER),!!it&&(st.shaderSource(it,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),st.compileShader(it),lt=st.createProgram(),!!lt&&(st.attachShader(lt,nt),st.attachShader(lt,it),st.linkProgram(lt),st.useProgram(lt),st.drawArrays(st.POINTS,0,1),st.getError()===st.NO_ERROR)))}finally{st.disable(st.BLEND),lt&&st.deleteProgram(lt),nt&&st.deleteShader(nt),it&&st.deleteShader(it),$&&(st.bindFramebuffer(st.FRAMEBUFFER,null),st.deleteFramebuffer($)),_e&&(st.bindTexture(st.TEXTURE_2D,null),st.deleteTexture(_e))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const st=this.gl,_e=this.disjointTimerQueryWebgl2Extension,$=st.createQuery();return st.beginQuery(_e.TIME_ELAPSED_EXT,$),$}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const st=this.gl,_e=this.disjointTimerQueryWebgl2Extension;st.endQuery(_e.TIME_ELAPSED_EXT)}}isTimerResultAvailable(st){let _e=!1,$=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const nt=this.gl,it=this.disjointTimerQueryWebgl2Extension;_e=nt.getQueryParameter(st,nt.QUERY_RESULT_AVAILABLE),$=nt.getParameter(it.GPU_DISJOINT_EXT)}return _e&&!$}getTimerResult(st){let _e=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const $=this.gl;_e=$.getQueryParameter(st,$.QUERY_RESULT),$.deleteQuery(st)}return _e/1e6}async waitForQueryAndGetTime(st){return await(0,at.repeatedTry)(()=>this.isTimerResultAvailable(st)),this.getTimerResult(st)}async createAndWaitForFence(){const st=this.createFence(this.gl);return this.pollFence(st)}createFence(st){let _e;const $=st,nt=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);return st.flush(),_e=nt===null?()=>!0:()=>{const it=$.clientWaitSync(nt,0,0);return it===$.ALREADY_SIGNALED||it===$.CONDITION_SATISFIED},{query:nt,isFencePassed:_e}}async pollFence(st){return new Promise(_e=>{this.addItemToPoll(()=>st.isFencePassed(),()=>_e())})}pollItems(){const st=ot(this.itemsToPoll.map(_e=>_e.isDoneFn));for(let _e=0;_e<=st;++_e){const{resolveFn:$}=this.itemsToPoll[_e];$()}this.itemsToPoll=this.itemsToPoll.slice(st+1)}async addItemToPoll(st,_e){this.itemsToPoll.push({isDoneFn:st,resolveFn:_e}),this.itemsToPoll.length>1||await(0,at.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExecutionPlan=void 0;const s=a(1315);class j{constructor(tt,rt){this.op=tt,this.node=rt}}i.ExecutionPlan=class{constructor(et,tt,rt){this.graph=et,this.profiler=rt,this.initialize(tt)}initialize(et){this.profiler.event("session","ExecutionPlan.initialize",()=>{const tt=this.graph.getNodes();if(tt.length!==et.length)throw new Error("The size of nodes and OPs do not match.");this._ops=et.map((rt,at)=>new j(rt,tt[at])),this.reset(),this._starter=[],this._ops.forEach((rt,at)=>{let ot=!0;for(const st of rt.node.inputs)if(!this._values[st]&&this.graph.getInputIndices().indexOf(st)===-1){ot=!1;break}ot&&this._starter.push(at)})})}reset(){this._values=this.graph.getValues().map(et=>et.tensor)}async execute(et,tt){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const rt=et.createInferenceHandler(),at=this.graph.getInputIndices();if(tt.length!==at.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${tt.length} expected: ${at.length}`);tt.forEach((it,lt)=>{const dt=at[lt];this._values[dt]=it});const ot=this._starter.slice(0),st=this.graph.getValues(),_e=this.graph.getNodes();let $=0;for(;$<ot.length;){const it=ot[$++],lt=this._ops[it],dt=lt.node.inputs.map(gt=>this._values[gt]);if(dt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${lt.node}`);const ft=dt;s.Logger.verbose("ExecPlan",`Runing op:${lt.node.name} (${ft.map((gt,mt)=>`'${lt.node.inputs[mt]}': ${gt.type}[${gt.dims.join(",")}]`).join(", ")})`);const pt=await this.profiler.event("node",lt.node.name,async()=>lt.op.impl(rt,ft,lt.op.context));if(pt.length!==lt.node.outputs.length)throw new Error("the size of output does not match model definition.");pt.forEach((gt,mt)=>{const yt=lt.node.outputs[mt];if(this._values[yt])throw new Error(`output [${yt}] already has value: op:${lt.node.name}`);this._values[yt]=gt});const ht=new Set;pt.forEach((gt,mt)=>{const yt=lt.node.outputs[mt];for(const bt of st[yt].to){const _t=_e[bt];let xt=!0;for(const Et of _t.inputs)if(!this._values[Et]){xt=!1;break}xt&&ht.add(bt)}}),ot.push(...ht)}const nt=[];for(let it=0;it<this.graph.getOutputIndices().length;it++){const lt=this.graph.getOutputIndices()[it],dt=this._values[lt];if(dt===void 0)throw new Error(`required output [${lt}] does not have value`);lt===0?await dt.getData():dt.data,nt.push(dt)}return s.Logger.verbose("ExecPlan","disposing of inferenceHandler"),rt.dispose(),nt})}}},4662:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Graph=void 0;const s=a(1446),j=a(6874),et=a(1287),tt=a(9240),rt=a(7273);var at=et.onnxruntime.experimental.fbs;i.Graph={from:($,nt)=>new _e($,nt)};class ot{constructor(nt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,nt&&(this.type=rt.ProtoUtil.tensorValueTypeFromProto(nt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class st{constructor(nt,it){nt instanceof s.onnx.NodeProto?(this.name=nt.name,this.opType=nt.opType,this.attributes=new j.Attribute(nt.attribute)):nt instanceof at.Node&&(this.name=it??nt.name(),this.opType=nt.opType(),this.attributes=new j.Attribute(rt.ProtoUtil.tensorAttributesFromORTFormat(nt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class _e{constructor(nt,it){if(!nt)throw new TypeError("graph is empty");this.buildGraph(nt),this.transformGraph(it),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(nt){if(nt instanceof s.onnx.GraphProto)this.buildGraphFromOnnxFormat(nt);else{if(!(nt instanceof at.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(nt)}}buildGraphFromOnnxFormat(nt){const it=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const lt=new Map;if(!nt.input)throw new Error("missing information in graph: input");const dt=[];for(const ft of nt.input){if(it.has(ft.name))throw new Error(`duplicated input name: ${ft.name}`);const pt=this._allData.push(new ot(ft))-1;it.set(ft.name,pt),dt.push(ft.name)}if(!nt.initializer)throw new Error("missing information in graph: initializer");for(const ft of nt.initializer){let pt=it.get(ft.name);if(pt===void 0){const ht=new ot;ht.type={shape:{dims:rt.ProtoUtil.tensorDimsFromProto(ft.dims)},tensorType:rt.ProtoUtil.tensorDataTypeFromProto(ft.dataType)},pt=this._allData.push(ht)-1,it.set(ft.name,pt)}this._allData[pt]._from=-1,this._allData[pt].tensor=tt.Tensor.fromProto(ft)}for(let ft=0;ft<this._allData.length;ft++)this._allData[ft].tensor||(this._allInputIndices.push(ft),this._allInputNames.push(dt[ft]));if(!nt.output)throw new Error("missing information in graph: output");for(const ft of nt.output){if(it.has(ft.name))throw new Error(`duplicated output name: ${ft.name}`);const pt=this._allData.push(new ot(ft))-1;it.set(ft.name,pt),this._allOutputIndices.push(pt),this._allOutputNames.push(ft.name)}if(!nt.node)throw new Error("missing information in graph: node");for(const ft of nt.node){if(!ft.name)for(let ht=0;;ht++){const gt=`unnamed_${ft.opType}_${ht}`;if(!lt.has(gt)){ft.name=gt;break}}if(lt.has(ft.name))throw new Error(`duplicated node name: ${ft.name}`);const pt=this._nodes.push(new st(ft))-1;lt.set(ft.name,pt)}for(let ft=0;ft<this._nodes.length;ft++){const pt=this._nodes[ft],ht=nt.node[ft];if(!ht.output)throw new Error(`missing output for node: ${ht.name}`);for(const gt of ht.output){let mt=it.get(gt);if(mt===void 0&&(mt=this._allData.push(new ot)-1,it.set(gt,mt)),pt.outputs.push(mt),this._allData[mt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${mt}`);if(this._allData[mt]._from=ft,ht.opType==="Constant"){if(!ht.attribute||ht.attribute.length!==1||!ht.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!ht.output||ht.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");pt.outputs.pop(),pt.executeNode=!1,this._allData[mt]._from=-1,this._allData[mt].tensor=tt.Tensor.fromProto(ht.attribute[0].t)}}}for(let ft=0;ft<this._nodes.length;ft++){const pt=this._nodes[ft],ht=nt.node[ft];if(!ht.input)throw new Error(`missing input for node: ${ht.name}`);for(const gt of ht.input){const mt=it.get(gt);if(mt===void 0){if(gt===""&&ht.input.length===3&&ht.opType==="Resize")continue;throw new Error(`unrecognized input '${gt}' for node: ${ht.name}`)}pt.inputs.push(mt),this._allData[mt]._to.push(ft)}}return!0}buildGraphFromOrtFormat(nt){var it,lt,dt;const ft=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const pt=new Map,ht=[];for(let gt=0;gt<nt.inputsLength();gt++){const mt=nt.inputs(gt);if(ft.has(mt))throw new Error(`duplicated input name: ${mt}`);for(let yt=0;yt<nt.nodeArgsLength();yt++)if(((it=nt.nodeArgs(yt))===null||it===void 0?void 0:it.name())===mt){const bt=new ot;if(((dt=(lt=nt.nodeArgs(yt))===null||lt===void 0?void 0:lt.type())===null||dt===void 0?void 0:dt.valueType())!==at.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const _t=nt.nodeArgs(yt).type().value(new at.TensorTypeAndShape),xt=rt.ProtoUtil.tensorDataTypeFromProto(_t.elemType()),Et=_t.shape(),Tt=[];for(let At=0;At<Et.dimLength();At++)Tt.push(rt.LongUtil.longToNumber(Et.dim(At).value().dimValue()));bt.type={shape:{dims:Tt},tensorType:xt};const Pt=this._allData.push(bt)-1;ft.set(mt,Pt),ht.push(mt)}}for(let gt=0;gt<nt.initializersLength();gt++){const mt=nt.initializers(gt);let yt=ft.get(mt.name());if(yt===void 0){const bt=new ot,_t=rt.ProtoUtil.tensorDimsFromORTFormat(mt),xt=rt.ProtoUtil.tensorDataTypeFromProto(mt.dataType());bt.type={shape:{dims:_t},tensorType:xt},yt=this._allData.push(bt)-1,ft.set(mt.name(),yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=tt.Tensor.fromOrtTensor(mt)}for(let gt=0;gt<this._allData.length;gt++)this._allData[gt].tensor||(this._allInputIndices.push(gt),this._allInputNames.push(ht[gt]));for(let gt=0;gt<nt.outputsLength();gt++){const mt=nt.outputs(gt);if(ft.has(mt))throw new Error(`duplicated output name: ${mt}`);const yt=this._allData.push(new ot)-1;ft.set(mt,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(mt)}if(!nt.nodes)throw new Error("missing information in graph: node");for(let gt=0;gt<nt.nodesLength();gt++){const mt=nt.nodes(gt);let yt=mt.name();if(!yt)for(let _t=0;yt=`unnamed_${mt.opType()}_${_t}`,pt.has(yt);_t++);if(pt.has(yt))throw new Error(`duplicated node name: ${yt}`);const bt=this._nodes.push(new st(mt,yt))-1;pt.set(yt,bt)}for(let gt=0;gt<this._nodes.length;gt++){const mt=this._nodes[gt],yt=nt.nodes(gt);if(yt==null)throw new Error(`No node exists at index ${gt}`);if((yt==null?void 0:yt.outputsLength())===0)throw new Error(`missing output for node: ${yt.name}`);for(let bt=0;bt<(yt==null?void 0:yt.outputsLength());bt++){const _t=yt==null?void 0:yt.outputs(bt);let xt=ft.get(_t);if(xt===void 0&&(xt=this._allData.push(new ot)-1,ft.set(_t,xt)),mt.outputs.push(xt),this._allData[xt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${xt}`);if(this._allData[xt]._from=gt,yt.opType()==="Constant"){if(yt.attributesLength()!==1||!yt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(yt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");mt.outputs.pop(),mt.executeNode=!1,this._allData[xt]._from=-1,this._allData[xt].tensor=tt.Tensor.fromOrtTensor(yt.attributes(0).t())}}}for(let gt=0;gt<this._nodes.length;gt++){const mt=this._nodes[gt],yt=nt.nodes(gt);if(yt.inputsLength()===0)throw new Error(`missing input for node: ${yt.name}`);for(let bt=0;bt<yt.inputsLength();bt++){const _t=yt.inputs(bt),xt=ft.get(_t);if(xt===void 0)throw new Error(`unrecognized input '${_t}' for node: ${yt.name()}`);mt.inputs.push(xt),this._allData[xt]._to.push(gt)}}}checkIsAcyclic(){const nt=new Set;this._allInputIndices.forEach(dt=>{this._allData[dt]._to.forEach(ft=>{nt.add(ft)})});const it=Array.from(nt),lt=new Array(this._nodes.length).fill("white");for(;it.length>0;){const dt=it.pop();lt[dt]==="gray"?lt[dt]="black":(it.push(dt),lt[dt]="gray",this._nodes[dt].outputs.forEach(ft=>{const pt=this._allData[ft];if(pt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(pt._from!==dt)throw new Error("from property of the Value object doesn't match index of Node being processed");pt._to.forEach(ht=>{if(lt[ht]==="gray")throw new Error("model graph is cyclic");lt[ht]==="white"&&it.push(ht)})}))}}transformGraph(nt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),nt&&nt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let nt=0;const it=new Array(this._nodes.length,0);let lt=0;for(let dt=0;dt<this._nodes.length;dt++)it[dt]=lt,this._nodes[dt].executeNode?(lt!==dt&&(this._nodes[lt]=this._nodes[dt]),lt++):this._nodes[dt].outputs.forEach(ft=>{this._allData[ft]._from=-2});this._nodes.splice(lt,this._nodes.length-lt);for(let dt=0;dt<this._allData.length;dt++){const ft=this._allData[dt];ft._from!==void 0&&ft._from!==-1&&ft._from!==-2&&(ft._from=it[ft._from]);for(let pt=0;pt<ft._to.length;pt++){if(!(ft._to[pt]>=0))throw new Error("Trying to update a removed node");ft._to[pt]=it[ft._to[pt]]}}nt=0;for(let dt=0;dt<this._allData.length;dt++)if(this._allData[dt].from!==-2||this._allOutputIndices.indexOf(dt+nt)!==-1){if(nt>0){let ft=-1;this._allData[dt].from!==void 0&&this._allData[dt].from!==-1?(ft=this._nodes[this._allData[dt].from].outputs.indexOf(dt+nt),ft!==-1&&(this._nodes[this._allData[dt].from].outputs[ft]=dt)):(ft=this._allInputIndices.indexOf(dt+nt),ft!==-1&&(this._allInputIndices[ft]=dt)),this._allData[dt].to.forEach(pt=>{ft=this._nodes[pt].inputs.indexOf(dt+nt),ft!==-1&&(this._nodes[pt].inputs[ft]=dt)}),this._allData[dt].to.length===0&&(ft=this._allOutputIndices.indexOf(dt+nt),ft!==-1&&(this._allOutputIndices[ft]=dt))}}else nt++,this._allData.splice(dt,1),dt--}deleteNode(nt){const it=this._nodes[nt];if(it.outputs.length>1){for(let ht=1;ht<it.outputs.length;ht++)if(this._allData[it.outputs[ht]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}it.executeNode=!1;const lt=it.inputs[0],dt=it.outputs[0],ft=this._allData[dt].to;for(let ht=0;ht<it.inputs.length;ht++){const gt=this._allData[it.inputs[ht]].to.indexOf(nt);if(gt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[it.inputs[ht]].to.splice(gt,1)}this._allData[dt]._to=[];const pt=this._allOutputIndices.indexOf(dt);if(pt!==-1&&(this._allOutputIndices[pt]=lt),ft&&ft.length>0)for(const ht of ft){const gt=this._nodes[ht].inputs.indexOf(dt);if(gt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ht].inputs[gt]=lt,this._allData[lt].to.push(ht)}}removeAllDropoutNodes(){let nt=0;for(const it of this._nodes){if(it.opType==="Dropout"){if(it.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(it.outputs.length!==1&&it.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(it.outputs.length===2&&this._allData[it.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(nt)}nt++}}removeAllIdentityNodes(){let nt=0;for(const it of this._nodes)it.opType==="Identity"&&this.deleteNode(nt),nt++}isActivation(nt){switch(nt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const nt of this._nodes)if(nt.opType==="Conv"){const it=this._allData[nt.outputs[0]]._to;if(it.length===1&&this.isActivation(this._nodes[it[0]])){const lt=this._nodes[it[0]];if(lt.opType==="Clip")if(lt.inputs.length===1)try{nt.attributes.set("activation_params","floats",[lt.attributes.getFloat("min"),lt.attributes.getFloat("max")])}catch{nt.attributes.set("activation_params","floats",[rt.MIN_CLIP,rt.MAX_CLIP])}else{if(!(lt.inputs.length>=3&&this._allData[lt.inputs[1]].tensor!==void 0&&this._allData[lt.inputs[2]].tensor!==void 0))continue;nt.attributes.set("activation_params","floats",[this._allData[lt.inputs[1]].tensor.floatData[0],this._allData[lt.inputs[2]].tensor.floatData[0]])}nt.attributes.set("activation","string",lt.opType),this.deleteNode(it[0])}}}}},1315:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.now=i.Profiler=i.Logger=void 0;const a={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},s={none:new class{log(st,_e,$){}},console:new class{log(st,_e,$){console.log(`${this.color(st)} ${$?"\x1B[35m"+$+"\x1B[0m ":""}${_e}`)}color(st){switch(st){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${st}`)}}}},j={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let et={"":j};function tt(st,_e,$,nt){if(_e===void 0)return it=st,{verbose:tt.verbose.bind(null,it),info:tt.info.bind(null,it),warning:tt.warning.bind(null,it),error:tt.error.bind(null,it),fatal:tt.fatal.bind(null,it)};if($===void 0)rt(st,_e);else if(typeof $=="number"&&nt===void 0)rt(st,_e);else if(typeof $=="string"&&nt===void 0)rt(st,$,0,_e);else{if(typeof $!="string"||typeof nt!="number")throw new TypeError("input is valid");rt(st,$,0,_e)}var it}function rt(st,_e,$,nt){const it=et[nt||""]||et[""];a[st]<a[it.minimalSeverity]||(it.logDateTime&&(_e=`${new Date().toISOString()}|${_e}`),it.logSourceLocation,s[it.provider].log(st,_e,nt))}(function(st){function _e(nt){et={},$("",nt||{})}function $(nt,it){if(nt==="*")_e(it);else{const lt=et[nt]||j;et[nt]={provider:it.provider||lt.provider,minimalSeverity:it.minimalSeverity||lt.minimalSeverity,logDateTime:it.logDateTime===void 0?lt.logDateTime:it.logDateTime,logSourceLocation:it.logSourceLocation===void 0?lt.logSourceLocation:it.logSourceLocation}}}st.verbose=function(nt,it){st("verbose",nt,it)},st.info=function(nt,it){st("info",nt,it)},st.warning=function(nt,it){st("warning",nt,it)},st.error=function(nt,it){st("error",nt,it)},st.fatal=function(nt,it){st("fatal",nt,it)},st.reset=_e,st.set=$,st.setWithEnv=function(nt){const it={};nt.logLevel&&(it.minimalSeverity=nt.logLevel),$("",it)}})(tt||(tt={})),i.Logger=tt;class at{constructor(_e,$,nt,it,lt,dt){this.category=_e,this.name=$,this.startTime=nt,this.endCallback=it,this.timer=lt,this.ctx=dt}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ot{constructor(_e,$,nt,it){this.category=_e,this.name=$,this.startTime=nt,this.endTime=it}}i.Profiler=class{static create(st){return st===void 0?new this:new this(st.maxNumberEvents,st.flushBatchSize,st.flushIntervalInMilliseconds)}constructor(st,_e,$){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=st===void 0?1e4:st,this._flushBatchSize=_e===void 0?10:_e,this._flushIntervalInMilliseconds=$===void 0?5e3:$}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,i.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(st,_e,$,nt){const it=this._started?this.begin(st,_e,nt):void 0;let lt=!1;const dt=$();if(dt&&typeof dt.then=="function")return lt=!0,new Promise((ft,pt)=>{dt.then(async ht=>{it&&await it.end(),ft(ht)},async ht=>{it&&await it.end(),pt(ht)})});if(!lt&&it){const ft=it.end();if(ft&&typeof ft.then=="function")return new Promise((pt,ht)=>{ft.then(()=>{pt(dt)},gt=>{ht(gt)})})}return dt}begin(st,_e,$){if(!this._started)throw new Error("profiler is not started yet");if($===void 0){const nt=(0,i.now)();return this.flush(nt),new at(st,_e,nt,it=>this.endSync(it))}{const nt=$.beginTimer();return new at(st,_e,0,async it=>this.end(it),nt,$)}}async end(st){const _e=await st.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ot(st.category,st.name,st.startTime,_e)),this.flush(_e))}endSync(st){const _e=(0,i.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ot(st.category,st.name,st.startTime,_e)),this.flush(_e))}logOneEvent(st){i.Logger.verbose(`Profiler.${st.category}`,`${(st.endTime-st.startTime).toFixed(2)}ms on event '${st.name}' at ${st.endTime.toFixed(2)}`)}flush(st){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||st-this._flushTime>=this._flushIntervalInMilliseconds){for(const _e=this._flushPointer;this._flushPointer<_e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,i.now)()}}get started(){return this._started}},i.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Model=void 0;const s=a(5686),j=a(1446),et=a(4662),tt=a(1287),rt=a(7273);var at=tt.onnxruntime.experimental.fbs;i.Model=class{constructor(){}load(ot,st,_e){if(!_e)try{return void this.loadFromOnnxFormat(ot,st)}catch($){if(_e!==void 0)throw $}this.loadFromOrtFormat(ot,st)}loadFromOnnxFormat(ot,st){const _e=j.onnx.ModelProto.decode(ot);if(rt.LongUtil.longToNumber(_e.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=_e.opsetImport.map($=>({domain:$.domain,version:rt.LongUtil.longToNumber($.version)})),this._graph=et.Graph.from(_e.graph,st)}loadFromOrtFormat(ot,st){const _e=new s.flatbuffers.ByteBuffer(ot),$=at.InferenceSession.getRootAsInferenceSession(_e).model();if(rt.LongUtil.longToNumber($.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let nt=0;nt<$.opsetImportLength();nt++){const it=$.opsetImport(nt);this._opsets.push({domain:it==null?void 0:it.domain(),version:rt.LongUtil.longToNumber(it.version())})}this._graph=et.Graph.from($.graph(),st)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FLOAT_TYPES=i.INT_TYPES=i.NUMBER_TYPES=void 0,i.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],i.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],i.FLOAT_TYPES=["float32","float64"]},5881:(o,i)=>{function a(s,j){if(j.endsWith("+")){const et=Number.parseInt(j.substring(0,j.length-1),10);return!isNaN(et)&&et<=s}if(j.split("-").length===2){const et=j.split("-"),tt=Number.parseInt(et[0],10),rt=Number.parseInt(et[1],10);return!isNaN(tt)&&!isNaN(rt)&&tt<=s&&s<=rt}return Number.parseInt(j,10)===s}Object.defineProperty(i,"__esModule",{value:!0}),i.resolveOperator=void 0,i.resolveOperator=function(s,j,et){for(const tt of et){const rt=tt[0],at=tt[1],ot=tt[2],st=tt[3],_e=tt[4];if(s.opType===rt){for(const $ of j)if(($.domain===at||$.domain==="ai.onnx"&&at==="")&&a($.version,ot))return{opImpl:st,opInit:_e}}}throw new TypeError(`cannot resolve operator '${s.opType}' with opsets: ${j.map(tt=>`${tt.domain||"ai.onnx"} v${tt.version}`).join(", ")}`)}},1287:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.onnxruntime=void 0;const s=a(5686);var j,et;j=i.onnxruntime||(i.onnxruntime={}),function(tt){(function(rt){rt[rt.UNDEFINED=0]="UNDEFINED",rt[rt.FLOAT=1]="FLOAT",rt[rt.INT=2]="INT",rt[rt.STRING=3]="STRING",rt[rt.TENSOR=4]="TENSOR",rt[rt.GRAPH=5]="GRAPH",rt[rt.FLOATS=6]="FLOATS",rt[rt.INTS=7]="INTS",rt[rt.STRINGS=8]="STRINGS",rt[rt.TENSORS=9]="TENSORS",rt[rt.GRAPHS=10]="GRAPHS",rt[rt.SPARSE_TENSOR=11]="SPARSE_TENSOR",rt[rt.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(tt.AttributeType||(tt.AttributeType={}))}((et=j.experimental||(j.experimental={})).fbs||(et.fbs={})),function(tt){(function(rt){(function(at){(function(ot){ot[ot.UNKNOWN=0]="UNKNOWN",ot[ot.VALUE=1]="VALUE",ot[ot.PARAM=2]="PARAM"})(at.DimensionValueType||(at.DimensionValueType={}))})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){(function(ot){ot[ot.UNDEFINED=0]="UNDEFINED",ot[ot.FLOAT=1]="FLOAT",ot[ot.UINT8=2]="UINT8",ot[ot.INT8=3]="INT8",ot[ot.UINT16=4]="UINT16",ot[ot.INT16=5]="INT16",ot[ot.INT32=6]="INT32",ot[ot.INT64=7]="INT64",ot[ot.STRING=8]="STRING",ot[ot.BOOL=9]="BOOL",ot[ot.FLOAT16=10]="FLOAT16",ot[ot.DOUBLE=11]="DOUBLE",ot[ot.UINT32=12]="UINT32",ot[ot.UINT64=13]="UINT64",ot[ot.COMPLEX64=14]="COMPLEX64",ot[ot.COMPLEX128=15]="COMPLEX128",ot[ot.BFLOAT16=16]="BFLOAT16"})(at.TensorDataType||(at.TensorDataType={}))})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){(function(ot){ot[ot.Primitive=0]="Primitive",ot[ot.Fused=1]="Fused"})(at.NodeType||(at.NodeType={}))})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){(function(ot){ot[ot.NONE=0]="NONE",ot[ot.tensor_type=1]="tensor_type",ot[ot.sequence_type=2]="sequence_type",ot[ot.map_type=3]="map_type"})(at.TypeInfoValue||(at.TypeInfoValue={}))})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsShape(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsShape(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}dim(_e,$){let nt=this.bb.__offset(this.bb_pos,4);return nt?($||new tt.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}dimLength(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startShape(_e){_e.startObject(1)}static addDim(_e,$){_e.addFieldOffset(0,$,0)}static createDimVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startDimVector(_e,$){_e.startVector(4,$,4)}static endShape(_e){return _e.endObject()}static createShape(_e,$){return ot.startShape(_e),ot.addDim(_e,$),ot.endShape(_e)}}at.Shape=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsDimension(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsDimension(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}value(_e){let $=this.bb.__offset(this.bb_pos,4);return $?(_e||new tt.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}denotation(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__string(this.bb_pos+$,_e):null}static startDimension(_e){_e.startObject(2)}static addValue(_e,$){_e.addFieldOffset(0,$,0)}static addDenotation(_e,$){_e.addFieldOffset(1,$,0)}static endDimension(_e){return _e.endObject()}static createDimension(_e,$,nt){return ot.startDimension(_e),ot.addValue(_e,$),ot.addDenotation(_e,nt),ot.endDimension(_e)}}at.Dimension=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsDimensionValue(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsDimensionValue(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}dimType(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readInt8(this.bb_pos+_e):tt.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.readInt64(this.bb_pos+_e):this.bb.createLong(0,0)}dimParam(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__string(this.bb_pos+$,_e):null}static startDimensionValue(_e){_e.startObject(3)}static addDimType(_e,$){_e.addFieldInt8(0,$,tt.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(_e,$){_e.addFieldInt64(1,$,_e.createLong(0,0))}static addDimParam(_e,$){_e.addFieldOffset(2,$,0)}static endDimensionValue(_e){return _e.endObject()}static createDimensionValue(_e,$,nt,it){return ot.startDimensionValue(_e),ot.addDimType(_e,$),ot.addDimValue(_e,nt),ot.addDimParam(_e,it),ot.endDimensionValue(_e)}}at.DimensionValue=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsTensorTypeAndShape(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsTensorTypeAndShape(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}elemType(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readInt32(this.bb_pos+_e):tt.experimental.fbs.TensorDataType.UNDEFINED}shape(_e){let $=this.bb.__offset(this.bb_pos,6);return $?(_e||new tt.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startTensorTypeAndShape(_e){_e.startObject(2)}static addElemType(_e,$){_e.addFieldInt32(0,$,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(_e,$){_e.addFieldOffset(1,$,0)}static endTensorTypeAndShape(_e){return _e.endObject()}static createTensorTypeAndShape(_e,$,nt){return ot.startTensorTypeAndShape(_e),ot.addElemType(_e,$),ot.addShape(_e,nt),ot.endTensorTypeAndShape(_e)}}at.TensorTypeAndShape=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsMapType(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsMapType(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}keyType(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readInt32(this.bb_pos+_e):tt.experimental.fbs.TensorDataType.UNDEFINED}valueType(_e){let $=this.bb.__offset(this.bb_pos,6);return $?(_e||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startMapType(_e){_e.startObject(2)}static addKeyType(_e,$){_e.addFieldInt32(0,$,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(_e,$){_e.addFieldOffset(1,$,0)}static endMapType(_e){return _e.endObject()}static createMapType(_e,$,nt){return ot.startMapType(_e),ot.addKeyType(_e,$),ot.addValueType(_e,nt),ot.endMapType(_e)}}at.MapType=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsSequenceType(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsSequenceType(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}elemType(_e){let $=this.bb.__offset(this.bb_pos,4);return $?(_e||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startSequenceType(_e){_e.startObject(1)}static addElemType(_e,$){_e.addFieldOffset(0,$,0)}static endSequenceType(_e){return _e.endObject()}static createSequenceType(_e,$){return ot.startSequenceType(_e),ot.addElemType(_e,$),ot.endSequenceType(_e)}}at.SequenceType=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(rt.fbs||(rt.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(at,ot){return this.bb_pos=at,this.bb=ot,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(at,ot,st,_e){return at.prep(4,12),at.writeInt32(_e),at.writeInt32(st),at.writeInt32(ot),at.offset()}}})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsNodeEdge(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsNodeEdge(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}nodeIndex(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readUint32(this.bb_pos+_e):0}inputEdges(_e,$){let nt=this.bb.__offset(this.bb_pos,6);return nt?($||new tt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+nt)+12*_e,this.bb):null}inputEdgesLength(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__vector_len(this.bb_pos+_e):0}outputEdges(_e,$){let nt=this.bb.__offset(this.bb_pos,8);return nt?($||new tt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+nt)+12*_e,this.bb):null}outputEdgesLength(){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startNodeEdge(_e){_e.startObject(3)}static addNodeIndex(_e,$){_e.addFieldInt32(0,$,0)}static addInputEdges(_e,$){_e.addFieldOffset(1,$,0)}static startInputEdgesVector(_e,$){_e.startVector(12,$,4)}static addOutputEdges(_e,$){_e.addFieldOffset(2,$,0)}static startOutputEdgesVector(_e,$){_e.startVector(12,$,4)}static endNodeEdge(_e){return _e.endObject()}static createNodeEdge(_e,$,nt,it){return ot.startNodeEdge(_e),ot.addNodeIndex(_e,$),ot.addInputEdges(_e,nt),ot.addOutputEdges(_e,it),ot.endNodeEdge(_e)}}at.NodeEdge=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsNode(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsNode(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}name(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}docString(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__string(this.bb_pos+$,_e):null}domain(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__string(this.bb_pos+$,_e):null}sinceVersion(){let _e=this.bb.__offset(this.bb_pos,10);return _e?this.bb.readInt32(this.bb_pos+_e):0}index(){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.readUint32(this.bb_pos+_e):0}opType(_e){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__string(this.bb_pos+$,_e):null}type(){let _e=this.bb.__offset(this.bb_pos,16);return _e?this.bb.readInt32(this.bb_pos+_e):tt.experimental.fbs.NodeType.Primitive}executionProviderType(_e){let $=this.bb.__offset(this.bb_pos,18);return $?this.bb.__string(this.bb_pos+$,_e):null}inputs(_e,$){let nt=this.bb.__offset(this.bb_pos,20);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}inputsLength(){let _e=this.bb.__offset(this.bb_pos,20);return _e?this.bb.__vector_len(this.bb_pos+_e):0}outputs(_e,$){let nt=this.bb.__offset(this.bb_pos,22);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}outputsLength(){let _e=this.bb.__offset(this.bb_pos,22);return _e?this.bb.__vector_len(this.bb_pos+_e):0}attributes(_e,$){let nt=this.bb.__offset(this.bb_pos,24);return nt?($||new tt.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}attributesLength(){let _e=this.bb.__offset(this.bb_pos,24);return _e?this.bb.__vector_len(this.bb_pos+_e):0}inputArgCounts(_e){let $=this.bb.__offset(this.bb_pos,26);return $?this.bb.readInt32(this.bb.__vector(this.bb_pos+$)+4*_e):0}inputArgCountsLength(){let _e=this.bb.__offset(this.bb_pos,26);return _e?this.bb.__vector_len(this.bb_pos+_e):0}inputArgCountsArray(){let _e=this.bb.__offset(this.bb_pos,26);return _e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+_e),this.bb.__vector_len(this.bb_pos+_e)):null}implicitInputs(_e,$){let nt=this.bb.__offset(this.bb_pos,28);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}implicitInputsLength(){let _e=this.bb.__offset(this.bb_pos,28);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startNode(_e){_e.startObject(13)}static addName(_e,$){_e.addFieldOffset(0,$,0)}static addDocString(_e,$){_e.addFieldOffset(1,$,0)}static addDomain(_e,$){_e.addFieldOffset(2,$,0)}static addSinceVersion(_e,$){_e.addFieldInt32(3,$,0)}static addIndex(_e,$){_e.addFieldInt32(4,$,0)}static addOpType(_e,$){_e.addFieldOffset(5,$,0)}static addType(_e,$){_e.addFieldInt32(6,$,tt.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(_e,$){_e.addFieldOffset(7,$,0)}static addInputs(_e,$){_e.addFieldOffset(8,$,0)}static createInputsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startInputsVector(_e,$){_e.startVector(4,$,4)}static addOutputs(_e,$){_e.addFieldOffset(9,$,0)}static createOutputsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startOutputsVector(_e,$){_e.startVector(4,$,4)}static addAttributes(_e,$){_e.addFieldOffset(10,$,0)}static createAttributesVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startAttributesVector(_e,$){_e.startVector(4,$,4)}static addInputArgCounts(_e,$){_e.addFieldOffset(11,$,0)}static createInputArgCountsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addInt32($[nt]);return _e.endVector()}static startInputArgCountsVector(_e,$){_e.startVector(4,$,4)}static addImplicitInputs(_e,$){_e.addFieldOffset(12,$,0)}static createImplicitInputsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startImplicitInputsVector(_e,$){_e.startVector(4,$,4)}static endNode(_e){return _e.endObject()}static createNode(_e,$,nt,it,lt,dt,ft,pt,ht,gt,mt,yt,bt,_t){return ot.startNode(_e),ot.addName(_e,$),ot.addDocString(_e,nt),ot.addDomain(_e,it),ot.addSinceVersion(_e,lt),ot.addIndex(_e,dt),ot.addOpType(_e,ft),ot.addType(_e,pt),ot.addExecutionProviderType(_e,ht),ot.addInputs(_e,gt),ot.addOutputs(_e,mt),ot.addAttributes(_e,yt),ot.addInputArgCounts(_e,bt),ot.addImplicitInputs(_e,_t),ot.endNode(_e)}}at.Node=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsValueInfo(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsValueInfo(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}name(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}docString(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__string(this.bb_pos+$,_e):null}type(_e){let $=this.bb.__offset(this.bb_pos,8);return $?(_e||new tt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startValueInfo(_e){_e.startObject(3)}static addName(_e,$){_e.addFieldOffset(0,$,0)}static addDocString(_e,$){_e.addFieldOffset(1,$,0)}static addType(_e,$){_e.addFieldOffset(2,$,0)}static endValueInfo(_e){return _e.endObject()}static createValueInfo(_e,$,nt,it){return ot.startValueInfo(_e),ot.addName(_e,$),ot.addDocString(_e,nt),ot.addType(_e,it),ot.endValueInfo(_e)}}at.ValueInfo=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsTypeInfo(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsTypeInfo(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}denotation(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}valueType(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.readUint8(this.bb_pos+_e):tt.experimental.fbs.TypeInfoValue.NONE}value(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__union(_e,this.bb_pos+$):null}static startTypeInfo(_e){_e.startObject(3)}static addDenotation(_e,$){_e.addFieldOffset(0,$,0)}static addValueType(_e,$){_e.addFieldInt8(1,$,tt.experimental.fbs.TypeInfoValue.NONE)}static addValue(_e,$){_e.addFieldOffset(2,$,0)}static endTypeInfo(_e){return _e.endObject()}static createTypeInfo(_e,$,nt,it){return ot.startTypeInfo(_e),ot.addDenotation(_e,$),ot.addValueType(_e,nt),ot.addValue(_e,it),ot.endTypeInfo(_e)}}at.TypeInfo=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsOperatorSetId(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsOperatorSetId(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}domain(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}version(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.readInt64(this.bb_pos+_e):this.bb.createLong(0,0)}static startOperatorSetId(_e){_e.startObject(2)}static addDomain(_e,$){_e.addFieldOffset(0,$,0)}static addVersion(_e,$){_e.addFieldInt64(1,$,_e.createLong(0,0))}static endOperatorSetId(_e){return _e.endObject()}static createOperatorSetId(_e,$,nt){return ot.startOperatorSetId(_e),ot.addDomain(_e,$),ot.addVersion(_e,nt),ot.endOperatorSetId(_e)}}at.OperatorSetId=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsTensor(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsTensor(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}name(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}docString(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__string(this.bb_pos+$,_e):null}dims(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt64(this.bb.__vector(this.bb_pos+$)+8*_e):this.bb.createLong(0,0)}dimsLength(){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__vector_len(this.bb_pos+_e):0}dataType(){let _e=this.bb.__offset(this.bb_pos,10);return _e?this.bb.readInt32(this.bb_pos+_e):tt.experimental.fbs.TensorDataType.UNDEFINED}rawData(_e){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.readUint8(this.bb.__vector(this.bb_pos+$)+_e):0}rawDataLength(){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.__vector_len(this.bb_pos+_e):0}rawDataArray(){let _e=this.bb.__offset(this.bb_pos,12);return _e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+_e),this.bb.__vector_len(this.bb_pos+_e)):null}stringData(_e,$){let nt=this.bb.__offset(this.bb_pos,14);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}stringDataLength(){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startTensor(_e){_e.startObject(6)}static addName(_e,$){_e.addFieldOffset(0,$,0)}static addDocString(_e,$){_e.addFieldOffset(1,$,0)}static addDims(_e,$){_e.addFieldOffset(2,$,0)}static createDimsVector(_e,$){_e.startVector(8,$.length,8);for(let nt=$.length-1;nt>=0;nt--)_e.addInt64($[nt]);return _e.endVector()}static startDimsVector(_e,$){_e.startVector(8,$,8)}static addDataType(_e,$){_e.addFieldInt32(3,$,tt.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(_e,$){_e.addFieldOffset(4,$,0)}static createRawDataVector(_e,$){_e.startVector(1,$.length,1);for(let nt=$.length-1;nt>=0;nt--)_e.addInt8($[nt]);return _e.endVector()}static startRawDataVector(_e,$){_e.startVector(1,$,1)}static addStringData(_e,$){_e.addFieldOffset(5,$,0)}static createStringDataVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startStringDataVector(_e,$){_e.startVector(4,$,4)}static endTensor(_e){return _e.endObject()}static createTensor(_e,$,nt,it,lt,dt,ft){return ot.startTensor(_e),ot.addName(_e,$),ot.addDocString(_e,nt),ot.addDims(_e,it),ot.addDataType(_e,lt),ot.addRawData(_e,dt),ot.addStringData(_e,ft),ot.endTensor(_e)}}at.Tensor=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsSparseTensor(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsSparseTensor(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}values(_e){let $=this.bb.__offset(this.bb_pos,4);return $?(_e||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}indices(_e){let $=this.bb.__offset(this.bb_pos,6);return $?(_e||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}dims(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.readInt64(this.bb.__vector(this.bb_pos+$)+8*_e):this.bb.createLong(0,0)}dimsLength(){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startSparseTensor(_e){_e.startObject(3)}static addValues(_e,$){_e.addFieldOffset(0,$,0)}static addIndices(_e,$){_e.addFieldOffset(1,$,0)}static addDims(_e,$){_e.addFieldOffset(2,$,0)}static createDimsVector(_e,$){_e.startVector(8,$.length,8);for(let nt=$.length-1;nt>=0;nt--)_e.addInt64($[nt]);return _e.endVector()}static startDimsVector(_e,$){_e.startVector(8,$,8)}static endSparseTensor(_e){return _e.endObject()}static createSparseTensor(_e,$,nt,it){return ot.startSparseTensor(_e),ot.addValues(_e,$),ot.addIndices(_e,nt),ot.addDims(_e,it),ot.endSparseTensor(_e)}}at.SparseTensor=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsAttribute(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsAttribute(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}name(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}docString(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.__string(this.bb_pos+$,_e):null}type(){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.readInt32(this.bb_pos+_e):tt.experimental.fbs.AttributeType.UNDEFINED}f(){let _e=this.bb.__offset(this.bb_pos,10);return _e?this.bb.readFloat32(this.bb_pos+_e):0}i(){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.readInt64(this.bb_pos+_e):this.bb.createLong(0,0)}s(_e){let $=this.bb.__offset(this.bb_pos,14);return $?this.bb.__string(this.bb_pos+$,_e):null}t(_e){let $=this.bb.__offset(this.bb_pos,16);return $?(_e||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}g(_e){let $=this.bb.__offset(this.bb_pos,18);return $?(_e||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}floats(_e){let $=this.bb.__offset(this.bb_pos,20);return $?this.bb.readFloat32(this.bb.__vector(this.bb_pos+$)+4*_e):0}floatsLength(){let _e=this.bb.__offset(this.bb_pos,20);return _e?this.bb.__vector_len(this.bb_pos+_e):0}floatsArray(){let _e=this.bb.__offset(this.bb_pos,20);return _e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+_e),this.bb.__vector_len(this.bb_pos+_e)):null}ints(_e){let $=this.bb.__offset(this.bb_pos,22);return $?this.bb.readInt64(this.bb.__vector(this.bb_pos+$)+8*_e):this.bb.createLong(0,0)}intsLength(){let _e=this.bb.__offset(this.bb_pos,22);return _e?this.bb.__vector_len(this.bb_pos+_e):0}strings(_e,$){let nt=this.bb.__offset(this.bb_pos,24);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}stringsLength(){let _e=this.bb.__offset(this.bb_pos,24);return _e?this.bb.__vector_len(this.bb_pos+_e):0}tensors(_e,$){let nt=this.bb.__offset(this.bb_pos,26);return nt?($||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}tensorsLength(){let _e=this.bb.__offset(this.bb_pos,26);return _e?this.bb.__vector_len(this.bb_pos+_e):0}graphs(_e,$){let nt=this.bb.__offset(this.bb_pos,28);return nt?($||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}graphsLength(){let _e=this.bb.__offset(this.bb_pos,28);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startAttribute(_e){_e.startObject(13)}static addName(_e,$){_e.addFieldOffset(0,$,0)}static addDocString(_e,$){_e.addFieldOffset(1,$,0)}static addType(_e,$){_e.addFieldInt32(2,$,tt.experimental.fbs.AttributeType.UNDEFINED)}static addF(_e,$){_e.addFieldFloat32(3,$,0)}static addI(_e,$){_e.addFieldInt64(4,$,_e.createLong(0,0))}static addS(_e,$){_e.addFieldOffset(5,$,0)}static addT(_e,$){_e.addFieldOffset(6,$,0)}static addG(_e,$){_e.addFieldOffset(7,$,0)}static addFloats(_e,$){_e.addFieldOffset(8,$,0)}static createFloatsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addFloat32($[nt]);return _e.endVector()}static startFloatsVector(_e,$){_e.startVector(4,$,4)}static addInts(_e,$){_e.addFieldOffset(9,$,0)}static createIntsVector(_e,$){_e.startVector(8,$.length,8);for(let nt=$.length-1;nt>=0;nt--)_e.addInt64($[nt]);return _e.endVector()}static startIntsVector(_e,$){_e.startVector(8,$,8)}static addStrings(_e,$){_e.addFieldOffset(10,$,0)}static createStringsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startStringsVector(_e,$){_e.startVector(4,$,4)}static addTensors(_e,$){_e.addFieldOffset(11,$,0)}static createTensorsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startTensorsVector(_e,$){_e.startVector(4,$,4)}static addGraphs(_e,$){_e.addFieldOffset(12,$,0)}static createGraphsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startGraphsVector(_e,$){_e.startVector(4,$,4)}static endAttribute(_e){return _e.endObject()}static createAttribute(_e,$,nt,it,lt,dt,ft,pt,ht,gt,mt,yt,bt,_t){return ot.startAttribute(_e),ot.addName(_e,$),ot.addDocString(_e,nt),ot.addType(_e,it),ot.addF(_e,lt),ot.addI(_e,dt),ot.addS(_e,ft),ot.addT(_e,pt),ot.addG(_e,ht),ot.addFloats(_e,gt),ot.addInts(_e,mt),ot.addStrings(_e,yt),ot.addTensors(_e,bt),ot.addGraphs(_e,_t),ot.endAttribute(_e)}}at.Attribute=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsGraph(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsGraph(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}initializers(_e,$){let nt=this.bb.__offset(this.bb_pos,4);return nt?($||new tt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}initializersLength(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__vector_len(this.bb_pos+_e):0}nodeArgs(_e,$){let nt=this.bb.__offset(this.bb_pos,6);return nt?($||new tt.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}nodeArgsLength(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__vector_len(this.bb_pos+_e):0}nodes(_e,$){let nt=this.bb.__offset(this.bb_pos,8);return nt?($||new tt.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}nodesLength(){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__vector_len(this.bb_pos+_e):0}maxNodeIndex(){let _e=this.bb.__offset(this.bb_pos,10);return _e?this.bb.readUint32(this.bb_pos+_e):0}nodeEdges(_e,$){let nt=this.bb.__offset(this.bb_pos,12);return nt?($||new tt.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}nodeEdgesLength(){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.__vector_len(this.bb_pos+_e):0}inputs(_e,$){let nt=this.bb.__offset(this.bb_pos,14);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}inputsLength(){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__vector_len(this.bb_pos+_e):0}outputs(_e,$){let nt=this.bb.__offset(this.bb_pos,16);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*_e,$):null}outputsLength(){let _e=this.bb.__offset(this.bb_pos,16);return _e?this.bb.__vector_len(this.bb_pos+_e):0}sparseInitializers(_e,$){let nt=this.bb.__offset(this.bb_pos,18);return nt?($||new tt.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}sparseInitializersLength(){let _e=this.bb.__offset(this.bb_pos,18);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startGraph(_e){_e.startObject(8)}static addInitializers(_e,$){_e.addFieldOffset(0,$,0)}static createInitializersVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startInitializersVector(_e,$){_e.startVector(4,$,4)}static addNodeArgs(_e,$){_e.addFieldOffset(1,$,0)}static createNodeArgsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startNodeArgsVector(_e,$){_e.startVector(4,$,4)}static addNodes(_e,$){_e.addFieldOffset(2,$,0)}static createNodesVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startNodesVector(_e,$){_e.startVector(4,$,4)}static addMaxNodeIndex(_e,$){_e.addFieldInt32(3,$,0)}static addNodeEdges(_e,$){_e.addFieldOffset(4,$,0)}static createNodeEdgesVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startNodeEdgesVector(_e,$){_e.startVector(4,$,4)}static addInputs(_e,$){_e.addFieldOffset(5,$,0)}static createInputsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startInputsVector(_e,$){_e.startVector(4,$,4)}static addOutputs(_e,$){_e.addFieldOffset(6,$,0)}static createOutputsVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startOutputsVector(_e,$){_e.startVector(4,$,4)}static addSparseInitializers(_e,$){_e.addFieldOffset(7,$,0)}static createSparseInitializersVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startSparseInitializersVector(_e,$){_e.startVector(4,$,4)}static endGraph(_e){return _e.endObject()}static createGraph(_e,$,nt,it,lt,dt,ft,pt,ht){return ot.startGraph(_e),ot.addInitializers(_e,$),ot.addNodeArgs(_e,nt),ot.addNodes(_e,it),ot.addMaxNodeIndex(_e,lt),ot.addNodeEdges(_e,dt),ot.addInputs(_e,ft),ot.addOutputs(_e,pt),ot.addSparseInitializers(_e,ht),ot.endGraph(_e)}}at.Graph=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsModel(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsModel(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}irVersion(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readInt64(this.bb_pos+_e):this.bb.createLong(0,0)}opsetImport(_e,$){let nt=this.bb.__offset(this.bb_pos,6);return nt?($||new tt.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}opsetImportLength(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__vector_len(this.bb_pos+_e):0}producerName(_e){let $=this.bb.__offset(this.bb_pos,8);return $?this.bb.__string(this.bb_pos+$,_e):null}producerVersion(_e){let $=this.bb.__offset(this.bb_pos,10);return $?this.bb.__string(this.bb_pos+$,_e):null}domain(_e){let $=this.bb.__offset(this.bb_pos,12);return $?this.bb.__string(this.bb_pos+$,_e):null}modelVersion(){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.readInt64(this.bb_pos+_e):this.bb.createLong(0,0)}docString(_e){let $=this.bb.__offset(this.bb_pos,16);return $?this.bb.__string(this.bb_pos+$,_e):null}graph(_e){let $=this.bb.__offset(this.bb_pos,18);return $?(_e||new tt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}graphDocString(_e){let $=this.bb.__offset(this.bb_pos,20);return $?this.bb.__string(this.bb_pos+$,_e):null}static startModel(_e){_e.startObject(9)}static addIrVersion(_e,$){_e.addFieldInt64(0,$,_e.createLong(0,0))}static addOpsetImport(_e,$){_e.addFieldOffset(1,$,0)}static createOpsetImportVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startOpsetImportVector(_e,$){_e.startVector(4,$,4)}static addProducerName(_e,$){_e.addFieldOffset(2,$,0)}static addProducerVersion(_e,$){_e.addFieldOffset(3,$,0)}static addDomain(_e,$){_e.addFieldOffset(4,$,0)}static addModelVersion(_e,$){_e.addFieldInt64(5,$,_e.createLong(0,0))}static addDocString(_e,$){_e.addFieldOffset(6,$,0)}static addGraph(_e,$){_e.addFieldOffset(7,$,0)}static addGraphDocString(_e,$){_e.addFieldOffset(8,$,0)}static endModel(_e){return _e.endObject()}static createModel(_e,$,nt,it,lt,dt,ft,pt,ht,gt){return ot.startModel(_e),ot.addIrVersion(_e,$),ot.addOpsetImport(_e,nt),ot.addProducerName(_e,it),ot.addProducerVersion(_e,lt),ot.addDomain(_e,dt),ot.addModelVersion(_e,ft),ot.addDocString(_e,pt),ot.addGraph(_e,ht),ot.addGraphDocString(_e,gt),ot.endModel(_e)}}at.Model=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsKernelCreateInfos(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsKernelCreateInfos(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}nodeIndices(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.readUint32(this.bb.__vector(this.bb_pos+$)+4*_e):0}nodeIndicesLength(){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__vector_len(this.bb_pos+_e):0}nodeIndicesArray(){let _e=this.bb.__offset(this.bb_pos,4);return _e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+_e),this.bb.__vector_len(this.bb_pos+_e)):null}kernelDefHashes(_e){let $=this.bb.__offset(this.bb_pos,6);return $?this.bb.readUint64(this.bb.__vector(this.bb_pos+$)+8*_e):this.bb.createLong(0,0)}kernelDefHashesLength(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startKernelCreateInfos(_e){_e.startObject(2)}static addNodeIndices(_e,$){_e.addFieldOffset(0,$,0)}static createNodeIndicesVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addInt32($[nt]);return _e.endVector()}static startNodeIndicesVector(_e,$){_e.startVector(4,$,4)}static addKernelDefHashes(_e,$){_e.addFieldOffset(1,$,0)}static createKernelDefHashesVector(_e,$){_e.startVector(8,$.length,8);for(let nt=$.length-1;nt>=0;nt--)_e.addInt64($[nt]);return _e.endVector()}static startKernelDefHashesVector(_e,$){_e.startVector(8,$,8)}static endKernelCreateInfos(_e){return _e.endObject()}static createKernelCreateInfos(_e,$,nt){return ot.startKernelCreateInfos(_e),ot.addNodeIndices(_e,$),ot.addKernelDefHashes(_e,nt),ot.endKernelCreateInfos(_e)}}at.KernelCreateInfos=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsSubGraphSessionState(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsSubGraphSessionState(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}graphId(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}sessionState(_e){let $=this.bb.__offset(this.bb_pos,6);return $?(_e||new tt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startSubGraphSessionState(_e){_e.startObject(2)}static addGraphId(_e,$){_e.addFieldOffset(0,$,0)}static addSessionState(_e,$){_e.addFieldOffset(1,$,0)}static endSubGraphSessionState(_e){let $=_e.endObject();return _e.requiredField($,4),$}static createSubGraphSessionState(_e,$,nt){return ot.startSubGraphSessionState(_e),ot.addGraphId(_e,$),ot.addSessionState(_e,nt),ot.endSubGraphSessionState(_e)}}at.SubGraphSessionState=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsSessionState(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsSessionState(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}kernels(_e){let $=this.bb.__offset(this.bb_pos,4);return $?(_e||new tt.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}subGraphSessionStates(_e,$){let nt=this.bb.__offset(this.bb_pos,6);return nt?($||new tt.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*_e),this.bb):null}subGraphSessionStatesLength(){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__vector_len(this.bb_pos+_e):0}static startSessionState(_e){_e.startObject(2)}static addKernels(_e,$){_e.addFieldOffset(0,$,0)}static addSubGraphSessionStates(_e,$){_e.addFieldOffset(1,$,0)}static createSubGraphSessionStatesVector(_e,$){_e.startVector(4,$.length,4);for(let nt=$.length-1;nt>=0;nt--)_e.addOffset($[nt]);return _e.endVector()}static startSubGraphSessionStatesVector(_e,$){_e.startVector(4,$,4)}static endSessionState(_e){return _e.endObject()}static createSessionState(_e,$,nt){return ot.startSessionState(_e),ot.addKernels(_e,$),ot.addSubGraphSessionStates(_e,nt),ot.endSessionState(_e)}}at.SessionState=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(tt){(function(rt){(function(at){class ot{constructor(){this.bb=null,this.bb_pos=0}__init(_e,$){return this.bb_pos=_e,this.bb=$,this}static getRootAsInferenceSession(_e,$){return($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static getSizePrefixedRootAsInferenceSession(_e,$){return _e.setPosition(_e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),($||new ot).__init(_e.readInt32(_e.position())+_e.position(),_e)}static bufferHasIdentifier(_e){return _e.__has_identifier("ORTM")}ortVersion(_e){let $=this.bb.__offset(this.bb_pos,4);return $?this.bb.__string(this.bb_pos+$,_e):null}model(_e){let $=this.bb.__offset(this.bb_pos,6);return $?(_e||new tt.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}sessionState(_e){let $=this.bb.__offset(this.bb_pos,8);return $?(_e||new tt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+$),this.bb):null}static startInferenceSession(_e){_e.startObject(3)}static addOrtVersion(_e,$){_e.addFieldOffset(0,$,0)}static addModel(_e,$){_e.addFieldOffset(1,$,0)}static addSessionState(_e,$){_e.addFieldOffset(2,$,0)}static endInferenceSession(_e){return _e.endObject()}static finishInferenceSessionBuffer(_e,$){_e.finish($,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(_e,$){_e.finish($,"ORTM",!0)}static createInferenceSession(_e,$,nt,it){return ot.startInferenceSession(_e),ot.addOrtVersion(_e,$),ot.addModel(_e,nt),ot.addSessionState(_e,it),ot.endInferenceSession(_e)}}at.InferenceSession=ot})(rt.fbs||(rt.fbs={}))})(tt.experimental||(tt.experimental={}))}(i.onnxruntime||(i.onnxruntime={}))},1723:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxjsSessionHandler=void 0;const s=a(8453),j=a(9240);i.OnnxjsSessionHandler=class{constructor(et){this.session=et,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(et,tt,rt){const at=new Map;for(const _e in et)if(Object.hasOwnProperty.call(et,_e)){const $=et[_e];at.set(_e,new j.Tensor($.dims,$.type,void 0,void 0,$.data))}const ot=await this.session.run(at),st={};return ot.forEach((_e,$)=>{st[$]=new s.Tensor(_e.type,_e.data,_e.dims)}),st}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Session=void 0;const s=a(7067),j=a(1296),et=a(1975),tt=a(6496),rt=a(1315),at=a(1745);i.Session=class{constructor(ot={}){this._initialized=!1,this.backendHint=ot.backendHint,this.profiler=rt.Profiler.create(ot.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ot,st,_e){await this.profiler.event("session","Session.loadModel",async()=>{const $=await(0,et.resolveBackend)(this.backendHint);if(this.sessionHandler=$.createSessionHandler(this.context),this._model=new at.Model,typeof ot=="string"){const nt=ot.endsWith(".ort");if(typeof fetch>"u"){const it=await(0,j.promisify)(s.readFile)(ot);this.initialize(it,nt)}else{const it=await fetch(ot),lt=await it.arrayBuffer();this.initialize(new Uint8Array(lt),nt)}}else if(ArrayBuffer.isView(ot))this.initialize(ot);else{const nt=new Uint8Array(ot,st||0,_e||ot.byteLength);this.initialize(nt)}})}initialize(ot,st){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const _e=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ot,_e,st),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new tt.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ot){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const st=this.normalizeAndValidateInputs(ot),_e=await this._executionPlan.execute(this.sessionHandler,st);return this.createOutput(_e)})}normalizeAndValidateInputs(ot){const st=this._model.graph.getInputNames();if(Array.isArray(ot)){if(ot.length!==st.length)throw new Error(`incorrect input array length: expected ${st.length} but got ${ot.length}`)}else{if(ot.size!==st.length)throw new Error(`incorrect input map size: expected ${st.length} but got ${ot.size}`);const _e=new Array(ot.size);let $=0;for(let nt=0;nt<st.length;++nt){const it=ot.get(st[nt]);if(!it)throw new Error(`missing input tensor for: '${name}'`);_e[$++]=it}ot=_e}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ot,!1);else{const _e=this._model.graph.getInputIndices(),$=this._model.graph.getValues(),nt=new Array(_e.length);for(let it=0;it<_e.length;++it){const lt=$[_e[it]];nt[it]=lt.type.shape.dims,this.context.graphInputTypes.push(lt.type.tensorType),this.context.graphInputDims.push(ot[it].dims)}this.validateInputTensorDims(nt,ot,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ot),ot}validateInputTensorTypes(ot,st){for(let _e=0;_e<st.length;_e++){const $=ot[_e],nt=st[_e].type;if($!==nt)throw new Error(`input tensor[${_e}] check failed: expected type '${$}' but got ${nt}`)}}validateInputTensorDims(ot,st,_e){for(let $=0;$<st.length;$++){const nt=ot[$],it=st[$].dims;if(!this.compareTensorDims(nt,it,_e))throw new Error(`input tensor[${$}] check failed: expected shape '[${nt.join(",")}]' but got [${it.join(",")}]`)}}compareTensorDims(ot,st,_e){if(ot.length!==st.length)return!1;for(let $=0;$<ot.length;++$)if(ot[$]!==st[$]&&(!_e||ot[$]!==0))return!1;return!0}createOutput(ot){const st=this._model.graph.getOutputNames();if(ot.length!==st.length)throw new Error("expected number of outputs do not match number of generated outputs");const _e=new Map;for(let $=0;$<st.length;++$)_e.set(st[$],ot[$]);return _e}initializeOps(ot){const st=ot.getNodes();this._ops=new Array(st.length);for(let _e=0;_e<st.length;_e++)this._ops[_e]=this.sessionHandler.resolve(st[_e],this._model.opsets,ot)}}},9240:function(o,i,a){var s=this&&this.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(i,"__esModule",{value:!0}),i.Tensor=void 0;const j=a(3442),et=s(a(3720)),tt=a(1446),rt=a(1287),at=a(7273);var ot=rt.onnxruntime.experimental.fbs;class st{get data(){if(this.cache===void 0){const dt=this.dataProvider(this.dataId);if(dt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=dt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(dt){return this.data[at.ShapeUtil.indicesToOffset(dt,this.strides)]}set(dt,ft){this.data[at.ShapeUtil.indicesToOffset(dt,this.strides)]=ft}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=at.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(dt,ft,pt,ht,gt,mt=j.Guid.create()){this.dims=dt,this.type=ft,this.dataProvider=pt,this.asyncDataProvider=ht,this.cache=gt,this.dataId=mt,this.size=at.ShapeUtil.validateDimsAndCalcSize(dt);const yt=this.size,bt=pt===void 0&&ht===void 0&&gt===void 0;if(gt!==void 0&&gt.length!==yt)throw new RangeError("Input dims doesn't match data length.");if(ft==="string"){if(!(gt===void 0||Array.isArray(gt)&&gt.every(_t=>typeof _t=="string")))throw new TypeError("cache should be a string array");bt&&(this.cache=new Array(yt))}else{if(gt!==void 0){const _t=$(ft);if(!(gt instanceof _t))throw new TypeError(`cache should be type ${_t.name}`)}if(bt){const _t=new ArrayBuffer(yt*function(xt){switch(xt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${xt}`)}}(ft));this.cache=function(xt,Et){return new($(Et))(xt)}(_t,ft)}}}static fromProto(dt){if(!dt)throw new Error("cannot construct Value from an empty tensor");const ft=at.ProtoUtil.tensorDataTypeFromProto(dt.dataType),pt=at.ProtoUtil.tensorDimsFromProto(dt.dims),ht=new st(pt,ft);if(ft==="string")dt.stringData.forEach((gt,mt)=>{ht.data[mt]=(0,at.decodeUtf8String)(gt)});else if(dt.rawData&&typeof dt.rawData.byteLength=="number"&&dt.rawData.byteLength>0){const gt=ht.data,mt=new DataView(dt.rawData.buffer,dt.rawData.byteOffset,dt.rawData.byteLength),yt=_e(dt.dataType),bt=dt.rawData.byteLength/yt;if(dt.rawData.byteLength%yt!=0)throw new Error("invalid buffer length");if(gt.length!==bt)throw new Error("buffer length mismatch");for(let _t=0;_t<bt;_t++){const xt=it(mt,dt.dataType,_t*yt);gt[_t]=xt}}else{let gt;switch(dt.dataType){case tt.onnx.TensorProto.DataType.FLOAT:gt=dt.floatData;break;case tt.onnx.TensorProto.DataType.INT32:case tt.onnx.TensorProto.DataType.INT16:case tt.onnx.TensorProto.DataType.UINT16:case tt.onnx.TensorProto.DataType.INT8:case tt.onnx.TensorProto.DataType.UINT8:case tt.onnx.TensorProto.DataType.BOOL:gt=dt.int32Data;break;case tt.onnx.TensorProto.DataType.INT64:gt=dt.int64Data;break;case tt.onnx.TensorProto.DataType.DOUBLE:gt=dt.doubleData;break;case tt.onnx.TensorProto.DataType.UINT32:case tt.onnx.TensorProto.DataType.UINT64:gt=dt.uint64Data;break;default:throw new Error("unspecific error")}if(gt==null)throw new Error("failed to populate data from a tensorproto value");const mt=ht.data;if(mt.length!==gt.length)throw new Error("array length mismatch");for(let yt=0;yt<gt.length;yt++){const bt=gt[yt];et.default.isLong(bt)?mt[yt]=nt(bt,dt.dataType):mt[yt]=bt}}return ht}static fromData(dt,ft,pt){return new st(ft,pt,void 0,void 0,dt)}static fromOrtTensor(dt){if(!dt)throw new Error("cannot construct Value from an empty tensor");const ft=at.ProtoUtil.tensorDimsFromORTFormat(dt),pt=at.ProtoUtil.tensorDataTypeFromProto(dt.dataType()),ht=new st(ft,pt);if(pt==="string")for(let gt=0;gt<dt.stringDataLength();gt++)ht.data[gt]=dt.stringData(gt);else if(dt.rawDataArray()&&typeof dt.rawDataLength()=="number"&&dt.rawDataLength()>0){const gt=ht.data,mt=new DataView(dt.rawDataArray().buffer,dt.rawDataArray().byteOffset,dt.rawDataLength()),yt=_e(dt.dataType()),bt=dt.rawDataLength()/yt;if(dt.rawDataLength()%yt!=0)throw new Error("invalid buffer length");if(gt.length!==bt)throw new Error("buffer length mismatch");for(let _t=0;_t<bt;_t++){const xt=it(mt,dt.dataType(),_t*yt);gt[_t]=xt}}return ht}}function _e(lt){switch(lt){case tt.onnx.TensorProto.DataType.UINT8:case tt.onnx.TensorProto.DataType.INT8:case tt.onnx.TensorProto.DataType.BOOL:return 1;case tt.onnx.TensorProto.DataType.UINT16:case tt.onnx.TensorProto.DataType.INT16:return 2;case tt.onnx.TensorProto.DataType.FLOAT:case tt.onnx.TensorProto.DataType.INT32:case tt.onnx.TensorProto.DataType.UINT32:return 4;case tt.onnx.TensorProto.DataType.INT64:case tt.onnx.TensorProto.DataType.DOUBLE:case tt.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${tt.onnx.TensorProto.DataType[lt]}`)}}function $(lt){switch(lt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function nt(lt,dt){if(dt===tt.onnx.TensorProto.DataType.INT64||dt===ot.TensorDataType.INT64){if(lt.greaterThanOrEqual(2147483648)||lt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(dt!==tt.onnx.TensorProto.DataType.UINT32&&dt!==ot.TensorDataType.UINT32&&dt!==tt.onnx.TensorProto.DataType.UINT64&&dt!==ot.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${tt.onnx.TensorProto.DataType[dt]}`);if(lt.greaterThanOrEqual(4294967296)||lt.lessThan(0))throw new TypeError("uint64 is not supported")}return lt.toNumber()}function it(lt,dt,ft){switch(dt){case tt.onnx.TensorProto.DataType.BOOL:case tt.onnx.TensorProto.DataType.UINT8:return lt.getUint8(ft);case tt.onnx.TensorProto.DataType.INT8:return lt.getInt8(ft);case tt.onnx.TensorProto.DataType.UINT16:return lt.getUint16(ft,!0);case tt.onnx.TensorProto.DataType.INT16:return lt.getInt16(ft,!0);case tt.onnx.TensorProto.DataType.FLOAT:return lt.getFloat32(ft,!0);case tt.onnx.TensorProto.DataType.INT32:return lt.getInt32(ft,!0);case tt.onnx.TensorProto.DataType.UINT32:return lt.getUint32(ft,!0);case tt.onnx.TensorProto.DataType.INT64:return nt(et.default.fromBits(lt.getUint32(ft,!0),lt.getUint32(ft+4,!0),!1),dt);case tt.onnx.TensorProto.DataType.DOUBLE:return lt.getFloat64(ft,!0);case tt.onnx.TensorProto.DataType.UINT64:return nt(et.default.fromBits(lt.getUint32(ft,!0),lt.getUint32(ft+4,!0),!0),dt);default:throw new Error(`cannot read from DataView for type ${tt.onnx.TensorProto.DataType[dt]}`)}}i.Tensor=st},7273:function(o,i,a){var s=this&&this.__importDefault||function(dt){return dt&&dt.__esModule?dt:{default:dt}};Object.defineProperty(i,"__esModule",{value:!0}),i.decodeUtf8String=i.MAX_CLIP=i.MIN_CLIP=i.PoolConvUtil=i.ReduceUtil=i.SplitUtil=i.MathUtil=i.ShapeUtil=i.LongUtil=i.ProtoUtil=i.GemmUtil=i.arrayCopyHelper=i.BroadcastUtil=i.MatMulUtil=i.ArrayUtil=i.assert=i.checkInputsShape=void 0;const j=a(5686),et=s(a(3720)),tt=a(1446),rt=a(9240);i.checkInputsShape=function(dt,...ft){if(!dt||dt.length!==ft.length)return!1;for(let pt=0;pt<dt.length;pt++)if(!dt[pt].dims||dt[pt].dims.length!==ft[pt])return!1;return!0},i.assert=function(dt,ft){if(!dt)throw new Error(typeof ft=="string"?ft:ft())},i.ArrayUtil=class{static arraysEqual(dt,ft){if(dt.length!==ft.length)return!1;for(let pt=0;pt<dt.length;pt++)if(dt[pt]!==ft[pt])return!1;return!0}};class at{static preprocessInputShapes(ft,pt){return[ft.length===1?[1,ft[0]]:ft,pt.length===1?[pt[0],1]:pt]}static postprocessOutputShape(ft,pt,ht){pt===1&&ft.splice(ft.length-2,1),ht===1&&ft.pop()}static calcMatMulShape(ft,pt){return ft[1]!==pt[0]?void 0:[ft[0],pt[1]]}}i.MatMulUtil=at;class ot{static calcShape(ft,pt,ht=!1){const gt=ft.length,mt=pt.length;if(gt===0)return pt;if(mt===0)return ft;const yt=Math.max(ft.length,pt.length),bt=new Array(yt);if(ht){if(gt<2||mt<2)return;const _t=at.calcMatMulShape([ft[gt-2],ft[gt-1]],[pt[mt-2],pt[mt-1]]);if(_t===void 0)return;[bt[yt-2],bt[yt-1]]=_t}for(let _t=ht?3:1;_t<=yt;_t++){const xt=gt-_t<0?1:ft[gt-_t],Et=mt-_t<0?1:pt[mt-_t];if(xt!==Et&&xt>1&&Et>1)return;bt[yt-_t]=Math.max(xt,Et)}return bt}static index(ft,pt){const ht=new Array(pt.length);return ot.fillIndex(ft,pt,ht),ht}static fillIndex(ft,pt,ht){const gt=ft.length-pt.length;for(let mt=0;mt<pt.length;mt++)ht[mt]=ft[gt+mt]%pt[mt]}static calc(ft,pt,ht,gt,mt){const yt=ot.calcShape(ft.dims,pt.dims);if(yt){if(gt&&!$.areEqual(yt,ft.dims))return;const bt=$.size(yt),_t=gt?ft:new rt.Tensor(yt,mt||ft.type);if(yt.length===0)_t.set([],ht(ft.get([]),pt.get([])));else{const xt=new Array(yt.length),Et=new Array(ft.dims.length),Tt=new Array(pt.dims.length);let Pt,At=0,Ot=0,It=!1,$t=!1;ft.dims.length===0&&(At=ft.get([]),It=!0),pt.dims.length===0&&(Ot=pt.get([]),$t=!0);for(let kt=0;kt<bt;kt++){Pt=kt;for(let Ft=yt.length-1;Ft>=0;Ft--)xt[Ft]=Pt%yt[Ft],Pt=Math.floor(Pt/yt[Ft]);It||(ot.fillIndex(xt,ft.dims,Et),At=ft.get(Et)),$t||(ot.fillIndex(xt,pt.dims,Tt),Ot=pt.get(Tt)),_t.set(xt,ht(At,Ot))}}return _t}}static isValidBroadcast(ft,pt){const ht=ft.length,gt=pt.length;if(ht>gt)return!1;for(let mt=1;mt<=ht;mt++)if(ft[ht-mt]!==1&&ft[ht-mt]!==pt[gt-mt])return!1;return!0}static getBroadcastDims(ft,pt){const ht=ft.length,gt=[];for(let mt=0;mt<ht;mt++){const yt=ht-1-mt,bt=ft[yt]||1;(pt[pt.length-1-mt]||1)>1&&bt===1&&gt.unshift(yt)}return gt}}i.BroadcastUtil=ot,i.arrayCopyHelper=function(dt,ft,pt,ht,gt){if(ht<0||ht>=ft.length)throw new Error("sourceIndex out of bounds");if(pt<0||pt>=dt.length)throw new Error("targetIndex out of bounds");if(ht+gt>ft.length)throw new Error("source indices to be copied are outside bounds");if(pt+gt>dt.length)throw new Error("target array is too small to hold result");for(let mt=0;mt<gt;mt++)dt[pt+mt]=ft[ht+mt]},i.GemmUtil=class{static getShapeOfGemmResult(dt,ft,pt,ht,gt){if(dt.length!==2||pt.length!==2)throw new Error("shape need to be of size 2");let mt,yt,bt;ft?(mt=dt[1],yt=dt[0]):(mt=dt[0],yt=dt[1]);let _t=-1;if(ht?(bt=pt[0],_t=1):(bt=pt[1],_t=0),pt[_t]!==yt)throw new Error("dimension mismatch");if(mt<=0||bt<=0||yt<=0)throw new Error("invalid shape specified");if(gt&&!ot.isValidBroadcast(gt,[mt,bt]))throw new Error("gemm: invalid bias shape for broadcast");return[mt,bt,yt]}};class st{static tensorDataTypeFromProto(ft){switch(ft){case tt.onnx.TensorProto.DataType.INT8:return"int8";case tt.onnx.TensorProto.DataType.UINT8:return"uint8";case tt.onnx.TensorProto.DataType.BOOL:return"bool";case tt.onnx.TensorProto.DataType.INT16:return"int16";case tt.onnx.TensorProto.DataType.UINT16:return"uint16";case tt.onnx.TensorProto.DataType.INT32:return"int32";case tt.onnx.TensorProto.DataType.UINT32:return"uint32";case tt.onnx.TensorProto.DataType.FLOAT:return"float32";case tt.onnx.TensorProto.DataType.DOUBLE:return"float64";case tt.onnx.TensorProto.DataType.STRING:return"string";case tt.onnx.TensorProto.DataType.INT64:return"int32";case tt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${tt.onnx.TensorProto.DataType[ft]}`)}}static tensorDataTypeStringToEnum(ft){switch(ft){case"int8":return tt.onnx.TensorProto.DataType.INT8;case"uint8":return tt.onnx.TensorProto.DataType.UINT8;case"bool":return tt.onnx.TensorProto.DataType.BOOL;case"int16":return tt.onnx.TensorProto.DataType.INT16;case"uint16":return tt.onnx.TensorProto.DataType.UINT16;case"int32":return tt.onnx.TensorProto.DataType.INT32;case"uint32":return tt.onnx.TensorProto.DataType.UINT32;case"float32":return tt.onnx.TensorProto.DataType.FLOAT;case"float64":return tt.onnx.TensorProto.DataType.DOUBLE;case"string":return tt.onnx.TensorProto.DataType.STRING;case"int64":return tt.onnx.TensorProto.DataType.INT64;case"uint64":return tt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${ft}`)}}static tensorDimsFromProto(ft){return ft.map(pt=>et.default.isLong(pt)?pt.toNumber():pt)}static tensorValueTypeFromProto(ft){return{tensorType:st.tensorDataTypeFromProto(ft.elemType),shape:{dims:st.tensorDimsFromProto(ft.shape.dim.map(pt=>pt.dimValue))}}}static tensorDimsFromORTFormat(ft){const pt=[];for(let ht=0;ht<ft.dimsLength();ht++)pt.push(_e.longToNumber(ft.dims(ht)));return pt}static tensorAttributesFromORTFormat(ft){const pt=[];for(let ht=0;ht<ft.attributesLength();ht++)pt.push(ft.attributes(ht));return pt}}i.ProtoUtil=st;class _e{static longToNumber(ft,pt){return et.default.isLong(ft)?ft.toNumber():ft instanceof j.flatbuffers.Long?et.default.fromValue({low:ft.low,high:ft.high,unsigned:pt!=null&&pt}).toNumber():ft}static isLong(ft){return et.default.isLong(ft)||ft instanceof j.flatbuffers.Long}}i.LongUtil=_e;class ${static size(ft){return $.getSizeFromDimensionRange(ft,0,ft.length)}static sizeFromDimension(ft,pt){if(pt<0||pt>ft.length)throw new Error(`invalid dimension of ${pt} for sizeFromDimension as Tensor has ${ft.length} dimensions.`);return $.getSizeFromDimensionRange(ft,pt,ft.length)}static sizeToDimension(ft,pt){if(pt<0||pt>ft.length)throw new Error(`invalid dimension of ${pt} for sizeToDimension as Tensor has ${ft.length} dimensions.`);return $.getSizeFromDimensionRange(ft,0,pt)}static getSizeFromDimensionRange(ft,pt,ht){let gt=1;for(let mt=pt;mt<ht;mt++){if(ft[mt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");gt*=ft[mt]}return gt}static computeStrides(ft){const pt=ft.length;if(pt===0)return[];if(pt===1)return[1];const ht=new Array(pt);ht[pt-1]=1,ht[pt-2]=ft[pt-1];for(let gt=pt-3;gt>=0;--gt)ht[gt]=ht[gt+1]*ft[gt+1];return ht}static transpose(ft){return ft.slice().reverse()}static indicesToOffset(ft,pt,ht){ht===void 0&&(ht=ft.length);let gt=0;for(let mt=0;mt<ht;++mt)gt+=pt[mt]*ft[mt];return gt}static offsetToIndices(ft,pt){const ht=pt.length;if(ht===0)return[];if(ht===1)return[ft*pt[0]];const gt=new Array(pt.length);for(let mt=0;mt<gt.length-1;++mt)gt[mt]=Math.floor(ft/pt[mt]),ft-=gt[mt]*pt[mt];return gt[gt.length-1]=ft,gt}static normalizeAxis(ft,pt){if(ft<-pt&&ft>=pt)throw new Error("unsupported axis for this operation.");return ft<0?ft+pt:ft}static normalizeAxes(ft,pt){return ft.map(ht=>this.normalizeAxis(ht,pt))}static incrementIndex(ft,pt,ht){if(pt.length===0||ft.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(ht===void 0)ht=pt.length;else if(ht<=0||ht>pt.length)throw new Error("Incorrect axis to increment on");for(let gt=ht-1;gt>=0&&(ft[gt]++,!(ft[gt]<pt[gt]));--gt)ft[gt]=0}static calculateReshapedDims(ft,pt){if(pt.length===0){if(ft.length===0||$.size(ft)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const ht=pt.length,gt=new Array(ht);let mt=-1,yt=1;for(let _t=0;_t<ht;_t++){if(pt[_t]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(pt[_t]===-1){if(mt!==-1)throw new Error("at most one dimension in shape hints can be -1");mt=_t}else{if(pt[_t]===0){if(_t>=ft.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");gt[_t]=ft[_t]}else gt[_t]=pt[_t];yt*=gt[_t]}}const bt=$.size(ft);if(mt!==-1){if(bt%yt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${ft}] Output shape: [${pt}]`);gt[mt]=bt/yt}else if(yt!==bt)throw new Error("reshapedDims and originalDims don't have matching sizes");return gt}static sortBasedOnPerm(ft,pt){return pt?pt.map(ht=>ft[ht]):ft.slice().reverse()}static padShape(ft,pt){const ht=ft.length;return ft.map((gt,mt)=>gt+pt[mt]+pt[mt+ht])}static areEqual(ft,pt){return ft.length===pt.length&&ft.every((ht,gt)=>ht===pt[gt])}static validateDimsAndCalcSize(ft){if(ft.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let pt=1;for(const ht of ft){if(!Number.isInteger(ht))throw new TypeError(`Invalid shape: ${ht} is not an integer`);if(ht<0||ht>2147483647)throw new TypeError(`Invalid shape: length ${ht} is not allowed`);pt*=ht}return pt}static flattenShape(ft,pt){pt<0&&(pt+=ft.length);const ht=ft.reduce((mt,yt)=>mt*yt,1),gt=ft.slice(pt).reduce((mt,yt)=>mt*yt,1);return[ht/gt,gt]}static squeezeShape(ft,pt){const ht=new Array;pt=$.normalizeAxes(pt,ft.length);for(let gt=0;gt<ft.length;gt++){const mt=pt.indexOf(gt)>=0;if(mt&&ft[gt]!==1)throw new Error("squeeze an axis of size different than 1");(pt.length===0&&ft[gt]>1||pt.length>0&&!mt)&&ht.push(ft[gt])}return ht}static unsqueezeShape(ft,pt){const ht=new Array(ft.length+pt.length);ht.fill(0);for(let mt=0;mt<pt.length;mt++){const yt=$.normalizeAxis(pt[mt],ht.length);if(yt>=ht.length)throw new Error("'axes' has an out of range axis");if(ht[yt]!==0)throw new Error("'axes' has a duplicate axis");ht[yt]=1}let gt=0;for(let mt=0;mt<ht.length;mt++)ht[mt]===0&&(ht[mt]=ft[gt++]);if(gt!==ft.length)throw new Error("the unsqueezed dimension could not be established");return ht}}i.ShapeUtil=$,i.MathUtil=class{static sqr(dt,ft,pt,ht,gt){if(ht<0||ht>=ft.length)throw new Error("sourceIndex out of bounds");if(pt<0||pt>=dt.length)throw new Error("targetIndex out of bounds");if(ht+gt>ft.length)throw new Error("source indices to be copied are outside bounds");if(pt+gt>dt.length)throw new Error("target array is too small to hold result");for(let mt=0;mt<gt;mt++)dt[pt+mt]+=Math.pow(ft[ht+mt],2)}static axpy(dt,ft,pt,ht,gt,mt){if(ht<0||ht>=ft.length)throw new Error("sourceIndex out of bounds");if(pt<0||pt>=dt.length)throw new Error("targetIndex out of bounds");if(ht+gt>ft.length)throw new Error("source indices to be copied are outside bounds");if(pt+gt>dt.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<gt;yt++)dt[pt+yt]+=mt*ft[ht+yt]}static powx(dt,ft,pt,ht,gt,mt){if(ht<0||ht>=ft.length)throw new Error("sourceIndex out of bounds");if(pt<0||pt>=dt.length)throw new Error("targetIndex out of bounds");if(ht+gt>ft.length)throw new Error("source indices to be copied are outside bounds");if(pt+gt>dt.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<gt;yt++)dt[pt+yt]=Math.pow(ft[ht+yt],mt)}static mul(dt,ft,pt,ht,gt){if(ht<0||ht>=ft.length)throw new Error("sourceIndex out of bounds");if(pt<0||pt>=dt.length)throw new Error("targetIndex out of bounds");if(ht+gt>ft.length)throw new Error("source indices to be copied are outside bounds");if(pt+gt>dt.length)throw new Error("target array is too small to hold result");for(let mt=0;mt<gt;mt++)dt[pt+mt]=ft[ht+mt]*dt[pt+mt]}};class nt{static splitShape(ft,pt,ht,gt){if(ht.length===0){if(!gt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");nt.determineSplit(ft[pt],gt,ht)}const mt=[],yt=[0];for(let bt=0;bt<ht.length;++bt){bt!==0&&yt.push(yt[bt-1]+ht[bt-1]);const _t=ft.slice();_t[pt]=ht[bt],mt.push(_t)}return[mt,yt]}static determineSplit(ft,pt,ht){if(ft%pt!=0)throw new Error("cannot split tensor to equal sized parts");for(let gt=0;gt<pt;++gt)ht.push(ft/pt)}}i.SplitUtil=nt;class it{static calcReduce(ft,pt,ht,gt,mt){const yt=ft.dims.slice(0);pt.length===0&&yt.forEach((At,Ot)=>pt.push(Ot));const bt=it.calcReduceShape(yt,pt,!0),_t=$.size(bt),xt=new rt.Tensor(bt,ft.type),Et=$.computeStrides(bt),Tt=$.computeStrides(yt),Pt=new Array(yt.length);for(let At=0;At<_t;At++){const Ot=$.offsetToIndices(At,Et);ot.fillIndex(Ot,yt,Pt),xt.set(Ot,it.calcReduceByAxis(ft.numberData,pt,yt,0,$.indicesToOffset(Pt,Tt),gt,mt))}return ht?xt:new rt.Tensor(it.calcReduceShape(yt,pt,ht),xt.type,void 0,void 0,xt.data,xt.dataId)}static calcReduceByAxis(ft,pt,ht,gt,mt,yt,bt){let _t=0;if(gt>=pt.length)return yt(ft[mt]);const xt=pt[gt],Et=xt>=ht.length?1:$.size(ht.slice(xt+1));for(let Tt=0;Tt<ht[xt];Tt++)_t=Tt===0?it.calcReduceByAxis(ft,pt,ht,gt+1,mt,yt,bt):bt(_t,it.calcReduceByAxis(ft,pt,ht,gt+1,mt,yt,bt)),mt+=Et;return _t}static calcReduceShape(ft,pt,ht){const gt=ft.slice();for(let mt=0;mt<pt.length;mt++)gt[pt[mt]]=ht?1:0;return gt.filter(mt=>mt!==0)}}i.ReduceUtil=it;class lt{static adjustPoolAttributes(ft,pt,ht,gt,mt,yt){if(!ft&&ht.length!==pt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ft)for(let bt=0;bt<pt.length-2;bt++)bt>=ht.length?ht.push(pt[bt+2]):ht[bt]=pt[bt+2];for(let bt=0;bt<ht.length;bt++)if(bt<gt.length){if(gt[bt]<0)throw new Error("strides should be greater than or equal to 1")}else gt.push(1);for(let bt=0;bt<ht.length;bt++)if(bt<mt.length){if(mt[bt]<0)throw new Error("dilations should be greater than or equal to 1")}else mt.push(1);for(let bt=0;bt<2*ht.length;bt++)if(bt<yt.length){if(yt[bt]<0)throw new Error("pad should be greater than or equal to 1")}else yt.push(0);for(let bt=0;bt<ht.length;bt++){if(ht[bt]<=0)throw new Error("kernel shapes need to be greater than 0");if(yt[bt]>=ht[bt]||yt[bt+ht.length]>=ht[bt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ft,pt,ht,gt,mt,yt){if(yt){if(mt.length!==2*(ft.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(pt.length!==ft.length-2)throw new Error("length of strides should be the length of data dimensions");if(gt.length!==ft.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let bt=0;bt<ft.length-2;bt++)lt.adjustPadAndReturnShape(ft[bt+2],pt[bt],ht[bt],gt[bt],mt,bt,bt+ft.length-2,yt)}}static computePoolOutputShape(ft,pt,ht,gt,mt,yt,bt){if(pt.length<=0)throw new Error("input shape must be of size greater than 0");const _t=[pt[0],pt[1]];return lt.computeShapeHelper(ft,pt,_t,ht,gt,mt,yt,bt),_t}static computeConvOutputShape(ft,pt,ht,gt,mt,yt,bt){if(ft.length<=0||pt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const _t=[ft[0],pt[0]];return lt.computeShapeHelper(!1,ft,_t,ht,gt,mt,yt,bt),_t}static computeShapeHelper(ft,pt,ht,gt,mt,yt,bt,_t){if(ft)for(let xt=0;xt<pt.length-2;xt++)ht.push(1);else for(let xt=0;xt<pt.length-2;xt++)ht.push(lt.adjustPadAndReturnShape(pt[xt+2],gt[xt],mt[xt],yt[xt],bt,xt,xt+pt.length-2,_t))}static adjustPadAndReturnShape(ft,pt,ht,gt,mt,yt,bt,_t){const xt=ht*(gt-1)+1;if(!_t||_t==="NOTSET")return Math.floor((ft+mt[yt]+mt[bt]-xt)/pt+1);switch(_t){case"VALID":return mt[yt]=0,mt[bt]=0,Math.floor((ft-xt)/pt+1);case"SAME_LOWER":case"SAME_UPPER":if(ht!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const Et=((ft+pt-1)/pt-1)*pt+gt-ft;return mt[yt]=Math.floor(_t==="SAME_LOWER"?(Et+1)/2:Et/2),mt[bt]=Et-mt[yt],Math.floor((ft+Et-gt)/pt+1)}default:throw new Error("Unsupported AutoPad type")}}}i.PoolConvUtil=lt,i.MIN_CLIP=-34028234663852886e22,i.MAX_CLIP=34028234663852886e22,i.decodeUtf8String=function(dt){return new TextDecoder().decode(dt)}},3838:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGpuBackend=void 0;const s=a(8453),j=a(4955),et=a(7771),tt=a(8510),rt=a(8305);i.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let at=this.kernelCustomData.get(this.currentKernelId);return at||(at={},this.kernelCustomData.set(this.currentKernelId,at)),at}async initialize(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const at=await navigator.gpu.requestAdapter();if(!at)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const ot={requiredLimits:{maxComputeWorkgroupStorageSize:at.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:at.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:at.limits.maxStorageBufferBindingSize}};at.features.has("timestamp-query-inside-passes")&&s.env.webgpu.profilingMode==="default"&&(this.profilingEnabled=!0,ot.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await at.requestDevice(ot),this.gpuDataManager=(0,et.createGpuDataManager)(this),this.programManager=new rt.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=st=>{st.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${st.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(at,ot,st,_e,$){if(ot.length!==at.inputTypes.length)throw new Error(`Input size must be equal to ${at.inputTypes.length}.`);const nt=[];for(let mt=0;mt<ot.length;++mt){const yt=this.gpuDataManager.get(ot[mt].data);if(!yt)throw new Error(`no GPU data for input: ${ot[mt].data}`);nt[mt]=yt}const it=((mt,yt,bt)=>{const _t=yt.map(Tt=>`${Tt.join(",")}`).join("_"),xt=bt.join("_");let Et=mt.name;return mt.cacheHint&&(Et+="["+mt.cacheHint+"]"),Et+=":"+_t+";"+xt,Et})(at,ot.map(mt=>mt.dims),nt.map(mt=>mt.type));let lt=this.programManager.getArtifact(it);const dt=lt?lt.programInfo:typeof at.get=="function"?at.get():at,ft=st.length===0?dt.outputs.map((mt,yt)=>yt):st;if(ft.length!==dt.outputs.length)throw new Error(`Output size ${ft.length} must be equal to ${dt.outputs.length}.`);const pt=[],ht=[];for(let mt=0;mt<dt.outputs.length;++mt){if(!Number.isInteger(ft[mt])||ft[mt]<-2||ft[mt]>=dt.outputs.length)throw new Error(`Invalid output index: ${ft[mt]}`);const yt=ft[mt]===-1,bt=ft[mt]===-2,_t=yt||bt?$(dt.outputs[mt].dataType,dt.outputs[mt].dims):_e(ft[mt],dt.outputs[mt].dataType,dt.outputs[mt].dims),xt=this.gpuDataManager.get(_t.data);if(!xt)throw new Error(`no GPU data for output: ${_t.data}`);if(yt&&this.temporaryData.push(xt),bt){let Et=this.kernelPersistentData.get(this.currentKernelId);Et||(Et=[],this.kernelPersistentData.set(this.currentKernelId,Et)),Et.push(xt)}pt.push(_t),ht.push(xt)}const gt=this.programManager.normalizeDispatchGroupSize(dt.dispatchGroup(ot));return lt||(lt=this.programManager.build(dt,gt),this.programManager.setArtifact(it,lt)),(0,j.LOG_DEBUG)("info",()=>`[ProgramManager] run "${dt.name}" (key=${it}) with ${gt[0]}x${gt[1]}x${gt[2]}`),this.programManager.run(lt,nt,ht,gt),pt}upload(at,ot){this.gpuDataManager.upload(at,ot)}memcpy(at,ot){this.gpuDataManager.memcpy(at,ot)}async download(at,ot){const st=await this.gpuDataManager.download(at);ot().set(new Uint8Array(st))}alloc(at){return this.gpuDataManager.create(at).id}free(at){return this.gpuDataManager.release(at)}createKernel(at,ot,st){const _e=tt.WEBGPU_OP_RESOLVE_RULES.get(at);if(!_e)throw new Error(`kernel not implemented: ${at}`);this.kernels.set(ot,[at,_e[0],[_e[1],st]])}releaseKernel(at){const ot=this.kernelPersistentData.get(at);if(ot){for(const st of ot)this.gpuDataManager.release(st.id);this.kernelPersistentData.delete(at)}this.kernelCustomData.delete(at),this.kernels.delete(at)}computeKernel(at,ot){const st=this.kernels.get(at);if(!st)throw new Error(`kernel not created: ${at}`);const[_e,$,nt]=st;if(this.currentKernelId!==null)throw new Error(`kernel "${_e}" is not allowed to be called recursively`);this.currentKernelId=at,nt[0]&&(nt[1]=nt[0](nt[1]),nt[0]=void 0),(0,j.LOG_DEBUG)("info",()=>`[WebGPU] Start to run kernel "${_e}"...`),this.temporaryData=[];try{return $(ot,nt[1]),0}catch(it){return(0,j.LOG_DEBUG)("warning",`[WebGPU] Kernel "${_e}" failed. Error: ${it}`),1}finally{for(const it of this.temporaryData)this.gpuDataManager.release(it.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.init=void 0;const s=a(7917),j=a(3838),et=a(4955),tt=a(6952);class rt{constructor(st,_e,$,nt){this.module=st,this.dataType=_e,this.data=$,this.dims=nt}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,tt.ShapeUtil.size(this.dims))}reshape(st){if(tt.ShapeUtil.size(st)!==tt.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new rt(this.module,this.dataType,this.data,st)}}class at{get customData(){return this.backend.currentKernelCustomData}constructor(st,_e,$){this.module=st,this.backend=_e;const nt=st.HEAPU32;let it=$>>2;this.opKernelContext=nt[it++];const lt=nt[it++],dt=[];for(let ft=0;ft<lt;ft++){const pt=nt[it++],ht=nt[it++],gt=nt[it++],mt=[];for(let yt=0;yt<gt;yt++)mt.push(nt[it++]);dt.push(new rt(st,pt,ht,mt))}this.inputs=dt}compute(st,_e){var $,nt,it;const lt=(nt=($=_e==null?void 0:_e.inputs)===null||$===void 0?void 0:$.map(ft=>typeof ft=="number"?this.inputs[ft]:ft))!==null&&nt!==void 0?nt:this.inputs,dt=(it=_e==null?void 0:_e.outputs)!==null&&it!==void 0?it:[];return this.backend.run(st,lt,dt,(ft,pt,ht)=>new rt(this.module,pt,this.output(ft,ht),ht),(ft,pt)=>{const ht=(0,s.getTensorElementSize)(ft);if(!ht)throw new Error(`Unsupported data type: ${ft}`);const gt=ht*tt.ShapeUtil.size(pt);return new rt(this.module,ft,this.backend.gpuDataManager.create(gt).id,pt)})}output(st,_e){const $=this.module.stackSave();try{const nt=this.module.stackAlloc(4*(1+_e.length));let it=nt>>2;this.module.HEAPU32[it++]=_e.length;for(let lt=0;lt<_e.length;lt++)this.module.HEAPU32[it++]=_e[lt];return this.module._JsepOutput(this.opKernelContext,st,nt)}finally{this.module.stackRestore($)}}}i.init=async ot=>{const st=ot.jsepInit;if(st&&navigator.gpu){const _e=new j.WebGpuBackend;await _e.initialize(),st({backend:_e},$=>_e.alloc($),$=>_e.free($),($,nt,it,lt=!1)=>{if(lt)(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${$}, dst=${nt}, size=${it}`),_e.memcpy($,nt);else{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${$}, gpuDataId=${nt}, size=${it}`);const dt=ot.HEAPU8.subarray($,$+it);_e.upload(nt,dt)}},async($,nt,it)=>{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${$}, dataOffset=${nt}, size=${it}`),await _e.download($,()=>ot.HEAPU8.subarray(nt,nt+it))},($,nt,it)=>_e.createKernel($,nt,it),$=>_e.releaseKernel($),($,nt)=>{(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepRun: kernel=${$}, contextDataOffset=${nt}`);const it=new at(ot,_e,nt);return _e.computeKernel($,it)})}}},4955:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LOG_DEBUG=i.LOG=void 0;const s=a(8453),j=a(7917),et=["V","I","W","E","F"];i.LOG=(tt,rt)=>{const at=(0,j.logLevelStringToEnum)(tt);var ot,st;at>=(0,j.logLevelStringToEnum)(s.env.logLevel)&&(ot=at,st=typeof rt=="function"?rt():rt,console.log(`[${et[ot]},${new Date().toISOString()}]${st}`))},i.LOG_DEBUG=(...tt)=>{s.env.debug&&(0,i.LOG)(...tt)}},6952:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MAX_CLIP=i.MIN_CLIP=i.GemmUtil=i.PoolConvUtil=i.ShapeUtil=i.BroadcastUtil=i.MatMulUtil=void 0;class a{static calcMatMulShape(rt,at){return rt[1]!==at[0]?void 0:[rt[0],at[1]]}}i.MatMulUtil=a;class s{static calcShape(rt,at,ot=!1){const st=rt.length,_e=at.length;if(st===0)return at;if(_e===0)return rt;const $=Math.max(rt.length,at.length),nt=new Array($);if(ot){if(st<2||_e<2)return;const it=a.calcMatMulShape([rt[st-2],rt[st-1]],[at[_e-2],at[_e-1]]);if(it===void 0)return;[nt[$-2],nt[$-1]]=it}for(let it=ot?3:1;it<=$;it++){const lt=st-it<0?1:rt[st-it],dt=_e-it<0?1:at[_e-it];if(lt!==dt&&lt>1&&dt>1)return;nt[$-it]=Math.max(lt,dt)}return nt}static isValidBroadcast(rt,at){const ot=rt.length,st=at.length;if(ot>st)return!1;for(let _e=1;_e<=ot;_e++)if(rt[ot-_e]!==1&&rt[ot-_e]!==at[st-_e])return!1;return!0}}i.BroadcastUtil=s;class j{static size(rt){return j.getSizeFromDimensionRange(rt,0,rt.length)}static sizeFromDimension(rt,at){if(at<0||at>rt.length)throw new Error(`invalid dimension of ${at} for sizeFromDimension as Tensor has ${rt.length} dimensions.`);return j.getSizeFromDimensionRange(rt,at,rt.length)}static sizeToDimension(rt,at){if(at<0||at>rt.length)throw new Error(`invalid dimension of ${at} for sizeToDimension as Tensor has ${rt.length} dimensions.`);return j.getSizeFromDimensionRange(rt,0,at)}static getSizeFromDimensionRange(rt,at,ot){let st=1;for(let _e=at;_e<ot;_e++){if(rt[_e]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");st*=rt[_e]}return st}static computeStrides(rt){const at=rt.length;if(at===0)return[];if(at===1)return[1];const ot=new Array(at);ot[at-1]=1,ot[at-2]=rt[at-1];for(let st=at-3;st>=0;--st)ot[st]=ot[st+1]*rt[st+1];return ot}static normalizeAxis(rt,at){if(rt<-at&&rt>=at)throw new Error("unsupported axis for this operation.");return rt<0?rt+at:rt}static normalizeAxes(rt,at){return rt.map(ot=>this.normalizeAxis(ot,at??rt.length))}static sortBasedOnPerm(rt,at){return at?at.map(ot=>rt[ot]):rt.slice().reverse()}static padShape(rt,at){const ot=rt.length;return rt.map((st,_e)=>st+at[_e]+at[_e+ot])}static areEqual(rt,at){return rt.length===at.length&&rt.every((ot,st)=>ot===at[st])}}i.ShapeUtil=j;class et{static adjustPoolAttributes(rt,at,ot,st,_e,$){if(!rt&&ot.length!==at.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(rt)for(let nt=0;nt<at.length-2;nt++)nt>=ot.length?ot.push(at[nt+2]):ot[nt]=at[nt+2];for(let nt=0;nt<ot.length;nt++)if(nt<st.length){if(st[nt]<0)throw new Error("strides should be greater than or equal to 1")}else st.push(1);for(let nt=0;nt<ot.length;nt++)if(nt<_e.length){if(_e[nt]<0)throw new Error("dilations should be greater than or equal to 1")}else _e.push(1);for(let nt=0;nt<2*ot.length;nt++)if(nt<$.length){if($[nt]<0)throw new Error("pad should be greater than or equal to 1")}else $.push(0);for(let nt=0;nt<ot.length;nt++){if(ot[nt]<=0)throw new Error("kernel shapes need to be greater than 0");if($[nt]>=ot[nt]||$[nt+ot.length]>=ot[nt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(rt,at,ot,st,_e,$,nt){if(nt){if(_e.length!==2*(rt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(at.length!==rt.length-2)throw new Error("length of strides should be the length of data dimensions");if(st.length!==rt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let it=0;it<rt.length-2;it++)et.adjustPadAndReturnShape(rt[it+($?1:2)],at[it],ot[it],st[it],_e,it,it+rt.length-2,nt)}}static computePoolOutputShape(rt,at,ot,st,_e,$,nt){if(at.length<=0)throw new Error("input shape must be of size greater than 0");const it=[at[0],at[1]];return et.computeShapeHelper(rt,at,it,ot,st,_e,$,nt),it}static computeConvOutputShape(rt,at,ot,st,_e,$,nt){if(rt.length<=0||at.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const it=[rt[0],at[0]];return et.computeShapeHelper(!1,rt,it,ot,st,_e,$,nt),it}static computeShapeHelper(rt,at,ot,st,_e,$,nt,it){if(rt)for(let lt=0;lt<at.length-2;lt++)ot.push(1);else for(let lt=0;lt<at.length-2;lt++)ot.push(et.adjustPadAndReturnShape(at[lt+2],st[lt],_e[lt],$[lt],nt,lt,lt+at.length-2,it))}static adjustPadAndReturnShape(rt,at,ot,st,_e,$,nt,it){const lt=ot*(st-1)+1;if(!it||it==="NOTSET")return Math.floor((rt+_e[$]+_e[nt]-lt)/at+1);switch(it){case"VALID":return _e[$]=0,_e[nt]=0,Math.floor((rt-lt)/at+1);case"SAME_LOWER":case"SAME_UPPER":if(ot!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const dt=((rt+at-1)/at-1)*at+st-rt;return _e[$]=Math.floor(it==="SAME_LOWER"?(dt+1)/2:dt/2),_e[nt]=dt-_e[$],Math.floor((rt+dt-st)/at+1)}default:throw new Error("Unsupported AutoPad type")}}}i.PoolConvUtil=et,i.GemmUtil=class{static getShapeOfGemmResult(tt,rt,at,ot,st){if(tt.length!==2||at.length!==2)throw new Error("shape need to be of size 2");let _e,$,nt;rt?(_e=tt[1],$=tt[0]):(_e=tt[0],$=tt[1]);let it=-1;if(ot?(nt=at[0],it=1):(nt=at[1],it=0),at[it]!==$)throw new Error("dimension mismatch");if(_e<=0||nt<=0||$<=0)throw new Error("invalid shape specified");if(st&&!s.isValidBroadcast(st,[_e,nt]))throw new Error("gemm: invalid bias shape for broadcast");return[_e,nt,$]}},i.MIN_CLIP=-34028234663852886e22,i.MAX_CLIP=34028234663852886e22},387:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createAttributeWithCacheKey=void 0;class a{constructor(j){Object.assign(this,j)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(j=>`${this[j]}`).join(";")),this._cacheKey}}i.createAttributeWithCacheKey=s=>new a(s)},7771:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createGpuDataManager=void 0;const s=a(4955),j=a(1163),et=at=>16*Math.ceil(at/16);let tt=0;class rt{constructor(ot){this.backend=ot,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(ot,st){const _e=st.buffer,$=st.byteOffset,nt=st.byteLength,it=et(nt),lt=this.storageCache.get(ot);if(!lt)throw new Error("gpu data for uploading does not exist");if(lt.originalSize!==nt)throw new Error(`inconsistent data size. gpu data size=${lt.originalSize}, data size=${nt}`);const dt=this.backend.device.createBuffer({mappedAtCreation:!0,size:it,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),ft=dt.getMappedRange();new Uint8Array(ft).set(new Uint8Array(_e,$,nt)),dt.unmap();const pt=this.backend.getCommandEncoder();this.backend.endComputePass(),pt.copyBufferToBuffer(dt,0,lt.gpuData.buffer,0,it),(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${ot})`),this.buffersForUploadingPending.push(dt)}memcpy(ot,st){const _e=this.storageCache.get(ot);if(!_e)throw new Error("source gpu data for memcpy does not exist");const $=this.storageCache.get(st);if(!$)throw new Error("destination gpu data for memcpy does not exist");if(_e.originalSize!==$.originalSize)throw new Error("inconsistent source and destination gpu data size");const nt=et(_e.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(_e.gpuData.buffer,0,$.gpuData.buffer,0,nt)}create(ot,st=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const _e=et(ot),$=this.backend.device.createBuffer({size:_e,usage:st}),nt={id:tt++,type:j.GpuDataType.default,buffer:$};return this.storageCache.set(nt.id,{gpuData:nt,originalSize:ot}),(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.create(size=${ot}) => id=${nt.id}`),nt}get(ot){var st;return(st=this.storageCache.get(ot))===null||st===void 0?void 0:st.gpuData}release(ot){const st=this.storageCache.get(ot);if(!st)throw new Error("releasing data does not exist");return(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.release(id=${ot}), gpuDataId=${st.gpuData.id}`),this.storageCache.delete(ot),this.buffersPending.push(st.gpuData.buffer),this.downloadCache.get(ot)&&this.downloadCache.delete(ot),st.originalSize}async download(ot){const st=this.downloadCache.get(ot);if(st)return st.data;const _e=this.storageCache.get(ot);if(!_e)throw new Error("data does not exist");const $=this.backend.getCommandEncoder();this.backend.endComputePass();const nt=this.backend.device.createBuffer({size:_e.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});$.copyBufferToBuffer(_e.gpuData.buffer,0,nt,0,_e.originalSize),this.backend.flush();const it=new Promise(lt=>{nt.mapAsync(GPUMapMode.READ).then(()=>{const dt=nt.getMappedRange().slice(0);nt.destroy(),lt(dt)})});return this.downloadCache.set(ot,{data:it}),it}refreshPendingBuffers(){for(const ot of this.buffersForUploadingPending)ot.destroy();for(const ot of this.buffersPending)ot.destroy()}}i.createGpuDataManager=(...at)=>new rt(...at)},8510:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(nt,it,lt,dt){dt===void 0&&(dt=lt);var ft=Object.getOwnPropertyDescriptor(it,lt);ft&&!("get"in ft?!it.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return it[lt]}}),Object.defineProperty(nt,dt,ft)}:function(nt,it,lt,dt){dt===void 0&&(dt=lt),nt[dt]=it[lt]}),j=this&&this.__setModuleDefault||(Object.create?function(nt,it){Object.defineProperty(nt,"default",{enumerable:!0,value:it})}:function(nt,it){nt.default=it}),et=this&&this.__importStar||function(nt){if(nt&&nt.__esModule)return nt;var it={};if(nt!=null)for(var lt in nt)lt!=="default"&&Object.prototype.hasOwnProperty.call(nt,lt)&&s(it,nt,lt);return j(it,nt),it};Object.defineProperty(i,"__esModule",{value:!0}),i.WEBGPU_OP_RESOLVE_RULES=void 0;const tt=et(a(504)),rt=a(9770),at=a(4271),ot=a(1522),st=et(a(5262)),_e=a(2625),$=et(a(9302));i.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[$.abs]],["Acos",[$.acos]],["Acosh",[$.acosh]],["Add",[tt.add]],["Asin",[$.asin]],["Asinh",[$.asinh]],["Atan",[$.atan]],["Atanh",[$.atanh]],["AveragePool",[st.averagePool,st.parseAveragePoolAttributes]],["Ceil",[$.ceil]],["ClipV10",[$.clipV10]],["Clip",[$.clip]],["Conv",[rt.conv,rt.parseConvAttributes]],["Cos",[$.cos]],["Cosh",[$.cosh]],["Div",[tt.div]],["Elu",[$.elu,$.parseAlphaAttributes]],["Erf",[$.erf]],["Exp",[$.exp]],["Floor",[$.floor]],["Gemm",[at.gemm,at.parseGemmAttributes]],["GlobalAveragePool",[st.globalAveragePool,st.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[st.globalMaxPool,st.parseGlobalMaxPoolAttributes]],["LeakyRelu",[$.leakyRelu,$.parseAlphaAttributes]],["MatMul",[ot.matMul]],["MaxPool",[st.maxPool,st.parseMaxPoolAttributes]],["Mul",[tt.mul]],["Neg",[$.neg]],["Pow",[tt.pow]],["Reciprocal",[$.reciprocal]],["Relu",[$.relu]],["Sigmoid",[$.sigmoid]],["Sin",[$.sin]],["Sinh",[$.sinh]],["Sqrt",[$.sqrt]],["Sub",[tt.sub]],["Tan",[$.tan]],["Tanh",[$.tanh]],["ThresholdedRelu",[$.thresholdedRelu,$.parseAlphaAttributes]],["Transpose",[_e.transpose,_e.parseTransposeAttributes]]])},1427:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.biasActivationSnippet=i.activationFnSnippet=i.typeSnippet=void 0,i.typeSnippet=a=>{switch(a){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${a}-component is not supported.`)}},i.activationFnSnippet=(a,s=!1,j=!1,et=3)=>"",i.biasActivationSnippet=(a,s)=>`
      ${a?"value = value + getBiasByOutputCoords(coords);":""}
      ${s?"value = activation(value, coords);":""}
      `},9456:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createConv2DMatMulProgramInfo=void 0;const s=a(4955),j=a(6952),et=a(1163),tt=a(1427),rt=a(4085),at=a(158);i.createConv2DMatMulProgramInfo=(ot,st,_e,$,nt,it,lt,dt,ft)=>{const pt=_e.format==="NHWC",ht=pt?ot[0].dims[3]:ot[0].dims[1],gt=$[0],mt=pt?$[2]:$[3],yt=pt?$[1]:$[2],bt=pt?$[3]:$[1],_t=((ht%4==0||ht%3==0)&&pt||mt%4==0&&!pt)&&bt%4==0,xt=pt?bt:mt*yt,Et=pt?mt*yt:bt,Tt=_t?[8,8,1]:[xt<=4?4:16,xt>4&&Et<=4?4:16,1],Pt=_t?[4,4,1]:[xt<=4?1:2,xt>4&&Et<=4?1:2,1],At=[Math.ceil(xt/Tt[0]/Pt[0]),Math.ceil(Et/Tt[1]/Pt[1]),Math.ceil(gt/Tt[2]/Pt[1])];(0,s.LOG_DEBUG)("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${At}`);const Ot=_t?pt&&ht%4!=0?3:4:Pt[0],It=Tt[1]*Pt[1],$t=Tt[0]*Pt[0],kt=Math.max(Tt[0]*Ot,Tt[1]),Ft=nt%It==0,Ut=it%$t==0,zt=lt%kt==0,Wt=_t?[Ot,4,4]:[1,1,1],Qt=[`@group(0) @binding(0) var<storage, read> x: array<${_t&&Ot===4?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${_t?"vec4<f32>":"f32"}>;`];let un=`
      fn setOutputAtIndex(flatIndex : i32, value : ${_t?"vec4<f32>":"f32"}) {
        result[flatIndex] = ${_t?"vec4<f32>":"f32"}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${_t?"vec4<f32>":"f32"}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${_t?"/ 4":""}, value);
      }`;return dt&&(Qt.push(`@group(0) @binding(2) var<storage, read> bias: array<${_t?"vec4<f32>":"f32"}>;`),un+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${_t?"vec4<f32>":"f32"} {
          return bias[coords.${pt?"w":"y"}${_t?"/ 4":""}];
        }`),Object.assign(Object.assign({},st),{outputs:[{dims:$,dataType:ot[0].dataType,gpuDataType:et.GpuDataType.default}],dispatchGroup:()=>({x:At[0],y:At[1],z:At[2]}),getShaderSource:()=>`
        ${rt.utilFunctions}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${Qt.join("")}
        @group(0) @binding(${Qt.length}) var<storage, read_write> result: array<${_t?"vec4<f32>":"f32"}>;
        //@group(0) @binding(${Qt.length+1}) var<uniform> uniforms: Uniforms;

        const xShape : vec4<i32> = vec4<i32>(${ot[0].dims.join(",")});
        const wShape : vec4<i32> = vec4<i32>(${ot[1].dims.join(",")});
        const outShape : vec4<i32> = vec4<i32>(${$.join(",")});
        const outShapeStrides : vec3<i32> = vec3<i32>(${j.ShapeUtil.computeStrides($).slice(0,3).join(",")});
        const filterDims : vec2<i32> = vec2<i32>(${_e.kernelShape[0]}, ${_e.kernelShape[1]});
        const pad : vec2<i32> = vec2<i32>(${_e.pads[0]}, ${_e.pads[1]});
        const stride : vec2<i32> = vec2<i32>(${_e.strides[0]}, ${_e.strides[1]});
        const dilation : vec2<i32> = vec2<i32>(${_e.dilations[0]}, ${_e.dilations[1]});
        const dimAOuter : i32 = ${nt};
        const dimBOuter : i32 = ${it};
        const dimInner : i32 = ${lt};
        ${un}
        ${((an,vn,fn,jt,en=!1,on,wn=!1,cn=4,An=4,bn=4)=>{const Vn=an?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,xn=an?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,Jn=an?"xShape[1]":"xShape[2]",Ln=an?"xShape[2]":"xShape[3]",Hn=an?"row":"col",jn=an?"col":"row",On=`
    let inChannels = wShape[2];
    let outWidth = ${an?"outShape[2]":"outShape[3]"};
    let outRow = ${Hn} / outWidth;
    let outCol = ${Hn} % outWidth;

    let WRow = ${jn} / (filterDims[1] * inChannels);
    let WCol = ${jn} / inChannels % filterDims[1];
    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];
    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];
    let xCh = ${jn} % inChannels;
    var resData = ${(0,tt.typeSnippet)(cn)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${Jn} && xCol >= 0 && xCol < ${Ln}) {
      ${Vn}
      let xIndex = getIndexFromCoords4D(coord, xShape);
      ${(Wn=>{switch(Wn){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${Wn} is not supported.`)}})(cn)}
    }
    return resData;`,zn=an?vn&&jt?`
    let col = colIn * ${cn};
    ${On}`:`
    let col = colIn * ${cn};
    if (row < dimAOuter && col < dimInner) {
      ${On}
    }
    return ${(0,tt.typeSnippet)(cn)}(0.0);`:jt&&fn?`
    let col = colIn * ${cn};
    ${On}`:`
    let col = colIn * ${cn};
    if (row < dimInner && col < dimBOuter) {
      ${On}
    }
    return ${(0,tt.typeSnippet)(cn)}(0.0);`,Fn=`${(Wn=>{switch(Wn){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${Wn} is not supported.`)}})(An)}`,Bn=(0,tt.typeSnippet)(bn),hn=an?(0,tt.typeSnippet)(cn):(0,tt.typeSnippet)(An),Sn=an?(0,tt.typeSnippet)(An):(0,tt.typeSnippet)(cn);return`
    ${(0,tt.activationFnSnippet)(on,wn,bn===4,4)}
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${hn} {
      ${an?zn:Fn}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${Sn} {
      ${an?Fn:zn}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${Bn}) {
      let col = colIn * ${bn};
      if (row < dimAOuter && col < dimBOuter)
      {
      var value = valueIn;
      let outWidth = ${an?"outShape[2]":"outShape[3]"};
      ${xn}
      ${(0,tt.biasActivationSnippet)(en,on)}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`})(pt,Ft,Ut,zt,dt,void 0,!1,Wt[0],Wt[1],Wt[2])}
            ${_t?(0,at.makeMatMulPackedVec4Source)(Pt,Tt,!pt,kt):(0,at.makeMatMulPackedSource)(Pt,Tt,!pt,kt,!1,void 0,ft)}`})}},4085:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.utilFunctions=void 0,i.utilFunctions=`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));
}
`},158:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.makeMatMulPackedSource=i.makeMatMulPackedVec4Source=void 0,i.makeMatMulPackedVec4Source=(s,j,et=!1,tt=32,rt=!1,at=32,ot=!1)=>{const st=j[1]*s[1],_e=j[0]*s[0],$=et?st:tt,nt=et?tt:st,it=$/j[0],lt=tt/j[1];if((!et||it!==4||s[1]!==4)&&(et||it!==3&&it!==4)||$%j[0]!=0||tt%j[1]!=0||s[0]!==4)throw new Error(`If transposeA ${et} is true, innerElementSize ${it} and workPerThread[1] ${s[1]} must be 4.
      Otherwise, innerElementSize ${it} must be 3 or 4.
  tileAWidth ${$} must be divisible by workgroupSize[0]${j[0]}. tileInner ${tt} must be divisible by workgroupSize[1] ${j[1]}. colPerThread ${s[0]} must be 4.`);return`
var<workgroup> mm_Asub : array<array<vec${it}<f32>, ${$/it}>, ${nt}>;
var<workgroup> mm_Bsub : array<array<vec4<f32>, ${_e/s[0]}>, ${tt}>;

const rowPerThread = ${s[1]};
const colPerThread = ${s[0]};
const innerElementSize = ${it};
const tileInner = ${tt};

@compute @workgroup_size(${j[0]}, ${j[1]}, ${j[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = ${ot?"0":"localRow * rowPerThread"};
  let tileCol = i32(localId.x);

  let globalRow = ${ot?"0":"i32(globalId.y) * rowPerThread"};
  let globalCol = i32(globalId.x);
  let batch = ${rt?"0":"i32(globalId.z)"};
  let globalRowStart = i32(workgroupId.y) * ${st};

  let numTiles = ${rt?`${Math.ceil(at/tt)}`:"(dimInner - 1) / tileInner + 1"};
  var kStart = ${rt?`i32(globalId.z) * ${at}`:"0"};

  var acc: array<vec4<f32>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${lt};
  for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${dt=et,dt?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol);
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol);
        `}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${lt}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${it===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${((ft,pt)=>ft?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${pt===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${pt===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${pt===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`)(et,it)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`;var dt};const a=s=>s?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol);
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol);
            `;i.makeMatMulPackedSource=(s,j,et=!1,tt=32,rt=!1,at=32,ot=!1)=>{const st=s[1]*j[1],_e=s[0]*j[0],$=et?st:tt,nt=et?tt:st;if(nt%j[1]!=0||$%j[0]!=0||tt%j[1]!=0)throw new Error(`tileAHight ${nt} must be divisible by workgroupSize[1]${j[1]}, tileAWidth ${$} must be divisible by workgroupSize[0]${j[0]}, tileInner ${tt} must be divisible by workgroupSize[1]${j[1]}`);const it=nt/j[1],lt=$/j[0],dt=tt/j[1],ft=ot?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${st};
    let globalColStart = i32(workgroupId.x) * ${_e};

    // Loop over shared dimension.
    for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${nt}; inputRow = inputRow + ${j[1]}) {
        for (var inputCol = localCol; inputCol < ${$}; inputCol = inputCol + ${j[0]}) {
          ${a(et)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${tt}; inputRow = inputRow + ${j[1]}) {
            for (var inputCol = localCol; inputCol < ${_e}; inputCol = inputCol + ${j[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol);
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<f32, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${j[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${et?`mm_Asub[k][localRow + innerRow * ${j[1]}];`:`mm_Asub[localRow + innerRow * ${j[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${j[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${j[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${st};

let tileRowA = i32(localId.y) * ${it};
let tileColA = i32(localId.x) * ${lt};
let tileRowB = i32(localId.y) * ${dt};
// Loop over shared dimension.
for (var t = 0; t < numTiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${it}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${lt}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${a(et)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${dt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol);
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<f32, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${(pt=>pt?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(et)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<f32, ${$}>, ${nt}>;
  var<workgroup> mm_Bsub : array<array<f32, ${_e}>, ${tt}>;
  const rowPerThread = ${s[1]};
  const colPerThread = ${s[0]};
  const tileInner = ${tt};

@compute @workgroup_size(${j[0]}, ${j[1]}, ${j[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${rt?"0":"i32(globalId.z)"};
    let numTiles = ${rt?`${Math.ceil(at/tt)}`:"(dimInner - 1) / tileInner + 1"};
    var kStart = ${rt?`i32(globalId.z) * ${at}`:"0"};

    var acc : array<array<f32, colPerThread>, rowPerThread>;

    // Without this initialization strange values show up in acc.
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = 0.0;
      }
    }
    ${ft}
  }
`}},504:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sub=i.pow=i.mul=i.div=i.add=void 0;const s=a(6952),j=a(1163),et=a(2075),tt=(rt,at,ot,st,_e)=>{const $={name:at,inputTypes:[j.GpuDataType.default,j.GpuDataType.default],cacheHint:_e};return Object.assign(Object.assign({},$),{get:()=>((nt,it,lt,dt,ft,pt=it.dataType)=>{var ht,gt;const mt=!s.ShapeUtil.areEqual(it.dims,lt.dims);let yt=it.dims,bt=s.ShapeUtil.size(it.dims),_t=!1;if(mt){const xt=s.BroadcastUtil.calcShape(it.dims,lt.dims,!1);if(!xt)throw new Error("Can't perform binary op on the given tensors");yt=xt,bt=s.ShapeUtil.size(yt);let Et=1;for(let Tt=0;Tt<yt.length;Tt++){const Pt=(ht=it.dims[it.dims.length-Tt])!==null&&ht!==void 0?ht:1;if(Pt!==((gt=lt.dims[lt.dims.length-Tt])!==null&&gt!==void 0?gt:1))break;Et*=Pt}Et%4==0&&(_t=!0)}else _t=!0;return Object.assign(Object.assign({},nt),{getShaderSource:xt=>((Et,Tt,Pt,At,Ot,It,$t,kt,Ft="f32",Ut="f32",zt="f32")=>{const Wt=s.ShapeUtil.size(At),Qt=Math.ceil(Wt/4);let un,an;typeof $t=="string"?un=an=(en,on)=>`${$t}((${en}),(${on}))`:typeof $t=="function"?un=an=$t:(un=$t.scalar,an=$t.vector);let vn="";const fn=(0,et.createIndicesHelper)("output",At);if(It){const en=on=>{const wn=s.ShapeUtil.computeStrides(on),cn=[];for(let An=on.length-1;An>=0;An--){const bn=At.length===0?"0u":At.length===1?"(*outputIndices)":`(*outputIndices)[${An+At.length-on.length}]`;cn.push(`${wn[An]}u * (${bn} % ${on[An]}u)`)}return cn.length>0?cn.join("+"):"0u"};vn=`
  ${fn.o2iImpl}

  fn calcOffsetA(outputIndices: ptr<function, ${fn.iType}>) -> u32 {
    return ${en(Tt)};
  }

  fn calcOffsetB(outputIndices: ptr<function, ${fn.iType}>) -> u32 {
    return ${en(Pt)};
  }
  `}let jt;if(Ot)jt=It?`
      ${fn.indicesVariableDeclaration("outputIndices")}
      ${fn.o2iCall("global_idx * 4u","outputIndices")}
      let offsetA = calcOffsetA(&outputIndices);
      let offsetB = calcOffsetB(&outputIndices);
      outputData[global_idx] = ${an("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${an("aData[global_idx]","bData[global_idx]")};`;else{if(!It)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const en=on=>{const wn=`aData[indexA${on}][componentA${on}]`,cn=`bData[indexB${on}][componentB${on}]`;return`
      ${fn.o2iCall(`global_idx * 4u + ${on}u`,"outputIndices")}
      let offsetA${on} = calcOffsetA(&outputIndices);
      let offsetB${on} = calcOffsetB(&outputIndices);
      let indexA${on} = offsetA${on} / 4u;
      let indexB${on} = offsetB${on} / 4u;
      let componentA${on} = offsetA${on} % 4u;
      let componentB${on} = offsetB${on} % 4u;
      outputData[global_idx][${on}] = ${un(wn,cn)};`};jt=`
      ${fn.indicesVariableDeclaration("outputIndices")}
      ${en(0)}
      ${en(1)}
      ${en(2)}
      ${en(3)}`}return`
  @group(0) @binding(0) var<storage, read> aData : array<vec4<${Ft}>>;
  @group(0) @binding(1) var<storage, read> bData : array<vec4<${Ut}>>;
  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${zt}>>;

  ${kt??""}
  ${vn}

  ${Et.mainStart()}
    ${Et.guardAgainstOutOfBoundsWorkgroupSizes(Qt)}
    ${jt}
  }`})(xt,it.dims,lt.dims,yt,_t,mt,dt,ft),outputs:[{dims:yt,dataType:pt,gpuDataType:j.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(bt/64/(_t?4:1))})})})($,rt[0],rt[1],ot,st)})};i.add=rt=>{rt.compute(tt(rt.inputs,"Add",(at,ot)=>`${at}+${ot}`))},i.div=rt=>{rt.compute(tt(rt.inputs,"Div",(at,ot)=>`${at}/${ot}`))},i.mul=rt=>{rt.compute(tt(rt.inputs,"Mul",(at,ot)=>`${at}*${ot}`))},i.pow=rt=>{rt.compute(tt(rt.inputs,"Pow",{scalar:(at,ot)=>`pow_f32(${at},${ot})`,vector:(at,ot)=>`pow_vf32(${at},${ot})`},`
    fn pow_f32(a : f32, b : f32) -> f32 {
      if (b == 0.0) {
        return 1.0;
      } else if (a < 0.0 && b != floor(b)) {
        return pow(a, b); // NaN
      }
      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);
    }
    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {
      // TODO: implement vectorized pow
      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));
    }
      `))},i.sub=rt=>{rt.compute(tt(rt.inputs,"Sub",(at,ot)=>`${at}-${ot}`))}},2075:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createShaderHelper=i.createIndicesHelper=i.WORKGROUP_SIZE=void 0;const s=a(6952);i.WORKGROUP_SIZE=64,i.createIndicesHelper=(et,tt)=>{const rt=tt.length<2?"u32":`array<u32, ${tt.length}>`,at=s.ShapeUtil.computeStrides(tt);let ot="";for(let $=0;$<tt.length-1;$++)ot+=`
    let dim${$} = current / ${at[$]}u;
    let rest${$} = current % ${at[$]}u;
    (*indices)[${$}] = dim${$};
    current = rest${$};
    `;ot+=`(*indices)[${tt.length-1}] = current;`;const st=tt.length<2?"":`
  fn ih_o2i_${et}(offset: u32, indices: ptr<function, ${rt}>) {
    var current = offset;
    ${ot}
  }`,_e=[];if(tt.length===0)_e.push("0u");else if(tt.length<2)_e.push("(*indices)");else for(let $=tt.length-1;$>=0;$--)_e.push(`${at[$]}u * ((*indices)[${$}])`);return{o2iImpl:st,o2iCall:($,nt)=>tt.length<2?`${nt}=${$};`:`ih_o2i_${et}(${$}, &${nt});`,i2oImpl:tt.length<2?"":`
  fn ih_i2o_${et}(indices: ptr<function, ${rt}>) -> u32 {
    return ${_e.join("+")};
  }`,i2oExpression:($,nt)=>tt.length<2?`(${nt?"*":""}${$})`:`ih_i2o_${et}(${nt?"":"&"}${$})`,indicesVariableDeclaration:($,nt)=>`var ${$}:${rt}${nt?`=${rt}(${nt.join(",")})`:""};`,iType:rt}};class j{constructor(tt){this.normalizedDispatchGroup=tt}guardAgainstOutOfBoundsWorkgroupSizes(tt){return`if (global_idx >= ${typeof tt=="number"?`${tt}u`:tt}) { return; }`}mainStart(tt=i.WORKGROUP_SIZE){const rt=typeof tt=="number"?tt:tt[0],at=typeof tt=="number"?1:tt[1],ot=typeof tt=="number"?1:tt[2],st=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1;return`@compute @workgroup_size(${rt}, ${at}, ${ot})
  fn main(${st?"@builtin(global_invocation_id) global_id : vec3<u32>":`@builtin(local_invocation_index) local_index : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>`}) {
    ${st?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +
          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${rt*at*ot}u + local_index;`}
  `}}i.createShaderHelper=et=>new j(et)},9192:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createGroupedConvProgramInfoLoader=void 0;const s=a(6952),j=a(1163),et=a(2075),tt=a(9770),rt=a(3997);i.createGroupedConvProgramInfoLoader=(at,ot,st)=>{const _e=($=at.length>2,nt=ot.cacheKey,{name:"GroupedConv",inputTypes:$?[j.GpuDataType.default,j.GpuDataType.default,j.GpuDataType.default]:[j.GpuDataType.default,j.GpuDataType.default],cacheHint:nt});var $,nt;return Object.assign(Object.assign({},_e),{get:()=>((it,lt,dt,ft)=>{const pt=it.length>2,ht=pt?"value += b[output_channel];":"",gt=it[0].dims,mt=it[1].dims,yt=mt[0]/dt.group,bt="f32",{activationFunction:_t,applyActivation:xt}=(0,rt.getActicationSnippet)(dt),Et=[`@group(0) @binding(0) var<storage, read> x : array<${bt}>;`,`@group(0) @binding(1) var<storage, read> w : array<${bt}>;`];pt&&Et.push(`@group(0) @binding(2) var<storage, read> b : array<${bt}>;`);const Tt=dt.format==="NHWC",Pt=(0,tt.calculateOutputShape)(gt,mt,dt.dilations,dt.pads,dt.strides,Tt),At=s.ShapeUtil.size(Pt),Ot=(0,et.createIndicesHelper)("output",Pt),It=(0,et.createIndicesHelper)("x",gt),$t=(0,et.createIndicesHelper)("w",mt);return Object.assign(Object.assign({},lt),{outputs:[{dims:ft?ft(Pt):Pt,dataType:it[0].dataType,gpuDataType:j.GpuDataType.default}],getShaderSource:kt=>`
  const strides: vec2<u32> = vec2(${dt.strides[0]}u, ${dt.strides[1]}u);
  const pads: vec2<u32> = vec2(${dt.pads[0]}u, ${dt.pads[1]}u);

  ${Et.join(`
`)}
  @group(0) @binding(${Et.length}) var<storage, read_write> output : array<${bt}>;

  ${_t}
  ${Ot.o2iImpl}
  ${It.i2oImpl}
  ${$t.i2oImpl}

  ${kt.mainStart()}
    ${kt.guardAgainstOutOfBoundsWorkgroupSizes(At)}

    ${Ot.indicesVariableDeclaration("outputIndices")}
    ${Ot.o2iCall("global_idx","outputIndices")}
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${Tt?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${Tt?1:2}], outputIndices[${Tt?2:3}]) * strides - pads;
    let group_id: u32 = output_channel / ${yt}u;

    var value: ${bt} = ${bt}(0);
    for (var wInChannel: u32 = 0u; wInChannel < ${mt[1]}u; wInChannel++) {
      let input_channel = group_id * ${mt[1]}u + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < ${mt[2]}u; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * ${dt.dilations[0]}u;

        if (xHeight < 0u || xHeight >= ${gt[Tt?1:2]}u) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < ${mt[3]}u; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * ${dt.dilations[1]}u;
          if (xWidth < 0u || xWidth >= ${gt[Tt?2:3]}u) {
            continue;
          }

          ${It.indicesVariableDeclaration("xIndices",Tt?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}
          let xVal = x[${It.i2oExpression("xIndices")}];
          ${$t.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}
          let wVal = w[${$t.i2oExpression("wIndices")}];
          value += xVal*wVal;
        }
      }
    }
    ${ht}
    ${xt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(At/64)})})})(at,_e,ot,st)})}},9770:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.conv=i.parseConvAttributes=i.calculateOutputShape=void 0;const s=a(6952),j=a(387),et=a(9192),tt=a(3822),rt=a(3997),at=a(2625);i.calculateOutputShape=(_e,$,nt,it,lt,dt)=>{const ft=_e[0],pt=_e.slice(dt?1:2,dt?3:4),ht=pt.length,gt=$[0],mt=$.slice(2).map((bt,_t)=>bt+(bt-1)*(nt[_t]-1)),yt=pt.map((bt,_t)=>bt+it[_t]+it[_t+ht]).map((bt,_t)=>Math.floor((bt-mt[_t]+lt[_t])/lt[_t]));return yt.splice(0,0,ft),yt.splice(dt?3:1,0,gt),yt};const ot=(0,j.createAttributeWithCacheKey)({perm:[2,3,1,0]}),st=(_e,$)=>{const nt=_e.kernelShape.slice();for(let dt=2;dt<$[1].dims.length;++dt)nt[dt-2]===0&&(nt[dt-2]=$[1].dims[dt]);const it=_e.pads.slice();s.PoolConvUtil.adjustPadsBasedOnAutoPad($[0].dims,_e.strides,_e.dilations,nt,it,_e.format==="NHWC",_e.autoPad);const lt=Object.assign({},_e);return Object.assign(lt,{kernelShape:nt,pads:it,cacheKey:_e.cacheKey}),lt};i.parseConvAttributes=_e=>{const $=(0,rt.parseInternalActivationAttributes)(_e),nt=_e.format,it=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][_e.auto_pad],lt=_e.dilations,dt=_e.group,ft=_e.kernel_shape,pt=_e.pads,ht=_e.strides,gt=_e.w_is_const();return(0,j.createAttributeWithCacheKey)(Object.assign({autoPad:it,format:nt,dilations:lt,group:dt,kernelShape:ft,pads:pt,strides:ht,wIsConst:gt},$))},i.conv=(_e,$)=>{((nt,it)=>{if(!nt||nt.length!==2&&nt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(nt[0].dims.length!==4&&nt[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(nt[0].dims.length!==nt[1].dims.length)throw new Error("filter does not have same dimension as input");if(nt[0].dims[it.format==="NHWC"?nt[0].dims.length-1:1]!==nt[1].dims[1]*it.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(nt.length===3&&(nt[2].dims.length!==1||nt[1].dims[0]!==nt[2].dims[0]))throw new Error("invalid bias");const lt=nt[0].dims.length-2;if(it.dilations.length!==lt)throw new Error(`dilations should be ${lt}D`);if(it.strides.length!==lt)throw new Error(`strides should be ${lt}D`);if(it.pads.length!==2*lt)throw new Error(`pads should be ${2*lt}D`);if(it.kernelShape.length!==0&&it.kernelShape.length!==nt[1].dims.length-2)throw new Error("invalid kernel shape");if(nt[0].dataType!==1||nt[1].dataType!==1)throw new Error("Conv input(X,W) should be float tensor");if(nt.length===3&&nt[2].dataType!==1)throw new Error("Conv input(bias) should be float tensor")})(_e.inputs,$),_e.inputs[0].dims.length===3?((nt,it)=>{const lt=it.format==="NHWC",dt=[nt.inputs[0].reshape(lt?[nt.inputs[0].dims[0],1,nt.inputs[0].dims[1],nt.inputs[0].dims[2]]:[nt.inputs[0].dims[0],nt.inputs[0].dims[1],1,nt.inputs[0].dims[2]]),nt.inputs[1].reshape([nt.inputs[1].dims[0],nt.inputs[1].dims[1],1,nt.inputs[1].dims[2]])];nt.inputs.length===3&&dt.push(nt.inputs[2]);const ft=[0,it.pads[0],0,it.pads[1]],pt=[1].concat(it.strides),ht=[1].concat(it.dilations),gt=[1].concat(it.kernelShape),mt=st(Object.assign(Object.assign({},it),{pads:ft,strides:pt,dilations:ht,kernelShape:gt}),dt);nt.compute((0,et.createGroupedConvProgramInfoLoader)(dt,mt,yt=>lt?[yt[0],yt[2],yt[3]]:[]))})(_e,$):((nt,it,lt)=>{var dt;const ft=st(lt,it),pt=it.length===3,ht=lt.format==="NHWC",gt=it[0].dims[ht?1:2],mt=it[0].dims[ht?2:3],yt=it[0].dims[ht?3:1],bt=it[1].dims[2],_t=it[1].dims[3],xt=(0,i.calculateOutputShape)(it[0].dims,it[1].dims,lt.dilations,ft.pads,lt.strides,ht),Et=xt[ht?1:2],Tt=xt[ht?2:3],Pt=xt[ht?3:1];if(ht&&bt===gt&&_t===mt&&lt.autoPad==="VALID"||bt===1&&_t===1&&lt.dilations[0]===1&&lt.dilations[1]===1&&lt.strides[0]===1&&lt.strides[1]===1&&(lt.autoPad==="SAME_UPPER"||lt.autoPad==="SAME_LOWER"||lt.autoPad==="VALID")||!ht||lt.group!==1)return void nt.compute((0,et.createGroupedConvProgramInfoLoader)(it,ft));const At=ht?Et*Tt:Pt,Ot=ht?Pt:Et*Tt,It=bt*_t*yt,$t=(dt=nt.customData.wT)!==null&&dt!==void 0?dt:nt.compute(Object.assign(Object.assign({},at.transposeProgramMetadata),{cacheHint:ot.cacheKey,get:()=>(0,at.createTransposeProgramInfo)(it[1],ot.perm)}),{inputs:[1],outputs:[lt.wIsConst?-2:-1]})[0];lt.wIsConst&&!nt.customData.wT&&(nt.customData.wT=$t);const kt=[it[0],$t];pt&&(ht||it[2].dims.length!==1?kt.push(it[2]):kt.push(it[2].reshape([it[2].dims[0],1,1]))),nt.compute((0,tt.createConv2DMatMulProgramInfoLoader)(kt,ft,xt,At,Ot,It,pt,!0),{inputs:kt})})(_e,_e.inputs,$)}},3822:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createConv2DMatMulProgramInfoLoader=void 0;const s=a(1163),j=a(9456);i.createConv2DMatMulProgramInfoLoader=(et,tt,rt,at,ot,st,_e,$)=>{const nt=((it,lt)=>({name:"Conv2DMatMul",inputTypes:it?[s.GpuDataType.default,s.GpuDataType.default,s.GpuDataType.default]:[s.GpuDataType.default,s.GpuDataType.default],cacheHint:lt}))(_e,tt.cacheKey);return Object.assign(Object.assign({},nt),{get:()=>(0,j.createConv2DMatMulProgramInfo)(et,nt,tt,rt,at,ot,st,_e,$)})}},3997:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInternalActivationAttributes=i.getActicationSnippet=void 0;const s=a(6952);i.getActicationSnippet=j=>{switch(j.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${j.clipMin});const clip_max_=f32(${j.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},i.parseInternalActivationAttributes=j=>{const et=(j==null?void 0:j.activation)||"";if(et==="Clip"){const[tt,rt]=(j==null?void 0:j.activation_params)||[s.MIN_CLIP,s.MAX_CLIP];return{activation:et,clipMax:rt,clipMin:tt,activationCacheKey:`${et}:${tt},${rt}`}}return{activation:et,activationCacheKey:et}}},4271:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGemmAttributes=i.gemm=void 0;const s=a(6952),j=a(387),et=a(1163);i.gemm=(tt,rt)=>{(at=>{if(!at)throw new Error("Input is missing");if(at.length<2||at.length>3)throw new Error("Invaid input number.");if(at.length===3&&at[2].dims.length>2)throw new Error("Invalid input shape of C");if(at[0].dataType!==1||at[1].dataType!==1||at.length===3&&at[2].dataType!==1)throw new Error("Invalid input type.");if(at[0].dataType!==at[1].dataType||at.length===3&&at[0].dataType!==at[2].dataType)throw new Error("Input types are mismatched")})(tt.inputs),tt.compute(((at,ot)=>{const st={name:"Gemm",inputTypes:at.length===3?[et.GpuDataType.default,et.GpuDataType.default,et.GpuDataType.default]:[et.GpuDataType.default,et.GpuDataType.default],cacheHint:ot.cacheKey};return Object.assign(Object.assign({},st),{get:()=>((_e,$,nt)=>{const it=$[0].dims.slice(),lt=$[1].dims.slice(),[dt,ft,pt]=s.GemmUtil.getShapeOfGemmResult(it,nt.transA,lt,nt.transB,$.length===3?$[2].dims:void 0),ht=[dt,ft];if(!ht)throw new Error("Can't use gemm on the given tensors");const gt=s.ShapeUtil.size(ht);let mt="";nt.transA&&nt.transB?mt="value += a[k * M + m] * b[n * K + k];":nt.transA&&!nt.transB?mt="value += a[k * M + m] * b[k * N + n];":!nt.transA&&nt.transB?mt="value += a[m * K + k] * b[n * K + k];":nt.transA||nt.transB||(mt="value += a[m * K + k] * b[k * N + n];");const yt="f32",bt=nt.alpha===1?"":"value *= alpha;",_t=$.length===3?`value += beta * c[${((Et,Tt,Pt)=>{if(Pt.length===0)return"0u";const At=Pt.length===1&&Et!==1||Pt.length===2&&Pt[0]!==Et,Ot=Pt[Pt.length-1]!==Tt;let It="0u";return At||(It+=`+ m * ${Pt[Pt.length-1]}u`),Ot||(It+="+n"),It})(dt,ft,$[2].dims)}];`:"",xt=[`@group(0) @binding(0) var<storage, read> a : array<${yt}>;`,`@group(0) @binding(1) var<storage, read> b : array<${yt}>;`];return $.length===3&&xt.push(`@group(0) @binding(2) var<storage, read> c : array<${yt}>;`),Object.assign(Object.assign({},_e),{outputs:[{dims:ht,dataType:$[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:Et=>`
  const M: u32 = ${dt}u;
  const N: u32 = ${ft}u;
  const K: u32 = ${pt}u;
  const alpha = ${yt}(${nt.alpha});
  const beta = ${yt}(${nt.beta});

  ${xt.join(`
`)}
  @group(0) @binding(${$.length}) var<storage, read_write> output : array<${yt}>;

  ${Et.mainStart()}
    ${Et.guardAgainstOutOfBoundsWorkgroupSizes(gt)}

    let m = global_id.x / N;
    let n = global_id.x % N;

    var value = ${yt}(0);
    for (var k: u32 = 0u; k<${pt}u; k++) {
      ${mt}
    }

    ${bt}
    ${_t}
    output[global_id.x] = value;

  }`,dispatchGroup:()=>({x:Math.ceil(gt/64)})})})(st,at,ot)})})(tt.inputs,rt))},i.parseGemmAttributes=tt=>(0,j.createAttributeWithCacheKey)(tt)},1522:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.matMul=i.createMatmulProgramInfoLoader=void 0;const s=a(6952),j=a(1163),et=a(3997);i.createMatmulProgramInfoLoader=(tt,rt)=>{const at=(ot=tt.length>2,st=rt.activationCacheKey,{name:"MatMul",inputTypes:ot?[j.GpuDataType.default,j.GpuDataType.default,j.GpuDataType.default]:[j.GpuDataType.default,j.GpuDataType.default],cacheHint:st});var ot,st;return Object.assign(Object.assign({},at),{get:()=>((_e,$,nt)=>{const it=$[0].dims,lt=$[1].dims,dt=s.BroadcastUtil.calcShape(it,lt,!0);if(!dt)throw new Error("Can't use matmul on the given tensors");const ft=s.ShapeUtil.size(dt),pt="f32",{activationFunction:ht,applyActivation:gt}=(0,et.getActicationSnippet)(nt),mt=dt[dt.length-2],yt=it[it.length-1],bt=dt[dt.length-1];return Object.assign(Object.assign({},_e),{outputs:[{dims:dt,dataType:$[0].dataType,gpuDataType:j.GpuDataType.default}],getShaderSource:_t=>`
  const M: u32 = ${mt}u;
  const N: u32 = ${bt}u;
  const K: u32 = ${yt}u;

  @group(0) @binding(0) var<storage, read> a : array<${pt}>;
  @group(0) @binding(1) var<storage, read> b : array<${pt}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${pt}>;

  ${ht}

  ${_t.mainStart()}
    ${_t.guardAgainstOutOfBoundsWorkgroupSizes(ft)}

    let stack = global_idx / (M * N);
    let mn = global_idx % (M * N);
    let n = global_idx % N;
    let m = mn / N;

    let offsetA = stack * (M * K);
    let offsetB = stack * (K * N);

    var value = ${pt}(0);
    for (var k: u32 = 0u; k<${yt}u; k++) {
      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];
    }
    ${gt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(ft/64)})})})(at,tt,rt)})},i.matMul=tt=>{(rt=>{if(!rt||rt.length!==2)throw new Error("MatMul requires 2 inputs.");if(rt[0].dims[rt[0].dims.length-1]!==rt[1].dims[rt[1].dims.length-2])throw new Error("shared dimension does not match.");if(rt[0].dataType!==1||rt[1].dataType!==1)throw new Error("inputs should be float type")})(tt.inputs),tt.compute((0,i.createMatmulProgramInfoLoader)(tt.inputs,{activation:"",activationCacheKey:""}))}},5262:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.globalMaxPool=i.parseGlobalMaxPoolAttributes=i.parseMaxPoolAttributes=i.maxPool=i.globalAveragePool=i.parseGlobalAveragePoolAttributes=i.averagePool=i.parseAveragePoolAttributes=void 0;const s=a(6952),j=a(387),et=a(1163),tt=a(2075),rt=it=>{if(!it||it.length!==1)throw new Error("Pool ops requires 1 input.");if(it[0].dims.length!==4)throw new Error("Pool ops supports 2-D inputs only for now.");if(it[0].dataType!==1)throw new Error("Invalid input type.")},at=(it,lt,dt)=>{const ft=lt.format==="NHWC",pt=ft?[it[0].dims[0],it[0].dims[3],it[0].dims[1],it[0].dims[2]]:it[0].dims.slice(),ht=Object.hasOwnProperty.call(lt,"dilations"),gt=lt.kernelShape.slice(),mt=lt.strides.slice(),yt=ht?lt.dilations.slice():[],bt=lt.pads.slice();s.PoolConvUtil.adjustPoolAttributes(dt,pt,gt,mt,yt,bt);const _t=s.PoolConvUtil.computePoolOutputShape(dt,pt,mt,yt,gt,bt,lt.autoPad),xt=Object.assign({},lt);return ht?Object.assign(xt,{kernelShape:gt,strides:mt,pads:bt,dilations:yt,cacheKey:lt.cacheKey}):Object.assign(xt,{kernelShape:gt,strides:mt,pads:bt,cacheKey:lt.cacheKey}),[xt,ft?[_t[0],_t[2],_t[3],_t[1]]:_t]},ot=(it,lt,dt,ft,pt,ht,gt,mt)=>{const yt=ft.format==="NHWC",bt=lt.length,_t=s.ShapeUtil.size(dt),xt=(0,tt.createIndicesHelper)("output",dt),Et=(0,tt.createIndicesHelper)("x",lt);if(ft.kernelShape.length<=2){const Tt=ft.kernelShape[ft.kernelShape.length-1],Pt=ft.strides[ft.strides.length-1],At=ft.pads[ft.pads.length/2-1],Ot=bt-(yt?2:1);let It="",$t="",kt="";if(It=At+ft.pads[ft.pads.length-1]!==0?`
              for (var i: u32 = 0u; i < ${Tt}u; i++) {
                xIndices[${Ot}] = indices[${Ot}] * ${Pt} - ${At} + i;
                if (xIndices[${Ot}] < 0 || xIndices[${Ot}] >= ${lt[Ot]}) {
                  pad++;
                  continue;
                }
                let x_val = x[${Et.i2oExpression("xIndices")}];
                ${pt}
              }`:`
              for (var i: u32 = 0u; i < ${Tt}u; i++) {
                xIndices[${Ot}] = indices[${Ot}] * ${Pt} - ${At} + i;
                let x_val = x[${Et.i2oExpression("xIndices")}];
                ${pt}
              }`,ft.kernelShape.length===2){const Ft=ft.kernelShape[ft.kernelShape.length-2],Ut=ft.strides[ft.strides.length-2],zt=ft.pads[ft.pads.length/2-2],Wt=ft.pads[ft.pads.length-2],Qt=bt-(yt?3:2),un=lt[Qt];$t=zt+Wt!==0?`
                for (var j: u32 = 0u; j < ${Ft}u; j++) {
                  xIndices[${Qt}] = indices[${Qt}] * ${Ut} - ${zt} + j;
                  if (xIndices[${Qt}] < 0 || xIndices[${Qt}] >= ${un}) {
                    pad+= ${Tt};
                    continue;
                  }
              `:`
                for (var j: u32 = 0u; j < ${Ft}u; j++) {
                  xIndices[${Qt}] = indices[${Qt}] * ${Ut} - ${zt} + j;
                `,kt=`
              }
            `}return`
            @group(0) @binding(0) var<storage, read> x : array<${gt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${gt}>;

            ${xt.o2iImpl}
            ${Et.i2oImpl}

            ${it.mainStart()}
              ${it.guardAgainstOutOfBoundsWorkgroupSizes(_t)}

              ${xt.indicesVariableDeclaration("indices")}
              ${xt.o2iCall("global_idx","indices")}
              ${xt.indicesVariableDeclaration("xIndices")}
              ${xt.o2iCall("global_idx","xIndices")}

              var value: ${gt} = ${gt}(${mt});
              var pad = 0;
              ${$t}
              ${It}
              ${kt}
              ${ht}

              output[global_idx] = value;
            }`}{if(yt)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const Tt=s.ShapeUtil.size(ft.kernelShape),Pt=s.ShapeUtil.computeStrides(ft.kernelShape),At=Pt.length,Ot=ft.pads.length;let It="";return It=ft.pads.reduce(($t,kt)=>$t+kt)?`
                if (xIndices[j] >= inputDims[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${Et.i2oExpression("xIndices")}];
                ${pt}
              }`:`
              }
              let x_val = x[${Et.i2oExpression("xIndices")}];
              ${pt}
            `,`
            @group(0) @binding(0) var<storage, read> x : array<${gt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${gt}>;

            ${xt.o2iImpl}
            ${Et.i2oImpl}

            const pads = array<u32, ${Ot}>(${ft.pads.map($t=>`${$t}u`).join(",")});
            const inputDims = array<u32, ${bt}>(${lt.map($t=>`${$t}u`).join(",")});
            const kernelStrides = array<u32, ${At}>(${Pt.map($t=>`${$t}u`).join(",")});
            const strides = array<u32, ${At}>(${ft.strides.map($t=>`${$t}u`).join(",")});

            ${it.mainStart()}
              ${it.guardAgainstOutOfBoundsWorkgroupSizes(_t)}

              ${xt.indicesVariableDeclaration("indices")}
              ${xt.o2iCall("global_idx","indices")}
              ${xt.indicesVariableDeclaration("xIndices")}
              ${xt.o2iCall("global_idx","xIndices")}

              var offsets: array<u32, ${At}>;

              var value = ${gt}(${mt});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < ${Tt}u; i++) {
                var offset = i;
                for (var j = 0u; j < ${At-1}u; j++) {
                  offsets[j] = offset / kernelStrides[j];
                  offset -= offsets[j] * kernelStrides[j];
                }
                offsets[${At-1}] = offset;

                isPad = false;
                for (var j = ${bt-At}u; j < ${bt}u; j++) {
                  xIndices[j] = indices[j] * strides[j - ${bt-At}u]
                    + offsets[j - ${bt-At}u] - pads[j - 2u];
                  ${It}
              }
              ${ht}

              output[global_idx] = value;
            }`}},st=it=>({format:it.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][it.auto_pad],ceilMode:it.ceil_mode,kernelShape:it.kernel_shape,strides:it.strides,pads:it.pads}),_e=(it,lt,dt,ft)=>{const[pt,ht]=at(it,ft,dt),gt=s.ShapeUtil.size(pt.kernelShape),mt="f32";let yt="";return pt.countIncludePad?yt+=`value /= ${mt}(${gt});`:yt+=`value /= ${mt}(${gt} - pad);`,Object.assign(Object.assign({},lt),{outputs:[{dims:ht,dataType:it[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:bt=>ot(bt,it[0].dims,ht,pt,"value += x_val;",yt,mt,"0.0"),dispatchGroup:()=>({x:Math.ceil(s.ShapeUtil.size(ht)/64)})})};i.parseAveragePoolAttributes=it=>{const lt=it.count_include_pad!==0,dt=st(it);if(dt.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,j.createAttributeWithCacheKey)(Object.assign({countIncludePad:lt},dt))},i.averagePool=(it,lt)=>{rt(it.inputs);const dt={name:"AveragePool",inputTypes:[et.GpuDataType.default],cacheHint:lt.cacheKey};it.compute(Object.assign(Object.assign({},dt),{get:()=>_e(it.inputs,dt,!1,lt)}))};const $={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};i.parseGlobalAveragePoolAttributes=it=>{const lt=it.format;return Object.assign(Object.assign({format:lt},$),{cacheKey:lt})},i.globalAveragePool=(it,lt)=>{rt(it.inputs);const dt={name:"GlobalAveragePool",inputTypes:[et.GpuDataType.default],cacheHint:lt.cacheKey};it.compute(Object.assign(Object.assign({},dt),{get:()=>_e(it.inputs,dt,!0,lt)}))};const nt=(it,lt,dt,ft)=>{const[pt,ht]=at(it,ft,dt);return Object.assign(Object.assign({},lt),{outputs:[{dims:ht,dataType:it[0].dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:gt=>ot(gt,it[0].dims,ht,pt,`
      value = max(x_val, value);
    `,"","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(s.ShapeUtil.size(ht)/64)})})};i.maxPool=(it,lt)=>{rt(it.inputs);const dt={name:"MaxPool",inputTypes:[et.GpuDataType.default],cacheHint:lt.cacheKey};it.compute(Object.assign(Object.assign({},dt),{get:()=>nt(it.inputs,dt,!1,lt)}))},i.parseMaxPoolAttributes=it=>{const lt=it.storage_order,dt=it.dilations,ft=st(it);if(lt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ft.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,j.createAttributeWithCacheKey)(Object.assign({storageOrder:lt,dilations:dt},ft))},i.parseGlobalMaxPoolAttributes=it=>{const lt=it.format;return Object.assign(Object.assign({format:lt},$),{cacheKey:lt})},i.globalMaxPool=(it,lt)=>{rt(it.inputs);const dt={name:"GlobalMaxPool",inputTypes:[et.GpuDataType.default],cacheHint:lt.cacheKey};it.compute(Object.assign(Object.assign({},dt),{get:()=>nt(it.inputs,dt,!0,lt)}))}},2625:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseTransposeAttributes=i.transpose=i.createTransposeProgramInfo=i.transposeProgramMetadata=void 0;const s=a(6952),j=a(387),et=a(1163),tt=a(2075);i.transposeProgramMetadata={name:"Transpose",inputTypes:[et.GpuDataType.default]};const rt=(at,ot)=>ot&&ot.length!==at.length?[...at.keys()].reverse():ot;i.createTransposeProgramInfo=(at,ot)=>{const st=at.dims,_e=rt(st,ot),$=((ft,pt)=>s.ShapeUtil.sortBasedOnPerm(ft,rt(ft,pt)))(st,_e),nt=st.length,it=s.ShapeUtil.size($),lt=(0,tt.createIndicesHelper)("output",$),dt=(0,tt.createIndicesHelper)("a",st);return Object.assign(Object.assign({},i.transposeProgramMetadata),{outputs:[{dims:$,dataType:at.dataType,gpuDataType:et.GpuDataType.default}],getShaderSource:ft=>`
  @group(0) @binding(0) var<storage, read> a : array<f32>;
  @group(0) @binding(1) var<storage, read_write> output : array<f32>;

  ${((pt,ht)=>{const gt=[];gt.push(`fn perm(a: ptr<function, array<u32, ${ht}>>, i: ptr<function, array<u32, ${ht}>>) {`);for(let mt=0;mt<ht;++mt)gt.push(`	(*a)[${pt[mt]}]=(*i)[${mt}];`);return gt.push("	}"),gt.join(`
`)})(_e,nt)}
  ${lt.o2iImpl}
  ${dt.i2oImpl}

  ${ft.mainStart()}
    ${ft.guardAgainstOutOfBoundsWorkgroupSizes(it)}

    ${lt.indicesVariableDeclaration("indices")}
    ${lt.o2iCall("global_idx","indices")}
    ${dt.indicesVariableDeclaration("aIndices")}
    perm(&aIndices, &indices);

    output[global_idx] = a[${dt.i2oExpression("aIndices")}];
  }`,dispatchGroup:()=>({x:Math.ceil(it/64)})})},i.transpose=(at,ot)=>{(st=>{if(!st||st.length!==1)throw new Error("Transpose requires 1 input.");if(st[0].dataType!==1)throw new Error("input should be float tensor")})(at.inputs),at.compute(Object.assign(Object.assign({},i.transposeProgramMetadata),{cacheHint:ot.cacheKey,get:()=>(0,i.createTransposeProgramInfo)(at.inputs[0],ot.perm)}))},i.parseTransposeAttributes=at=>(0,j.createAttributeWithCacheKey)({perm:at.perm})},9302:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.thresholdedRelu=i.tanh=i.tan=i.sqrt=i.sinh=i.sin=i.sigmoid=i.relu=i.reciprocal=i.neg=i.leakyRelu=i.floor=i.exp=i.erf=i.elu=i.parseAlphaAttributes=i.cosh=i.cos=i.ceil=i.clip=i.clipV10=i.atanh=i.atan=i.asinh=i.asin=i.acosh=i.acos=i.abs=void 0;const s=a(6952),j=a(387),et=a(1163),tt=(rt,at,ot,st,_e)=>{const $={name:at,inputTypes:[et.GpuDataType.default],cacheHint:_e};return Object.assign(Object.assign({},$),{get:()=>((nt,it,lt,dt)=>Object.assign(Object.assign({},nt),{getShaderSource:ft=>((pt,ht,gt,mt)=>{const yt=Math.ceil(ht/4);let bt="";return bt=typeof gt=="string"?`${gt}(a)`:gt("a"),`
  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;
  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;

  ${mt??""}

  ${pt.mainStart()}
    ${pt.guardAgainstOutOfBoundsWorkgroupSizes(yt)}

    let a = inputData[global_idx];
    outputData[global_idx] = ${bt};
  }`})(ft,s.ShapeUtil.size(it.dims),lt,dt),outputs:[{dims:it.dims,dataType:it.dataType,gpuDataType:et.GpuDataType.default}],dispatchGroup:ft=>({x:Math.ceil(s.ShapeUtil.size(ft[0].dims)/64/4)})}))($,rt,ot,st)})};i.abs=rt=>{rt.compute(tt(rt.inputs[0],"Abs","abs"))},i.acos=rt=>{rt.compute(tt(rt.inputs[0],"Acos","acos"))},i.acosh=rt=>{rt.compute(tt(rt.inputs[0],"Acosh","acosh"))},i.asin=rt=>{rt.compute(tt(rt.inputs[0],"Asin","asin"))},i.asinh=rt=>{rt.compute(tt(rt.inputs[0],"Asinh","asinh"))},i.atan=rt=>{rt.compute(tt(rt.inputs[0],"Atan","atan"))},i.atanh=rt=>{rt.compute(tt(rt.inputs[0],"Atanh","atanh"))},i.clipV10=(rt,at)=>{rt.compute(tt(rt.inputs[0],"Clip",ot=>`clamp(${ot}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<f32> = vec4(f32(${at.min}));
    const clip_max_: vec4<f32> = vec4(f32(${at.max}));
`,at.cacheKey),{inputs:[0]})},i.clip=rt=>{const at=(ot=>{const st=ot.length>=2?ot[1].getFloat32Array()[0]:s.MIN_CLIP,_e=ot.length>=3?ot[2].getFloat32Array()[0]:s.MAX_CLIP;return(0,j.createAttributeWithCacheKey)({min:st,max:_e})})(rt.inputs);(0,i.clipV10)(rt,at)},i.ceil=rt=>{rt.compute(tt(rt.inputs[0],"Ceil","ceil"))},i.cos=rt=>{rt.compute(tt(rt.inputs[0],"Cos","cos"))},i.cosh=rt=>{rt.compute(tt(rt.inputs[0],"Cosh","cosh"))},i.parseAlphaAttributes=rt=>(0,j.createAttributeWithCacheKey)(rt),i.elu=(rt,at)=>{rt.compute(tt(rt.inputs[0],"Elu",ot=>`elu_vf32(${ot})`,`
  const elu_alpha_: f32 = f32(${at.alpha});

  fn elu_f32(a: f32) -> f32 {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,at.cacheKey))},i.erf=rt=>{rt.compute(tt(rt.inputs[0],"Erf",at=>`erf_vf32(${at})`,`
  const r0: f32 = 0.3275911;
  const r1: f32 = 0.254829592;
  const r2: f32 = -0.284496736;
  const r3: f32 = 1.421413741;
  const r4: f32 = -1.453152027;
  const r5: f32 = 1.061405429;

  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {
    let absv = abs(v);
    let x = 1.0 / (1.0 + r0 * absv);
    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
  }`))},i.exp=rt=>{rt.compute(tt(rt.inputs[0],"Exp","exp"))},i.floor=rt=>{rt.compute(tt(rt.inputs[0],"Floor","floor"))},i.leakyRelu=(rt,at)=>{rt.compute(tt(rt.inputs[0],"LeakyRelu",ot=>`select(leaky_relu_alpha_ * ${ot}, ${ot}, ${ot} >= vec4<f32>(0.0))`,`const leaky_relu_alpha_: f32 = f32(${at.alpha});`,at.cacheKey))},i.neg=rt=>{rt.compute(tt(rt.inputs[0],"Neg",at=>`-${at}`))},i.reciprocal=rt=>{rt.compute(tt(rt.inputs[0],"Reciprocal",at=>`1.0/${at}`))},i.relu=rt=>{rt.compute(tt(rt.inputs[0],"Relu",at=>`select(vec4<f32>(0.0), ${at}, ${at} > vec4<f32>(0.0))`))},i.sigmoid=rt=>{rt.compute(tt(rt.inputs[0],"Sigmoid",at=>`(1.0 / (1.0 + exp(-${at})))`))},i.sin=rt=>{rt.compute(tt(rt.inputs[0],"Sin","sin"))},i.sinh=rt=>{rt.compute(tt(rt.inputs[0],"Sinh","sinh"))},i.sqrt=rt=>{rt.compute(tt(rt.inputs[0],"Sqrt","sqrt"))},i.tan=rt=>{rt.compute(tt(rt.inputs[0],"Tan","tan"))},i.tanh=rt=>{rt.compute(tt(rt.inputs[0],"Tanh","tanh"))},i.thresholdedRelu=(rt,at)=>(rt.compute(tt(rt.inputs[0],"ThresholdedRelu",ot=>`select(vec4<f32>(0.0), ${ot}, ${ot} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${at.alpha});`,at.cacheKey)),0)},8305:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ProgramManager=void 0;const s=a(4955),j=a(2075);i.ProgramManager=class{constructor(et){this.backend=et,this.repo=new Map,this.attributesBound=!1}getArtifact(et){return this.repo.get(et)}setArtifact(et,tt){this.repo.set(et,tt)}run(et,tt,rt,at){const ot=this.backend.device,st=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&st.writeTimestamp(this.backend.profilingQuerySet,0),st.setPipeline(et.computePipeline);const _e=[];for(const nt of tt)_e.push({binding:_e.length,resource:{buffer:nt.buffer}});for(const nt of rt)_e.push({binding:_e.length,resource:{buffer:nt.buffer}});const $=ot.createBindGroup({layout:et.computePipeline.getBindGroupLayout(0),entries:_e});if(st.setBindGroup(0,$),st.dispatchWorkgroups(...at),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){st.writeTimestamp(this.backend.profilingQuerySet,1);const nt=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),it=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,nt.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(nt.buffer,0,it.buffer,0,16),this.backend.flush();const lt=this.backend.currentKernelId,dt=this.backend.kernels.get(lt)[0];it.buffer.mapAsync(GPUMapMode.READ).then(()=>{const ft=new BigUint64Array(it.buffer.getMappedRange()),pt=ft[0],ht=ft[1];it.buffer.unmap(),this.backend.profilingTimeBase===void 0&&(this.backend.profilingTimeBase=pt);const gt=Number(pt-this.backend.profilingTimeBase),mt=Number(ht-this.backend.profilingTimeBase);if(!Number.isSafeInteger(gt)||!Number.isSafeInteger(mt))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(nt.id),this.backend.gpuDataManager.release(it.id),console.log(`[profiling] kernel "${lt}|${dt}" execution time: ${mt-gt} ns`)})}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(et,tt){const rt=this.backend.device,at=et.getShaderSource((0,j.createShaderHelper)(tt)),ot=rt.createShaderModule({code:at});return(0,s.LOG_DEBUG)("verbose",()=>`[WebGPU] shader code: ${at}`),{programInfo:et,computePipeline:rt.createComputePipeline({compute:{module:ot,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(et){const tt=typeof et=="number"?et:et.x,rt=typeof et=="number"?1:et.y||1,at=typeof et=="number"?1:et.z||1,ot=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(tt<=ot&&rt<=ot&&at<=ot)return[tt,rt,at];const st=tt*rt*at;let _e=Math.ceil(Math.sqrt(st));if(_e>ot){if(_e=Math.ceil(Math.cbrt(st)),_e>ot)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[_e,_e,_e]}return[_e,_e,1]}}},1163:(o,i)=>{var a;Object.defineProperty(i,"__esModule",{value:!0}),i.GpuDataType=void 0,(a=i.GpuDataType||(i.GpuDataType={}))[a.default=0]="default",a[a.upload=1]="upload",a[a.profile=2]="profile"},3899:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.iterateExtraOptions=void 0,i.iterateExtraOptions=(a,s,j,et)=>{if(typeof a=="object"&&a!==null){if(j.has(a))throw new Error("Circular reference in options");j.add(a)}Object.entries(a).forEach(([tt,rt])=>{const at=s?s+tt:tt;if(typeof rt=="object")(0,i.iterateExtraOptions)(rt,at+".",j,et);else if(typeof rt=="string"||typeof rt=="number")et(at,rt.toString());else{if(typeof rt!="boolean")throw new Error("Can't handle extra config type: "+typeof rt);et(at,rt?"1":"0")}})}},9544:function(o,i,a){var s,j=this&&this.__createBinding||(Object.create?function(Tt,Pt,At,Ot){Ot===void 0&&(Ot=At);var It=Object.getOwnPropertyDescriptor(Pt,At);It&&!("get"in It?!Pt.__esModule:It.writable||It.configurable)||(It={enumerable:!0,get:function(){return Pt[At]}}),Object.defineProperty(Tt,Ot,It)}:function(Tt,Pt,At,Ot){Ot===void 0&&(Ot=At),Tt[Ot]=Pt[At]}),et=this&&this.__setModuleDefault||(Object.create?function(Tt,Pt){Object.defineProperty(Tt,"default",{enumerable:!0,value:Pt})}:function(Tt,Pt){Tt.default=Pt}),tt=this&&this.__importStar||function(Tt){if(Tt&&Tt.__esModule)return Tt;var Pt={};if(Tt!=null)for(var At in Tt)At!=="default"&&Object.prototype.hasOwnProperty.call(Tt,At)&&j(Pt,Tt,At);return et(Pt,Tt),Pt};Object.defineProperty(i,"__esModule",{value:!0}),i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=i.initWasm=void 0;const rt=a(8453),at=a(7675),ot=tt(a(1259)),st=a(263),_e=()=>!!rt.env.wasm.proxy&&typeof document<"u";let $,nt,it,lt=!1,dt=!1,ft=!1;const pt=[],ht=[],gt=[],mt=[],yt=[],bt=[],_t=()=>{if(lt||!dt||ft||!$)throw new Error("worker not ready")},xt=Tt=>{switch(Tt.data.type){case"init-wasm":lt=!1,Tt.data.err?(ft=!0,nt[1](Tt.data.err)):(dt=!0,nt[0]());break;case"init-ort":Tt.data.err?it[1](Tt.data.err):it[0]();break;case"create_allocate":Tt.data.err?pt.shift()[1](Tt.data.err):pt.shift()[0](Tt.data.out);break;case"create_finalize":Tt.data.err?ht.shift()[1](Tt.data.err):ht.shift()[0](Tt.data.out);break;case"create":Tt.data.err?gt.shift()[1](Tt.data.err):gt.shift()[0](Tt.data.out);break;case"release":Tt.data.err?mt.shift()[1](Tt.data.err):mt.shift()[0]();break;case"run":Tt.data.err?yt.shift()[1](Tt.data.err):yt.shift()[0](Tt.data.out);break;case"end-profiling":Tt.data.err?bt.shift()[1](Tt.data.err):bt.shift()[0]()}},Et=typeof document<"u"?(s=document==null?void 0:document.currentScript)===null||s===void 0?void 0:s.src:void 0;i.initWasm=async()=>{if(_e()){if(dt)return;if(lt)throw new Error("multiple calls to 'initWasm()' detected.");if(ft)throw new Error("previous call to 'initWasm()' failed.");return lt=!0,rt.env.wasm.wasmPaths===void 0&&Et&&Et.indexOf("blob:")!==0&&(rt.env.wasm.wasmPaths=Et.substr(0,+Et.lastIndexOf("/")+1)),new Promise((Tt,Pt)=>{$==null||$.terminate(),$=a(8050).Z(),$.onmessage=xt,nt=[Tt,Pt];const At={type:"init-wasm",in:rt.env.wasm};$.postMessage(At)})}return(0,st.initializeWebAssembly)(rt.env.wasm)},i.initOrt=async(Tt,Pt)=>{if(_e())return _t(),new Promise((At,Ot)=>{it=[At,Ot];const It={type:"init-ort",in:{numThreads:Tt,loggingLevel:Pt}};$.postMessage(It)});ot.initOrt(Tt,Pt),await(0,at.init)((0,st.getInstance)())},i.createSessionAllocate=async Tt=>_e()?(_t(),new Promise((Pt,At)=>{pt.push([Pt,At]);const Ot={type:"create_allocate",in:{model:Tt}};$.postMessage(Ot,[Tt.buffer])})):ot.createSessionAllocate(Tt),i.createSessionFinalize=async(Tt,Pt)=>_e()?(_t(),new Promise((At,Ot)=>{ht.push([At,Ot]);const It={type:"create_finalize",in:{modeldata:Tt,options:Pt}};$.postMessage(It)})):ot.createSessionFinalize(Tt,Pt),i.createSession=async(Tt,Pt)=>_e()?(_t(),new Promise((At,Ot)=>{gt.push([At,Ot]);const It={type:"create",in:{model:Tt,options:Pt}};$.postMessage(It,[Tt.buffer])})):ot.createSession(Tt,Pt),i.releaseSession=async Tt=>{if(_e())return _t(),new Promise((Pt,At)=>{mt.push([Pt,At]);const Ot={type:"release",in:Tt};$.postMessage(Ot)});ot.releaseSession(Tt)},i.run=async(Tt,Pt,At,Ot,It)=>_e()?(_t(),new Promise(($t,kt)=>{yt.push([$t,kt]);const Ft={type:"run",in:{sessionId:Tt,inputIndices:Pt,inputs:At,outputIndices:Ot,options:It}};$.postMessage(Ft,ot.extractTransferableBuffers(At))})):ot.run(Tt,Pt,At,Ot,It),i.endProfiling=async Tt=>{if(_e())return _t(),new Promise((Pt,At)=>{bt.push([Pt,At]);const Ot={type:"end-profiling",in:Tt};$.postMessage(Ot)});ot.endProfiling(Tt)}},7918:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setRunOptions=void 0;const s=a(3899),j=a(9444),et=a(263);i.setRunOptions=tt=>{const rt=(0,et.getInstance)();let at=0;const ot=[],st=tt||{};try{if((tt==null?void 0:tt.logSeverityLevel)===void 0)st.logSeverityLevel=2;else if(typeof tt.logSeverityLevel!="number"||!Number.isInteger(tt.logSeverityLevel)||tt.logSeverityLevel<0||tt.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${tt.logSeverityLevel}`);if((tt==null?void 0:tt.logVerbosityLevel)===void 0)st.logVerbosityLevel=0;else if(typeof tt.logVerbosityLevel!="number"||!Number.isInteger(tt.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${tt.logVerbosityLevel}`);(tt==null?void 0:tt.terminate)===void 0&&(st.terminate=!1);let _e=0;if((tt==null?void 0:tt.tag)!==void 0&&(_e=(0,j.allocWasmString)(tt.tag,ot)),at=rt._OrtCreateRunOptions(st.logSeverityLevel,st.logVerbosityLevel,!!st.terminate,_e),at===0)throw new Error("Can't create run options");return(tt==null?void 0:tt.extra)!==void 0&&(0,s.iterateExtraOptions)(tt.extra,"",new WeakSet,($,nt)=>{const it=(0,j.allocWasmString)($,ot),lt=(0,j.allocWasmString)(nt,ot);if(rt._OrtAddRunConfigEntry(at,it,lt)!==0)throw new Error(`Can't set a run config entry: ${$} - ${nt}`)}),[at,ot]}catch(_e){throw at!==0&&rt._OrtReleaseRunOptions(at),ot.forEach(rt._free),_e}}},6640:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxruntimeWebAssemblySessionHandler=void 0;const s=a(2806),j=a(8453),et=a(2850),tt=a(9544),rt=a(7917);let at;i.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ot){const st=await fetch(ot),_e=await st.arrayBuffer();return(0,tt.createSessionAllocate)(new Uint8Array(_e))}async loadModel(ot,st){if(at||(await(0,tt.initOrt)(j.env.wasm.numThreads,(0,rt.logLevelStringToEnum)(j.env.logLevel)),at=!0),typeof ot=="string")if(typeof fetch>"u"){const _e=await(0,et.promisify)(s.readFile)(ot);[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSession)(_e,st)}else{const _e=await this.createSessionAllocate(ot);[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSessionFinalize)(_e,st)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,tt.createSession)(ot,st)}async dispose(){return(0,tt.releaseSession)(this.sessionId)}async run(ot,st,_e){const $=[],nt=[];Object.entries(ot).forEach(ft=>{const pt=ft[0],ht=ft[1],gt=this.inputNames.indexOf(pt);if(gt===-1)throw new Error(`invalid input '${pt}'`);$.push(ht),nt.push(gt)});const it=[];Object.entries(st).forEach(ft=>{const pt=ft[0],ht=this.outputNames.indexOf(pt);if(ht===-1)throw new Error(`invalid output '${pt}'`);it.push(ht)});const lt=await(0,tt.run)(this.sessionId,nt,$.map(ft=>[ft.type,ft.dims,ft.data]),it,_e),dt={};for(let ft=0;ft<lt.length;ft++)dt[this.outputNames[it[ft]]]=new j.Tensor(lt[ft][0],lt[ft][2],lt[ft][1]);return dt}startProfiling(){}endProfiling(){(0,tt.endProfiling)(this.sessionId)}}},7622:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setSessionOptions=void 0;const s=a(3899),j=a(9444),et=a(263);i.setSessionOptions=tt=>{var rt,at,ot,st;const _e=(0,et.getInstance)();let $=0;const nt=[],it=tt||{};(lt=>{lt.extra||(lt.extra={}),lt.extra.session||(lt.extra.session={});const dt=lt.extra.session;dt.use_ort_model_bytes_directly||(dt.use_ort_model_bytes_directly="1"),lt.executionProviders&&lt.executionProviders.some(ft=>(typeof ft=="string"?ft:ft.name)==="webgpu")&&(lt.enableMemPattern=!1)})(it);try{const lt=(mt=>{switch(mt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${mt}`)}})((rt=it.graphOptimizationLevel)!==null&&rt!==void 0?rt:"all"),dt=(mt=>{switch(mt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${mt}`)}})((at=it.executionMode)!==null&&at!==void 0?at:"sequential"),ft=typeof it.logId=="string"?(0,j.allocWasmString)(it.logId,nt):0,pt=(ot=it.logSeverityLevel)!==null&&ot!==void 0?ot:2;if(!Number.isInteger(pt)||pt<0||pt>4)throw new Error(`log serverity level is not valid: ${pt}`);const ht=(st=it.logVerbosityLevel)!==null&&st!==void 0?st:0;if(!Number.isInteger(ht)||ht<0||ht>4)throw new Error(`log verbosity level is not valid: ${ht}`);const gt=typeof it.optimizedModelFilePath=="string"?(0,j.allocWasmString)(it.optimizedModelFilePath,nt):0;if($=_e._OrtCreateSessionOptions(lt,!!it.enableCpuMemArena,!!it.enableMemPattern,dt,!!it.enableProfiling,0,ft,pt,ht,gt),$===0)throw new Error("Can't create session options");return it.executionProviders&&((mt,yt,bt)=>{for(const _t of yt){let xt=typeof _t=="string"?_t:_t.name;switch(xt){case"xnnpack":xt="XNNPACK";break;case"webgpu":xt="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${xt}`)}const Et=(0,j.allocWasmString)(xt,bt);if((0,et.getInstance)()._OrtAppendExecutionProvider(mt,Et)!==0)throw new Error(`Can't append execution provider: ${xt}`)}})($,it.executionProviders,nt),it.extra!==void 0&&(0,s.iterateExtraOptions)(it.extra,"",new WeakSet,(mt,yt)=>{const bt=(0,j.allocWasmString)(mt,nt),_t=(0,j.allocWasmString)(yt,nt);if(_e._OrtAddSessionConfigEntry($,bt,_t)!==0)throw new Error(`Can't set a session config entry: ${mt} - ${yt}`)}),[$,nt]}catch(lt){throw $!==0&&_e._OrtReleaseSessionOptions($),nt.forEach(_e._free),lt}}},9444:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.allocWasmString=void 0;const s=a(263);i.allocWasmString=(j,et)=>{const tt=(0,s.getInstance)(),rt=tt.lengthBytesUTF8(j)+1,at=tt._malloc(rt);return tt.stringToUTF8(j,at,rt),et.push(at),at}},7917:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.logLevelStringToEnum=i.tensorTypeToTypedArrayConstructor=i.getTensorElementSize=i.tensorDataTypeEnumToString=i.tensorDataTypeStringToEnum=void 0,i.tensorDataTypeStringToEnum=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},i.tensorDataTypeEnumToString=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},i.getTensorElementSize=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],i.tensorTypeToTypedArrayConstructor=a=>{switch(a){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},i.logLevelStringToEnum=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}}},1259:(o,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.extractTransferableBuffers=i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=void 0;const s=a(7918),j=a(7622),et=a(9444),tt=a(7917),rt=a(263);i.initOrt=(ot,st)=>{const _e=(0,rt.getInstance)()._OrtInit(ot,st);if(_e!==0)throw new Error(`Can't initialize onnxruntime. error code = ${_e}`)};const at=new Map;i.createSessionAllocate=ot=>{const st=(0,rt.getInstance)(),_e=st._malloc(ot.byteLength);return st.HEAPU8.set(ot,_e),[_e,ot.byteLength]},i.createSessionFinalize=(ot,st)=>{const _e=(0,rt.getInstance)();let $=0,nt=0,it=[];try{if([nt,it]=(0,j.setSessionOptions)(st),$=_e._OrtCreateSession(ot[0],ot[1],nt),$===0)throw new Error("Can't create a session")}finally{_e._free(ot[0]),nt!==0&&_e._OrtReleaseSessionOptions(nt),it.forEach(_e._free)}const lt=_e._OrtGetInputCount($),dt=_e._OrtGetOutputCount($),ft=[],pt=[],ht=[],gt=[];for(let mt=0;mt<lt;mt++){const yt=_e._OrtGetInputName($,mt);if(yt===0)throw new Error("Can't get an input name");pt.push(yt),ft.push(_e.UTF8ToString(yt))}for(let mt=0;mt<dt;mt++){const yt=_e._OrtGetOutputName($,mt);if(yt===0)throw new Error("Can't get an output name");gt.push(yt),ht.push(_e.UTF8ToString(yt))}return at.set($,[$,pt,gt]),[$,ft,ht]},i.createSession=(ot,st)=>{const _e=(0,i.createSessionAllocate)(ot);return(0,i.createSessionFinalize)(_e,st)},i.releaseSession=ot=>{const st=(0,rt.getInstance)(),_e=at.get(ot);if(!_e)throw new Error("invalid session id");const $=_e[0],nt=_e[1],it=_e[2];nt.forEach(st._OrtFree),it.forEach(st._OrtFree),st._OrtReleaseSession($),at.delete(ot)},i.run=async(ot,st,_e,$,nt)=>{const it=(0,rt.getInstance)(),lt=at.get(ot);if(!lt)throw new Error("invalid session id");const dt=lt[0],ft=lt[1],pt=lt[2],ht=st.length,gt=$.length;let mt=0,yt=[];const bt=[],_t=[];try{[mt,yt]=(0,s.setRunOptions)(nt);for(let Ot=0;Ot<ht;Ot++){const It=_e[Ot][0],$t=_e[Ot][1],kt=_e[Ot][2];let Ft,Ut;if(Array.isArray(kt)){Ut=4*kt.length,Ft=it._malloc(Ut),_t.push(Ft);let Qt=Ft/4;for(let un=0;un<kt.length;un++){if(typeof kt[un]!="string")throw new TypeError(`tensor data at index ${un} is not a string`);it.HEAPU32[Qt++]=(0,et.allocWasmString)(kt[un],_t)}}else Ut=kt.byteLength,Ft=it._malloc(Ut),_t.push(Ft),it.HEAPU8.set(new Uint8Array(kt.buffer,kt.byteOffset,Ut),Ft);const zt=it.stackSave(),Wt=it.stackAlloc(4*$t.length);try{let Qt=Wt/4;$t.forEach(an=>it.HEAP32[Qt++]=an);const un=it._OrtCreateTensor((0,tt.tensorDataTypeStringToEnum)(It),Ft,Ut,Wt,$t.length);if(un===0)throw new Error("Can't create a tensor");bt.push(un)}finally{it.stackRestore(zt)}}const xt=it.stackSave(),Et=it.stackAlloc(4*ht),Tt=it.stackAlloc(4*ht),Pt=it.stackAlloc(4*gt),At=it.stackAlloc(4*gt);try{let Ot=Et/4,It=Tt/4,$t=Pt/4,kt=At/4;for(let Wt=0;Wt<ht;Wt++)it.HEAPU32[Ot++]=bt[Wt],it.HEAPU32[It++]=ft[st[Wt]];for(let Wt=0;Wt<gt;Wt++)it.HEAPU32[$t++]=0,it.HEAPU32[kt++]=pt[$[Wt]];let Ft=it._OrtRun(dt,Tt,Et,ht,At,gt,Pt,mt);const Ut=it.jsepRunPromise;Ut&&Ut.then!==void 0&&(Ft=await Ut);const zt=[];if(Ft===0)for(let Wt=0;Wt<gt;Wt++){const Qt=it.HEAPU32[Pt/4+Wt],un=it.stackSave(),an=it.stackAlloc(16);let vn,fn=0;try{if(Ft=it._OrtGetTensorData(Qt,an,an+4,an+8,an+12),Ft!==0)throw new Error(`Can't access output tensor data. error code = ${Ft}`);let jt=an/4;const en=it.HEAPU32[jt++];fn=it.HEAPU32[jt++];const on=it.HEAPU32[jt++],wn=it.HEAPU32[jt++],cn=[];for(let bn=0;bn<wn;bn++)cn.push(it.HEAPU32[on/4+bn]);it._OrtFree(on);const An=cn.length===0?1:cn.reduce((bn,Vn)=>bn*Vn);if(vn=(0,tt.tensorDataTypeEnumToString)(en),vn==="string"){const bn=[];let Vn=fn/4;for(let xn=0;xn<An;xn++){const Jn=it.HEAPU32[Vn++],Ln=xn===An-1?void 0:it.HEAPU32[Vn]-Jn;bn.push(it.UTF8ToString(Jn,Ln))}zt.push([vn,cn,bn])}else{const bn=new((0,tt.tensorTypeToTypedArrayConstructor)(vn))(An);new Uint8Array(bn.buffer,bn.byteOffset,bn.byteLength).set(it.HEAPU8.subarray(fn,fn+bn.byteLength)),zt.push([vn,cn,bn])}}finally{it.stackRestore(un),vn==="string"&&fn&&it._free(fn),it._OrtReleaseTensor(Qt)}}if(Ft===0)return zt;throw new Error(`failed to call OrtRun(). error code = ${Ft}.`)}finally{it.stackRestore(xt)}}finally{bt.forEach(it._OrtReleaseTensor),_t.forEach(it._free),it._OrtReleaseRunOptions(mt),yt.forEach(it._free)}},i.endProfiling=ot=>{const st=(0,rt.getInstance)(),_e=at.get(ot);if(!_e)throw new Error("invalid session id");const $=_e[0],nt=st._OrtEndProfiling($);if(nt===0)throw new Error("Can't get an profile file name");st._OrtFree(nt)},i.extractTransferableBuffers=ot=>{const st=[];for(const _e of ot){const $=_e[2];!Array.isArray($)&&$.buffer&&st.push($.buffer)}return st}},263:function(o,i,a){var s=this&&this.__createBinding||(Object.create?function(nt,it,lt,dt){dt===void 0&&(dt=lt);var ft=Object.getOwnPropertyDescriptor(it,lt);ft&&!("get"in ft?!it.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return it[lt]}}),Object.defineProperty(nt,dt,ft)}:function(nt,it,lt,dt){dt===void 0&&(dt=lt),nt[dt]=it[lt]}),j=this&&this.__setModuleDefault||(Object.create?function(nt,it){Object.defineProperty(nt,"default",{enumerable:!0,value:it})}:function(nt,it){nt.default=it}),et=this&&this.__importStar||function(nt){if(nt&&nt.__esModule)return nt;var it={};if(nt!=null)for(var lt in nt)lt!=="default"&&Object.prototype.hasOwnProperty.call(nt,lt)&&s(it,nt,lt);return j(it,nt),it};Object.defineProperty(i,"__esModule",{value:!0}),i.dispose=i.getInstance=i.initializeWebAssembly=void 0;const tt=et(a(6449)),rt=a(932),at=a(3474);let ot,st=!1,_e=!1,$=!1;i.initializeWebAssembly=async nt=>{if(st)return Promise.resolve();if(_e)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if($)throw new Error("previous call to 'initializeWebAssembly()' failed.");_e=!0;const it=nt.initTimeout,lt=nt.numThreads,dt=nt.simd,ft=lt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),pt=dt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),ht=nt.wasmPaths,gt=typeof ht=="string"?ht:void 0,mt=((xt,Et)=>Et?xt?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":xt?"ort-wasm-simd.wasm":"ort-wasm.wasm")(pt,ft),yt=typeof ht=="object"?ht[mt]:void 0;let bt=!1;const _t=[];if(it>0&&_t.push(new Promise(xt=>{setTimeout(()=>{bt=!0,xt()},it)})),_t.push(new Promise((xt,Et)=>{const Tt=ft?at:rt,Pt={locateFile:(At,Ot)=>ft&&At.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([a(4154)],{type:"text/javascript"})):At.endsWith(".wasm")?yt||(gt??Ot)+mt:Ot+At};if(ft)if(typeof Blob>"u")Pt.mainScriptUrlOrBlob=tt.join("/","ort-wasm-threaded.js");else{const At=`var ortWasmThreaded=(function(){var _scriptDir;return ${Tt.toString()}})();`;Pt.mainScriptUrlOrBlob=new Blob([At],{type:"text/javascript"})}Tt(Pt).then(At=>{_e=!1,st=!0,ot=At,xt()},At=>{_e=!1,$=!0,Et(At)})})),await Promise.race(_t),bt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${it}ms`)},i.getInstance=()=>{if(st&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")},i.dispose=()=>{var nt;!st||_e||$||(_e=!0,(nt=ot.PThread)===null||nt===void 0||nt.terminateAllThreads(),ot=void 0,_e=!1,st=!1,$=!0)}},8050:(o,i,a)=>{a.d(i,{Z:()=>et});var s=a(6614),j=a.n(s);function et(){return j()('/*!\n* ONNX Runtime Web v1.15.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:o=>{o.exports=function(i,a,s,j){var et=self||window;try{try{var tt;try{tt=new et.Blob([i])}catch{(tt=new(et.BlobBuilder||et.WebKitBlobBuilder||et.MozBlobBuilder||et.MSBlobBuilder)).append(i),tt=tt.getBlob()}var rt=et.URL||et.webkitURL,at=rt.createObjectURL(tt),ot=new et[a](at,s);return rt.revokeObjectURL(at),ot}catch{return new et[a]("data:application/javascript,".concat(encodeURIComponent(i)),s)}}catch{if(!j)throw Error("Inline worker is not supported");return new et[a](j,s)}}},3474:(o,i,a)=>{var s,j=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(et){function tt(){return Ut.buffer!=Wt&&bn(Ut.buffer),Qt}function rt(){return Ut.buffer!=Wt&&bn(Ut.buffer),un}function at(){return Ut.buffer!=Wt&&bn(Ut.buffer),an}function ot(){return Ut.buffer!=Wt&&bn(Ut.buffer),vn}function st(){return Ut.buffer!=Wt&&bn(Ut.buffer),fn}var _e,$,nt;et=et||{},_e||(_e=et!==void 0?et:{}),_e.ready=new Promise(function(Dt,Vt){$=Dt,nt=Vt});var it,lt,dt,ft,pt,ht,gt=Object.assign({},_e),mt="./this.program",yt=(Dt,Vt)=>{throw Vt},bt=typeof window=="object",_t=typeof importScripts=="function",xt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Et=_e.ENVIRONMENT_IS_PTHREAD||!1,Tt="";function Pt(Dt){return _e.locateFile?_e.locateFile(Dt,Tt):Tt+Dt}if(xt){let Dt;Tt=_t?a(908).dirname(Tt)+"/":"//",ht=()=>{pt||(ft=a(1384),pt=a(908))},it=function(Vt,Gt){return ht(),Vt=pt.normalize(Vt),ft.readFileSync(Vt,Gt?void 0:"utf8")},dt=Vt=>((Vt=it(Vt,!0)).buffer||(Vt=new Uint8Array(Vt)),Vt),lt=(Vt,Gt,rn)=>{ht(),Vt=pt.normalize(Vt),ft.readFile(Vt,function(yn,Tn){yn?rn(yn):Gt(Tn.buffer)})},1<process.argv.length&&(mt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Vt){if(!(Vt instanceof Kn))throw Vt}),process.on("unhandledRejection",function(Vt){throw Vt}),yt=(Vt,Gt)=>{if(Ft)throw process.exitCode=Vt,Gt;Gt instanceof Kn||kt("exiting due to exception: "+Gt),process.exit(Vt)},_e.inspect=function(){return"[Emscripten Module object]"};try{Dt=a(9925)}catch(Vt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Vt}a.g.Worker=Dt.Worker}else(bt||_t)&&(_t?Tt=self.location.href:typeof document<"u"&&document.currentScript&&(Tt=document.currentScript.src),s&&(Tt=s),Tt=Tt.indexOf("blob:")!==0?Tt.substr(0,Tt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",xt||(it=Dt=>{var Vt=new XMLHttpRequest;return Vt.open("GET",Dt,!1),Vt.send(null),Vt.responseText},_t&&(dt=Dt=>{var Vt=new XMLHttpRequest;return Vt.open("GET",Dt,!1),Vt.responseType="arraybuffer",Vt.send(null),new Uint8Array(Vt.response)}),lt=(Dt,Vt,Gt)=>{var rn=new XMLHttpRequest;rn.open("GET",Dt,!0),rn.responseType="arraybuffer",rn.onload=()=>{rn.status==200||rn.status==0&&rn.response?Vt(rn.response):Gt()},rn.onerror=Gt,rn.send(null)}));xt&&typeof performance>"u"&&(a.g.performance=a(6953).performance);var At=console.log.bind(console),Ot=console.warn.bind(console);xt&&(ht(),At=Dt=>ft.writeSync(1,Dt+`
`),Ot=Dt=>ft.writeSync(2,Dt+`
`));var It,$t=_e.print||At,kt=_e.printErr||Ot;Object.assign(_e,gt),gt=null,_e.thisProgram&&(mt=_e.thisProgram),_e.quit&&(yt=_e.quit),_e.wasmBinary&&(It=_e.wasmBinary);var Ft=_e.noExitRuntime||!0;typeof WebAssembly!="object"&&Bn("no native wasm support detected");var Ut,zt,Wt,Qt,un,an,vn,fn,jt=!1,en=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function on(Dt,Vt,Gt){var rn=(Vt>>>=0)+Gt;for(Gt=Vt;Dt[Gt]&&!(Gt>=rn);)++Gt;if(16<Gt-Vt&&Dt.buffer&&en)return en.decode(Dt.buffer instanceof SharedArrayBuffer?Dt.slice(Vt,Gt):Dt.subarray(Vt,Gt));for(rn="";Vt<Gt;){var yn=Dt[Vt++];if(128&yn){var Tn=63&Dt[Vt++];if((224&yn)==192)rn+=String.fromCharCode((31&yn)<<6|Tn);else{var Xn=63&Dt[Vt++];65536>(yn=(240&yn)==224?(15&yn)<<12|Tn<<6|Xn:(7&yn)<<18|Tn<<12|Xn<<6|63&Dt[Vt++])?rn+=String.fromCharCode(yn):(yn-=65536,rn+=String.fromCharCode(55296|yn>>10,56320|1023&yn))}}else rn+=String.fromCharCode(yn)}return rn}function wn(Dt,Vt){return(Dt>>>=0)?on(rt(),Dt,Vt):""}function cn(Dt,Vt,Gt,rn){if(!(0<rn))return 0;var yn=Gt>>>=0;rn=Gt+rn-1;for(var Tn=0;Tn<Dt.length;++Tn){var Xn=Dt.charCodeAt(Tn);if(55296<=Xn&&57343>=Xn&&(Xn=65536+((1023&Xn)<<10)|1023&Dt.charCodeAt(++Tn)),127>=Xn){if(Gt>=rn)break;Vt[Gt++>>>0]=Xn}else{if(2047>=Xn){if(Gt+1>=rn)break;Vt[Gt++>>>0]=192|Xn>>6}else{if(65535>=Xn){if(Gt+2>=rn)break;Vt[Gt++>>>0]=224|Xn>>12}else{if(Gt+3>=rn)break;Vt[Gt++>>>0]=240|Xn>>18,Vt[Gt++>>>0]=128|Xn>>12&63}Vt[Gt++>>>0]=128|Xn>>6&63}Vt[Gt++>>>0]=128|63&Xn}}return Vt[Gt>>>0]=0,Gt-yn}function An(Dt){for(var Vt=0,Gt=0;Gt<Dt.length;++Gt){var rn=Dt.charCodeAt(Gt);127>=rn?Vt++:2047>=rn?Vt+=2:55296<=rn&&57343>=rn?(Vt+=4,++Gt):Vt+=3}return Vt}function bn(Dt){Wt=Dt,_e.HEAP8=Qt=new Int8Array(Dt),_e.HEAP16=new Int16Array(Dt),_e.HEAP32=an=new Int32Array(Dt),_e.HEAPU8=un=new Uint8Array(Dt),_e.HEAPU16=new Uint16Array(Dt),_e.HEAPU32=vn=new Uint32Array(Dt),_e.HEAPF32=new Float32Array(Dt),_e.HEAPF64=fn=new Float64Array(Dt)}Et&&(Wt=_e.buffer);var Vn=_e.INITIAL_MEMORY||16777216;if(Et)Ut=_e.wasmMemory,Wt=_e.buffer;else if(_e.wasmMemory)Ut=_e.wasmMemory;else if(!((Ut=new WebAssembly.Memory({initial:Vn/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw kt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),xt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Ut&&(Wt=Ut.buffer),Vn=Wt.byteLength,bn(Wt);var xn,Jn=[],Ln=[],Hn=[];function jn(){var Dt=_e.preRun.shift();Jn.unshift(Dt)}var On,zn=0,Fn=null;function Bn(Dt){throw Et?postMessage({cmd:"onAbort",arg:Dt}):_e.onAbort&&_e.onAbort(Dt),kt(Dt="Aborted("+Dt+")"),jt=!0,Dt=new WebAssembly.RuntimeError(Dt+". Build with -sASSERTIONS for more info."),nt(Dt),Dt}function hn(){return On.startsWith("data:application/octet-stream;base64,")}function Sn(){var Dt=On;try{if(Dt==On&&It)return new Uint8Array(It);if(dt)return dt(Dt);throw"both async and sync fetching of the wasm failed"}catch(Vt){Bn(Vt)}}On="ort-wasm-threaded.wasm",hn()||(On=Pt(On));var Wn={};function Kn(Dt){this.name="ExitStatus",this.message="Program terminated with exit("+Dt+")",this.status=Dt}function ir(Dt){(Dt=Rn.La[Dt])||Bn(),Rn.Xa(Dt)}function gr(Dt){var Vt=Rn.lb();if(!Vt)return 6;Rn.Ra.push(Vt),Rn.La[Dt.Ka]=Vt,Vt.Ka=Dt.Ka;var Gt={cmd:"run",start_routine:Dt.pb,arg:Dt.ib,pthread_ptr:Dt.Ka};return Vt.Qa=()=>{Gt.time=performance.now(),Vt.postMessage(Gt,Dt.vb)},Vt.loaded&&(Vt.Qa(),delete Vt.Qa),0}function ur(Dt){if(Et)return Dn(1,1,Dt);Ft||(Rn.qb(),_e.onExit&&_e.onExit(Dt),jt=!0),yt(Dt,new Kn(Dt))}function yr(Dt,Vt){if(!Vt&&Et)throw Nt(Dt),"unwind";ur(Dt)}var Rn={Oa:[],Ra:[],$a:[],La:{},Ua:function(){Et&&Rn.mb()},xb:function(){},mb:function(){Rn.receiveObjectTransfer=Rn.ob,Rn.threadInitTLS=Rn.Za,Rn.setExitStatus=Rn.Ya,Ft=!1},Ya:function(){},qb:function(){for(var Dt of Object.values(Rn.La))Rn.Xa(Dt);for(Dt of Rn.Oa)Dt.terminate();Rn.Oa=[]},Xa:function(Dt){var Vt=Dt.Ka;delete Rn.La[Vt],Rn.Oa.push(Dt),Rn.Ra.splice(Rn.Ra.indexOf(Dt),1),Dt.Ka=0,Mr(Vt)},ob:function(){},Za:function(){Rn.$a.forEach(Dt=>Dt())},nb:function(Dt,Vt){Dt.onmessage=Gt=>{var rn=(Gt=Gt.data).cmd;if(Dt.Ka&&(Rn.kb=Dt.Ka),Gt.targetThread&&Gt.targetThread!=po()){var yn=Rn.La[Gt.yb];yn?yn.postMessage(Gt,Gt.transferList):kt('Internal error! Worker sent a message "'+rn+'" to target pthread '+Gt.targetThread+", but that thread no longer exists!")}else rn==="processProxyingQueue"?Gn(Gt.queue):rn==="spawnThread"?gr(Gt):rn==="cleanupThread"?ir(Gt.thread):rn==="killThread"?(Gt=Gt.thread,rn=Rn.La[Gt],delete Rn.La[Gt],rn.terminate(),Mr(Gt),Rn.Ra.splice(Rn.Ra.indexOf(rn),1),rn.Ka=0):rn==="cancelThread"?Rn.La[Gt.thread].postMessage({cmd:"cancel"}):rn==="loaded"?(Dt.loaded=!0,Vt&&Vt(Dt),Dt.Qa&&(Dt.Qa(),delete Dt.Qa)):rn==="print"?$t("Thread "+Gt.threadId+": "+Gt.text):rn==="printErr"?kt("Thread "+Gt.threadId+": "+Gt.text):rn==="alert"?alert("Thread "+Gt.threadId+": "+Gt.text):Gt.target==="setimmediate"?Dt.postMessage(Gt):rn==="onAbort"?_e.onAbort&&_e.onAbort(Gt.arg):rn&&kt("worker sent an unknown command "+rn);Rn.kb=void 0},Dt.onerror=Gt=>{throw kt("worker sent an error! "+Gt.filename+":"+Gt.lineno+": "+Gt.message),Gt},xt&&(Dt.on("message",function(Gt){Dt.onmessage({data:Gt})}),Dt.on("error",function(Gt){Dt.onerror(Gt)}),Dt.on("detachedExit",function(){})),Dt.postMessage({cmd:"load",urlOrBlob:_e.mainScriptUrlOrBlob||s,wasmMemory:Ut,wasmModule:zt})},hb:function(){var Dt=Pt("ort-wasm-threaded.worker.js");Rn.Oa.push(new Worker(Dt))},lb:function(){return Rn.Oa.length==0&&(Rn.hb(),Rn.nb(Rn.Oa[0])),Rn.Oa.pop()}};function Rt(Dt){for(;0<Dt.length;)Dt.shift()(_e)}function Nt(Dt){if(Et)return Dn(2,0,Dt);try{yr(Dt)}catch(Vt){Vt instanceof Kn||Vt=="unwind"||yt(1,Vt)}}_e.PThread=Rn,_e.establishStackSpace=function(){var Dt=po(),Vt=at()[Dt+44>>2>>>0];Dt=at()[Dt+48>>2>>>0],ko(Vt,Vt-Dt),Ro(Vt)};var Lt,Bt,Ht=[];function Xt(Dt){this.Pa=Dt-24,this.gb=function(Vt){ot()[this.Pa+4>>2>>>0]=Vt},this.cb=function(Vt){ot()[this.Pa+8>>2>>>0]=Vt},this.eb=function(){at()[this.Pa>>2>>>0]=0},this.bb=function(){tt()[this.Pa+12>>0>>>0]=0},this.fb=function(){tt()[this.Pa+13>>0>>>0]=0},this.Ua=function(Vt,Gt){this.ab(),this.gb(Vt),this.cb(Gt),this.eb(),this.bb(),this.fb()},this.ab=function(){ot()[this.Pa+16>>2>>>0]=0}}function Zt(Dt,Vt,Gt,rn){return Et?Dn(3,1,Dt,Vt,Gt,rn):tn(Dt,Vt,Gt,rn)}function tn(Dt,Vt,Gt,rn){if(typeof SharedArrayBuffer>"u")return kt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var yn=[];return Et&&yn.length===0?Zt(Dt,Vt,Gt,rn):(Dt={pb:Gt,Ka:Dt,ib:rn,vb:yn},Et?(Dt.wb="spawnThread",postMessage(Dt,yn),0):gr(Dt))}function dn(Dt,Vt,Gt){return Et?Dn(4,1,Dt,Vt,Gt):0}function pn(Dt,Vt){if(Et)return Dn(5,1,Dt,Vt)}function mn(Dt,Vt){if(Et)return Dn(6,1,Dt,Vt)}function _n(Dt,Vt,Gt){if(Et)return Dn(7,1,Dt,Vt,Gt)}function Mn(Dt,Vt,Gt){return Et?Dn(8,1,Dt,Vt,Gt):0}function Kt(Dt,Vt){if(Et)return Dn(9,1,Dt,Vt)}function En(Dt,Vt,Gt){if(Et)return Dn(10,1,Dt,Vt,Gt)}function Un(Dt,Vt,Gt,rn){if(Et)return Dn(11,1,Dt,Vt,Gt,rn)}function cr(Dt,Vt,Gt,rn){if(Et)return Dn(12,1,Dt,Vt,Gt,rn)}function dr(Dt,Vt,Gt,rn){if(Et)return Dn(13,1,Dt,Vt,Gt,rn)}function Sr(Dt){if(Et)return Dn(14,1,Dt)}function Tr(Dt,Vt){if(Et)return Dn(15,1,Dt,Vt)}function Ir(Dt,Vt,Gt){if(Et)return Dn(16,1,Dt,Vt,Gt)}function Gn(Dt){Atomics.store(at(),Dt>>2,1),po()&&$r(Dt),Atomics.compareExchange(at(),Dt>>2,1,0)}function qn(Dt){return ot()[Dt>>>2]+4294967296*at()[Dt+4>>>2]}function Yn(Dt,Vt,Gt,rn,yn,Tn){return Et?Dn(17,1,Dt,Vt,Gt,rn,yn,Tn):-52}function In(Dt,Vt,Gt,rn,yn,Tn){if(Et)return Dn(18,1,Dt,Vt,Gt,rn,yn,Tn)}function rr(Dt){var Vt=An(Dt)+1,Gt=io(Vt);return Gt&&cn(Dt,tt(),Gt,Vt),Gt}function Dr(Dt,Vt,Gt){function rn(Pr){return(Pr=Pr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Pr[1]:"GMT"}if(Et)return Dn(19,1,Dt,Vt,Gt);var yn=new Date().getFullYear(),Tn=new Date(yn,0,1),Xn=new Date(yn,6,1);yn=Tn.getTimezoneOffset();var wr=Xn.getTimezoneOffset(),Xr=Math.max(yn,wr);at()[Dt>>2>>>0]=60*Xr,at()[Vt>>2>>>0]=+(yn!=wr),Dt=rn(Tn),Vt=rn(Xn),Dt=rr(Dt),Vt=rr(Vt),wr<yn?(ot()[Gt>>2>>>0]=Dt,ot()[Gt+4>>2>>>0]=Vt):(ot()[Gt>>2>>>0]=Vt,ot()[Gt+4>>2>>>0]=Dt)}function Dn(Dt,Vt){var Gt=arguments.length-2,rn=arguments;return function(yn){var Tn=Fr();return yn=yn(),Ro(Tn),yn}(()=>{for(var yn=as(8*Gt),Tn=yn>>3,Xn=0;Xn<Gt;Xn++){var wr=rn[2+Xn];st()[Tn+Xn>>>0]=wr}return go(Dt,Gt,yn,Vt)})}_e.invokeEntryPoint=function(Dt,Vt){var Gt=Ht[Dt];Gt||(Dt>=Ht.length&&(Ht.length=Dt+1),Ht[Dt]=Gt=xn.get(Dt)),Dt=Gt(Vt),Ft?Rn.Ya(Dt):wo(Dt)},_e.executeNotifiedProxyingQueue=Gn,Bt=xt?()=>{var Dt=process.hrtime();return 1e3*Dt[0]+Dt[1]/1e6}:Et?()=>performance.now()-_e.__performance_now_clock_drift:()=>performance.now();var Or,Vr=[],Cr={};function ro(){if(!Or){var Dt,Vt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:mt||"./this.program"};for(Dt in Cr)Cr[Dt]===void 0?delete Vt[Dt]:Vt[Dt]=Cr[Dt];var Gt=[];for(Dt in Vt)Gt.push(Dt+"="+Vt[Dt]);Or=Gt}return Or}function Zo(Dt,Vt){if(Et)return Dn(20,1,Dt,Vt);var Gt=0;return ro().forEach(function(rn,yn){var Tn=Vt+Gt;for(yn=ot()[Dt+4*yn>>2>>>0]=Tn,Tn=0;Tn<rn.length;++Tn)tt()[yn++>>0>>>0]=rn.charCodeAt(Tn);tt()[yn>>0>>>0]=0,Gt+=rn.length+1}),0}function Jo(Dt,Vt){if(Et)return Dn(21,1,Dt,Vt);var Gt=ro();ot()[Dt>>2>>>0]=Gt.length;var rn=0;return Gt.forEach(function(yn){rn+=yn.length+1}),ot()[Vt>>2>>>0]=rn,0}function rs(Dt){return Et?Dn(22,1,Dt):52}function xo(Dt,Vt,Gt,rn){return Et?Dn(23,1,Dt,Vt,Gt,rn):52}function Vo(Dt,Vt,Gt,rn,yn){return Et?Dn(24,1,Dt,Vt,Gt,rn,yn):70}var Xl=[null,[],[]];function js(Dt,Vt,Gt,rn){if(Et)return Dn(25,1,Dt,Vt,Gt,rn);for(var yn=0,Tn=0;Tn<Gt;Tn++){var Xn=ot()[Vt>>2>>>0],wr=ot()[Vt+4>>2>>>0];Vt+=8;for(var Xr=0;Xr<wr;Xr++){var Pr=rt()[Xn+Xr>>>0],Gr=Xl[Dt];Pr===0||Pr===10?((Dt===1?$t:kt)(on(Gr,0)),Gr.length=0):Gr.push(Pr)}yn+=wr}return ot()[rn>>2>>>0]=yn,0}function zo(Dt){return Dt%4==0&&(Dt%100!=0||Dt%400==0)}var Bo=[31,29,31,30,31,30,31,31,30,31,30,31],is=[31,28,31,30,31,30,31,31,30,31,30,31];function os(Dt,Vt,Gt,rn){function yn(ln,nr,hr){for(ln=typeof ln=="number"?ln.toString():ln||"";ln.length<nr;)ln=hr[0]+ln;return ln}function Tn(ln,nr){return yn(ln,nr,"0")}function Xn(ln,nr){function hr(ls){return 0>ls?-1:0<ls?1:0}var Io;return(Io=hr(ln.getFullYear()-nr.getFullYear()))===0&&(Io=hr(ln.getMonth()-nr.getMonth()))===0&&(Io=hr(ln.getDate()-nr.getDate())),Io}function wr(ln){switch(ln.getDay()){case 0:return new Date(ln.getFullYear()-1,11,29);case 1:return ln;case 2:return new Date(ln.getFullYear(),0,3);case 3:return new Date(ln.getFullYear(),0,2);case 4:return new Date(ln.getFullYear(),0,1);case 5:return new Date(ln.getFullYear()-1,11,31);case 6:return new Date(ln.getFullYear()-1,11,30)}}function Xr(ln){var nr=ln.Ma;for(ln=new Date(new Date(ln.Na+1900,0,1).getTime());0<nr;){var hr=ln.getMonth(),Io=(zo(ln.getFullYear())?Bo:is)[hr];if(!(nr>Io-ln.getDate())){ln.setDate(ln.getDate()+nr);break}nr-=Io-ln.getDate()+1,ln.setDate(1),11>hr?ln.setMonth(hr+1):(ln.setMonth(0),ln.setFullYear(ln.getFullYear()+1))}return hr=new Date(ln.getFullYear()+1,0,4),nr=wr(new Date(ln.getFullYear(),0,4)),hr=wr(hr),0>=Xn(nr,ln)?0>=Xn(hr,ln)?ln.getFullYear()+1:ln.getFullYear():ln.getFullYear()-1}var Pr=at()[rn+40>>2>>>0];for(var Gr in rn={tb:at()[rn>>2>>>0],sb:at()[rn+4>>2>>>0],Sa:at()[rn+8>>2>>>0],Va:at()[rn+12>>2>>>0],Ta:at()[rn+16>>2>>>0],Na:at()[rn+20>>2>>>0],Ja:at()[rn+24>>2>>>0],Ma:at()[rn+28>>2>>>0],zb:at()[rn+32>>2>>>0],rb:at()[rn+36>>2>>>0],ub:Pr?wn(Pr):""},Gt=wn(Gt),Pr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Gt=Gt.replace(new RegExp(Gr,"g"),Pr[Gr]);var Us="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ss="January February March April May June July August September October November December".split(" ");for(Gr in Pr={"%a":function(ln){return Us[ln.Ja].substring(0,3)},"%A":function(ln){return Us[ln.Ja]},"%b":function(ln){return ss[ln.Ta].substring(0,3)},"%B":function(ln){return ss[ln.Ta]},"%C":function(ln){return Tn((ln.Na+1900)/100|0,2)},"%d":function(ln){return Tn(ln.Va,2)},"%e":function(ln){return yn(ln.Va,2," ")},"%g":function(ln){return Xr(ln).toString().substring(2)},"%G":function(ln){return Xr(ln)},"%H":function(ln){return Tn(ln.Sa,2)},"%I":function(ln){return(ln=ln.Sa)==0?ln=12:12<ln&&(ln-=12),Tn(ln,2)},"%j":function(ln){for(var nr=0,hr=0;hr<=ln.Ta-1;nr+=(zo(ln.Na+1900)?Bo:is)[hr++]);return Tn(ln.Va+nr,3)},"%m":function(ln){return Tn(ln.Ta+1,2)},"%M":function(ln){return Tn(ln.sb,2)},"%n":function(){return`
`},"%p":function(ln){return 0<=ln.Sa&&12>ln.Sa?"AM":"PM"},"%S":function(ln){return Tn(ln.tb,2)},"%t":function(){return"	"},"%u":function(ln){return ln.Ja||7},"%U":function(ln){return Tn(Math.floor((ln.Ma+7-ln.Ja)/7),2)},"%V":function(ln){var nr=Math.floor((ln.Ma+7-(ln.Ja+6)%7)/7);if(2>=(ln.Ja+371-ln.Ma-2)%7&&nr++,nr)nr==53&&((hr=(ln.Ja+371-ln.Ma)%7)==4||hr==3&&zo(ln.Na)||(nr=1));else{nr=52;var hr=(ln.Ja+7-ln.Ma-1)%7;(hr==4||hr==5&&zo(ln.Na%400-1))&&nr++}return Tn(nr,2)},"%w":function(ln){return ln.Ja},"%W":function(ln){return Tn(Math.floor((ln.Ma+7-(ln.Ja+6)%7)/7),2)},"%y":function(ln){return(ln.Na+1900).toString().substring(2)},"%Y":function(ln){return ln.Na+1900},"%z":function(ln){var nr=0<=(ln=ln.rb);return ln=Math.abs(ln)/60,(nr?"+":"-")+("0000"+(ln/60*100+ln%60)).slice(-4)},"%Z":function(ln){return ln.ub},"%%":function(){return"%"}},Gt=Gt.replace(/%%/g,"\0\0"),Pr)Gt.includes(Gr)&&(Gt=Gt.replace(new RegExp(Gr,"g"),Pr[Gr](rn)));return Gr=function(ln){var nr=Array(An(ln)+1);return cn(ln,nr,0,nr.length),nr}(Gt=Gt.replace(/\0\0/g,"%")),Gr.length>Vt?0:(function(ln,nr){tt().set(ln,nr>>>0)}(Gr,Dt),Gr.length-1)}Rn.Ua();var Ql=[null,ur,Nt,Zt,dn,pn,mn,_n,Mn,Kt,En,Un,cr,dr,Sr,Tr,Ir,Yn,In,Dr,Zo,Jo,rs,xo,Vo,js],xs={b:function(Dt){return io(Dt+24)+24},c:function(Dt,Vt,Gt){throw new Xt(Dt).Ua(Vt,Gt),Dt},L:function(Dt){fr(Dt,!_t,1,!bt),Rn.Za()},l:function(Dt){Et?postMessage({cmd:"cleanupThread",thread:Dt}):ir(Dt)},D:tn,i:dn,R:pn,z:mn,B:_n,T:Mn,P:Kt,I:En,O:Un,p:cr,A:dr,x:Sr,Q:Tr,y:Ir,r:function(){},j:function(){Bn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){Bn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(Dt,Vt,Gt,rn){if(Dt==Vt)setTimeout(()=>Gn(rn));else if(Et)postMessage({targetThread:Dt,cmd:"processProxyingQueue",queue:rn});else{if(!(Dt=Rn.La[Dt]))return;Dt.postMessage({cmd:"processProxyingQueue",queue:rn})}return 1},K:function(){return-1},W:function(Dt,Vt){Dt=new Date(1e3*qn(Dt)),at()[Vt>>2>>>0]=Dt.getUTCSeconds(),at()[Vt+4>>2>>>0]=Dt.getUTCMinutes(),at()[Vt+8>>2>>>0]=Dt.getUTCHours(),at()[Vt+12>>2>>>0]=Dt.getUTCDate(),at()[Vt+16>>2>>>0]=Dt.getUTCMonth(),at()[Vt+20>>2>>>0]=Dt.getUTCFullYear()-1900,at()[Vt+24>>2>>>0]=Dt.getUTCDay(),Dt=(Dt.getTime()-Date.UTC(Dt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,at()[Vt+28>>2>>>0]=Dt},X:function(Dt,Vt){Dt=new Date(1e3*qn(Dt)),at()[Vt>>2>>>0]=Dt.getSeconds(),at()[Vt+4>>2>>>0]=Dt.getMinutes(),at()[Vt+8>>2>>>0]=Dt.getHours(),at()[Vt+12>>2>>>0]=Dt.getDate(),at()[Vt+16>>2>>>0]=Dt.getMonth(),at()[Vt+20>>2>>>0]=Dt.getFullYear()-1900,at()[Vt+24>>2>>>0]=Dt.getDay();var Gt=new Date(Dt.getFullYear(),0,1),rn=(Dt.getTime()-Gt.getTime())/864e5|0;at()[Vt+28>>2>>>0]=rn,at()[Vt+36>>2>>>0]=-60*Dt.getTimezoneOffset(),rn=new Date(Dt.getFullYear(),6,1).getTimezoneOffset(),Dt=0|(rn!=(Gt=Gt.getTimezoneOffset())&&Dt.getTimezoneOffset()==Math.min(Gt,rn)),at()[Vt+32>>2>>>0]=Dt},Y:function(Dt){var Vt=new Date(at()[Dt+20>>2>>>0]+1900,at()[Dt+16>>2>>>0],at()[Dt+12>>2>>>0],at()[Dt+8>>2>>>0],at()[Dt+4>>2>>>0],at()[Dt>>2>>>0],0),Gt=at()[Dt+32>>2>>>0],rn=Vt.getTimezoneOffset(),yn=new Date(Vt.getFullYear(),0,1),Tn=new Date(Vt.getFullYear(),6,1).getTimezoneOffset(),Xn=yn.getTimezoneOffset(),wr=Math.min(Xn,Tn);return 0>Gt?at()[Dt+32>>2>>>0]=+(Tn!=Xn&&wr==rn):0<Gt!=(wr==rn)&&(Tn=Math.max(Xn,Tn),Vt.setTime(Vt.getTime()+6e4*((0<Gt?wr:Tn)-rn))),at()[Dt+24>>2>>>0]=Vt.getDay(),Gt=(Vt.getTime()-yn.getTime())/864e5|0,at()[Dt+28>>2>>>0]=Gt,at()[Dt>>2>>>0]=Vt.getSeconds(),at()[Dt+4>>2>>>0]=Vt.getMinutes(),at()[Dt+8>>2>>>0]=Vt.getHours(),at()[Dt+12>>2>>>0]=Vt.getDate(),at()[Dt+16>>2>>>0]=Vt.getMonth(),Vt.getTime()/1e3|0},G:Yn,H:In,Z:function Dt(Vt,Gt,rn){Dt.jb||(Dt.jb=!0,Dr(Vt,Gt,rn))},d:function(){Bn("")},m:function(){if(!xt&&!_t){var Dt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Lt||(Lt={}),Lt[Dt]||(Lt[Dt]=1,xt&&(Dt="warning: "+Dt),kt(Dt))}},w:function(){return 4294901760},f:Bt,S:function(Dt,Vt,Gt){rt().copyWithin(Dt>>>0,Vt>>>0,Vt+Gt>>>0)},g:function(){return xt?a(3993).cpus().length:navigator.hardwareConcurrency},J:function(Dt,Vt,Gt){Vr.length=Vt,Gt>>=3;for(var rn=0;rn<Vt;rn++)Vr[rn]=st()[Gt+rn>>>0];return(0>Dt?Wn[-Dt-1]:Ql[Dt]).apply(null,Vr)},v:function(Dt){var Vt=rt().length;if((Dt>>>=0)<=Vt||4294901760<Dt)return!1;for(var Gt=1;4>=Gt;Gt*=2){var rn=Vt*(1+.2/Gt);rn=Math.min(rn,Dt+100663296);var yn=Math;rn=Math.max(Dt,rn),yn=yn.min.call(yn,4294901760,rn+(65536-rn%65536)%65536);e:{try{Ut.grow(yn-Wt.byteLength+65535>>>16),bn(Ut.buffer);var Tn=1;break e}catch{}Tn=void 0}if(Tn)return!0}return!1},U:function(){throw"unwind"},M:Zo,N:Jo,k:yr,h:rs,o:xo,t:Vo,n:js,u:function Dt(Vt,Gt){Dt.Wa||(Dt.Wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var yn=new Uint8Array(1);return()=>(crypto.getRandomValues(yn),yn[0])}if(xt)try{var Tn=a(760);return()=>Tn.randomBytes(1)[0]}catch{}return()=>Bn("randomDevice")}());for(var rn=0;rn<Gt;rn++)tt()[Vt+rn>>0>>>0]=Dt.Wa();return 0},a:Ut||_e.wasmMemory,C:os,e:function(Dt,Vt,Gt,rn){return os(Dt,Vt,Gt,rn)}};(function(){function Dt(yn,Tn){_e.asm=yn.exports,Rn.$a.push(_e.asm.wa),xn=_e.asm.za,Ln.unshift(_e.asm._),zt=Tn,Et||(zn--,_e.monitorRunDependencies&&_e.monitorRunDependencies(zn),zn==0&&Fn&&(yn=Fn,Fn=null,yn()))}function Vt(yn){Dt(yn.instance,yn.module)}function Gt(yn){return function(){if(!It&&(bt||_t)){if(typeof fetch=="function"&&!On.startsWith("file://"))return fetch(On,{credentials:"same-origin"}).then(function(Tn){if(!Tn.ok)throw"failed to load wasm binary file at '"+On+"'";return Tn.arrayBuffer()}).catch(function(){return Sn()});if(lt)return new Promise(function(Tn,Xn){lt(On,function(wr){Tn(new Uint8Array(wr))},Xn)})}return Promise.resolve().then(function(){return Sn()})}().then(function(Tn){return WebAssembly.instantiate(Tn,rn)}).then(function(Tn){return Tn}).then(yn,function(Tn){kt("failed to asynchronously prepare wasm: "+Tn),Bn(Tn)})}var rn={a:xs};if(Et||(zn++,_e.monitorRunDependencies&&_e.monitorRunDependencies(zn)),_e.instantiateWasm)try{return _e.instantiateWasm(rn,Dt)}catch(yn){return kt("Module.instantiateWasm callback failed with error: "+yn),!1}(It||typeof WebAssembly.instantiateStreaming!="function"||hn()||On.startsWith("file://")||xt||typeof fetch!="function"?Gt(Vt):fetch(On,{credentials:"same-origin"}).then(function(yn){return WebAssembly.instantiateStreaming(yn,rn).then(Vt,function(Tn){return kt("wasm streaming compile failed: "+Tn),kt("falling back to ArrayBuffer instantiation"),Gt(Vt)})})).catch(nt)})(),_e.___wasm_call_ctors=function(){return(_e.___wasm_call_ctors=_e.asm._).apply(null,arguments)},_e._OrtInit=function(){return(_e._OrtInit=_e.asm.$).apply(null,arguments)},_e._OrtCreateSessionOptions=function(){return(_e._OrtCreateSessionOptions=_e.asm.aa).apply(null,arguments)},_e._OrtAppendExecutionProvider=function(){return(_e._OrtAppendExecutionProvider=_e.asm.ba).apply(null,arguments)},_e._OrtAddSessionConfigEntry=function(){return(_e._OrtAddSessionConfigEntry=_e.asm.ca).apply(null,arguments)},_e._OrtReleaseSessionOptions=function(){return(_e._OrtReleaseSessionOptions=_e.asm.da).apply(null,arguments)},_e._OrtCreateSession=function(){return(_e._OrtCreateSession=_e.asm.ea).apply(null,arguments)},_e._OrtReleaseSession=function(){return(_e._OrtReleaseSession=_e.asm.fa).apply(null,arguments)},_e._OrtGetInputCount=function(){return(_e._OrtGetInputCount=_e.asm.ga).apply(null,arguments)},_e._OrtGetOutputCount=function(){return(_e._OrtGetOutputCount=_e.asm.ha).apply(null,arguments)},_e._OrtGetInputName=function(){return(_e._OrtGetInputName=_e.asm.ia).apply(null,arguments)},_e._OrtGetOutputName=function(){return(_e._OrtGetOutputName=_e.asm.ja).apply(null,arguments)},_e._OrtFree=function(){return(_e._OrtFree=_e.asm.ka).apply(null,arguments)},_e._OrtCreateTensor=function(){return(_e._OrtCreateTensor=_e.asm.la).apply(null,arguments)},_e._OrtGetTensorData=function(){return(_e._OrtGetTensorData=_e.asm.ma).apply(null,arguments)},_e._OrtReleaseTensor=function(){return(_e._OrtReleaseTensor=_e.asm.na).apply(null,arguments)},_e._OrtCreateRunOptions=function(){return(_e._OrtCreateRunOptions=_e.asm.oa).apply(null,arguments)},_e._OrtAddRunConfigEntry=function(){return(_e._OrtAddRunConfigEntry=_e.asm.pa).apply(null,arguments)},_e._OrtReleaseRunOptions=function(){return(_e._OrtReleaseRunOptions=_e.asm.qa).apply(null,arguments)},_e._OrtRun=function(){return(_e._OrtRun=_e.asm.ra).apply(null,arguments)},_e._OrtEndProfiling=function(){return(_e._OrtEndProfiling=_e.asm.sa).apply(null,arguments)};var po=_e._pthread_self=function(){return(po=_e._pthread_self=_e.asm.ta).apply(null,arguments)},io=_e._malloc=function(){return(io=_e._malloc=_e.asm.ua).apply(null,arguments)};_e._free=function(){return(_e._free=_e.asm.va).apply(null,arguments)},_e.__emscripten_tls_init=function(){return(_e.__emscripten_tls_init=_e.asm.wa).apply(null,arguments)};var fr=_e.__emscripten_thread_init=function(){return(fr=_e.__emscripten_thread_init=_e.asm.xa).apply(null,arguments)};_e.__emscripten_thread_crashed=function(){return(_e.__emscripten_thread_crashed=_e.asm.ya).apply(null,arguments)};var lr,go=_e._emscripten_run_in_main_runtime_thread_js=function(){return(go=_e._emscripten_run_in_main_runtime_thread_js=_e.asm.Aa).apply(null,arguments)},$r=_e.__emscripten_proxy_execute_task_queue=function(){return($r=_e.__emscripten_proxy_execute_task_queue=_e.asm.Ba).apply(null,arguments)},Mr=_e.__emscripten_thread_free_data=function(){return(Mr=_e.__emscripten_thread_free_data=_e.asm.Ca).apply(null,arguments)},wo=_e.__emscripten_thread_exit=function(){return(wo=_e.__emscripten_thread_exit=_e.asm.Da).apply(null,arguments)},ko=_e._emscripten_stack_set_limits=function(){return(ko=_e._emscripten_stack_set_limits=_e.asm.Ea).apply(null,arguments)},Fr=_e.stackSave=function(){return(Fr=_e.stackSave=_e.asm.Fa).apply(null,arguments)},Ro=_e.stackRestore=function(){return(Ro=_e.stackRestore=_e.asm.Ga).apply(null,arguments)},as=_e.stackAlloc=function(){return(as=_e.stackAlloc=_e.asm.Ha).apply(null,arguments)};function ws(){function Dt(){if(!lr&&(lr=!0,_e.calledRun=!0,!jt)&&(Et||Rt(Ln),$(_e),_e.onRuntimeInitialized&&_e.onRuntimeInitialized(),!Et)){if(_e.postRun)for(typeof _e.postRun=="function"&&(_e.postRun=[_e.postRun]);_e.postRun.length;){var Vt=_e.postRun.shift();Hn.unshift(Vt)}Rt(Hn)}}if(!(0<zn))if(Et)$(_e),Et||Rt(Ln),postMessage({cmd:"loaded"});else{if(_e.preRun)for(typeof _e.preRun=="function"&&(_e.preRun=[_e.preRun]);_e.preRun.length;)jn();Rt(Jn),0<zn||(_e.setStatus?(_e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){_e.setStatus("")},1),Dt()},1)):Dt())}}if(_e.___cxa_is_pointer_type=function(){return(_e.___cxa_is_pointer_type=_e.asm.Ia).apply(null,arguments)},_e.UTF8ToString=wn,_e.stringToUTF8=function(Dt,Vt,Gt){return cn(Dt,rt(),Vt,Gt)},_e.lengthBytesUTF8=An,_e.keepRuntimeAlive=function(){return Ft},_e.wasmMemory=Ut,_e.stackSave=Fr,_e.stackRestore=Ro,_e.stackAlloc=as,_e.ExitStatus=Kn,_e.PThread=Rn,Fn=function Dt(){lr||ws(),lr||(Fn=Dt)},_e.preInit)for(typeof _e.preInit=="function"&&(_e.preInit=[_e.preInit]);0<_e.preInit.length;)_e.preInit.pop()();return ws(),et.ready});o.exports=j},932:(o,i,a)=>{var s,j=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(et){var tt,rt,at;et=et||{},tt||(tt=et!==void 0?et:{}),tt.ready=new Promise(function(Rt,Nt){rt=Rt,at=Nt});var ot,st,_e,$,nt,it,lt=Object.assign({},tt),dt="./this.program",ft=(Rt,Nt)=>{throw Nt},pt=typeof window=="object",ht=typeof importScripts=="function",gt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",mt="";gt?(mt=ht?a(908).dirname(mt)+"/":"//",it=()=>{nt||($=a(1384),nt=a(908))},ot=function(Rt,Nt){return it(),Rt=nt.normalize(Rt),$.readFileSync(Rt,Nt?void 0:"utf8")},_e=Rt=>((Rt=ot(Rt,!0)).buffer||(Rt=new Uint8Array(Rt)),Rt),st=(Rt,Nt,Lt)=>{it(),Rt=nt.normalize(Rt),$.readFile(Rt,function(Bt,Ht){Bt?Lt(Bt):Nt(Ht.buffer)})},1<process.argv.length&&(dt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Rt){if(!(Rt instanceof Vn))throw Rt}),process.on("unhandledRejection",function(Rt){throw Rt}),ft=(Rt,Nt)=>{if(xt)throw process.exitCode=Rt,Nt;Nt instanceof Vn||_t("exiting due to exception: "+Nt),process.exit(Rt)},tt.inspect=function(){return"[Emscripten Module object]"}):(pt||ht)&&(ht?mt=self.location.href:typeof document<"u"&&document.currentScript&&(mt=document.currentScript.src),s&&(mt=s),mt=mt.indexOf("blob:")!==0?mt.substr(0,mt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ot=Rt=>{var Nt=new XMLHttpRequest;return Nt.open("GET",Rt,!1),Nt.send(null),Nt.responseText},ht&&(_e=Rt=>{var Nt=new XMLHttpRequest;return Nt.open("GET",Rt,!1),Nt.responseType="arraybuffer",Nt.send(null),new Uint8Array(Nt.response)}),st=(Rt,Nt,Lt)=>{var Bt=new XMLHttpRequest;Bt.open("GET",Rt,!0),Bt.responseType="arraybuffer",Bt.onload=()=>{Bt.status==200||Bt.status==0&&Bt.response?Nt(Bt.response):Lt()},Bt.onerror=Lt,Bt.send(null)});var yt,bt=tt.print||console.log.bind(console),_t=tt.printErr||console.warn.bind(console);Object.assign(tt,lt),lt=null,tt.thisProgram&&(dt=tt.thisProgram),tt.quit&&(ft=tt.quit),tt.wasmBinary&&(yt=tt.wasmBinary);var xt=tt.noExitRuntime||!0;typeof WebAssembly!="object"&&wn("no native wasm support detected");var Et,Tt,Pt,At,Ot,It,$t=!1,kt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ft(Rt,Nt,Lt){var Bt=(Nt>>>=0)+Lt;for(Lt=Nt;Rt[Lt]&&!(Lt>=Bt);)++Lt;if(16<Lt-Nt&&Rt.buffer&&kt)return kt.decode(Rt.subarray(Nt,Lt));for(Bt="";Nt<Lt;){var Ht=Rt[Nt++];if(128&Ht){var Xt=63&Rt[Nt++];if((224&Ht)==192)Bt+=String.fromCharCode((31&Ht)<<6|Xt);else{var Zt=63&Rt[Nt++];65536>(Ht=(240&Ht)==224?(15&Ht)<<12|Xt<<6|Zt:(7&Ht)<<18|Xt<<12|Zt<<6|63&Rt[Nt++])?Bt+=String.fromCharCode(Ht):(Ht-=65536,Bt+=String.fromCharCode(55296|Ht>>10,56320|1023&Ht))}}else Bt+=String.fromCharCode(Ht)}return Bt}function Ut(Rt,Nt){return(Rt>>>=0)?Ft(At,Rt,Nt):""}function zt(Rt,Nt,Lt,Bt){if(!(0<Bt))return 0;var Ht=Lt>>>=0;Bt=Lt+Bt-1;for(var Xt=0;Xt<Rt.length;++Xt){var Zt=Rt.charCodeAt(Xt);if(55296<=Zt&&57343>=Zt&&(Zt=65536+((1023&Zt)<<10)|1023&Rt.charCodeAt(++Xt)),127>=Zt){if(Lt>=Bt)break;Nt[Lt++>>>0]=Zt}else{if(2047>=Zt){if(Lt+1>=Bt)break;Nt[Lt++>>>0]=192|Zt>>6}else{if(65535>=Zt){if(Lt+2>=Bt)break;Nt[Lt++>>>0]=224|Zt>>12}else{if(Lt+3>=Bt)break;Nt[Lt++>>>0]=240|Zt>>18,Nt[Lt++>>>0]=128|Zt>>12&63}Nt[Lt++>>>0]=128|Zt>>6&63}Nt[Lt++>>>0]=128|63&Zt}}return Nt[Lt>>>0]=0,Lt-Ht}function Wt(Rt){for(var Nt=0,Lt=0;Lt<Rt.length;++Lt){var Bt=Rt.charCodeAt(Lt);127>=Bt?Nt++:2047>=Bt?Nt+=2:55296<=Bt&&57343>=Bt?(Nt+=4,++Lt):Nt+=3}return Nt}function Qt(){var Rt=Et.buffer;Tt=Rt,tt.HEAP8=Pt=new Int8Array(Rt),tt.HEAP16=new Int16Array(Rt),tt.HEAP32=Ot=new Int32Array(Rt),tt.HEAPU8=At=new Uint8Array(Rt),tt.HEAPU16=new Uint16Array(Rt),tt.HEAPU32=It=new Uint32Array(Rt),tt.HEAPF32=new Float32Array(Rt),tt.HEAPF64=new Float64Array(Rt)}var un=[],an=[],vn=[];function fn(){var Rt=tt.preRun.shift();un.unshift(Rt)}var jt,en=0,on=null;function wn(Rt){throw tt.onAbort&&tt.onAbort(Rt),_t(Rt="Aborted("+Rt+")"),$t=!0,Rt=new WebAssembly.RuntimeError(Rt+". Build with -sASSERTIONS for more info."),at(Rt),Rt}function cn(){return jt.startsWith("data:application/octet-stream;base64,")}if(jt="ort-wasm.wasm",!cn()){var An=jt;jt=tt.locateFile?tt.locateFile(An,mt):mt+An}function bn(){var Rt=jt;try{if(Rt==jt&&yt)return new Uint8Array(yt);if(_e)return _e(Rt);throw"both async and sync fetching of the wasm failed"}catch(Nt){wn(Nt)}}function Vn(Rt){this.name="ExitStatus",this.message="Program terminated with exit("+Rt+")",this.status=Rt}function xn(Rt){for(;0<Rt.length;)Rt.shift()(tt)}function Jn(Rt){this.sa=Rt-24,this.Ia=function(Nt){It[this.sa+4>>2>>>0]=Nt},this.Ba=function(Nt){It[this.sa+8>>2>>>0]=Nt},this.Ga=function(){Ot[this.sa>>2>>>0]=0},this.Aa=function(){Pt[this.sa+12>>0>>>0]=0},this.Ha=function(){Pt[this.sa+13>>0>>>0]=0},this.ya=function(Nt,Lt){this.za(),this.Ia(Nt),this.Ba(Lt),this.Ga(),this.Aa(),this.Ha()},this.za=function(){It[this.sa+16>>2>>>0]=0}}function Ln(Rt){var Nt=Wt(Rt)+1,Lt=Kn(Nt);return Lt&&zt(Rt,Pt,Lt,Nt),Lt}var Hn={};function jn(){if(!On){var Rt,Nt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:dt||"./this.program"};for(Rt in Hn)Hn[Rt]===void 0?delete Nt[Rt]:Nt[Rt]=Hn[Rt];var Lt=[];for(Rt in Nt)Lt.push(Rt+"="+Nt[Rt]);On=Lt}return On}var On,zn=[null,[],[]];function Fn(Rt){return Rt%4==0&&(Rt%100!=0||Rt%400==0)}var Bn=[31,29,31,30,31,30,31,31,30,31,30,31],hn=[31,28,31,30,31,30,31,31,30,31,30,31];function Sn(Rt,Nt,Lt,Bt){function Ht(Kt,En,Un){for(Kt=typeof Kt=="number"?Kt.toString():Kt||"";Kt.length<En;)Kt=Un[0]+Kt;return Kt}function Xt(Kt,En){return Ht(Kt,En,"0")}function Zt(Kt,En){function Un(dr){return 0>dr?-1:0<dr?1:0}var cr;return(cr=Un(Kt.getFullYear()-En.getFullYear()))===0&&(cr=Un(Kt.getMonth()-En.getMonth()))===0&&(cr=Un(Kt.getDate()-En.getDate())),cr}function tn(Kt){switch(Kt.getDay()){case 0:return new Date(Kt.getFullYear()-1,11,29);case 1:return Kt;case 2:return new Date(Kt.getFullYear(),0,3);case 3:return new Date(Kt.getFullYear(),0,2);case 4:return new Date(Kt.getFullYear(),0,1);case 5:return new Date(Kt.getFullYear()-1,11,31);case 6:return new Date(Kt.getFullYear()-1,11,30)}}function dn(Kt){var En=Kt.qa;for(Kt=new Date(new Date(Kt.ra+1900,0,1).getTime());0<En;){var Un=Kt.getMonth(),cr=(Fn(Kt.getFullYear())?Bn:hn)[Un];if(!(En>cr-Kt.getDate())){Kt.setDate(Kt.getDate()+En);break}En-=cr-Kt.getDate()+1,Kt.setDate(1),11>Un?Kt.setMonth(Un+1):(Kt.setMonth(0),Kt.setFullYear(Kt.getFullYear()+1))}return Un=new Date(Kt.getFullYear()+1,0,4),En=tn(new Date(Kt.getFullYear(),0,4)),Un=tn(Un),0>=Zt(En,Kt)?0>=Zt(Un,Kt)?Kt.getFullYear()+1:Kt.getFullYear():Kt.getFullYear()-1}var pn=Ot[Bt+40>>2>>>0];for(var mn in Bt={Ea:Ot[Bt>>2>>>0],Da:Ot[Bt+4>>2>>>0],ta:Ot[Bt+8>>2>>>0],va:Ot[Bt+12>>2>>>0],ua:Ot[Bt+16>>2>>>0],ra:Ot[Bt+20>>2>>>0],la:Ot[Bt+24>>2>>>0],qa:Ot[Bt+28>>2>>>0],Ja:Ot[Bt+32>>2>>>0],Ca:Ot[Bt+36>>2>>>0],Fa:pn?Ut(pn):""},Lt=Ut(Lt),pn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Lt=Lt.replace(new RegExp(mn,"g"),pn[mn]);var _n="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Mn="January February March April May June July August September October November December".split(" ");for(mn in pn={"%a":function(Kt){return _n[Kt.la].substring(0,3)},"%A":function(Kt){return _n[Kt.la]},"%b":function(Kt){return Mn[Kt.ua].substring(0,3)},"%B":function(Kt){return Mn[Kt.ua]},"%C":function(Kt){return Xt((Kt.ra+1900)/100|0,2)},"%d":function(Kt){return Xt(Kt.va,2)},"%e":function(Kt){return Ht(Kt.va,2," ")},"%g":function(Kt){return dn(Kt).toString().substring(2)},"%G":function(Kt){return dn(Kt)},"%H":function(Kt){return Xt(Kt.ta,2)},"%I":function(Kt){return(Kt=Kt.ta)==0?Kt=12:12<Kt&&(Kt-=12),Xt(Kt,2)},"%j":function(Kt){for(var En=0,Un=0;Un<=Kt.ua-1;En+=(Fn(Kt.ra+1900)?Bn:hn)[Un++]);return Xt(Kt.va+En,3)},"%m":function(Kt){return Xt(Kt.ua+1,2)},"%M":function(Kt){return Xt(Kt.Da,2)},"%n":function(){return`
`},"%p":function(Kt){return 0<=Kt.ta&&12>Kt.ta?"AM":"PM"},"%S":function(Kt){return Xt(Kt.Ea,2)},"%t":function(){return"	"},"%u":function(Kt){return Kt.la||7},"%U":function(Kt){return Xt(Math.floor((Kt.qa+7-Kt.la)/7),2)},"%V":function(Kt){var En=Math.floor((Kt.qa+7-(Kt.la+6)%7)/7);if(2>=(Kt.la+371-Kt.qa-2)%7&&En++,En)En==53&&((Un=(Kt.la+371-Kt.qa)%7)==4||Un==3&&Fn(Kt.ra)||(En=1));else{En=52;var Un=(Kt.la+7-Kt.qa-1)%7;(Un==4||Un==5&&Fn(Kt.ra%400-1))&&En++}return Xt(En,2)},"%w":function(Kt){return Kt.la},"%W":function(Kt){return Xt(Math.floor((Kt.qa+7-(Kt.la+6)%7)/7),2)},"%y":function(Kt){return(Kt.ra+1900).toString().substring(2)},"%Y":function(Kt){return Kt.ra+1900},"%z":function(Kt){var En=0<=(Kt=Kt.Ca);return Kt=Math.abs(Kt)/60,(En?"+":"-")+("0000"+(Kt/60*100+Kt%60)).slice(-4)},"%Z":function(Kt){return Kt.Fa},"%%":function(){return"%"}},Lt=Lt.replace(/%%/g,"\0\0"),pn)Lt.includes(mn)&&(Lt=Lt.replace(new RegExp(mn,"g"),pn[mn](Bt)));return mn=function(Kt){var En=Array(Wt(Kt)+1);return zt(Kt,En,0,En.length),En}(Lt=Lt.replace(/\0\0/g,"%")),mn.length>Nt?0:(Pt.set(mn,Rt>>>0),mn.length-1)}var Wn={a:function(Rt){return Kn(Rt+24)+24},b:function(Rt,Nt,Lt){throw new Jn(Rt).ya(Nt,Lt),Rt},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){wn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){wn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(Rt,Nt){Rt=new Date(1e3*(It[Rt>>>2]+4294967296*Ot[Rt+4>>>2])),Ot[Nt>>2>>>0]=Rt.getUTCSeconds(),Ot[Nt+4>>2>>>0]=Rt.getUTCMinutes(),Ot[Nt+8>>2>>>0]=Rt.getUTCHours(),Ot[Nt+12>>2>>>0]=Rt.getUTCDate(),Ot[Nt+16>>2>>>0]=Rt.getUTCMonth(),Ot[Nt+20>>2>>>0]=Rt.getUTCFullYear()-1900,Ot[Nt+24>>2>>>0]=Rt.getUTCDay(),Ot[Nt+28>>2>>>0]=(Rt.getTime()-Date.UTC(Rt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(Rt,Nt){Rt=new Date(1e3*(It[Rt>>>2]+4294967296*Ot[Rt+4>>>2])),Ot[Nt>>2>>>0]=Rt.getSeconds(),Ot[Nt+4>>2>>>0]=Rt.getMinutes(),Ot[Nt+8>>2>>>0]=Rt.getHours(),Ot[Nt+12>>2>>>0]=Rt.getDate(),Ot[Nt+16>>2>>>0]=Rt.getMonth(),Ot[Nt+20>>2>>>0]=Rt.getFullYear()-1900,Ot[Nt+24>>2>>>0]=Rt.getDay();var Lt=new Date(Rt.getFullYear(),0,1);Ot[Nt+28>>2>>>0]=(Rt.getTime()-Lt.getTime())/864e5|0,Ot[Nt+36>>2>>>0]=-60*Rt.getTimezoneOffset();var Bt=new Date(Rt.getFullYear(),6,1).getTimezoneOffset();Lt=Lt.getTimezoneOffset(),Ot[Nt+32>>2>>>0]=0|(Bt!=Lt&&Rt.getTimezoneOffset()==Math.min(Lt,Bt))},O:function(Rt){var Nt=new Date(Ot[Rt+20>>2>>>0]+1900,Ot[Rt+16>>2>>>0],Ot[Rt+12>>2>>>0],Ot[Rt+8>>2>>>0],Ot[Rt+4>>2>>>0],Ot[Rt>>2>>>0],0),Lt=Ot[Rt+32>>2>>>0],Bt=Nt.getTimezoneOffset(),Ht=new Date(Nt.getFullYear(),0,1),Xt=new Date(Nt.getFullYear(),6,1).getTimezoneOffset(),Zt=Ht.getTimezoneOffset(),tn=Math.min(Zt,Xt);return 0>Lt?Ot[Rt+32>>2>>>0]=+(Xt!=Zt&&tn==Bt):0<Lt!=(tn==Bt)&&(Xt=Math.max(Zt,Xt),Nt.setTime(Nt.getTime()+6e4*((0<Lt?tn:Xt)-Bt))),Ot[Rt+24>>2>>>0]=Nt.getDay(),Ot[Rt+28>>2>>>0]=(Nt.getTime()-Ht.getTime())/864e5|0,Ot[Rt>>2>>>0]=Nt.getSeconds(),Ot[Rt+4>>2>>>0]=Nt.getMinutes(),Ot[Rt+8>>2>>>0]=Nt.getHours(),Ot[Rt+12>>2>>>0]=Nt.getDate(),Ot[Rt+16>>2>>>0]=Nt.getMonth(),Nt.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function Rt(Nt,Lt,Bt){Rt.xa||(Rt.xa=!0,function(Ht,Xt,Zt){function tn(Mn){return(Mn=Mn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Mn[1]:"GMT"}var dn=new Date().getFullYear(),pn=new Date(dn,0,1),mn=new Date(dn,6,1);dn=pn.getTimezoneOffset();var _n=mn.getTimezoneOffset();Ot[Ht>>2>>>0]=60*Math.max(dn,_n),Ot[Xt>>2>>>0]=+(dn!=_n),Ht=tn(pn),Xt=tn(mn),Ht=Ln(Ht),Xt=Ln(Xt),_n<dn?(It[Zt>>2>>>0]=Ht,It[Zt+4>>2>>>0]=Xt):(It[Zt>>2>>>0]=Xt,It[Zt+4>>2>>>0]=Ht)}(Nt,Lt,Bt))},d:function(){wn("")},t:function(){return 4294901760},h:gt?()=>{var Rt=process.hrtime();return 1e3*Rt[0]+Rt[1]/1e6}:()=>performance.now(),J:function(Rt,Nt,Lt){At.copyWithin(Rt>>>0,Nt>>>0,Nt+Lt>>>0)},f:function(Rt){var Nt=At.length;if(4294901760<(Rt>>>=0))return!1;for(var Lt=1;4>=Lt;Lt*=2){var Bt=Nt*(1+.2/Lt);Bt=Math.min(Bt,Rt+100663296);var Ht=Math;Bt=Math.max(Rt,Bt),Ht=Ht.min.call(Ht,4294901760,Bt+(65536-Bt%65536)%65536);e:{try{Et.grow(Ht-Tt.byteLength+65535>>>16),Qt();var Xt=1;break e}catch{}Xt=void 0}if(Xt)return!0}return!1},D:function(Rt,Nt){var Lt=0;return jn().forEach(function(Bt,Ht){var Xt=Nt+Lt;for(Ht=It[Rt+4*Ht>>2>>>0]=Xt,Xt=0;Xt<Bt.length;++Xt)Pt[Ht++>>0>>>0]=Bt.charCodeAt(Xt);Pt[Ht>>0>>>0]=0,Lt+=Bt.length+1}),0},E:function(Rt,Nt){var Lt=jn();It[Rt>>2>>>0]=Lt.length;var Bt=0;return Lt.forEach(function(Ht){Bt+=Ht.length+1}),It[Nt>>2>>>0]=Bt,0},r:function(Rt){xt||(tt.onExit&&tt.onExit(Rt),$t=!0),ft(Rt,new Vn(Rt))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(Rt,Nt,Lt,Bt){for(var Ht=0,Xt=0;Xt<Lt;Xt++){var Zt=It[Nt>>2>>>0],tn=It[Nt+4>>2>>>0];Nt+=8;for(var dn=0;dn<tn;dn++){var pn=At[Zt+dn>>>0],mn=zn[Rt];pn===0||pn===10?((Rt===1?bt:_t)(Ft(mn,0)),mn.length=0):mn.push(pn)}Ht+=tn}return It[Bt>>2>>>0]=Ht,0},s:function Rt(Nt,Lt){Rt.wa||(Rt.wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Ht=new Uint8Array(1);return()=>(crypto.getRandomValues(Ht),Ht[0])}if(gt)try{var Xt=a(760);return()=>Xt.randomBytes(1)[0]}catch{}return()=>wn("randomDevice")}());for(var Bt=0;Bt<Lt;Bt++)Pt[Nt+Bt>>0>>>0]=Rt.wa();return 0},A:Sn,c:function(Rt,Nt,Lt,Bt){return Sn(Rt,Nt,Lt,Bt)}};(function(){function Rt(Ht){tt.asm=Ht.exports,Et=tt.asm.P,Qt(),an.unshift(tt.asm.Q),en--,tt.monitorRunDependencies&&tt.monitorRunDependencies(en),en==0&&on&&(Ht=on,on=null,Ht())}function Nt(Ht){Rt(Ht.instance)}function Lt(Ht){return function(){if(!yt&&(pt||ht)){if(typeof fetch=="function"&&!jt.startsWith("file://"))return fetch(jt,{credentials:"same-origin"}).then(function(Xt){if(!Xt.ok)throw"failed to load wasm binary file at '"+jt+"'";return Xt.arrayBuffer()}).catch(function(){return bn()});if(st)return new Promise(function(Xt,Zt){st(jt,function(tn){Xt(new Uint8Array(tn))},Zt)})}return Promise.resolve().then(function(){return bn()})}().then(function(Xt){return WebAssembly.instantiate(Xt,Bt)}).then(function(Xt){return Xt}).then(Ht,function(Xt){_t("failed to asynchronously prepare wasm: "+Xt),wn(Xt)})}var Bt={a:Wn};if(en++,tt.monitorRunDependencies&&tt.monitorRunDependencies(en),tt.instantiateWasm)try{return tt.instantiateWasm(Bt,Rt)}catch(Ht){return _t("Module.instantiateWasm callback failed with error: "+Ht),!1}(yt||typeof WebAssembly.instantiateStreaming!="function"||cn()||jt.startsWith("file://")||gt||typeof fetch!="function"?Lt(Nt):fetch(jt,{credentials:"same-origin"}).then(function(Ht){return WebAssembly.instantiateStreaming(Ht,Bt).then(Nt,function(Xt){return _t("wasm streaming compile failed: "+Xt),_t("falling back to ArrayBuffer instantiation"),Lt(Nt)})})).catch(at)})(),tt.___wasm_call_ctors=function(){return(tt.___wasm_call_ctors=tt.asm.Q).apply(null,arguments)},tt._OrtInit=function(){return(tt._OrtInit=tt.asm.R).apply(null,arguments)},tt._OrtCreateSessionOptions=function(){return(tt._OrtCreateSessionOptions=tt.asm.S).apply(null,arguments)},tt._OrtAppendExecutionProvider=function(){return(tt._OrtAppendExecutionProvider=tt.asm.T).apply(null,arguments)},tt._OrtAddSessionConfigEntry=function(){return(tt._OrtAddSessionConfigEntry=tt.asm.U).apply(null,arguments)},tt._OrtReleaseSessionOptions=function(){return(tt._OrtReleaseSessionOptions=tt.asm.V).apply(null,arguments)},tt._OrtCreateSession=function(){return(tt._OrtCreateSession=tt.asm.W).apply(null,arguments)},tt._OrtReleaseSession=function(){return(tt._OrtReleaseSession=tt.asm.X).apply(null,arguments)},tt._OrtGetInputCount=function(){return(tt._OrtGetInputCount=tt.asm.Y).apply(null,arguments)},tt._OrtGetOutputCount=function(){return(tt._OrtGetOutputCount=tt.asm.Z).apply(null,arguments)},tt._OrtGetInputName=function(){return(tt._OrtGetInputName=tt.asm._).apply(null,arguments)},tt._OrtGetOutputName=function(){return(tt._OrtGetOutputName=tt.asm.$).apply(null,arguments)},tt._OrtFree=function(){return(tt._OrtFree=tt.asm.aa).apply(null,arguments)},tt._OrtCreateTensor=function(){return(tt._OrtCreateTensor=tt.asm.ba).apply(null,arguments)},tt._OrtGetTensorData=function(){return(tt._OrtGetTensorData=tt.asm.ca).apply(null,arguments)},tt._OrtReleaseTensor=function(){return(tt._OrtReleaseTensor=tt.asm.da).apply(null,arguments)},tt._OrtCreateRunOptions=function(){return(tt._OrtCreateRunOptions=tt.asm.ea).apply(null,arguments)},tt._OrtAddRunConfigEntry=function(){return(tt._OrtAddRunConfigEntry=tt.asm.fa).apply(null,arguments)},tt._OrtReleaseRunOptions=function(){return(tt._OrtReleaseRunOptions=tt.asm.ga).apply(null,arguments)},tt._OrtRun=function(){return(tt._OrtRun=tt.asm.ha).apply(null,arguments)},tt._OrtEndProfiling=function(){return(tt._OrtEndProfiling=tt.asm.ia).apply(null,arguments)};var Kn=tt._malloc=function(){return(Kn=tt._malloc=tt.asm.ja).apply(null,arguments)};tt._free=function(){return(tt._free=tt.asm.ka).apply(null,arguments)};var ir,gr=tt.stackSave=function(){return(gr=tt.stackSave=tt.asm.ma).apply(null,arguments)},ur=tt.stackRestore=function(){return(ur=tt.stackRestore=tt.asm.na).apply(null,arguments)},yr=tt.stackAlloc=function(){return(yr=tt.stackAlloc=tt.asm.oa).apply(null,arguments)};function Rn(){function Rt(){if(!ir&&(ir=!0,tt.calledRun=!0,!$t)){if(xn(an),rt(tt),tt.onRuntimeInitialized&&tt.onRuntimeInitialized(),tt.postRun)for(typeof tt.postRun=="function"&&(tt.postRun=[tt.postRun]);tt.postRun.length;){var Nt=tt.postRun.shift();vn.unshift(Nt)}xn(vn)}}if(!(0<en)){if(tt.preRun)for(typeof tt.preRun=="function"&&(tt.preRun=[tt.preRun]);tt.preRun.length;)fn();xn(un),0<en||(tt.setStatus?(tt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){tt.setStatus("")},1),Rt()},1)):Rt())}}if(tt.___cxa_is_pointer_type=function(){return(tt.___cxa_is_pointer_type=tt.asm.pa).apply(null,arguments)},tt.UTF8ToString=Ut,tt.stringToUTF8=function(Rt,Nt,Lt){return zt(Rt,At,Nt,Lt)},tt.lengthBytesUTF8=Wt,tt.stackSave=gr,tt.stackRestore=ur,tt.stackAlloc=yr,on=function Rt(){ir||Rn(),ir||(on=Rt)},tt.preInit)for(typeof tt.preInit=="function"&&(tt.preInit=[tt.preInit]);0<tt.preInit.length;)tt.preInit.pop()();return Rn(),et.ready});o.exports=j},4537:o=>{o.exports=function(i,a){for(var s=new Array(arguments.length-1),j=0,et=2,tt=!0;et<arguments.length;)s[j++]=arguments[et++];return new Promise(function(rt,at){s[j]=function(ot){if(tt)if(tt=!1,ot)at(ot);else{for(var st=new Array(arguments.length-1),_e=0;_e<st.length;)st[_e++]=arguments[_e];rt.apply(null,st)}};try{i.apply(a||null,s)}catch(ot){tt&&(tt=!1,at(ot))}})}},7419:(o,i)=>{var a=i;a.length=function(rt){var at=rt.length;if(!at)return 0;for(var ot=0;--at%4>1&&rt.charAt(at)==="=";)++ot;return Math.ceil(3*rt.length)/4-ot};for(var s=new Array(64),j=new Array(123),et=0;et<64;)j[s[et]=et<26?et+65:et<52?et+71:et<62?et-4:et-59|43]=et++;a.encode=function(rt,at,ot){for(var st,_e=null,$=[],nt=0,it=0;at<ot;){var lt=rt[at++];switch(it){case 0:$[nt++]=s[lt>>2],st=(3&lt)<<4,it=1;break;case 1:$[nt++]=s[st|lt>>4],st=(15&lt)<<2,it=2;break;case 2:$[nt++]=s[st|lt>>6],$[nt++]=s[63&lt],it=0}nt>8191&&((_e||(_e=[])).push(String.fromCharCode.apply(String,$)),nt=0)}return it&&($[nt++]=s[st],$[nt++]=61,it===1&&($[nt++]=61)),_e?(nt&&_e.push(String.fromCharCode.apply(String,$.slice(0,nt))),_e.join("")):String.fromCharCode.apply(String,$.slice(0,nt))};var tt="invalid encoding";a.decode=function(rt,at,ot){for(var st,_e=ot,$=0,nt=0;nt<rt.length;){var it=rt.charCodeAt(nt++);if(it===61&&$>1)break;if((it=j[it])===void 0)throw Error(tt);switch($){case 0:st=it,$=1;break;case 1:at[ot++]=st<<2|(48&it)>>4,st=it,$=2;break;case 2:at[ot++]=(15&st)<<4|(60&it)>>2,st=it,$=3;break;case 3:at[ot++]=(3&st)<<6|it,$=0}}if($===1)throw Error(tt);return ot-_e},a.test=function(rt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(rt)}},9211:o=>{function i(){this._listeners={}}o.exports=i,i.prototype.on=function(a,s,j){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:s,ctx:j||this}),this},i.prototype.off=function(a,s){if(a===void 0)this._listeners={};else if(s===void 0)this._listeners[a]=[];else for(var j=this._listeners[a],et=0;et<j.length;)j[et].fn===s?j.splice(et,1):++et;return this},i.prototype.emit=function(a){var s=this._listeners[a];if(s){for(var j=[],et=1;et<arguments.length;)j.push(arguments[et++]);for(et=0;et<s.length;)s[et].fn.apply(s[et++].ctx,j)}return this}},945:o=>{function i(tt){return typeof Float32Array<"u"?function(){var rt=new Float32Array([-0]),at=new Uint8Array(rt.buffer),ot=at[3]===128;function st(it,lt,dt){rt[0]=it,lt[dt]=at[0],lt[dt+1]=at[1],lt[dt+2]=at[2],lt[dt+3]=at[3]}function _e(it,lt,dt){rt[0]=it,lt[dt]=at[3],lt[dt+1]=at[2],lt[dt+2]=at[1],lt[dt+3]=at[0]}function $(it,lt){return at[0]=it[lt],at[1]=it[lt+1],at[2]=it[lt+2],at[3]=it[lt+3],rt[0]}function nt(it,lt){return at[3]=it[lt],at[2]=it[lt+1],at[1]=it[lt+2],at[0]=it[lt+3],rt[0]}tt.writeFloatLE=ot?st:_e,tt.writeFloatBE=ot?_e:st,tt.readFloatLE=ot?$:nt,tt.readFloatBE=ot?nt:$}():function(){function rt(ot,st,_e,$){var nt=st<0?1:0;if(nt&&(st=-st),st===0)ot(1/st>0?0:2147483648,_e,$);else if(isNaN(st))ot(2143289344,_e,$);else if(st>34028234663852886e22)ot((nt<<31|2139095040)>>>0,_e,$);else if(st<11754943508222875e-54)ot((nt<<31|Math.round(st/1401298464324817e-60))>>>0,_e,$);else{var it=Math.floor(Math.log(st)/Math.LN2);ot((nt<<31|it+127<<23|8388607&Math.round(st*Math.pow(2,-it)*8388608))>>>0,_e,$)}}function at(ot,st,_e){var $=ot(st,_e),nt=2*($>>31)+1,it=$>>>23&255,lt=8388607&$;return it===255?lt?NaN:nt*(1/0):it===0?1401298464324817e-60*nt*lt:nt*Math.pow(2,it-150)*(lt+8388608)}tt.writeFloatLE=rt.bind(null,a),tt.writeFloatBE=rt.bind(null,s),tt.readFloatLE=at.bind(null,j),tt.readFloatBE=at.bind(null,et)}(),typeof Float64Array<"u"?function(){var rt=new Float64Array([-0]),at=new Uint8Array(rt.buffer),ot=at[7]===128;function st(it,lt,dt){rt[0]=it,lt[dt]=at[0],lt[dt+1]=at[1],lt[dt+2]=at[2],lt[dt+3]=at[3],lt[dt+4]=at[4],lt[dt+5]=at[5],lt[dt+6]=at[6],lt[dt+7]=at[7]}function _e(it,lt,dt){rt[0]=it,lt[dt]=at[7],lt[dt+1]=at[6],lt[dt+2]=at[5],lt[dt+3]=at[4],lt[dt+4]=at[3],lt[dt+5]=at[2],lt[dt+6]=at[1],lt[dt+7]=at[0]}function $(it,lt){return at[0]=it[lt],at[1]=it[lt+1],at[2]=it[lt+2],at[3]=it[lt+3],at[4]=it[lt+4],at[5]=it[lt+5],at[6]=it[lt+6],at[7]=it[lt+7],rt[0]}function nt(it,lt){return at[7]=it[lt],at[6]=it[lt+1],at[5]=it[lt+2],at[4]=it[lt+3],at[3]=it[lt+4],at[2]=it[lt+5],at[1]=it[lt+6],at[0]=it[lt+7],rt[0]}tt.writeDoubleLE=ot?st:_e,tt.writeDoubleBE=ot?_e:st,tt.readDoubleLE=ot?$:nt,tt.readDoubleBE=ot?nt:$}():function(){function rt(ot,st,_e,$,nt,it){var lt=$<0?1:0;if(lt&&($=-$),$===0)ot(0,nt,it+st),ot(1/$>0?0:2147483648,nt,it+_e);else if(isNaN($))ot(0,nt,it+st),ot(2146959360,nt,it+_e);else if($>17976931348623157e292)ot(0,nt,it+st),ot((lt<<31|2146435072)>>>0,nt,it+_e);else{var dt;if($<22250738585072014e-324)ot((dt=$/5e-324)>>>0,nt,it+st),ot((lt<<31|dt/4294967296)>>>0,nt,it+_e);else{var ft=Math.floor(Math.log($)/Math.LN2);ft===1024&&(ft=1023),ot(4503599627370496*(dt=$*Math.pow(2,-ft))>>>0,nt,it+st),ot((lt<<31|ft+1023<<20|1048576*dt&1048575)>>>0,nt,it+_e)}}}function at(ot,st,_e,$,nt){var it=ot($,nt+st),lt=ot($,nt+_e),dt=2*(lt>>31)+1,ft=lt>>>20&2047,pt=4294967296*(1048575&lt)+it;return ft===2047?pt?NaN:dt*(1/0):ft===0?5e-324*dt*pt:dt*Math.pow(2,ft-1075)*(pt+4503599627370496)}tt.writeDoubleLE=rt.bind(null,a,0,4),tt.writeDoubleBE=rt.bind(null,s,4,0),tt.readDoubleLE=at.bind(null,j,0,4),tt.readDoubleBE=at.bind(null,et,4,0)}(),tt}function a(tt,rt,at){rt[at]=255&tt,rt[at+1]=tt>>>8&255,rt[at+2]=tt>>>16&255,rt[at+3]=tt>>>24}function s(tt,rt,at){rt[at]=tt>>>24,rt[at+1]=tt>>>16&255,rt[at+2]=tt>>>8&255,rt[at+3]=255&tt}function j(tt,rt){return(tt[rt]|tt[rt+1]<<8|tt[rt+2]<<16|tt[rt+3]<<24)>>>0}function et(tt,rt){return(tt[rt]<<24|tt[rt+1]<<16|tt[rt+2]<<8|tt[rt+3])>>>0}o.exports=i(i)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(i,a,s){var j=s||8192,et=j>>>1,tt=null,rt=j;return function(at){if(at<1||at>et)return i(at);rt+at>j&&(tt=i(j),rt=0);var ot=a.call(tt,rt,rt+=at);return 7&rt&&(rt=1+(7|rt)),ot}}},4997:(o,i)=>{var a=i;a.length=function(s){for(var j=0,et=0,tt=0;tt<s.length;++tt)(et=s.charCodeAt(tt))<128?j+=1:et<2048?j+=2:(64512&et)==55296&&(64512&s.charCodeAt(tt+1))==56320?(++tt,j+=4):j+=3;return j},a.read=function(s,j,et){if(et-j<1)return"";for(var tt,rt=null,at=[],ot=0;j<et;)(tt=s[j++])<128?at[ot++]=tt:tt>191&&tt<224?at[ot++]=(31&tt)<<6|63&s[j++]:tt>239&&tt<365?(tt=((7&tt)<<18|(63&s[j++])<<12|(63&s[j++])<<6|63&s[j++])-65536,at[ot++]=55296+(tt>>10),at[ot++]=56320+(1023&tt)):at[ot++]=(15&tt)<<12|(63&s[j++])<<6|63&s[j++],ot>8191&&((rt||(rt=[])).push(String.fromCharCode.apply(String,at)),ot=0);return rt?(ot&&rt.push(String.fromCharCode.apply(String,at.slice(0,ot))),rt.join("")):String.fromCharCode.apply(String,at.slice(0,ot))},a.write=function(s,j,et){for(var tt,rt,at=et,ot=0;ot<s.length;++ot)(tt=s.charCodeAt(ot))<128?j[et++]=tt:tt<2048?(j[et++]=tt>>6|192,j[et++]=63&tt|128):(64512&tt)==55296&&(64512&(rt=s.charCodeAt(ot+1)))==56320?(tt=65536+((1023&tt)<<10)+(1023&rt),++ot,j[et++]=tt>>18|240,j[et++]=tt>>12&63|128,j[et++]=tt>>6&63|128,j[et++]=63&tt|128):(j[et++]=tt>>12|224,j[et++]=tt>>6&63|128,j[et++]=63&tt|128);return et-at}},3442:(o,i)=>{i.__esModule=!0;var a=function(){function s(j){if(!j)throw new TypeError("Invalid argument; `value` has no value.");this.value=s.EMPTY,j&&s.isGuid(j)&&(this.value=j)}return s.isGuid=function(j){var et=j.toString();return j&&(j instanceof s||s.validator.test(et))},s.create=function(){return new s([s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-"))},s.createEmpty=function(){return new s("emptyguid")},s.parse=function(j){return new s(j)},s.raw=function(){return[s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-")},s.gen=function(j){for(var et="",tt=0;tt<j;tt++)et+=(65536*(1+Math.random())|0).toString(16).substring(1);return et},s.prototype.equals=function(j){return s.isGuid(j)&&this.value===j.toString()},s.prototype.isEmpty=function(){return this.value===s.EMPTY},s.prototype.toString=function(){return this.value},s.prototype.toJSON=function(){return{value:this.value}},s.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),s.EMPTY="00000000-0000-0000-0000-000000000000",s}();i.Guid=a},3720:o=>{o.exports=a;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function a(xt,Et,Tt){this.low=0|xt,this.high=0|Et,this.unsigned=!!Tt}function s(xt){return(xt&&xt.__isLong__)===!0}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=s;var j={},et={};function tt(xt,Et){var Tt,Pt,At;return Et?(At=0<=(xt>>>=0)&&xt<256)&&(Pt=et[xt])?Pt:(Tt=at(xt,(0|xt)<0?-1:0,!0),At&&(et[xt]=Tt),Tt):(At=-128<=(xt|=0)&&xt<128)&&(Pt=j[xt])?Pt:(Tt=at(xt,xt<0?-1:0,!1),At&&(j[xt]=Tt),Tt)}function rt(xt,Et){if(isNaN(xt))return Et?ft:dt;if(Et){if(xt<0)return ft;if(xt>=nt)return yt}else{if(xt<=-it)return bt;if(xt+1>=it)return mt}return xt<0?rt(-xt,Et).neg():at(xt%$|0,xt/$|0,Et)}function at(xt,Et,Tt){return new a(xt,Et,Tt)}a.fromInt=tt,a.fromNumber=rt,a.fromBits=at;var ot=Math.pow;function st(xt,Et,Tt){if(xt.length===0)throw Error("empty string");if(xt==="NaN"||xt==="Infinity"||xt==="+Infinity"||xt==="-Infinity")return dt;if(typeof Et=="number"?(Tt=Et,Et=!1):Et=!!Et,(Tt=Tt||10)<2||36<Tt)throw RangeError("radix");var Pt;if((Pt=xt.indexOf("-"))>0)throw Error("interior hyphen");if(Pt===0)return st(xt.substring(1),Et,Tt).neg();for(var At=rt(ot(Tt,8)),Ot=dt,It=0;It<xt.length;It+=8){var $t=Math.min(8,xt.length-It),kt=parseInt(xt.substring(It,It+$t),Tt);if($t<8){var Ft=rt(ot(Tt,$t));Ot=Ot.mul(Ft).add(rt(kt))}else Ot=(Ot=Ot.mul(At)).add(rt(kt))}return Ot.unsigned=Et,Ot}function _e(xt,Et){return typeof xt=="number"?rt(xt,Et):typeof xt=="string"?st(xt,Et):at(xt.low,xt.high,typeof Et=="boolean"?Et:xt.unsigned)}a.fromString=st,a.fromValue=_e;var $=4294967296,nt=$*$,it=nt/2,lt=tt(1<<24),dt=tt(0);a.ZERO=dt;var ft=tt(0,!0);a.UZERO=ft;var pt=tt(1);a.ONE=pt;var ht=tt(1,!0);a.UONE=ht;var gt=tt(-1);a.NEG_ONE=gt;var mt=at(-1,2147483647,!1);a.MAX_VALUE=mt;var yt=at(-1,-1,!0);a.MAX_UNSIGNED_VALUE=yt;var bt=at(0,-2147483648,!1);a.MIN_VALUE=bt;var _t=a.prototype;_t.toInt=function(){return this.unsigned?this.low>>>0:this.low},_t.toNumber=function(){return this.unsigned?(this.high>>>0)*$+(this.low>>>0):this.high*$+(this.low>>>0)},_t.toString=function(xt){if((xt=xt||10)<2||36<xt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bt)){var Et=rt(xt),Tt=this.div(Et),Pt=Tt.mul(Et).sub(this);return Tt.toString(xt)+Pt.toInt().toString(xt)}return"-"+this.neg().toString(xt)}for(var At=rt(ot(xt,6),this.unsigned),Ot=this,It="";;){var $t=Ot.div(At),kt=(Ot.sub($t.mul(At)).toInt()>>>0).toString(xt);if((Ot=$t).isZero())return kt+It;for(;kt.length<6;)kt="0"+kt;It=""+kt+It}},_t.getHighBits=function(){return this.high},_t.getHighBitsUnsigned=function(){return this.high>>>0},_t.getLowBits=function(){return this.low},_t.getLowBitsUnsigned=function(){return this.low>>>0},_t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bt)?64:this.neg().getNumBitsAbs();for(var xt=this.high!=0?this.high:this.low,Et=31;Et>0&&!(xt&1<<Et);Et--);return this.high!=0?Et+33:Et+1},_t.isZero=function(){return this.high===0&&this.low===0},_t.eqz=_t.isZero,_t.isNegative=function(){return!this.unsigned&&this.high<0},_t.isPositive=function(){return this.unsigned||this.high>=0},_t.isOdd=function(){return(1&this.low)==1},_t.isEven=function(){return(1&this.low)==0},_t.equals=function(xt){return s(xt)||(xt=_e(xt)),(this.unsigned===xt.unsigned||this.high>>>31!=1||xt.high>>>31!=1)&&this.high===xt.high&&this.low===xt.low},_t.eq=_t.equals,_t.notEquals=function(xt){return!this.eq(xt)},_t.neq=_t.notEquals,_t.ne=_t.notEquals,_t.lessThan=function(xt){return this.comp(xt)<0},_t.lt=_t.lessThan,_t.lessThanOrEqual=function(xt){return this.comp(xt)<=0},_t.lte=_t.lessThanOrEqual,_t.le=_t.lessThanOrEqual,_t.greaterThan=function(xt){return this.comp(xt)>0},_t.gt=_t.greaterThan,_t.greaterThanOrEqual=function(xt){return this.comp(xt)>=0},_t.gte=_t.greaterThanOrEqual,_t.ge=_t.greaterThanOrEqual,_t.compare=function(xt){if(s(xt)||(xt=_e(xt)),this.eq(xt))return 0;var Et=this.isNegative(),Tt=xt.isNegative();return Et&&!Tt?-1:!Et&&Tt?1:this.unsigned?xt.high>>>0>this.high>>>0||xt.high===this.high&&xt.low>>>0>this.low>>>0?-1:1:this.sub(xt).isNegative()?-1:1},_t.comp=_t.compare,_t.negate=function(){return!this.unsigned&&this.eq(bt)?bt:this.not().add(pt)},_t.neg=_t.negate,_t.add=function(xt){s(xt)||(xt=_e(xt));var Et=this.high>>>16,Tt=65535&this.high,Pt=this.low>>>16,At=65535&this.low,Ot=xt.high>>>16,It=65535&xt.high,$t=xt.low>>>16,kt=0,Ft=0,Ut=0,zt=0;return Ut+=(zt+=At+(65535&xt.low))>>>16,Ft+=(Ut+=Pt+$t)>>>16,kt+=(Ft+=Tt+It)>>>16,kt+=Et+Ot,at((Ut&=65535)<<16|(zt&=65535),(kt&=65535)<<16|(Ft&=65535),this.unsigned)},_t.subtract=function(xt){return s(xt)||(xt=_e(xt)),this.add(xt.neg())},_t.sub=_t.subtract,_t.multiply=function(xt){if(this.isZero())return dt;if(s(xt)||(xt=_e(xt)),i)return at(i.mul(this.low,this.high,xt.low,xt.high),i.get_high(),this.unsigned);if(xt.isZero())return dt;if(this.eq(bt))return xt.isOdd()?bt:dt;if(xt.eq(bt))return this.isOdd()?bt:dt;if(this.isNegative())return xt.isNegative()?this.neg().mul(xt.neg()):this.neg().mul(xt).neg();if(xt.isNegative())return this.mul(xt.neg()).neg();if(this.lt(lt)&&xt.lt(lt))return rt(this.toNumber()*xt.toNumber(),this.unsigned);var Et=this.high>>>16,Tt=65535&this.high,Pt=this.low>>>16,At=65535&this.low,Ot=xt.high>>>16,It=65535&xt.high,$t=xt.low>>>16,kt=65535&xt.low,Ft=0,Ut=0,zt=0,Wt=0;return zt+=(Wt+=At*kt)>>>16,Ut+=(zt+=Pt*kt)>>>16,zt&=65535,Ut+=(zt+=At*$t)>>>16,Ft+=(Ut+=Tt*kt)>>>16,Ut&=65535,Ft+=(Ut+=Pt*$t)>>>16,Ut&=65535,Ft+=(Ut+=At*It)>>>16,Ft+=Et*kt+Tt*$t+Pt*It+At*Ot,at((zt&=65535)<<16|(Wt&=65535),(Ft&=65535)<<16|(Ut&=65535),this.unsigned)},_t.mul=_t.multiply,_t.divide=function(xt){if(s(xt)||(xt=_e(xt)),xt.isZero())throw Error("division by zero");var Et,Tt,Pt;if(i)return this.unsigned||this.high!==-2147483648||xt.low!==-1||xt.high!==-1?at((this.unsigned?i.div_u:i.div_s)(this.low,this.high,xt.low,xt.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ft:dt;if(this.unsigned){if(xt.unsigned||(xt=xt.toUnsigned()),xt.gt(this))return ft;if(xt.gt(this.shru(1)))return ht;Pt=ft}else{if(this.eq(bt))return xt.eq(pt)||xt.eq(gt)?bt:xt.eq(bt)?pt:(Et=this.shr(1).div(xt).shl(1)).eq(dt)?xt.isNegative()?pt:gt:(Tt=this.sub(xt.mul(Et)),Pt=Et.add(Tt.div(xt)));if(xt.eq(bt))return this.unsigned?ft:dt;if(this.isNegative())return xt.isNegative()?this.neg().div(xt.neg()):this.neg().div(xt).neg();if(xt.isNegative())return this.div(xt.neg()).neg();Pt=dt}for(Tt=this;Tt.gte(xt);){Et=Math.max(1,Math.floor(Tt.toNumber()/xt.toNumber()));for(var At=Math.ceil(Math.log(Et)/Math.LN2),Ot=At<=48?1:ot(2,At-48),It=rt(Et),$t=It.mul(xt);$t.isNegative()||$t.gt(Tt);)$t=(It=rt(Et-=Ot,this.unsigned)).mul(xt);It.isZero()&&(It=pt),Pt=Pt.add(It),Tt=Tt.sub($t)}return Pt},_t.div=_t.divide,_t.modulo=function(xt){return s(xt)||(xt=_e(xt)),i?at((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,xt.low,xt.high),i.get_high(),this.unsigned):this.sub(this.div(xt).mul(xt))},_t.mod=_t.modulo,_t.rem=_t.modulo,_t.not=function(){return at(~this.low,~this.high,this.unsigned)},_t.and=function(xt){return s(xt)||(xt=_e(xt)),at(this.low&xt.low,this.high&xt.high,this.unsigned)},_t.or=function(xt){return s(xt)||(xt=_e(xt)),at(this.low|xt.low,this.high|xt.high,this.unsigned)},_t.xor=function(xt){return s(xt)||(xt=_e(xt)),at(this.low^xt.low,this.high^xt.high,this.unsigned)},_t.shiftLeft=function(xt){return s(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt<32?at(this.low<<xt,this.high<<xt|this.low>>>32-xt,this.unsigned):at(0,this.low<<xt-32,this.unsigned)},_t.shl=_t.shiftLeft,_t.shiftRight=function(xt){return s(xt)&&(xt=xt.toInt()),(xt&=63)==0?this:xt<32?at(this.low>>>xt|this.high<<32-xt,this.high>>xt,this.unsigned):at(this.high>>xt-32,this.high>=0?0:-1,this.unsigned)},_t.shr=_t.shiftRight,_t.shiftRightUnsigned=function(xt){if(s(xt)&&(xt=xt.toInt()),(xt&=63)==0)return this;var Et=this.high;return xt<32?at(this.low>>>xt|Et<<32-xt,Et>>>xt,this.unsigned):at(xt===32?Et:Et>>>xt-32,0,this.unsigned)},_t.shru=_t.shiftRightUnsigned,_t.shr_u=_t.shiftRightUnsigned,_t.toSigned=function(){return this.unsigned?at(this.low,this.high,!1):this},_t.toUnsigned=function(){return this.unsigned?this:at(this.low,this.high,!0)},_t.toBytes=function(xt){return xt?this.toBytesLE():this.toBytesBE()},_t.toBytesLE=function(){var xt=this.high,Et=this.low;return[255&Et,Et>>>8&255,Et>>>16&255,Et>>>24,255&xt,xt>>>8&255,xt>>>16&255,xt>>>24]},_t.toBytesBE=function(){var xt=this.high,Et=this.low;return[xt>>>24,xt>>>16&255,xt>>>8&255,255&xt,Et>>>24,Et>>>16&255,Et>>>8&255,255&Et]},a.fromBytes=function(xt,Et,Tt){return Tt?a.fromBytesLE(xt,Et):a.fromBytesBE(xt,Et)},a.fromBytesLE=function(xt,Et){return new a(xt[0]|xt[1]<<8|xt[2]<<16|xt[3]<<24,xt[4]|xt[5]<<8|xt[6]<<16|xt[7]<<24,Et)},a.fromBytesBE=function(xt,Et){return new a(xt[4]<<24|xt[5]<<16|xt[6]<<8|xt[7],xt[0]<<24|xt[1]<<16|xt[2]<<8|xt[3],Et)}},1446:(o,i,a)=>{var s,j,et,tt=a(2100),rt=tt.Reader,at=tt.Writer,ot=tt.util,st=tt.roots.default||(tt.roots.default={});st.onnx=((et={}).Version=(s={},(j=Object.create(s))[s[0]="_START_VERSION"]=0,j[s[1]="IR_VERSION_2017_10_10"]=1,j[s[2]="IR_VERSION_2017_10_30"]=2,j[s[3]="IR_VERSION_2017_11_3"]=3,j[s[4]="IR_VERSION_2019_1_22"]=4,j[s[5]="IR_VERSION"]=5,j),et.AttributeProto=function(){function _e($){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.name="",_e.prototype.refAttrName="",_e.prototype.docString="",_e.prototype.type=0,_e.prototype.f=0,_e.prototype.i=ot.Long?ot.Long.fromBits(0,0,!1):0,_e.prototype.s=ot.newBuffer([]),_e.prototype.t=null,_e.prototype.g=null,_e.prototype.floats=ot.emptyArray,_e.prototype.ints=ot.emptyArray,_e.prototype.strings=ot.emptyArray,_e.prototype.tensors=ot.emptyArray,_e.prototype.graphs=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.name!=null&&$.hasOwnProperty("name")&&nt.uint32(10).string($.name),$.f!=null&&$.hasOwnProperty("f")&&nt.uint32(21).float($.f),$.i!=null&&$.hasOwnProperty("i")&&nt.uint32(24).int64($.i),$.s!=null&&$.hasOwnProperty("s")&&nt.uint32(34).bytes($.s),$.t!=null&&$.hasOwnProperty("t")&&st.onnx.TensorProto.encode($.t,nt.uint32(42).fork()).ldelim(),$.g!=null&&$.hasOwnProperty("g")&&st.onnx.GraphProto.encode($.g,nt.uint32(50).fork()).ldelim(),$.floats!=null&&$.floats.length){nt.uint32(58).fork();for(var it=0;it<$.floats.length;++it)nt.float($.floats[it]);nt.ldelim()}if($.ints!=null&&$.ints.length){for(nt.uint32(66).fork(),it=0;it<$.ints.length;++it)nt.int64($.ints[it]);nt.ldelim()}if($.strings!=null&&$.strings.length)for(it=0;it<$.strings.length;++it)nt.uint32(74).bytes($.strings[it]);if($.tensors!=null&&$.tensors.length)for(it=0;it<$.tensors.length;++it)st.onnx.TensorProto.encode($.tensors[it],nt.uint32(82).fork()).ldelim();if($.graphs!=null&&$.graphs.length)for(it=0;it<$.graphs.length;++it)st.onnx.GraphProto.encode($.graphs[it],nt.uint32(90).fork()).ldelim();return $.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(106).string($.docString),$.type!=null&&$.hasOwnProperty("type")&&nt.uint32(160).int32($.type),$.refAttrName!=null&&$.hasOwnProperty("refAttrName")&&nt.uint32(170).string($.refAttrName),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.AttributeProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.name=$.string();break;case 21:lt.refAttrName=$.string();break;case 13:lt.docString=$.string();break;case 20:lt.type=$.int32();break;case 2:lt.f=$.float();break;case 3:lt.i=$.int64();break;case 4:lt.s=$.bytes();break;case 5:lt.t=st.onnx.TensorProto.decode($,$.uint32());break;case 6:lt.g=st.onnx.GraphProto.decode($,$.uint32());break;case 7:if(lt.floats&&lt.floats.length||(lt.floats=[]),(7&dt)==2)for(var ft=$.uint32()+$.pos;$.pos<ft;)lt.floats.push($.float());else lt.floats.push($.float());break;case 8:if(lt.ints&&lt.ints.length||(lt.ints=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.ints.push($.int64());else lt.ints.push($.int64());break;case 9:lt.strings&&lt.strings.length||(lt.strings=[]),lt.strings.push($.bytes());break;case 10:lt.tensors&&lt.tensors.length||(lt.tensors=[]),lt.tensors.push(st.onnx.TensorProto.decode($,$.uint32()));break;case 11:lt.graphs&&lt.graphs.length||(lt.graphs=[]),lt.graphs.push(st.onnx.GraphProto.decode($,$.uint32()));break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.name!=null&&$.hasOwnProperty("name")&&!ot.isString($.name))return"name: string expected";if($.refAttrName!=null&&$.hasOwnProperty("refAttrName")&&!ot.isString($.refAttrName))return"refAttrName: string expected";if($.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString))return"docString: string expected";if($.type!=null&&$.hasOwnProperty("type"))switch($.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if($.f!=null&&$.hasOwnProperty("f")&&typeof $.f!="number")return"f: number expected";if($.i!=null&&$.hasOwnProperty("i")&&!(ot.isInteger($.i)||$.i&&ot.isInteger($.i.low)&&ot.isInteger($.i.high)))return"i: integer|Long expected";if($.s!=null&&$.hasOwnProperty("s")&&!($.s&&typeof $.s.length=="number"||ot.isString($.s)))return"s: buffer expected";if($.t!=null&&$.hasOwnProperty("t")&&(it=st.onnx.TensorProto.verify($.t)))return"t."+it;if($.g!=null&&$.hasOwnProperty("g")&&(it=st.onnx.GraphProto.verify($.g)))return"g."+it;if($.floats!=null&&$.hasOwnProperty("floats")){if(!Array.isArray($.floats))return"floats: array expected";for(var nt=0;nt<$.floats.length;++nt)if(typeof $.floats[nt]!="number")return"floats: number[] expected"}if($.ints!=null&&$.hasOwnProperty("ints")){if(!Array.isArray($.ints))return"ints: array expected";for(nt=0;nt<$.ints.length;++nt)if(!(ot.isInteger($.ints[nt])||$.ints[nt]&&ot.isInteger($.ints[nt].low)&&ot.isInteger($.ints[nt].high)))return"ints: integer|Long[] expected"}if($.strings!=null&&$.hasOwnProperty("strings")){if(!Array.isArray($.strings))return"strings: array expected";for(nt=0;nt<$.strings.length;++nt)if(!($.strings[nt]&&typeof $.strings[nt].length=="number"||ot.isString($.strings[nt])))return"strings: buffer[] expected"}if($.tensors!=null&&$.hasOwnProperty("tensors")){if(!Array.isArray($.tensors))return"tensors: array expected";for(nt=0;nt<$.tensors.length;++nt)if(it=st.onnx.TensorProto.verify($.tensors[nt]))return"tensors."+it}if($.graphs!=null&&$.hasOwnProperty("graphs")){if(!Array.isArray($.graphs))return"graphs: array expected";for(nt=0;nt<$.graphs.length;++nt){var it;if(it=st.onnx.GraphProto.verify($.graphs[nt]))return"graphs."+it}}return null},_e.fromObject=function($){if($ instanceof st.onnx.AttributeProto)return $;var nt=new st.onnx.AttributeProto;switch($.name!=null&&(nt.name=String($.name)),$.refAttrName!=null&&(nt.refAttrName=String($.refAttrName)),$.docString!=null&&(nt.docString=String($.docString)),$.type){case"UNDEFINED":case 0:nt.type=0;break;case"FLOAT":case 1:nt.type=1;break;case"INT":case 2:nt.type=2;break;case"STRING":case 3:nt.type=3;break;case"TENSOR":case 4:nt.type=4;break;case"GRAPH":case 5:nt.type=5;break;case"FLOATS":case 6:nt.type=6;break;case"INTS":case 7:nt.type=7;break;case"STRINGS":case 8:nt.type=8;break;case"TENSORS":case 9:nt.type=9;break;case"GRAPHS":case 10:nt.type=10}if($.f!=null&&(nt.f=Number($.f)),$.i!=null&&(ot.Long?(nt.i=ot.Long.fromValue($.i)).unsigned=!1:typeof $.i=="string"?nt.i=parseInt($.i,10):typeof $.i=="number"?nt.i=$.i:typeof $.i=="object"&&(nt.i=new ot.LongBits($.i.low>>>0,$.i.high>>>0).toNumber())),$.s!=null&&(typeof $.s=="string"?ot.base64.decode($.s,nt.s=ot.newBuffer(ot.base64.length($.s)),0):$.s.length&&(nt.s=$.s)),$.t!=null){if(typeof $.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");nt.t=st.onnx.TensorProto.fromObject($.t)}if($.g!=null){if(typeof $.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");nt.g=st.onnx.GraphProto.fromObject($.g)}if($.floats){if(!Array.isArray($.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");nt.floats=[];for(var it=0;it<$.floats.length;++it)nt.floats[it]=Number($.floats[it])}if($.ints){if(!Array.isArray($.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(nt.ints=[],it=0;it<$.ints.length;++it)ot.Long?(nt.ints[it]=ot.Long.fromValue($.ints[it])).unsigned=!1:typeof $.ints[it]=="string"?nt.ints[it]=parseInt($.ints[it],10):typeof $.ints[it]=="number"?nt.ints[it]=$.ints[it]:typeof $.ints[it]=="object"&&(nt.ints[it]=new ot.LongBits($.ints[it].low>>>0,$.ints[it].high>>>0).toNumber())}if($.strings){if(!Array.isArray($.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(nt.strings=[],it=0;it<$.strings.length;++it)typeof $.strings[it]=="string"?ot.base64.decode($.strings[it],nt.strings[it]=ot.newBuffer(ot.base64.length($.strings[it])),0):$.strings[it].length&&(nt.strings[it]=$.strings[it])}if($.tensors){if(!Array.isArray($.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(nt.tensors=[],it=0;it<$.tensors.length;++it){if(typeof $.tensors[it]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");nt.tensors[it]=st.onnx.TensorProto.fromObject($.tensors[it])}}if($.graphs){if(!Array.isArray($.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(nt.graphs=[],it=0;it<$.graphs.length;++it){if(typeof $.graphs[it]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");nt.graphs[it]=st.onnx.GraphProto.fromObject($.graphs[it])}}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.floats=[],it.ints=[],it.strings=[],it.tensors=[],it.graphs=[]),nt.defaults){if(it.name="",it.f=0,ot.Long){var lt=new ot.Long(0,0,!1);it.i=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else it.i=nt.longs===String?"0":0;nt.bytes===String?it.s="":(it.s=[],nt.bytes!==Array&&(it.s=ot.newBuffer(it.s))),it.t=null,it.g=null,it.docString="",it.type=nt.enums===String?"UNDEFINED":0,it.refAttrName=""}if($.name!=null&&$.hasOwnProperty("name")&&(it.name=$.name),$.f!=null&&$.hasOwnProperty("f")&&(it.f=nt.json&&!isFinite($.f)?String($.f):$.f),$.i!=null&&$.hasOwnProperty("i")&&(typeof $.i=="number"?it.i=nt.longs===String?String($.i):$.i:it.i=nt.longs===String?ot.Long.prototype.toString.call($.i):nt.longs===Number?new ot.LongBits($.i.low>>>0,$.i.high>>>0).toNumber():$.i),$.s!=null&&$.hasOwnProperty("s")&&(it.s=nt.bytes===String?ot.base64.encode($.s,0,$.s.length):nt.bytes===Array?Array.prototype.slice.call($.s):$.s),$.t!=null&&$.hasOwnProperty("t")&&(it.t=st.onnx.TensorProto.toObject($.t,nt)),$.g!=null&&$.hasOwnProperty("g")&&(it.g=st.onnx.GraphProto.toObject($.g,nt)),$.floats&&$.floats.length){it.floats=[];for(var dt=0;dt<$.floats.length;++dt)it.floats[dt]=nt.json&&!isFinite($.floats[dt])?String($.floats[dt]):$.floats[dt]}if($.ints&&$.ints.length)for(it.ints=[],dt=0;dt<$.ints.length;++dt)typeof $.ints[dt]=="number"?it.ints[dt]=nt.longs===String?String($.ints[dt]):$.ints[dt]:it.ints[dt]=nt.longs===String?ot.Long.prototype.toString.call($.ints[dt]):nt.longs===Number?new ot.LongBits($.ints[dt].low>>>0,$.ints[dt].high>>>0).toNumber():$.ints[dt];if($.strings&&$.strings.length)for(it.strings=[],dt=0;dt<$.strings.length;++dt)it.strings[dt]=nt.bytes===String?ot.base64.encode($.strings[dt],0,$.strings[dt].length):nt.bytes===Array?Array.prototype.slice.call($.strings[dt]):$.strings[dt];if($.tensors&&$.tensors.length)for(it.tensors=[],dt=0;dt<$.tensors.length;++dt)it.tensors[dt]=st.onnx.TensorProto.toObject($.tensors[dt],nt);if($.graphs&&$.graphs.length)for(it.graphs=[],dt=0;dt<$.graphs.length;++dt)it.graphs[dt]=st.onnx.GraphProto.toObject($.graphs[dt],nt);return $.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),$.type!=null&&$.hasOwnProperty("type")&&(it.type=nt.enums===String?st.onnx.AttributeProto.AttributeType[$.type]:$.type),$.refAttrName!=null&&$.hasOwnProperty("refAttrName")&&(it.refAttrName=$.refAttrName),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e.AttributeType=function(){var $={},nt=Object.create($);return nt[$[0]="UNDEFINED"]=0,nt[$[1]="FLOAT"]=1,nt[$[2]="INT"]=2,nt[$[3]="STRING"]=3,nt[$[4]="TENSOR"]=4,nt[$[5]="GRAPH"]=5,nt[$[6]="FLOATS"]=6,nt[$[7]="INTS"]=7,nt[$[8]="STRINGS"]=8,nt[$[9]="TENSORS"]=9,nt[$[10]="GRAPHS"]=10,nt}(),_e}(),et.ValueInfoProto=function(){function _e($){if($)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.name="",_e.prototype.type=null,_e.prototype.docString="",_e.create=function($){return new _e($)},_e.encode=function($,nt){return nt||(nt=at.create()),$.name!=null&&$.hasOwnProperty("name")&&nt.uint32(10).string($.name),$.type!=null&&$.hasOwnProperty("type")&&st.onnx.TypeProto.encode($.type,nt.uint32(18).fork()).ldelim(),$.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(26).string($.docString),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.ValueInfoProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.name=$.string();break;case 2:lt.type=st.onnx.TypeProto.decode($,$.uint32());break;case 3:lt.docString=$.string();break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.name!=null&&$.hasOwnProperty("name")&&!ot.isString($.name))return"name: string expected";if($.type!=null&&$.hasOwnProperty("type")){var nt=st.onnx.TypeProto.verify($.type);if(nt)return"type."+nt}return $.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString)?"docString: string expected":null},_e.fromObject=function($){if($ instanceof st.onnx.ValueInfoProto)return $;var nt=new st.onnx.ValueInfoProto;if($.name!=null&&(nt.name=String($.name)),$.type!=null){if(typeof $.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");nt.type=st.onnx.TypeProto.fromObject($.type)}return $.docString!=null&&(nt.docString=String($.docString)),nt},_e.toObject=function($,nt){nt||(nt={});var it={};return nt.defaults&&(it.name="",it.type=null,it.docString=""),$.name!=null&&$.hasOwnProperty("name")&&(it.name=$.name),$.type!=null&&$.hasOwnProperty("type")&&(it.type=st.onnx.TypeProto.toObject($.type,nt)),$.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.NodeProto=function(){function _e($){if(this.input=[],this.output=[],this.attribute=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.input=ot.emptyArray,_e.prototype.output=ot.emptyArray,_e.prototype.name="",_e.prototype.opType="",_e.prototype.domain="",_e.prototype.attribute=ot.emptyArray,_e.prototype.docString="",_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.input!=null&&$.input.length)for(var it=0;it<$.input.length;++it)nt.uint32(10).string($.input[it]);if($.output!=null&&$.output.length)for(it=0;it<$.output.length;++it)nt.uint32(18).string($.output[it]);if($.name!=null&&$.hasOwnProperty("name")&&nt.uint32(26).string($.name),$.opType!=null&&$.hasOwnProperty("opType")&&nt.uint32(34).string($.opType),$.attribute!=null&&$.attribute.length)for(it=0;it<$.attribute.length;++it)st.onnx.AttributeProto.encode($.attribute[it],nt.uint32(42).fork()).ldelim();return $.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(50).string($.docString),$.domain!=null&&$.hasOwnProperty("domain")&&nt.uint32(58).string($.domain),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.NodeProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.input&&lt.input.length||(lt.input=[]),lt.input.push($.string());break;case 2:lt.output&&lt.output.length||(lt.output=[]),lt.output.push($.string());break;case 3:lt.name=$.string();break;case 4:lt.opType=$.string();break;case 7:lt.domain=$.string();break;case 5:lt.attribute&&lt.attribute.length||(lt.attribute=[]),lt.attribute.push(st.onnx.AttributeProto.decode($,$.uint32()));break;case 6:lt.docString=$.string();break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.input!=null&&$.hasOwnProperty("input")){if(!Array.isArray($.input))return"input: array expected";for(var nt=0;nt<$.input.length;++nt)if(!ot.isString($.input[nt]))return"input: string[] expected"}if($.output!=null&&$.hasOwnProperty("output")){if(!Array.isArray($.output))return"output: array expected";for(nt=0;nt<$.output.length;++nt)if(!ot.isString($.output[nt]))return"output: string[] expected"}if($.name!=null&&$.hasOwnProperty("name")&&!ot.isString($.name))return"name: string expected";if($.opType!=null&&$.hasOwnProperty("opType")&&!ot.isString($.opType))return"opType: string expected";if($.domain!=null&&$.hasOwnProperty("domain")&&!ot.isString($.domain))return"domain: string expected";if($.attribute!=null&&$.hasOwnProperty("attribute")){if(!Array.isArray($.attribute))return"attribute: array expected";for(nt=0;nt<$.attribute.length;++nt){var it=st.onnx.AttributeProto.verify($.attribute[nt]);if(it)return"attribute."+it}}return $.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString)?"docString: string expected":null},_e.fromObject=function($){if($ instanceof st.onnx.NodeProto)return $;var nt=new st.onnx.NodeProto;if($.input){if(!Array.isArray($.input))throw TypeError(".onnx.NodeProto.input: array expected");nt.input=[];for(var it=0;it<$.input.length;++it)nt.input[it]=String($.input[it])}if($.output){if(!Array.isArray($.output))throw TypeError(".onnx.NodeProto.output: array expected");for(nt.output=[],it=0;it<$.output.length;++it)nt.output[it]=String($.output[it])}if($.name!=null&&(nt.name=String($.name)),$.opType!=null&&(nt.opType=String($.opType)),$.domain!=null&&(nt.domain=String($.domain)),$.attribute){if(!Array.isArray($.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(nt.attribute=[],it=0;it<$.attribute.length;++it){if(typeof $.attribute[it]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");nt.attribute[it]=st.onnx.AttributeProto.fromObject($.attribute[it])}}return $.docString!=null&&(nt.docString=String($.docString)),nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.input=[],it.output=[],it.attribute=[]),nt.defaults&&(it.name="",it.opType="",it.docString="",it.domain=""),$.input&&$.input.length){it.input=[];for(var lt=0;lt<$.input.length;++lt)it.input[lt]=$.input[lt]}if($.output&&$.output.length)for(it.output=[],lt=0;lt<$.output.length;++lt)it.output[lt]=$.output[lt];if($.name!=null&&$.hasOwnProperty("name")&&(it.name=$.name),$.opType!=null&&$.hasOwnProperty("opType")&&(it.opType=$.opType),$.attribute&&$.attribute.length)for(it.attribute=[],lt=0;lt<$.attribute.length;++lt)it.attribute[lt]=st.onnx.AttributeProto.toObject($.attribute[lt],nt);return $.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),$.domain!=null&&$.hasOwnProperty("domain")&&(it.domain=$.domain),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.ModelProto=function(){function _e($){if(this.opsetImport=[],this.metadataProps=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.irVersion=ot.Long?ot.Long.fromBits(0,0,!1):0,_e.prototype.opsetImport=ot.emptyArray,_e.prototype.producerName="",_e.prototype.producerVersion="",_e.prototype.domain="",_e.prototype.modelVersion=ot.Long?ot.Long.fromBits(0,0,!1):0,_e.prototype.docString="",_e.prototype.graph=null,_e.prototype.metadataProps=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.irVersion!=null&&$.hasOwnProperty("irVersion")&&nt.uint32(8).int64($.irVersion),$.producerName!=null&&$.hasOwnProperty("producerName")&&nt.uint32(18).string($.producerName),$.producerVersion!=null&&$.hasOwnProperty("producerVersion")&&nt.uint32(26).string($.producerVersion),$.domain!=null&&$.hasOwnProperty("domain")&&nt.uint32(34).string($.domain),$.modelVersion!=null&&$.hasOwnProperty("modelVersion")&&nt.uint32(40).int64($.modelVersion),$.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(50).string($.docString),$.graph!=null&&$.hasOwnProperty("graph")&&st.onnx.GraphProto.encode($.graph,nt.uint32(58).fork()).ldelim(),$.opsetImport!=null&&$.opsetImport.length)for(var it=0;it<$.opsetImport.length;++it)st.onnx.OperatorSetIdProto.encode($.opsetImport[it],nt.uint32(66).fork()).ldelim();if($.metadataProps!=null&&$.metadataProps.length)for(it=0;it<$.metadataProps.length;++it)st.onnx.StringStringEntryProto.encode($.metadataProps[it],nt.uint32(114).fork()).ldelim();return nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.ModelProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.irVersion=$.int64();break;case 8:lt.opsetImport&&lt.opsetImport.length||(lt.opsetImport=[]),lt.opsetImport.push(st.onnx.OperatorSetIdProto.decode($,$.uint32()));break;case 2:lt.producerName=$.string();break;case 3:lt.producerVersion=$.string();break;case 4:lt.domain=$.string();break;case 5:lt.modelVersion=$.int64();break;case 6:lt.docString=$.string();break;case 7:lt.graph=st.onnx.GraphProto.decode($,$.uint32());break;case 14:lt.metadataProps&&lt.metadataProps.length||(lt.metadataProps=[]),lt.metadataProps.push(st.onnx.StringStringEntryProto.decode($,$.uint32()));break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.irVersion!=null&&$.hasOwnProperty("irVersion")&&!(ot.isInteger($.irVersion)||$.irVersion&&ot.isInteger($.irVersion.low)&&ot.isInteger($.irVersion.high)))return"irVersion: integer|Long expected";if($.opsetImport!=null&&$.hasOwnProperty("opsetImport")){if(!Array.isArray($.opsetImport))return"opsetImport: array expected";for(var nt=0;nt<$.opsetImport.length;++nt)if(it=st.onnx.OperatorSetIdProto.verify($.opsetImport[nt]))return"opsetImport."+it}if($.producerName!=null&&$.hasOwnProperty("producerName")&&!ot.isString($.producerName))return"producerName: string expected";if($.producerVersion!=null&&$.hasOwnProperty("producerVersion")&&!ot.isString($.producerVersion))return"producerVersion: string expected";if($.domain!=null&&$.hasOwnProperty("domain")&&!ot.isString($.domain))return"domain: string expected";if($.modelVersion!=null&&$.hasOwnProperty("modelVersion")&&!(ot.isInteger($.modelVersion)||$.modelVersion&&ot.isInteger($.modelVersion.low)&&ot.isInteger($.modelVersion.high)))return"modelVersion: integer|Long expected";if($.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString))return"docString: string expected";if($.graph!=null&&$.hasOwnProperty("graph")&&(it=st.onnx.GraphProto.verify($.graph)))return"graph."+it;if($.metadataProps!=null&&$.hasOwnProperty("metadataProps")){if(!Array.isArray($.metadataProps))return"metadataProps: array expected";for(nt=0;nt<$.metadataProps.length;++nt){var it;if(it=st.onnx.StringStringEntryProto.verify($.metadataProps[nt]))return"metadataProps."+it}}return null},_e.fromObject=function($){if($ instanceof st.onnx.ModelProto)return $;var nt=new st.onnx.ModelProto;if($.irVersion!=null&&(ot.Long?(nt.irVersion=ot.Long.fromValue($.irVersion)).unsigned=!1:typeof $.irVersion=="string"?nt.irVersion=parseInt($.irVersion,10):typeof $.irVersion=="number"?nt.irVersion=$.irVersion:typeof $.irVersion=="object"&&(nt.irVersion=new ot.LongBits($.irVersion.low>>>0,$.irVersion.high>>>0).toNumber())),$.opsetImport){if(!Array.isArray($.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");nt.opsetImport=[];for(var it=0;it<$.opsetImport.length;++it){if(typeof $.opsetImport[it]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");nt.opsetImport[it]=st.onnx.OperatorSetIdProto.fromObject($.opsetImport[it])}}if($.producerName!=null&&(nt.producerName=String($.producerName)),$.producerVersion!=null&&(nt.producerVersion=String($.producerVersion)),$.domain!=null&&(nt.domain=String($.domain)),$.modelVersion!=null&&(ot.Long?(nt.modelVersion=ot.Long.fromValue($.modelVersion)).unsigned=!1:typeof $.modelVersion=="string"?nt.modelVersion=parseInt($.modelVersion,10):typeof $.modelVersion=="number"?nt.modelVersion=$.modelVersion:typeof $.modelVersion=="object"&&(nt.modelVersion=new ot.LongBits($.modelVersion.low>>>0,$.modelVersion.high>>>0).toNumber())),$.docString!=null&&(nt.docString=String($.docString)),$.graph!=null){if(typeof $.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");nt.graph=st.onnx.GraphProto.fromObject($.graph)}if($.metadataProps){if(!Array.isArray($.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(nt.metadataProps=[],it=0;it<$.metadataProps.length;++it){if(typeof $.metadataProps[it]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");nt.metadataProps[it]=st.onnx.StringStringEntryProto.fromObject($.metadataProps[it])}}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.opsetImport=[],it.metadataProps=[]),nt.defaults){if(ot.Long){var lt=new ot.Long(0,0,!1);it.irVersion=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else it.irVersion=nt.longs===String?"0":0;it.producerName="",it.producerVersion="",it.domain="",ot.Long?(lt=new ot.Long(0,0,!1),it.modelVersion=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt):it.modelVersion=nt.longs===String?"0":0,it.docString="",it.graph=null}if($.irVersion!=null&&$.hasOwnProperty("irVersion")&&(typeof $.irVersion=="number"?it.irVersion=nt.longs===String?String($.irVersion):$.irVersion:it.irVersion=nt.longs===String?ot.Long.prototype.toString.call($.irVersion):nt.longs===Number?new ot.LongBits($.irVersion.low>>>0,$.irVersion.high>>>0).toNumber():$.irVersion),$.producerName!=null&&$.hasOwnProperty("producerName")&&(it.producerName=$.producerName),$.producerVersion!=null&&$.hasOwnProperty("producerVersion")&&(it.producerVersion=$.producerVersion),$.domain!=null&&$.hasOwnProperty("domain")&&(it.domain=$.domain),$.modelVersion!=null&&$.hasOwnProperty("modelVersion")&&(typeof $.modelVersion=="number"?it.modelVersion=nt.longs===String?String($.modelVersion):$.modelVersion:it.modelVersion=nt.longs===String?ot.Long.prototype.toString.call($.modelVersion):nt.longs===Number?new ot.LongBits($.modelVersion.low>>>0,$.modelVersion.high>>>0).toNumber():$.modelVersion),$.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),$.graph!=null&&$.hasOwnProperty("graph")&&(it.graph=st.onnx.GraphProto.toObject($.graph,nt)),$.opsetImport&&$.opsetImport.length){it.opsetImport=[];for(var dt=0;dt<$.opsetImport.length;++dt)it.opsetImport[dt]=st.onnx.OperatorSetIdProto.toObject($.opsetImport[dt],nt)}if($.metadataProps&&$.metadataProps.length)for(it.metadataProps=[],dt=0;dt<$.metadataProps.length;++dt)it.metadataProps[dt]=st.onnx.StringStringEntryProto.toObject($.metadataProps[dt],nt);return it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.StringStringEntryProto=function(){function _e($){if($)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.key="",_e.prototype.value="",_e.create=function($){return new _e($)},_e.encode=function($,nt){return nt||(nt=at.create()),$.key!=null&&$.hasOwnProperty("key")&&nt.uint32(10).string($.key),$.value!=null&&$.hasOwnProperty("value")&&nt.uint32(18).string($.value),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.StringStringEntryProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.key=$.string();break;case 2:lt.value=$.string();break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){return typeof $!="object"||$===null?"object expected":$.key!=null&&$.hasOwnProperty("key")&&!ot.isString($.key)?"key: string expected":$.value!=null&&$.hasOwnProperty("value")&&!ot.isString($.value)?"value: string expected":null},_e.fromObject=function($){if($ instanceof st.onnx.StringStringEntryProto)return $;var nt=new st.onnx.StringStringEntryProto;return $.key!=null&&(nt.key=String($.key)),$.value!=null&&(nt.value=String($.value)),nt},_e.toObject=function($,nt){nt||(nt={});var it={};return nt.defaults&&(it.key="",it.value=""),$.key!=null&&$.hasOwnProperty("key")&&(it.key=$.key),$.value!=null&&$.hasOwnProperty("value")&&(it.value=$.value),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.TensorAnnotation=function(){function _e($){if(this.quantParameterTensorNames=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.tensorName="",_e.prototype.quantParameterTensorNames=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.tensorName!=null&&$.hasOwnProperty("tensorName")&&nt.uint32(10).string($.tensorName),$.quantParameterTensorNames!=null&&$.quantParameterTensorNames.length)for(var it=0;it<$.quantParameterTensorNames.length;++it)st.onnx.StringStringEntryProto.encode($.quantParameterTensorNames[it],nt.uint32(18).fork()).ldelim();return nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.TensorAnnotation;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.tensorName=$.string();break;case 2:lt.quantParameterTensorNames&&lt.quantParameterTensorNames.length||(lt.quantParameterTensorNames=[]),lt.quantParameterTensorNames.push(st.onnx.StringStringEntryProto.decode($,$.uint32()));break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.tensorName!=null&&$.hasOwnProperty("tensorName")&&!ot.isString($.tensorName))return"tensorName: string expected";if($.quantParameterTensorNames!=null&&$.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray($.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var nt=0;nt<$.quantParameterTensorNames.length;++nt){var it=st.onnx.StringStringEntryProto.verify($.quantParameterTensorNames[nt]);if(it)return"quantParameterTensorNames."+it}}return null},_e.fromObject=function($){if($ instanceof st.onnx.TensorAnnotation)return $;var nt=new st.onnx.TensorAnnotation;if($.tensorName!=null&&(nt.tensorName=String($.tensorName)),$.quantParameterTensorNames){if(!Array.isArray($.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");nt.quantParameterTensorNames=[];for(var it=0;it<$.quantParameterTensorNames.length;++it){if(typeof $.quantParameterTensorNames[it]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");nt.quantParameterTensorNames[it]=st.onnx.StringStringEntryProto.fromObject($.quantParameterTensorNames[it])}}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.quantParameterTensorNames=[]),nt.defaults&&(it.tensorName=""),$.tensorName!=null&&$.hasOwnProperty("tensorName")&&(it.tensorName=$.tensorName),$.quantParameterTensorNames&&$.quantParameterTensorNames.length){it.quantParameterTensorNames=[];for(var lt=0;lt<$.quantParameterTensorNames.length;++lt)it.quantParameterTensorNames[lt]=st.onnx.StringStringEntryProto.toObject($.quantParameterTensorNames[lt],nt)}return it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.GraphProto=function(){function _e($){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.node=ot.emptyArray,_e.prototype.name="",_e.prototype.initializer=ot.emptyArray,_e.prototype.docString="",_e.prototype.input=ot.emptyArray,_e.prototype.output=ot.emptyArray,_e.prototype.valueInfo=ot.emptyArray,_e.prototype.quantizationAnnotation=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.node!=null&&$.node.length)for(var it=0;it<$.node.length;++it)st.onnx.NodeProto.encode($.node[it],nt.uint32(10).fork()).ldelim();if($.name!=null&&$.hasOwnProperty("name")&&nt.uint32(18).string($.name),$.initializer!=null&&$.initializer.length)for(it=0;it<$.initializer.length;++it)st.onnx.TensorProto.encode($.initializer[it],nt.uint32(42).fork()).ldelim();if($.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(82).string($.docString),$.input!=null&&$.input.length)for(it=0;it<$.input.length;++it)st.onnx.ValueInfoProto.encode($.input[it],nt.uint32(90).fork()).ldelim();if($.output!=null&&$.output.length)for(it=0;it<$.output.length;++it)st.onnx.ValueInfoProto.encode($.output[it],nt.uint32(98).fork()).ldelim();if($.valueInfo!=null&&$.valueInfo.length)for(it=0;it<$.valueInfo.length;++it)st.onnx.ValueInfoProto.encode($.valueInfo[it],nt.uint32(106).fork()).ldelim();if($.quantizationAnnotation!=null&&$.quantizationAnnotation.length)for(it=0;it<$.quantizationAnnotation.length;++it)st.onnx.TensorAnnotation.encode($.quantizationAnnotation[it],nt.uint32(114).fork()).ldelim();return nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.GraphProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.node&&lt.node.length||(lt.node=[]),lt.node.push(st.onnx.NodeProto.decode($,$.uint32()));break;case 2:lt.name=$.string();break;case 5:lt.initializer&&lt.initializer.length||(lt.initializer=[]),lt.initializer.push(st.onnx.TensorProto.decode($,$.uint32()));break;case 10:lt.docString=$.string();break;case 11:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(st.onnx.ValueInfoProto.decode($,$.uint32()));break;case 12:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(st.onnx.ValueInfoProto.decode($,$.uint32()));break;case 13:lt.valueInfo&&lt.valueInfo.length||(lt.valueInfo=[]),lt.valueInfo.push(st.onnx.ValueInfoProto.decode($,$.uint32()));break;case 14:lt.quantizationAnnotation&&lt.quantizationAnnotation.length||(lt.quantizationAnnotation=[]),lt.quantizationAnnotation.push(st.onnx.TensorAnnotation.decode($,$.uint32()));break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.node!=null&&$.hasOwnProperty("node")){if(!Array.isArray($.node))return"node: array expected";for(var nt=0;nt<$.node.length;++nt)if(it=st.onnx.NodeProto.verify($.node[nt]))return"node."+it}if($.name!=null&&$.hasOwnProperty("name")&&!ot.isString($.name))return"name: string expected";if($.initializer!=null&&$.hasOwnProperty("initializer")){if(!Array.isArray($.initializer))return"initializer: array expected";for(nt=0;nt<$.initializer.length;++nt)if(it=st.onnx.TensorProto.verify($.initializer[nt]))return"initializer."+it}if($.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString))return"docString: string expected";if($.input!=null&&$.hasOwnProperty("input")){if(!Array.isArray($.input))return"input: array expected";for(nt=0;nt<$.input.length;++nt)if(it=st.onnx.ValueInfoProto.verify($.input[nt]))return"input."+it}if($.output!=null&&$.hasOwnProperty("output")){if(!Array.isArray($.output))return"output: array expected";for(nt=0;nt<$.output.length;++nt)if(it=st.onnx.ValueInfoProto.verify($.output[nt]))return"output."+it}if($.valueInfo!=null&&$.hasOwnProperty("valueInfo")){if(!Array.isArray($.valueInfo))return"valueInfo: array expected";for(nt=0;nt<$.valueInfo.length;++nt)if(it=st.onnx.ValueInfoProto.verify($.valueInfo[nt]))return"valueInfo."+it}if($.quantizationAnnotation!=null&&$.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray($.quantizationAnnotation))return"quantizationAnnotation: array expected";for(nt=0;nt<$.quantizationAnnotation.length;++nt){var it;if(it=st.onnx.TensorAnnotation.verify($.quantizationAnnotation[nt]))return"quantizationAnnotation."+it}}return null},_e.fromObject=function($){if($ instanceof st.onnx.GraphProto)return $;var nt=new st.onnx.GraphProto;if($.node){if(!Array.isArray($.node))throw TypeError(".onnx.GraphProto.node: array expected");nt.node=[];for(var it=0;it<$.node.length;++it){if(typeof $.node[it]!="object")throw TypeError(".onnx.GraphProto.node: object expected");nt.node[it]=st.onnx.NodeProto.fromObject($.node[it])}}if($.name!=null&&(nt.name=String($.name)),$.initializer){if(!Array.isArray($.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(nt.initializer=[],it=0;it<$.initializer.length;++it){if(typeof $.initializer[it]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");nt.initializer[it]=st.onnx.TensorProto.fromObject($.initializer[it])}}if($.docString!=null&&(nt.docString=String($.docString)),$.input){if(!Array.isArray($.input))throw TypeError(".onnx.GraphProto.input: array expected");for(nt.input=[],it=0;it<$.input.length;++it){if(typeof $.input[it]!="object")throw TypeError(".onnx.GraphProto.input: object expected");nt.input[it]=st.onnx.ValueInfoProto.fromObject($.input[it])}}if($.output){if(!Array.isArray($.output))throw TypeError(".onnx.GraphProto.output: array expected");for(nt.output=[],it=0;it<$.output.length;++it){if(typeof $.output[it]!="object")throw TypeError(".onnx.GraphProto.output: object expected");nt.output[it]=st.onnx.ValueInfoProto.fromObject($.output[it])}}if($.valueInfo){if(!Array.isArray($.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(nt.valueInfo=[],it=0;it<$.valueInfo.length;++it){if(typeof $.valueInfo[it]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");nt.valueInfo[it]=st.onnx.ValueInfoProto.fromObject($.valueInfo[it])}}if($.quantizationAnnotation){if(!Array.isArray($.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(nt.quantizationAnnotation=[],it=0;it<$.quantizationAnnotation.length;++it){if(typeof $.quantizationAnnotation[it]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");nt.quantizationAnnotation[it]=st.onnx.TensorAnnotation.fromObject($.quantizationAnnotation[it])}}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.node=[],it.initializer=[],it.input=[],it.output=[],it.valueInfo=[],it.quantizationAnnotation=[]),nt.defaults&&(it.name="",it.docString=""),$.node&&$.node.length){it.node=[];for(var lt=0;lt<$.node.length;++lt)it.node[lt]=st.onnx.NodeProto.toObject($.node[lt],nt)}if($.name!=null&&$.hasOwnProperty("name")&&(it.name=$.name),$.initializer&&$.initializer.length)for(it.initializer=[],lt=0;lt<$.initializer.length;++lt)it.initializer[lt]=st.onnx.TensorProto.toObject($.initializer[lt],nt);if($.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),$.input&&$.input.length)for(it.input=[],lt=0;lt<$.input.length;++lt)it.input[lt]=st.onnx.ValueInfoProto.toObject($.input[lt],nt);if($.output&&$.output.length)for(it.output=[],lt=0;lt<$.output.length;++lt)it.output[lt]=st.onnx.ValueInfoProto.toObject($.output[lt],nt);if($.valueInfo&&$.valueInfo.length)for(it.valueInfo=[],lt=0;lt<$.valueInfo.length;++lt)it.valueInfo[lt]=st.onnx.ValueInfoProto.toObject($.valueInfo[lt],nt);if($.quantizationAnnotation&&$.quantizationAnnotation.length)for(it.quantizationAnnotation=[],lt=0;lt<$.quantizationAnnotation.length;++lt)it.quantizationAnnotation[lt]=st.onnx.TensorAnnotation.toObject($.quantizationAnnotation[lt],nt);return it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et.TensorProto=function(){function _e($){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.dims=ot.emptyArray,_e.prototype.dataType=0,_e.prototype.segment=null,_e.prototype.floatData=ot.emptyArray,_e.prototype.int32Data=ot.emptyArray,_e.prototype.stringData=ot.emptyArray,_e.prototype.int64Data=ot.emptyArray,_e.prototype.name="",_e.prototype.docString="",_e.prototype.rawData=ot.newBuffer([]),_e.prototype.externalData=ot.emptyArray,_e.prototype.dataLocation=0,_e.prototype.doubleData=ot.emptyArray,_e.prototype.uint64Data=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.dims!=null&&$.dims.length){nt.uint32(10).fork();for(var it=0;it<$.dims.length;++it)nt.int64($.dims[it]);nt.ldelim()}if($.dataType!=null&&$.hasOwnProperty("dataType")&&nt.uint32(16).int32($.dataType),$.segment!=null&&$.hasOwnProperty("segment")&&st.onnx.TensorProto.Segment.encode($.segment,nt.uint32(26).fork()).ldelim(),$.floatData!=null&&$.floatData.length){for(nt.uint32(34).fork(),it=0;it<$.floatData.length;++it)nt.float($.floatData[it]);nt.ldelim()}if($.int32Data!=null&&$.int32Data.length){for(nt.uint32(42).fork(),it=0;it<$.int32Data.length;++it)nt.int32($.int32Data[it]);nt.ldelim()}if($.stringData!=null&&$.stringData.length)for(it=0;it<$.stringData.length;++it)nt.uint32(50).bytes($.stringData[it]);if($.int64Data!=null&&$.int64Data.length){for(nt.uint32(58).fork(),it=0;it<$.int64Data.length;++it)nt.int64($.int64Data[it]);nt.ldelim()}if($.name!=null&&$.hasOwnProperty("name")&&nt.uint32(66).string($.name),$.rawData!=null&&$.hasOwnProperty("rawData")&&nt.uint32(74).bytes($.rawData),$.doubleData!=null&&$.doubleData.length){for(nt.uint32(82).fork(),it=0;it<$.doubleData.length;++it)nt.double($.doubleData[it]);nt.ldelim()}if($.uint64Data!=null&&$.uint64Data.length){for(nt.uint32(90).fork(),it=0;it<$.uint64Data.length;++it)nt.uint64($.uint64Data[it]);nt.ldelim()}if($.docString!=null&&$.hasOwnProperty("docString")&&nt.uint32(98).string($.docString),$.externalData!=null&&$.externalData.length)for(it=0;it<$.externalData.length;++it)st.onnx.StringStringEntryProto.encode($.externalData[it],nt.uint32(106).fork()).ldelim();return $.dataLocation!=null&&$.hasOwnProperty("dataLocation")&&nt.uint32(112).int32($.dataLocation),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.TensorProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:if(lt.dims&&lt.dims.length||(lt.dims=[]),(7&dt)==2)for(var ft=$.uint32()+$.pos;$.pos<ft;)lt.dims.push($.int64());else lt.dims.push($.int64());break;case 2:lt.dataType=$.int32();break;case 3:lt.segment=st.onnx.TensorProto.Segment.decode($,$.uint32());break;case 4:if(lt.floatData&&lt.floatData.length||(lt.floatData=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.floatData.push($.float());else lt.floatData.push($.float());break;case 5:if(lt.int32Data&&lt.int32Data.length||(lt.int32Data=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.int32Data.push($.int32());else lt.int32Data.push($.int32());break;case 6:lt.stringData&&lt.stringData.length||(lt.stringData=[]),lt.stringData.push($.bytes());break;case 7:if(lt.int64Data&&lt.int64Data.length||(lt.int64Data=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.int64Data.push($.int64());else lt.int64Data.push($.int64());break;case 8:lt.name=$.string();break;case 12:lt.docString=$.string();break;case 9:lt.rawData=$.bytes();break;case 13:lt.externalData&&lt.externalData.length||(lt.externalData=[]),lt.externalData.push(st.onnx.StringStringEntryProto.decode($,$.uint32()));break;case 14:lt.dataLocation=$.int32();break;case 10:if(lt.doubleData&&lt.doubleData.length||(lt.doubleData=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.doubleData.push($.double());else lt.doubleData.push($.double());break;case 11:if(lt.uint64Data&&lt.uint64Data.length||(lt.uint64Data=[]),(7&dt)==2)for(ft=$.uint32()+$.pos;$.pos<ft;)lt.uint64Data.push($.uint64());else lt.uint64Data.push($.uint64());break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.dims!=null&&$.hasOwnProperty("dims")){if(!Array.isArray($.dims))return"dims: array expected";for(var nt=0;nt<$.dims.length;++nt)if(!(ot.isInteger($.dims[nt])||$.dims[nt]&&ot.isInteger($.dims[nt].low)&&ot.isInteger($.dims[nt].high)))return"dims: integer|Long[] expected"}if($.dataType!=null&&$.hasOwnProperty("dataType")&&!ot.isInteger($.dataType))return"dataType: integer expected";if($.segment!=null&&$.hasOwnProperty("segment")&&(it=st.onnx.TensorProto.Segment.verify($.segment)))return"segment."+it;if($.floatData!=null&&$.hasOwnProperty("floatData")){if(!Array.isArray($.floatData))return"floatData: array expected";for(nt=0;nt<$.floatData.length;++nt)if(typeof $.floatData[nt]!="number")return"floatData: number[] expected"}if($.int32Data!=null&&$.hasOwnProperty("int32Data")){if(!Array.isArray($.int32Data))return"int32Data: array expected";for(nt=0;nt<$.int32Data.length;++nt)if(!ot.isInteger($.int32Data[nt]))return"int32Data: integer[] expected"}if($.stringData!=null&&$.hasOwnProperty("stringData")){if(!Array.isArray($.stringData))return"stringData: array expected";for(nt=0;nt<$.stringData.length;++nt)if(!($.stringData[nt]&&typeof $.stringData[nt].length=="number"||ot.isString($.stringData[nt])))return"stringData: buffer[] expected"}if($.int64Data!=null&&$.hasOwnProperty("int64Data")){if(!Array.isArray($.int64Data))return"int64Data: array expected";for(nt=0;nt<$.int64Data.length;++nt)if(!(ot.isInteger($.int64Data[nt])||$.int64Data[nt]&&ot.isInteger($.int64Data[nt].low)&&ot.isInteger($.int64Data[nt].high)))return"int64Data: integer|Long[] expected"}if($.name!=null&&$.hasOwnProperty("name")&&!ot.isString($.name))return"name: string expected";if($.docString!=null&&$.hasOwnProperty("docString")&&!ot.isString($.docString))return"docString: string expected";if($.rawData!=null&&$.hasOwnProperty("rawData")&&!($.rawData&&typeof $.rawData.length=="number"||ot.isString($.rawData)))return"rawData: buffer expected";if($.externalData!=null&&$.hasOwnProperty("externalData")){if(!Array.isArray($.externalData))return"externalData: array expected";for(nt=0;nt<$.externalData.length;++nt){var it;if(it=st.onnx.StringStringEntryProto.verify($.externalData[nt]))return"externalData."+it}}if($.dataLocation!=null&&$.hasOwnProperty("dataLocation"))switch($.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if($.doubleData!=null&&$.hasOwnProperty("doubleData")){if(!Array.isArray($.doubleData))return"doubleData: array expected";for(nt=0;nt<$.doubleData.length;++nt)if(typeof $.doubleData[nt]!="number")return"doubleData: number[] expected"}if($.uint64Data!=null&&$.hasOwnProperty("uint64Data")){if(!Array.isArray($.uint64Data))return"uint64Data: array expected";for(nt=0;nt<$.uint64Data.length;++nt)if(!(ot.isInteger($.uint64Data[nt])||$.uint64Data[nt]&&ot.isInteger($.uint64Data[nt].low)&&ot.isInteger($.uint64Data[nt].high)))return"uint64Data: integer|Long[] expected"}return null},_e.fromObject=function($){if($ instanceof st.onnx.TensorProto)return $;var nt=new st.onnx.TensorProto;if($.dims){if(!Array.isArray($.dims))throw TypeError(".onnx.TensorProto.dims: array expected");nt.dims=[];for(var it=0;it<$.dims.length;++it)ot.Long?(nt.dims[it]=ot.Long.fromValue($.dims[it])).unsigned=!1:typeof $.dims[it]=="string"?nt.dims[it]=parseInt($.dims[it],10):typeof $.dims[it]=="number"?nt.dims[it]=$.dims[it]:typeof $.dims[it]=="object"&&(nt.dims[it]=new ot.LongBits($.dims[it].low>>>0,$.dims[it].high>>>0).toNumber())}if($.dataType!=null&&(nt.dataType=0|$.dataType),$.segment!=null){if(typeof $.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");nt.segment=st.onnx.TensorProto.Segment.fromObject($.segment)}if($.floatData){if(!Array.isArray($.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(nt.floatData=[],it=0;it<$.floatData.length;++it)nt.floatData[it]=Number($.floatData[it])}if($.int32Data){if(!Array.isArray($.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(nt.int32Data=[],it=0;it<$.int32Data.length;++it)nt.int32Data[it]=0|$.int32Data[it]}if($.stringData){if(!Array.isArray($.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(nt.stringData=[],it=0;it<$.stringData.length;++it)typeof $.stringData[it]=="string"?ot.base64.decode($.stringData[it],nt.stringData[it]=ot.newBuffer(ot.base64.length($.stringData[it])),0):$.stringData[it].length&&(nt.stringData[it]=$.stringData[it])}if($.int64Data){if(!Array.isArray($.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(nt.int64Data=[],it=0;it<$.int64Data.length;++it)ot.Long?(nt.int64Data[it]=ot.Long.fromValue($.int64Data[it])).unsigned=!1:typeof $.int64Data[it]=="string"?nt.int64Data[it]=parseInt($.int64Data[it],10):typeof $.int64Data[it]=="number"?nt.int64Data[it]=$.int64Data[it]:typeof $.int64Data[it]=="object"&&(nt.int64Data[it]=new ot.LongBits($.int64Data[it].low>>>0,$.int64Data[it].high>>>0).toNumber())}if($.name!=null&&(nt.name=String($.name)),$.docString!=null&&(nt.docString=String($.docString)),$.rawData!=null&&(typeof $.rawData=="string"?ot.base64.decode($.rawData,nt.rawData=ot.newBuffer(ot.base64.length($.rawData)),0):$.rawData.length&&(nt.rawData=$.rawData)),$.externalData){if(!Array.isArray($.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(nt.externalData=[],it=0;it<$.externalData.length;++it){if(typeof $.externalData[it]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");nt.externalData[it]=st.onnx.StringStringEntryProto.fromObject($.externalData[it])}}switch($.dataLocation){case"DEFAULT":case 0:nt.dataLocation=0;break;case"EXTERNAL":case 1:nt.dataLocation=1}if($.doubleData){if(!Array.isArray($.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(nt.doubleData=[],it=0;it<$.doubleData.length;++it)nt.doubleData[it]=Number($.doubleData[it])}if($.uint64Data){if(!Array.isArray($.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(nt.uint64Data=[],it=0;it<$.uint64Data.length;++it)ot.Long?(nt.uint64Data[it]=ot.Long.fromValue($.uint64Data[it])).unsigned=!0:typeof $.uint64Data[it]=="string"?nt.uint64Data[it]=parseInt($.uint64Data[it],10):typeof $.uint64Data[it]=="number"?nt.uint64Data[it]=$.uint64Data[it]:typeof $.uint64Data[it]=="object"&&(nt.uint64Data[it]=new ot.LongBits($.uint64Data[it].low>>>0,$.uint64Data[it].high>>>0).toNumber(!0))}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.dims=[],it.floatData=[],it.int32Data=[],it.stringData=[],it.int64Data=[],it.doubleData=[],it.uint64Data=[],it.externalData=[]),nt.defaults&&(it.dataType=0,it.segment=null,it.name="",nt.bytes===String?it.rawData="":(it.rawData=[],nt.bytes!==Array&&(it.rawData=ot.newBuffer(it.rawData))),it.docString="",it.dataLocation=nt.enums===String?"DEFAULT":0),$.dims&&$.dims.length){it.dims=[];for(var lt=0;lt<$.dims.length;++lt)typeof $.dims[lt]=="number"?it.dims[lt]=nt.longs===String?String($.dims[lt]):$.dims[lt]:it.dims[lt]=nt.longs===String?ot.Long.prototype.toString.call($.dims[lt]):nt.longs===Number?new ot.LongBits($.dims[lt].low>>>0,$.dims[lt].high>>>0).toNumber():$.dims[lt]}if($.dataType!=null&&$.hasOwnProperty("dataType")&&(it.dataType=$.dataType),$.segment!=null&&$.hasOwnProperty("segment")&&(it.segment=st.onnx.TensorProto.Segment.toObject($.segment,nt)),$.floatData&&$.floatData.length)for(it.floatData=[],lt=0;lt<$.floatData.length;++lt)it.floatData[lt]=nt.json&&!isFinite($.floatData[lt])?String($.floatData[lt]):$.floatData[lt];if($.int32Data&&$.int32Data.length)for(it.int32Data=[],lt=0;lt<$.int32Data.length;++lt)it.int32Data[lt]=$.int32Data[lt];if($.stringData&&$.stringData.length)for(it.stringData=[],lt=0;lt<$.stringData.length;++lt)it.stringData[lt]=nt.bytes===String?ot.base64.encode($.stringData[lt],0,$.stringData[lt].length):nt.bytes===Array?Array.prototype.slice.call($.stringData[lt]):$.stringData[lt];if($.int64Data&&$.int64Data.length)for(it.int64Data=[],lt=0;lt<$.int64Data.length;++lt)typeof $.int64Data[lt]=="number"?it.int64Data[lt]=nt.longs===String?String($.int64Data[lt]):$.int64Data[lt]:it.int64Data[lt]=nt.longs===String?ot.Long.prototype.toString.call($.int64Data[lt]):nt.longs===Number?new ot.LongBits($.int64Data[lt].low>>>0,$.int64Data[lt].high>>>0).toNumber():$.int64Data[lt];if($.name!=null&&$.hasOwnProperty("name")&&(it.name=$.name),$.rawData!=null&&$.hasOwnProperty("rawData")&&(it.rawData=nt.bytes===String?ot.base64.encode($.rawData,0,$.rawData.length):nt.bytes===Array?Array.prototype.slice.call($.rawData):$.rawData),$.doubleData&&$.doubleData.length)for(it.doubleData=[],lt=0;lt<$.doubleData.length;++lt)it.doubleData[lt]=nt.json&&!isFinite($.doubleData[lt])?String($.doubleData[lt]):$.doubleData[lt];if($.uint64Data&&$.uint64Data.length)for(it.uint64Data=[],lt=0;lt<$.uint64Data.length;++lt)typeof $.uint64Data[lt]=="number"?it.uint64Data[lt]=nt.longs===String?String($.uint64Data[lt]):$.uint64Data[lt]:it.uint64Data[lt]=nt.longs===String?ot.Long.prototype.toString.call($.uint64Data[lt]):nt.longs===Number?new ot.LongBits($.uint64Data[lt].low>>>0,$.uint64Data[lt].high>>>0).toNumber(!0):$.uint64Data[lt];if($.docString!=null&&$.hasOwnProperty("docString")&&(it.docString=$.docString),$.externalData&&$.externalData.length)for(it.externalData=[],lt=0;lt<$.externalData.length;++lt)it.externalData[lt]=st.onnx.StringStringEntryProto.toObject($.externalData[lt],nt);return $.dataLocation!=null&&$.hasOwnProperty("dataLocation")&&(it.dataLocation=nt.enums===String?st.onnx.TensorProto.DataLocation[$.dataLocation]:$.dataLocation),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e.DataType=function(){var $={},nt=Object.create($);return nt[$[0]="UNDEFINED"]=0,nt[$[1]="FLOAT"]=1,nt[$[2]="UINT8"]=2,nt[$[3]="INT8"]=3,nt[$[4]="UINT16"]=4,nt[$[5]="INT16"]=5,nt[$[6]="INT32"]=6,nt[$[7]="INT64"]=7,nt[$[8]="STRING"]=8,nt[$[9]="BOOL"]=9,nt[$[10]="FLOAT16"]=10,nt[$[11]="DOUBLE"]=11,nt[$[12]="UINT32"]=12,nt[$[13]="UINT64"]=13,nt[$[14]="COMPLEX64"]=14,nt[$[15]="COMPLEX128"]=15,nt[$[16]="BFLOAT16"]=16,nt}(),_e.Segment=function(){function $(nt){if(nt)for(var it=Object.keys(nt),lt=0;lt<it.length;++lt)nt[it[lt]]!=null&&(this[it[lt]]=nt[it[lt]])}return $.prototype.begin=ot.Long?ot.Long.fromBits(0,0,!1):0,$.prototype.end=ot.Long?ot.Long.fromBits(0,0,!1):0,$.create=function(nt){return new $(nt)},$.encode=function(nt,it){return it||(it=at.create()),nt.begin!=null&&nt.hasOwnProperty("begin")&&it.uint32(8).int64(nt.begin),nt.end!=null&&nt.hasOwnProperty("end")&&it.uint32(16).int64(nt.end),it},$.encodeDelimited=function(nt,it){return this.encode(nt,it).ldelim()},$.decode=function(nt,it){nt instanceof rt||(nt=rt.create(nt));for(var lt=it===void 0?nt.len:nt.pos+it,dt=new st.onnx.TensorProto.Segment;nt.pos<lt;){var ft=nt.uint32();switch(ft>>>3){case 1:dt.begin=nt.int64();break;case 2:dt.end=nt.int64();break;default:nt.skipType(7&ft)}}return dt},$.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},$.verify=function(nt){return typeof nt!="object"||nt===null?"object expected":nt.begin!=null&&nt.hasOwnProperty("begin")&&!(ot.isInteger(nt.begin)||nt.begin&&ot.isInteger(nt.begin.low)&&ot.isInteger(nt.begin.high))?"begin: integer|Long expected":nt.end!=null&&nt.hasOwnProperty("end")&&!(ot.isInteger(nt.end)||nt.end&&ot.isInteger(nt.end.low)&&ot.isInteger(nt.end.high))?"end: integer|Long expected":null},$.fromObject=function(nt){if(nt instanceof st.onnx.TensorProto.Segment)return nt;var it=new st.onnx.TensorProto.Segment;return nt.begin!=null&&(ot.Long?(it.begin=ot.Long.fromValue(nt.begin)).unsigned=!1:typeof nt.begin=="string"?it.begin=parseInt(nt.begin,10):typeof nt.begin=="number"?it.begin=nt.begin:typeof nt.begin=="object"&&(it.begin=new ot.LongBits(nt.begin.low>>>0,nt.begin.high>>>0).toNumber())),nt.end!=null&&(ot.Long?(it.end=ot.Long.fromValue(nt.end)).unsigned=!1:typeof nt.end=="string"?it.end=parseInt(nt.end,10):typeof nt.end=="number"?it.end=nt.end:typeof nt.end=="object"&&(it.end=new ot.LongBits(nt.end.low>>>0,nt.end.high>>>0).toNumber())),it},$.toObject=function(nt,it){it||(it={});var lt={};if(it.defaults){if(ot.Long){var dt=new ot.Long(0,0,!1);lt.begin=it.longs===String?dt.toString():it.longs===Number?dt.toNumber():dt}else lt.begin=it.longs===String?"0":0;ot.Long?(dt=new ot.Long(0,0,!1),lt.end=it.longs===String?dt.toString():it.longs===Number?dt.toNumber():dt):lt.end=it.longs===String?"0":0}return nt.begin!=null&&nt.hasOwnProperty("begin")&&(typeof nt.begin=="number"?lt.begin=it.longs===String?String(nt.begin):nt.begin:lt.begin=it.longs===String?ot.Long.prototype.toString.call(nt.begin):it.longs===Number?new ot.LongBits(nt.begin.low>>>0,nt.begin.high>>>0).toNumber():nt.begin),nt.end!=null&&nt.hasOwnProperty("end")&&(typeof nt.end=="number"?lt.end=it.longs===String?String(nt.end):nt.end:lt.end=it.longs===String?ot.Long.prototype.toString.call(nt.end):it.longs===Number?new ot.LongBits(nt.end.low>>>0,nt.end.high>>>0).toNumber():nt.end),lt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),_e.DataLocation=function(){var $={},nt=Object.create($);return nt[$[0]="DEFAULT"]=0,nt[$[1]="EXTERNAL"]=1,nt}(),_e}(),et.TensorShapeProto=function(){function _e($){if(this.dim=[],$)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.dim=ot.emptyArray,_e.create=function($){return new _e($)},_e.encode=function($,nt){if(nt||(nt=at.create()),$.dim!=null&&$.dim.length)for(var it=0;it<$.dim.length;++it)st.onnx.TensorShapeProto.Dimension.encode($.dim[it],nt.uint32(10).fork()).ldelim();return nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.TensorShapeProto;$.pos<it;){var dt=$.uint32();dt>>>3==1?(lt.dim&&lt.dim.length||(lt.dim=[]),lt.dim.push(st.onnx.TensorShapeProto.Dimension.decode($,$.uint32()))):$.skipType(7&dt)}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){if(typeof $!="object"||$===null)return"object expected";if($.dim!=null&&$.hasOwnProperty("dim")){if(!Array.isArray($.dim))return"dim: array expected";for(var nt=0;nt<$.dim.length;++nt){var it=st.onnx.TensorShapeProto.Dimension.verify($.dim[nt]);if(it)return"dim."+it}}return null},_e.fromObject=function($){if($ instanceof st.onnx.TensorShapeProto)return $;var nt=new st.onnx.TensorShapeProto;if($.dim){if(!Array.isArray($.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");nt.dim=[];for(var it=0;it<$.dim.length;++it){if(typeof $.dim[it]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");nt.dim[it]=st.onnx.TensorShapeProto.Dimension.fromObject($.dim[it])}}return nt},_e.toObject=function($,nt){nt||(nt={});var it={};if((nt.arrays||nt.defaults)&&(it.dim=[]),$.dim&&$.dim.length){it.dim=[];for(var lt=0;lt<$.dim.length;++lt)it.dim[lt]=st.onnx.TensorShapeProto.Dimension.toObject($.dim[lt],nt)}return it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e.Dimension=function(){function $(it){if(it)for(var lt=Object.keys(it),dt=0;dt<lt.length;++dt)it[lt[dt]]!=null&&(this[lt[dt]]=it[lt[dt]])}var nt;return $.prototype.dimValue=ot.Long?ot.Long.fromBits(0,0,!1):0,$.prototype.dimParam="",$.prototype.denotation="",Object.defineProperty($.prototype,"value",{get:ot.oneOfGetter(nt=["dimValue","dimParam"]),set:ot.oneOfSetter(nt)}),$.create=function(it){return new $(it)},$.encode=function(it,lt){return lt||(lt=at.create()),it.dimValue!=null&&it.hasOwnProperty("dimValue")&&lt.uint32(8).int64(it.dimValue),it.dimParam!=null&&it.hasOwnProperty("dimParam")&&lt.uint32(18).string(it.dimParam),it.denotation!=null&&it.hasOwnProperty("denotation")&&lt.uint32(26).string(it.denotation),lt},$.encodeDelimited=function(it,lt){return this.encode(it,lt).ldelim()},$.decode=function(it,lt){it instanceof rt||(it=rt.create(it));for(var dt=lt===void 0?it.len:it.pos+lt,ft=new st.onnx.TensorShapeProto.Dimension;it.pos<dt;){var pt=it.uint32();switch(pt>>>3){case 1:ft.dimValue=it.int64();break;case 2:ft.dimParam=it.string();break;case 3:ft.denotation=it.string();break;default:it.skipType(7&pt)}}return ft},$.decodeDelimited=function(it){return it instanceof rt||(it=new rt(it)),this.decode(it,it.uint32())},$.verify=function(it){if(typeof it!="object"||it===null)return"object expected";var lt={};if(it.dimValue!=null&&it.hasOwnProperty("dimValue")&&(lt.value=1,!(ot.isInteger(it.dimValue)||it.dimValue&&ot.isInteger(it.dimValue.low)&&ot.isInteger(it.dimValue.high))))return"dimValue: integer|Long expected";if(it.dimParam!=null&&it.hasOwnProperty("dimParam")){if(lt.value===1)return"value: multiple values";if(lt.value=1,!ot.isString(it.dimParam))return"dimParam: string expected"}return it.denotation!=null&&it.hasOwnProperty("denotation")&&!ot.isString(it.denotation)?"denotation: string expected":null},$.fromObject=function(it){if(it instanceof st.onnx.TensorShapeProto.Dimension)return it;var lt=new st.onnx.TensorShapeProto.Dimension;return it.dimValue!=null&&(ot.Long?(lt.dimValue=ot.Long.fromValue(it.dimValue)).unsigned=!1:typeof it.dimValue=="string"?lt.dimValue=parseInt(it.dimValue,10):typeof it.dimValue=="number"?lt.dimValue=it.dimValue:typeof it.dimValue=="object"&&(lt.dimValue=new ot.LongBits(it.dimValue.low>>>0,it.dimValue.high>>>0).toNumber())),it.dimParam!=null&&(lt.dimParam=String(it.dimParam)),it.denotation!=null&&(lt.denotation=String(it.denotation)),lt},$.toObject=function(it,lt){lt||(lt={});var dt={};return lt.defaults&&(dt.denotation=""),it.dimValue!=null&&it.hasOwnProperty("dimValue")&&(typeof it.dimValue=="number"?dt.dimValue=lt.longs===String?String(it.dimValue):it.dimValue:dt.dimValue=lt.longs===String?ot.Long.prototype.toString.call(it.dimValue):lt.longs===Number?new ot.LongBits(it.dimValue.low>>>0,it.dimValue.high>>>0).toNumber():it.dimValue,lt.oneofs&&(dt.value="dimValue")),it.dimParam!=null&&it.hasOwnProperty("dimParam")&&(dt.dimParam=it.dimParam,lt.oneofs&&(dt.value="dimParam")),it.denotation!=null&&it.hasOwnProperty("denotation")&&(dt.denotation=it.denotation),dt},$.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},$}(),_e}(),et.TypeProto=function(){function _e(nt){if(nt)for(var it=Object.keys(nt),lt=0;lt<it.length;++lt)nt[it[lt]]!=null&&(this[it[lt]]=nt[it[lt]])}var $;return _e.prototype.tensorType=null,_e.prototype.denotation="",Object.defineProperty(_e.prototype,"value",{get:ot.oneOfGetter($=["tensorType"]),set:ot.oneOfSetter($)}),_e.create=function(nt){return new _e(nt)},_e.encode=function(nt,it){return it||(it=at.create()),nt.tensorType!=null&&nt.hasOwnProperty("tensorType")&&st.onnx.TypeProto.Tensor.encode(nt.tensorType,it.uint32(10).fork()).ldelim(),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&it.uint32(50).string(nt.denotation),it},_e.encodeDelimited=function(nt,it){return this.encode(nt,it).ldelim()},_e.decode=function(nt,it){nt instanceof rt||(nt=rt.create(nt));for(var lt=it===void 0?nt.len:nt.pos+it,dt=new st.onnx.TypeProto;nt.pos<lt;){var ft=nt.uint32();switch(ft>>>3){case 1:dt.tensorType=st.onnx.TypeProto.Tensor.decode(nt,nt.uint32());break;case 6:dt.denotation=nt.string();break;default:nt.skipType(7&ft)}}return dt},_e.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},_e.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";if(nt.tensorType!=null&&nt.hasOwnProperty("tensorType")){var it=st.onnx.TypeProto.Tensor.verify(nt.tensorType);if(it)return"tensorType."+it}return nt.denotation!=null&&nt.hasOwnProperty("denotation")&&!ot.isString(nt.denotation)?"denotation: string expected":null},_e.fromObject=function(nt){if(nt instanceof st.onnx.TypeProto)return nt;var it=new st.onnx.TypeProto;if(nt.tensorType!=null){if(typeof nt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");it.tensorType=st.onnx.TypeProto.Tensor.fromObject(nt.tensorType)}return nt.denotation!=null&&(it.denotation=String(nt.denotation)),it},_e.toObject=function(nt,it){it||(it={});var lt={};return it.defaults&&(lt.denotation=""),nt.tensorType!=null&&nt.hasOwnProperty("tensorType")&&(lt.tensorType=st.onnx.TypeProto.Tensor.toObject(nt.tensorType,it),it.oneofs&&(lt.value="tensorType")),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&(lt.denotation=nt.denotation),lt},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e.Tensor=function(){function nt(it){if(it)for(var lt=Object.keys(it),dt=0;dt<lt.length;++dt)it[lt[dt]]!=null&&(this[lt[dt]]=it[lt[dt]])}return nt.prototype.elemType=0,nt.prototype.shape=null,nt.create=function(it){return new nt(it)},nt.encode=function(it,lt){return lt||(lt=at.create()),it.elemType!=null&&it.hasOwnProperty("elemType")&&lt.uint32(8).int32(it.elemType),it.shape!=null&&it.hasOwnProperty("shape")&&st.onnx.TensorShapeProto.encode(it.shape,lt.uint32(18).fork()).ldelim(),lt},nt.encodeDelimited=function(it,lt){return this.encode(it,lt).ldelim()},nt.decode=function(it,lt){it instanceof rt||(it=rt.create(it));for(var dt=lt===void 0?it.len:it.pos+lt,ft=new st.onnx.TypeProto.Tensor;it.pos<dt;){var pt=it.uint32();switch(pt>>>3){case 1:ft.elemType=it.int32();break;case 2:ft.shape=st.onnx.TensorShapeProto.decode(it,it.uint32());break;default:it.skipType(7&pt)}}return ft},nt.decodeDelimited=function(it){return it instanceof rt||(it=new rt(it)),this.decode(it,it.uint32())},nt.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.elemType!=null&&it.hasOwnProperty("elemType")&&!ot.isInteger(it.elemType))return"elemType: integer expected";if(it.shape!=null&&it.hasOwnProperty("shape")){var lt=st.onnx.TensorShapeProto.verify(it.shape);if(lt)return"shape."+lt}return null},nt.fromObject=function(it){if(it instanceof st.onnx.TypeProto.Tensor)return it;var lt=new st.onnx.TypeProto.Tensor;if(it.elemType!=null&&(lt.elemType=0|it.elemType),it.shape!=null){if(typeof it.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");lt.shape=st.onnx.TensorShapeProto.fromObject(it.shape)}return lt},nt.toObject=function(it,lt){lt||(lt={});var dt={};return lt.defaults&&(dt.elemType=0,dt.shape=null),it.elemType!=null&&it.hasOwnProperty("elemType")&&(dt.elemType=it.elemType),it.shape!=null&&it.hasOwnProperty("shape")&&(dt.shape=st.onnx.TensorShapeProto.toObject(it.shape,lt)),dt},nt.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},nt}(),_e}(),et.OperatorSetIdProto=function(){function _e($){if($)for(var nt=Object.keys($),it=0;it<nt.length;++it)$[nt[it]]!=null&&(this[nt[it]]=$[nt[it]])}return _e.prototype.domain="",_e.prototype.version=ot.Long?ot.Long.fromBits(0,0,!1):0,_e.create=function($){return new _e($)},_e.encode=function($,nt){return nt||(nt=at.create()),$.domain!=null&&$.hasOwnProperty("domain")&&nt.uint32(10).string($.domain),$.version!=null&&$.hasOwnProperty("version")&&nt.uint32(16).int64($.version),nt},_e.encodeDelimited=function($,nt){return this.encode($,nt).ldelim()},_e.decode=function($,nt){$ instanceof rt||($=rt.create($));for(var it=nt===void 0?$.len:$.pos+nt,lt=new st.onnx.OperatorSetIdProto;$.pos<it;){var dt=$.uint32();switch(dt>>>3){case 1:lt.domain=$.string();break;case 2:lt.version=$.int64();break;default:$.skipType(7&dt)}}return lt},_e.decodeDelimited=function($){return $ instanceof rt||($=new rt($)),this.decode($,$.uint32())},_e.verify=function($){return typeof $!="object"||$===null?"object expected":$.domain!=null&&$.hasOwnProperty("domain")&&!ot.isString($.domain)?"domain: string expected":$.version!=null&&$.hasOwnProperty("version")&&!(ot.isInteger($.version)||$.version&&ot.isInteger($.version.low)&&ot.isInteger($.version.high))?"version: integer|Long expected":null},_e.fromObject=function($){if($ instanceof st.onnx.OperatorSetIdProto)return $;var nt=new st.onnx.OperatorSetIdProto;return $.domain!=null&&(nt.domain=String($.domain)),$.version!=null&&(ot.Long?(nt.version=ot.Long.fromValue($.version)).unsigned=!1:typeof $.version=="string"?nt.version=parseInt($.version,10):typeof $.version=="number"?nt.version=$.version:typeof $.version=="object"&&(nt.version=new ot.LongBits($.version.low>>>0,$.version.high>>>0).toNumber())),nt},_e.toObject=function($,nt){nt||(nt={});var it={};if(nt.defaults)if(it.domain="",ot.Long){var lt=new ot.Long(0,0,!1);it.version=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else it.version=nt.longs===String?"0":0;return $.domain!=null&&$.hasOwnProperty("domain")&&(it.domain=$.domain),$.version!=null&&$.hasOwnProperty("version")&&(typeof $.version=="number"?it.version=nt.longs===String?String($.version):$.version:it.version=nt.longs===String?ot.Long.prototype.toString.call($.version):nt.longs===Number?new ot.LongBits($.version.low>>>0,$.version.high>>>0).toNumber():$.version),it},_e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.util.toJSONOptions)},_e}(),et),o.exports=st},2100:(o,i,a)=>{o.exports=a(9482)},9482:(o,i,a)=>{var s=i;function j(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}s.build="minimal",s.Writer=a(1173),s.BufferWriter=a(3155),s.Reader=a(1408),s.BufferReader=a(593),s.util=a(9693),s.rpc=a(5994),s.roots=a(5054),s.configure=j,j()},1408:(o,i,a)=>{o.exports=at;var s,j=a(9693),et=j.LongBits,tt=j.utf8;function rt(lt,dt){return RangeError("index out of range: "+lt.pos+" + "+(dt||1)+" > "+lt.len)}function at(lt){this.buf=lt,this.pos=0,this.len=lt.length}var ot,st=typeof Uint8Array<"u"?function(lt){if(lt instanceof Uint8Array||Array.isArray(lt))return new at(lt);throw Error("illegal buffer")}:function(lt){if(Array.isArray(lt))return new at(lt);throw Error("illegal buffer")},_e=function(){return j.Buffer?function(lt){return(at.create=function(dt){return j.Buffer.isBuffer(dt)?new s(dt):st(dt)})(lt)}:st};function $(){var lt=new et(0,0),dt=0;if(!(this.len-this.pos>4)){for(;dt<3;++dt){if(this.pos>=this.len)throw rt(this);if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*dt)>>>0,this.buf[this.pos++]<128)return lt}return lt.lo=(lt.lo|(127&this.buf[this.pos++])<<7*dt)>>>0,lt}for(;dt<4;++dt)if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*dt)>>>0,this.buf[this.pos++]<128)return lt;if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<28)>>>0,lt.hi=(lt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return lt;if(dt=0,this.len-this.pos>4){for(;dt<5;++dt)if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*dt+3)>>>0,this.buf[this.pos++]<128)return lt}else for(;dt<5;++dt){if(this.pos>=this.len)throw rt(this);if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*dt+3)>>>0,this.buf[this.pos++]<128)return lt}throw Error("invalid varint encoding")}function nt(lt,dt){return(lt[dt-4]|lt[dt-3]<<8|lt[dt-2]<<16|lt[dt-1]<<24)>>>0}function it(){if(this.pos+8>this.len)throw rt(this,8);return new et(nt(this.buf,this.pos+=4),nt(this.buf,this.pos+=4))}at.create=_e(),at.prototype._slice=j.Array.prototype.subarray||j.Array.prototype.slice,at.prototype.uint32=(ot=4294967295,function(){if(ot=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ot=(ot|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ot=(ot|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ot;if((this.pos+=5)>this.len)throw this.pos=this.len,rt(this,10);return ot}),at.prototype.int32=function(){return 0|this.uint32()},at.prototype.sint32=function(){var lt=this.uint32();return lt>>>1^-(1&lt)|0},at.prototype.bool=function(){return this.uint32()!==0},at.prototype.fixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return nt(this.buf,this.pos+=4)},at.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return 0|nt(this.buf,this.pos+=4)},at.prototype.float=function(){if(this.pos+4>this.len)throw rt(this,4);var lt=j.float.readFloatLE(this.buf,this.pos);return this.pos+=4,lt},at.prototype.double=function(){if(this.pos+8>this.len)throw rt(this,4);var lt=j.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,lt},at.prototype.bytes=function(){var lt=this.uint32(),dt=this.pos,ft=this.pos+lt;if(ft>this.len)throw rt(this,lt);return this.pos+=lt,Array.isArray(this.buf)?this.buf.slice(dt,ft):dt===ft?new this.buf.constructor(0):this._slice.call(this.buf,dt,ft)},at.prototype.string=function(){var lt=this.bytes();return tt.read(lt,0,lt.length)},at.prototype.skip=function(lt){if(typeof lt=="number"){if(this.pos+lt>this.len)throw rt(this,lt);this.pos+=lt}else do if(this.pos>=this.len)throw rt(this);while(128&this.buf[this.pos++]);return this},at.prototype.skipType=function(lt){switch(lt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(lt=7&this.uint32())!=4;)this.skipType(lt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+lt+" at offset "+this.pos)}return this},at._configure=function(lt){s=lt,at.create=_e(),s._configure();var dt=j.Long?"toLong":"toNumber";j.merge(at.prototype,{int64:function(){return $.call(this)[dt](!1)},uint64:function(){return $.call(this)[dt](!0)},sint64:function(){return $.call(this).zzDecode()[dt](!1)},fixed64:function(){return it.call(this)[dt](!0)},sfixed64:function(){return it.call(this)[dt](!1)}})}},593:(o,i,a)=>{o.exports=et;var s=a(1408);(et.prototype=Object.create(s.prototype)).constructor=et;var j=a(9693);function et(tt){s.call(this,tt)}et._configure=function(){j.Buffer&&(et.prototype._slice=j.Buffer.prototype.slice)},et.prototype.string=function(){var tt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+tt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+tt,this.len))},et._configure()},5054:o=>{o.exports={}},5994:(o,i,a)=>{i.Service=a(7948)},7948:(o,i,a)=>{o.exports=j;var s=a(9693);function j(et,tt,rt){if(typeof et!="function")throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=et,this.requestDelimited=!!tt,this.responseDelimited=!!rt}(j.prototype=Object.create(s.EventEmitter.prototype)).constructor=j,j.prototype.rpcCall=function et(tt,rt,at,ot,st){if(!ot)throw TypeError("request must be specified");var _e=this;if(!st)return s.asPromise(et,_e,tt,rt,at,ot);if(_e.rpcImpl)try{return _e.rpcImpl(tt,rt[_e.requestDelimited?"encodeDelimited":"encode"](ot).finish(),function($,nt){if($)return _e.emit("error",$,tt),st($);if(nt!==null){if(!(nt instanceof at))try{nt=at[_e.responseDelimited?"decodeDelimited":"decode"](nt)}catch(it){return _e.emit("error",it,tt),st(it)}return _e.emit("data",nt,tt),st(null,nt)}_e.end(!0)})}catch($){return _e.emit("error",$,tt),void setTimeout(function(){st($)},0)}else setTimeout(function(){st(Error("already ended"))},0)},j.prototype.end=function(et){return this.rpcImpl&&(et||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,i,a)=>{o.exports=j;var s=a(9693);function j(at,ot){this.lo=at>>>0,this.hi=ot>>>0}var et=j.zero=new j(0,0);et.toNumber=function(){return 0},et.zzEncode=et.zzDecode=function(){return this},et.length=function(){return 1};var tt=j.zeroHash="\0\0\0\0\0\0\0\0";j.fromNumber=function(at){if(at===0)return et;var ot=at<0;ot&&(at=-at);var st=at>>>0,_e=(at-st)/4294967296>>>0;return ot&&(_e=~_e>>>0,st=~st>>>0,++st>4294967295&&(st=0,++_e>4294967295&&(_e=0))),new j(st,_e)},j.from=function(at){if(typeof at=="number")return j.fromNumber(at);if(s.isString(at)){if(!s.Long)return j.fromNumber(parseInt(at,10));at=s.Long.fromString(at)}return at.low||at.high?new j(at.low>>>0,at.high>>>0):et},j.prototype.toNumber=function(at){if(!at&&this.hi>>>31){var ot=1+~this.lo>>>0,st=~this.hi>>>0;return ot||(st=st+1>>>0),-(ot+4294967296*st)}return this.lo+4294967296*this.hi},j.prototype.toLong=function(at){return s.Long?new s.Long(0|this.lo,0|this.hi,!!at):{low:0|this.lo,high:0|this.hi,unsigned:!!at}};var rt=String.prototype.charCodeAt;j.fromHash=function(at){return at===tt?et:new j((rt.call(at,0)|rt.call(at,1)<<8|rt.call(at,2)<<16|rt.call(at,3)<<24)>>>0,(rt.call(at,4)|rt.call(at,5)<<8|rt.call(at,6)<<16|rt.call(at,7)<<24)>>>0)},j.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},j.prototype.zzEncode=function(){var at=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^at)>>>0,this.lo=(this.lo<<1^at)>>>0,this},j.prototype.zzDecode=function(){var at=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^at)>>>0,this.hi=(this.hi>>>1^at)>>>0,this},j.prototype.length=function(){var at=this.lo,ot=(this.lo>>>28|this.hi<<4)>>>0,st=this.hi>>>24;return st===0?ot===0?at<16384?at<128?1:2:at<2097152?3:4:ot<16384?ot<128?5:6:ot<2097152?7:8:st<128?9:10}},9693:function(o,i,a){var s=i;function j(tt,rt,at){for(var ot=Object.keys(rt),st=0;st<ot.length;++st)tt[ot[st]]!==void 0&&at||(tt[ot[st]]=rt[ot[st]]);return tt}function et(tt){function rt(at,ot){if(!(this instanceof rt))return new rt(at,ot);Object.defineProperty(this,"message",{get:function(){return at}}),Error.captureStackTrace?Error.captureStackTrace(this,rt):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ot&&j(this,ot)}return(rt.prototype=Object.create(Error.prototype)).constructor=rt,Object.defineProperty(rt.prototype,"name",{get:function(){return tt}}),rt.prototype.toString=function(){return this.name+": "+this.message},rt}s.asPromise=a(4537),s.base64=a(7419),s.EventEmitter=a(9211),s.float=a(945),s.inquire=a(7199),s.utf8=a(4997),s.pool=a(6662),s.LongBits=a(1945),s.isNode=!!(a.g!==void 0&&a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),s.global=s.isNode&&a.g||typeof window<"u"&&window||typeof self<"u"&&self||this,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(tt){return typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt},s.isString=function(tt){return typeof tt=="string"||tt instanceof String},s.isObject=function(tt){return tt&&typeof tt=="object"},s.isset=s.isSet=function(tt,rt){var at=tt[rt];return!(at==null||!tt.hasOwnProperty(rt))&&(typeof at!="object"||(Array.isArray(at)?at.length:Object.keys(at).length)>0)},s.Buffer=function(){try{var tt=s.inquire("buffer").Buffer;return tt.prototype.utf8Write?tt:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(tt){return typeof tt=="number"?s.Buffer?s._Buffer_allocUnsafe(tt):new s.Array(tt):s.Buffer?s._Buffer_from(tt):typeof Uint8Array>"u"?tt:new Uint8Array(tt)},s.Array=typeof Uint8Array<"u"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(tt){return tt?s.LongBits.from(tt).toHash():s.LongBits.zeroHash},s.longFromHash=function(tt,rt){var at=s.LongBits.fromHash(tt);return s.Long?s.Long.fromBits(at.lo,at.hi,rt):at.toNumber(!!rt)},s.merge=j,s.lcFirst=function(tt){return tt.charAt(0).toLowerCase()+tt.substring(1)},s.newError=et,s.ProtocolError=et("ProtocolError"),s.oneOfGetter=function(tt){for(var rt={},at=0;at<tt.length;++at)rt[tt[at]]=1;return function(){for(var ot=Object.keys(this),st=ot.length-1;st>-1;--st)if(rt[ot[st]]===1&&this[ot[st]]!==void 0&&this[ot[st]]!==null)return ot[st]}},s.oneOfSetter=function(tt){return function(rt){for(var at=0;at<tt.length;++at)tt[at]!==rt&&delete this[tt[at]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var tt=s.Buffer;tt?(s._Buffer_from=tt.from!==Uint8Array.from&&tt.from||function(rt,at){return new tt(rt,at)},s._Buffer_allocUnsafe=tt.allocUnsafe||function(rt){return new tt(rt)}):s._Buffer_from=s._Buffer_allocUnsafe=null}},1173:(o,i,a)=>{o.exports=_e;var s,j=a(9693),et=j.LongBits,tt=j.base64,rt=j.utf8;function at(pt,ht,gt){this.fn=pt,this.len=ht,this.next=void 0,this.val=gt}function ot(){}function st(pt){this.head=pt.head,this.tail=pt.tail,this.len=pt.len,this.next=pt.states}function _e(){this.len=0,this.head=new at(ot,0,0),this.tail=this.head,this.states=null}var $=function(){return j.Buffer?function(){return(_e.create=function(){return new s})()}:function(){return new _e}};function nt(pt,ht,gt){ht[gt]=255&pt}function it(pt,ht){this.len=pt,this.next=void 0,this.val=ht}function lt(pt,ht,gt){for(;pt.hi;)ht[gt++]=127&pt.lo|128,pt.lo=(pt.lo>>>7|pt.hi<<25)>>>0,pt.hi>>>=7;for(;pt.lo>127;)ht[gt++]=127&pt.lo|128,pt.lo=pt.lo>>>7;ht[gt++]=pt.lo}function dt(pt,ht,gt){ht[gt]=255&pt,ht[gt+1]=pt>>>8&255,ht[gt+2]=pt>>>16&255,ht[gt+3]=pt>>>24}_e.create=$(),_e.alloc=function(pt){return new j.Array(pt)},j.Array!==Array&&(_e.alloc=j.pool(_e.alloc,j.Array.prototype.subarray)),_e.prototype._push=function(pt,ht,gt){return this.tail=this.tail.next=new at(pt,ht,gt),this.len+=ht,this},it.prototype=Object.create(at.prototype),it.prototype.fn=function(pt,ht,gt){for(;pt>127;)ht[gt++]=127&pt|128,pt>>>=7;ht[gt]=pt},_e.prototype.uint32=function(pt){return this.len+=(this.tail=this.tail.next=new it((pt>>>=0)<128?1:pt<16384?2:pt<2097152?3:pt<268435456?4:5,pt)).len,this},_e.prototype.int32=function(pt){return pt<0?this._push(lt,10,et.fromNumber(pt)):this.uint32(pt)},_e.prototype.sint32=function(pt){return this.uint32((pt<<1^pt>>31)>>>0)},_e.prototype.uint64=function(pt){var ht=et.from(pt);return this._push(lt,ht.length(),ht)},_e.prototype.int64=_e.prototype.uint64,_e.prototype.sint64=function(pt){var ht=et.from(pt).zzEncode();return this._push(lt,ht.length(),ht)},_e.prototype.bool=function(pt){return this._push(nt,1,pt?1:0)},_e.prototype.fixed32=function(pt){return this._push(dt,4,pt>>>0)},_e.prototype.sfixed32=_e.prototype.fixed32,_e.prototype.fixed64=function(pt){var ht=et.from(pt);return this._push(dt,4,ht.lo)._push(dt,4,ht.hi)},_e.prototype.sfixed64=_e.prototype.fixed64,_e.prototype.float=function(pt){return this._push(j.float.writeFloatLE,4,pt)},_e.prototype.double=function(pt){return this._push(j.float.writeDoubleLE,8,pt)};var ft=j.Array.prototype.set?function(pt,ht,gt){ht.set(pt,gt)}:function(pt,ht,gt){for(var mt=0;mt<pt.length;++mt)ht[gt+mt]=pt[mt]};_e.prototype.bytes=function(pt){var ht=pt.length>>>0;if(!ht)return this._push(nt,1,0);if(j.isString(pt)){var gt=_e.alloc(ht=tt.length(pt));tt.decode(pt,gt,0),pt=gt}return this.uint32(ht)._push(ft,ht,pt)},_e.prototype.string=function(pt){var ht=rt.length(pt);return ht?this.uint32(ht)._push(rt.write,ht,pt):this._push(nt,1,0)},_e.prototype.fork=function(){return this.states=new st(this),this.head=this.tail=new at(ot,0,0),this.len=0,this},_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new at(ot,0,0),this.len=0),this},_e.prototype.ldelim=function(){var pt=this.head,ht=this.tail,gt=this.len;return this.reset().uint32(gt),gt&&(this.tail.next=pt.next,this.tail=ht,this.len+=gt),this},_e.prototype.finish=function(){for(var pt=this.head.next,ht=this.constructor.alloc(this.len),gt=0;pt;)pt.fn(pt.val,ht,gt),gt+=pt.len,pt=pt.next;return ht},_e._configure=function(pt){s=pt,_e.create=$(),s._configure()}},3155:(o,i,a)=>{o.exports=et;var s=a(1173);(et.prototype=Object.create(s.prototype)).constructor=et;var j=a(9693);function et(){s.call(this)}function tt(rt,at,ot){rt.length<40?j.utf8.write(rt,at,ot):at.utf8Write?at.utf8Write(rt,ot):at.write(rt,ot)}et._configure=function(){et.alloc=j._Buffer_allocUnsafe,et.writeBytesBuffer=j.Buffer&&j.Buffer.prototype instanceof Uint8Array&&j.Buffer.prototype.set.name==="set"?function(rt,at,ot){at.set(rt,ot)}:function(rt,at,ot){if(rt.copy)rt.copy(at,ot,0,rt.length);else for(var st=0;st<rt.length;)at[ot++]=rt[st++]}},et.prototype.bytes=function(rt){j.isString(rt)&&(rt=j._Buffer_from(rt,"base64"));var at=rt.length>>>0;return this.uint32(at),at&&this._push(et.writeBytesBuffer,at,rt),this},et.prototype.string=function(rt){var at=j.Buffer.byteLength(rt);return this.uint32(at),at&&this._push(tt,at,rt),this},et._configure()},4154:o=>{o.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(o,i,a)=>{a.r(i),a.d(i,{flatbuffers:()=>s});var s={};s.Offset,s.Table,s.SIZEOF_SHORT=2,s.SIZEOF_INT=4,s.FILE_IDENTIFIER_LENGTH=4,s.SIZE_PREFIX_LENGTH=4,s.Encoding={UTF8_BYTES:1,UTF16_STRING:2},s.int32=new Int32Array(2),s.float32=new Float32Array(s.int32.buffer),s.float64=new Float64Array(s.int32.buffer),s.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,s.Long=function(j,et){this.low=0|j,this.high=0|et},s.Long.create=function(j,et){return j==0&&et==0?s.Long.ZERO:new s.Long(j,et)},s.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},s.Long.prototype.equals=function(j){return this.low==j.low&&this.high==j.high},s.Long.ZERO=new s.Long(0,0),s.Builder=function(j){if(j)et=j;else var et=1024;this.bb=s.ByteBuffer.allocate(et),this.space=et,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.forceDefaults=function(j){this.force_defaults=j},s.Builder.prototype.dataBuffer=function(){return this.bb},s.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},s.Builder.prototype.prep=function(j,et){j>this.minalign&&(this.minalign=j);for(var tt=1+~(this.bb.capacity()-this.space+et)&j-1;this.space<tt+j+et;){var rt=this.bb.capacity();this.bb=s.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-rt}this.pad(tt)},s.Builder.prototype.pad=function(j){for(var et=0;et<j;et++)this.bb.writeInt8(--this.space,0)},s.Builder.prototype.writeInt8=function(j){this.bb.writeInt8(this.space-=1,j)},s.Builder.prototype.writeInt16=function(j){this.bb.writeInt16(this.space-=2,j)},s.Builder.prototype.writeInt32=function(j){this.bb.writeInt32(this.space-=4,j)},s.Builder.prototype.writeInt64=function(j){this.bb.writeInt64(this.space-=8,j)},s.Builder.prototype.writeFloat32=function(j){this.bb.writeFloat32(this.space-=4,j)},s.Builder.prototype.writeFloat64=function(j){this.bb.writeFloat64(this.space-=8,j)},s.Builder.prototype.addInt8=function(j){this.prep(1,0),this.writeInt8(j)},s.Builder.prototype.addInt16=function(j){this.prep(2,0),this.writeInt16(j)},s.Builder.prototype.addInt32=function(j){this.prep(4,0),this.writeInt32(j)},s.Builder.prototype.addInt64=function(j){this.prep(8,0),this.writeInt64(j)},s.Builder.prototype.addFloat32=function(j){this.prep(4,0),this.writeFloat32(j)},s.Builder.prototype.addFloat64=function(j){this.prep(8,0),this.writeFloat64(j)},s.Builder.prototype.addFieldInt8=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addInt8(et),this.slot(j))},s.Builder.prototype.addFieldInt16=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addInt16(et),this.slot(j))},s.Builder.prototype.addFieldInt32=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addInt32(et),this.slot(j))},s.Builder.prototype.addFieldInt64=function(j,et,tt){!this.force_defaults&&et.equals(tt)||(this.addInt64(et),this.slot(j))},s.Builder.prototype.addFieldFloat32=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addFloat32(et),this.slot(j))},s.Builder.prototype.addFieldFloat64=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addFloat64(et),this.slot(j))},s.Builder.prototype.addFieldOffset=function(j,et,tt){(this.force_defaults||et!=tt)&&(this.addOffset(et),this.slot(j))},s.Builder.prototype.addFieldStruct=function(j,et,tt){et!=tt&&(this.nested(et),this.slot(j))},s.Builder.prototype.nested=function(j){if(j!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},s.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},s.Builder.prototype.slot=function(j){this.vtable[j]=this.offset()},s.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},s.Builder.growByteBuffer=function(j){var et=j.capacity();if(3221225472&et)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var tt=et<<1,rt=s.ByteBuffer.allocate(tt);return rt.setPosition(tt-et),rt.bytes().set(j.bytes(),tt-et),rt},s.Builder.prototype.addOffset=function(j){this.prep(s.SIZEOF_INT,0),this.writeInt32(this.offset()-j+s.SIZEOF_INT)},s.Builder.prototype.startObject=function(j){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=j;for(var et=0;et<j;et++)this.vtable[et]=0;this.isNested=!0,this.object_start=this.offset()},s.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var j=this.offset(),et=this.vtable_in_use-1;et>=0&&this.vtable[et]==0;et--);for(var tt=et+1;et>=0;et--)this.addInt16(this.vtable[et]!=0?j-this.vtable[et]:0);this.addInt16(j-this.object_start);var rt=(tt+2)*s.SIZEOF_SHORT;this.addInt16(rt);var at=0,ot=this.space;e:for(et=0;et<this.vtables.length;et++){var st=this.bb.capacity()-this.vtables[et];if(rt==this.bb.readInt16(st)){for(var _e=s.SIZEOF_SHORT;_e<rt;_e+=s.SIZEOF_SHORT)if(this.bb.readInt16(ot+_e)!=this.bb.readInt16(st+_e))continue e;at=this.vtables[et];break}}return at?(this.space=this.bb.capacity()-j,this.bb.writeInt32(this.space,at-j)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-j,this.offset()-j)),this.isNested=!1,j},s.Builder.prototype.finish=function(j,et,tt){var rt=tt?s.SIZE_PREFIX_LENGTH:0;if(et){var at=et;if(this.prep(this.minalign,s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH+rt),at.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var ot=s.FILE_IDENTIFIER_LENGTH-1;ot>=0;ot--)this.writeInt8(at.charCodeAt(ot))}this.prep(this.minalign,s.SIZEOF_INT+rt),this.addOffset(j),rt&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},s.Builder.prototype.finishSizePrefixed=function(j,et){this.finish(j,et,!0)},s.Builder.prototype.requiredField=function(j,et){var tt=this.bb.capacity()-j,rt=tt-this.bb.readInt32(tt);if(this.bb.readInt16(rt+et)==0)throw new Error("FlatBuffers: field "+et+" must be set")},s.Builder.prototype.startVector=function(j,et,tt){this.notNested(),this.vector_num_elems=et,this.prep(s.SIZEOF_INT,j*et),this.prep(tt,j*et)},s.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},s.Builder.prototype.createString=function(j){if(j instanceof Uint8Array)var et=j;else{et=[];for(var tt=0;tt<j.length;){var rt,at=j.charCodeAt(tt++);(rt=at<55296||at>=56320?at:(at<<10)+j.charCodeAt(tt++)+-56613888)<128?et.push(rt):(rt<2048?et.push(rt>>6&31|192):(rt<65536?et.push(rt>>12&15|224):et.push(rt>>18&7|240,rt>>12&63|128),et.push(rt>>6&63|128)),et.push(63&rt|128))}}this.addInt8(0),this.startVector(1,et.length,1),this.bb.setPosition(this.space-=et.length),tt=0;for(var ot=this.space,st=this.bb.bytes();tt<et.length;tt++)st[ot++]=et[tt];return this.endVector()},s.Builder.prototype.createLong=function(j,et){return s.Long.create(j,et)},s.ByteBuffer=function(j){this.bytes_=j,this.position_=0},s.ByteBuffer.allocate=function(j){return new s.ByteBuffer(new Uint8Array(j))},s.ByteBuffer.prototype.clear=function(){this.position_=0},s.ByteBuffer.prototype.bytes=function(){return this.bytes_},s.ByteBuffer.prototype.position=function(){return this.position_},s.ByteBuffer.prototype.setPosition=function(j){this.position_=j},s.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},s.ByteBuffer.prototype.readInt8=function(j){return this.readUint8(j)<<24>>24},s.ByteBuffer.prototype.readUint8=function(j){return this.bytes_[j]},s.ByteBuffer.prototype.readInt16=function(j){return this.readUint16(j)<<16>>16},s.ByteBuffer.prototype.readUint16=function(j){return this.bytes_[j]|this.bytes_[j+1]<<8},s.ByteBuffer.prototype.readInt32=function(j){return this.bytes_[j]|this.bytes_[j+1]<<8|this.bytes_[j+2]<<16|this.bytes_[j+3]<<24},s.ByteBuffer.prototype.readUint32=function(j){return this.readInt32(j)>>>0},s.ByteBuffer.prototype.readInt64=function(j){return new s.Long(this.readInt32(j),this.readInt32(j+4))},s.ByteBuffer.prototype.readUint64=function(j){return new s.Long(this.readUint32(j),this.readUint32(j+4))},s.ByteBuffer.prototype.readFloat32=function(j){return s.int32[0]=this.readInt32(j),s.float32[0]},s.ByteBuffer.prototype.readFloat64=function(j){return s.int32[s.isLittleEndian?0:1]=this.readInt32(j),s.int32[s.isLittleEndian?1:0]=this.readInt32(j+4),s.float64[0]},s.ByteBuffer.prototype.writeInt8=function(j,et){this.bytes_[j]=et},s.ByteBuffer.prototype.writeUint8=function(j,et){this.bytes_[j]=et},s.ByteBuffer.prototype.writeInt16=function(j,et){this.bytes_[j]=et,this.bytes_[j+1]=et>>8},s.ByteBuffer.prototype.writeUint16=function(j,et){this.bytes_[j]=et,this.bytes_[j+1]=et>>8},s.ByteBuffer.prototype.writeInt32=function(j,et){this.bytes_[j]=et,this.bytes_[j+1]=et>>8,this.bytes_[j+2]=et>>16,this.bytes_[j+3]=et>>24},s.ByteBuffer.prototype.writeUint32=function(j,et){this.bytes_[j]=et,this.bytes_[j+1]=et>>8,this.bytes_[j+2]=et>>16,this.bytes_[j+3]=et>>24},s.ByteBuffer.prototype.writeInt64=function(j,et){this.writeInt32(j,et.low),this.writeInt32(j+4,et.high)},s.ByteBuffer.prototype.writeUint64=function(j,et){this.writeUint32(j,et.low),this.writeUint32(j+4,et.high)},s.ByteBuffer.prototype.writeFloat32=function(j,et){s.float32[0]=et,this.writeInt32(j,s.int32[0])},s.ByteBuffer.prototype.writeFloat64=function(j,et){s.float64[0]=et,this.writeInt32(j,s.int32[s.isLittleEndian?0:1]),this.writeInt32(j+4,s.int32[s.isLittleEndian?1:0])},s.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var j="",et=0;et<s.FILE_IDENTIFIER_LENGTH;et++)j+=String.fromCharCode(this.readInt8(this.position_+s.SIZEOF_INT+et));return j},s.ByteBuffer.prototype.__offset=function(j,et){var tt=j-this.readInt32(j);return et<this.readInt16(tt)?this.readInt16(tt+et):0},s.ByteBuffer.prototype.__union=function(j,et){return j.bb_pos=et+this.readInt32(et),j.bb=this,j},s.ByteBuffer.prototype.__string=function(j,et){j+=this.readInt32(j);var tt=this.readInt32(j),rt="",at=0;if(j+=s.SIZEOF_INT,et===s.Encoding.UTF8_BYTES)return this.bytes_.subarray(j,j+tt);for(;at<tt;){var ot,st=this.readUint8(j+at++);if(st<192)ot=st;else{var _e=this.readUint8(j+at++);if(st<224)ot=(31&st)<<6|63&_e;else{var $=this.readUint8(j+at++);ot=st<240?(15&st)<<12|(63&_e)<<6|63&$:(7&st)<<18|(63&_e)<<12|(63&$)<<6|63&this.readUint8(j+at++)}}ot<65536?rt+=String.fromCharCode(ot):(ot-=65536,rt+=String.fromCharCode(55296+(ot>>10),56320+(1023&ot)))}return rt},s.ByteBuffer.prototype.__indirect=function(j){return j+this.readInt32(j)},s.ByteBuffer.prototype.__vector=function(j){return j+this.readInt32(j)+s.SIZEOF_INT},s.ByteBuffer.prototype.__vector_len=function(j){return this.readInt32(j+this.readInt32(j))},s.ByteBuffer.prototype.__has_identifier=function(j){if(j.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var et=0;et<s.FILE_IDENTIFIER_LENGTH;et++)if(j.charCodeAt(et)!=this.readInt8(this.position_+s.SIZEOF_INT+et))return!1;return!0},s.ByteBuffer.prototype.createLong=function(j,et){return s.Long.create(j,et)}}},__webpack_module_cache__={};function __webpack_require__(o){var i=__webpack_module_cache__[o];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(i,{a:i}),i},__webpack_require__.d=(o,i)=>{for(var a in i)__webpack_require__.o(i,a)&&!__webpack_require__.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:i[a]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,lzString={exports:{}};lzString.exports;(function(o){var i=function(){var a=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",et={};function tt(at,ot){if(!et[at]){et[at]={};for(var st=0;st<at.length;st++)et[at][at.charAt(st)]=st}return et[at][ot]}var rt={compressToBase64:function(at){if(at==null)return"";var ot=rt._compress(at,6,function(st){return s.charAt(st)});switch(ot.length%4){default:case 0:return ot;case 1:return ot+"===";case 2:return ot+"==";case 3:return ot+"="}},decompressFromBase64:function(at){return at==null?"":at==""?null:rt._decompress(at.length,32,function(ot){return tt(s,at.charAt(ot))})},compressToUTF16:function(at){return at==null?"":rt._compress(at,15,function(ot){return a(ot+32)})+" "},decompressFromUTF16:function(at){return at==null?"":at==""?null:rt._decompress(at.length,16384,function(ot){return at.charCodeAt(ot)-32})},compressToUint8Array:function(at){for(var ot=rt.compress(at),st=new Uint8Array(ot.length*2),_e=0,$=ot.length;_e<$;_e++){var nt=ot.charCodeAt(_e);st[_e*2]=nt>>>8,st[_e*2+1]=nt%256}return st},decompressFromUint8Array:function(at){if(at==null)return rt.decompress(at);for(var ot=new Array(at.length/2),st=0,_e=ot.length;st<_e;st++)ot[st]=at[st*2]*256+at[st*2+1];var $=[];return ot.forEach(function(nt){$.push(a(nt))}),rt.decompress($.join(""))},compressToEncodedURIComponent:function(at){return at==null?"":rt._compress(at,6,function(ot){return j.charAt(ot)})},decompressFromEncodedURIComponent:function(at){return at==null?"":at==""?null:(at=at.replace(/ /g,"+"),rt._decompress(at.length,32,function(ot){return tt(j,at.charAt(ot))}))},compress:function(at){return rt._compress(at,16,function(ot){return a(ot)})},_compress:function(at,ot,st){if(at==null)return"";var _e,$,nt={},it={},lt="",dt="",ft="",pt=2,ht=3,gt=2,mt=[],yt=0,bt=0,_t;for(_t=0;_t<at.length;_t+=1)if(lt=at.charAt(_t),Object.prototype.hasOwnProperty.call(nt,lt)||(nt[lt]=ht++,it[lt]=!0),dt=ft+lt,Object.prototype.hasOwnProperty.call(nt,dt))ft=dt;else{if(Object.prototype.hasOwnProperty.call(it,ft)){if(ft.charCodeAt(0)<256){for(_e=0;_e<gt;_e++)yt=yt<<1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++;for($=ft.charCodeAt(0),_e=0;_e<8;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1}else{for($=1,_e=0;_e<gt;_e++)yt=yt<<1|$,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=0;for($=ft.charCodeAt(0),_e=0;_e<16;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1}pt--,pt==0&&(pt=Math.pow(2,gt),gt++),delete it[ft]}else for($=nt[ft],_e=0;_e<gt;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1;pt--,pt==0&&(pt=Math.pow(2,gt),gt++),nt[dt]=ht++,ft=String(lt)}if(ft!==""){if(Object.prototype.hasOwnProperty.call(it,ft)){if(ft.charCodeAt(0)<256){for(_e=0;_e<gt;_e++)yt=yt<<1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++;for($=ft.charCodeAt(0),_e=0;_e<8;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1}else{for($=1,_e=0;_e<gt;_e++)yt=yt<<1|$,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=0;for($=ft.charCodeAt(0),_e=0;_e<16;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1}pt--,pt==0&&(pt=Math.pow(2,gt),gt++),delete it[ft]}else for($=nt[ft],_e=0;_e<gt;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1;pt--,pt==0&&(pt=Math.pow(2,gt),gt++)}for($=2,_e=0;_e<gt;_e++)yt=yt<<1|$&1,bt==ot-1?(bt=0,mt.push(st(yt)),yt=0):bt++,$=$>>1;for(;;)if(yt=yt<<1,bt==ot-1){mt.push(st(yt));break}else bt++;return mt.join("")},decompress:function(at){return at==null?"":at==""?null:rt._decompress(at.length,32768,function(ot){return at.charCodeAt(ot)})},_decompress:function(at,ot,st){var _e=[],$=4,nt=4,it=3,lt="",dt=[],ft,pt,ht,gt,mt,yt,bt,_t={val:st(0),position:ot,index:1};for(ft=0;ft<3;ft+=1)_e[ft]=ft;for(ht=0,mt=Math.pow(2,2),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;switch(ht){case 0:for(ht=0,mt=Math.pow(2,8),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;bt=a(ht);break;case 1:for(ht=0,mt=Math.pow(2,16),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;bt=a(ht);break;case 2:return""}for(_e[3]=bt,pt=bt,dt.push(bt);;){if(_t.index>at)return"";for(ht=0,mt=Math.pow(2,it),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;switch(bt=ht){case 0:for(ht=0,mt=Math.pow(2,8),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;_e[nt++]=a(ht),bt=nt-1,$--;break;case 1:for(ht=0,mt=Math.pow(2,16),yt=1;yt!=mt;)gt=_t.val&_t.position,_t.position>>=1,_t.position==0&&(_t.position=ot,_t.val=st(_t.index++)),ht|=(gt>0?1:0)*yt,yt<<=1;_e[nt++]=a(ht),bt=nt-1,$--;break;case 2:return dt.join("")}if($==0&&($=Math.pow(2,it),it++),_e[bt])lt=_e[bt];else if(bt===nt)lt=pt+pt.charAt(0);else return null;dt.push(lt),_e[nt++]=pt+lt.charAt(0),$--,pt=lt,$==0&&($=Math.pow(2,it),it++)}}};return rt}();o!=null?o.exports=i:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return i})})(lzString);var lzStringExports=lzString.exports;const LZString=getDefaultExportFromCjs(lzStringExports);var clickType=(o=>(o[o.POSITIVE=1]="POSITIVE",o[o.NEGATIVE=0]="NEGATIVE",o[o.UPPER_LEFT=2]="UPPER_LEFT",o[o.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",o))(clickType||{});const API_ENDPOINT="https://model-zoo.metademolab.com/predictions/segment_everything_box_model",ALL_MASK_API_ENDPOINT="https://model-zoo.metademolab.com/predictions/automatic_masks",ERASE_API_ENDPOINT="/gallery",setParmsandQueryModel=({width:o,height:i,uploadScale:a,imgData:s,handleSegModelResults:j,handleAllModelResults:et,imgName:tt,shouldDownload:rt,shouldNotFetchAllModel:at})=>{const ot=document.createElement("canvas");ot.width=Math.round(o*a),ot.height=Math.round(i*a);const st=ot.getContext("2d");st&&(st.drawImage(s,0,0,ot.width,ot.height),ot.toBlob(_e=>{_e&&queryModelReturnTensors({blob:_e,handleSegModelResults:j,handleAllModelResults:et,image_height:ot.height,imgName:tt,shouldDownload:rt,shouldNotFetchAllModel:at})},"image/jpeg",1))},queryModelReturnTensors=async({blob:o,handleSegModelResults:i,handleAllModelResults:a,image_height:s,imgName:j,shouldDownload:et,shouldNotFetchAllModel:tt})=>{if(console.log("-----"),console.log(API_ENDPOINT),console.log(ALL_MASK_API_ENDPOINT),console.log(ERASE_API_ENDPOINT),(j&&!et?fetch(`/gallery/${j}.txt`):fetch(`${API_ENDPOINT}`,{method:"POST",body:o})).then(async at=>{if(et){const nt=await at.clone().blob();downloadBlob(nt,j)}const st=(await at.json()).map($=>{const nt=window.atob($),it=new Uint8Array(nt.length);for(let dt=0;dt<nt.length;dt++)it[dt]=nt.charCodeAt(dt);return new Float32Array(it.buffer)}),_e=new ort_minExports.Tensor("float32",st[0],[1,256,64,64]);i({tensor:_e})}),!tt){const at=j+".all",ot=j&&!et?fetch(`/gallery/${at}.txt`):fetch(`${ALL_MASK_API_ENDPOINT}`,{method:"POST",body:o});ot.then(async st=>{if(et){const nt=await st.clone().blob();downloadBlob(nt,at)}const _e=await st.json();a({allJSON:_e,image_height:s})}),ot.catch(st=>console.log(st))}},downloadBlob=(o,i)=>{const a=new Blob([o]),s=document.createElement("a");s.download=i+".txt",s.href=URL.createObjectURL(a),document.body.appendChild(s),s.click(),document.body.removeChild(s)},getPointsFromBox=o=>{if(o.width===null||o.height===null)return;const i={x:o.x,y:o.y},a={x:o.width,y:o.height};return{upperLeft:i,bottomRight:a}},isFirstClick=o=>o.length===1&&(o[0].clickType===clickType.POSITIVE||o[0].clickType===clickType.NEGATIVE)||o.length===2&&o.every(i=>i.clickType===clickType.UPPER_LEFT||i.clickType===clickType.BOTTOM_RIGHT),modelData=({clicks:o,tensor:i,modelScale:a,last_pred_mask:s})=>{const j=i;let et,tt,rt,at;if(o){let $=o.length;const nt=o[0].clickType===2?2:0;if(et=new Float32Array(2*($+1)),tt=new Float32Array($+1),nt){et=new Float32Array(2*($+nt)),tt=new Float32Array($+nt);const{upperLeft:it,bottomRight:lt}=getPointsFromBox(o[0]);et=new Float32Array(2*($+nt)),tt=new Float32Array($+nt),et[0]=it.x/a.onnxScale,et[1]=it.y/a.onnxScale,tt[0]=2,et[2]=lt.x/a.onnxScale,et[3]=lt.y/a.onnxScale,tt[1]=3,s=null}for(let it=0;it<$;it++)et[2*(it+nt)]=o[it].x/a.onnxScale,et[2*(it+nt)+1]=o[it].y/a.onnxScale,tt[it+nt]=o[it].clickType;nt||(et[2*$]=0,et[2*$+1]=0,tt[$]=-1,$=$+1),rt=new ort_minExports.Tensor("float32",et,[1,$+nt,2]),at=new ort_minExports.Tensor("float32",tt,[1,$+nt])}const ot=new ort_minExports.Tensor("float32",[a.maskHeight,a.maskWidth]);if(rt===void 0||at===void 0)return;const st=s&&o&&!isFirstClick(o)?s:new ort_minExports.Tensor("float32",new Float32Array(256*256),[1,1,256,256]),_e=new ort_minExports.Tensor("float32",[+!!(s&&o&&!isFirstClick(o))]);return{low_res_embedding:j,point_coords:rt,point_labels:at,image_size:ot,last_pred_mask:st,has_last_pred:_e}},splitPointKey=o=>o.split(" ").map(i=>parseInt(i)),getLineBreakpoints=(o,i)=>{const a=[],s={line:-1,points:[]};let j=0;const et=()=>{s.points.length>0&&(a.push({line:s.line,points:s.points}),s.points=[])};for(let tt=1;tt<o.length;tt+=2){j+=o[tt-1];const rt=j%i,at=Math.floor(j/i);j+=o[tt];const ot=j%i,st=Math.floor(j/i);if(s.line!==at&&(et(),s.line=at),at===st){s.points.push(rt,ot);continue}s.points.push(rt,i),et(),s.line=st;for(let _e=at+1;_e<st;_e++)a.push({line:_e,points:[0,i]});ot>0&&s.points.push(0,ot)}return et(),a},generatePolygonSegments=(o,i)=>{const a=getLineBreakpoints(o,i);if(a.length===0)return new Map;const s=new Map;let j=-1,et=[];const tt=new Map,rt=($,nt)=>{const it=`${$.x} ${$.y}`,lt=`${nt.x} ${nt.y}`;s.has(it)||s.set(it,new Set),s.get(it).add(lt),s.has(lt)||s.set(lt,new Set),s.get(lt).add(it)},at=($,nt)=>{nt!==tt.get($)&&(rt({x:tt.get($),y:$},{x:nt,y:$}),tt.delete($))},ot=($,nt,it,lt)=>{if(nt===lt){tt.has(nt)||tt.set(nt,$);return}let dt=!1;const ft=Math.max($,it);tt.has(nt)&&(at(nt,ft),dt=!0),tt.has(lt)&&(at(lt,ft),dt=!0),dt?rt({x:ft,y:nt},{x:ft,y:lt}):rt({x:$,y:nt},{x:it,y:lt})},st=($,nt)=>{for(const it of nt)ot($,it,$+1,it);for(let it=1;it<nt.length;it+=2)ot($+1,nt[it-1],$+1,nt[it])};for(const{line:$,points:nt}of a){$!==j+1&&(st(j,et),j=$-1,et=[]);let it=et.length&&et[0]<=nt[0]?j:$,lt=it===j?et[0]:nt[0],dt=it===j?1:0,ft=it===j?0:1,pt=!0;for(;dt<et.length||ft<nt.length;){let ht,gt;dt===et.length||nt[ft]<et[dt]?(ht=$,gt=nt[ft],ft++):(ht=j,gt=et[dt],dt++),pt&&(it===j&&ht===j?(ot(j,lt,$,lt),ot(j,gt,$,gt),ot($,lt,$,gt)):ot(it,lt,ht,gt)),pt=!pt,it=ht,lt=gt}j=$,et=nt}return st(j,et),new Map([...s].sort(($,nt)=>{const[it,lt]=splitPointKey($[0]),[dt,ft]=splitPointKey(nt[0]);return it===dt?lt-ft:it-dt}))},convertSegmentsToSVG=o=>{const i=[];for(;o.size;){let[tt,rt]=o.entries().next().value;const at=tt,ot=[splitPointKey(at)];let st=null;for(;st!==at;){st=rt.values().next().value,ot.push(splitPointKey(st)),rt.delete(st),rt.size===0&&o.delete(tt);const _e=o.get(st);if(_e.delete(tt),_e.size===0){o.delete(st);break}else tt=st,rt=_e}i.push(ot)}const a=[],s=[],et=document.createElement("canvas").getContext("2d");for(const tt of i){let rt=!1;const[at,ot]=tt[0];for(const nt of a)et.isPointInPath(nt,at+.5,ot+.5)&&(rt=!rt);rt&&tt.reverse();const st=tt.slice(1).map(([nt,it])=>`${nt} ${it}`).join(" "),_e=`M${tt[0][0]} ${tt[0][1]} L`+st;s.push(_e);const $=new Path2D(_e);et.fill($),a.push($)}return s};function maskDataToFortranArrayToRle(o,i,a){const s=[];let j=0,et=!1;for(let tt=0;tt<a;tt++)for(let rt=0;rt<i;rt++){const at=tt+rt*a;at<o.length&&(o[at]>0!==et?(s.push(j),et=!et,j=1):j++)}return j>0&&s.push(j),s}const traceRleToSVG=(o,i)=>{const a=generatePolygonSegments(o,i);return convertSegmentsToSVG(a)},getAllMasks=(o,i,a)=>{const s=[];for(let j=0;j<4;j++){const et=new Float32Array(i*a),tt=j*a*i;for(let rt=0;rt<i;rt++)for(let at=0;at<a;at++){const ot=rt*a+at;ot<a*i&&(et[ot]=o[tt+ot])}s.push(et)}return s};function areaUnderLine(o,i,a,s){if(o===a)return 0;const j=Math.min(i,s),et=(a-o)*j,tt=Math.max(i,s),rt=Math.trunc((a-o)*(tt-j)/2);return et+rt}function svgCoordToInt(o){return o.charAt(0)==="L"||o.charAt(0)==="M"?parseInt(o.slice(1)):parseInt(o)}function areaOfSVGPolygon(o){const i=o.split(" ");if(i.length<4||i.length%2!=0)return 0;let a=0,s=svgCoordToInt(i[i.length-2]),j=svgCoordToInt(i[i.length-1]);for(let et=0;et<i.length;et=et+2){const tt=svgCoordToInt(i[et]),rt=svgCoordToInt(i[et+1]);a=a+areaUnderLine(s,j,tt,rt),s=tt,j=rt}return a}function filterSmallSVGRegions(o,i=100){const a=o.filter(s=>Math.abs(areaOfSVGPolygon(s))>i);if(a.length===0){const s=o.map(et=>areaOfSVGPolygon(et)),j=s.indexOf(Math.max(...s));return[o[j]]}return a}const traceOnnxMaskToSVG=(o,i,a)=>{const s=maskDataToFortranArrayToRle(o,a,i);let j=traceRleToSVG(s,a);return j=filterSmallSVGRegions(j),j},traceCompressedRLeStringToSVG=(o,i)=>{const a=rleFrString(o);let s=traceRleToSVG(a,i);return s=filterSmallSVGRegions(s),s},rleFrString=o=>{const i=[];let a=0;for(;a<o.length;){let s=0,j=0,et=1;for(;et;){const tt=o.charCodeAt(a)-48;s|=(tt&31)<<5*j,et=tt&32,a++,j++,!et&&tt&16&&(s|=-1<<5*j)}i.length>2&&(s+=i[i.length-2]),i.push(s)}return i};function toImageData(o,i,a){const[s,j,et,tt]=[0,114,189,255],rt=new Uint8ClampedArray(4*i*a).fill(0);for(let at=0;at<o.length;at++)o[at]>0&&(rt[4*at+0]=s,rt[4*at+1]=j,rt[4*at+2]=et,rt[4*at+3]=tt);return new ImageData(rt,a,i)}function imageDataToImage(o){const i=imageDataToCanvas(o),a=new Image;return a.src=i.toDataURL(),a}function imageDataToCanvas(o){const i=document.createElement("canvas"),a=i.getContext("2d");return i.width=o.width,i.height=o.height,a==null||a.putImageData(o,0,0),i}function rleToImage(o,i,a){return imageDataToImage(toImageData(o,i,a))}function keepArrayForMultiMask(o,i,a=.8,s=.9){let j=o.map(tt=>tt>a);const et=i.map(tt=>tt<s);if(j=j.map((tt,rt)=>tt&&et[rt]),j.every(tt=>tt===!1)){const tt=o.indexOf(Math.max(...o));j[tt]=!0}return j}const handleImageScale=o=>{const s=o.naturalWidth,j=o.naturalHeight;let et,tt;return j<s?(et=500/j,j*et>1333&&(et=1333/j),tt=1024/s):(et=500/s,s*et>1333&&(et=1333/s),tt=1024/j),{height:j,width:s,scale:et,uploadScale:tt}},getFile=async o=>{const a=await(await fetch(o)).blob();return new File([a],"image.jpeg")},AppContext=reactExports.createContext(null),AppContextProvider=o=>{const[i,a]=reactExports.useState(null),[s,j]=reactExports.useState(null),[et,tt]=reactExports.useState(null),[rt,at]=reactExports.useState(!1),[ot,st]=reactExports.useState(null),[_e,$]=reactExports.useState(null),[nt,it]=reactExports.useState(!1),[lt,dt]=reactExports.useState(!1),[ft,pt]=reactExports.useState(!1),[ht,gt]=reactExports.useState(null),[mt,yt]=reactExports.useState(null),[bt,_t]=reactExports.useState(null),[xt,Et]=reactExports.useState({boxModel:!1,allModel:!1}),[Tt,Pt]=reactExports.useState([]),[At,Ot]=reactExports.useState(0),[It,$t]=reactExports.useState("Click"),[kt,Ft]=reactExports.useState(0),[Ut,zt]=reactExports.useState(0),[Wt,Qt]=reactExports.useState(null),[un,an]=reactExports.useState(null),[vn,fn]=reactExports.useState(!1),[jt,en]=reactExports.useState(!1),[on,wn]=reactExports.useState(!1),[cn,An]=reactExports.useState(!1),[bn,Vn]=reactExports.useState(!1),[xn,Jn]=reactExports.useState(null),[Ln,Hn]=reactExports.useState(!1),[jn,On]=reactExports.useState({isErase:!1,isEmbedding:!1}),[zn,Fn]=reactExports.useState(!1),[Bn,hn]=reactExports.useState(null),[Sn,Wn]=reactExports.useState(null),[Kn,ir]=reactExports.useState(null),[gr,ur]=reactExports.useState(!1),[yr,Rn]=reactExports.useState(!1),[Rt,Nt]=reactExports.useState(null),[Lt,Bt]=reactExports.useState(null),[Ht,Xt]=reactExports.useState(null),[Zt,tn]=reactExports.useState(!1),[dn,pn]=reactExports.useState(null),[mn,_n]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const qn="/model/interactive_module_quantized_592547_2023_03_19_sam6_long_uncertain.onnx",Yn=await ort_minExports.InferenceSession.create(qn);Nt(Yn)}catch(qn){console.log(qn)}try{const qn="/model/interactive_module_quantized_592547_2023_03_20_sam6_long_all_masks_extra_data_with_ious.onnx",Yn=await ort_minExports.InferenceSession.create(qn);Bt(Yn)}catch(qn){console.log(qn)}})()},[]);const Mn=Gn=>{const qn=Array.from(Gn.keys());return qn.sort((Yn,In)=>Gn[In]-Gn[Yn]),qn},Kt=(Gn,qn)=>{const Yn=[];for(let In=0;In<qn.length;In++)Yn.push(Gn[qn[In]]);return Yn},En=async()=>{console.log("Running singleMaskModel");try{if(Rt===null||s===null||Ht===null||mn===null||on)return;const Gn=modelData({clicks:s,tensor:Ht,modelScale:mn,last_pred_mask:Bn});if(Gn===void 0)return;const qn=await Rt.run(Gn),Yn=qn[Rt.outputNames[0]];if(Zt){const In=qn[Rt.outputNames[1]];hn(In),Kn||Wn([...Sn||[],In]);const rr=traceOnnxMaskToSVG(Yn.data,Yn.dims[1],Yn.dims[0]);gt(rr),pn(Yn.data)}else Qt(rleToImage(Yn.data,Yn.dims[0],Yn.dims[1]));a(null),at(!1),Et(In=>({...In,boxModel:!0}))}catch{}},Un=async()=>{try{if(Lt===null||s===null||Ht===null||mn===null||!Zt||on)return;const Gn=modelData({clicks:s,tensor:Ht,modelScale:mn,last_pred_mask:null});if(Gn===void 0)return;const qn=await Lt.run(Gn),Yn=qn.output,In=qn.areas.data,rr=qn.uncertain_ious.data,Dr=qn.ious.data,Dn=getAllMasks(Yn.data,Yn.dims[2],Yn.dims[1]),Or=Mn([Number(In[1]),Number(In[2]),Number(In[3])]);Or.reverse();let Vr=Kt([Dn[1],Dn[2],Dn[3]],Or),Cr=Kt([rr[1],rr[2],rr[3]],Or);const ro=Kt([Dr[0],Dr[1],Dr[2]],Or),Zo=keepArrayForMultiMask(Cr,ro);Vr=Vr.filter((xo,Vo)=>Zo[Vo]),Cr=Cr.filter((xo,Vo)=>Zo[Vo]);const Jo=Vr.map(xo=>traceOnnxMaskToSVG(xo,Yn.dims[2],Yn.dims[1]));yt(Jo.reverse()),Cr=Cr.reverse();const rs=Cr.indexOf(Math.max(...Cr));gt(Jo[rs]),a(null),at(!1),Et(xo=>({...xo,boxModel:!0}))}catch{}};reactExports.useEffect(()=>{(async()=>{bn?Zt&&Un():En()})()},[s,Zt,bn]);const cr=reactExports.useCallback((Gn=null)=>{if(Qt(null),gt(null),pn(null),a(null),j(null),Et({boxModel:!1,allModel:!1}),tn(!1),Gn){st(Gn);const{height:qn,width:Yn,uploadScale:In}=handleImageScale(Gn);setParmsandQueryModel({width:Yn,height:qn,uploadScale:In,imgData:Gn,handleSegModelResults:Sr,handleAllModelResults:Tr,imgName:"",shouldDownload:!1,shouldNotFetchAllModel:!1})}},[]),dr=async(Gn,qn)=>{try{const Yn=qn==null?void 0:qn.shouldNotFetchAllModel,In=qn==null?void 0:qn.shouldDownload;Ir(),at(!0),Hn(!0);let rr="";Gn instanceof URL?rr=Gn.pathname:typeof Gn=="string"&&(rr=new URL(Gn).pathname),rr=rr.substring(rr.lastIndexOf("/")+1);const Dr=Gn instanceof File?Gn:await getFile(Gn),Dn=new Image;Dn.src=URL.createObjectURL(Dr),Dn.onload=()=>{Rn(!1);const{height:Or,width:Vr,scale:Cr,uploadScale:ro}=handleImageScale(Dn);_n({onnxScale:Cr/ro,maskWidth:Vr*ro,maskHeight:Or*ro,scale:Cr,uploadScale:ro,width:Vr,height:Or}),Dn.width=Math.round(Vr*Cr),Dn.height=Math.round(Or*Cr),st(Dn),$(Dn),dt(!1),setParmsandQueryModel({width:Vr,height:Or,uploadScale:ro,imgData:Dn,handleSegModelResults:Sr,handleAllModelResults:Tr,imgName:rr,shouldDownload:In,shouldNotFetchAllModel:Yn})}}catch(Yn){console.log(Yn)}},Sr=({tensor:Gn})=>{Xt(Gn),at(!1),it(!1),Hn(!1),On({isErase:!1,isEmbedding:!1})},Tr=({allJSON:Gn,image_height:qn})=>{const Yn=Gn.map(In=>{const rr=LZString.decompressFromEncodedURIComponent(In.encodedMask);return{svg:traceCompressedRLeStringToSVG(rr,qn),point_coord:In.point_coord}});_t(Yn),Et(In=>({...In,allModel:!0}))},Ir=reactExports.useCallback(()=>{Qt(null),tn(!1),a(null),j(null),gt(null),yt(null),_t(null),Xt(null),st(null),$(null),hn(null),dt(!1),Hn(!1),Et({boxModel:!1,allModel:!1}),$t("Click"),at(!1),Vn(!1),Jn(null),Wn(null)},[]);return jsxRuntimeExports.jsx(AppContext.Provider,{value:{click:[i,a],clicks:[s,j],clicksHistory:[et,tt],image:[ot,st],prevImage:[_e,$],error:[ft,pt],svg:[ht,gt],svgs:[mt,yt],allsvg:[bt,_t],stickers:[Tt,Pt],activeSticker:[At,Ot],isModelLoaded:[xt,Et],segmentTypes:[It,$t],isLoading:[rt,at],isErasing:[nt,it],isErased:[lt,dt],canvasWidth:[kt,Ft],canvasHeight:[Ut,zt],maskImg:[Wt,Qt],maskCanvas:[un,an],userNegClickBool:[vn,fn],hasNegClicked:[jt,en],stickerTabBool:[on,wn],enableDemo:[cn,An],isMultiMaskMode:[bn,Vn],isHovering:[xn,Jn],showLoadingModal:[Ln,Hn],eraserText:[jn,On],didShowAMGAnimation:[zn,Fn],predMask:[Bn,hn],predMasks:[Sn,Wn],predMasksHistory:[Kn,ir],isAllAnimationDone:[gr,ur],isToolBarUpload:[yr,Rn],model:[Rt,Nt],multiMaskModel:[Lt,Bt],tensor:[Ht,Xt],hasClicked:[Zt,tn],mask:[dn,pn],modelScale:[mn,_n],handleResetState:Ir,handleImage:cr,handleSelectedImage:dr},children:o.children})};function ratio({width:o,height:i}){return o/i}function round(o,i=0){const a=10**i;return Math.round((o+Number.EPSILON)*a)/a}function rankingFunctionComparator(o){return(i,a)=>o(a)-o(i)}class MinHeap{constructor(i){this.comparator=i,this.heap=[],this.n=0}greater(i,a){return this.comparator(this.heap[i],this.heap[a])<0}swap(i,a){const s=this.heap[i];this.heap[i]=this.heap[a],this.heap[a]=s}swim(i){let a=i,s=Math.floor(a/2);for(;a>1&&this.greater(s,a);)this.swap(s,a),a=s,s=Math.floor(a/2)}sink(i){let a=i,s=a*2;for(;s<=this.n&&(s<this.n&&this.greater(s,s+1)&&(s+=1),!!this.greater(a,s));)this.swap(a,s),a=s,s=a*2}push(i){this.n+=1,this.heap[this.n]=i,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const i=this.heap.pop();return this.sink(1),i}size(){return this.n}}function buildPrecedentsMap(o,i,a){const s=new Map,j=new Set,et=new Map;et.set(i,0);const tt=new MinHeap(rankingFunctionComparator(rt=>rt.weight));for(tt.push({id:i,weight:0});tt.size()>0;){const{id:rt,weight:at}=tt.pop();if(!j.has(rt)){const ot=o(rt);j.add(rt),ot.forEach((st,_e)=>{const $=at+st,nt=s.get(_e),it=et.get(_e);(it===void 0||it>$&&(it/$>1.005||nt!==void 0&&nt<rt))&&(et.set(_e,$),tt.push({id:_e,weight:$}),s.set(_e,rt))})}}return et.has(a)?s:void 0}function getPathFromPrecedentsMap(o,i){const a=[];for(let s=i;s!==void 0;s=o.get(s))a.push(s);return a.reverse()}function findShortestPath(o,i,a){const s=buildPrecedentsMap(o,i,a);return s?getPathFromPrecedentsMap(s,a):void 0}function findIdealNodeSearch({photos:o,targetRowHeight:i,containerWidth:a}){const s=o.reduce((j,et)=>Math.min(ratio(et),j),Number.MAX_VALUE);return round(a/i/s)+2}function getCommonHeight(o,i,a,s){const j=i-(o.length-1)*a-2*s*o.length,et=o.reduce((tt,rt)=>tt+ratio(rt),0);return j/et}function cost(o,i,a,s,j,et,tt){const rt=o.slice(i,a),at=getCommonHeight(rt,s,et,tt);return at>0?(at-j)**2*rt.length:void 0}function makeGetRowNeighbors({photos:o,layoutOptions:i,targetRowHeight:a,limitNodeSearch:s,rowConstraints:j}){return et=>{var tt,rt;const{containerWidth:at,spacing:ot,padding:st}=i,_e=new Map;_e.set(et,0);const $=(tt=j==null?void 0:j.minPhotos)!=null?tt:1,nt=Math.min(s,(rt=j==null?void 0:j.maxPhotos)!=null?rt:1/0);for(let it=et+$;it<o.length+1&&!(it-et>nt);it+=1){const lt=cost(o,et,it,at,a,ot,st);if(lt===void 0)break;_e.set(it,lt)}return _e}}function computeRowsLayout({photos:o,layoutOptions:i}){const{spacing:a,padding:s,containerWidth:j,targetRowHeight:et,rowConstraints:tt}=i,rt=findIdealNodeSearch({photos:o,containerWidth:j,targetRowHeight:et}),at=makeGetRowNeighbors({photos:o,layoutOptions:i,targetRowHeight:et,limitNodeSearch:rt,rowConstraints:tt}),ot=findShortestPath(at,0,o.length);if(ot===void 0)return;const st=[];for(let _e=1;_e<ot.length;_e+=1){const $=o.map((it,lt)=>({photo:it,index:lt})).slice(ot[_e-1],ot[_e]),nt=getCommonHeight($.map(({photo:it})=>it),j,a,s);st.push($.map(({photo:it,index:lt},dt)=>({photo:it,layout:{height:nt,width:nt*ratio(it),index:lt,photoIndex:dt,photosCount:$.length}})))}return st}function clsx(...o){return[...o].filter(i=>!!i).join(" ")}function calcWidth(o,{width:i,photosCount:a},{spacing:s,padding:j,containerWidth:et}){const tt=s*(a-1)+2*j*a;return`calc((${o} - ${tt}px) / ${round((et-tt)/i,5)})`}function cssPhotoWidth(o,i){return i.layout!=="rows"?`calc(100% - ${2*i.padding}px)`:calcWidth("100%",o,i)}function calculateSizesValue(o,i,a){var s,j;return calcWidth((j=(s=o.match(/calc\((.*)\)/))==null?void 0:s[1])!=null?j:o,i,a)}function srcSetAndSizes(o,i,a){let s,j;const et=o.srcSet||o.images;return et&&et.length>0&&(s=et.concat(et.find(({width:tt})=>tt===o.width)?[]:[{src:o.src,width:o.width,height:o.height}]).sort((tt,rt)=>tt.width-rt.width).map(tt=>`${tt.src} ${tt.width}w`).join(", ")),a.sizes?j=(a.sizes.sizes||[]).map(({viewport:tt,size:rt})=>`${tt} ${calculateSizesValue(rt,i,a)}`).concat(calculateSizesValue(a.sizes.size,i,a)).join(", "):s&&(j=`${Math.ceil(i.width/a.containerWidth*100)}vw`),{srcSet:s,sizes:j}}function PhotoRenderer(o){var i,a;const{photo:s,layout:j,layoutOptions:et,imageProps:{style:tt,className:rt,...at}={},renderPhoto:ot}=o,{onClick:st}=et,_e={display:"block",boxSizing:"content-box",width:cssPhotoWidth(j,et),height:"auto",aspectRatio:`${s.width} / ${s.height}`,...et.padding?{padding:`${et.padding}px`}:null,...(et.layout==="columns"||et.layout==="masonry")&&j.photoIndex<j.photosCount-1?{marginBottom:`${et.spacing}px`}:null,...st?{cursor:"pointer"}:null,...tt},$=st?dt=>{st({event:dt,photo:s,index:j.index})}:void 0,nt={src:s.src,alt:(i=s.alt)!=null?i:"",title:s.title,onClick:$,style:_e,className:clsx("react-photo-album--photo",rt),loading:"lazy",decoding:"async",...srcSetAndSizes(s,j,et),...at},it=dt=>{const{src:ft,alt:pt,srcSet:ht,sizes:gt,style:mt,...yt}=nt;return reactExports.createElement("img",{alt:pt,...ht?{srcSet:ht,sizes:gt}:null,src:ft,style:dt!=null&&dt.wrapped?{display:"block",width:"100%",height:"100%"}:mt,...yt})},lt=(({display:dt,boxSizing:ft,width:pt,aspectRatio:ht,padding:gt,marginBottom:mt,cursor:yt})=>({display:dt,boxSizing:ft,width:pt,aspectRatio:ht,padding:gt,marginBottom:mt,cursor:yt}))(_e);return reactExports.createElement(reactExports.Fragment,null,(a=ot==null?void 0:ot({photo:s,layout:j,layoutOptions:et,imageProps:nt,renderDefaultPhoto:it,wrapperStyle:lt}))!=null?a:it())}function defaultRenderRowContainer({rowContainerProps:o,children:i}){return reactExports.createElement("div",{...o},i)}function RowContainerRenderer(o){const{layoutOptions:i,rowIndex:a,rowsCount:s,renderRowContainer:j,rowContainerProps:{style:et,className:tt,...rt}={},children:at}=o,ot={className:clsx("react-photo-album--row",tt),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...a<s-1?{marginBottom:`${i.spacing}px`}:null,...et},...rt};return reactExports.createElement(reactExports.Fragment,null,(j??defaultRenderRowContainer)({layoutOptions:i,rowIndex:a,rowsCount:s,rowContainerProps:ot,children:at}))}function RowsLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderRowContainer:j,componentsProps:et}=o,tt=computeRowsLayout({photos:i,layoutOptions:a});return tt?reactExports.createElement(reactExports.Fragment,null,tt.map((rt,at)=>reactExports.createElement(RowContainerRenderer,{key:`row-${at}`,layoutOptions:a,rowIndex:at,rowsCount:tt.length,renderRowContainer:j,rowContainerProps:et==null?void 0:et.rowContainerProps},rt.map(({photo:ot,layout:st})=>reactExports.createElement(PhotoRenderer,{key:ot.key||ot.src,photo:ot,layout:st,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps}))))):null}function computeShortestPath(o,i,a,s){const j=new Map,et=new Set;et.add(a);for(let tt=0;tt<i;tt+=1){const rt=[...et.keys()];et.clear(),rt.forEach(at=>{const ot=tt>0?j.get(at)[tt].weight:0;o(at).forEach(({neighbor:st,weight:_e})=>{let $=j.get(st);$||($=[],j.set(st,$));const nt=ot+_e,it=$[tt+1];(!it||it.weight>nt&&(it.weight/nt>1.0001||at<it.node))&&($[tt+1]={node:at,weight:nt}),tt<i-1&&st!==s&&et.add(st)})})}return j}function reconstructShortestPath(o,i,a){const s=[a];for(let j=a,et=i;et>0;et-=1)j=o.get(j)[et].node,s.push(j);return s.reverse()}function findShortestPathLengthN(o,i,a,s){return reconstructShortestPath(computeShortestPath(o,i,a,s),i,s)}function makeGetColumnNeighbors({photos:o,spacing:i,padding:a,targetColumnWidth:s,targetColumnHeight:j}){return et=>{const tt=[],rt=j*1.5;let at=s/ratio(o[et])+2*a;for(let ot=et+1;ot<o.length+1&&(tt.push({neighbor:ot,weight:(j-at)**2}),!(at>rt||ot===o.length));ot+=1)at+=s/ratio(o[ot])+i+2*a;return tt}}function buildColumnsModel({path:o,photos:i,containerWidth:a,columnsGaps:s,columnsRatios:j,spacing:et,padding:tt}){const rt=[],at=j.reduce((ot,st)=>ot+st,0);for(let ot=0;ot<o.length-1;ot+=1){const st=i.map((nt,it)=>({photo:nt,index:it})).slice(o[ot],o[ot+1]),_e=j.reduce((nt,it,lt)=>nt+(s[ot]-s[lt])*it,0),$=(a-(o.length-2)*et-2*(o.length-1)*tt-_e)*j[ot]/at;rt.push(st.map(({photo:nt,index:it},lt)=>({photo:nt,layout:{width:$,height:$/ratio(nt),index:it,photoIndex:lt,photosCount:st.length}})))}return rt}function computeColumnsModel({photos:o,layoutOptions:i,targetColumnWidth:a}){const{columns:s,spacing:j,padding:et,containerWidth:tt}=i,rt=[],at=[];if(o.length<=s){const nt=o.length>0?o.reduce((lt,dt)=>lt+ratio(dt),0)/o.length:1;for(let lt=0;lt<s;lt+=1)rt[lt]=2*et,at[lt]=lt<o.length?ratio(o[lt]):nt;const it=buildColumnsModel({path:Array.from({length:s+1}).map((lt,dt)=>Math.min(dt,o.length)),photos:o,columnsRatios:at,columnsGaps:rt,containerWidth:tt,spacing:j,padding:et});return{columnsGaps:rt,columnsRatios:at,columnsModel:it}}const ot=(o.reduce((nt,it)=>nt+a/ratio(it),0)+j*(o.length-s)+2*et*o.length)/s,st=makeGetColumnNeighbors({photos:o,targetColumnWidth:a,targetColumnHeight:ot,spacing:j,padding:et}),_e=findShortestPathLengthN(st,s,0,o.length);for(let nt=0;nt<_e.length-1;nt+=1){const it=o.slice(_e[nt],_e[nt+1]);rt[nt]=j*(it.length-1)+2*et*it.length,at[nt]=1/it.reduce((lt,dt)=>lt+1/ratio(dt),0)}const $=buildColumnsModel({path:_e,photos:o,columnsRatios:at,columnsGaps:rt,containerWidth:tt,spacing:j,padding:et});return{columnsGaps:rt,columnsRatios:at,columnsModel:$}}function computeLayout(o){const{photos:i,layoutOptions:a}=o,{columns:s,spacing:j,padding:et,containerWidth:tt}=a,rt=(tt-j*(s-1)-2*et*s)/s,{columnsGaps:at,columnsRatios:ot,columnsModel:st}=computeColumnsModel({photos:i,layoutOptions:a,targetColumnWidth:rt});return st.findIndex(_e=>_e.findIndex(({layout:{width:$,height:nt}})=>$<0||nt<0)>=0)>=0?s>1?computeLayout({photos:i,layoutOptions:{...a,columns:s-1}}):void 0:{columnsModel:st,columnsGaps:at,columnsRatios:ot}}function computeColumnsLayout({photos:o,layoutOptions:i}){return computeLayout({photos:o,layoutOptions:i})}function defaultRenderColumnContainer({columnContainerProps:o,children:i}){return reactExports.createElement("div",{...o},i)}function cssColumnWidth(o){const{layoutOptions:i,columnIndex:a,columnsCount:s,columnsGaps:j,columnsRatios:et}=o,{layout:tt,spacing:rt,padding:at}=i;if(tt==="masonry"||!j||!et)return`calc((100% - ${rt*(s-1)}px) / ${s})`;const ot=et.reduce((_e,$)=>_e+$,0),st=et.reduce((_e,$,nt)=>_e+(j[a]-j[nt])*$,0);return`calc((100% - ${round((s-1)*rt+2*s*at+st,3)}px) * ${round(et[a]/ot,5)} + ${2*at}px)`}function ColumnContainerRenderer(o){const{layoutOptions:i,renderColumnContainer:a,children:s,columnContainerProps:{style:j,className:et,...tt}={},...rt}=o,at={className:clsx("react-photo-album--column",et),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:cssColumnWidth(o),justifyContent:i.layout==="columns"?"space-between":"flex-start",...j},...tt};return reactExports.createElement(reactExports.Fragment,null,(a??defaultRenderColumnContainer)({layoutOptions:i,columnContainerProps:at,children:s,...rt}))}function ColumnsLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderColumnContainer:j,componentsProps:et}=o,tt=computeColumnsLayout({photos:i,layoutOptions:a});if(!tt)return null;const{columnsModel:rt,columnsRatios:at,columnsGaps:ot}=tt;return reactExports.createElement(reactExports.Fragment,null,rt.map((st,_e)=>reactExports.createElement(ColumnContainerRenderer,{key:`column-${_e}`,layoutOptions:a,columnIndex:_e,columnsCount:rt.length,columnsGaps:ot,columnsRatios:at,renderColumnContainer:j,columnContainerProps:et==null?void 0:et.columnContainerProps},st.map(({photo:$,layout:nt})=>reactExports.createElement(PhotoRenderer,{key:$.key||$.src,photo:$,layout:nt,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps})))))}function computeMasonryLayout(o){const{photos:i,layoutOptions:a}=o,{columns:s,spacing:j,padding:et,containerWidth:tt}=a,rt=(tt-j*(s-1)-2*et*s)/s;if(rt<=0)return s>1?computeMasonryLayout({...o,layoutOptions:{...a,columns:s-1}}):void 0;const at=[];for(let st=0;st<s;st+=1)at[st]=0;return i.reduce((st,_e,$)=>{const nt=at.reduce((it,lt,dt)=>lt<at[it]-1?dt:it,0);return at[nt]=at[nt]+rt/ratio(_e)+j+2*et,st[nt].push({photo:_e,index:$}),st},Array.from({length:s}).map(()=>[])).map(st=>st.map(({photo:_e,index:$},nt)=>({photo:_e,layout:{width:rt,height:rt/ratio(_e),index:$,photoIndex:nt,photosCount:st.length}})))}function MasonryLayout(o){const{photos:i,layoutOptions:a,renderPhoto:s,renderColumnContainer:j,componentsProps:et}=o,tt=computeMasonryLayout({photos:i,layoutOptions:a});return tt?reactExports.createElement(reactExports.Fragment,null,tt.map((rt,at)=>reactExports.createElement(ColumnContainerRenderer,{key:`masonry-column-${at}`,layoutOptions:a,columnsCount:tt.length,columnIndex:at,renderColumnContainer:j,columnContainerProps:et==null?void 0:et.columnContainerProps},rt.map(({photo:ot,layout:st})=>reactExports.createElement(PhotoRenderer,{key:ot.key||ot.src,photo:ot,layout:st,layoutOptions:a,renderPhoto:s,imageProps:et==null?void 0:et.imageProps}))))):null}function defaultRenderContainer({containerProps:o,children:i,containerRef:a}){return reactExports.createElement("div",{ref:a,...o},i)}function ContainerRenderer(o){const{layout:i,renderContainer:a,children:s,containerRef:j,containerProps:{style:et,className:tt,...rt}={}}=o,at={className:clsx("react-photo-album",`react-photo-album--${i}`,tt),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:i==="rows"?"column":"row",...et},...rt};return reactExports.createElement(reactExports.Fragment,null,(a??defaultRenderContainer)({containerProps:at,containerRef:j,layout:i,children:s}))}function useArray(o){const i=reactExports.useRef(o);return(!o||!i.current||o.join()!==i.current.join())&&(i.current=o),i.current}function containerWidthReducer(o,{newContainerWidth:i,newScrollbarWidth:a}){const{containerWidth:s,scrollbarWidth:j}=o;return s!==void 0&&j!==void 0&&i!==void 0&&a!==void 0&&i>s&&i-s<=20&&a<j?{containerWidth:s,scrollbarWidth:a}:s!==i||j!==a?{containerWidth:i,scrollbarWidth:a}:o}function resolveContainerWidth(o,i){let a=o==null?void 0:o.clientWidth;if(a!==void 0&&i&&i.length>0){const s=[...i.filter(et=>et>0)].sort((et,tt)=>tt-et);s.push(Math.floor(s[s.length-1]/2));const j=a;a=s.find((et,tt)=>et<=j||tt===s.length-1)}return a}function useContainerWidth(o,i){const[{containerWidth:a},s]=reactExports.useReducer(containerWidthReducer,{containerWidth:i}),j=reactExports.useRef(null),et=reactExports.useRef();return{containerRef:reactExports.useCallback(rt=>{var at;(at=et.current)==null||at.disconnect(),et.current=void 0,j.current=rt;const ot=()=>s({newContainerWidth:resolveContainerWidth(j.current,o),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});ot(),rt&&typeof ResizeObserver<"u"&&(et.current=new ResizeObserver(ot),et.current.observe(rt))},[o]),containerWidth:a}}const breakpoints=Object.freeze([1200,600,300,0]);function unwrap(o,i){return typeof o=="function"?o(i):o}function unwrapParameter(o,i){return typeof o<"u"?unwrap(o,i):void 0}function selectResponsiveValue(o,i){const a=breakpoints.findIndex(s=>s<=i);return unwrap(o[a>=0?a:0],i)}function resolveResponsiveParameter(o,i,a,s=0){const j=unwrapParameter(o,i);return Math.round(Math.max(j===void 0?selectResponsiveValue(a,i):j,s))}function resolveLayoutOptions({layout:o,onClick:i,containerWidth:a,targetRowHeight:s,rowConstraints:j,columns:et,spacing:tt,padding:rt,sizes:at}){return{layout:o,onClick:i,containerWidth:a,columns:resolveResponsiveParameter(et,a,[5,4,3,2],1),spacing:resolveResponsiveParameter(tt,a,[20,15,10,5]),padding:resolveResponsiveParameter(rt,a,[0,0,0,0,0]),targetRowHeight:resolveResponsiveParameter(s,a,[ot=>ot/5,ot=>ot/4,ot=>ot/3,ot=>ot/2]),rowConstraints:unwrapParameter(j,a),sizes:at}}function resolveComponentsProps(o,i){return typeof o=="function"?o(i):o}function renderLayout(o,i,a){const{photos:s,layout:j,renderPhoto:et,renderRowContainer:tt,renderColumnContainer:rt}=o,at=resolveLayoutOptions({containerWidth:i,...o}),ot={photos:s,renderPhoto:et,componentsProps:a};return j==="rows"?reactExports.createElement(RowsLayout,{layoutOptions:at,renderRowContainer:tt,...ot}):j==="columns"?reactExports.createElement(ColumnsLayout,{layoutOptions:at,renderColumnContainer:rt,...ot}):reactExports.createElement(MasonryLayout,{layoutOptions:at,renderColumnContainer:rt,...ot})}function PhotoAlbum(o){const{photos:i,layout:a,renderContainer:s,defaultContainerWidth:j,breakpoints:et}=o,{containerRef:tt,containerWidth:rt}=useContainerWidth(useArray(et),j);if(!a||!["rows","columns","masonry"].includes(a)||!Array.isArray(i))return null;const at=resolveComponentsProps(o.componentsProps,rt);return reactExports.createElement(ContainerRenderer,{layout:a,containerRef:tt,renderContainer:s,containerProps:at==null?void 0:at.containerProps},rt?renderLayout(o,rt,at):null)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(s,j,et,tt,rt,at){if(at!==ReactPropTypesSecret){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}o.isRequired=o;function i(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function __awaiter(o,i,a,s){function j(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(st){try{ot(s.next(st))}catch(_e){tt(_e)}}function at(st){try{ot(s.throw(st))}catch(_e){tt(_e)}}function ot(st){st.done?et(st.value):j(st.value).then(rt,at)}ot((s=s.apply(o,i||[])).next())})}function __generator(o,i){var a={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},s,j,et,tt;return tt={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function rt(ot){return function(st){return at([ot,st])}}function at(ot){if(s)throw new TypeError("Generator is already executing.");for(;tt&&(tt=0,ot[0]&&(a=0)),a;)try{if(s=1,j&&(et=ot[0]&2?j.return:ot[0]?j.throw||((et=j.return)&&et.call(j),0):j.next)&&!(et=et.call(j,ot[1])).done)return et;switch(j=0,et&&(ot=[ot[0]&2,et.value]),ot[0]){case 0:case 1:et=ot;break;case 4:return a.label++,{value:ot[1],done:!1};case 5:a.label++,j=ot[1],ot=[0];continue;case 7:ot=a.ops.pop(),a.trys.pop();continue;default:if(et=a.trys,!(et=et.length>0&&et[et.length-1])&&(ot[0]===6||ot[0]===2)){a=0;continue}if(ot[0]===3&&(!et||ot[1]>et[0]&&ot[1]<et[3])){a.label=ot[1];break}if(ot[0]===6&&a.label<et[1]){a.label=et[1],et=ot;break}if(et&&a.label<et[2]){a.label=et[2],a.ops.push(ot);break}et[2]&&a.ops.pop(),a.trys.pop();continue}ot=i.call(o,a)}catch(st){ot=[6,st],j=0}finally{s=et=0}if(ot[0]&5)throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}}function __read(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var s=a.call(o),j,et=[],tt;try{for(;(i===void 0||i-- >0)&&!(j=s.next()).done;)et.push(j.value)}catch(rt){tt={error:rt}}finally{try{j&&!j.done&&(a=s.return)&&a.call(s)}finally{if(tt)throw tt.error}}return et}function __spreadArray(o,i,a){if(a||arguments.length===2)for(var s=0,j=i.length,et;s<j;s++)(et||!(s in i))&&(et||(et=Array.prototype.slice.call(i,0,s)),et[s]=i[s]);return o.concat(et||Array.prototype.slice.call(i))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(o,i){var a=withMimeType(o);if(typeof a.path!="string"){var s=o.webkitRelativePath;Object.defineProperty(a,"path",{value:typeof i=="string"?i:typeof s=="string"&&s.length>0?s:o.name,writable:!1,configurable:!1,enumerable:!0})}return a}function withMimeType(o){var i=o.name,a=i&&i.lastIndexOf(".")!==-1;if(a&&!o.type){var s=i.split(".").pop().toLowerCase(),j=COMMON_MIME_TYPES.get(s);j&&Object.defineProperty(o,"type",{value:j,writable:!1,configurable:!1,enumerable:!0})}return o}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return isObject$2(o)&&isDataTransfer(o.dataTransfer)?[2,getDataTransferFiles(o.dataTransfer,o.type)]:isChangeEvt(o)?[2,getInputFiles(o)]:Array.isArray(o)&&o.every(function(a){return"getFile"in a&&typeof a.getFile=="function"})?[2,getFsHandleFiles(o)]:[2,[]]})})}function isDataTransfer(o){return isObject$2(o)}function isChangeEvt(o){return isObject$2(o)&&isObject$2(o.target)}function isObject$2(o){return typeof o=="object"&&o!==null}function getInputFiles(o){return fromList(o.target.files).map(function(i){return toFileWithPath(i)})}function getFsHandleFiles(o){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,Promise.all(o.map(function(s){return s.getFile()}))];case 1:return i=a.sent(),[2,i.map(function(s){return toFileWithPath(s)})]}})})}function getDataTransferFiles(o,i){return __awaiter(this,void 0,void 0,function(){var a,s;return __generator(this,function(j){switch(j.label){case 0:return o.items?(a=fromList(o.items).filter(function(et){return et.kind==="file"}),i!=="drop"?[2,a]:[4,Promise.all(a.map(toFilePromises))]):[3,2];case 1:return s=j.sent(),[2,noIgnoredFiles(flatten$2(s))];case 2:return[2,noIgnoredFiles(fromList(o.files).map(function(et){return toFileWithPath(et)}))]}})})}function noIgnoredFiles(o){return o.filter(function(i){return FILES_TO_IGNORE.indexOf(i.name)===-1})}function fromList(o){if(o===null)return[];for(var i=[],a=0;a<o.length;a++){var s=o[a];i.push(s)}return i}function toFilePromises(o){if(typeof o.webkitGetAsEntry!="function")return fromDataTransferItem(o);var i=o.webkitGetAsEntry();return i&&i.isDirectory?fromDirEntry(i):fromDataTransferItem(o)}function flatten$2(o){return o.reduce(function(i,a){return __spreadArray(__spreadArray([],__read(i),!1),__read(Array.isArray(a)?flatten$2(a):[a]),!1)},[])}function fromDataTransferItem(o){var i=o.getAsFile();if(!i)return Promise.reject("".concat(o," is not a File"));var a=toFileWithPath(i);return Promise.resolve(a)}function fromEntry(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,o.isDirectory?fromDirEntry(o):fromFileEntry(o)]})})}function fromDirEntry(o){var i=o.createReader();return new Promise(function(a,s){var j=[];function et(){var tt=this;i.readEntries(function(rt){return __awaiter(tt,void 0,void 0,function(){var at,ot,st;return __generator(this,function(_e){switch(_e.label){case 0:if(rt.length)return[3,5];_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,Promise.all(j)];case 2:return at=_e.sent(),a(at),[3,4];case 3:return ot=_e.sent(),s(ot),[3,4];case 4:return[3,6];case 5:st=Promise.all(rt.map(fromEntry)),j.push(st),et(),_e.label=6;case 6:return[2]}})})},function(rt){s(rt)})}et()})}function fromFileEntry(o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){return[2,new Promise(function(a,s){o.file(function(j){var et=toFileWithPath(j,o.fullPath);a(et)},function(j){s(j)})})]})})}var _default=function(o,i){if(o&&i){var a=Array.isArray(i)?i:i.split(","),s=o.name||"",j=(o.type||"").toLowerCase(),et=j.replace(/\/.*$/,"");return a.some(function(tt){var rt=tt.trim().toLowerCase();return rt.charAt(0)==="."?s.toLowerCase().endsWith(rt):rt.endsWith("/*")?et===rt.replace(/\/.*$/,""):j===rt})}return!0};function _toConsumableArray$2(o){return _arrayWithoutHoles$2(o)||_iterableToArray$2(o)||_unsupportedIterableToArray$2(o)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$2(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$2(o){if(Array.isArray(o))return _arrayLikeToArray$2(o)}function ownKeys$2(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),a.push.apply(a,s)}return a}function _objectSpread$1(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$2(Object(a),!0).forEach(function(s){_defineProperty$2(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys$2(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function _defineProperty$2(o,i,a){return i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function _slicedToArray$2(o,i){return _arrayWithHoles$2(o)||_iterableToArrayLimit$2(o,i)||_unsupportedIterableToArray$2(o,i)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$2(o,i)}}function _arrayLikeToArray$2(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _iterableToArrayLimit$2(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s=[],j=!0,et=!1,tt,rt;try{for(a=a.call(o);!(j=(tt=a.next()).done)&&(s.push(tt.value),!(i&&s.length===i));j=!0);}catch(at){et=!0,rt=at}finally{try{!j&&a.return!=null&&a.return()}finally{if(et)throw rt}}return s}}function _arrayWithHoles$2(o){if(Array.isArray(o))return o}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function o(i){i=Array.isArray(i)&&i.length===1?i[0]:i;var a=Array.isArray(i)?"one of ".concat(i.join(", ")):i;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(a)}},getTooLargeRejectionErr=function o(i){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(i," ").concat(i===1?"byte":"bytes")}},getTooSmallRejectionErr=function o(i){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(i," ").concat(i===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(o,i){var a=o.type==="application/x-moz-file"||_default(o,i);return[a,a?null:getInvalidTypeRejectionErr(i)]}function fileMatchSize(o,i,a){if(isDefined(o.size))if(isDefined(i)&&isDefined(a)){if(o.size>a)return[!1,getTooLargeRejectionErr(a)];if(o.size<i)return[!1,getTooSmallRejectionErr(i)]}else{if(isDefined(i)&&o.size<i)return[!1,getTooSmallRejectionErr(i)];if(isDefined(a)&&o.size>a)return[!1,getTooLargeRejectionErr(a)]}return[!0,null]}function isDefined(o){return o!=null}function allFilesAccepted(o){var i=o.files,a=o.accept,s=o.minSize,j=o.maxSize,et=o.multiple,tt=o.maxFiles,rt=o.validator;return!et&&i.length>1||et&&tt>=1&&i.length>tt?!1:i.every(function(at){var ot=fileAccepted(at,a),st=_slicedToArray$2(ot,1),_e=st[0],$=fileMatchSize(at,s,j),nt=_slicedToArray$2($,1),it=nt[0],lt=rt?rt(at):null;return _e&&it&&!lt})}function isPropagationStopped(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function isEvtWithFiles(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,function(i){return i==="Files"||i==="application/x-moz-file"}):!!o.target&&!!o.target.files}function onDocumentDragOver(o){o.preventDefault()}function isIe(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function isEdge(o){return o.indexOf("Edge/")!==-1}function isIeOrEdge(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(o)||isEdge(o)}function composeEventHandlers(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return function(s){for(var j=arguments.length,et=new Array(j>1?j-1:0),tt=1;tt<j;tt++)et[tt-1]=arguments[tt];return i.some(function(rt){return!isPropagationStopped(s)&&rt&&rt.apply(void 0,[s].concat(et)),isPropagationStopped(s)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(o){if(isDefined(o)){var i=Object.entries(o).filter(function(a){var s=_slicedToArray$2(a,2),j=s[0],et=s[1],tt=!0;return isMIMEType(j)||(console.warn('Skipped "'.concat(j,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),tt=!1),(!Array.isArray(et)||!et.every(isExt))&&(console.warn('Skipped "'.concat(j,'" because an invalid file extension was provided.')),tt=!1),tt}).reduce(function(a,s){var j=_slicedToArray$2(s,2),et=j[0],tt=j[1];return _objectSpread$1(_objectSpread$1({},a),{},_defineProperty$2({},et,tt))},{});return[{description:"Files",accept:i}]}return o}function acceptPropAsAcceptAttr(o){if(isDefined(o))return Object.entries(o).reduce(function(i,a){var s=_slicedToArray$2(a,2),j=s[0],et=s[1];return[].concat(_toConsumableArray$2(i),[j],_toConsumableArray$2(et))},[]).filter(function(i){return isMIMEType(i)||isExt(i)}).join(",")}function isAbort(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function isSecurityError(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function isMIMEType(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||/\w+\/[-+.\w]+/g.test(o)}function isExt(o){return/^.*\.[\w]+$/.test(o)}var _excluded$8=["children"],_excluded2$1=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray$1(o){return _arrayWithoutHoles$1(o)||_iterableToArray$1(o)||_unsupportedIterableToArray$1(o)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$1(o){if(Array.isArray(o))return _arrayLikeToArray$1(o)}function _slicedToArray$1(o,i){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,i)||_unsupportedIterableToArray$1(o,i)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$1(o,i)}}function _arrayLikeToArray$1(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _iterableToArrayLimit$1(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s=[],j=!0,et=!1,tt,rt;try{for(a=a.call(o);!(j=(tt=a.next()).done)&&(s.push(tt.value),!(i&&s.length===i));j=!0);}catch(at){et=!0,rt=at}finally{try{!j&&a.return!=null&&a.return()}finally{if(et)throw rt}}return s}}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function ownKeys$1(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(a),!0).forEach(function(s){_defineProperty$1(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function _defineProperty$1(o,i,a){return i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function _objectWithoutProperties$1(o,i){if(o==null)return{};var a=_objectWithoutPropertiesLoose$1(o,i),s,j;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(j=0;j<et.length;j++)s=et[j],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(a[s]=o[s])}return a}function _objectWithoutPropertiesLoose$1(o,i){if(o==null)return{};var a={},s=Object.keys(o),j,et;for(et=0;et<s.length;et++)j=s[et],!(i.indexOf(j)>=0)&&(a[j]=o[j]);return a}var Dropzone=reactExports.forwardRef(function(o,i){var a=o.children,s=_objectWithoutProperties$1(o,_excluded$8),j=useDropzone(s),et=j.open,tt=_objectWithoutProperties$1(j,_excluded2$1);return reactExports.useImperativeHandle(i,function(){return{open:et}},[et]),React.createElement(reactExports.Fragment,null,a(_objectSpread(_objectSpread({},tt),{},{open:et})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=_objectSpread(_objectSpread({},defaultProps),o),a=i.accept,s=i.disabled,j=i.getFilesFromEvent,et=i.maxSize,tt=i.minSize,rt=i.multiple,at=i.maxFiles,ot=i.onDragEnter,st=i.onDragLeave,_e=i.onDragOver,$=i.onDrop,nt=i.onDropAccepted,it=i.onDropRejected,lt=i.onFileDialogCancel,dt=i.onFileDialogOpen,ft=i.useFsAccessApi,pt=i.autoFocus,ht=i.preventDropOnDocument,gt=i.noClick,mt=i.noKeyboard,yt=i.noDrag,bt=i.noDragEventsBubbling,_t=i.onError,xt=i.validator,Et=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(a)},[a]),Tt=reactExports.useMemo(function(){return pickerOptionsFromAccept(a)},[a]),Pt=reactExports.useMemo(function(){return typeof dt=="function"?dt:noop$2},[dt]),At=reactExports.useMemo(function(){return typeof lt=="function"?lt:noop$2},[lt]),Ot=reactExports.useRef(null),It=reactExports.useRef(null),$t=reactExports.useReducer(reducer,initialState),kt=_slicedToArray$1($t,2),Ft=kt[0],Ut=kt[1],zt=Ft.isFocused,Wt=Ft.isFileDialogActive,Qt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&ft&&canUseFileSystemAccessAPI()),un=function(){!Qt.current&&Wt&&setTimeout(function(){if(It.current){var Sn=It.current.files;Sn.length||(Ut({type:"closeDialog"}),At())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",un,!1),function(){window.removeEventListener("focus",un,!1)}},[It,Wt,At,Qt]);var an=reactExports.useRef([]),vn=function(Sn){Ot.current&&Ot.current.contains(Sn.target)||(Sn.preventDefault(),an.current=[])};reactExports.useEffect(function(){return ht&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",vn,!1)),function(){ht&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",vn))}},[Ot,ht]),reactExports.useEffect(function(){return!s&&pt&&Ot.current&&Ot.current.focus(),function(){}},[Ot,pt,s]);var fn=reactExports.useCallback(function(hn){_t?_t(hn):console.error(hn)},[_t]),jt=reactExports.useCallback(function(hn){hn.preventDefault(),hn.persist(),On(hn),an.current=[].concat(_toConsumableArray$1(an.current),[hn.target]),isEvtWithFiles(hn)&&Promise.resolve(j(hn)).then(function(Sn){if(!(isPropagationStopped(hn)&&!bt)){var Wn=Sn.length,Kn=Wn>0&&allFilesAccepted({files:Sn,accept:Et,minSize:tt,maxSize:et,multiple:rt,maxFiles:at,validator:xt}),ir=Wn>0&&!Kn;Ut({isDragAccept:Kn,isDragReject:ir,isDragActive:!0,type:"setDraggedFiles"}),ot&&ot(hn)}}).catch(function(Sn){return fn(Sn)})},[j,ot,fn,bt,Et,tt,et,rt,at,xt]),en=reactExports.useCallback(function(hn){hn.preventDefault(),hn.persist(),On(hn);var Sn=isEvtWithFiles(hn);if(Sn&&hn.dataTransfer)try{hn.dataTransfer.dropEffect="copy"}catch{}return Sn&&_e&&_e(hn),!1},[_e,bt]),on=reactExports.useCallback(function(hn){hn.preventDefault(),hn.persist(),On(hn);var Sn=an.current.filter(function(Kn){return Ot.current&&Ot.current.contains(Kn)}),Wn=Sn.indexOf(hn.target);Wn!==-1&&Sn.splice(Wn,1),an.current=Sn,!(Sn.length>0)&&(Ut({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(hn)&&st&&st(hn))},[Ot,st,bt]),wn=reactExports.useCallback(function(hn,Sn){var Wn=[],Kn=[];hn.forEach(function(ir){var gr=fileAccepted(ir,Et),ur=_slicedToArray$1(gr,2),yr=ur[0],Rn=ur[1],Rt=fileMatchSize(ir,tt,et),Nt=_slicedToArray$1(Rt,2),Lt=Nt[0],Bt=Nt[1],Ht=xt?xt(ir):null;if(yr&&Lt&&!Ht)Wn.push(ir);else{var Xt=[Rn,Bt];Ht&&(Xt=Xt.concat(Ht)),Kn.push({file:ir,errors:Xt.filter(function(Zt){return Zt})})}}),(!rt&&Wn.length>1||rt&&at>=1&&Wn.length>at)&&(Wn.forEach(function(ir){Kn.push({file:ir,errors:[TOO_MANY_FILES_REJECTION]})}),Wn.splice(0)),Ut({acceptedFiles:Wn,fileRejections:Kn,type:"setFiles"}),$&&$(Wn,Kn,Sn),Kn.length>0&&it&&it(Kn,Sn),Wn.length>0&&nt&&nt(Wn,Sn)},[Ut,rt,Et,tt,et,at,$,nt,it,xt]),cn=reactExports.useCallback(function(hn){hn.preventDefault(),hn.persist(),On(hn),an.current=[],isEvtWithFiles(hn)&&Promise.resolve(j(hn)).then(function(Sn){isPropagationStopped(hn)&&!bt||wn(Sn,hn)}).catch(function(Sn){return fn(Sn)}),Ut({type:"reset"})},[j,wn,fn,bt]),An=reactExports.useCallback(function(){if(Qt.current){Ut({type:"openDialog"}),Pt();var hn={multiple:rt,types:Tt};window.showOpenFilePicker(hn).then(function(Sn){return j(Sn)}).then(function(Sn){wn(Sn,null),Ut({type:"closeDialog"})}).catch(function(Sn){isAbort(Sn)?(At(Sn),Ut({type:"closeDialog"})):isSecurityError(Sn)?(Qt.current=!1,It.current?(It.current.value=null,It.current.click()):fn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):fn(Sn)});return}It.current&&(Ut({type:"openDialog"}),Pt(),It.current.value=null,It.current.click())},[Ut,Pt,At,ft,wn,fn,Tt,rt]),bn=reactExports.useCallback(function(hn){!Ot.current||!Ot.current.isEqualNode(hn.target)||(hn.key===" "||hn.key==="Enter"||hn.keyCode===32||hn.keyCode===13)&&(hn.preventDefault(),An())},[Ot,An]),Vn=reactExports.useCallback(function(){Ut({type:"focus"})},[]),xn=reactExports.useCallback(function(){Ut({type:"blur"})},[]),Jn=reactExports.useCallback(function(){gt||(isIeOrEdge()?setTimeout(An,0):An())},[gt,An]),Ln=function(Sn){return s?null:Sn},Hn=function(Sn){return mt?null:Ln(Sn)},jn=function(Sn){return yt?null:Ln(Sn)},On=function(Sn){bt&&Sn.stopPropagation()},zn=reactExports.useMemo(function(){return function(){var hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Sn=hn.refKey,Wn=Sn===void 0?"ref":Sn,Kn=hn.role,ir=hn.onKeyDown,gr=hn.onFocus,ur=hn.onBlur,yr=hn.onClick,Rn=hn.onDragEnter,Rt=hn.onDragOver,Nt=hn.onDragLeave,Lt=hn.onDrop,Bt=_objectWithoutProperties$1(hn,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:Hn(composeEventHandlers(ir,bn)),onFocus:Hn(composeEventHandlers(gr,Vn)),onBlur:Hn(composeEventHandlers(ur,xn)),onClick:Ln(composeEventHandlers(yr,Jn)),onDragEnter:jn(composeEventHandlers(Rn,jt)),onDragOver:jn(composeEventHandlers(Rt,en)),onDragLeave:jn(composeEventHandlers(Nt,on)),onDrop:jn(composeEventHandlers(Lt,cn)),role:typeof Kn=="string"&&Kn!==""?Kn:"presentation"},Wn,Ot),!s&&!mt?{tabIndex:0}:{}),Bt)}},[Ot,bn,Vn,xn,Jn,jt,en,on,cn,mt,yt,s]),Fn=reactExports.useCallback(function(hn){hn.stopPropagation()},[]),Bn=reactExports.useMemo(function(){return function(){var hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Sn=hn.refKey,Wn=Sn===void 0?"ref":Sn,Kn=hn.onChange,ir=hn.onClick,gr=_objectWithoutProperties$1(hn,_excluded4),ur=_defineProperty$1({accept:Et,multiple:rt,type:"file",style:{display:"none"},onChange:Ln(composeEventHandlers(Kn,cn)),onClick:Ln(composeEventHandlers(ir,Fn)),tabIndex:-1},Wn,It);return _objectSpread(_objectSpread({},ur),gr)}},[It,a,rt,cn,s]);return _objectSpread(_objectSpread({},Ft),{},{isFocused:zt&&!s,getRootProps:zn,getInputProps:Bn,rootRef:Ot,inputRef:It,open:Ln(An)})}function reducer(o,i){switch(i.type){case"focus":return _objectSpread(_objectSpread({},o),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},o),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},o),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},o),{},{isDragActive:i.isDragActive,isDragAccept:i.isDragAccept,isDragReject:i.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},o),{},{acceptedFiles:i.acceptedFiles,fileRejections:i.fileRejections});case"reset":return _objectSpread({},initialState);default:return o}}function noop$2(){}const photos=[{src:"/gallery/18135.jpg",width:2e3,height:1538},{src:"/gallery/dogs-with-stick.jpg",width:1072,height:603}],Home=()=>{const o=useNavigate(),{pathname:i}=useLocation(),{handleSelectedImage:a}=reactExports.useContext(AppContext),{getRootProps:s,getInputProps:j}=useDropzone({accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},onDrop:et=>{try{if(et.length===0){alert("File not accepted! Try again.");return}if(et.length>1){alert("Too many files! Try again with 1 file.");return}const tt=new FileReader;tt.onloadend=()=>{o("/main"),a(et[0])},tt.readAsDataURL(et[0])}catch(tt){console.log(tt)}},maxSize:5e7});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex flex-row py-5 text-sm align-middle md:text-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{children:"选择图片, 或者"}),jsxRuntimeExports.jsxs("span",{...s(),children:[jsxRuntimeExports.jsx("input",{...j()}),jsxRuntimeExports.jsx("button",{className:"ml-1 text-blue-700 underline",children:"上传图片"})]})]})}),jsxRuntimeExports.jsx(PhotoAlbum,{layout:"rows",photos,columns:1,onClick:et=>{a(new URL(et.photo.src,location.origin),{shouldDownload:!1}),i!=="/main"&&o("/main")},renderPhoto:({imageProps:et})=>{const{src:tt,style:rt,onClick:at}=et;return jsxRuntimeExports.jsx("img",{className:"m-0 lg:hover:opacity-50 active:opacity-50",src:tt,style:rt,onClick:ot=>{at(ot)}})}})]})};var VERSION="1.13.6",root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto=typeof Symbol<"u"?Symbol.prototype:null,push=ArrayProto.push,slice$1=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer=typeof ArrayBuffer<"u",supportsDataView=typeof DataView<"u",nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(o,i){return i=i==null?o.length-1:+i,function(){for(var a=Math.max(arguments.length-i,0),s=Array(a),j=0;j<a;j++)s[j]=arguments[j+i];switch(i){case 0:return o.call(this,s);case 1:return o.call(this,arguments[0],s);case 2:return o.call(this,arguments[0],arguments[1],s)}var et=Array(i+1);for(j=0;j<i;j++)et[j]=arguments[j];return et[i]=s,o.apply(this,et)}}function isObject$1(o){var i=typeof o;return i==="function"||i==="object"&&!!o}function isNull(o){return o===null}function isUndefined(o){return o===void 0}function isBoolean(o){return o===!0||o===!1||toString.call(o)==="[object Boolean]"}function isElement(o){return!!(o&&o.nodeType===1)}function tagTester(o){var i="[object "+o+"]";return function(a){return toString.call(a)===i}}const isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer");var isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction=function(o){return typeof o=="function"||!1});const isFunction$1=isFunction,hasObjectTag=tagTester("Object");var hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11=typeof Map<"u"&&hasObjectTag(new Map),isDataView=tagTester("DataView");function ie10IsDataView(o){return o!=null&&isFunction$1(o.getInt8)&&isArrayBuffer(o.buffer)}const isDataView$1=hasStringTagBug?ie10IsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(o,i){return o!=null&&hasOwnProperty.call(o,i)}var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(o){return has$1(o,"callee")})})();const isArguments$1=isArguments;function isFinite$1(o){return!isSymbol(o)&&_isFinite(o)&&!isNaN(parseFloat(o))}function isNaN$1(o){return isNumber(o)&&_isNaN(o)}function constant(o){return function(){return o}}function createSizePropertyCheck(o){return function(i){var a=o(i);return typeof a=="number"&&a>=0&&a<=MAX_ARRAY_INDEX}}function shallowProperty(o){return function(i){return i==null?void 0:i[o]}}const getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(o){return nativeIsView?nativeIsView(o)&&!isDataView$1(o):isBufferLike(o)&&typedArrayPattern.test(toString.call(o))}const isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1),getLength=shallowProperty("length");function emulatedSet(o){for(var i={},a=o.length,s=0;s<a;++s)i[o[s]]=!0;return{contains:function(j){return i[j]===!0},push:function(j){return i[j]=!0,o.push(j)}}}function collectNonEnumProps(o,i){i=emulatedSet(i);var a=nonEnumerableProps.length,s=o.constructor,j=isFunction$1(s)&&s.prototype||ObjProto,et="constructor";for(has$1(o,et)&&!i.contains(et)&&i.push(et);a--;)et=nonEnumerableProps[a],et in o&&o[et]!==j[et]&&!i.contains(et)&&i.push(et)}function keys(o){if(!isObject$1(o))return[];if(nativeKeys)return nativeKeys(o);var i=[];for(var a in o)has$1(o,a)&&i.push(a);return hasEnumBug&&collectNonEnumProps(o,i),i}function isEmpty(o){if(o==null)return!0;var i=getLength(o);return typeof i=="number"&&(isArray(o)||isString(o)||isArguments$1(o))?i===0:getLength(keys(o))===0}function isMatch(o,i){var a=keys(i),s=a.length;if(o==null)return!s;for(var j=Object(o),et=0;et<s;et++){var tt=a[et];if(i[tt]!==j[tt]||!(tt in j))return!1}return!0}function _$1(o){if(o instanceof _$1)return o;if(!(this instanceof _$1))return new _$1(o);this._wrapped=o}_$1.VERSION=VERSION;_$1.prototype.value=function(){return this._wrapped};_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value;_$1.prototype.toString=function(){return String(this._wrapped)};function toBufferView(o){return new Uint8Array(o.buffer||o,o.byteOffset||0,getByteLength(o))}var tagDataView="[object DataView]";function eq(o,i,a,s){if(o===i)return o!==0||1/o===1/i;if(o==null||i==null)return!1;if(o!==o)return i!==i;var j=typeof o;return j!=="function"&&j!=="object"&&typeof i!="object"?!1:deepEq(o,i,a,s)}function deepEq(o,i,a,s){o instanceof _$1&&(o=o._wrapped),i instanceof _$1&&(i=i._wrapped);var j=toString.call(o);if(j!==toString.call(i))return!1;if(hasStringTagBug&&j=="[object Object]"&&isDataView$1(o)){if(!isDataView$1(i))return!1;j=tagDataView}switch(j){case"[object RegExp]":case"[object String]":return""+o==""+i;case"[object Number]":return+o!=+o?+i!=+i:+o==0?1/+o===1/i:+o==+i;case"[object Date]":case"[object Boolean]":return+o==+i;case"[object Symbol]":return SymbolProto.valueOf.call(o)===SymbolProto.valueOf.call(i);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(o),toBufferView(i),a,s)}var et=j==="[object Array]";if(!et&&isTypedArray$1(o)){var tt=getByteLength(o);if(tt!==getByteLength(i))return!1;if(o.buffer===i.buffer&&o.byteOffset===i.byteOffset)return!0;et=!0}if(!et){if(typeof o!="object"||typeof i!="object")return!1;var rt=o.constructor,at=i.constructor;if(rt!==at&&!(isFunction$1(rt)&&rt instanceof rt&&isFunction$1(at)&&at instanceof at)&&"constructor"in o&&"constructor"in i)return!1}a=a||[],s=s||[];for(var ot=a.length;ot--;)if(a[ot]===o)return s[ot]===i;if(a.push(o),s.push(i),et){if(ot=o.length,ot!==i.length)return!1;for(;ot--;)if(!eq(o[ot],i[ot],a,s))return!1}else{var st=keys(o),_e;if(ot=st.length,keys(i).length!==ot)return!1;for(;ot--;)if(_e=st[ot],!(has$1(i,_e)&&eq(o[_e],i[_e],a,s)))return!1}return a.pop(),s.pop(),!0}function isEqual$1(o,i){return eq(o,i)}function allKeys(o){if(!isObject$1(o))return[];var i=[];for(var a in o)i.push(a);return hasEnumBug&&collectNonEnumProps(o,i),i}function ie11fingerprint(o){var i=getLength(o);return function(a){if(a==null)return!1;var s=allKeys(a);if(getLength(s))return!1;for(var j=0;j<i;j++)if(!isFunction$1(a[o[j]]))return!1;return o!==weakMapMethods||!isFunction$1(a[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);const isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(o){for(var i=keys(o),a=i.length,s=Array(a),j=0;j<a;j++)s[j]=o[i[j]];return s}function pairs(o){for(var i=keys(o),a=i.length,s=Array(a),j=0;j<a;j++)s[j]=[i[j],o[i[j]]];return s}function invert(o){for(var i={},a=keys(o),s=0,j=a.length;s<j;s++)i[o[a[s]]]=a[s];return i}function functions(o){var i=[];for(var a in o)isFunction$1(o[a])&&i.push(a);return i.sort()}function createAssigner(o,i){return function(a){var s=arguments.length;if(i&&(a=Object(a)),s<2||a==null)return a;for(var j=1;j<s;j++)for(var et=arguments[j],tt=o(et),rt=tt.length,at=0;at<rt;at++){var ot=tt[at];(!i||a[ot]===void 0)&&(a[ot]=et[ot])}return a}}const extend=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(o){if(!isObject$1(o))return{};if(nativeCreate)return nativeCreate(o);var i=ctor();i.prototype=o;var a=new i;return i.prototype=null,a}function create(o,i){var a=baseCreate(o);return i&&extendOwn(a,i),a}function clone(o){return isObject$1(o)?isArray(o)?o.slice():extend({},o):o}function tap(o,i){return i(o),o}function toPath$1(o){return isArray(o)?o:[o]}_$1.toPath=toPath$1;function toPath(o){return _$1.toPath(o)}function deepGet(o,i){for(var a=i.length,s=0;s<a;s++){if(o==null)return;o=o[i[s]]}return a?o:void 0}function get$1(o,i,a){var s=deepGet(o,toPath(i));return isUndefined(s)?a:s}function has(o,i){i=toPath(i);for(var a=i.length,s=0;s<a;s++){var j=i[s];if(!has$1(o,j))return!1;o=o[j]}return!!a}function identity(o){return o}function matcher(o){return o=extendOwn({},o),function(i){return isMatch(i,o)}}function property(o){return o=toPath(o),function(i){return deepGet(i,o)}}function optimizeCb(o,i,a){if(i===void 0)return o;switch(a??3){case 1:return function(s){return o.call(i,s)};case 3:return function(s,j,et){return o.call(i,s,j,et)};case 4:return function(s,j,et,tt){return o.call(i,s,j,et,tt)}}return function(){return o.apply(i,arguments)}}function baseIteratee(o,i,a){return o==null?identity:isFunction$1(o)?optimizeCb(o,i,a):isObject$1(o)&&!isArray(o)?matcher(o):property(o)}function iteratee(o,i){return baseIteratee(o,i,1/0)}_$1.iteratee=iteratee;function cb(o,i,a){return _$1.iteratee!==iteratee?_$1.iteratee(o,i):baseIteratee(o,i,a)}function mapObject(o,i,a){i=cb(i,a);for(var s=keys(o),j=s.length,et={},tt=0;tt<j;tt++){var rt=s[tt];et[rt]=i(o[rt],rt,o)}return et}function noop$1(){}function propertyOf(o){return o==null?noop$1:function(i){return get$1(o,i)}}function times(o,i,a){var s=Array(Math.max(0,o));i=optimizeCb(i,a,1);for(var j=0;j<o;j++)s[j]=i(j);return s}function random(o,i){return i==null&&(i=o,o=0),o+Math.floor(Math.random()*(i-o+1))}const now$1=Date.now||function(){return new Date().getTime()};function createEscaper(o){var i=function(et){return o[et]},a="(?:"+keys(o).join("|")+")",s=RegExp(a),j=RegExp(a,"g");return function(et){return et=et==null?"":""+et,s.test(et)?et.replace(j,i):et}}const escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(o){return"\\"+escapes[o]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(o,i,a){!i&&a&&(i=a),i=defaults({},i,_$1.templateSettings);var s=RegExp([(i.escape||noMatch).source,(i.interpolate||noMatch).source,(i.evaluate||noMatch).source].join("|")+"|$","g"),j=0,et="__p+='";o.replace(s,function(ot,st,_e,$,nt){return et+=o.slice(j,nt).replace(escapeRegExp,escapeChar),j=nt+ot.length,st?et+=`'+
((__t=(`+st+`))==null?'':_.escape(__t))+
'`:_e?et+=`'+
((__t=(`+_e+`))==null?'':__t)+
'`:$&&(et+=`';
`+$+`
__p+='`),ot}),et+=`';
`;var tt=i.variable;if(tt){if(!bareIdentifier.test(tt))throw new Error("variable is not a bare identifier: "+tt)}else et=`with(obj||{}){
`+et+`}
`,tt="obj";et=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+et+`return __p;
`;var rt;try{rt=new Function(tt,"_",et)}catch(ot){throw ot.source=et,ot}var at=function(ot){return rt.call(this,ot,_$1)};return at.source="function("+tt+`){
`+et+"}",at}function result(o,i,a){i=toPath(i);var s=i.length;if(!s)return isFunction$1(a)?a.call(o):a;for(var j=0;j<s;j++){var et=o==null?void 0:o[i[j]];et===void 0&&(et=a,j=s),o=isFunction$1(et)?et.call(o):et}return o}var idCounter$1=0;function uniqueId(o){var i=++idCounter$1+"";return o?o+i:i}function chain(o){var i=_$1(o);return i._chain=!0,i}function executeBound(o,i,a,s,j){if(!(s instanceof i))return o.apply(a,j);var et=baseCreate(o.prototype),tt=o.apply(et,j);return isObject$1(tt)?tt:et}var partial=restArguments(function(o,i){var a=partial.placeholder,s=function(){for(var j=0,et=i.length,tt=Array(et),rt=0;rt<et;rt++)tt[rt]=i[rt]===a?arguments[j++]:i[rt];for(;j<arguments.length;)tt.push(arguments[j++]);return executeBound(o,s,this,this,tt)};return s});partial.placeholder=_$1;const bind=restArguments(function(o,i,a){if(!isFunction$1(o))throw new TypeError("Bind must be called on a function");var s=restArguments(function(j){return executeBound(o,s,i,this,a.concat(j))});return s}),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(o,i,a,s){if(s=s||[],!i&&i!==0)i=1/0;else if(i<=0)return s.concat(o);for(var j=s.length,et=0,tt=getLength(o);et<tt;et++){var rt=o[et];if(isArrayLike(rt)&&(isArray(rt)||isArguments$1(rt)))if(i>1)flatten$1(rt,i-1,a,s),j=s.length;else for(var at=0,ot=rt.length;at<ot;)s[j++]=rt[at++];else a||(s[j++]=rt)}return s}const bindAll=restArguments(function(o,i){i=flatten$1(i,!1,!1);var a=i.length;if(a<1)throw new Error("bindAll must be passed function names");for(;a--;){var s=i[a];o[s]=bind(o[s],o)}return o});function memoize(o,i){var a=function(s){var j=a.cache,et=""+(i?i.apply(this,arguments):s);return has$1(j,et)||(j[et]=o.apply(this,arguments)),j[et]};return a.cache={},a}const delay=restArguments(function(o,i,a){return setTimeout(function(){return o.apply(null,a)},i)}),defer=partial(delay,_$1,1);function throttle(o,i,a){var s,j,et,tt,rt=0;a||(a={});var at=function(){rt=a.leading===!1?0:now$1(),s=null,tt=o.apply(j,et),s||(j=et=null)},ot=function(){var st=now$1();!rt&&a.leading===!1&&(rt=st);var _e=i-(st-rt);return j=this,et=arguments,_e<=0||_e>i?(s&&(clearTimeout(s),s=null),rt=st,tt=o.apply(j,et),s||(j=et=null)):!s&&a.trailing!==!1&&(s=setTimeout(at,_e)),tt};return ot.cancel=function(){clearTimeout(s),rt=0,s=j=et=null},ot}function debounce(o,i,a){var s,j,et,tt,rt,at=function(){var st=now$1()-j;i>st?s=setTimeout(at,i-st):(s=null,a||(tt=o.apply(rt,et)),s||(et=rt=null))},ot=restArguments(function(st){return rt=this,et=st,j=now$1(),s||(s=setTimeout(at,i),a&&(tt=o.apply(rt,et))),tt});return ot.cancel=function(){clearTimeout(s),s=et=rt=null},ot}function wrap(o,i){return partial(i,o)}function negate(o){return function(){return!o.apply(this,arguments)}}function compose(){var o=arguments,i=o.length-1;return function(){for(var a=i,s=o[i].apply(this,arguments);a--;)s=o[a].call(this,s);return s}}function after(o,i){return function(){if(--o<1)return i.apply(this,arguments)}}function before(o,i){var a;return function(){return--o>0&&(a=i.apply(this,arguments)),o<=1&&(i=null),a}}const once=partial(before,2);function findKey(o,i,a){i=cb(i,a);for(var s=keys(o),j,et=0,tt=s.length;et<tt;et++)if(j=s[et],i(o[j],j,o))return j}function createPredicateIndexFinder(o){return function(i,a,s){a=cb(a,s);for(var j=getLength(i),et=o>0?0:j-1;et>=0&&et<j;et+=o)if(a(i[et],et,i))return et;return-1}}const findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(o,i,a,s){a=cb(a,s,1);for(var j=a(i),et=0,tt=getLength(o);et<tt;){var rt=Math.floor((et+tt)/2);a(o[rt])<j?et=rt+1:tt=rt}return et}function createIndexFinder(o,i,a){return function(s,j,et){var tt=0,rt=getLength(s);if(typeof et=="number")o>0?tt=et>=0?et:Math.max(et+rt,tt):rt=et>=0?Math.min(et+1,rt):et+rt+1;else if(a&&et&&rt)return et=a(s,j),s[et]===j?et:-1;if(j!==j)return et=i(slice$1.call(s,tt,rt),isNaN$1),et>=0?et+tt:-1;for(et=o>0?tt:rt-1;et>=0&&et<rt;et+=o)if(s[et]===j)return et;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(o,i,a){var s=isArrayLike(o)?findIndex:findKey,j=s(o,i,a);if(j!==void 0&&j!==-1)return o[j]}function findWhere(o,i){return find(o,matcher(i))}function each(o,i,a){i=optimizeCb(i,a);var s,j;if(isArrayLike(o))for(s=0,j=o.length;s<j;s++)i(o[s],s,o);else{var et=keys(o);for(s=0,j=et.length;s<j;s++)i(o[et[s]],et[s],o)}return o}function map(o,i,a){i=cb(i,a);for(var s=!isArrayLike(o)&&keys(o),j=(s||o).length,et=Array(j),tt=0;tt<j;tt++){var rt=s?s[tt]:tt;et[tt]=i(o[rt],rt,o)}return et}function createReduce(o){var i=function(a,s,j,et){var tt=!isArrayLike(a)&&keys(a),rt=(tt||a).length,at=o>0?0:rt-1;for(et||(j=a[tt?tt[at]:at],at+=o);at>=0&&at<rt;at+=o){var ot=tt?tt[at]:at;j=s(j,a[ot],ot,a)}return j};return function(a,s,j,et){var tt=arguments.length>=3;return i(a,optimizeCb(s,et,4),j,tt)}}const reduce=createReduce(1),reduceRight=createReduce(-1);function filter(o,i,a){var s=[];return i=cb(i,a),each(o,function(j,et,tt){i(j,et,tt)&&s.push(j)}),s}function reject(o,i,a){return filter(o,negate(cb(i)),a)}function every(o,i,a){i=cb(i,a);for(var s=!isArrayLike(o)&&keys(o),j=(s||o).length,et=0;et<j;et++){var tt=s?s[et]:et;if(!i(o[tt],tt,o))return!1}return!0}function some(o,i,a){i=cb(i,a);for(var s=!isArrayLike(o)&&keys(o),j=(s||o).length,et=0;et<j;et++){var tt=s?s[et]:et;if(i(o[tt],tt,o))return!0}return!1}function contains$1(o,i,a,s){return isArrayLike(o)||(o=values(o)),(typeof a!="number"||s)&&(a=0),indexOf(o,i,a)>=0}const invoke=restArguments(function(o,i,a){var s,j;return isFunction$1(i)?j=i:(i=toPath(i),s=i.slice(0,-1),i=i[i.length-1]),map(o,function(et){var tt=j;if(!tt){if(s&&s.length&&(et=deepGet(et,s)),et==null)return;tt=et[i]}return tt==null?tt:tt.apply(et,a)})});function pluck(o,i){return map(o,property(i))}function where(o,i){return filter(o,matcher(i))}function max(o,i,a){var s=-1/0,j=-1/0,et,tt;if(i==null||typeof i=="number"&&typeof o[0]!="object"&&o!=null){o=isArrayLike(o)?o:values(o);for(var rt=0,at=o.length;rt<at;rt++)et=o[rt],et!=null&&et>s&&(s=et)}else i=cb(i,a),each(o,function(ot,st,_e){tt=i(ot,st,_e),(tt>j||tt===-1/0&&s===-1/0)&&(s=ot,j=tt)});return s}function min(o,i,a){var s=1/0,j=1/0,et,tt;if(i==null||typeof i=="number"&&typeof o[0]!="object"&&o!=null){o=isArrayLike(o)?o:values(o);for(var rt=0,at=o.length;rt<at;rt++)et=o[rt],et!=null&&et<s&&(s=et)}else i=cb(i,a),each(o,function(ot,st,_e){tt=i(ot,st,_e),(tt<j||tt===1/0&&s===1/0)&&(s=ot,j=tt)});return s}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray$2(o){return o?isArray(o)?slice$1.call(o):isString(o)?o.match(reStrSymbol):isArrayLike(o)?map(o,identity):values(o):[]}function sample(o,i,a){if(i==null||a)return isArrayLike(o)||(o=values(o)),o[random(o.length-1)];var s=toArray$2(o),j=getLength(s);i=Math.max(Math.min(i,j),0);for(var et=j-1,tt=0;tt<i;tt++){var rt=random(tt,et),at=s[tt];s[tt]=s[rt],s[rt]=at}return s.slice(0,i)}function shuffle(o){return sample(o,1/0)}function sortBy(o,i,a){var s=0;return i=cb(i,a),pluck(map(o,function(j,et,tt){return{value:j,index:s++,criteria:i(j,et,tt)}}).sort(function(j,et){var tt=j.criteria,rt=et.criteria;if(tt!==rt){if(tt>rt||tt===void 0)return 1;if(tt<rt||rt===void 0)return-1}return j.index-et.index}),"value")}function group(o,i){return function(a,s,j){var et=i?[[],[]]:{};return s=cb(s,j),each(a,function(tt,rt){var at=s(tt,rt,a);o(et,tt,at)}),et}}const groupBy=group(function(o,i,a){has$1(o,a)?o[a].push(i):o[a]=[i]}),indexBy=group(function(o,i,a){o[a]=i}),countBy=group(function(o,i,a){has$1(o,a)?o[a]++:o[a]=1}),partition=group(function(o,i,a){o[a?0:1].push(i)},!0);function size(o){return o==null?0:isArrayLike(o)?o.length:keys(o).length}function keyInObj(o,i,a){return i in a}const pick=restArguments(function(o,i){var a={},s=i[0];if(o==null)return a;isFunction$1(s)?(i.length>1&&(s=optimizeCb(s,i[1])),i=allKeys(o)):(s=keyInObj,i=flatten$1(i,!1,!1),o=Object(o));for(var j=0,et=i.length;j<et;j++){var tt=i[j],rt=o[tt];s(rt,tt,o)&&(a[tt]=rt)}return a}),omit=restArguments(function(o,i){var a=i[0],s;return isFunction$1(a)?(a=negate(a),i.length>1&&(s=i[1])):(i=map(flatten$1(i,!1,!1),String),a=function(j,et){return!contains$1(i,et)}),pick(o,a,s)});function initial(o,i,a){return slice$1.call(o,0,Math.max(0,o.length-(i==null||a?1:i)))}function first(o,i,a){return o==null||o.length<1?i==null||a?void 0:[]:i==null||a?o[0]:initial(o,o.length-i)}function rest(o,i,a){return slice$1.call(o,i==null||a?1:i)}function last(o,i,a){return o==null||o.length<1?i==null||a?void 0:[]:i==null||a?o[o.length-1]:rest(o,Math.max(0,o.length-i))}function compact(o){return filter(o,Boolean)}function flatten(o,i){return flatten$1(o,i,!1)}const difference=restArguments(function(o,i){return i=flatten$1(i,!0,!0),filter(o,function(a){return!contains$1(i,a)})}),without=restArguments(function(o,i){return difference(o,i)});function uniq(o,i,a,s){isBoolean(i)||(s=a,a=i,i=!1),a!=null&&(a=cb(a,s));for(var j=[],et=[],tt=0,rt=getLength(o);tt<rt;tt++){var at=o[tt],ot=a?a(at,tt,o):at;i&&!a?((!tt||et!==ot)&&j.push(at),et=ot):a?contains$1(et,ot)||(et.push(ot),j.push(at)):contains$1(j,at)||j.push(at)}return j}const union=restArguments(function(o){return uniq(flatten$1(o,!0,!0))});function intersection(o){for(var i=[],a=arguments.length,s=0,j=getLength(o);s<j;s++){var et=o[s];if(!contains$1(i,et)){var tt;for(tt=1;tt<a&&contains$1(arguments[tt],et);tt++);tt===a&&i.push(et)}}return i}function unzip(o){for(var i=o&&max(o,getLength).length||0,a=Array(i),s=0;s<i;s++)a[s]=pluck(o,s);return a}const zip=restArguments(unzip);function object$1(o,i){for(var a={},s=0,j=getLength(o);s<j;s++)i?a[o[s]]=i[s]:a[o[s][0]]=o[s][1];return a}function range$1(o,i,a){i==null&&(i=o||0,o=0),a||(a=i<o?-1:1);for(var s=Math.max(Math.ceil((i-o)/a),0),j=Array(s),et=0;et<s;et++,o+=a)j[et]=o;return j}function chunk(o,i){if(i==null||i<1)return[];for(var a=[],s=0,j=o.length;s<j;)a.push(slice$1.call(o,s,s+=i));return a}function chainResult(o,i){return o._chain?_$1(i).chain():i}function mixin(o){return each(functions(o),function(i){var a=_$1[i]=o[i];_$1.prototype[i]=function(){var s=[this._wrapped];return push.apply(s,arguments),chainResult(this,a.apply(_$1,s))}}),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],function(o){var i=ArrayProto[o];_$1.prototype[o]=function(){var a=this._wrapped;return a!=null&&(i.apply(a,arguments),(o==="shift"||o==="splice")&&a.length===0&&delete a[0]),chainResult(this,a)}});each(["concat","join","slice"],function(o){var i=ArrayProto[o];_$1.prototype[o]=function(){var a=this._wrapped;return a!=null&&(a=i.apply(a,arguments)),chainResult(this,a)}});const allExports=Object.freeze(Object.defineProperty({__proto__:null,VERSION,after,all:every,allKeys,any:some,assign:extendOwn,before,bind,bindAll,chain,chunk,clone,collect:map,compact,compose,constant,contains:contains$1,countBy,create,debounce,default:_$1,defaults,defer,delay,detect:find,difference,drop:rest,each,escape,every,extend,extendOwn,filter,find,findIndex,findKey,findLastIndex,findWhere,first,flatten,foldl:reduce,foldr:reduceRight,forEach:each,functions,get:get$1,groupBy,has,head:first,identity,include:contains$1,includes:contains$1,indexBy,indexOf,initial,inject:reduce,intersection,invert,invoke,isArguments:isArguments$1,isArray,isArrayBuffer,isBoolean,isDataView:isDataView$1,isDate,isElement,isEmpty,isEqual:isEqual$1,isError,isFinite:isFinite$1,isFunction:isFunction$1,isMap,isMatch,isNaN:isNaN$1,isNull,isNumber,isObject:isObject$1,isRegExp,isSet,isString,isSymbol,isTypedArray:isTypedArray$1,isUndefined,isWeakMap,isWeakSet,iteratee,keys,last,lastIndexOf,map,mapObject,matcher,matches:matcher,max,memoize,methods:functions,min,mixin,negate,noop:noop$1,now:now$1,object:object$1,omit,once,pairs,partial,partition,pick,pluck,property,propertyOf,random,range:range$1,reduce,reduceRight,reject,rest,restArguments,result,sample,select:filter,shuffle,size,some,sortBy,sortedIndex,tail:rest,take:first,tap,template,templateSettings,throttle,times,toArray:toArray$2,toPath:toPath$1,transpose:unzip,unescape,union,uniq,unique:uniq,uniqueId,unzip,values,where,without,wrap,zip},Symbol.toStringTag,{value:"Module"}));var _=mixin(allExports);_._=_;var lib$1={exports:{}},_FullInternals={},_CoreInternals={},Global={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o._registerNode=o.Konva=o.glob=void 0;var i=Math.PI/180;function a(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}o.glob=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},o.Konva={_global:o.glob,version:"9.2.0",isBrowser:a(),isUnminified:/param/.test(function(j){}.toString()),dblClickWindow:400,getAngle(j){return o.Konva.angleDeg?j*i:j},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return o.Konva.DD.isDragging},isDragReady(){return!!o.Konva.DD.node},releaseCanvasOnDestroy:!0,document:o.glob.document,_injectGlobal(j){o.glob.Konva=j}};const s=j=>{o.Konva[j.prototype.getClassName()]=j};o._registerNode=s,o.Konva._injectGlobal(o.Konva)})(Global);var Util={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Util=o.Transform=void 0;const i=Global;class a{constructor(gt=[1,0,0,1,0,0]){this.dirty=!1,this.m=gt&&gt.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(gt){gt.m[0]=this.m[0],gt.m[1]=this.m[1],gt.m[2]=this.m[2],gt.m[3]=this.m[3],gt.m[4]=this.m[4],gt.m[5]=this.m[5]}point(gt){var mt=this.m;return{x:mt[0]*gt.x+mt[2]*gt.y+mt[4],y:mt[1]*gt.x+mt[3]*gt.y+mt[5]}}translate(gt,mt){return this.m[4]+=this.m[0]*gt+this.m[2]*mt,this.m[5]+=this.m[1]*gt+this.m[3]*mt,this}scale(gt,mt){return this.m[0]*=gt,this.m[1]*=gt,this.m[2]*=mt,this.m[3]*=mt,this}rotate(gt){var mt=Math.cos(gt),yt=Math.sin(gt),bt=this.m[0]*mt+this.m[2]*yt,_t=this.m[1]*mt+this.m[3]*yt,xt=this.m[0]*-yt+this.m[2]*mt,Et=this.m[1]*-yt+this.m[3]*mt;return this.m[0]=bt,this.m[1]=_t,this.m[2]=xt,this.m[3]=Et,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(gt,mt){var yt=this.m[0]+this.m[2]*mt,bt=this.m[1]+this.m[3]*mt,_t=this.m[2]+this.m[0]*gt,xt=this.m[3]+this.m[1]*gt;return this.m[0]=yt,this.m[1]=bt,this.m[2]=_t,this.m[3]=xt,this}multiply(gt){var mt=this.m[0]*gt.m[0]+this.m[2]*gt.m[1],yt=this.m[1]*gt.m[0]+this.m[3]*gt.m[1],bt=this.m[0]*gt.m[2]+this.m[2]*gt.m[3],_t=this.m[1]*gt.m[2]+this.m[3]*gt.m[3],xt=this.m[0]*gt.m[4]+this.m[2]*gt.m[5]+this.m[4],Et=this.m[1]*gt.m[4]+this.m[3]*gt.m[5]+this.m[5];return this.m[0]=mt,this.m[1]=yt,this.m[2]=bt,this.m[3]=_t,this.m[4]=xt,this.m[5]=Et,this}invert(){var gt=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),mt=this.m[3]*gt,yt=-this.m[1]*gt,bt=-this.m[2]*gt,_t=this.m[0]*gt,xt=gt*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),Et=gt*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=mt,this.m[1]=yt,this.m[2]=bt,this.m[3]=_t,this.m[4]=xt,this.m[5]=Et,this}getMatrix(){return this.m}decompose(){var gt=this.m[0],mt=this.m[1],yt=this.m[2],bt=this.m[3],_t=this.m[4],xt=this.m[5],Et=gt*bt-mt*yt;let Tt={x:_t,y:xt,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(gt!=0||mt!=0){var Pt=Math.sqrt(gt*gt+mt*mt);Tt.rotation=mt>0?Math.acos(gt/Pt):-Math.acos(gt/Pt),Tt.scaleX=Pt,Tt.scaleY=Et/Pt,Tt.skewX=(gt*yt+mt*bt)/Et,Tt.skewY=0}else if(yt!=0||bt!=0){var At=Math.sqrt(yt*yt+bt*bt);Tt.rotation=Math.PI/2-(bt>0?Math.acos(-yt/At):-Math.acos(yt/At)),Tt.scaleX=Et/At,Tt.scaleY=At,Tt.skewX=0,Tt.skewY=(gt*yt+mt*bt)/Et}return Tt.rotation=o.Util._getRotation(Tt.rotation),Tt}}o.Transform=a;var s="[object Array]",j="[object Number]",et="[object String]",tt="[object Boolean]",rt=Math.PI/180,at=180/Math.PI,ot="#",st="",_e="0",$="Konva warning: ",nt="Konva error: ",it="rgb(",lt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},dt=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,ft=[];const pt=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(ht){setTimeout(ht,60)};o.Util={_isElement(ht){return!!(ht&&ht.nodeType==1)},_isFunction(ht){return!!(ht&&ht.constructor&&ht.call&&ht.apply)},_isPlainObject(ht){return!!ht&&ht.constructor===Object},_isArray(ht){return Object.prototype.toString.call(ht)===s},_isNumber(ht){return Object.prototype.toString.call(ht)===j&&!isNaN(ht)&&isFinite(ht)},_isString(ht){return Object.prototype.toString.call(ht)===et},_isBoolean(ht){return Object.prototype.toString.call(ht)===tt},isObject(ht){return ht instanceof Object},isValidSelector(ht){if(typeof ht!="string")return!1;var gt=ht[0];return gt==="#"||gt==="."||gt===gt.toUpperCase()},_sign(ht){return ht===0||ht>0?1:-1},requestAnimFrame(ht){ft.push(ht),ft.length===1&&pt(function(){const gt=ft;ft=[],gt.forEach(function(mt){mt()})})},createCanvasElement(){var ht=document.createElement("canvas");try{ht.style=ht.style||{}}catch{}return ht},createImageElement(){return document.createElement("img")},_isInDocument(ht){for(;ht=ht.parentNode;)if(ht==document)return!0;return!1},_urlToImage(ht,gt){var mt=o.Util.createImageElement();mt.onload=function(){gt(mt)},mt.src=ht},_rgbToHex(ht,gt,mt){return((1<<24)+(ht<<16)+(gt<<8)+mt).toString(16).slice(1)},_hexToRgb(ht){ht=ht.replace(ot,st);var gt=parseInt(ht,16);return{r:gt>>16&255,g:gt>>8&255,b:gt&255}},getRandomColor(){for(var ht=(Math.random()*16777215<<0).toString(16);ht.length<6;)ht=_e+ht;return ot+ht},getRGB(ht){var gt;return ht in lt?(gt=lt[ht],{r:gt[0],g:gt[1],b:gt[2]}):ht[0]===ot?this._hexToRgb(ht.substring(1)):ht.substr(0,4)===it?(gt=dt.exec(ht.replace(/ /g,"")),{r:parseInt(gt[1],10),g:parseInt(gt[2],10),b:parseInt(gt[3],10)}):{r:0,g:0,b:0}},colorToRGBA(ht){return ht=ht||"black",o.Util._namedColorToRBA(ht)||o.Util._hex3ColorToRGBA(ht)||o.Util._hex4ColorToRGBA(ht)||o.Util._hex6ColorToRGBA(ht)||o.Util._hex8ColorToRGBA(ht)||o.Util._rgbColorToRGBA(ht)||o.Util._rgbaColorToRGBA(ht)||o.Util._hslColorToRGBA(ht)},_namedColorToRBA(ht){var gt=lt[ht.toLowerCase()];return gt?{r:gt[0],g:gt[1],b:gt[2],a:1}:null},_rgbColorToRGBA(ht){if(ht.indexOf("rgb(")===0){ht=ht.match(/rgb\(([^)]+)\)/)[1];var gt=ht.split(/ *, */).map(Number);return{r:gt[0],g:gt[1],b:gt[2],a:1}}},_rgbaColorToRGBA(ht){if(ht.indexOf("rgba(")===0){ht=ht.match(/rgba\(([^)]+)\)/)[1];var gt=ht.split(/ *, */).map((mt,yt)=>mt.slice(-1)==="%"?yt===3?parseInt(mt)/100:parseInt(mt)/100*255:Number(mt));return{r:gt[0],g:gt[1],b:gt[2],a:gt[3]}}},_hex8ColorToRGBA(ht){if(ht[0]==="#"&&ht.length===9)return{r:parseInt(ht.slice(1,3),16),g:parseInt(ht.slice(3,5),16),b:parseInt(ht.slice(5,7),16),a:parseInt(ht.slice(7,9),16)/255}},_hex6ColorToRGBA(ht){if(ht[0]==="#"&&ht.length===7)return{r:parseInt(ht.slice(1,3),16),g:parseInt(ht.slice(3,5),16),b:parseInt(ht.slice(5,7),16),a:1}},_hex4ColorToRGBA(ht){if(ht[0]==="#"&&ht.length===5)return{r:parseInt(ht[1]+ht[1],16),g:parseInt(ht[2]+ht[2],16),b:parseInt(ht[3]+ht[3],16),a:parseInt(ht[4]+ht[4],16)/255}},_hex3ColorToRGBA(ht){if(ht[0]==="#"&&ht.length===4)return{r:parseInt(ht[1]+ht[1],16),g:parseInt(ht[2]+ht[2],16),b:parseInt(ht[3]+ht[3],16),a:1}},_hslColorToRGBA(ht){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(ht)){const[gt,...mt]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(ht),yt=Number(mt[0])/360,bt=Number(mt[1])/100,_t=Number(mt[2])/100;let xt,Et,Tt;if(bt===0)return Tt=_t*255,{r:Math.round(Tt),g:Math.round(Tt),b:Math.round(Tt),a:1};_t<.5?xt=_t*(1+bt):xt=_t+bt-_t*bt;const Pt=2*_t-xt,At=[0,0,0];for(let Ot=0;Ot<3;Ot++)Et=yt+1/3*-(Ot-1),Et<0&&Et++,Et>1&&Et--,6*Et<1?Tt=Pt+(xt-Pt)*6*Et:2*Et<1?Tt=xt:3*Et<2?Tt=Pt+(xt-Pt)*(2/3-Et)*6:Tt=Pt,At[Ot]=Tt*255;return{r:Math.round(At[0]),g:Math.round(At[1]),b:Math.round(At[2]),a:1}}},haveIntersection(ht,gt){return!(gt.x>ht.x+ht.width||gt.x+gt.width<ht.x||gt.y>ht.y+ht.height||gt.y+gt.height<ht.y)},cloneObject(ht){var gt={};for(var mt in ht)this._isPlainObject(ht[mt])?gt[mt]=this.cloneObject(ht[mt]):this._isArray(ht[mt])?gt[mt]=this.cloneArray(ht[mt]):gt[mt]=ht[mt];return gt},cloneArray(ht){return ht.slice(0)},degToRad(ht){return ht*rt},radToDeg(ht){return ht*at},_degToRad(ht){return o.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),o.Util.degToRad(ht)},_radToDeg(ht){return o.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),o.Util.radToDeg(ht)},_getRotation(ht){return i.Konva.angleDeg?o.Util.radToDeg(ht):ht},_capitalize(ht){return ht.charAt(0).toUpperCase()+ht.slice(1)},throw(ht){throw new Error(nt+ht)},error(ht){console.error(nt+ht)},warn(ht){i.Konva.showWarnings&&console.warn($+ht)},each(ht,gt){for(var mt in ht)gt(mt,ht[mt])},_inRange(ht,gt,mt){return gt<=ht&&ht<mt},_getProjectionToSegment(ht,gt,mt,yt,bt,_t){var xt,Et,Tt,Pt=(ht-mt)*(ht-mt)+(gt-yt)*(gt-yt);if(Pt==0)xt=ht,Et=gt,Tt=(bt-mt)*(bt-mt)+(_t-yt)*(_t-yt);else{var At=((bt-ht)*(mt-ht)+(_t-gt)*(yt-gt))/Pt;At<0?(xt=ht,Et=gt,Tt=(ht-bt)*(ht-bt)+(gt-_t)*(gt-_t)):At>1?(xt=mt,Et=yt,Tt=(mt-bt)*(mt-bt)+(yt-_t)*(yt-_t)):(xt=ht+At*(mt-ht),Et=gt+At*(yt-gt),Tt=(xt-bt)*(xt-bt)+(Et-_t)*(Et-_t))}return[xt,Et,Tt]},_getProjectionToLine(ht,gt,mt){var yt=o.Util.cloneObject(ht),bt=Number.MAX_VALUE;return gt.forEach(function(_t,xt){if(!(!mt&&xt===gt.length-1)){var Et=gt[(xt+1)%gt.length],Tt=o.Util._getProjectionToSegment(_t.x,_t.y,Et.x,Et.y,ht.x,ht.y),Pt=Tt[0],At=Tt[1],Ot=Tt[2];Ot<bt&&(yt.x=Pt,yt.y=At,bt=Ot)}}),yt},_prepareArrayForTween(ht,gt,mt){var yt,bt=[],_t=[];if(ht.length>gt.length){var xt=gt;gt=ht,ht=xt}for(yt=0;yt<ht.length;yt+=2)bt.push({x:ht[yt],y:ht[yt+1]});for(yt=0;yt<gt.length;yt+=2)_t.push({x:gt[yt],y:gt[yt+1]});var Et=[];return _t.forEach(function(Tt){var Pt=o.Util._getProjectionToLine(Tt,bt,mt);Et.push(Pt.x),Et.push(Pt.y)}),Et},_prepareToStringify(ht){var gt;ht.visitedByCircularReferenceRemoval=!0;for(var mt in ht)if(ht.hasOwnProperty(mt)&&ht[mt]&&typeof ht[mt]=="object"){if(gt=Object.getOwnPropertyDescriptor(ht,mt),ht[mt].visitedByCircularReferenceRemoval||o.Util._isElement(ht[mt]))if(gt.configurable)delete ht[mt];else return null;else if(o.Util._prepareToStringify(ht[mt])===null)if(gt.configurable)delete ht[mt];else return null}return delete ht.visitedByCircularReferenceRemoval,ht},_assign(ht,gt){for(var mt in gt)ht[mt]=gt[mt];return ht},_getFirstPointerId(ht){return ht.touches?ht.changedTouches[0].identifier:ht.pointerId||999},releaseCanvas(...ht){i.Konva.releaseCanvasOnDestroy&&ht.forEach(gt=>{gt.width=0,gt.height=0})},drawRoundedRectPath(ht,gt,mt,yt){let bt=0,_t=0,xt=0,Et=0;typeof yt=="number"?bt=_t=xt=Et=Math.min(yt,gt/2,mt/2):(bt=Math.min(yt[0]||0,gt/2,mt/2),_t=Math.min(yt[1]||0,gt/2,mt/2),Et=Math.min(yt[2]||0,gt/2,mt/2),xt=Math.min(yt[3]||0,gt/2,mt/2)),ht.moveTo(bt,0),ht.lineTo(gt-_t,0),ht.arc(gt-_t,_t,_t,Math.PI*3/2,0,!1),ht.lineTo(gt,mt-Et),ht.arc(gt-Et,mt-Et,Et,0,Math.PI/2,!1),ht.lineTo(xt,mt),ht.arc(xt,mt-xt,xt,Math.PI/2,Math.PI,!1),ht.lineTo(0,bt),ht.arc(bt,bt,bt,Math.PI,Math.PI*3/2,!1)}}})(Util);var Node$1={},Factory={},Validators={};Object.defineProperty(Validators,"__esModule",{value:!0});Validators.getComponentValidator=Validators.getBooleanValidator=Validators.getNumberArrayValidator=Validators.getFunctionValidator=Validators.getStringOrGradientValidator=Validators.getStringValidator=Validators.getNumberOrAutoValidator=Validators.getNumberOrArrayOfNumbersValidator=Validators.getNumberValidator=Validators.alphaComponent=Validators.RGBComponent=void 0;const Global_1$p=Global,Util_1$f=Util;function _formatValue(o){return Util_1$f.Util._isString(o)?'"'+o+'"':Object.prototype.toString.call(o)==="[object Number]"||Util_1$f.Util._isBoolean(o)?o:Object.prototype.toString.call(o)}function RGBComponent(o){return o>255?255:o<0?0:Math.round(o)}Validators.RGBComponent=RGBComponent;function alphaComponent(o){return o>1?1:o<1e-4?1e-4:o}Validators.alphaComponent=alphaComponent;function getNumberValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isNumber(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a number.'),o}}Validators.getNumberValidator=getNumberValidator;function getNumberOrArrayOfNumbersValidator(o){if(Global_1$p.Konva.isUnminified)return function(i,a){let s=Util_1$f.Util._isNumber(i),j=Util_1$f.Util._isArray(i)&&i.length==o;return!s&&!j&&Util_1$f.Util.warn(_formatValue(i)+' is a not valid value for "'+a+'" attribute. The value should be a number or Array<number>('+o+")"),i}}Validators.getNumberOrArrayOfNumbersValidator=getNumberOrArrayOfNumbersValidator;function getNumberOrAutoValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){var a=Util_1$f.Util._isNumber(o),s=o==="auto";return a||s||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a number or "auto".'),o}}Validators.getNumberOrAutoValidator=getNumberOrAutoValidator;function getStringValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isString(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a string.'),o}}Validators.getStringValidator=getStringValidator;function getStringOrGradientValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){const a=Util_1$f.Util._isString(o),s=Object.prototype.toString.call(o)==="[object CanvasGradient]"||o&&o.addColorStop;return a||s||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a string or a native gradient.'),o}}Validators.getStringOrGradientValidator=getStringOrGradientValidator;function getFunctionValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){return Util_1$f.Util._isFunction(o)||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a function.'),o}}Validators.getFunctionValidator=getFunctionValidator;function getNumberArrayValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){const a=Int8Array?Object.getPrototypeOf(Int8Array):null;return a&&o instanceof a||(Util_1$f.Util._isArray(o)?o.forEach(function(s){Util_1$f.Util._isNumber(s)||Util_1$f.Util.warn('"'+i+'" attribute has non numeric element '+s+". Make sure that all elements are numbers.")}):Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a array of numbers.')),o}}Validators.getNumberArrayValidator=getNumberArrayValidator;function getBooleanValidator(){if(Global_1$p.Konva.isUnminified)return function(o,i){var a=o===!0||o===!1;return a||Util_1$f.Util.warn(_formatValue(o)+' is a not valid value for "'+i+'" attribute. The value should be a boolean.'),o}}Validators.getBooleanValidator=getBooleanValidator;function getComponentValidator(o){if(Global_1$p.Konva.isUnminified)return function(i,a){return i==null||Util_1$f.Util.isObject(i)||Util_1$f.Util.warn(_formatValue(i)+' is a not valid value for "'+a+'" attribute. The value should be an object with properties '+o),i}}Validators.getComponentValidator=getComponentValidator;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Factory=void 0;const i=Util,a=Validators;var s="get",j="set";o.Factory={addGetterSetter(et,tt,rt,at,ot){o.Factory.addGetter(et,tt,rt),o.Factory.addSetter(et,tt,at,ot),o.Factory.addOverloadedGetterSetter(et,tt)},addGetter(et,tt,rt){var at=s+i.Util._capitalize(tt);et.prototype[at]=et.prototype[at]||function(){var ot=this.attrs[tt];return ot===void 0?rt:ot}},addSetter(et,tt,rt,at){var ot=j+i.Util._capitalize(tt);et.prototype[ot]||o.Factory.overWriteSetter(et,tt,rt,at)},overWriteSetter(et,tt,rt,at){var ot=j+i.Util._capitalize(tt);et.prototype[ot]=function(st){return rt&&st!==void 0&&st!==null&&(st=rt.call(this,st,tt)),this._setAttr(tt,st),at&&at.call(this),this}},addComponentsGetterSetter(et,tt,rt,at,ot){var st=rt.length,_e=i.Util._capitalize,$=s+_e(tt),nt=j+_e(tt),it,lt;et.prototype[$]=function(){var ft={};for(it=0;it<st;it++)lt=rt[it],ft[lt]=this.getAttr(tt+_e(lt));return ft};var dt=(0,a.getComponentValidator)(rt);et.prototype[nt]=function(ft){var pt=this.attrs[tt],ht;at&&(ft=at.call(this,ft)),dt&&dt.call(this,ft,tt);for(ht in ft)ft.hasOwnProperty(ht)&&this._setAttr(tt+_e(ht),ft[ht]);return ft||rt.forEach(gt=>{this._setAttr(tt+_e(gt),void 0)}),this._fireChangeEvent(tt,pt,ft),ot&&ot.call(this),this},o.Factory.addOverloadedGetterSetter(et,tt)},addOverloadedGetterSetter(et,tt){var rt=i.Util._capitalize(tt),at=j+rt,ot=s+rt;et.prototype[tt]=function(){return arguments.length?(this[at](arguments[0]),this):this[ot]()}},addDeprecatedGetterSetter(et,tt,rt,at){i.Util.error("Adding deprecated "+tt);var ot=s+i.Util._capitalize(tt),st=tt+" property is deprecated and will be removed soon. Look at Konva change log for more information.";et.prototype[ot]=function(){i.Util.error(st);var _e=this.attrs[tt];return _e===void 0?rt:_e},o.Factory.addSetter(et,tt,at,function(){i.Util.error(st)}),o.Factory.addOverloadedGetterSetter(et,tt)},backCompat(et,tt){i.Util.each(tt,function(rt,at){var ot=et.prototype[at],st=s+i.Util._capitalize(rt),_e=j+i.Util._capitalize(rt);function $(){ot.apply(this,arguments),i.Util.error('"'+rt+'" method is deprecated and will be removed soon. Use ""'+at+'" instead.')}et.prototype[rt]=$,et.prototype[st]=$,et.prototype[_e]=$})},afterSetFilter(){this._filterUpToDate=!1}}})(Factory);var Canvas$2={},Context$4={};Object.defineProperty(Context$4,"__esModule",{value:!0});Context$4.HitContext=Context$4.SceneContext=Context$4.Context=void 0;const Util_1$e=Util,Global_1$o=Global;function simplifyArray(o){var i=[],a=o.length,s=Util_1$e.Util,j,et;for(j=0;j<a;j++)et=o[j],s._isNumber(et)?et=Math.round(et*1e3)/1e3:s._isString(et)||(et=et+""),i.push(et);return i}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;let Context$3=class{constructor(i){this.canvas=i,Global_1$o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(i){i.fillEnabled()&&this._fill(i)}_fill(i){}strokeShape(i){i.hasStroke()&&this._stroke(i)}_stroke(i){}fillStrokeShape(i){i.attrs.fillAfterStrokeEnabled?(this.strokeShape(i),this.fillShape(i)):(this.fillShape(i),this.strokeShape(i))}getTrace(i,a){var s=this.traceArr,j=s.length,et="",tt,rt,at,ot;for(tt=0;tt<j;tt++)rt=s[tt],at=rt.method,at?(ot=rt.args,et+=at,i?et+=DOUBLE_PAREN:Util_1$e.Util._isArray(ot[0])?et+=OPEN_PAREN_BRACKET+ot.join(COMMA)+CLOSE_BRACKET_PAREN:(a&&(ot=ot.map(st=>typeof st=="number"?Math.floor(st):st)),et+=OPEN_PAREN+ot.join(COMMA)+CLOSE_PAREN)):(et+=rt.property,i||(et+=EQUALS+rt.val)),et+=SEMICOLON;return et}clearTrace(){this.traceArr=[]}_trace(i){var a=this.traceArr,s;a.push(i),s=a.length,s>=traceArrMax&&a.shift()}reset(){var i=this.getCanvas().getPixelRatio();this.setTransform(1*i,0,0,1*i,0,0)}getCanvas(){return this.canvas}clear(i){var a=this.getCanvas();i?this.clearRect(i.x||0,i.y||0,i.width||0,i.height||0):this.clearRect(0,0,a.getWidth()/a.pixelRatio,a.getHeight()/a.pixelRatio)}_applyLineCap(i){const a=i.attrs.lineCap;a&&this.setAttr("lineCap",a)}_applyOpacity(i){var a=i.getAbsoluteOpacity();a!==1&&this.setAttr("globalAlpha",a)}_applyLineJoin(i){const a=i.attrs.lineJoin;a&&this.setAttr("lineJoin",a)}setAttr(i,a){this._context[i]=a}arc(i,a,s,j,et,tt){this._context.arc(i,a,s,j,et,tt)}arcTo(i,a,s,j,et){this._context.arcTo(i,a,s,j,et)}beginPath(){this._context.beginPath()}bezierCurveTo(i,a,s,j,et,tt){this._context.bezierCurveTo(i,a,s,j,et,tt)}clearRect(i,a,s,j){this._context.clearRect(i,a,s,j)}clip(...i){this._context.clip.apply(this._context,i)}closePath(){this._context.closePath()}createImageData(i,a){var s=arguments;if(s.length===2)return this._context.createImageData(i,a);if(s.length===1)return this._context.createImageData(i)}createLinearGradient(i,a,s,j){return this._context.createLinearGradient(i,a,s,j)}createPattern(i,a){return this._context.createPattern(i,a)}createRadialGradient(i,a,s,j,et,tt){return this._context.createRadialGradient(i,a,s,j,et,tt)}drawImage(i,a,s,j,et,tt,rt,at,ot){var st=arguments,_e=this._context;st.length===3?_e.drawImage(i,a,s):st.length===5?_e.drawImage(i,a,s,j,et):st.length===9&&_e.drawImage(i,a,s,j,et,tt,rt,at,ot)}ellipse(i,a,s,j,et,tt,rt,at){this._context.ellipse(i,a,s,j,et,tt,rt,at)}isPointInPath(i,a,s,j){return s?this._context.isPointInPath(s,i,a,j):this._context.isPointInPath(i,a,j)}fill(...i){this._context.fill.apply(this._context,i)}fillRect(i,a,s,j){this._context.fillRect(i,a,s,j)}strokeRect(i,a,s,j){this._context.strokeRect(i,a,s,j)}fillText(i,a,s,j){j?this._context.fillText(i,a,s,j):this._context.fillText(i,a,s)}measureText(i){return this._context.measureText(i)}getImageData(i,a,s,j){return this._context.getImageData(i,a,s,j)}lineTo(i,a){this._context.lineTo(i,a)}moveTo(i,a){this._context.moveTo(i,a)}rect(i,a,s,j){this._context.rect(i,a,s,j)}putImageData(i,a,s){this._context.putImageData(i,a,s)}quadraticCurveTo(i,a,s,j){this._context.quadraticCurveTo(i,a,s,j)}restore(){this._context.restore()}rotate(i){this._context.rotate(i)}save(){this._context.save()}scale(i,a){this._context.scale(i,a)}setLineDash(i){this._context.setLineDash?this._context.setLineDash(i):"mozDash"in this._context?this._context.mozDash=i:"webkitLineDash"in this._context&&(this._context.webkitLineDash=i)}getLineDash(){return this._context.getLineDash()}setTransform(i,a,s,j,et,tt){this._context.setTransform(i,a,s,j,et,tt)}stroke(i){i?this._context.stroke(i):this._context.stroke()}strokeText(i,a,s,j){this._context.strokeText(i,a,s,j)}transform(i,a,s,j,et,tt){this._context.transform(i,a,s,j,et,tt)}translate(i,a){this._context.translate(i,a)}_enableTrace(){var i=this,a=CONTEXT_METHODS.length,s=this.setAttr,j,et,tt=function(rt){var at=i[rt],ot;i[rt]=function(){return et=simplifyArray(Array.prototype.slice.call(arguments,0)),ot=at.apply(i,arguments),i._trace({method:rt,args:et}),ot}};for(j=0;j<a;j++)tt(CONTEXT_METHODS[j]);i.setAttr=function(){s.apply(i,arguments);var rt=arguments[0],at=arguments[1];(rt==="shadowOffsetX"||rt==="shadowOffsetY"||rt==="shadowBlur")&&(at=at/this.canvas.getPixelRatio()),i._trace({property:rt,val:at})}}_applyGlobalCompositeOperation(i){const a=i.attrs.globalCompositeOperation;var s=!a||a==="source-over";s||this.setAttr("globalCompositeOperation",a)}};Context$4.Context=Context$3;CONTEXT_PROPERTIES.forEach(function(o){Object.defineProperty(Context$3.prototype,o,{get(){return this._context[o]},set(i){this._context[o]=i}})});class SceneContext extends Context$3{constructor(i,{willReadFrequently:a=!1}={}){super(i),this._context=i._canvas.getContext("2d",{willReadFrequently:a})}_fillColor(i){var a=i.fill();this.setAttr("fillStyle",a),i._fillFunc(this)}_fillPattern(i){this.setAttr("fillStyle",i._getFillPattern()),i._fillFunc(this)}_fillLinearGradient(i){var a=i._getLinearGradient();a&&(this.setAttr("fillStyle",a),i._fillFunc(this))}_fillRadialGradient(i){const a=i._getRadialGradient();a&&(this.setAttr("fillStyle",a),i._fillFunc(this))}_fill(i){const a=i.fill(),s=i.getFillPriority();if(a&&s==="color"){this._fillColor(i);return}const j=i.getFillPatternImage();if(j&&s==="pattern"){this._fillPattern(i);return}const et=i.getFillLinearGradientColorStops();if(et&&s==="linear-gradient"){this._fillLinearGradient(i);return}const tt=i.getFillRadialGradientColorStops();if(tt&&s==="radial-gradient"){this._fillRadialGradient(i);return}a?this._fillColor(i):j?this._fillPattern(i):et?this._fillLinearGradient(i):tt&&this._fillRadialGradient(i)}_strokeLinearGradient(i){const a=i.getStrokeLinearGradientStartPoint(),s=i.getStrokeLinearGradientEndPoint(),j=i.getStrokeLinearGradientColorStops(),et=this.createLinearGradient(a.x,a.y,s.x,s.y);if(j){for(var tt=0;tt<j.length;tt+=2)et.addColorStop(j[tt],j[tt+1]);this.setAttr("strokeStyle",et)}}_stroke(i){var a=i.dash(),s=i.getStrokeScaleEnabled();if(i.hasStroke()){if(!s){this.save();var j=this.getCanvas().getPixelRatio();this.setTransform(j,0,0,j,0,0)}this._applyLineCap(i),a&&i.dashEnabled()&&(this.setLineDash(a),this.setAttr("lineDashOffset",i.dashOffset())),this.setAttr("lineWidth",i.strokeWidth()),i.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var et=i.getStrokeLinearGradientColorStops();et?this._strokeLinearGradient(i):this.setAttr("strokeStyle",i.stroke()),i._strokeFunc(this),s||this.restore()}}_applyShadow(i){var a,s,j,et=(a=i.getShadowRGBA())!==null&&a!==void 0?a:"black",tt=(s=i.getShadowBlur())!==null&&s!==void 0?s:5,rt=(j=i.getShadowOffset())!==null&&j!==void 0?j:{x:0,y:0},at=i.getAbsoluteScale(),ot=this.canvas.getPixelRatio(),st=at.x*ot,_e=at.y*ot;this.setAttr("shadowColor",et),this.setAttr("shadowBlur",tt*Math.min(Math.abs(st),Math.abs(_e))),this.setAttr("shadowOffsetX",rt.x*st),this.setAttr("shadowOffsetY",rt.y*_e)}}Context$4.SceneContext=SceneContext;class HitContext extends Context$3{constructor(i){super(i),this._context=i._canvas.getContext("2d",{willReadFrequently:!0})}_fill(i){this.save(),this.setAttr("fillStyle",i.colorKey),i._fillFuncHit(this),this.restore()}strokeShape(i){i.hasHitStroke()&&this._stroke(i)}_stroke(i){if(i.hasHitStroke()){const et=i.getStrokeScaleEnabled();if(!et){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(i);var s=i.hitStrokeWidth(),j=s==="auto"?i.strokeWidth():s;this.setAttr("lineWidth",j),this.setAttr("strokeStyle",i.colorKey),i._strokeFuncHit(this),et||this.restore()}}}Context$4.HitContext=HitContext;Object.defineProperty(Canvas$2,"__esModule",{value:!0});Canvas$2.HitCanvas=Canvas$2.SceneCanvas=Canvas$2.Canvas=void 0;const Util_1$d=Util,Context_1=Context$4,Global_1$n=Global,Factory_1$z=Factory,Validators_1$y=Validators;var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var o=Util_1$d.Util.createCanvasElement(),i=o.getContext("2d");return _pixelRatio=function(){var a=Global_1$n.Konva._global.devicePixelRatio||1,s=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return a/s}(),Util_1$d.Util.releaseCanvas(o),_pixelRatio}let Canvas$1=class{constructor(i){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var a=i||{},s=a.pixelRatio||Global_1$n.Konva.pixelRatio||getDevicePixelRatio();this.pixelRatio=s,this._canvas=Util_1$d.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(i){var a=this.pixelRatio;this.pixelRatio=i,this.setSize(this.getWidth()/a,this.getHeight()/a)}setWidth(i){this.width=this._canvas.width=i*this.pixelRatio,this._canvas.style.width=i+"px";var a=this.pixelRatio,s=this.getContext()._context;s.scale(a,a)}setHeight(i){this.height=this._canvas.height=i*this.pixelRatio,this._canvas.style.height=i+"px";var a=this.pixelRatio,s=this.getContext()._context;s.scale(a,a)}getWidth(){return this.width}getHeight(){return this.height}setSize(i,a){this.setWidth(i||0),this.setHeight(a||0)}toDataURL(i,a){try{return this._canvas.toDataURL(i,a)}catch{try{return this._canvas.toDataURL()}catch(j){return Util_1$d.Util.error("Unable to get data URL. "+j.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Canvas$2.Canvas=Canvas$1;Factory_1$z.Factory.addGetterSetter(Canvas$1,"pixelRatio",void 0,(0,Validators_1$y.getNumberValidator)());class SceneCanvas extends Canvas$1{constructor(i={width:0,height:0,willReadFrequently:!1}){super(i),this.context=new Context_1.SceneContext(this,{willReadFrequently:i.willReadFrequently}),this.setSize(i.width,i.height)}}Canvas$2.SceneCanvas=SceneCanvas;class HitCanvas extends Canvas$1{constructor(i={width:0,height:0}){super(i),this.hitCanvas=!0,this.context=new Context_1.HitContext(this),this.setSize(i.width,i.height)}}Canvas$2.HitCanvas=HitCanvas;var DragAndDrop={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.DD=void 0;const i=Global,a=Util;o.DD={get isDragging(){var s=!1;return o.DD._dragElements.forEach(j=>{j.dragStatus==="dragging"&&(s=!0)}),s},justDragged:!1,get node(){var s;return o.DD._dragElements.forEach(j=>{s=j.node}),s},_dragElements:new Map,_drag(s){const j=[];o.DD._dragElements.forEach((et,tt)=>{const{node:rt}=et,at=rt.getStage();at.setPointersPositions(s),et.pointerId===void 0&&(et.pointerId=a.Util._getFirstPointerId(s));const ot=at._changedPointerPositions.find($=>$.id===et.pointerId);if(ot){if(et.dragStatus!=="dragging"){var st=rt.dragDistance(),_e=Math.max(Math.abs(ot.x-et.startPointerPos.x),Math.abs(ot.y-et.startPointerPos.y));if(_e<st||(rt.startDrag({evt:s}),!rt.isDragging()))return}rt._setDragPosition(s,et),j.push(rt)}}),j.forEach(et=>{et.fire("dragmove",{type:"dragmove",target:et,evt:s},!0)})},_endDragBefore(s){const j=[];o.DD._dragElements.forEach(et=>{const{node:tt}=et,rt=tt.getStage();if(s&&rt.setPointersPositions(s),!rt._changedPointerPositions.find(st=>st.id===et.pointerId))return;(et.dragStatus==="dragging"||et.dragStatus==="stopped")&&(o.DD.justDragged=!0,i.Konva._mouseListenClick=!1,i.Konva._touchListenClick=!1,i.Konva._pointerListenClick=!1,et.dragStatus="stopped");const ot=et.node.getLayer()||et.node instanceof i.Konva.Stage&&et.node;ot&&j.indexOf(ot)===-1&&j.push(ot)}),j.forEach(et=>{et.draw()})},_endDragAfter(s){o.DD._dragElements.forEach((j,et)=>{j.dragStatus==="stopped"&&j.node.fire("dragend",{type:"dragend",target:j.node,evt:s},!0),j.dragStatus!=="dragging"&&o.DD._dragElements.delete(et)})}},i.Konva.isBrowser&&(window.addEventListener("mouseup",o.DD._endDragBefore,!0),window.addEventListener("touchend",o.DD._endDragBefore,!0),window.addEventListener("mousemove",o.DD._drag),window.addEventListener("touchmove",o.DD._drag),window.addEventListener("mouseup",o.DD._endDragAfter,!1),window.addEventListener("touchend",o.DD._endDragAfter,!1))})(DragAndDrop);Object.defineProperty(Node$1,"__esModule",{value:!0});Node$1.Node=void 0;const Util_1$c=Util,Factory_1$y=Factory,Canvas_1$1=Canvas$2,Global_1$m=Global,DragAndDrop_1=DragAndDrop,Validators_1$x=Validators;var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER="mouseenter",MOUSELEAVE="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter=1;class Node{constructor(i){this._id=idCounter++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(i),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(i){(i===TRANSFORM||i===ABSOLUTE_TRANSFORM)&&this._cache.get(i)?this._cache.get(i).dirty=!0:i?this._cache.delete(i):this._cache.clear()}_getCache(i,a){var s=this._cache.get(i),j=i===TRANSFORM||i===ABSOLUTE_TRANSFORM,et=s===void 0||j&&s.dirty===!0;return et&&(s=a.call(this),this._cache.set(i,s)),s}_calculate(i,a,s){if(!this._attachedDepsListeners.get(i)){const j=a.map(et=>et+"Change.konva").join(SPACE$1);this.on(j,()=>{this._clearCache(i)}),this._attachedDepsListeners.set(i,!0)}return this._getCache(i,s)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(i){this._clearCache(i),i===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(CANVAS)){const{scene:i,filter:a,hit:s}=this._cache.get(CANVAS);Util_1$c.Util.releaseCanvas(i,a,s),this._cache.delete(CANVAS)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(i){var a=i||{},s={};(a.x===void 0||a.y===void 0||a.width===void 0||a.height===void 0)&&(s=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var j=Math.ceil(a.width||s.width),et=Math.ceil(a.height||s.height),tt=a.pixelRatio,rt=a.x===void 0?Math.floor(s.x):a.x,at=a.y===void 0?Math.floor(s.y):a.y,ot=a.offset||0,st=a.drawBorder||!1,_e=a.hitCanvasPixelRatio||1;if(!j||!et){Util_1$c.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}j+=ot*2+1,et+=ot*2+1,rt-=ot,at-=ot;var $=new Canvas_1$1.SceneCanvas({pixelRatio:tt,width:j,height:et}),nt=new Canvas_1$1.SceneCanvas({pixelRatio:tt,width:0,height:0,willReadFrequently:!0}),it=new Canvas_1$1.HitCanvas({pixelRatio:_e,width:j,height:et}),lt=$.getContext(),dt=it.getContext();return it.isCache=!0,$.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,a.imageSmoothingEnabled===!1&&($.getContext()._context.imageSmoothingEnabled=!1,nt.getContext()._context.imageSmoothingEnabled=!1),lt.save(),dt.save(),lt.translate(-rt,-at),dt.translate(-rt,-at),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene($,this),this.drawHit(it,this),this._isUnderCache=!1,lt.restore(),dt.restore(),st&&(lt.save(),lt.beginPath(),lt.rect(0,0,j,et),lt.closePath(),lt.setAttr("strokeStyle","red"),lt.setAttr("lineWidth",5),lt.stroke(),lt.restore()),this._cache.set(CANVAS,{scene:$,filter:nt,hit:it,x:rt,y:at}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(i){throw new Error('abstract "getClientRect" method call')}_transformedRect(i,a){var s=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],j,et,tt,rt,at=this.getAbsoluteTransform(a);return s.forEach(function(ot){var st=at.point(ot);j===void 0&&(j=tt=st.x,et=rt=st.y),j=Math.min(j,st.x),et=Math.min(et,st.y),tt=Math.max(tt,st.x),rt=Math.max(rt,st.y)}),{x:j,y:et,width:tt-j,height:rt-et}}_drawCachedSceneCanvas(i){i.save(),i._applyOpacity(this),i._applyGlobalCompositeOperation(this);const a=this._getCanvasCache();i.translate(a.x,a.y);var s=this._getCachedSceneCanvas(),j=s.pixelRatio;i.drawImage(s._canvas,0,0,s.width/j,s.height/j),i.restore()}_drawCachedHitCanvas(i){var a=this._getCanvasCache(),s=a.hit;i.save(),i.translate(a.x,a.y),i.drawImage(s._canvas,0,0,s.width/s.pixelRatio,s.height/s.pixelRatio),i.restore()}_getCachedSceneCanvas(){var i=this.filters(),a=this._getCanvasCache(),s=a.scene,j=a.filter,et=j.getContext(),tt,rt,at,ot;if(i){if(!this._filterUpToDate){var st=s.pixelRatio;j.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(tt=i.length,et.clear(),et.drawImage(s._canvas,0,0,s.getWidth()/st,s.getHeight()/st),rt=et.getImageData(0,0,j.getWidth(),j.getHeight()),at=0;at<tt;at++){if(ot=i[at],typeof ot!="function"){Util_1$c.Util.error("Filter should be type of function, but got "+typeof ot+" instead. Please check correct filters");continue}ot.call(this,rt),et.putImageData(rt,0,0)}}catch(_e){Util_1$c.Util.error("Unable to apply filter. "+_e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return j}return s}on(i,a){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var s=i.split(SPACE$1),j=s.length,et,tt,rt,at,ot;for(et=0;et<j;et++)tt=s[et],rt=tt.split("."),at=rt[0],ot=rt[1]||"",this.eventListeners[at]||(this.eventListeners[at]=[]),this.eventListeners[at].push({name:ot,handler:a});return this}off(i,a){var s=(i||"").split(SPACE$1),j=s.length,et,tt,rt,at,ot,st;if(this._cache&&this._cache.delete(ALL_LISTENERS),!i)for(tt in this.eventListeners)this._off(tt);for(et=0;et<j;et++)if(rt=s[et],at=rt.split("."),ot=at[0],st=at[1],ot)this.eventListeners[ot]&&this._off(ot,st,a);else for(tt in this.eventListeners)this._off(tt,st,a);return this}dispatchEvent(i){var a={target:this,type:i.type,evt:i};return this.fire(i.type,a),this}addEventListener(i,a){return this.on(i,function(s){a.call(this,s.evt)}),this}removeEventListener(i){return this.off(i),this}_delegate(i,a,s){var j=this;this.on(i,function(et){for(var tt=et.target.findAncestors(a,!0,j),rt=0;rt<tt.length;rt++)et=Util_1$c.Util.cloneObject(et),et.currentTarget=tt[rt],s.call(tt[rt],et)})}remove(){return this.isDragging()&&this.stopDrag(),DragAndDrop_1.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var i=this.getParent();i&&i.children&&(i.children.splice(this.index,1),i._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(i){var a="get"+Util_1$c.Util._capitalize(i);return Util_1$c.Util._isFunction(this[a])?this[a]():this.attrs[i]}getAncestors(){for(var i=this.getParent(),a=[];i;)a.push(i),i=i.getParent();return a}getAttrs(){return this.attrs||{}}setAttrs(i){return this._batchTransformChanges(()=>{var a,s;if(!i)return this;for(a in i)a!==CHILDREN&&(s=SET+Util_1$c.Util._capitalize(a),Util_1$c.Util._isFunction(this[s])?this[s](i[a]):this._setAttr(a,i[a]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(i){if(!this.listening())return!1;const s=this.getParent();return s&&s!==i&&this!==i?s._isListening(i):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(i){if(!this.visible())return!1;const s=this.getParent();return s&&s!==i&&this!==i?s._isVisible(i):!0}shouldDrawHit(i,a=!1){if(i)return this._isVisible(i)&&this._isListening(i);var s=this.getLayer(),j=!1;DragAndDrop_1.DD._dragElements.forEach(tt=>{tt.dragStatus==="dragging"&&(tt.node.nodeType==="Stage"||tt.node.getLayer()===s)&&(j=!0)});var et=!a&&!Global_1$m.Konva.hitOnDragEnabled&&j;return this.isListening()&&this.isVisible()&&!et}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var i=this.getDepth(),a=this,s=0,j,et,tt,rt;function at(ot){for(j=[],et=ot.length,tt=0;tt<et;tt++)rt=ot[tt],s++,rt.nodeType!==SHAPE&&(j=j.concat(rt.getChildren().slice())),rt._id===a._id&&(tt=et);j.length>0&&j[0].getDepth()<=i&&at(j)}return a.nodeType!==UPPER_STAGE&&at(a.getStage().getChildren()),s}getDepth(){for(var i=0,a=this.parent;a;)i++,a=a.parent;return i}_batchTransformChanges(i){this._batchingTransformChange=!0,i(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(i){return this._batchTransformChanges(()=>{this.x(i.x),this.y(i.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var i=this.getStage().getPointerPosition();if(!i)return null;var a=this.getAbsoluteTransform().copy();return a.invert(),a.point(i)}getAbsolutePosition(i){let a=!1,s=this.parent;for(;s;){if(s.isCached()){a=!0;break}s=s.parent}a&&!i&&(i=!0);var j=this.getAbsoluteTransform(i).getMatrix(),et=new Util_1$c.Transform,tt=this.offset();return et.m=j.slice(),et.translate(tt.x,tt.y),et.getTranslation()}setAbsolutePosition(i){var a=this._clearTransform();this.attrs.x=a.x,this.attrs.y=a.y,delete a.x,delete a.y,this._clearCache(TRANSFORM);var s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(i.x,i.y),i={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(a),this.setPosition({x:i.x,y:i.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(i){var a;for(a in i)this.attrs[a]=i[a]}_clearTransform(){var i={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,i}move(i){var a=i.x,s=i.y,j=this.x(),et=this.y();return a!==void 0&&(j+=a),s!==void 0&&(et+=s),this.setPosition({x:j,y:et}),this}_eachAncestorReverse(i,a){var s=[],j=this.getParent(),et,tt;if(!(a&&a._id===this._id)){for(s.unshift(this);j&&(!a||j._id!==a._id);)s.unshift(j),j=j.parent;for(et=s.length,tt=0;tt<et;tt++)i(s[tt])}}rotate(i){return this.rotation(this.rotation()+i),this}moveToTop(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var i=this.index,a=this.parent.getChildren().length;return i<a-1?(this.parent.children.splice(i,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveUp function is ignored."),!1;var i=this.index,a=this.parent.getChildren().length;return i<a-1?(this.parent.children.splice(i,1),this.parent.children.splice(i+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveDown function is ignored."),!1;var i=this.index;return i>0?(this.parent.children.splice(i,1),this.parent.children.splice(i-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var i=this.index;return i>0?(this.parent.children.splice(i,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(i){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(i<0||i>=this.parent.children.length)&&Util_1$c.Util.warn("Unexpected value "+i+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var a=this.index;return this.parent.children.splice(a,1),this.parent.children.splice(i,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var i=this.opacity(),a=this.getParent();return a&&!a._isUnderCache&&(i*=a.getAbsoluteOpacity()),i}moveTo(i){return this.getParent()!==i&&(this._remove(),i.add(this)),this}toObject(){var i={},a=this.getAttrs(),s,j,et,tt,rt;i.attrs={};for(s in a)j=a[s],rt=Util_1$c.Util.isObject(j)&&!Util_1$c.Util._isPlainObject(j)&&!Util_1$c.Util._isArray(j),!rt&&(et=typeof this[s]=="function"&&this[s],delete a[s],tt=et?et.call(this):null,a[s]=j,tt!==j&&(i.attrs[s]=j));return i.className=this.getClassName(),Util_1$c.Util._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(i,a,s){var j=[];a&&this._isMatch(i)&&j.push(this);for(var et=this.parent;et;){if(et===s)return j;et._isMatch(i)&&j.push(et),et=et.parent}return j}isAncestorOf(i){return!1}findAncestor(i,a,s){return this.findAncestors(i,a,s)[0]}_isMatch(i){if(!i)return!1;if(typeof i=="function")return i(this);var a=i.replace(/ /g,"").split(","),s=a.length,j,et;for(j=0;j<s;j++)if(et=a[j],Util_1$c.Util.isValidSelector(et)||(Util_1$c.Util.warn('Selector "'+et+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util_1$c.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util_1$c.Util.warn("Konva is awesome, right?")),et.charAt(0)==="#"){if(this.id()===et.slice(1))return!0}else if(et.charAt(0)==="."){if(this.hasName(et.slice(1)))return!0}else if(this.className===et||this.nodeType===et)return!0;return!1}getLayer(){var i=this.getParent();return i?i.getLayer():null}getStage(){return this._getCache(STAGE,this._getStage)}_getStage(){var i=this.getParent();if(i)return i.getStage()}fire(i,a={},s){return a.target=a.target||this,s?this._fireAndBubble(i,a):this._fire(i,a),this}getAbsoluteTransform(i){return i?this._getAbsoluteTransform(i):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(i){var a;if(i)return a=new Util_1$c.Transform,this._eachAncestorReverse(function(j){var et=j.transformsEnabled();et==="all"?a.multiply(j.getTransform()):et==="position"&&a.translate(j.x()-j.offsetX(),j.y()-j.offsetY())},i),a;a=this._cache.get(ABSOLUTE_TRANSFORM)||new Util_1$c.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(a):a.reset();var s=this.transformsEnabled();if(s==="all")a.multiply(this.getTransform());else if(s==="position"){const j=this.attrs.x||0,et=this.attrs.y||0,tt=this.attrs.offsetX||0,rt=this.attrs.offsetY||0;a.translate(j-tt,et-rt)}return a.dirty=!1,a}getAbsoluteScale(i){for(var a=this;a;)a._isUnderCache&&(i=a),a=a.getParent();const j=this.getAbsoluteTransform(i).decompose();return{x:j.scaleX,y:j.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var i,a,s=this._cache.get(TRANSFORM)||new Util_1$c.Transform;s.reset();var j=this.x(),et=this.y(),tt=Global_1$m.Konva.getAngle(this.rotation()),rt=(i=this.attrs.scaleX)!==null&&i!==void 0?i:1,at=(a=this.attrs.scaleY)!==null&&a!==void 0?a:1,ot=this.attrs.skewX||0,st=this.attrs.skewY||0,_e=this.attrs.offsetX||0,$=this.attrs.offsetY||0;return(j!==0||et!==0)&&s.translate(j,et),tt!==0&&s.rotate(tt),(ot!==0||st!==0)&&s.skew(ot,st),(rt!==1||at!==1)&&s.scale(rt,at),(_e!==0||$!==0)&&s.translate(-1*_e,-1*$),s.dirty=!1,s}clone(i){var a=Util_1$c.Util.cloneObject(this.attrs),s,j,et,tt,rt;for(s in i)a[s]=i[s];var at=new this.constructor(a);for(s in this.eventListeners)for(j=this.eventListeners[s],et=j.length,tt=0;tt<et;tt++)rt=j[tt],rt.name.indexOf(KONVA)<0&&(at.eventListeners[s]||(at.eventListeners[s]=[]),at.eventListeners[s].push(rt));return at}_toKonvaCanvas(i){i=i||{};var a=this.getClientRect(),s=this.getStage(),j=i.x!==void 0?i.x:Math.floor(a.x),et=i.y!==void 0?i.y:Math.floor(a.y),tt=i.pixelRatio||1,rt=new Canvas_1$1.SceneCanvas({width:i.width||Math.ceil(a.width)||(s?s.width():0),height:i.height||Math.ceil(a.height)||(s?s.height():0),pixelRatio:tt}),at=rt.getContext();return i.imageSmoothingEnabled===!1&&(at._context.imageSmoothingEnabled=!1),at.save(),(j||et)&&at.translate(-1*j,-1*et),this.drawScene(rt),at.restore(),rt}toCanvas(i){return this._toKonvaCanvas(i)._canvas}toDataURL(i){i=i||{};var a=i.mimeType||null,s=i.quality||null,j=this._toKonvaCanvas(i).toDataURL(a,s);return i.callback&&i.callback(j),j}toImage(i){return new Promise((a,s)=>{try{const j=i==null?void 0:i.callback;j&&delete i.callback,Util_1$c.Util._urlToImage(this.toDataURL(i),function(et){a(et),j==null||j(et)})}catch(j){s(j)}})}toBlob(i){return new Promise((a,s)=>{try{const j=i==null?void 0:i.callback;j&&delete i.callback,this.toCanvas(i).toBlob(et=>{a(et),j==null||j(et)})}catch(j){s(j)}})}setSize(i){return this.width(i.width),this.height(i.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Global_1$m.Konva.dragDistance}_off(i,a,s){var j=this.eventListeners[i],et,tt,rt;for(et=0;et<j.length;et++)if(tt=j[et].name,rt=j[et].handler,(tt!=="konva"||a==="konva")&&(!a||tt===a)&&(!s||s===rt)){if(j.splice(et,1),j.length===0){delete this.eventListeners[i];break}et--}}_fireChangeEvent(i,a,s){this._fire(i+CHANGE,{oldVal:a,newVal:s})}addName(i){if(!this.hasName(i)){var a=this.name(),s=a?a+" "+i:i;this.name(s)}return this}hasName(i){if(!i)return!1;const a=this.name();if(!a)return!1;var s=(a||"").split(/\s/g);return s.indexOf(i)!==-1}removeName(i){var a=(this.name()||"").split(/\s/g),s=a.indexOf(i);return s!==-1&&(a.splice(s,1),this.name(a.join(" "))),this}setAttr(i,a){var s=this[SET+Util_1$c.Util._capitalize(i)];return Util_1$c.Util._isFunction(s)?s.call(this,a):this._setAttr(i,a),this}_requestDraw(){if(Global_1$m.Konva.autoDrawEnabled){const i=this.getLayer()||this.getStage();i==null||i.batchDraw()}}_setAttr(i,a){var s=this.attrs[i];s===a&&!Util_1$c.Util.isObject(a)||(a==null?delete this.attrs[i]:this.attrs[i]=a,this._shouldFireChangeEvents&&this._fireChangeEvent(i,s,a),this._requestDraw())}_setComponentAttr(i,a,s){var j;s!==void 0&&(j=this.attrs[i],j||(this.attrs[i]=this.getAttr(i)),this.attrs[i][a]=s,this._fireChangeEvent(i,j,s))}_fireAndBubble(i,a,s){a&&this.nodeType===SHAPE&&(a.target=this);var j=(i===MOUSEENTER||i===MOUSELEAVE)&&(s&&(this===s||this.isAncestorOf&&this.isAncestorOf(s))||this.nodeType==="Stage"&&!s);if(!j){this._fire(i,a);var et=(i===MOUSEENTER||i===MOUSELEAVE)&&s&&s.isAncestorOf&&s.isAncestorOf(this)&&!s.isAncestorOf(this.parent);(a&&!a.cancelBubble||!a)&&this.parent&&this.parent.isListening()&&!et&&(s&&s.parent?this._fireAndBubble.call(this.parent,i,a,s):this._fireAndBubble.call(this.parent,i,a))}}_getProtoListeners(i){var a,s,j;const et=(a=this._cache.get(ALL_LISTENERS))!==null&&a!==void 0?a:{};let tt=et==null?void 0:et[i];if(tt===void 0){tt=[];let rt=Object.getPrototypeOf(this);for(;rt;){const at=(j=(s=rt.eventListeners)===null||s===void 0?void 0:s[i])!==null&&j!==void 0?j:[];tt.push(...at),rt=Object.getPrototypeOf(rt)}et[i]=tt,this._cache.set(ALL_LISTENERS,et)}return tt}_fire(i,a){a=a||{},a.currentTarget=this,a.type=i;const s=this._getProtoListeners(i);if(s)for(var j=0;j<s.length;j++)s[j].handler.call(this,a);const et=this.eventListeners[i];if(et)for(var j=0;j<et.length;j++)et[j].handler.call(this,a)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(i){var a=i?i.pointerId:void 0,s=this.getStage(),j=this.getAbsolutePosition(),et=s._getPointerById(a)||s._changedPointerPositions[0]||j;DragAndDrop_1.DD._dragElements.set(this._id,{node:this,startPointerPos:et,offset:{x:et.x-j.x,y:et.y-j.y},dragStatus:"ready",pointerId:a})}startDrag(i,a=!0){DragAndDrop_1.DD._dragElements.has(this._id)||this._createDragElement(i);const s=DragAndDrop_1.DD._dragElements.get(this._id);s.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:i&&i.evt},a)}_setDragPosition(i,a){const s=this.getStage()._getPointerById(a.pointerId);if(s){var j={x:s.x-a.offset.x,y:s.y-a.offset.y},et=this.dragBoundFunc();if(et!==void 0){const tt=et.call(this,j,i);tt?j=tt:Util_1$c.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==j.x||this._lastPos.y!==j.y)&&(this.setAbsolutePosition(j),this._requestDraw()),this._lastPos=j}}stopDrag(i){const a=DragAndDrop_1.DD._dragElements.get(this._id);a&&(a.dragStatus="stopped"),DragAndDrop_1.DD._endDragBefore(i),DragAndDrop_1.DD._endDragAfter(i)}setDraggable(i){this._setAttr("draggable",i),this._dragChange()}isDragging(){const i=DragAndDrop_1.DD._dragElements.get(this._id);return i?i.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(i){var a=i.evt.button!==void 0,s=!a||Global_1$m.Konva.dragButtons.indexOf(i.evt.button)>=0;if(s&&!this.isDragging()){var j=!1;DragAndDrop_1.DD._dragElements.forEach(et=>{this.isAncestorOf(et.node)&&(j=!0)}),j||this._createDragElement(i)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var i=this.getStage();if(!i)return;const a=DragAndDrop_1.DD._dragElements.get(this._id),s=a&&a.dragStatus==="dragging",j=a&&a.dragStatus==="ready";s?this.stopDrag():j&&DragAndDrop_1.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(i={x:0,y:0}){const a=this.getStage();if(!a)return!1;const s={x:-i.x,y:-i.y,width:a.width()+2*i.x,height:a.height()+2*i.y};return Util_1$c.Util.haveIntersection(s,this.getClientRect())}static create(i,a){return Util_1$c.Util._isString(i)&&(i=JSON.parse(i)),this._createNode(i,a)}static _createNode(i,a){var s=Node.prototype.getClassName.call(i),j=i.children,et,tt,rt;a&&(i.attrs.container=a),Global_1$m.Konva[s]||(Util_1$c.Util.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape");const at=Global_1$m.Konva[s];if(et=new at(i.attrs),j)for(tt=j.length,rt=0;rt<tt;rt++)et.add(Node._createNode(j[rt]));return et}}Node$1.Node=Node;Node.prototype.nodeType="Node";Node.prototype._attrsAffectingSize=[];Node.prototype.eventListeners={};Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node.prototype.on.call(Node.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node.prototype.on.call(Node.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node.prototype.on.call(Node.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory_1$y.Factory.addGetterSetter;addGetterSetter(Node,"zIndex");addGetterSetter(Node,"absolutePosition");addGetterSetter(Node,"position");addGetterSetter(Node,"x",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"y",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"globalCompositeOperation","source-over",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"opacity",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"name","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"id","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"rotation",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"scale",["x","y"]);addGetterSetter(Node,"scaleX",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"scaleY",1,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"skew",["x","y"]);addGetterSetter(Node,"skewX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"skewY",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node,"offset",["x","y"]);addGetterSetter(Node,"offsetX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"offsetY",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"dragDistance",null,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"width",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"height",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node,"listening",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"preventDefault",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"filters",null,function(o){return this._filterUpToDate=!1,o});addGetterSetter(Node,"visible",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node,"transformsEnabled","all",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node,"size");addGetterSetter(Node,"dragBoundFunc");addGetterSetter(Node,"draggable",!1,(0,Validators_1$x.getBooleanValidator)());Factory_1$y.Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Container$1={};Object.defineProperty(Container$1,"__esModule",{value:!0});Container$1.Container=void 0;const Factory_1$x=Factory,Node_1$h=Node$1,Validators_1$w=Validators;class Container extends Node_1$h.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const a=this.children||[];var s=[];return a.forEach(function(j){i(j)&&s.push(j)}),s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(var a=0;a<i.length;a++)this.add(i[a]);return this}const s=i[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){var a=this._generalFind(i,!0);return a.length>0?a[0]:void 0}_generalFind(i,a){var s=[];return this._descendants(j=>{const et=j._isMatch(i);return et&&s.push(j),!!(et&&a)}),s}_descendants(i){let a=!1;const s=this.getChildren();for(const j of s){if(a=i(j),a)return!0;if(j.hasChildren()&&(a=j._descendants(i),a))return!0}return!1}toObject(){var i=Node_1$h.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(a=>{i.children.push(a.toObject())}),i}isAncestorOf(i){for(var a=i.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(i){var a=Node_1$h.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(s){a.add(s.clone())}),a}getAllIntersections(i){var a=[];return this.find("Shape").forEach(function(s){s.isVisible()&&s.intersects(i)&&a.push(s)}),a}_clearSelfAndDescendantCache(i){var a;super._clearSelfAndDescendantCache(i),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(s){s._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(a,s){a.index=s}),this._requestDraw()}drawScene(i,a){var s=this.getLayer(),j=i||s&&s.getCanvas(),et=j&&j.getContext(),tt=this._getCanvasCache(),rt=tt&&tt.scene,at=j&&j.isCache;if(!this.isVisible()&&!at)return this;if(rt){et.save();var ot=this.getAbsoluteTransform(a).getMatrix();et.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),this._drawCachedSceneCanvas(et),et.restore()}else this._drawChildren("drawScene",j,a);return this}drawHit(i,a){if(!this.shouldDrawHit(a))return this;var s=this.getLayer(),j=i||s&&s.hitCanvas,et=j&&j.getContext(),tt=this._getCanvasCache(),rt=tt&&tt.hit;if(rt){et.save();var at=this.getAbsoluteTransform(a).getMatrix();et.transform(at[0],at[1],at[2],at[3],at[4],at[5]),this._drawCachedHitCanvas(et),et.restore()}else this._drawChildren("drawHit",j,a);return this}_drawChildren(i,a,s){var j,et=a&&a.getContext(),tt=this.clipWidth(),rt=this.clipHeight(),at=this.clipFunc(),ot=tt&&rt||at;const st=s===this;if(ot){et.save();var _e=this.getAbsoluteTransform(s),$=_e.getMatrix();et.transform($[0],$[1],$[2],$[3],$[4],$[5]),et.beginPath();let dt;if(at)dt=at.call(this,et,this);else{var nt=this.clipX(),it=this.clipY();et.rect(nt,it,tt,rt)}et.clip.apply(et,dt),$=_e.copy().invert().getMatrix(),et.transform($[0],$[1],$[2],$[3],$[4],$[5])}var lt=!st&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";lt&&(et.save(),et._applyGlobalCompositeOperation(this)),(j=this.children)===null||j===void 0||j.forEach(function(dt){dt[i](a,s)}),lt&&et.restore(),ot&&et.restore()}getClientRect(i){var a;i=i||{};var s=i.skipTransform,j=i.relativeTo,et,tt,rt,at,ot={x:1/0,y:1/0,width:0,height:0},st=this;(a=this.children)===null||a===void 0||a.forEach(function(lt){if(lt.visible()){var dt=lt.getClientRect({relativeTo:st,skipShadow:i.skipShadow,skipStroke:i.skipStroke});dt.width===0&&dt.height===0||(et===void 0?(et=dt.x,tt=dt.y,rt=dt.x+dt.width,at=dt.y+dt.height):(et=Math.min(et,dt.x),tt=Math.min(tt,dt.y),rt=Math.max(rt,dt.x+dt.width),at=Math.max(at,dt.y+dt.height)))}});for(var _e=this.find("Shape"),$=!1,nt=0;nt<_e.length;nt++){var it=_e[nt];if(it._isVisible(this)){$=!0;break}}return $&&et!==void 0?ot={x:et,y:tt,width:rt-et,height:at-tt}:ot={x:0,y:0,width:0,height:0},s?ot:this._transformedRect(ot,j)}}Container$1.Container=Container;Factory_1$x.Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory_1$x.Factory.addGetterSetter(Container,"clipX",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipY",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipWidth",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipHeight",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipFunc");var Stage$2={},PointerEvents={};Object.defineProperty(PointerEvents,"__esModule",{value:!0});PointerEvents.releaseCapture=PointerEvents.setPointerCapture=PointerEvents.hasPointerCapture=PointerEvents.createEvent=PointerEvents.getCapturedShape=void 0;const Global_1$l=Global,Captures=new Map,SUPPORT_POINTER_EVENTS=Global_1$l.Konva._global.PointerEvent!==void 0;function getCapturedShape(o){return Captures.get(o)}PointerEvents.getCapturedShape=getCapturedShape;function createEvent(o){return{evt:o,pointerId:o.pointerId}}PointerEvents.createEvent=createEvent;function hasPointerCapture(o,i){return Captures.get(o)===i}PointerEvents.hasPointerCapture=hasPointerCapture;function setPointerCapture(o,i){releaseCapture(o),i.getStage()&&(Captures.set(o,i),SUPPORT_POINTER_EVENTS&&i._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}PointerEvents.setPointerCapture=setPointerCapture;function releaseCapture(o,i){const a=Captures.get(o);if(!a)return;const s=a.getStage();s&&s.content,Captures.delete(o),SUPPORT_POINTER_EVENTS&&a._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}PointerEvents.releaseCapture=releaseCapture;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Stage=o.stages=void 0;const i=Util,a=Factory,s=Container$1,j=Global,et=Canvas$2,tt=DragAndDrop,rt=Global,at=PointerEvents;var ot="Stage",st="string",_e="px",$="mouseout",nt="mouseleave",it="mouseover",lt="mouseenter",dt="mousemove",ft="mousedown",pt="mouseup",ht="pointermove",gt="pointerdown",mt="pointerup",yt="pointercancel",bt="lostpointercapture",_t="pointerout",xt="pointerleave",Et="pointerover",Tt="pointerenter",Pt="contextmenu",At="touchstart",Ot="touchend",It="touchmove",$t="touchcancel",kt="wheel",Ft=5,Ut=[[lt,"_pointerenter"],[ft,"_pointerdown"],[dt,"_pointermove"],[pt,"_pointerup"],[nt,"_pointerleave"],[At,"_pointerdown"],[It,"_pointermove"],[Ot,"_pointerup"],[$t,"_pointercancel"],[it,"_pointerover"],[kt,"_wheel"],[Pt,"_contextmenu"],[gt,"_pointerdown"],[ht,"_pointermove"],[mt,"_pointerup"],[yt,"_pointercancel"],[bt,"_lostpointercapture"]];const zt={mouse:{[_t]:$,[xt]:nt,[Et]:it,[Tt]:lt,[ht]:dt,[gt]:ft,[mt]:pt,[yt]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[_t]:"touchout",[xt]:"touchleave",[Et]:"touchover",[Tt]:"touchenter",[ht]:It,[gt]:At,[mt]:Ot,[yt]:$t,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[_t]:_t,[xt]:xt,[Et]:Et,[Tt]:Tt,[ht]:ht,[gt]:gt,[mt]:mt,[yt]:yt,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Wt=fn=>fn.indexOf("pointer")>=0?"pointer":fn.indexOf("touch")>=0?"touch":"mouse",Qt=fn=>{const jt=Wt(fn);if(jt==="pointer")return j.Konva.pointerEventsEnabled&&zt.pointer;if(jt==="touch")return zt.touch;if(jt==="mouse")return zt.mouse};function un(fn={}){return(fn.clipFunc||fn.clipWidth||fn.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),fn}const an="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";o.stages=[];class vn extends s.Container{constructor(jt){super(un(jt)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),o.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{un(this.attrs)}),this._checkVisibility()}_validateAdd(jt){const en=jt.getType()==="Layer",on=jt.getType()==="FastLayer";en||on||i.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const jt=this.visible()?"":"none";this.content.style.display=jt}setContainer(jt){if(typeof jt===st){if(jt.charAt(0)==="."){var en=jt.slice(1);jt=document.getElementsByClassName(en)[0]}else{var on;jt.charAt(0)!=="#"?on=jt:on=jt.slice(1),jt=document.getElementById(on)}if(!jt)throw"Can not find container in document with id "+on}return this._setAttr("container",jt),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),jt.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var jt=this.children,en=jt.length,on;for(on=0;on<en;on++)jt[on].clear();return this}clone(jt){return jt||(jt={}),jt.container=typeof document<"u"&&document.createElement("div"),s.Container.prototype.clone.call(this,jt)}destroy(){super.destroy();var jt=this.content;jt&&i.Util._isInDocument(jt)&&this.container().removeChild(jt);var en=o.stages.indexOf(this);return en>-1&&o.stages.splice(en,1),i.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const jt=this._pointerPositions[0]||this._changedPointerPositions[0];return jt?{x:jt.x,y:jt.y}:(i.Util.warn(an),null)}_getPointerById(jt){return this._pointerPositions.find(en=>en.id===jt)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(jt){jt=jt||{},jt.x=jt.x||0,jt.y=jt.y||0,jt.width=jt.width||this.width(),jt.height=jt.height||this.height();var en=new et.SceneCanvas({width:jt.width,height:jt.height,pixelRatio:jt.pixelRatio||1}),on=en.getContext()._context,wn=this.children;return(jt.x||jt.y)&&on.translate(-1*jt.x,-1*jt.y),wn.forEach(function(cn){if(cn.isVisible()){var An=cn._toKonvaCanvas(jt);on.drawImage(An._canvas,jt.x,jt.y,An.getWidth()/An.getPixelRatio(),An.getHeight()/An.getPixelRatio())}}),en}getIntersection(jt){if(!jt)return null;var en=this.children,on=en.length,wn=on-1,cn;for(cn=wn;cn>=0;cn--){const An=en[cn].getIntersection(jt);if(An)return An}return null}_resizeDOM(){var jt=this.width(),en=this.height();this.content&&(this.content.style.width=jt+_e,this.content.style.height=en+_e),this.bufferCanvas.setSize(jt,en),this.bufferHitCanvas.setSize(jt,en),this.children.forEach(on=>{on.setSize({width:jt,height:en}),on.draw()})}add(jt,...en){if(arguments.length>1){for(var on=0;on<arguments.length;on++)this.add(arguments[on]);return this}super.add(jt);var wn=this.children.length;return wn>Ft&&i.Util.warn("The stage has "+wn+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),jt.setSize({width:this.width(),height:this.height()}),jt.draw(),j.Konva.isBrowser&&this.content.appendChild(jt.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(jt){return at.hasPointerCapture(jt,this)}setPointerCapture(jt){at.setPointerCapture(jt,this)}releaseCapture(jt){at.releaseCapture(jt,this)}getLayers(){return this.children}_bindContentEvents(){j.Konva.isBrowser&&Ut.forEach(([jt,en])=>{this.content.addEventListener(jt,on=>{this[en](on)},{passive:!1})})}_pointerenter(jt){this.setPointersPositions(jt);const en=Qt(jt.type);this._fire(en.pointerenter,{evt:jt,target:this,currentTarget:this})}_pointerover(jt){this.setPointersPositions(jt);const en=Qt(jt.type);this._fire(en.pointerover,{evt:jt,target:this,currentTarget:this})}_getTargetShape(jt){let en=this[jt+"targetShape"];return en&&!en.getStage()&&(en=null),en}_pointerleave(jt){const en=Qt(jt.type),on=Wt(jt.type);if(en){this.setPointersPositions(jt);var wn=this._getTargetShape(on),cn=!tt.DD.isDragging||j.Konva.hitOnDragEnabled;wn&&cn?(wn._fireAndBubble(en.pointerout,{evt:jt}),wn._fireAndBubble(en.pointerleave,{evt:jt}),this._fire(en.pointerleave,{evt:jt,target:this,currentTarget:this}),this[on+"targetShape"]=null):cn&&(this._fire(en.pointerleave,{evt:jt,target:this,currentTarget:this}),this._fire(en.pointerout,{evt:jt,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(jt){const en=Qt(jt.type),on=Wt(jt.type);if(en){this.setPointersPositions(jt);var wn=!1;this._changedPointerPositions.forEach(cn=>{var An=this.getIntersection(cn);if(tt.DD.justDragged=!1,j.Konva["_"+on+"ListenClick"]=!0,!(An&&An.isListening()))return;j.Konva.capturePointerEventsEnabled&&An.setPointerCapture(cn.id),this[on+"ClickStartShape"]=An,An._fireAndBubble(en.pointerdown,{evt:jt,pointerId:cn.id}),wn=!0;const Vn=jt.type.indexOf("touch")>=0;An.preventDefault()&&jt.cancelable&&Vn&&jt.preventDefault()}),wn||this._fire(en.pointerdown,{evt:jt,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(jt){const en=Qt(jt.type),on=Wt(jt.type);if(!en)return;tt.DD.isDragging&&tt.DD.node.preventDefault()&&jt.cancelable&&jt.preventDefault(),this.setPointersPositions(jt);var wn=!tt.DD.isDragging||j.Konva.hitOnDragEnabled;if(!wn)return;var cn={};let An=!1;var bn=this._getTargetShape(on);this._changedPointerPositions.forEach(Vn=>{const xn=at.getCapturedShape(Vn.id)||this.getIntersection(Vn),Jn=Vn.id,Ln={evt:jt,pointerId:Jn};var Hn=bn!==xn;if(Hn&&bn&&(bn._fireAndBubble(en.pointerout,Object.assign({},Ln),xn),bn._fireAndBubble(en.pointerleave,Object.assign({},Ln),xn)),xn){if(cn[xn._id])return;cn[xn._id]=!0}xn&&xn.isListening()?(An=!0,Hn&&(xn._fireAndBubble(en.pointerover,Object.assign({},Ln),bn),xn._fireAndBubble(en.pointerenter,Object.assign({},Ln),bn),this[on+"targetShape"]=xn),xn._fireAndBubble(en.pointermove,Object.assign({},Ln))):bn&&(this._fire(en.pointerover,{evt:jt,target:this,currentTarget:this,pointerId:Jn}),this[on+"targetShape"]=null)}),An||this._fire(en.pointermove,{evt:jt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(jt){const en=Qt(jt.type),on=Wt(jt.type);if(!en)return;this.setPointersPositions(jt);const wn=this[on+"ClickStartShape"],cn=this[on+"ClickEndShape"];var An={};let bn=!1;this._changedPointerPositions.forEach(Vn=>{const xn=at.getCapturedShape(Vn.id)||this.getIntersection(Vn);if(xn){if(xn.releaseCapture(Vn.id),An[xn._id])return;An[xn._id]=!0}const Jn=Vn.id,Ln={evt:jt,pointerId:Jn};let Hn=!1;j.Konva["_"+on+"InDblClickWindow"]?(Hn=!0,clearTimeout(this[on+"DblTimeout"])):tt.DD.justDragged||(j.Konva["_"+on+"InDblClickWindow"]=!0,clearTimeout(this[on+"DblTimeout"])),this[on+"DblTimeout"]=setTimeout(function(){j.Konva["_"+on+"InDblClickWindow"]=!1},j.Konva.dblClickWindow),xn&&xn.isListening()?(bn=!0,this[on+"ClickEndShape"]=xn,xn._fireAndBubble(en.pointerup,Object.assign({},Ln)),j.Konva["_"+on+"ListenClick"]&&wn&&wn===xn&&(xn._fireAndBubble(en.pointerclick,Object.assign({},Ln)),Hn&&cn&&cn===xn&&xn._fireAndBubble(en.pointerdblclick,Object.assign({},Ln)))):(this[on+"ClickEndShape"]=null,j.Konva["_"+on+"ListenClick"]&&this._fire(en.pointerclick,{evt:jt,target:this,currentTarget:this,pointerId:Jn}),Hn&&this._fire(en.pointerdblclick,{evt:jt,target:this,currentTarget:this,pointerId:Jn}))}),bn||this._fire(en.pointerup,{evt:jt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),j.Konva["_"+on+"ListenClick"]=!1,jt.cancelable&&on!=="touch"&&jt.preventDefault()}_contextmenu(jt){this.setPointersPositions(jt);var en=this.getIntersection(this.getPointerPosition());en&&en.isListening()?en._fireAndBubble(Pt,{evt:jt}):this._fire(Pt,{evt:jt,target:this,currentTarget:this})}_wheel(jt){this.setPointersPositions(jt);var en=this.getIntersection(this.getPointerPosition());en&&en.isListening()?en._fireAndBubble(kt,{evt:jt}):this._fire(kt,{evt:jt,target:this,currentTarget:this})}_pointercancel(jt){this.setPointersPositions(jt);const en=at.getCapturedShape(jt.pointerId)||this.getIntersection(this.getPointerPosition());en&&en._fireAndBubble(mt,at.createEvent(jt)),at.releaseCapture(jt.pointerId)}_lostpointercapture(jt){at.releaseCapture(jt.pointerId)}setPointersPositions(jt){var en=this._getContentPosition(),on=null,wn=null;jt=jt||window.event,jt.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(jt.touches,cn=>{this._pointerPositions.push({id:cn.identifier,x:(cn.clientX-en.left)/en.scaleX,y:(cn.clientY-en.top)/en.scaleY})}),Array.prototype.forEach.call(jt.changedTouches||jt.touches,cn=>{this._changedPointerPositions.push({id:cn.identifier,x:(cn.clientX-en.left)/en.scaleX,y:(cn.clientY-en.top)/en.scaleY})})):(on=(jt.clientX-en.left)/en.scaleX,wn=(jt.clientY-en.top)/en.scaleY,this.pointerPos={x:on,y:wn},this._pointerPositions=[{x:on,y:wn,id:i.Util._getFirstPointerId(jt)}],this._changedPointerPositions=[{x:on,y:wn,id:i.Util._getFirstPointerId(jt)}])}_setPointerPosition(jt){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(jt)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var jt=this.content.getBoundingClientRect();return{top:jt.top,left:jt.left,scaleX:jt.width/this.content.clientWidth||1,scaleY:jt.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new et.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new et.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!j.Konva.isBrowser){var jt=this.container();if(!jt)throw"Stage has no container. A container is required.";jt.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),jt.appendChild(this.content),this._resizeDOM()}}cache(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(jt){jt.batchDraw()}),this}}o.Stage=vn,vn.prototype.nodeType=ot,(0,rt._registerNode)(vn),a.Factory.addGetterSetter(vn,"container")})(Stage$2);var Layer$2={},Shape={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Shape=o.shapes=void 0;const i=Global,a=Util,s=Factory,j=Node$1,et=Validators,tt=Global,rt=PointerEvents;var at="hasShadow",ot="shadowRGBA",st="patternImage",_e="linearGradient",$="radialGradient";let nt;function it(){return nt||(nt=a.Util.createCanvasElement().getContext("2d"),nt)}o.shapes={};function lt(xt){const Et=this.attrs.fillRule;Et?xt.fill(Et):xt.fill()}function dt(xt){xt.stroke()}function ft(xt){xt.fill()}function pt(xt){xt.stroke()}function ht(){this._clearCache(at)}function gt(){this._clearCache(ot)}function mt(){this._clearCache(st)}function yt(){this._clearCache(_e)}function bt(){this._clearCache($)}class _t extends j.Node{constructor(Et){super(Et);let Tt;for(;Tt=a.Util.getRandomColor(),!(Tt&&!(Tt in o.shapes)););this.colorKey=Tt,o.shapes[Tt]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(at,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(st,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var Et=it();const Tt=Et.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Tt&&Tt.setTransform){const Pt=new a.Transform;Pt.translate(this.fillPatternX(),this.fillPatternY()),Pt.rotate(i.Konva.getAngle(this.fillPatternRotation())),Pt.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Pt.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const At=Pt.getMatrix(),Ot=typeof DOMMatrix>"u"?{a:At[0],b:At[1],c:At[2],d:At[3],e:At[4],f:At[5]}:new DOMMatrix(At);Tt.setTransform(Ot)}return Tt}}_getLinearGradient(){return this._getCache(_e,this.__getLinearGradient)}__getLinearGradient(){var Et=this.fillLinearGradientColorStops();if(Et){for(var Tt=it(),Pt=this.fillLinearGradientStartPoint(),At=this.fillLinearGradientEndPoint(),Ot=Tt.createLinearGradient(Pt.x,Pt.y,At.x,At.y),It=0;It<Et.length;It+=2)Ot.addColorStop(Et[It],Et[It+1]);return Ot}}_getRadialGradient(){return this._getCache($,this.__getRadialGradient)}__getRadialGradient(){var Et=this.fillRadialGradientColorStops();if(Et){for(var Tt=it(),Pt=this.fillRadialGradientStartPoint(),At=this.fillRadialGradientEndPoint(),Ot=Tt.createRadialGradient(Pt.x,Pt.y,this.fillRadialGradientStartRadius(),At.x,At.y,this.fillRadialGradientEndRadius()),It=0;It<Et.length;It+=2)Ot.addColorStop(Et[It],Et[It+1]);return Ot}}getShadowRGBA(){return this._getCache(ot,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var Et=a.Util.colorToRGBA(this.shadowColor());if(Et)return"rgba("+Et.r+","+Et.g+","+Et.b+","+Et.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const Et=this.hitStrokeWidth();return Et==="auto"?this.hasStroke():this.strokeEnabled()&&!!Et}intersects(Et){var Tt=this.getStage(),Pt=Tt.bufferHitCanvas,At;return Pt.getContext().clear(),this.drawHit(Pt,null,!0),At=Pt.context.getImageData(Math.round(Et.x),Math.round(Et.y),1,1).data,At[3]>0}destroy(){return j.Node.prototype.destroy.call(this),delete o.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(Et){var Tt;if(!this.getStage()||!((Tt=this.attrs.perfectDrawEnabled)!==null&&Tt!==void 0?Tt:!0))return!1;const At=Et||this.hasFill(),Ot=this.hasStroke(),It=this.getAbsoluteOpacity()!==1;if(At&&Ot&&It)return!0;const $t=this.hasShadow(),kt=this.shadowForStrokeEnabled();return!!(At&&Ot&&$t&&kt)}setStrokeHitEnabled(Et){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),Et?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var Et=this.size();return{x:this._centroid?-Et.width/2:0,y:this._centroid?-Et.height/2:0,width:Et.width,height:Et.height}}getClientRect(Et={}){const Tt=Et.skipTransform,Pt=Et.relativeTo,At=this.getSelfRect(),It=!Et.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,$t=At.width+It,kt=At.height+It,Ft=!Et.skipShadow&&this.hasShadow(),Ut=Ft?this.shadowOffsetX():0,zt=Ft?this.shadowOffsetY():0,Wt=$t+Math.abs(Ut),Qt=kt+Math.abs(zt),un=Ft&&this.shadowBlur()||0,an=Wt+un*2,vn=Qt+un*2,fn={width:an,height:vn,x:-(It/2+un)+Math.min(Ut,0)+At.x,y:-(It/2+un)+Math.min(zt,0)+At.y};return Tt?fn:this._transformedRect(fn,Pt)}drawScene(Et,Tt){var Pt=this.getLayer(),At=Et||Pt.getCanvas(),Ot=At.getContext(),It=this._getCanvasCache(),$t=this.getSceneFunc(),kt=this.hasShadow(),Ft,Ut,zt,Wt=At.isCache,Qt=Tt===this;if(!this.isVisible()&&!Qt)return this;if(It){Ot.save();var un=this.getAbsoluteTransform(Tt).getMatrix();return Ot.transform(un[0],un[1],un[2],un[3],un[4],un[5]),this._drawCachedSceneCanvas(Ot),Ot.restore(),this}if(!$t)return this;if(Ot.save(),this._useBufferCanvas()&&!Wt){Ft=this.getStage(),Ut=Ft.bufferCanvas,zt=Ut.getContext(),zt.clear(),zt.save(),zt._applyLineJoin(this);var an=this.getAbsoluteTransform(Tt).getMatrix();zt.transform(an[0],an[1],an[2],an[3],an[4],an[5]),$t.call(this,zt,this),zt.restore();var vn=Ut.pixelRatio;kt&&Ot._applyShadow(this),Ot._applyOpacity(this),Ot._applyGlobalCompositeOperation(this),Ot.drawImage(Ut._canvas,0,0,Ut.width/vn,Ut.height/vn)}else{if(Ot._applyLineJoin(this),!Qt){var an=this.getAbsoluteTransform(Tt).getMatrix();Ot.transform(an[0],an[1],an[2],an[3],an[4],an[5]),Ot._applyOpacity(this),Ot._applyGlobalCompositeOperation(this)}kt&&Ot._applyShadow(this),$t.call(this,Ot,this)}return Ot.restore(),this}drawHit(Et,Tt,Pt=!1){if(!this.shouldDrawHit(Tt,Pt))return this;var At=this.getLayer(),Ot=Et||At.hitCanvas,It=Ot&&Ot.getContext(),$t=this.hitFunc()||this.sceneFunc(),kt=this._getCanvasCache(),Ft=kt&&kt.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Ft){It.save();var Ut=this.getAbsoluteTransform(Tt).getMatrix();return It.transform(Ut[0],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5]),this._drawCachedHitCanvas(It),It.restore(),this}if(!$t)return this;if(It.save(),It._applyLineJoin(this),!(this===Tt)){var Wt=this.getAbsoluteTransform(Tt).getMatrix();It.transform(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5])}return $t.call(this,It,this),It.restore(),this}drawHitFromCache(Et=0){var Tt=this._getCanvasCache(),Pt=this._getCachedSceneCanvas(),At=Tt.hit,Ot=At.getContext(),It=At.getWidth(),$t=At.getHeight(),kt,Ft,Ut,zt,Wt,Qt;Ot.clear(),Ot.drawImage(Pt._canvas,0,0,It,$t);try{for(kt=Ot.getImageData(0,0,It,$t),Ft=kt.data,Ut=Ft.length,zt=a.Util._hexToRgb(this.colorKey),Wt=0;Wt<Ut;Wt+=4)Qt=Ft[Wt+3],Qt>Et?(Ft[Wt]=zt.r,Ft[Wt+1]=zt.g,Ft[Wt+2]=zt.b,Ft[Wt+3]=255):Ft[Wt+3]=0;Ot.putImageData(kt,0,0)}catch(un){a.Util.error("Unable to draw hit graph from cached scene canvas. "+un.message)}return this}hasPointerCapture(Et){return rt.hasPointerCapture(Et,this)}setPointerCapture(Et){rt.setPointerCapture(Et,this)}releaseCapture(Et){rt.releaseCapture(Et,this)}}o.Shape=_t,_t.prototype._fillFunc=lt,_t.prototype._strokeFunc=dt,_t.prototype._fillFuncHit=ft,_t.prototype._strokeFuncHit=pt,_t.prototype._centroid=!1,_t.prototype.nodeType="Shape",(0,tt._registerNode)(_t),_t.prototype.eventListeners={},_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",ht),_t.prototype.on.call(_t.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",gt),_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",mt),_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",yt),_t.prototype.on.call(_t.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",bt),s.Factory.addGetterSetter(_t,"stroke",void 0,(0,et.getStringOrGradientValidator)()),s.Factory.addGetterSetter(_t,"strokeWidth",2,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillAfterStrokeEnabled",!1),s.Factory.addGetterSetter(_t,"hitStrokeWidth","auto",(0,et.getNumberOrAutoValidator)()),s.Factory.addGetterSetter(_t,"strokeHitEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(_t,"perfectDrawEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(_t,"shadowForStrokeEnabled",!0,(0,et.getBooleanValidator)()),s.Factory.addGetterSetter(_t,"lineJoin"),s.Factory.addGetterSetter(_t,"lineCap"),s.Factory.addGetterSetter(_t,"sceneFunc"),s.Factory.addGetterSetter(_t,"hitFunc"),s.Factory.addGetterSetter(_t,"dash"),s.Factory.addGetterSetter(_t,"dashOffset",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"shadowColor",void 0,(0,et.getStringValidator)()),s.Factory.addGetterSetter(_t,"shadowBlur",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"shadowOpacity",1,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(_t,"shadowOffset",["x","y"]),s.Factory.addGetterSetter(_t,"shadowOffsetX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"shadowOffsetY",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillPatternImage"),s.Factory.addGetterSetter(_t,"fill",void 0,(0,et.getStringOrGradientValidator)()),s.Factory.addGetterSetter(_t,"fillPatternX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillPatternY",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillLinearGradientColorStops"),s.Factory.addGetterSetter(_t,"strokeLinearGradientColorStops"),s.Factory.addGetterSetter(_t,"fillRadialGradientStartRadius",0),s.Factory.addGetterSetter(_t,"fillRadialGradientEndRadius",0),s.Factory.addGetterSetter(_t,"fillRadialGradientColorStops"),s.Factory.addGetterSetter(_t,"fillPatternRepeat","repeat"),s.Factory.addGetterSetter(_t,"fillEnabled",!0),s.Factory.addGetterSetter(_t,"strokeEnabled",!0),s.Factory.addGetterSetter(_t,"shadowEnabled",!0),s.Factory.addGetterSetter(_t,"dashEnabled",!0),s.Factory.addGetterSetter(_t,"strokeScaleEnabled",!0),s.Factory.addGetterSetter(_t,"fillPriority","color"),s.Factory.addComponentsGetterSetter(_t,"fillPatternOffset",["x","y"]),s.Factory.addGetterSetter(_t,"fillPatternOffsetX",0,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillPatternOffsetY",0,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(_t,"fillPatternScale",["x","y"]),s.Factory.addGetterSetter(_t,"fillPatternScaleX",1,(0,et.getNumberValidator)()),s.Factory.addGetterSetter(_t,"fillPatternScaleY",1,(0,et.getNumberValidator)()),s.Factory.addComponentsGetterSetter(_t,"fillLinearGradientStartPoint",["x","y"]),s.Factory.addComponentsGetterSetter(_t,"strokeLinearGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(_t,"fillLinearGradientStartPointX",0),s.Factory.addGetterSetter(_t,"strokeLinearGradientStartPointX",0),s.Factory.addGetterSetter(_t,"fillLinearGradientStartPointY",0),s.Factory.addGetterSetter(_t,"strokeLinearGradientStartPointY",0),s.Factory.addComponentsGetterSetter(_t,"fillLinearGradientEndPoint",["x","y"]),s.Factory.addComponentsGetterSetter(_t,"strokeLinearGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(_t,"fillLinearGradientEndPointX",0),s.Factory.addGetterSetter(_t,"strokeLinearGradientEndPointX",0),s.Factory.addGetterSetter(_t,"fillLinearGradientEndPointY",0),s.Factory.addGetterSetter(_t,"strokeLinearGradientEndPointY",0),s.Factory.addComponentsGetterSetter(_t,"fillRadialGradientStartPoint",["x","y"]),s.Factory.addGetterSetter(_t,"fillRadialGradientStartPointX",0),s.Factory.addGetterSetter(_t,"fillRadialGradientStartPointY",0),s.Factory.addComponentsGetterSetter(_t,"fillRadialGradientEndPoint",["x","y"]),s.Factory.addGetterSetter(_t,"fillRadialGradientEndPointX",0),s.Factory.addGetterSetter(_t,"fillRadialGradientEndPointY",0),s.Factory.addGetterSetter(_t,"fillPatternRotation",0),s.Factory.addGetterSetter(_t,"fillRule",void 0,(0,et.getStringValidator)()),s.Factory.backCompat(_t,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Shape);Object.defineProperty(Layer$2,"__esModule",{value:!0});Layer$2.Layer=void 0;const Util_1$b=Util,Container_1$1=Container$1,Node_1$g=Node$1,Factory_1$w=Factory,Canvas_1=Canvas$2,Validators_1$v=Validators,Shape_1$g=Shape,Global_1$k=Global;var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;let Layer$1=class extends Container_1$1.Container{constructor(i){super(i),this.canvas=new Canvas_1.SceneCanvas,this.hitCanvas=new Canvas_1.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(i){return this.getContext().clear(i),this.getHitCanvas().getContext().clear(i),this}setZIndex(i){super.setZIndex(i);var a=this.getStage();return a&&a.content&&(a.content.removeChild(this.getNativeCanvasElement()),i<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[i+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node_1$g.Node.prototype.moveToTop.call(this);var i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var i=Node_1$g.Node.prototype.moveUp.call(this);if(!i)return!1;var a=this.getStage();return!a||!a.content?!1:(a.content.removeChild(this.getNativeCanvasElement()),this.index<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[this.index+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node_1$g.Node.prototype.moveDown.call(this)){var i=this.getStage();if(i){var a=i.children;i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.insertBefore(this.getNativeCanvasElement(),a[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node_1$g.Node.prototype.moveToBottom.call(this)){var i=this.getStage();if(i){var a=i.children;i.content&&(i.content.removeChild(this.getNativeCanvasElement()),i.content.insertBefore(this.getNativeCanvasElement(),a[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var i=this.getNativeCanvasElement();return Node_1$g.Node.prototype.remove.call(this),i&&i.parentNode&&Util_1$b.Util._isInDocument(i)&&i.parentNode.removeChild(i),this}getStage(){return this.parent}setSize({width:i,height:a}){return this.canvas.setSize(i,a),this.hitCanvas.setSize(i,a),this._setSmoothEnabled(),this}_validateAdd(i){var a=i.getType();a!=="Group"&&a!=="Shape"&&Util_1$b.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(i){return i=i||{},i.width=i.width||this.getWidth(),i.height=i.height||this.getHeight(),i.x=i.x!==void 0?i.x:this.x(),i.y=i.y!==void 0?i.y:this.y(),Node_1$g.Node.prototype._toKonvaCanvas.call(this,i)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util_1$b.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util_1$b.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util_1$b.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(i){if(!this.isListening()||!this.isVisible())return null;for(var a=1,s=!1;;){for(let j=0;j<INTERSECTION_OFFSETS_LEN;j++){const et=INTERSECTION_OFFSETS[j],tt=this._getIntersection({x:i.x+et.x*a,y:i.y+et.y*a}),rt=tt.shape;if(rt)return rt;if(s=!!tt.antialiased,!tt.antialiased)break}if(s)a+=1;else return null}}_getIntersection(i){const a=this.hitCanvas.pixelRatio,s=this.hitCanvas.context.getImageData(Math.round(i.x*a),Math.round(i.y*a),1,1).data,j=s[3];if(j===255){const et=Util_1$b.Util._rgbToHex(s[0],s[1],s[2]),tt=Shape_1$g.shapes[HASH+et];return tt?{shape:tt}:{antialiased:!0}}else if(j>0)return{antialiased:!0};return{}}drawScene(i,a){var s=this.getLayer(),j=i||s&&s.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&j.getContext().clear(),Container_1$1.Container.prototype.drawScene.call(this,j,a),this._fire(DRAW,{node:this}),this}drawHit(i,a){var s=this.getLayer(),j=i||s&&s.hitCanvas;return s&&s.clearBeforeDraw()&&s.getHitCanvas().getContext().clear(),Container_1$1.Container.prototype.drawHit.call(this,j,a),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(i){Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(i)}getHitGraphEnabled(i){return Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var i=this.parent,a=!!this.hitCanvas._canvas.parentNode;a?i.content.removeChild(this.hitCanvas._canvas):i.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Util_1$b.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Layer$2.Layer=Layer$1;Layer$1.prototype.nodeType="Layer";(0,Global_1$k._registerNode)(Layer$1);Factory_1$w.Factory.addGetterSetter(Layer$1,"imageSmoothingEnabled",!0);Factory_1$w.Factory.addGetterSetter(Layer$1,"clearBeforeDraw",!0);Factory_1$w.Factory.addGetterSetter(Layer$1,"hitGraphEnabled",!0,(0,Validators_1$v.getBooleanValidator)());var FastLayer$1={};Object.defineProperty(FastLayer$1,"__esModule",{value:!0});FastLayer$1.FastLayer=void 0;const Util_1$a=Util,Layer_1=Layer$2,Global_1$j=Global;class FastLayer extends Layer_1.Layer{constructor(i){super(i),this.listening(!1),Util_1$a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer$1.FastLayer=FastLayer;FastLayer.prototype.nodeType="FastLayer";(0,Global_1$j._registerNode)(FastLayer);var Group$1={};Object.defineProperty(Group$1,"__esModule",{value:!0});Group$1.Group=void 0;const Util_1$9=Util,Container_1=Container$1,Global_1$i=Global;class Group extends Container_1.Container{_validateAdd(i){var a=i.getType();a!=="Group"&&a!=="Shape"&&Util_1$9.Util.throw("You may only add groups and shapes to groups.")}}Group$1.Group=Group;Group.prototype.nodeType="Group";(0,Global_1$i._registerNode)(Group);var Animation$1={};Object.defineProperty(Animation$1,"__esModule",{value:!0});Animation$1.Animation=void 0;const Global_1$h=Global,Util_1$8=Util;var now=function(){return Global_1$h.glob.performance&&Global_1$h.glob.performance.now?function(){return Global_1$h.glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(i,a){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=i,this.setLayers(a)}setLayers(i){var a=[];return i?i.length>0?a=i:a=[i]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(i){var a=this.layers,s=a.length,j;for(j=0;j<s;j++)if(a[j]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){var i=Animation,a=i.animations,s=a.length,j;for(j=0;j<s;j++)if(a[j].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){var a=i.id,s=this.animations,j=s.length,et;for(et=0;et<j;et++)if(s[et].id===a){this.animations.splice(et,1);break}}static _runFrames(){var i={},a=this.animations,s,j,et,tt,rt,at,ot,st,_e;for(tt=0;tt<a.length;tt++)if(s=a[tt],j=s.layers,et=s.func,s._updateFrameObject(now()),at=j.length,et?_e=et.call(s,s.frame)!==!1:_e=!0,!!_e)for(rt=0;rt<at;rt++)ot=j[rt],ot._id!==void 0&&(i[ot._id]=ot);for(st in i)i.hasOwnProperty(st)&&i[st].batchDraw()}static _animationLoop(){var i=Animation;i.animations.length?(i._runFrames(),Util_1$8.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util_1$8.Util.requestAnimFrame(this._animationLoop))}}Animation$1.Animation=Animation;Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var Tween={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Easings=o.Tween=void 0;const i=Util,a=Animation$1,s=Node$1,j=Global;var et={node:1,duration:1,easing:1,onFinish:1,yoyo:1},tt=1,rt=2,at=3,ot=0,st=["fill","stroke","shadowColor"];class _e{constructor(it,lt,dt,ft,pt,ht,gt){this.prop=it,this.propFunc=lt,this.begin=ft,this._pos=ft,this.duration=ht,this._change=0,this.prevPos=0,this.yoyo=gt,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=dt,this._change=pt-this.begin,this.pause()}fire(it){var lt=this[it];lt&&lt()}setTime(it){it>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():it<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=it,this.update())}getTime(){return this._time}setPosition(it){this.prevPos=this._pos,this.propFunc(it),this._pos=it}getPosition(it){return it===void 0&&(it=this._time),this.func(it,this.begin,this._change,this.duration)}play(){this.state=rt,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=at,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(it){this.pause(),this._time=it,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var it=this.getTimer()-this._startTime;this.state===rt?this.setTime(it):this.state===at&&this.setTime(this.duration-it)}pause(){this.state=tt,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ${constructor(it){var lt=this,dt=it.node,ft=dt._id,pt,ht=it.easing||o.Easings.Linear,gt=!!it.yoyo,mt;typeof it.duration>"u"?pt=.3:it.duration===0?pt=.001:pt=it.duration,this.node=dt,this._id=ot++;var yt=dt.getLayer()||(dt instanceof j.Konva.Stage?dt.getLayers():null);yt||i.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation(function(){lt.tween.onEnterFrame()},yt),this.tween=new _e(mt,function(bt){lt._tweenFunc(bt)},ht,0,1,pt*1e3,gt),this._addListeners(),$.attrs[ft]||($.attrs[ft]={}),$.attrs[ft][this._id]||($.attrs[ft][this._id]={}),$.tweens[ft]||($.tweens[ft]={});for(mt in it)et[mt]===void 0&&this._addAttr(mt,it[mt]);this.reset(),this.onFinish=it.onFinish,this.onReset=it.onReset,this.onUpdate=it.onUpdate}_addAttr(it,lt){var dt=this.node,ft=dt._id,pt,ht,gt,mt,yt,bt,_t,xt;if(gt=$.tweens[ft][it],gt&&delete $.attrs[ft][gt][it],pt=dt.getAttr(it),i.Util._isArray(lt))if(ht=[],yt=Math.max(lt.length,pt.length),it==="points"&&lt.length!==pt.length&&(lt.length>pt.length?(_t=pt,pt=i.Util._prepareArrayForTween(pt,lt,dt.closed())):(bt=lt,lt=i.Util._prepareArrayForTween(lt,pt,dt.closed()))),it.indexOf("fill")===0)for(mt=0;mt<yt;mt++)if(mt%2===0)ht.push(lt[mt]-pt[mt]);else{var Et=i.Util.colorToRGBA(pt[mt]);xt=i.Util.colorToRGBA(lt[mt]),pt[mt]=Et,ht.push({r:xt.r-Et.r,g:xt.g-Et.g,b:xt.b-Et.b,a:xt.a-Et.a})}else for(mt=0;mt<yt;mt++)ht.push(lt[mt]-pt[mt]);else st.indexOf(it)!==-1?(pt=i.Util.colorToRGBA(pt),xt=i.Util.colorToRGBA(lt),ht={r:xt.r-pt.r,g:xt.g-pt.g,b:xt.b-pt.b,a:xt.a-pt.a}):ht=lt-pt;$.attrs[ft][this._id][it]={start:pt,diff:ht,end:lt,trueEnd:bt,trueStart:_t},$.tweens[ft][it]=this._id}_tweenFunc(it){var lt=this.node,dt=$.attrs[lt._id][this._id],ft,pt,ht,gt,mt,yt,bt,_t;for(ft in dt){if(pt=dt[ft],ht=pt.start,gt=pt.diff,_t=pt.end,i.Util._isArray(ht))if(mt=[],bt=Math.max(ht.length,_t.length),ft.indexOf("fill")===0)for(yt=0;yt<bt;yt++)yt%2===0?mt.push((ht[yt]||0)+gt[yt]*it):mt.push("rgba("+Math.round(ht[yt].r+gt[yt].r*it)+","+Math.round(ht[yt].g+gt[yt].g*it)+","+Math.round(ht[yt].b+gt[yt].b*it)+","+(ht[yt].a+gt[yt].a*it)+")");else for(yt=0;yt<bt;yt++)mt.push((ht[yt]||0)+gt[yt]*it);else st.indexOf(ft)!==-1?mt="rgba("+Math.round(ht.r+gt.r*it)+","+Math.round(ht.g+gt.g*it)+","+Math.round(ht.b+gt.b*it)+","+(ht.a+gt.a*it)+")":mt=ht+gt*it;lt.setAttr(ft,mt)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var it=this.node,lt=$.attrs[it._id][this._id];lt.points&&lt.points.trueEnd&&it.setAttr("points",lt.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var it=this.node,lt=$.attrs[it._id][this._id];lt.points&&lt.points.trueStart&&it.points(lt.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(it){return this.tween.seek(it*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var it=this.node._id,lt=this._id,dt=$.tweens[it],ft;this.pause();for(ft in dt)delete $.tweens[it][ft];delete $.attrs[it][lt]}}o.Tween=$,$.attrs={},$.tweens={},s.Node.prototype.to=function(nt){var it=nt.onFinish;nt.node=this,nt.onFinish=function(){this.destroy(),it&&it()};var lt=new $(nt);lt.play()},o.Easings={BackEaseIn(nt,it,lt,dt){var ft=1.70158;return lt*(nt/=dt)*nt*((ft+1)*nt-ft)+it},BackEaseOut(nt,it,lt,dt){var ft=1.70158;return lt*((nt=nt/dt-1)*nt*((ft+1)*nt+ft)+1)+it},BackEaseInOut(nt,it,lt,dt){var ft=1.70158;return(nt/=dt/2)<1?lt/2*(nt*nt*(((ft*=1.525)+1)*nt-ft))+it:lt/2*((nt-=2)*nt*(((ft*=1.525)+1)*nt+ft)+2)+it},ElasticEaseIn(nt,it,lt,dt,ft,pt){var ht=0;return nt===0?it:(nt/=dt)===1?it+lt:(pt||(pt=dt*.3),!ft||ft<Math.abs(lt)?(ft=lt,ht=pt/4):ht=pt/(2*Math.PI)*Math.asin(lt/ft),-(ft*Math.pow(2,10*(nt-=1))*Math.sin((nt*dt-ht)*(2*Math.PI)/pt))+it)},ElasticEaseOut(nt,it,lt,dt,ft,pt){var ht=0;return nt===0?it:(nt/=dt)===1?it+lt:(pt||(pt=dt*.3),!ft||ft<Math.abs(lt)?(ft=lt,ht=pt/4):ht=pt/(2*Math.PI)*Math.asin(lt/ft),ft*Math.pow(2,-10*nt)*Math.sin((nt*dt-ht)*(2*Math.PI)/pt)+lt+it)},ElasticEaseInOut(nt,it,lt,dt,ft,pt){var ht=0;return nt===0?it:(nt/=dt/2)===2?it+lt:(pt||(pt=dt*(.3*1.5)),!ft||ft<Math.abs(lt)?(ft=lt,ht=pt/4):ht=pt/(2*Math.PI)*Math.asin(lt/ft),nt<1?-.5*(ft*Math.pow(2,10*(nt-=1))*Math.sin((nt*dt-ht)*(2*Math.PI)/pt))+it:ft*Math.pow(2,-10*(nt-=1))*Math.sin((nt*dt-ht)*(2*Math.PI)/pt)*.5+lt+it)},BounceEaseOut(nt,it,lt,dt){return(nt/=dt)<1/2.75?lt*(7.5625*nt*nt)+it:nt<2/2.75?lt*(7.5625*(nt-=1.5/2.75)*nt+.75)+it:nt<2.5/2.75?lt*(7.5625*(nt-=2.25/2.75)*nt+.9375)+it:lt*(7.5625*(nt-=2.625/2.75)*nt+.984375)+it},BounceEaseIn(nt,it,lt,dt){return lt-o.Easings.BounceEaseOut(dt-nt,0,lt,dt)+it},BounceEaseInOut(nt,it,lt,dt){return nt<dt/2?o.Easings.BounceEaseIn(nt*2,0,lt,dt)*.5+it:o.Easings.BounceEaseOut(nt*2-dt,0,lt,dt)*.5+lt*.5+it},EaseIn(nt,it,lt,dt){return lt*(nt/=dt)*nt+it},EaseOut(nt,it,lt,dt){return-lt*(nt/=dt)*(nt-2)+it},EaseInOut(nt,it,lt,dt){return(nt/=dt/2)<1?lt/2*nt*nt+it:-lt/2*(--nt*(nt-2)-1)+it},StrongEaseIn(nt,it,lt,dt){return lt*(nt/=dt)*nt*nt*nt*nt+it},StrongEaseOut(nt,it,lt,dt){return lt*((nt=nt/dt-1)*nt*nt*nt*nt+1)+it},StrongEaseInOut(nt,it,lt,dt){return(nt/=dt/2)<1?lt/2*nt*nt*nt*nt*nt+it:lt/2*((nt-=2)*nt*nt*nt*nt+2)+it},Linear(nt,it,lt,dt){return lt*nt/dt+it}}})(Tween);(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Konva=void 0;const i=Global,a=Util,s=Node$1,j=Container$1,et=Stage$2,tt=Layer$2,rt=FastLayer$1,at=Group$1,ot=DragAndDrop,st=Shape,_e=Animation$1,$=Tween,nt=Context$4,it=Canvas$2;o.Konva=a.Util._assign(i.Konva,{Util:a.Util,Transform:a.Transform,Node:s.Node,Container:j.Container,Stage:et.Stage,stages:et.stages,Layer:tt.Layer,FastLayer:rt.FastLayer,Group:at.Group,DD:ot.DD,Shape:st.Shape,shapes:st.shapes,Animation:_e.Animation,Tween:$.Tween,Easings:$.Easings,Context:nt.Context,Canvas:it.Canvas}),o.default=o.Konva})(_CoreInternals);var Arc$1={};Object.defineProperty(Arc$1,"__esModule",{value:!0});Arc$1.Arc=void 0;const Factory_1$v=Factory,Shape_1$f=Shape,Global_1$g=Global,Validators_1$u=Validators,Global_2$2=Global;class Arc extends Shape_1$f.Shape{_sceneFunc(i){var a=Global_1$g.Konva.getAngle(this.angle()),s=this.clockwise();i.beginPath(),i.arc(0,0,this.outerRadius(),0,a,s),i.arc(0,0,this.innerRadius(),a,0,!s),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}getSelfRect(){const i=this.innerRadius(),a=this.outerRadius(),s=this.clockwise(),j=Global_1$g.Konva.getAngle(s?360-this.angle():this.angle()),et=Math.cos(Math.min(j,Math.PI)),tt=1,rt=Math.sin(Math.min(Math.max(Math.PI,j),3*Math.PI/2)),at=Math.sin(Math.min(j,Math.PI/2)),ot=et*(et>0?i:a),st=tt*a,_e=rt*(rt>0?i:a),$=at*(at>0?a:i);return{x:ot,y:s?-1*$:_e,width:st-ot,height:$-_e}}}Arc$1.Arc=Arc;Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_2$2._registerNode)(Arc);Factory_1$v.Factory.addGetterSetter(Arc,"innerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"outerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"angle",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"clockwise",!1,(0,Validators_1$u.getBooleanValidator)());var Arrow$1={},Line$1={};Object.defineProperty(Line$1,"__esModule",{value:!0});Line$1.Line=void 0;const Factory_1$u=Factory,Shape_1$e=Shape,Validators_1$t=Validators,Global_1$f=Global;function getControlPoints(o,i,a,s,j,et,tt){var rt=Math.sqrt(Math.pow(a-o,2)+Math.pow(s-i,2)),at=Math.sqrt(Math.pow(j-a,2)+Math.pow(et-s,2)),ot=tt*rt/(rt+at),st=tt*at/(rt+at),_e=a-ot*(j-o),$=s-ot*(et-i),nt=a+st*(j-o),it=s+st*(et-i);return[_e,$,nt,it]}function expandPoints(o,i){var a=o.length,s=[],j,et;for(j=2;j<a-2;j+=2)et=getControlPoints(o[j-2],o[j-1],o[j],o[j+1],o[j+2],o[j+3],i),!isNaN(et[0])&&(s.push(et[0]),s.push(et[1]),s.push(o[j]),s.push(o[j+1]),s.push(et[2]),s.push(et[3]));return s}class Line extends Shape_1$e.Shape{constructor(i){super(i),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(i){var a=this.points(),s=a.length,j=this.tension(),et=this.closed(),tt=this.bezier(),rt,at,ot;if(s){if(i.beginPath(),i.moveTo(a[0],a[1]),j!==0&&s>4){for(rt=this.getTensionPoints(),at=rt.length,ot=et?0:4,et||i.quadraticCurveTo(rt[0],rt[1],rt[2],rt[3]);ot<at-2;)i.bezierCurveTo(rt[ot++],rt[ot++],rt[ot++],rt[ot++],rt[ot++],rt[ot++]);et||i.quadraticCurveTo(rt[at-2],rt[at-1],a[s-2],a[s-1])}else if(tt)for(ot=2;ot<s;)i.bezierCurveTo(a[ot++],a[ot++],a[ot++],a[ot++],a[ot++],a[ot++]);else for(ot=2;ot<s;ot+=2)i.lineTo(a[ot],a[ot+1]);et?(i.closePath(),i.fillStrokeShape(this)):i.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var i=this.points(),a=i.length,s=this.tension(),j=getControlPoints(i[a-2],i[a-1],i[0],i[1],i[2],i[3],s),et=getControlPoints(i[a-4],i[a-3],i[a-2],i[a-1],i[0],i[1],s),tt=expandPoints(i,s),rt=[j[2],j[3]].concat(tt).concat([et[0],et[1],i[a-2],i[a-1],et[2],et[3],j[0],j[1],i[0],i[1]]);return rt}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var i=this.points();if(i.length<4)return{x:i[0]||0,y:i[1]||0,width:0,height:0};this.tension()!==0?i=[i[0],i[1],...this._getTensionPoints(),i[i.length-2],i[i.length-1]]:i=this.points();for(var a=i[0],s=i[0],j=i[1],et=i[1],tt,rt,at=0;at<i.length/2;at++)tt=i[at*2],rt=i[at*2+1],a=Math.min(a,tt),s=Math.max(s,tt),j=Math.min(j,rt),et=Math.max(et,rt);return{x:a,y:j,width:s-a,height:et-j}}}Line$1.Line=Line;Line.prototype.className="Line";Line.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Global_1$f._registerNode)(Line);Factory_1$u.Factory.addGetterSetter(Line,"closed",!1);Factory_1$u.Factory.addGetterSetter(Line,"bezier",!1);Factory_1$u.Factory.addGetterSetter(Line,"tension",0,(0,Validators_1$t.getNumberValidator)());Factory_1$u.Factory.addGetterSetter(Line,"points",[],(0,Validators_1$t.getNumberArrayValidator)());var Path$2={},BezierFunctions={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.t2length=o.getQuadraticArcLength=o.getCubicArcLength=o.binomialCoefficients=o.cValues=o.tValues=void 0,o.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],o.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],o.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const i=(tt,rt,at)=>{let ot,st,_e;ot=at/2,st=0;for(let nt=0;nt<20;nt++)_e=ot*o.tValues[20][nt]+ot,st+=o.cValues[20][nt]*s(tt,rt,_e);return ot*st};o.getCubicArcLength=i;const a=(tt,rt,at)=>{at===void 0&&(at=1);const ot=tt[0]-2*tt[1]+tt[2],st=rt[0]-2*rt[1]+rt[2],_e=2*tt[1]-2*tt[0],$=2*rt[1]-2*rt[0],nt=4*(ot*ot+st*st),it=4*(ot*_e+st*$),lt=_e*_e+$*$;if(nt===0)return at*Math.sqrt(Math.pow(tt[2]-tt[0],2)+Math.pow(rt[2]-rt[0],2));const dt=it/(2*nt),ft=lt/nt,pt=at+dt,ht=ft-dt*dt,gt=pt*pt+ht>0?Math.sqrt(pt*pt+ht):0,mt=dt*dt+ht>0?Math.sqrt(dt*dt+ht):0,yt=dt+Math.sqrt(dt*dt+ht)!==0?ht*Math.log(Math.abs((pt+gt)/(dt+mt))):0;return Math.sqrt(nt)/2*(pt*gt-dt*mt+yt)};o.getQuadraticArcLength=a;function s(tt,rt,at){const ot=j(1,at,tt),st=j(1,at,rt),_e=ot*ot+st*st;return Math.sqrt(_e)}const j=(tt,rt,at)=>{const ot=at.length-1;let st,_e;if(ot===0)return 0;if(tt===0){_e=0;for(let $=0;$<=ot;$++)_e+=o.binomialCoefficients[ot][$]*Math.pow(1-rt,ot-$)*Math.pow(rt,$)*at[$];return _e}else{st=new Array(ot);for(let $=0;$<ot;$++)st[$]=ot*(at[$+1]-at[$]);return j(tt-1,rt,st)}},et=(tt,rt,at)=>{let ot=1,st=tt/rt,_e=(tt-at(st))/rt,$=0;for(;ot>.001;){const nt=at(st+_e),it=Math.abs(tt-nt)/rt;if(it<ot)ot=it,st+=_e;else{const lt=at(st-_e),dt=Math.abs(tt-lt)/rt;dt<ot?(ot=dt,st-=_e):_e/=2}if($++,$>500)break}return st};o.t2length=et})(BezierFunctions);Object.defineProperty(Path$2,"__esModule",{value:!0});Path$2.Path=void 0;const Factory_1$t=Factory,Shape_1$d=Shape,Global_1$e=Global,BezierFunctions_1=BezierFunctions;let Path$1=class eo extends Shape_1$d.Shape{constructor(i){super(i),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=eo.parsePathData(this.data()),this.pathLength=eo.getPathLength(this.dataArray)}_sceneFunc(i){var a=this.dataArray;i.beginPath();for(var s=!1,j=0;j<a.length;j++){var et=a[j].command,tt=a[j].points;switch(et){case"L":i.lineTo(tt[0],tt[1]);break;case"M":i.moveTo(tt[0],tt[1]);break;case"C":i.bezierCurveTo(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5]);break;case"Q":i.quadraticCurveTo(tt[0],tt[1],tt[2],tt[3]);break;case"A":var rt=tt[0],at=tt[1],ot=tt[2],st=tt[3],_e=tt[4],$=tt[5],nt=tt[6],it=tt[7],lt=ot>st?ot:st,dt=ot>st?1:ot/st,ft=ot>st?st/ot:1;i.translate(rt,at),i.rotate(nt),i.scale(dt,ft),i.arc(0,0,lt,_e,_e+$,1-it),i.scale(1/dt,1/ft),i.rotate(-nt),i.translate(-rt,-at);break;case"z":s=!0,i.closePath();break}}!s&&!this.hasFill()?i.strokeShape(this):i.fillStrokeShape(this)}getSelfRect(){var i=[];this.dataArray.forEach(function(ot){if(ot.command==="A"){var st=ot.points[4],_e=ot.points[5],$=ot.points[4]+_e,nt=Math.PI/180;if(Math.abs(st-$)<nt&&(nt=Math.abs(st-$)),_e<0)for(let it=st-nt;it>$;it-=nt){const lt=eo.getPointOnEllipticalArc(ot.points[0],ot.points[1],ot.points[2],ot.points[3],it,0);i.push(lt.x,lt.y)}else for(let it=st+nt;it<$;it+=nt){const lt=eo.getPointOnEllipticalArc(ot.points[0],ot.points[1],ot.points[2],ot.points[3],it,0);i.push(lt.x,lt.y)}}else if(ot.command==="C")for(let it=0;it<=1;it+=.01){const lt=eo.getPointOnCubicBezier(it,ot.start.x,ot.start.y,ot.points[0],ot.points[1],ot.points[2],ot.points[3],ot.points[4],ot.points[5]);i.push(lt.x,lt.y)}else i=i.concat(ot.points)});for(var a=i[0],s=i[0],j=i[1],et=i[1],tt,rt,at=0;at<i.length/2;at++)tt=i[at*2],rt=i[at*2+1],isNaN(tt)||(a=Math.min(a,tt),s=Math.max(s,tt)),isNaN(rt)||(j=Math.min(j,rt),et=Math.max(et,rt));return{x:a,y:j,width:s-a,height:et-j}}getLength(){return this.pathLength}getPointAtLength(i){return eo.getPointAtLengthOfDataArray(i,this.dataArray)}static getLineLength(i,a,s,j){return Math.sqrt((s-i)*(s-i)+(j-a)*(j-a))}static getPathLength(i){let a=0;for(var s=0;s<i.length;++s)a+=i[s].pathLength;return a}static getPointAtLengthOfDataArray(i,a){var s,j=0,et=a.length;if(!et)return null;for(;j<et&&i>a[j].pathLength;)i-=a[j].pathLength,++j;if(j===et)return s=a[j-1].points.slice(-2),{x:s[0],y:s[1]};if(i<.01)return s=a[j].points.slice(0,2),{x:s[0],y:s[1]};var tt=a[j],rt=tt.points;switch(tt.command){case"L":return eo.getPointOnLine(i,tt.start.x,tt.start.y,rt[0],rt[1]);case"C":return eo.getPointOnCubicBezier((0,BezierFunctions_1.t2length)(i,eo.getPathLength(a),lt=>(0,BezierFunctions_1.getCubicArcLength)([tt.start.x,rt[0],rt[2],rt[4]],[tt.start.y,rt[1],rt[3],rt[5]],lt)),tt.start.x,tt.start.y,rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]);case"Q":return eo.getPointOnQuadraticBezier((0,BezierFunctions_1.t2length)(i,eo.getPathLength(a),lt=>(0,BezierFunctions_1.getQuadraticArcLength)([tt.start.x,rt[0],rt[2]],[tt.start.y,rt[1],rt[3]],lt)),tt.start.x,tt.start.y,rt[0],rt[1],rt[2],rt[3]);case"A":var at=rt[0],ot=rt[1],st=rt[2],_e=rt[3],$=rt[4],nt=rt[5],it=rt[6];return $+=nt*i/tt.pathLength,eo.getPointOnEllipticalArc(at,ot,st,_e,$,it)}return null}static getPointOnLine(i,a,s,j,et,tt,rt){tt===void 0&&(tt=a),rt===void 0&&(rt=s);var at=(et-s)/(j-a+1e-8),ot=Math.sqrt(i*i/(1+at*at));j<a&&(ot*=-1);var st=at*ot,_e;if(j===a)_e={x:tt,y:rt+st};else if((rt-s)/(tt-a+1e-8)===at)_e={x:tt+ot,y:rt+st};else{var $,nt,it=this.getLineLength(a,s,j,et),lt=(tt-a)*(j-a)+(rt-s)*(et-s);lt=lt/(it*it),$=a+lt*(j-a),nt=s+lt*(et-s);var dt=this.getLineLength(tt,rt,$,nt),ft=Math.sqrt(i*i-dt*dt);ot=Math.sqrt(ft*ft/(1+at*at)),j<a&&(ot*=-1),st=at*ot,_e={x:$+ot,y:nt+st}}return _e}static getPointOnCubicBezier(i,a,s,j,et,tt,rt,at,ot){function st(dt){return dt*dt*dt}function _e(dt){return 3*dt*dt*(1-dt)}function $(dt){return 3*dt*(1-dt)*(1-dt)}function nt(dt){return(1-dt)*(1-dt)*(1-dt)}var it=at*st(i)+tt*_e(i)+j*$(i)+a*nt(i),lt=ot*st(i)+rt*_e(i)+et*$(i)+s*nt(i);return{x:it,y:lt}}static getPointOnQuadraticBezier(i,a,s,j,et,tt,rt){function at(nt){return nt*nt}function ot(nt){return 2*nt*(1-nt)}function st(nt){return(1-nt)*(1-nt)}var _e=tt*at(i)+j*ot(i)+a*st(i),$=rt*at(i)+et*ot(i)+s*st(i);return{x:_e,y:$}}static getPointOnEllipticalArc(i,a,s,j,et,tt){var rt=Math.cos(tt),at=Math.sin(tt),ot={x:s*Math.cos(et),y:j*Math.sin(et)};return{x:i+(ot.x*rt-ot.y*at),y:a+(ot.x*at+ot.y*rt)}}static parsePathData(i){if(!i)return[];var a=i,s=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var j=0;j<s.length;j++)a=a.replace(new RegExp(s[j],"g"),"|"+s[j]);var et=a.split("|"),tt=[],rt=[],at=0,ot=0,st=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,_e;for(j=1;j<et.length;j++){var $=et[j],nt=$.charAt(0);for($=$.slice(1),rt.length=0;_e=st.exec($);)rt.push(_e[0]);for(var it=[],lt=0,dt=rt.length;lt<dt;lt++){if(rt[lt]==="00"){it.push(0,0);continue}var ft=parseFloat(rt[lt]);isNaN(ft)?it.push(0):it.push(ft)}for(;it.length>0&&!isNaN(it[0]);){var pt=null,ht=[],gt=at,mt=ot,yt,bt,_t,xt,Et,Tt,Pt,At,Ot,It;switch(nt){case"l":at+=it.shift(),ot+=it.shift(),pt="L",ht.push(at,ot);break;case"L":at=it.shift(),ot=it.shift(),ht.push(at,ot);break;case"m":var $t=it.shift(),kt=it.shift();if(at+=$t,ot+=kt,pt="M",tt.length>2&&tt[tt.length-1].command==="z"){for(var Ft=tt.length-2;Ft>=0;Ft--)if(tt[Ft].command==="M"){at=tt[Ft].points[0]+$t,ot=tt[Ft].points[1]+kt;break}}ht.push(at,ot),nt="l";break;case"M":at=it.shift(),ot=it.shift(),pt="M",ht.push(at,ot),nt="L";break;case"h":at+=it.shift(),pt="L",ht.push(at,ot);break;case"H":at=it.shift(),pt="L",ht.push(at,ot);break;case"v":ot+=it.shift(),pt="L",ht.push(at,ot);break;case"V":ot=it.shift(),pt="L",ht.push(at,ot);break;case"C":ht.push(it.shift(),it.shift(),it.shift(),it.shift()),at=it.shift(),ot=it.shift(),ht.push(at,ot);break;case"c":ht.push(at+it.shift(),ot+it.shift(),at+it.shift(),ot+it.shift()),at+=it.shift(),ot+=it.shift(),pt="C",ht.push(at,ot);break;case"S":bt=at,_t=ot,yt=tt[tt.length-1],yt.command==="C"&&(bt=at+(at-yt.points[2]),_t=ot+(ot-yt.points[3])),ht.push(bt,_t,it.shift(),it.shift()),at=it.shift(),ot=it.shift(),pt="C",ht.push(at,ot);break;case"s":bt=at,_t=ot,yt=tt[tt.length-1],yt.command==="C"&&(bt=at+(at-yt.points[2]),_t=ot+(ot-yt.points[3])),ht.push(bt,_t,at+it.shift(),ot+it.shift()),at+=it.shift(),ot+=it.shift(),pt="C",ht.push(at,ot);break;case"Q":ht.push(it.shift(),it.shift()),at=it.shift(),ot=it.shift(),ht.push(at,ot);break;case"q":ht.push(at+it.shift(),ot+it.shift()),at+=it.shift(),ot+=it.shift(),pt="Q",ht.push(at,ot);break;case"T":bt=at,_t=ot,yt=tt[tt.length-1],yt.command==="Q"&&(bt=at+(at-yt.points[0]),_t=ot+(ot-yt.points[1])),at=it.shift(),ot=it.shift(),pt="Q",ht.push(bt,_t,at,ot);break;case"t":bt=at,_t=ot,yt=tt[tt.length-1],yt.command==="Q"&&(bt=at+(at-yt.points[0]),_t=ot+(ot-yt.points[1])),at+=it.shift(),ot+=it.shift(),pt="Q",ht.push(bt,_t,at,ot);break;case"A":xt=it.shift(),Et=it.shift(),Tt=it.shift(),Pt=it.shift(),At=it.shift(),Ot=at,It=ot,at=it.shift(),ot=it.shift(),pt="A",ht=this.convertEndpointToCenterParameterization(Ot,It,at,ot,Pt,At,xt,Et,Tt);break;case"a":xt=it.shift(),Et=it.shift(),Tt=it.shift(),Pt=it.shift(),At=it.shift(),Ot=at,It=ot,at+=it.shift(),ot+=it.shift(),pt="A",ht=this.convertEndpointToCenterParameterization(Ot,It,at,ot,Pt,At,xt,Et,Tt);break}tt.push({command:pt||nt,points:ht,start:{x:gt,y:mt},pathLength:this.calcLength(gt,mt,pt||nt,ht)})}(nt==="z"||nt==="Z")&&tt.push({command:"z",points:[],start:void 0,pathLength:0})}return tt}static calcLength(i,a,s,j){var et,tt,rt,at,ot=eo;switch(s){case"L":return ot.getLineLength(i,a,j[0],j[1]);case"C":return(0,BezierFunctions_1.getCubicArcLength)([i,j[0],j[2],j[4]],[a,j[1],j[3],j[5]],1);case"Q":return(0,BezierFunctions_1.getQuadraticArcLength)([i,j[0],j[2]],[a,j[1],j[3]],1);case"A":et=0;var st=j[4],_e=j[5],$=j[4]+_e,nt=Math.PI/180;if(Math.abs(st-$)<nt&&(nt=Math.abs(st-$)),tt=ot.getPointOnEllipticalArc(j[0],j[1],j[2],j[3],st,0),_e<0)for(at=st-nt;at>$;at-=nt)rt=ot.getPointOnEllipticalArc(j[0],j[1],j[2],j[3],at,0),et+=ot.getLineLength(tt.x,tt.y,rt.x,rt.y),tt=rt;else for(at=st+nt;at<$;at+=nt)rt=ot.getPointOnEllipticalArc(j[0],j[1],j[2],j[3],at,0),et+=ot.getLineLength(tt.x,tt.y,rt.x,rt.y),tt=rt;return rt=ot.getPointOnEllipticalArc(j[0],j[1],j[2],j[3],$,0),et+=ot.getLineLength(tt.x,tt.y,rt.x,rt.y),et}return 0}static convertEndpointToCenterParameterization(i,a,s,j,et,tt,rt,at,ot){var st=ot*(Math.PI/180),_e=Math.cos(st)*(i-s)/2+Math.sin(st)*(a-j)/2,$=-1*Math.sin(st)*(i-s)/2+Math.cos(st)*(a-j)/2,nt=_e*_e/(rt*rt)+$*$/(at*at);nt>1&&(rt*=Math.sqrt(nt),at*=Math.sqrt(nt));var it=Math.sqrt((rt*rt*(at*at)-rt*rt*($*$)-at*at*(_e*_e))/(rt*rt*($*$)+at*at*(_e*_e)));et===tt&&(it*=-1),isNaN(it)&&(it=0);var lt=it*rt*$/at,dt=it*-at*_e/rt,ft=(i+s)/2+Math.cos(st)*lt-Math.sin(st)*dt,pt=(a+j)/2+Math.sin(st)*lt+Math.cos(st)*dt,ht=function(Et){return Math.sqrt(Et[0]*Et[0]+Et[1]*Et[1])},gt=function(Et,Tt){return(Et[0]*Tt[0]+Et[1]*Tt[1])/(ht(Et)*ht(Tt))},mt=function(Et,Tt){return(Et[0]*Tt[1]<Et[1]*Tt[0]?-1:1)*Math.acos(gt(Et,Tt))},yt=mt([1,0],[(_e-lt)/rt,($-dt)/at]),bt=[(_e-lt)/rt,($-dt)/at],_t=[(-1*_e-lt)/rt,(-1*$-dt)/at],xt=mt(bt,_t);return gt(bt,_t)<=-1&&(xt=Math.PI),gt(bt,_t)>=1&&(xt=0),tt===0&&xt>0&&(xt=xt-2*Math.PI),tt===1&&xt<0&&(xt=xt+2*Math.PI),[ft,pt,rt,at,yt,xt,st,tt]}};Path$2.Path=Path$1;Path$1.prototype.className="Path";Path$1.prototype._attrsAffectingSize=["data"];(0,Global_1$e._registerNode)(Path$1);Factory_1$t.Factory.addGetterSetter(Path$1,"data");Object.defineProperty(Arrow$1,"__esModule",{value:!0});Arrow$1.Arrow=void 0;const Factory_1$s=Factory,Line_1$1=Line$1,Validators_1$s=Validators,Global_1$d=Global,Path_1$2=Path$2;class Arrow extends Line_1$1.Line{_sceneFunc(i){super._sceneFunc(i);var a=Math.PI*2,s=this.points(),j=s,et=this.tension()!==0&&s.length>4;et&&(j=this.getTensionPoints());var tt=this.pointerLength(),rt=s.length,at,ot;if(et){const $=[j[j.length-4],j[j.length-3],j[j.length-2],j[j.length-1],s[rt-2],s[rt-1]],nt=Path_1$2.Path.calcLength(j[j.length-4],j[j.length-3],"C",$),it=Path_1$2.Path.getPointOnQuadraticBezier(Math.min(1,1-tt/nt),$[0],$[1],$[2],$[3],$[4],$[5]);at=s[rt-2]-it.x,ot=s[rt-1]-it.y}else at=s[rt-2]-s[rt-4],ot=s[rt-1]-s[rt-3];var st=(Math.atan2(ot,at)+a)%a,_e=this.pointerWidth();this.pointerAtEnding()&&(i.save(),i.beginPath(),i.translate(s[rt-2],s[rt-1]),i.rotate(st),i.moveTo(0,0),i.lineTo(-tt,_e/2),i.lineTo(-tt,-_e/2),i.closePath(),i.restore(),this.__fillStroke(i)),this.pointerAtBeginning()&&(i.save(),i.beginPath(),i.translate(s[0],s[1]),et?(at=(j[0]+j[2])/2-s[0],ot=(j[1]+j[3])/2-s[1]):(at=s[2]-s[0],ot=s[3]-s[1]),i.rotate((Math.atan2(-ot,-at)+a)%a),i.moveTo(0,0),i.lineTo(-tt,_e/2),i.lineTo(-tt,-_e/2),i.closePath(),i.restore(),this.__fillStroke(i))}__fillStroke(i){var a=this.dashEnabled();a&&(this.attrs.dashEnabled=!1,i.setLineDash([])),i.fillStrokeShape(this),a&&(this.attrs.dashEnabled=!0)}getSelfRect(){const i=super.getSelfRect(),a=this.pointerWidth()/2;return{x:i.x-a,y:i.y-a,width:i.width+a*2,height:i.height+a*2}}}Arrow$1.Arrow=Arrow;Arrow.prototype.className="Arrow";(0,Global_1$d._registerNode)(Arrow);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerLength",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerWidth",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);var Circle$2={};Object.defineProperty(Circle$2,"__esModule",{value:!0});Circle$2.Circle=void 0;const Factory_1$r=Factory,Shape_1$c=Shape,Validators_1$r=Validators,Global_1$c=Global;let Circle$1=class extends Shape_1$c.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius()!==i/2&&this.radius(i/2)}setHeight(i){this.radius()!==i/2&&this.radius(i/2)}};Circle$2.Circle=Circle$1;Circle$1.prototype._centroid=!0;Circle$1.prototype.className="Circle";Circle$1.prototype._attrsAffectingSize=["radius"];(0,Global_1$c._registerNode)(Circle$1);Factory_1$r.Factory.addGetterSetter(Circle$1,"radius",0,(0,Validators_1$r.getNumberValidator)());var Ellipse$1={};Object.defineProperty(Ellipse$1,"__esModule",{value:!0});Ellipse$1.Ellipse=void 0;const Factory_1$q=Factory,Shape_1$b=Shape,Validators_1$q=Validators,Global_1$b=Global;class Ellipse extends Shape_1$b.Shape{_sceneFunc(i){var a=this.radiusX(),s=this.radiusY();i.beginPath(),i.save(),a!==s&&i.scale(1,s/a),i.arc(0,0,a,0,Math.PI*2,!1),i.restore(),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(i){this.radiusX(i/2)}setHeight(i){this.radiusY(i/2)}}Ellipse$1.Ellipse=Ellipse;Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Global_1$b._registerNode)(Ellipse);Factory_1$q.Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusX",0,(0,Validators_1$q.getNumberValidator)());Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusY",0,(0,Validators_1$q.getNumberValidator)());var Image$3={};Object.defineProperty(Image$3,"__esModule",{value:!0});Image$3.Image=void 0;const Util_1$7=Util,Factory_1$p=Factory,Shape_1$a=Shape,Global_1$a=Global,Validators_1$p=Validators;let Image$2=class $0 extends Shape_1$a.Shape{constructor(i){super(i),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const i=this.image();i&&i.complete||i&&i.readyState===4||i&&i.addEventListener&&i.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(i){const a=this.getWidth(),s=this.getHeight(),j=this.cornerRadius(),et=this.attrs.image;let tt;if(et){const rt=this.attrs.cropWidth,at=this.attrs.cropHeight;rt&&at?tt=[et,this.cropX(),this.cropY(),rt,at,0,0,a,s]:tt=[et,0,0,a,s]}(this.hasFill()||this.hasStroke()||j)&&(i.beginPath(),j?Util_1$7.Util.drawRoundedRectPath(i,a,s,j):i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)),et&&(j&&i.clip(),i.drawImage.apply(i,tt))}_hitFunc(i){var a=this.width(),s=this.height(),j=this.cornerRadius();i.beginPath(),j?Util_1$7.Util.drawRoundedRectPath(i,a,s,j):i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)}getWidth(){var i,a;return(i=this.attrs.width)!==null&&i!==void 0?i:(a=this.image())===null||a===void 0?void 0:a.width}getHeight(){var i,a;return(i=this.attrs.height)!==null&&i!==void 0?i:(a=this.image())===null||a===void 0?void 0:a.height}static fromURL(i,a,s=null){var j=Util_1$7.Util.createImageElement();j.onload=function(){var et=new $0({image:j});a(et)},j.onerror=s,j.crossOrigin="Anonymous",j.src=i}};Image$3.Image=Image$2;Image$2.prototype.className="Image";(0,Global_1$a._registerNode)(Image$2);Factory_1$p.Factory.addGetterSetter(Image$2,"cornerRadius",0,(0,Validators_1$p.getNumberOrArrayOfNumbersValidator)(4));Factory_1$p.Factory.addGetterSetter(Image$2,"image");Factory_1$p.Factory.addComponentsGetterSetter(Image$2,"crop",["x","y","width","height"]);Factory_1$p.Factory.addGetterSetter(Image$2,"cropX",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropY",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropWidth",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$2,"cropHeight",0,(0,Validators_1$p.getNumberValidator)());var Label$1={};Object.defineProperty(Label$1,"__esModule",{value:!0});Label$1.Tag=Label$1.Label=void 0;const Factory_1$o=Factory,Shape_1$9=Shape,Group_1$1=Group$1,Validators_1$o=Validators,Global_1$9=Global;var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group_1$1.Group{constructor(i){super(i),this.on("add.konva",function(a){this._addListeners(a.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(i){var a=this,s,j=function(){a._sync()};for(s=0;s<attrChangeListLen$1;s++)i.on(ATTR_CHANGE_LIST$2[s]+CHANGE_KONVA$1,j)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var i=this.getText(),a=this.getTag(),s,j,et,tt,rt,at,ot;if(i&&a){switch(s=i.width(),j=i.height(),et=a.pointerDirection(),tt=a.pointerWidth(),ot=a.pointerHeight(),rt=0,at=0,et){case UP:rt=s/2,at=-1*ot;break;case RIGHT$1:rt=s+tt,at=j/2;break;case DOWN:rt=s/2,at=j+ot;break;case LEFT$1:rt=-1*tt,at=j/2;break}a.setAttrs({x:-1*rt,y:-1*at,width:s,height:j}),i.setAttrs({x:-1*rt,y:-1*at})}}}Label$1.Label=Label;Label.prototype.className="Label";(0,Global_1$9._registerNode)(Label);class Tag extends Shape_1$9.Shape{_sceneFunc(i){var a=this.width(),s=this.height(),j=this.pointerDirection(),et=this.pointerWidth(),tt=this.pointerHeight(),rt=this.cornerRadius();let at=0,ot=0,st=0,_e=0;typeof rt=="number"?at=ot=st=_e=Math.min(rt,a/2,s/2):(at=Math.min(rt[0]||0,a/2,s/2),ot=Math.min(rt[1]||0,a/2,s/2),_e=Math.min(rt[2]||0,a/2,s/2),st=Math.min(rt[3]||0,a/2,s/2)),i.beginPath(),i.moveTo(at,0),j===UP&&(i.lineTo((a-et)/2,0),i.lineTo(a/2,-1*tt),i.lineTo((a+et)/2,0)),i.lineTo(a-ot,0),i.arc(a-ot,ot,ot,Math.PI*3/2,0,!1),j===RIGHT$1&&(i.lineTo(a,(s-tt)/2),i.lineTo(a+et,s/2),i.lineTo(a,(s+tt)/2)),i.lineTo(a,s-_e),i.arc(a-_e,s-_e,_e,0,Math.PI/2,!1),j===DOWN&&(i.lineTo((a+et)/2,s),i.lineTo(a/2,s+tt),i.lineTo((a-et)/2,s)),i.lineTo(st,s),i.arc(st,s-st,st,Math.PI/2,Math.PI,!1),j===LEFT$1&&(i.lineTo(0,(s+tt)/2),i.lineTo(-1*et,s/2),i.lineTo(0,(s-tt)/2)),i.lineTo(0,at),i.arc(at,at,at,Math.PI,Math.PI*3/2,!1),i.closePath(),i.fillStrokeShape(this)}getSelfRect(){var i=0,a=0,s=this.pointerWidth(),j=this.pointerHeight(),et=this.pointerDirection(),tt=this.width(),rt=this.height();return et===UP?(a-=j,rt+=j):et===DOWN?rt+=j:et===LEFT$1?(i-=s*1.5,tt+=s):et===RIGHT$1&&(tt+=s*1.5),{x:i,y:a,width:tt,height:rt}}}Label$1.Tag=Tag;Tag.prototype.className="Tag";(0,Global_1$9._registerNode)(Tag);Factory_1$o.Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory_1$o.Factory.addGetterSetter(Tag,"pointerWidth",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"pointerHeight",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"cornerRadius",0,(0,Validators_1$o.getNumberOrArrayOfNumbersValidator)(4));var Rect$2={};Object.defineProperty(Rect$2,"__esModule",{value:!0});Rect$2.Rect=void 0;const Factory_1$n=Factory,Shape_1$8=Shape,Global_1$8=Global,Util_1$6=Util,Validators_1$n=Validators;let Rect$1=class extends Shape_1$8.Shape{_sceneFunc(i){var a=this.cornerRadius(),s=this.width(),j=this.height();i.beginPath(),a?Util_1$6.Util.drawRoundedRectPath(i,s,j,a):i.rect(0,0,s,j),i.closePath(),i.fillStrokeShape(this)}};Rect$2.Rect=Rect$1;Rect$1.prototype.className="Rect";(0,Global_1$8._registerNode)(Rect$1);Factory_1$n.Factory.addGetterSetter(Rect$1,"cornerRadius",0,(0,Validators_1$n.getNumberOrArrayOfNumbersValidator)(4));var RegularPolygon$1={};Object.defineProperty(RegularPolygon$1,"__esModule",{value:!0});RegularPolygon$1.RegularPolygon=void 0;const Factory_1$m=Factory,Shape_1$7=Shape,Validators_1$m=Validators,Global_1$7=Global;class RegularPolygon extends Shape_1$7.Shape{_sceneFunc(i){const a=this._getPoints();i.beginPath(),i.moveTo(a[0].x,a[0].y);for(var s=1;s<a.length;s++)i.lineTo(a[s].x,a[s].y);i.closePath(),i.fillStrokeShape(this)}_getPoints(){const i=this.attrs.sides,a=this.attrs.radius||0,s=[];for(var j=0;j<i;j++)s.push({x:a*Math.sin(j*2*Math.PI/i),y:-1*a*Math.cos(j*2*Math.PI/i)});return s}getSelfRect(){const i=this._getPoints();var a=i[0].x,s=i[0].y,j=i[0].x,et=i[0].y;return i.forEach(tt=>{a=Math.min(a,tt.x),s=Math.max(s,tt.x),j=Math.min(j,tt.y),et=Math.max(et,tt.y)}),{x:a,y:j,width:s-a,height:et-j}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius(i/2)}setHeight(i){this.radius(i/2)}}RegularPolygon$1.RegularPolygon=RegularPolygon;RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];(0,Global_1$7._registerNode)(RegularPolygon);Factory_1$m.Factory.addGetterSetter(RegularPolygon,"radius",0,(0,Validators_1$m.getNumberValidator)());Factory_1$m.Factory.addGetterSetter(RegularPolygon,"sides",0,(0,Validators_1$m.getNumberValidator)());var Ring$2={};Object.defineProperty(Ring$2,"__esModule",{value:!0});Ring$2.Ring=void 0;const Factory_1$l=Factory,Shape_1$6=Shape,Validators_1$l=Validators,Global_1$6=Global;var PIx2=Math.PI*2;let Ring$1=class extends Shape_1$6.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.innerRadius(),0,PIx2,!1),i.moveTo(this.outerRadius(),0),i.arc(0,0,this.outerRadius(),PIx2,0,!0),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}};Ring$2.Ring=Ring$1;Ring$1.prototype.className="Ring";Ring$1.prototype._centroid=!0;Ring$1.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$6._registerNode)(Ring$1);Factory_1$l.Factory.addGetterSetter(Ring$1,"innerRadius",0,(0,Validators_1$l.getNumberValidator)());Factory_1$l.Factory.addGetterSetter(Ring$1,"outerRadius",0,(0,Validators_1$l.getNumberValidator)());var Sprite$1={};Object.defineProperty(Sprite$1,"__esModule",{value:!0});Sprite$1.Sprite=void 0;const Factory_1$k=Factory,Shape_1$5=Shape,Animation_1=Animation$1,Validators_1$k=Validators,Global_1$5=Global;class Sprite extends Shape_1$5.Shape{constructor(i){super(i),this._updated=!0,this.anim=new Animation_1.Animation(()=>{var a=this._updated;return this._updated=!1,a}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(i){var a=this.animation(),s=this.frameIndex(),j=s*4,et=this.animations()[a],tt=this.frameOffsets(),rt=et[j+0],at=et[j+1],ot=et[j+2],st=et[j+3],_e=this.image();if((this.hasFill()||this.hasStroke())&&(i.beginPath(),i.rect(0,0,ot,st),i.closePath(),i.fillStrokeShape(this)),_e)if(tt){var $=tt[a],nt=s*2;i.drawImage(_e,rt,at,ot,st,$[nt+0],$[nt+1],ot,st)}else i.drawImage(_e,rt,at,ot,st,0,0,ot,st)}_hitFunc(i){var a=this.animation(),s=this.frameIndex(),j=s*4,et=this.animations()[a],tt=this.frameOffsets(),rt=et[j+2],at=et[j+3];if(i.beginPath(),tt){var ot=tt[a],st=s*2;i.rect(ot[st+0],ot[st+1],rt,at)}else i.rect(0,0,rt,at);i.closePath(),i.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var i=this;this.interval=setInterval(function(){i._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var i=this.getLayer();this.anim.setLayers(i),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var i=this.frameIndex(),a=this.animation(),s=this.animations(),j=s[a],et=j.length/4;i<et-1?this.frameIndex(i+1):this.frameIndex(0)}}Sprite$1.Sprite=Sprite;Sprite.prototype.className="Sprite";(0,Global_1$5._registerNode)(Sprite);Factory_1$k.Factory.addGetterSetter(Sprite,"animation");Factory_1$k.Factory.addGetterSetter(Sprite,"animations");Factory_1$k.Factory.addGetterSetter(Sprite,"frameOffsets");Factory_1$k.Factory.addGetterSetter(Sprite,"image");Factory_1$k.Factory.addGetterSetter(Sprite,"frameIndex",0,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.addGetterSetter(Sprite,"frameRate",17,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Star$1={};Object.defineProperty(Star$1,"__esModule",{value:!0});Star$1.Star=void 0;const Factory_1$j=Factory,Shape_1$4=Shape,Validators_1$j=Validators,Global_1$4=Global;class Star extends Shape_1$4.Shape{_sceneFunc(i){var a=this.innerRadius(),s=this.outerRadius(),j=this.numPoints();i.beginPath(),i.moveTo(0,0-s);for(var et=1;et<j*2;et++){var tt=et%2===0?s:a,rt=tt*Math.sin(et*Math.PI/j),at=-1*tt*Math.cos(et*Math.PI/j);i.lineTo(rt,at)}i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(i){this.outerRadius(i/2)}setHeight(i){this.outerRadius(i/2)}}Star$1.Star=Star;Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$4._registerNode)(Star);Factory_1$j.Factory.addGetterSetter(Star,"numPoints",5,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"innerRadius",0,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"outerRadius",0,(0,Validators_1$j.getNumberValidator)());var Text$1={};Object.defineProperty(Text$1,"__esModule",{value:!0});Text$1.Text=Text$1.stringToArray=void 0;const Util_1$5=Util,Factory_1$i=Factory,Shape_1$3=Shape,Validators_1$i=Validators,Global_1$3=Global;function stringToArray(o){return Array.from(o)}Text$1.stringToArray=stringToArray;var AUTO="auto",CENTER="center",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",WORD="word",CHAR="char",NONE="none",ELLIPSIS="…",ATTR_CHANGE_LIST$1=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(o){return o.split(",").map(i=>{i=i.trim();const a=i.indexOf(" ")>=0,s=i.indexOf('"')>=0||i.indexOf("'")>=0;return a&&!s&&(i=`"${i}"`),i}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util_1$5.Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(o){o.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(o){o.setAttr("miterLimit",2),o.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(o){return o=o||{},!o.fillLinearGradientColorStops&&!o.fillRadialGradientColorStops&&!o.fillPatternImage&&(o.fill=o.fill||"black"),o}class Text extends Shape_1$3.Shape{constructor(i){super(checkDefaultFill(i)),this._partialTextX=0,this._partialTextY=0;for(var a=0;a<attrChangeListLen;a++)this.on(ATTR_CHANGE_LIST$1[a]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(i){var a=this.textArr,s=a.length;if(this.text()){var j=this.padding(),et=this.fontSize(),tt=this.lineHeight()*et,rt=this.verticalAlign(),at=0,ot=this.align(),st=this.getWidth(),_e=this.letterSpacing(),$=this.fill(),nt=this.textDecoration(),it=nt.indexOf("underline")!==-1,lt=nt.indexOf("line-through")!==-1,dt,ft=0,ft=tt/2,pt=0,ht=0;for(i.setAttr("font",this._getContextFont()),i.setAttr("textBaseline",MIDDLE),i.setAttr("textAlign",LEFT),rt===MIDDLE?at=(this.getHeight()-s*tt-j*2)/2:rt===BOTTOM&&(at=this.getHeight()-s*tt-j*2),i.translate(j,at+j),dt=0;dt<s;dt++){var pt=0,ht=0,gt=a[dt],mt=gt.text,yt=gt.width,bt=gt.lastInParagraph,_t,xt,Et;if(i.save(),ot===RIGHT?pt+=st-yt-j*2:ot===CENTER&&(pt+=(st-yt-j*2)/2),it){i.save(),i.beginPath(),i.moveTo(pt,ft+ht+Math.round(et/2)),_t=mt.split(" ").length-1,xt=_t===0,Et=ot===JUSTIFY&&!bt?st-j*2:yt,i.lineTo(pt+Math.round(Et),ft+ht+Math.round(et/2)),i.lineWidth=et/15;const $t=this._getLinearGradient();i.strokeStyle=$t||$,i.stroke(),i.restore()}if(lt){i.save(),i.beginPath(),i.moveTo(pt,ft+ht),_t=mt.split(" ").length-1,xt=_t===0,Et=ot===JUSTIFY&&bt&&!xt?st-j*2:yt,i.lineTo(pt+Math.round(Et),ft+ht),i.lineWidth=et/15;const $t=this._getLinearGradient();i.strokeStyle=$t||$,i.stroke(),i.restore()}if(_e!==0||ot===JUSTIFY){_t=mt.split(" ").length-1;for(var Tt=stringToArray(mt),Pt=0;Pt<Tt.length;Pt++){var At=Tt[Pt];At===" "&&!bt&&ot===JUSTIFY&&(pt+=(st-j*2-yt)/_t),this._partialTextX=pt,this._partialTextY=ft+ht,this._partialText=At,i.fillStrokeShape(this),pt+=this.measureSize(At).width+_e}}else this._partialTextX=pt,this._partialTextY=ft+ht,this._partialText=mt,i.fillStrokeShape(this);i.restore(),s>1&&(ft+=tt)}}}_hitFunc(i){var a=this.getWidth(),s=this.getHeight();i.beginPath(),i.rect(0,0,a,s),i.closePath(),i.fillStrokeShape(this)}setText(i){var a=Util_1$5.Util._isString(i)?i:i==null?"":i+"";return this._setAttr(TEXT,a),this}getWidth(){var i=this.attrs.width===AUTO||this.attrs.width===void 0;return i?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var i=this.attrs.height===AUTO||this.attrs.height===void 0;return i?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$5.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(i){var a=getDummyContext(),s=this.fontSize(),j;return a.save(),a.font=this._getContextFont(),j=a.measureText(i),a.restore(),{width:j.width,height:s}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(i){this.align()===JUSTIFY&&(i=i.trim());var s=this._getTextWidth(i);return this.textArr.push({text:i,width:s,lastInParagraph:!1})}_getTextWidth(i){var a=this.letterSpacing(),s=i.length;return getDummyContext().measureText(i).width+(s?a*(s-1):0)}_setTextData(){var i=this.text().split(`
`),a=+this.fontSize(),s=0,j=this.lineHeight()*a,et=this.attrs.width,tt=this.attrs.height,rt=et!==AUTO&&et!==void 0,at=tt!==AUTO&&tt!==void 0,ot=this.padding(),st=et-ot*2,_e=tt-ot*2,$=0,nt=this.wrap(),it=nt!==NONE,lt=nt!==CHAR&&it,dt=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var ft=dt?this._getTextWidth(ELLIPSIS):0,pt=0,ht=i.length;pt<ht;++pt){var gt=i[pt],mt=this._getTextWidth(gt);if(rt&&mt>st)for(;gt.length>0;){for(var yt=0,bt=gt.length,_t="",xt=0;yt<bt;){var Et=yt+bt>>>1,Tt=gt.slice(0,Et+1),Pt=this._getTextWidth(Tt)+ft;Pt<=st?(yt=Et+1,_t=Tt,xt=Pt):bt=Et}if(_t){if(lt){var At,Ot=gt[_t.length],It=Ot===SPACE||Ot===DASH;It&&xt<=st?At=_t.length:At=Math.max(_t.lastIndexOf(SPACE),_t.lastIndexOf(DASH))+1,At>0&&(yt=At,_t=_t.slice(0,yt),xt=this._getTextWidth(_t))}_t=_t.trimRight(),this._addTextLine(_t),s=Math.max(s,xt),$+=j;var $t=this._shouldHandleEllipsis($);if($t){this._tryToAddEllipsisToLastLine();break}if(gt=gt.slice(yt),gt=gt.trimLeft(),gt.length>0&&(mt=this._getTextWidth(gt),mt<=st)){this._addTextLine(gt),$+=j,s=Math.max(s,mt);break}}else break}else this._addTextLine(gt),$+=j,s=Math.max(s,mt),this._shouldHandleEllipsis($)&&pt<ht-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),at&&$+j>_e)break}this.textHeight=a,this.textWidth=s}_shouldHandleEllipsis(i){var a=+this.fontSize(),s=this.lineHeight()*a,j=this.attrs.height,et=j!==AUTO&&j!==void 0,tt=this.padding(),rt=j-tt*2,at=this.wrap(),ot=at!==NONE;return!ot||et&&i+s>rt}_tryToAddEllipsisToLastLine(){var i=this.attrs.width,a=i!==AUTO&&i!==void 0,s=this.padding(),j=i-s*2,et=this.ellipsis(),tt=this.textArr[this.textArr.length-1];if(!(!tt||!et)){if(a){var rt=this._getTextWidth(tt.text+ELLIPSIS)<j;rt||(tt.text=tt.text.slice(0,tt.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(tt.text+ELLIPSIS)}}getStrokeScaleEnabled(){return!0}}Text$1.Text=Text;Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Global_1$3._registerNode)(Text);Factory_1$i.Factory.overWriteSetter(Text,"width",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.overWriteSetter(Text,"height",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.addGetterSetter(Text,"fontFamily","Arial");Factory_1$i.Factory.addGetterSetter(Text,"fontSize",12,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"padding",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"align",LEFT);Factory_1$i.Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory_1$i.Factory.addGetterSetter(Text,"lineHeight",1,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"wrap",WORD);Factory_1$i.Factory.addGetterSetter(Text,"ellipsis",!1,(0,Validators_1$i.getBooleanValidator)());Factory_1$i.Factory.addGetterSetter(Text,"letterSpacing",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"text","",(0,Validators_1$i.getStringValidator)());Factory_1$i.Factory.addGetterSetter(Text,"textDecoration","");var TextPath$1={};Object.defineProperty(TextPath$1,"__esModule",{value:!0});TextPath$1.TextPath=void 0;const Util_1$4=Util,Factory_1$h=Factory,Shape_1$2=Shape,Path_1$1=Path$2,Text_1$1=Text$1,Validators_1$h=Validators,Global_1$2=Global;var EMPTY_STRING="",NORMAL="normal";function _fillFunc(o){o.fillText(this.partialText,0,0)}function _strokeFunc(o){o.strokeText(this.partialText,0,0)}class TextPath extends Shape_1$2.Shape{constructor(i){super(i),this.dummyCanvas=Util_1$4.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Path_1$1.Path.getPathLength(this.dataArray)}_getPointAtLength(i){if(!this.attrs.data)return null;const a=this.pathLength;return i-1>a?null:Path_1$1.Path.getPointAtLengthOfDataArray(i,this.dataArray)}_readDataAttribute(){this.dataArray=Path_1$1.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(i){i.setAttr("font",this._getContextFont()),i.setAttr("textBaseline",this.textBaseline()),i.setAttr("textAlign","left"),i.save();var a=this.textDecoration(),s=this.fill(),j=this.fontSize(),et=this.glyphInfo;a==="underline"&&i.beginPath();for(var tt=0;tt<et.length;tt++){i.save();var rt=et[tt].p0;i.translate(rt.x,rt.y),i.rotate(et[tt].rotation),this.partialText=et[tt].text,i.fillStrokeShape(this),a==="underline"&&(tt===0&&i.moveTo(0,j/2+1),i.lineTo(j,j/2+1)),i.restore()}a==="underline"&&(i.strokeStyle=s,i.lineWidth=j/20,i.stroke()),i.restore()}_hitFunc(i){i.beginPath();var a=this.glyphInfo;if(a.length>=1){var s=a[0].p0;i.moveTo(s.x,s.y)}for(var j=0;j<a.length;j++){var et=a[j].p1;i.lineTo(et.x,et.y)}i.setAttr("lineWidth",this.fontSize()),i.setAttr("strokeStyle",this.colorKey),i.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(i){return Text_1$1.Text.prototype.setText.call(this,i)}_getContextFont(){return Text_1$1.Text.prototype._getContextFont.call(this)}_getTextSize(i){var a=this.dummyCanvas,s=a.getContext("2d");s.save(),s.font=this._getContextFont();var j=s.measureText(i);return s.restore(),{width:j.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:i,height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=i,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),j=this.align(),et=this.kerningFunc(),tt=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let rt=0;j==="center"&&(rt=Math.max(0,this.pathLength/2-tt/2)),j==="right"&&(rt=Math.max(0,this.pathLength-tt));const at=(0,Text_1$1.stringToArray)(this.text());let ot=rt;for(var st=0;st<at.length;st++){const _e=this._getPointAtLength(ot);if(!_e)return;let $=this._getTextSize(at[st]).width+s;if(at[st]===" "&&j==="justify"){const pt=this.text().split(" ").length-1;$+=(this.pathLength-tt)/pt}const nt=this._getPointAtLength(ot+$);if(!nt)return;const it=Path_1$1.Path.getLineLength(_e.x,_e.y,nt.x,nt.y);let lt=0;if(et)try{lt=et(at[st-1],at[st])*this.fontSize()}catch{lt=0}_e.x+=lt,nt.x+=lt,this.textWidth+=lt;const dt=Path_1$1.Path.getPointOnLine(lt+it/2,_e.x,_e.y,nt.x,nt.y),ft=Math.atan2(nt.y-_e.y,nt.x-_e.x);this.glyphInfo.push({transposeX:dt.x,transposeY:dt.y,text:at[st],rotation:ft,p0:_e,p1:nt}),ot+=$}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var i=[];this.glyphInfo.forEach(function(st){i.push(st.p0.x),i.push(st.p0.y),i.push(st.p1.x),i.push(st.p1.y)});for(var a=i[0]||0,s=i[0]||0,j=i[1]||0,et=i[1]||0,tt,rt,at=0;at<i.length/2;at++)tt=i[at*2],rt=i[at*2+1],a=Math.min(a,tt),s=Math.max(s,tt),j=Math.min(j,rt),et=Math.max(et,rt);var ot=this.fontSize();return{x:a-ot/2,y:j-ot/2,width:s-a+ot,height:et-j+ot}}destroy(){return Util_1$4.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}TextPath$1.TextPath=TextPath;TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Global_1$2._registerNode)(TextPath);Factory_1$h.Factory.addGetterSetter(TextPath,"data");Factory_1$h.Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory_1$h.Factory.addGetterSetter(TextPath,"fontSize",12,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"align","left");Factory_1$h.Factory.addGetterSetter(TextPath,"letterSpacing",0,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory_1$h.Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory_1$h.Factory.addGetterSetter(TextPath,"textDecoration",null);Factory_1$h.Factory.addGetterSetter(TextPath,"kerningFunc",null);var Transformer$1={};Object.defineProperty(Transformer$1,"__esModule",{value:!0});Transformer$1.Transformer=void 0;const Util_1$3=Util,Factory_1$g=Factory,Node_1$f=Node$1,Shape_1$1=Shape,Rect_1$1=Rect$2,Group_1=Group$1,Global_1$1=Global,Validators_1$g=Validators,Global_2$1=Global;var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(o=>o+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Global_1$1.Konva._global;function getCursor(o,i){if(o==="rotater")return"crosshair";i+=Util_1$3.Util.degToRad(ANGLES[o]||0);var a=(Util_1$3.Util.radToDeg(i)%360+360)%360;return Util_1$3.Util._inRange(a,315+22.5,360)||Util_1$3.Util._inRange(a,0,22.5)?"ns-resize":Util_1$3.Util._inRange(a,45-22.5,45+22.5)?"nesw-resize":Util_1$3.Util._inRange(a,90-22.5,90+22.5)?"ew-resize":Util_1$3.Util._inRange(a,135-22.5,135+22.5)?"nwse-resize":Util_1$3.Util._inRange(a,180-22.5,180+22.5)?"ns-resize":Util_1$3.Util._inRange(a,225-22.5,225+22.5)?"nesw-resize":Util_1$3.Util._inRange(a,270-22.5,270+22.5)?"ew-resize":Util_1$3.Util._inRange(a,315-22.5,315+22.5)?"nwse-resize":(Util_1$3.Util.error("Transformer has unknown angle for cursor detection: "+a),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER=1e8;function getCenter(o){return{x:o.x+o.width/2*Math.cos(o.rotation)+o.height/2*Math.sin(-o.rotation),y:o.y+o.height/2*Math.cos(o.rotation)+o.width/2*Math.sin(o.rotation)}}function rotateAroundPoint(o,i,a){const s=a.x+(o.x-a.x)*Math.cos(i)-(o.y-a.y)*Math.sin(i),j=a.y+(o.x-a.x)*Math.sin(i)+(o.y-a.y)*Math.cos(i);return Object.assign(Object.assign({},o),{rotation:o.rotation+i,x:s,y:j})}function rotateAroundCenter(o,i){const a=getCenter(o);return rotateAroundPoint(o,i,a)}function getSnap(o,i,a){let s=i;for(let j=0;j<o.length;j++){const et=Global_1$1.Konva.getAngle(o[j]),tt=Math.abs(et-i)%(Math.PI*2);Math.min(tt,Math.PI*2-tt)<a&&(s=et)}return s}class Transformer extends Group_1.Group{constructor(i){super(i),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(i){return this.setNode(i),this}setNode(i){return Util_1$3.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([i])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(i=[]){this._nodes&&this._nodes.length&&this.detach();const a=i.filter(j=>j.isAncestorOf(this)?(Util_1$3.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=i=a,i.length===1&&this.useSingleNodeRotation()?this.rotation(i[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(j=>{const et=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},tt=j._attrsAffectingSize.map(rt=>rt+"Change."+this._getEventNamespace()).join(" ");j.on(tt,et),j.on(TRANSFORM_CHANGE_STR.map(rt=>rt+`.${this._getEventNamespace()}`).join(" "),et),j.on(`absoluteTransformChange.${this._getEventNamespace()}`,et),this._proxyDrag(j)}),this._resetTransformCache();var s=!!this.findOne(".top-left");return s&&this.update(),this}_proxyDrag(i){let a;i.on(`dragstart.${this._getEventNamespace()}`,s=>{a=i.getAbsolutePosition(),!this.isDragging()&&i!==this.findOne(".back")&&this.startDrag(s,!1)}),i.on(`dragmove.${this._getEventNamespace()}`,s=>{if(!a)return;const j=i.getAbsolutePosition(),et=j.x-a.x,tt=j.y-a.y;this.nodes().forEach(rt=>{if(rt===i||rt.isDragging())return;const at=rt.getAbsolutePosition();rt.setAbsolutePosition({x:at.x+et,y:at.y+tt}),rt.startDrag(s)}),a=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(i=>{i.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(i,a=this.rotation(),s){var j=i.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),et=i.getAbsoluteScale(s),tt=i.getAbsolutePosition(s),rt=j.x*et.x-i.offsetX()*et.x,at=j.y*et.y-i.offsetY()*et.y;const ot=(Global_1$1.Konva.getAngle(i.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),st={x:tt.x+rt*Math.cos(ot)+at*Math.sin(-ot),y:tt.y+at*Math.cos(ot)+rt*Math.sin(ot),width:j.width*et.x,height:j.height*et.y,rotation:ot};return rotateAroundPoint(st,-Global_1$1.Konva.getAngle(a),{x:0,y:0})}__getNodeRect(){var i=this.getNode();if(!i)return{x:-MAX_SAFE_INTEGER,y:-MAX_SAFE_INTEGER,width:0,height:0,rotation:0};const a=[];this.nodes().map(ot=>{const st=ot.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var _e=[{x:st.x,y:st.y},{x:st.x+st.width,y:st.y},{x:st.x+st.width,y:st.y+st.height},{x:st.x,y:st.y+st.height}],$=ot.getAbsoluteTransform();_e.forEach(function(nt){var it=$.point(nt);a.push(it)})});const s=new Util_1$3.Transform;s.rotate(-Global_1$1.Konva.getAngle(this.rotation()));var j,et,tt,rt;a.forEach(function(ot){var st=s.point(ot);j===void 0&&(j=tt=st.x,et=rt=st.y),j=Math.min(j,st.x),et=Math.min(et,st.y),tt=Math.max(tt,st.x),rt=Math.max(rt,st.y)}),s.invert();const at=s.point({x:j,y:et});return{x:at.x,y:at.y,width:tt-j,height:rt-et,rotation:Global_1$1.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(function(i){this._createAnchor(i)}.bind(this)),this._createAnchor("rotater")}_createAnchor(i){var a=new Rect_1$1.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:i+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),s=this;a.on("mousedown touchstart",function(j){s._handleMouseDown(j)}),a.on("dragstart",j=>{a.stopDrag(),j.cancelBubble=!0}),a.on("dragend",j=>{j.cancelBubble=!0}),a.on("mouseenter",()=>{var j=Global_1$1.Konva.getAngle(this.rotation()),et=getCursor(i,j);a.getStage().content&&(a.getStage().content.style.cursor=et),this._cursorChange=!0}),a.on("mouseout",()=>{a.getStage().content&&(a.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(a)}_createBack(){var i=new Shape_1$1.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(a){var s=this.getParent(),j=s.padding();a.beginPath(),a.rect(-j,-j,this.width()+j*2,this.height()+j*2),a.moveTo(this.width()/2,-j),s.rotateEnabled()&&a.lineTo(this.width()/2,-s.rotateAnchorOffset()*Util_1$3.Util._sign(this.height())-j),a.fillStrokeShape(this)},hitFunc:(a,s)=>{if(this.shouldOverdrawWholeArea()){var j=this.padding();a.beginPath(),a.rect(-j,-j,s.width()+j*2,s.height()+j*2),a.fillStrokeShape(s)}}});this.add(i),this._proxyDrag(i),i.on("dragstart",a=>{a.cancelBubble=!0}),i.on("dragmove",a=>{a.cancelBubble=!0}),i.on("dragend",a=>{a.cancelBubble=!0}),this.on("dragmove",a=>{this.update()})}_handleMouseDown(i){this._movingAnchorName=i.target.name().split(" ")[0];var a=this._getNodeRect(),s=a.width,j=a.height,et=Math.sqrt(Math.pow(s,2)+Math.pow(j,2));this.sin=Math.abs(j/et),this.cos=Math.abs(s/et),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var tt=i.target.getAbsolutePosition(),rt=i.target.getStage().getPointerPosition();this._anchorDragOffset={x:rt.x-tt.x,y:rt.y-tt.y},this._fire("transformstart",{evt:i.evt,target:this.getNode()}),this._nodes.forEach(at=>{at._fire("transformstart",{evt:i.evt,target:at})})}_handleMouseMove(i){var a,s,j,et=this.findOne("."+this._movingAnchorName),tt=et.getStage();tt.setPointersPositions(i);const rt=tt.getPointerPosition();let at={x:rt.x-this._anchorDragOffset.x,y:rt.y-this._anchorDragOffset.y};const ot=et.getAbsolutePosition();this.anchorDragBoundFunc()&&(at=this.anchorDragBoundFunc()(ot,at,i)),et.setAbsolutePosition(at);const st=et.getAbsolutePosition();if(!(ot.x===st.x&&ot.y===st.y)){if(this._movingAnchorName==="rotater"){var _e=this._getNodeRect();a=et.x()-_e.width/2,s=-et.y()+_e.height/2;let At=Math.atan2(-s,a)+Math.PI/2;_e.height<0&&(At-=Math.PI);var $=Global_1$1.Konva.getAngle(this.rotation());const Ot=$+At,It=Global_1$1.Konva.getAngle(this.rotationSnapTolerance()),kt=getSnap(this.rotationSnaps(),Ot,It)-_e.rotation,Ft=rotateAroundCenter(_e,kt);this._fitNodesInto(Ft,i);return}var nt=this.shiftBehavior(),it;nt==="inverted"?it=this.keepRatio()&&!i.shiftKey:nt==="none"?it=this.keepRatio():it=this.keepRatio()||i.shiftKey;var ht=this.centeredScaling()||i.altKey;if(this._movingAnchorName==="top-left"){if(it){var lt=ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};j=Math.sqrt(Math.pow(lt.x-et.x(),2)+Math.pow(lt.y-et.y(),2));var dt=this.findOne(".top-left").x()>lt.x?-1:1,ft=this.findOne(".top-left").y()>lt.y?-1:1;a=j*this.cos*dt,s=j*this.sin*ft,this.findOne(".top-left").x(lt.x-a),this.findOne(".top-left").y(lt.y-s)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(et.y());else if(this._movingAnchorName==="top-right"){if(it){var lt=ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};j=Math.sqrt(Math.pow(et.x()-lt.x,2)+Math.pow(lt.y-et.y(),2));var dt=this.findOne(".top-right").x()<lt.x?-1:1,ft=this.findOne(".top-right").y()>lt.y?-1:1;a=j*this.cos*dt,s=j*this.sin*ft,this.findOne(".top-right").x(lt.x+a),this.findOne(".top-right").y(lt.y-s)}var pt=et.position();this.findOne(".top-left").y(pt.y),this.findOne(".bottom-right").x(pt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(et.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(et.x());else if(this._movingAnchorName==="bottom-left"){if(it){var lt=ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};j=Math.sqrt(Math.pow(lt.x-et.x(),2)+Math.pow(et.y()-lt.y,2));var dt=lt.x<et.x()?-1:1,ft=et.y()<lt.y?-1:1;a=j*this.cos*dt,s=j*this.sin*ft,et.x(lt.x-a),et.y(lt.y+s)}pt=et.position(),this.findOne(".top-left").x(pt.x),this.findOne(".bottom-right").y(pt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(et.y());else if(this._movingAnchorName==="bottom-right"){if(it){var lt=ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};j=Math.sqrt(Math.pow(et.x()-lt.x,2)+Math.pow(et.y()-lt.y,2));var dt=this.findOne(".bottom-right").x()<lt.x?-1:1,ft=this.findOne(".bottom-right").y()<lt.y?-1:1;a=j*this.cos*dt,s=j*this.sin*ft,this.findOne(".bottom-right").x(lt.x+a),this.findOne(".bottom-right").y(lt.y+s)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var ht=this.centeredScaling()||i.altKey;if(ht){var gt=this.findOne(".top-left"),mt=this.findOne(".bottom-right"),yt=gt.x(),bt=gt.y(),_t=this.getWidth()-mt.x(),xt=this.getHeight()-mt.y();mt.move({x:-yt,y:-bt}),gt.move({x:_t,y:xt})}var Et=this.findOne(".top-left").getAbsolutePosition();a=Et.x,s=Et.y;var Tt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Pt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:a,y:s,width:Tt,height:Pt,rotation:Global_1$1.Konva.getAngle(this.rotation())},i)}}_handleMouseUp(i){this._removeEvents(i)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(i){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var a=this.getNode();this._fire("transformend",{evt:i,target:a}),a&&this._nodes.forEach(s=>{s._fire("transformend",{evt:i,target:s})}),this._movingAnchorName=null}}_fitNodesInto(i,a){var s=this._getNodeRect();const j=1;if(Util_1$3.Util._inRange(i.width,-this.padding()*2-j,j)){this.update();return}if(Util_1$3.Util._inRange(i.height,-this.padding()*2-j,j)){this.update();return}const et=this.flipEnabled();var tt=new Util_1$3.Transform;if(tt.rotate(Global_1$1.Konva.getAngle(this.rotation())),this._movingAnchorName&&i.width<0&&this._movingAnchorName.indexOf("left")>=0){const _e=tt.point({x:-this.padding()*2,y:0});if(i.x+=_e.x,i.y+=_e.y,i.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=_e.x,this._anchorDragOffset.y-=_e.y,!et){this.update();return}}else if(this._movingAnchorName&&i.width<0&&this._movingAnchorName.indexOf("right")>=0){const _e=tt.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=_e.x,this._anchorDragOffset.y-=_e.y,i.width+=this.padding()*2,!et){this.update();return}}if(this._movingAnchorName&&i.height<0&&this._movingAnchorName.indexOf("top")>=0){const _e=tt.point({x:0,y:-this.padding()*2});if(i.x+=_e.x,i.y+=_e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=_e.x,this._anchorDragOffset.y-=_e.y,i.height+=this.padding()*2,!et){this.update();return}}else if(this._movingAnchorName&&i.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const _e=tt.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=_e.x,this._anchorDragOffset.y-=_e.y,i.height+=this.padding()*2,!et){this.update();return}}if(this.boundBoxFunc()){const _e=this.boundBoxFunc()(s,i);_e?i=_e:Util_1$3.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const rt=1e7,at=new Util_1$3.Transform;at.translate(s.x,s.y),at.rotate(s.rotation),at.scale(s.width/rt,s.height/rt);const ot=new Util_1$3.Transform;ot.translate(i.x,i.y),ot.rotate(i.rotation),ot.scale(i.width/rt,i.height/rt);const st=ot.multiply(at.invert());this._nodes.forEach(_e=>{var $;const nt=_e.getParent().getAbsoluteTransform(),it=_e.getTransform().copy();it.translate(_e.offsetX(),_e.offsetY());const lt=new Util_1$3.Transform;lt.multiply(nt.copy().invert()).multiply(st).multiply(nt).multiply(it);const dt=lt.decompose();_e.setAttrs(dt),this._fire("transform",{evt:a,target:_e}),_e._fire("transform",{evt:a,target:_e}),($=_e.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(Util_1$3.Util._getRotation(i.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(i,a){this.findOne(i).setAttrs(a)}update(){var i,a=this._getNodeRect();this.rotation(Util_1$3.Util._getRotation(a.rotation));var s=a.width,j=a.height,et=this.enabledAnchors(),tt=this.resizeEnabled(),rt=this.padding(),at=this.anchorSize();const ot=this.find("._anchor");ot.forEach(_e=>{_e.setAttrs({width:at,height:at,offsetX:at/2,offsetY:at/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:at/2+rt,offsetY:at/2+rt,visible:tt&&et.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:s/2,y:0,offsetY:at/2+rt,visible:tt&&et.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:s,y:0,offsetX:at/2-rt,offsetY:at/2+rt,visible:tt&&et.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:j/2,offsetX:at/2+rt,visible:tt&&et.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:s,y:j/2,offsetX:at/2-rt,visible:tt&&et.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:j,offsetX:at/2+rt,offsetY:at/2-rt,visible:tt&&et.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:s/2,y:j,offsetY:at/2-rt,visible:tt&&et.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:s,y:j,offsetX:at/2-rt,offsetY:at/2-rt,visible:tt&&et.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:s/2,y:-this.rotateAnchorOffset()*Util_1$3.Util._sign(j)-rt,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:s,height:j,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const st=this.anchorStyleFunc();st&&ot.forEach(_e=>{st(_e)}),(i=this.getLayer())===null||i===void 0||i.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var i=this.findOne("."+this._movingAnchorName);i&&i.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group_1.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node_1$f.Node.prototype.toObject.call(this)}clone(i){var a=Node_1$f.Node.prototype.clone.call(this,i);return a}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Transformer$1.Transformer=Transformer;function validateAnchors(o){return o instanceof Array||Util_1$3.Util.warn("enabledAnchors value should be an array"),o instanceof Array&&o.forEach(function(i){ANCHORS_NAMES.indexOf(i)===-1&&Util_1$3.Util.warn("Unknown anchor name: "+i+". Available names are: "+ANCHORS_NAMES.join(", "))}),o||[]}Transformer.prototype.className="Transformer";(0,Global_2$1._registerNode)(Transformer);Factory_1$g.Factory.addGetterSetter(Transformer,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory_1$g.Factory.addGetterSetter(Transformer,"flipEnabled",!0,(0,Validators_1$g.getBooleanValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"resizeEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorSize",10,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotateEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnaps",[]);Factory_1$g.Factory.addGetterSetter(Transformer,"rotateAnchorOffset",50,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnapTolerance",5,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"anchorFill","white");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorCornerRadius",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"borderStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderDash");Factory_1$g.Factory.addGetterSetter(Transformer,"keepRatio",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"shiftBehavior","default");Factory_1$g.Factory.addGetterSetter(Transformer,"centeredScaling",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"ignoreStroke",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"padding",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"node");Factory_1$g.Factory.addGetterSetter(Transformer,"nodes");Factory_1$g.Factory.addGetterSetter(Transformer,"boundBoxFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorDragBoundFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStyleFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"shouldOverdrawWholeArea",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"useSingleNodeRotation",!0);Factory_1$g.Factory.backCompat(Transformer,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Wedge$1={};Object.defineProperty(Wedge$1,"__esModule",{value:!0});Wedge$1.Wedge=void 0;const Factory_1$f=Factory,Shape_1=Shape,Global_1=Global,Validators_1$f=Validators,Global_2=Global;class Wedge extends Shape_1.Shape{_sceneFunc(i){i.beginPath(),i.arc(0,0,this.radius(),0,Global_1.Konva.getAngle(this.angle()),this.clockwise()),i.lineTo(0,0),i.closePath(),i.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(i){this.radius(i/2)}setHeight(i){this.radius(i/2)}}Wedge$1.Wedge=Wedge;Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];(0,Global_2._registerNode)(Wedge);Factory_1$f.Factory.addGetterSetter(Wedge,"radius",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"angle",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"clockwise",!1);Factory_1$f.Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Blur$1={};Object.defineProperty(Blur$1,"__esModule",{value:!0});Blur$1.Blur=void 0;const Factory_1$e=Factory,Node_1$e=Node$1,Validators_1$e=Validators;function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(o,i){var a=o.data,s=o.width,j=o.height,et,tt,rt,at,ot,st,_e,$,nt,it,lt,dt,ft,pt,ht,gt,mt,yt,bt,_t,xt,Et,Tt,Pt,At=i+i+1,Ot=s-1,It=j-1,$t=i+1,kt=$t*($t+1)/2,Ft=new BlurStack,Ut=null,zt=Ft,Wt=null,Qt=null,un=mul_table[i],an=shg_table[i];for(rt=1;rt<At;rt++)zt=zt.next=new BlurStack,rt===$t&&(Ut=zt);for(zt.next=Ft,_e=st=0,tt=0;tt<j;tt++){for(gt=mt=yt=bt=$=nt=it=lt=0,dt=$t*(_t=a[st]),ft=$t*(xt=a[st+1]),pt=$t*(Et=a[st+2]),ht=$t*(Tt=a[st+3]),$+=kt*_t,nt+=kt*xt,it+=kt*Et,lt+=kt*Tt,zt=Ft,rt=0;rt<$t;rt++)zt.r=_t,zt.g=xt,zt.b=Et,zt.a=Tt,zt=zt.next;for(rt=1;rt<$t;rt++)at=st+((Ot<rt?Ot:rt)<<2),$+=(zt.r=_t=a[at])*(Pt=$t-rt),nt+=(zt.g=xt=a[at+1])*Pt,it+=(zt.b=Et=a[at+2])*Pt,lt+=(zt.a=Tt=a[at+3])*Pt,gt+=_t,mt+=xt,yt+=Et,bt+=Tt,zt=zt.next;for(Wt=Ft,Qt=Ut,et=0;et<s;et++)a[st+3]=Tt=lt*un>>an,Tt!==0?(Tt=255/Tt,a[st]=($*un>>an)*Tt,a[st+1]=(nt*un>>an)*Tt,a[st+2]=(it*un>>an)*Tt):a[st]=a[st+1]=a[st+2]=0,$-=dt,nt-=ft,it-=pt,lt-=ht,dt-=Wt.r,ft-=Wt.g,pt-=Wt.b,ht-=Wt.a,at=_e+((at=et+i+1)<Ot?at:Ot)<<2,gt+=Wt.r=a[at],mt+=Wt.g=a[at+1],yt+=Wt.b=a[at+2],bt+=Wt.a=a[at+3],$+=gt,nt+=mt,it+=yt,lt+=bt,Wt=Wt.next,dt+=_t=Qt.r,ft+=xt=Qt.g,pt+=Et=Qt.b,ht+=Tt=Qt.a,gt-=_t,mt-=xt,yt-=Et,bt-=Tt,Qt=Qt.next,st+=4;_e+=s}for(et=0;et<s;et++){for(mt=yt=bt=gt=nt=it=lt=$=0,st=et<<2,dt=$t*(_t=a[st]),ft=$t*(xt=a[st+1]),pt=$t*(Et=a[st+2]),ht=$t*(Tt=a[st+3]),$+=kt*_t,nt+=kt*xt,it+=kt*Et,lt+=kt*Tt,zt=Ft,rt=0;rt<$t;rt++)zt.r=_t,zt.g=xt,zt.b=Et,zt.a=Tt,zt=zt.next;for(ot=s,rt=1;rt<=i;rt++)st=ot+et<<2,$+=(zt.r=_t=a[st])*(Pt=$t-rt),nt+=(zt.g=xt=a[st+1])*Pt,it+=(zt.b=Et=a[st+2])*Pt,lt+=(zt.a=Tt=a[st+3])*Pt,gt+=_t,mt+=xt,yt+=Et,bt+=Tt,zt=zt.next,rt<It&&(ot+=s);for(st=et,Wt=Ft,Qt=Ut,tt=0;tt<j;tt++)at=st<<2,a[at+3]=Tt=lt*un>>an,Tt>0?(Tt=255/Tt,a[at]=($*un>>an)*Tt,a[at+1]=(nt*un>>an)*Tt,a[at+2]=(it*un>>an)*Tt):a[at]=a[at+1]=a[at+2]=0,$-=dt,nt-=ft,it-=pt,lt-=ht,dt-=Wt.r,ft-=Wt.g,pt-=Wt.b,ht-=Wt.a,at=et+((at=tt+$t)<It?at:It)*s<<2,$+=gt+=Wt.r=a[at],nt+=mt+=Wt.g=a[at+1],it+=yt+=Wt.b=a[at+2],lt+=bt+=Wt.a=a[at+3],Wt=Wt.next,dt+=_t=Qt.r,ft+=xt=Qt.g,pt+=Et=Qt.b,ht+=Tt=Qt.a,gt-=_t,mt-=xt,yt-=Et,bt-=Tt,Qt=Qt.next,st+=s}}const Blur=function o(i){var a=Math.round(this.blurRadius());a>0&&filterGaussBlurRGBA(i,a)};Blur$1.Blur=Blur;Factory_1$e.Factory.addGetterSetter(Node_1$e.Node,"blurRadius",0,(0,Validators_1$e.getNumberValidator)(),Factory_1$e.Factory.afterSetFilter);var Brighten$1={};Object.defineProperty(Brighten$1,"__esModule",{value:!0});Brighten$1.Brighten=void 0;const Factory_1$d=Factory,Node_1$d=Node$1,Validators_1$d=Validators,Brighten=function(o){var i=this.brightness()*255,a=o.data,s=a.length,j;for(j=0;j<s;j+=4)a[j]+=i,a[j+1]+=i,a[j+2]+=i};Brighten$1.Brighten=Brighten;Factory_1$d.Factory.addGetterSetter(Node_1$d.Node,"brightness",0,(0,Validators_1$d.getNumberValidator)(),Factory_1$d.Factory.afterSetFilter);var Contrast$1={};Object.defineProperty(Contrast$1,"__esModule",{value:!0});Contrast$1.Contrast=void 0;const Factory_1$c=Factory,Node_1$c=Node$1,Validators_1$c=Validators,Contrast=function(o){var i=Math.pow((this.contrast()+100)/100,2),a=o.data,s=a.length,j=150,et=150,tt=150,rt;for(rt=0;rt<s;rt+=4)j=a[rt],et=a[rt+1],tt=a[rt+2],j/=255,j-=.5,j*=i,j+=.5,j*=255,et/=255,et-=.5,et*=i,et+=.5,et*=255,tt/=255,tt-=.5,tt*=i,tt+=.5,tt*=255,j=j<0?0:j>255?255:j,et=et<0?0:et>255?255:et,tt=tt<0?0:tt>255?255:tt,a[rt]=j,a[rt+1]=et,a[rt+2]=tt};Contrast$1.Contrast=Contrast;Factory_1$c.Factory.addGetterSetter(Node_1$c.Node,"contrast",0,(0,Validators_1$c.getNumberValidator)(),Factory_1$c.Factory.afterSetFilter);var Emboss$1={};Object.defineProperty(Emboss$1,"__esModule",{value:!0});Emboss$1.Emboss=void 0;const Factory_1$b=Factory,Node_1$b=Node$1,Util_1$2=Util,Validators_1$b=Validators,Emboss=function(o){var i=this.embossStrength()*10,a=this.embossWhiteLevel()*255,s=this.embossDirection(),j=this.embossBlend(),et=0,tt=0,rt=o.data,at=o.width,ot=o.height,st=at*4,_e=ot;switch(s){case"top-left":et=-1,tt=-1;break;case"top":et=-1,tt=0;break;case"top-right":et=-1,tt=1;break;case"right":et=0,tt=1;break;case"bottom-right":et=1,tt=1;break;case"bottom":et=1,tt=0;break;case"bottom-left":et=1,tt=-1;break;case"left":et=0,tt=-1;break;default:Util_1$2.Util.error("Unknown emboss direction: "+s)}do{var $=(_e-1)*st,nt=et;_e+nt<1&&(nt=0),_e+nt>ot&&(nt=0);var it=(_e-1+nt)*at*4,lt=at;do{var dt=$+(lt-1)*4,ft=tt;lt+ft<1&&(ft=0),lt+ft>at&&(ft=0);var pt=it+(lt-1+ft)*4,ht=rt[dt]-rt[pt],gt=rt[dt+1]-rt[pt+1],mt=rt[dt+2]-rt[pt+2],yt=ht,bt=yt>0?yt:-yt,_t=gt>0?gt:-gt,xt=mt>0?mt:-mt;if(_t>bt&&(yt=gt),xt>bt&&(yt=mt),yt*=i,j){var Et=rt[dt]+yt,Tt=rt[dt+1]+yt,Pt=rt[dt+2]+yt;rt[dt]=Et>255?255:Et<0?0:Et,rt[dt+1]=Tt>255?255:Tt<0?0:Tt,rt[dt+2]=Pt>255?255:Pt<0?0:Pt}else{var At=a-yt;At<0?At=0:At>255&&(At=255),rt[dt]=rt[dt+1]=rt[dt+2]=At}}while(--lt)}while(--_e)};Emboss$1.Emboss=Emboss;Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossStrength",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossWhiteLevel",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossDirection","top-left",null,Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossBlend",!1,null,Factory_1$b.Factory.afterSetFilter);var Enhance$1={};Object.defineProperty(Enhance$1,"__esModule",{value:!0});Enhance$1.Enhance=void 0;const Factory_1$a=Factory,Node_1$a=Node$1,Validators_1$a=Validators;function remap(o,i,a,s,j){var et=a-i,tt=j-s,rt;return et===0?s+tt/2:tt===0?s:(rt=(o-i)/et,rt=tt*rt+s,rt)}const Enhance=function(o){var i=o.data,a=i.length,s=i[0],j=s,et,tt=i[1],rt=tt,at,ot=i[2],st=ot,_e,$,nt=this.enhance();if(nt!==0){for($=0;$<a;$+=4)et=i[$+0],et<s?s=et:et>j&&(j=et),at=i[$+1],at<tt?tt=at:at>rt&&(rt=at),_e=i[$+2],_e<ot?ot=_e:_e>st&&(st=_e);j===s&&(j=255,s=0),rt===tt&&(rt=255,tt=0),st===ot&&(st=255,ot=0);var it,lt,dt,ft,pt,ht,gt,mt,yt;for(nt>0?(lt=j+nt*(255-j),dt=s-nt*(s-0),pt=rt+nt*(255-rt),ht=tt-nt*(tt-0),mt=st+nt*(255-st),yt=ot-nt*(ot-0)):(it=(j+s)*.5,lt=j+nt*(j-it),dt=s+nt*(s-it),ft=(rt+tt)*.5,pt=rt+nt*(rt-ft),ht=tt+nt*(tt-ft),gt=(st+ot)*.5,mt=st+nt*(st-gt),yt=ot+nt*(ot-gt)),$=0;$<a;$+=4)i[$+0]=remap(i[$+0],s,j,dt,lt),i[$+1]=remap(i[$+1],tt,rt,ht,pt),i[$+2]=remap(i[$+2],ot,st,yt,mt)}};Enhance$1.Enhance=Enhance;Factory_1$a.Factory.addGetterSetter(Node_1$a.Node,"enhance",0,(0,Validators_1$a.getNumberValidator)(),Factory_1$a.Factory.afterSetFilter);var Grayscale$1={};Object.defineProperty(Grayscale$1,"__esModule",{value:!0});Grayscale$1.Grayscale=void 0;const Grayscale=function(o){var i=o.data,a=i.length,s,j;for(s=0;s<a;s+=4)j=.34*i[s]+.5*i[s+1]+.16*i[s+2],i[s]=j,i[s+1]=j,i[s+2]=j};Grayscale$1.Grayscale=Grayscale;var HSL$1={};Object.defineProperty(HSL$1,"__esModule",{value:!0});HSL$1.HSL=void 0;const Factory_1$9=Factory,Node_1$9=Node$1,Validators_1$9=Validators;Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"hue",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"saturation",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"luminance",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);const HSL=function(o){var i=o.data,a=i.length,s=1,j=Math.pow(2,this.saturation()),et=Math.abs(this.hue()+360)%360,tt=this.luminance()*127,rt,at=s*j*Math.cos(et*Math.PI/180),ot=s*j*Math.sin(et*Math.PI/180),st=.299*s+.701*at+.167*ot,_e=.587*s-.587*at+.33*ot,$=.114*s-.114*at-.497*ot,nt=.299*s-.299*at-.328*ot,it=.587*s+.413*at+.035*ot,lt=.114*s-.114*at+.293*ot,dt=.299*s-.3*at+1.25*ot,ft=.587*s-.586*at-1.05*ot,pt=.114*s+.886*at-.2*ot,ht,gt,mt,yt;for(rt=0;rt<a;rt+=4)ht=i[rt+0],gt=i[rt+1],mt=i[rt+2],yt=i[rt+3],i[rt+0]=st*ht+_e*gt+$*mt+tt,i[rt+1]=nt*ht+it*gt+lt*mt+tt,i[rt+2]=dt*ht+ft*gt+pt*mt+tt,i[rt+3]=yt};HSL$1.HSL=HSL;var HSV$1={};Object.defineProperty(HSV$1,"__esModule",{value:!0});HSV$1.HSV=void 0;const Factory_1$8=Factory,Node_1$8=Node$1,Validators_1$8=Validators,HSV=function(o){var i=o.data,a=i.length,s=Math.pow(2,this.value()),j=Math.pow(2,this.saturation()),et=Math.abs(this.hue()+360)%360,tt,rt=s*j*Math.cos(et*Math.PI/180),at=s*j*Math.sin(et*Math.PI/180),ot=.299*s+.701*rt+.167*at,st=.587*s-.587*rt+.33*at,_e=.114*s-.114*rt-.497*at,$=.299*s-.299*rt-.328*at,nt=.587*s+.413*rt+.035*at,it=.114*s-.114*rt+.293*at,lt=.299*s-.3*rt+1.25*at,dt=.587*s-.586*rt-1.05*at,ft=.114*s+.886*rt-.2*at,pt,ht,gt,mt;for(tt=0;tt<a;tt+=4)pt=i[tt+0],ht=i[tt+1],gt=i[tt+2],mt=i[tt+3],i[tt+0]=ot*pt+st*ht+_e*gt,i[tt+1]=$*pt+nt*ht+it*gt,i[tt+2]=lt*pt+dt*ht+ft*gt,i[tt+3]=mt};HSV$1.HSV=HSV;Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"hue",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"saturation",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"value",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);var Invert$1={};Object.defineProperty(Invert$1,"__esModule",{value:!0});Invert$1.Invert=void 0;const Invert=function(o){var i=o.data,a=i.length,s;for(s=0;s<a;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2]};Invert$1.Invert=Invert;var Kaleidoscope$1={};Object.defineProperty(Kaleidoscope$1,"__esModule",{value:!0});Kaleidoscope$1.Kaleidoscope=void 0;const Factory_1$7=Factory,Node_1$7=Node$1,Util_1$1=Util,Validators_1$7=Validators;var ToPolar=function(o,i,a){var s=o.data,j=i.data,et=o.width,tt=o.height,rt=a.polarCenterX||et/2,at=a.polarCenterY||tt/2,ot,st,_e,$=0,nt=0,it=0,lt=0,dt,ft=Math.sqrt(rt*rt+at*at);st=et-rt,_e=tt-at,dt=Math.sqrt(st*st+_e*_e),ft=dt>ft?dt:ft;var pt=tt,ht=et,gt,mt,yt=360/ht*Math.PI/180,bt,_t;for(mt=0;mt<ht;mt+=1)for(bt=Math.sin(mt*yt),_t=Math.cos(mt*yt),gt=0;gt<pt;gt+=1)st=Math.floor(rt+ft*gt/pt*_t),_e=Math.floor(at+ft*gt/pt*bt),ot=(_e*et+st)*4,$=s[ot+0],nt=s[ot+1],it=s[ot+2],lt=s[ot+3],ot=(mt+gt*et)*4,j[ot+0]=$,j[ot+1]=nt,j[ot+2]=it,j[ot+3]=lt},FromPolar=function(o,i,a){var s=o.data,j=i.data,et=o.width,tt=o.height,rt=a.polarCenterX||et/2,at=a.polarCenterY||tt/2,ot,st,_e,$,nt,it=0,lt=0,dt=0,ft=0,pt,ht=Math.sqrt(rt*rt+at*at);st=et-rt,_e=tt-at,pt=Math.sqrt(st*st+_e*_e),ht=pt>ht?pt:ht;var gt=tt,mt=et,yt,bt,_t=a.polarRotation||0,xt,Et;for(st=0;st<et;st+=1)for(_e=0;_e<tt;_e+=1)$=st-rt,nt=_e-at,yt=Math.sqrt($*$+nt*nt)*gt/ht,bt=(Math.atan2(nt,$)*180/Math.PI+360+_t)%360,bt=bt*mt/360,xt=Math.floor(bt),Et=Math.floor(yt),ot=(Et*et+xt)*4,it=s[ot+0],lt=s[ot+1],dt=s[ot+2],ft=s[ot+3],ot=(_e*et+st)*4,j[ot+0]=it,j[ot+1]=lt,j[ot+2]=dt,j[ot+3]=ft};const Kaleidoscope=function(o){var i=o.width,a=o.height,s,j,et,tt,rt,at,ot,st,_e,$,nt=Math.round(this.kaleidoscopePower()),it=Math.round(this.kaleidoscopeAngle()),lt=Math.floor(i*(it%360)/360);if(!(nt<1)){var dt=Util_1$1.Util.createCanvasElement();dt.width=i,dt.height=a;var ft=dt.getContext("2d").getImageData(0,0,i,a);Util_1$1.Util.releaseCanvas(dt),ToPolar(o,ft,{polarCenterX:i/2,polarCenterY:a/2});for(var pt=i/Math.pow(2,nt);pt<=8;)pt=pt*2,nt-=1;pt=Math.ceil(pt);var ht=pt,gt=0,mt=ht,yt=1;for(lt+pt>i&&(gt=ht,mt=0,yt=-1),j=0;j<a;j+=1)for(s=gt;s!==mt;s+=yt)et=Math.round(s+lt)%i,_e=(i*j+et)*4,rt=ft.data[_e+0],at=ft.data[_e+1],ot=ft.data[_e+2],st=ft.data[_e+3],$=(i*j+s)*4,ft.data[$+0]=rt,ft.data[$+1]=at,ft.data[$+2]=ot,ft.data[$+3]=st;for(j=0;j<a;j+=1)for(ht=Math.floor(pt),tt=0;tt<nt;tt+=1){for(s=0;s<ht+1;s+=1)_e=(i*j+s)*4,rt=ft.data[_e+0],at=ft.data[_e+1],ot=ft.data[_e+2],st=ft.data[_e+3],$=(i*j+ht*2-s-1)*4,ft.data[$+0]=rt,ft.data[$+1]=at,ft.data[$+2]=ot,ft.data[$+3]=st;ht*=2}FromPolar(ft,o,{polarRotation:0})}};Kaleidoscope$1.Kaleidoscope=Kaleidoscope;Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopePower",2,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopeAngle",0,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);var Mask$1={};Object.defineProperty(Mask$1,"__esModule",{value:!0});Mask$1.Mask=void 0;const Factory_1$6=Factory,Node_1$6=Node$1,Validators_1$6=Validators;function pixelAt(o,i,a){var s=(a*o.width+i)*4,j=[];return j.push(o.data[s++],o.data[s++],o.data[s++],o.data[s++]),j}function rgbDistance(o,i){return Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)+Math.pow(o[2]-i[2],2))}function rgbMean(o){for(var i=[0,0,0],a=0;a<o.length;a++)i[0]+=o[a][0],i[1]+=o[a][1],i[2]+=o[a][2];return i[0]/=o.length,i[1]/=o.length,i[2]/=o.length,i}function backgroundMask(o,i){var a=pixelAt(o,0,0),s=pixelAt(o,o.width-1,0),j=pixelAt(o,0,o.height-1),et=pixelAt(o,o.width-1,o.height-1),tt=i||10;if(rgbDistance(a,s)<tt&&rgbDistance(s,et)<tt&&rgbDistance(et,j)<tt&&rgbDistance(j,a)<tt){for(var rt=rgbMean([s,a,et,j]),at=[],ot=0;ot<o.width*o.height;ot++){var st=rgbDistance(rt,[o.data[ot*4],o.data[ot*4+1],o.data[ot*4+2]]);at[ot]=st<tt?0:255}return at}}function applyMask(o,i){for(var a=0;a<o.width*o.height;a++)o.data[4*a+3]=i[a]}function erodeMask(o,i,a){for(var s=[1,1,1,1,0,1,1,1,1],j=Math.round(Math.sqrt(s.length)),et=Math.floor(j/2),tt=[],rt=0;rt<a;rt++)for(var at=0;at<i;at++){for(var ot=rt*i+at,st=0,_e=0;_e<j;_e++)for(var $=0;$<j;$++){var nt=rt+_e-et,it=at+$-et;if(nt>=0&&nt<a&&it>=0&&it<i){var lt=nt*i+it,dt=s[_e*j+$];st+=o[lt]*dt}}tt[ot]=st===255*8?255:0}return tt}function dilateMask(o,i,a){for(var s=[1,1,1,1,1,1,1,1,1],j=Math.round(Math.sqrt(s.length)),et=Math.floor(j/2),tt=[],rt=0;rt<a;rt++)for(var at=0;at<i;at++){for(var ot=rt*i+at,st=0,_e=0;_e<j;_e++)for(var $=0;$<j;$++){var nt=rt+_e-et,it=at+$-et;if(nt>=0&&nt<a&&it>=0&&it<i){var lt=nt*i+it,dt=s[_e*j+$];st+=o[lt]*dt}}tt[ot]=st>=255*4?255:0}return tt}function smoothEdgeMask(o,i,a){for(var s=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],j=Math.round(Math.sqrt(s.length)),et=Math.floor(j/2),tt=[],rt=0;rt<a;rt++)for(var at=0;at<i;at++){for(var ot=rt*i+at,st=0,_e=0;_e<j;_e++)for(var $=0;$<j;$++){var nt=rt+_e-et,it=at+$-et;if(nt>=0&&nt<a&&it>=0&&it<i){var lt=nt*i+it,dt=s[_e*j+$];st+=o[lt]*dt}}tt[ot]=st}return tt}const Mask=function(o){var i=this.threshold(),a=backgroundMask(o,i);return a&&(a=erodeMask(a,o.width,o.height),a=dilateMask(a,o.width,o.height),a=smoothEdgeMask(a,o.width,o.height),applyMask(o,a)),o};Mask$1.Mask=Mask;Factory_1$6.Factory.addGetterSetter(Node_1$6.Node,"threshold",0,(0,Validators_1$6.getNumberValidator)(),Factory_1$6.Factory.afterSetFilter);var Noise$1={};Object.defineProperty(Noise$1,"__esModule",{value:!0});Noise$1.Noise=void 0;const Factory_1$5=Factory,Node_1$5=Node$1,Validators_1$5=Validators,Noise=function(o){var i=this.noise()*255,a=o.data,s=a.length,j=i/2,et;for(et=0;et<s;et+=4)a[et+0]+=j-2*j*Math.random(),a[et+1]+=j-2*j*Math.random(),a[et+2]+=j-2*j*Math.random()};Noise$1.Noise=Noise;Factory_1$5.Factory.addGetterSetter(Node_1$5.Node,"noise",.2,(0,Validators_1$5.getNumberValidator)(),Factory_1$5.Factory.afterSetFilter);var Pixelate$1={};Object.defineProperty(Pixelate$1,"__esModule",{value:!0});Pixelate$1.Pixelate=void 0;const Factory_1$4=Factory,Util_1=Util,Node_1$4=Node$1,Validators_1$4=Validators,Pixelate=function(o){var i=Math.ceil(this.pixelSize()),a=o.width,s=o.height,j,et,tt,rt,at,ot,st,_e=Math.ceil(a/i),$=Math.ceil(s/i),nt,it,lt,dt,ft,pt,ht,gt=o.data;if(i<=0){Util_1.Util.error("pixelSize value can not be <= 0");return}for(ft=0;ft<_e;ft+=1)for(pt=0;pt<$;pt+=1){for(rt=0,at=0,ot=0,st=0,nt=ft*i,it=nt+i,lt=pt*i,dt=lt+i,ht=0,j=nt;j<it;j+=1)if(!(j>=a))for(et=lt;et<dt;et+=1)et>=s||(tt=(a*et+j)*4,rt+=gt[tt+0],at+=gt[tt+1],ot+=gt[tt+2],st+=gt[tt+3],ht+=1);for(rt=rt/ht,at=at/ht,ot=ot/ht,st=st/ht,j=nt;j<it;j+=1)if(!(j>=a))for(et=lt;et<dt;et+=1)et>=s||(tt=(a*et+j)*4,gt[tt+0]=rt,gt[tt+1]=at,gt[tt+2]=ot,gt[tt+3]=st)}};Pixelate$1.Pixelate=Pixelate;Factory_1$4.Factory.addGetterSetter(Node_1$4.Node,"pixelSize",8,(0,Validators_1$4.getNumberValidator)(),Factory_1$4.Factory.afterSetFilter);var Posterize$1={};Object.defineProperty(Posterize$1,"__esModule",{value:!0});Posterize$1.Posterize=void 0;const Factory_1$3=Factory,Node_1$3=Node$1,Validators_1$3=Validators,Posterize=function(o){var i=Math.round(this.levels()*254)+1,a=o.data,s=a.length,j=255/i,et;for(et=0;et<s;et+=1)a[et]=Math.floor(a[et]/j)*j};Posterize$1.Posterize=Posterize;Factory_1$3.Factory.addGetterSetter(Node_1$3.Node,"levels",.5,(0,Validators_1$3.getNumberValidator)(),Factory_1$3.Factory.afterSetFilter);var RGB$1={};Object.defineProperty(RGB$1,"__esModule",{value:!0});RGB$1.RGB=void 0;const Factory_1$2=Factory,Node_1$2=Node$1,Validators_1$2=Validators,RGB=function(o){var i=o.data,a=i.length,s=this.red(),j=this.green(),et=this.blue(),tt,rt;for(tt=0;tt<a;tt+=4)rt=(.34*i[tt]+.5*i[tt+1]+.16*i[tt+2])/255,i[tt]=rt*s,i[tt+1]=rt*j,i[tt+2]=rt*et,i[tt+3]=i[tt+3]};RGB$1.RGB=RGB;Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"blue",0,Validators_1$2.RGBComponent,Factory_1$2.Factory.afterSetFilter);var RGBA$1={};Object.defineProperty(RGBA$1,"__esModule",{value:!0});RGBA$1.RGBA=void 0;const Factory_1$1=Factory,Node_1$1=Node$1,Validators_1$1=Validators,RGBA=function(o){var i=o.data,a=i.length,s=this.red(),j=this.green(),et=this.blue(),tt=this.alpha(),rt,at;for(rt=0;rt<a;rt+=4)at=1-tt,i[rt]=s*tt+i[rt]*at,i[rt+1]=j*tt+i[rt+1]*at,i[rt+2]=et*tt+i[rt+2]*at};RGBA$1.RGBA=RGBA;Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"blue",0,Validators_1$1.RGBComponent,Factory_1$1.Factory.afterSetFilter);Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"alpha",1,function(o){return this._filterUpToDate=!1,o>1?1:o<0?0:o});var Sepia$1={};Object.defineProperty(Sepia$1,"__esModule",{value:!0});Sepia$1.Sepia=void 0;const Sepia=function(o){var i=o.data,a=i.length,s,j,et,tt;for(s=0;s<a;s+=4)j=i[s+0],et=i[s+1],tt=i[s+2],i[s+0]=Math.min(255,j*.393+et*.769+tt*.189),i[s+1]=Math.min(255,j*.349+et*.686+tt*.168),i[s+2]=Math.min(255,j*.272+et*.534+tt*.131)};Sepia$1.Sepia=Sepia;var Solarize$1={};Object.defineProperty(Solarize$1,"__esModule",{value:!0});Solarize$1.Solarize=void 0;const Solarize=function(o){var i=o.data,a=o.width,s=o.height,j=a*4,et=s;do{var tt=(et-1)*j,rt=a;do{var at=tt+(rt-1)*4,ot=i[at],st=i[at+1],_e=i[at+2];ot>127&&(ot=255-ot),st>127&&(st=255-st),_e>127&&(_e=255-_e),i[at]=ot,i[at+1]=st,i[at+2]=_e}while(--rt)}while(--et)};Solarize$1.Solarize=Solarize;var Threshold$1={};Object.defineProperty(Threshold$1,"__esModule",{value:!0});Threshold$1.Threshold=void 0;const Factory_1=Factory,Node_1=Node$1,Validators_1=Validators,Threshold=function(o){var i=this.threshold()*255,a=o.data,s=a.length,j;for(j=0;j<s;j+=1)a[j]=a[j]<i?0:255};Threshold$1.Threshold=Threshold;Factory_1.Factory.addGetterSetter(Node_1.Node,"threshold",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter);Object.defineProperty(_FullInternals,"__esModule",{value:!0});_FullInternals.Konva=void 0;const _CoreInternals_1=_CoreInternals,Arc_1=Arc$1,Arrow_1=Arrow$1,Circle_1=Circle$2,Ellipse_1=Ellipse$1,Image_1=Image$3,Label_1=Label$1,Line_1=Line$1,Path_1=Path$2,Rect_1=Rect$2,RegularPolygon_1=RegularPolygon$1,Ring_1=Ring$2,Sprite_1=Sprite$1,Star_1=Star$1,Text_1=Text$1,TextPath_1=TextPath$1,Transformer_1=Transformer$1,Wedge_1=Wedge$1,Blur_1=Blur$1,Brighten_1=Brighten$1,Contrast_1=Contrast$1,Emboss_1=Emboss$1,Enhance_1=Enhance$1,Grayscale_1=Grayscale$1,HSL_1=HSL$1,HSV_1=HSV$1,Invert_1=Invert$1,Kaleidoscope_1=Kaleidoscope$1,Mask_1=Mask$1,Noise_1=Noise$1,Pixelate_1=Pixelate$1,Posterize_1=Posterize$1,RGB_1=RGB$1,RGBA_1=RGBA$1,Sepia_1=Sepia$1,Solarize_1=Solarize$1,Threshold_1=Threshold$1;_FullInternals.Konva=_CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva,{Arc:Arc_1.Arc,Arrow:Arrow_1.Arrow,Circle:Circle_1.Circle,Ellipse:Ellipse_1.Ellipse,Image:Image_1.Image,Label:Label_1.Label,Tag:Label_1.Tag,Line:Line_1.Line,Path:Path_1.Path,Rect:Rect_1.Rect,RegularPolygon:RegularPolygon_1.RegularPolygon,Ring:Ring_1.Ring,Sprite:Sprite_1.Sprite,Star:Star_1.Star,Text:Text_1.Text,TextPath:TextPath_1.TextPath,Transformer:Transformer_1.Transformer,Wedge:Wedge_1.Wedge,Filters:{Blur:Blur_1.Blur,Brighten:Brighten_1.Brighten,Contrast:Contrast_1.Contrast,Emboss:Emboss_1.Emboss,Enhance:Enhance_1.Enhance,Grayscale:Grayscale_1.Grayscale,HSL:HSL_1.HSL,HSV:HSV_1.HSV,Invert:Invert_1.Invert,Kaleidoscope:Kaleidoscope_1.Kaleidoscope,Mask:Mask_1.Mask,Noise:Noise_1.Noise,Pixelate:Pixelate_1.Pixelate,Posterize:Posterize_1.Posterize,RGB:RGB_1.RGB,RGBA:RGBA_1.RGBA,Sepia:Sepia_1.Sepia,Solarize:Solarize_1.Solarize,Threshold:Threshold_1.Threshold}});var lib=lib$1.exports;Object.defineProperty(lib,"__esModule",{value:!0});const _FullInternals_1=_FullInternals;lib$1.exports=_FullInternals_1.Konva;var libExports=lib$1.exports;const Konva$1=getDefaultExportFromCjs(libExports);var Core={exports:{}};(function(o,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;var a=_CoreInternals;Object.defineProperty(i,"Konva",{enumerable:!0,get:function(){return a.Konva}});const s=_CoreInternals;o.exports=s.Konva})(Core,Core.exports);var CoreExports=Core.exports;const Konva=getDefaultExportFromCjs(CoreExports);var reactReconciler={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function o(i){var a={},s=reactExports,j=schedulerExports,et=Object.assign;function tt(ut){for(var ct="https://reactjs.org/docs/error-decoder.html?invariant="+ut,vt=1;vt<arguments.length;vt++)ct+="&args[]="+encodeURIComponent(arguments[vt]);return"Minified React error #"+ut+"; visit "+ct+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rt=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,at=Symbol.for("react.element"),ot=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),it=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),gt=Symbol.for("react.offscreen"),mt=Symbol.iterator;function yt(ut){return ut===null||typeof ut!="object"?null:(ut=mt&&ut[mt]||ut["@@iterator"],typeof ut=="function"?ut:null)}function bt(ut){if(ut==null)return null;if(typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case st:return"Fragment";case ot:return"Portal";case $:return"Profiler";case _e:return"StrictMode";case dt:return"Suspense";case ft:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case it:return(ut.displayName||"Context")+".Consumer";case nt:return(ut._context.displayName||"Context")+".Provider";case lt:var ct=ut.render;return ut=ut.displayName,ut||(ut=ct.displayName||ct.name||"",ut=ut!==""?"ForwardRef("+ut+")":"ForwardRef"),ut;case pt:return ct=ut.displayName||null,ct!==null?ct:bt(ut.type)||"Memo";case ht:ct=ut._payload,ut=ut._init;try{return bt(ut(ct))}catch{}}return null}function _t(ut){var ct=ut.type;switch(ut.tag){case 24:return"Cache";case 9:return(ct.displayName||"Context")+".Consumer";case 10:return(ct._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ut=ct.render,ut=ut.displayName||ut.name||"",ct.displayName||(ut!==""?"ForwardRef("+ut+")":"ForwardRef");case 7:return"Fragment";case 5:return ct;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bt(ct);case 8:return ct===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ct=="function")return ct.displayName||ct.name||null;if(typeof ct=="string")return ct}return null}function xt(ut){var ct=ut,vt=ut;if(ut.alternate)for(;ct.return;)ct=ct.return;else{ut=ct;do ct=ut,ct.flags&4098&&(vt=ct.return),ut=ct.return;while(ut)}return ct.tag===3?vt:null}function Et(ut){if(xt(ut)!==ut)throw Error(tt(188))}function Tt(ut){var ct=ut.alternate;if(!ct){if(ct=xt(ut),ct===null)throw Error(tt(188));return ct!==ut?null:ut}for(var vt=ut,wt=ct;;){var St=vt.return;if(St===null)break;var Ct=St.alternate;if(Ct===null){if(wt=St.return,wt!==null){vt=wt;continue}break}if(St.child===Ct.child){for(Ct=St.child;Ct;){if(Ct===vt)return Et(St),ut;if(Ct===wt)return Et(St),ct;Ct=Ct.sibling}throw Error(tt(188))}if(vt.return!==wt.return)vt=St,wt=Ct;else{for(var Mt=!1,qt=St.child;qt;){if(qt===vt){Mt=!0,vt=St,wt=Ct;break}if(qt===wt){Mt=!0,wt=St,vt=Ct;break}qt=qt.sibling}if(!Mt){for(qt=Ct.child;qt;){if(qt===vt){Mt=!0,vt=Ct,wt=St;break}if(qt===wt){Mt=!0,wt=Ct,vt=St;break}qt=qt.sibling}if(!Mt)throw Error(tt(189))}}if(vt.alternate!==wt)throw Error(tt(190))}if(vt.tag!==3)throw Error(tt(188));return vt.stateNode.current===vt?ut:ct}function Pt(ut){return ut=Tt(ut),ut!==null?At(ut):null}function At(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){var ct=At(ut);if(ct!==null)return ct;ut=ut.sibling}return null}function Ot(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){if(ut.tag!==4){var ct=Ot(ut);if(ct!==null)return ct}ut=ut.sibling}return null}var It=Array.isArray,$t=i.getPublicInstance,kt=i.getRootHostContext,Ft=i.getChildHostContext,Ut=i.prepareForCommit,zt=i.resetAfterCommit,Wt=i.createInstance,Qt=i.appendInitialChild,un=i.finalizeInitialChildren,an=i.prepareUpdate,vn=i.shouldSetTextContent,fn=i.createTextInstance,jt=i.scheduleTimeout,en=i.cancelTimeout,on=i.noTimeout,wn=i.isPrimaryRenderer,cn=i.supportsMutation,An=i.supportsPersistence,bn=i.supportsHydration,Vn=i.getInstanceFromNode,xn=i.preparePortalMount,Jn=i.getCurrentEventPriority,Ln=i.detachDeletedInstance,Hn=i.supportsMicrotasks,jn=i.scheduleMicrotask,On=i.supportsTestSelectors,zn=i.findFiberRoot,Fn=i.getBoundingRect,Bn=i.getTextContent,hn=i.isHiddenSubtree,Sn=i.matchAccessibilityRole,Wn=i.setFocusIfFocusable,Kn=i.setupIntersectionObserver,ir=i.appendChild,gr=i.appendChildToContainer,ur=i.commitTextUpdate,yr=i.commitMount,Rn=i.commitUpdate,Rt=i.insertBefore,Nt=i.insertInContainerBefore,Lt=i.removeChild,Bt=i.removeChildFromContainer,Ht=i.resetTextContent,Xt=i.hideInstance,Zt=i.hideTextInstance,tn=i.unhideInstance,dn=i.unhideTextInstance,pn=i.clearContainer,mn=i.cloneInstance,_n=i.createContainerChildSet,Mn=i.appendChildToContainerChildSet,Kt=i.finalizeContainerChildren,En=i.replaceContainerChildren,Un=i.cloneHiddenInstance,cr=i.cloneHiddenTextInstance,dr=i.canHydrateInstance,Sr=i.canHydrateTextInstance,Tr=i.canHydrateSuspenseInstance,Ir=i.isSuspenseInstancePending,Gn=i.isSuspenseInstanceFallback,qn=i.getSuspenseInstanceFallbackErrorDetails,Yn=i.registerSuspenseInstanceRetry,In=i.getNextHydratableSibling,rr=i.getFirstHydratableChild,Dr=i.getFirstHydratableChildWithinContainer,Dn=i.getFirstHydratableChildWithinSuspenseInstance,Or=i.hydrateInstance,Vr=i.hydrateTextInstance,Cr=i.hydrateSuspenseInstance,ro=i.getNextHydratableInstanceAfterSuspenseInstance,Zo=i.commitHydratedContainer,Jo=i.commitHydratedSuspenseInstance,rs=i.clearSuspenseBoundary,xo=i.clearSuspenseBoundaryFromContainer,Vo=i.shouldDeleteUnhydratedTailInstances,Xl=i.didNotMatchHydratedContainerTextInstance,js=i.didNotMatchHydratedTextInstance,zo;function Bo(ut){if(zo===void 0)try{throw Error()}catch(vt){var ct=vt.stack.trim().match(/\n( *(at )?)/);zo=ct&&ct[1]||""}return`
`+zo+ut}var is=!1;function os(ut,ct){if(!ut||is)return"";is=!0;var vt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ct)if(ct=function(){throw Error()},Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(gn){var wt=gn}Reflect.construct(ut,[],ct)}else{try{ct.call()}catch(gn){wt=gn}ut.call(ct.prototype)}else{try{throw Error()}catch(gn){wt=gn}ut()}}catch(gn){if(gn&&wt&&typeof gn.stack=="string"){for(var St=gn.stack.split(`
`),Ct=wt.stack.split(`
`),Mt=St.length-1,qt=Ct.length-1;1<=Mt&&0<=qt&&St[Mt]!==Ct[qt];)qt--;for(;1<=Mt&&0<=qt;Mt--,qt--)if(St[Mt]!==Ct[qt]){if(Mt!==1||qt!==1)do if(Mt--,qt--,0>qt||St[Mt]!==Ct[qt]){var nn=`
`+St[Mt].replace(" at new "," at ");return ut.displayName&&nn.includes("<anonymous>")&&(nn=nn.replace("<anonymous>",ut.displayName)),nn}while(1<=Mt&&0<=qt);break}}}finally{is=!1,Error.prepareStackTrace=vt}return(ut=ut?ut.displayName||ut.name:"")?Bo(ut):""}var Ql=Object.prototype.hasOwnProperty,xs=[],po=-1;function io(ut){return{current:ut}}function fr(ut){0>po||(ut.current=xs[po],xs[po]=null,po--)}function lr(ut,ct){po++,xs[po]=ut.current,ut.current=ct}var go={},$r=io(go),Mr=io(!1),wo=go;function ko(ut,ct){var vt=ut.type.contextTypes;if(!vt)return go;var wt=ut.stateNode;if(wt&&wt.__reactInternalMemoizedUnmaskedChildContext===ct)return wt.__reactInternalMemoizedMaskedChildContext;var St={},Ct;for(Ct in vt)St[Ct]=ct[Ct];return wt&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=ct,ut.__reactInternalMemoizedMaskedChildContext=St),St}function Fr(ut){return ut=ut.childContextTypes,ut!=null}function Ro(){fr(Mr),fr($r)}function as(ut,ct,vt){if($r.current!==go)throw Error(tt(168));lr($r,ct),lr(Mr,vt)}function ws(ut,ct,vt){var wt=ut.stateNode;if(ct=ct.childContextTypes,typeof wt.getChildContext!="function")return vt;wt=wt.getChildContext();for(var St in wt)if(!(St in ct))throw Error(tt(108,_t(ut)||"Unknown",St));return et({},vt,wt)}function Dt(ut){return ut=(ut=ut.stateNode)&&ut.__reactInternalMemoizedMergedChildContext||go,wo=$r.current,lr($r,ut),lr(Mr,Mr.current),!0}function Vt(ut,ct,vt){var wt=ut.stateNode;if(!wt)throw Error(tt(169));vt?(ut=ws(ut,ct,wo),wt.__reactInternalMemoizedMergedChildContext=ut,fr(Mr),fr($r),lr($r,ut)):fr(Mr),lr(Mr,vt)}var Gt=Math.clz32?Math.clz32:Tn,rn=Math.log,yn=Math.LN2;function Tn(ut){return ut>>>=0,ut===0?32:31-(rn(ut)/yn|0)|0}var Xn=64,wr=4194304;function Xr(ut){switch(ut&-ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ut}}function Pr(ut,ct){var vt=ut.pendingLanes;if(vt===0)return 0;var wt=0,St=ut.suspendedLanes,Ct=ut.pingedLanes,Mt=vt&268435455;if(Mt!==0){var qt=Mt&~St;qt!==0?wt=Xr(qt):(Ct&=Mt,Ct!==0&&(wt=Xr(Ct)))}else Mt=vt&~St,Mt!==0?wt=Xr(Mt):Ct!==0&&(wt=Xr(Ct));if(wt===0)return 0;if(ct!==0&&ct!==wt&&!(ct&St)&&(St=wt&-wt,Ct=ct&-ct,St>=Ct||St===16&&(Ct&4194240)!==0))return ct;if(wt&4&&(wt|=vt&16),ct=ut.entangledLanes,ct!==0)for(ut=ut.entanglements,ct&=wt;0<ct;)vt=31-Gt(ct),St=1<<vt,wt|=ut[vt],ct&=~St;return wt}function Gr(ut,ct){switch(ut){case 1:case 2:case 4:return ct+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ct+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(ut,ct){for(var vt=ut.suspendedLanes,wt=ut.pingedLanes,St=ut.expirationTimes,Ct=ut.pendingLanes;0<Ct;){var Mt=31-Gt(Ct),qt=1<<Mt,nn=St[Mt];nn===-1?(!(qt&vt)||qt&wt)&&(St[Mt]=Gr(qt,ct)):nn<=ct&&(ut.expiredLanes|=qt),Ct&=~qt}}function ss(ut){return ut=ut.pendingLanes&-1073741825,ut!==0?ut:ut&1073741824?1073741824:0}function ln(){var ut=Xn;return Xn<<=1,!(Xn&4194240)&&(Xn=64),ut}function nr(ut){for(var ct=[],vt=0;31>vt;vt++)ct.push(ut);return ct}function hr(ut,ct,vt){ut.pendingLanes|=ct,ct!==536870912&&(ut.suspendedLanes=0,ut.pingedLanes=0),ut=ut.eventTimes,ct=31-Gt(ct),ut[ct]=vt}function Io(ut,ct){var vt=ut.pendingLanes&~ct;ut.pendingLanes=ct,ut.suspendedLanes=0,ut.pingedLanes=0,ut.expiredLanes&=ct,ut.mutableReadLanes&=ct,ut.entangledLanes&=ct,ct=ut.entanglements;var wt=ut.eventTimes;for(ut=ut.expirationTimes;0<vt;){var St=31-Gt(vt),Ct=1<<St;ct[St]=0,wt[St]=-1,ut[St]=-1,vt&=~Ct}}function ls(ut,ct){var vt=ut.entangledLanes|=ct;for(ut=ut.entanglements;vt;){var wt=31-Gt(vt),St=1<<wt;St&ct|ut[wt]&ct&&(ut[wt]|=ct),vt&=~St}}var or=0;function _h(ut){return ut&=-ut,1<ut?4<ut?ut&268435455?16:536870912:4:1}var Zl=j.unstable_scheduleCallback,ep=j.unstable_cancelCallback,k0=j.unstable_shouldYield,R0=j.unstable_requestPaint,Nr=j.unstable_now,Jl=j.unstable_ImmediatePriority,I0=j.unstable_UserBlockingPriority,eu=j.unstable_NormalPriority,D0=j.unstable_IdlePriority,Vs=null,So=null;function M0(ut){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(Vs,ut,void 0,(ut.current.flags&128)===128)}catch{}}function F0(ut,ct){return ut===ct&&(ut!==0||1/ut===1/ct)||ut!==ut&&ct!==ct}var mo=typeof Object.is=="function"?Object.is:F0,Do=null,zs=!1,tu=!1;function tp(ut){Do===null?Do=[ut]:Do.push(ut)}function N0(ut){zs=!0,tp(ut)}function Eo(){if(!tu&&Do!==null){tu=!0;var ut=0,ct=or;try{var vt=Do;for(or=1;ut<vt.length;ut++){var wt=vt[ut];do wt=wt(!0);while(wt!==null)}Do=null,zs=!1}catch(St){throw Do!==null&&(Do=Do.slice(ut+1)),Zl(Jl,Eo),St}finally{or=ct,tu=!1}}return null}var us=[],cs=0,Bs=null,Gs=0,oo=[],ao=0,na=null,Mo=1,Fo="";function ga(ut,ct){us[cs++]=Gs,us[cs++]=Bs,Bs=ut,Gs=ct}function np(ut,ct,vt){oo[ao++]=Mo,oo[ao++]=Fo,oo[ao++]=na,na=ut;var wt=Mo;ut=Fo;var St=32-Gt(wt)-1;wt&=~(1<<St),vt+=1;var Ct=32-Gt(ct)+St;if(30<Ct){var Mt=St-St%5;Ct=(wt&(1<<Mt)-1).toString(32),wt>>=Mt,St-=Mt,Mo=1<<32-Gt(ct)+St|vt<<St|wt,Fo=Ct+ut}else Mo=1<<Ct|vt<<St|wt,Fo=ut}function nu(ut){ut.return!==null&&(ga(ut,1),np(ut,1,0))}function ru(ut){for(;ut===Bs;)Bs=us[--cs],us[cs]=null,Gs=us[--cs],us[cs]=null;for(;ut===na;)na=oo[--ao],oo[ao]=null,Fo=oo[--ao],oo[ao]=null,Mo=oo[--ao],oo[ao]=null}var to=null,so=null,vr=!1,Ss=!1,yo=null;function rp(ut,ct){var vt=ho(5,null,null,0);vt.elementType="DELETED",vt.stateNode=ct,vt.return=ut,ct=ut.deletions,ct===null?(ut.deletions=[vt],ut.flags|=16):ct.push(vt)}function ip(ut,ct){switch(ut.tag){case 5:return ct=dr(ct,ut.type,ut.pendingProps),ct!==null?(ut.stateNode=ct,to=ut,so=rr(ct),!0):!1;case 6:return ct=Sr(ct,ut.pendingProps),ct!==null?(ut.stateNode=ct,to=ut,so=null,!0):!1;case 13:if(ct=Tr(ct),ct!==null){var vt=na!==null?{id:Mo,overflow:Fo}:null;return ut.memoizedState={dehydrated:ct,treeContext:vt,retryLane:1073741824},vt=ho(18,null,null,0),vt.stateNode=ct,vt.return=ut,ut.child=vt,to=ut,so=null,!0}return!1;default:return!1}}function iu(ut){return(ut.mode&1)!==0&&(ut.flags&128)===0}function ou(ut){if(vr){var ct=so;if(ct){var vt=ct;if(!ip(ut,ct)){if(iu(ut))throw Error(tt(418));ct=In(vt);var wt=to;ct&&ip(ut,ct)?rp(wt,vt):(ut.flags=ut.flags&-4097|2,vr=!1,to=ut)}}else{if(iu(ut))throw Error(tt(418));ut.flags=ut.flags&-4097|2,vr=!1,to=ut}}}function op(ut){for(ut=ut.return;ut!==null&&ut.tag!==5&&ut.tag!==3&&ut.tag!==13;)ut=ut.return;to=ut}function Hs(ut){if(!bn||ut!==to)return!1;if(!vr)return op(ut),vr=!0,!1;if(ut.tag!==3&&(ut.tag!==5||Vo(ut.type)&&!vn(ut.type,ut.memoizedProps))){var ct=so;if(ct){if(iu(ut))throw ap(),Error(tt(418));for(;ct;)rp(ut,ct),ct=In(ct)}}if(op(ut),ut.tag===13){if(!bn)throw Error(tt(316));if(ut=ut.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(tt(317));so=ro(ut)}else so=to?In(ut.stateNode):null;return!0}function ap(){for(var ut=so;ut;)ut=In(ut)}function ds(){bn&&(so=to=null,Ss=vr=!1)}function au(ut){yo===null?yo=[ut]:yo.push(ut)}var L0=rt.ReactCurrentBatchConfig;function Ws(ut,ct){if(mo(ut,ct))return!0;if(typeof ut!="object"||ut===null||typeof ct!="object"||ct===null)return!1;var vt=Object.keys(ut),wt=Object.keys(ct);if(vt.length!==wt.length)return!1;for(wt=0;wt<vt.length;wt++){var St=vt[wt];if(!Ql.call(ct,St)||!mo(ut[St],ct[St]))return!1}return!0}function j0(ut){switch(ut.tag){case 5:return Bo(ut.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return ut=os(ut.type,!1),ut;case 11:return ut=os(ut.type.render,!1),ut;case 1:return ut=os(ut.type,!0),ut;default:return""}}function vo(ut,ct){if(ut&&ut.defaultProps){ct=et({},ct),ut=ut.defaultProps;for(var vt in ut)ct[vt]===void 0&&(ct[vt]=ut[vt]);return ct}return ct}var Ks=io(null),qs=null,fs=null,su=null;function lu(){su=fs=qs=null}function sp(ut,ct,vt){wn?(lr(Ks,ct._currentValue),ct._currentValue=vt):(lr(Ks,ct._currentValue2),ct._currentValue2=vt)}function uu(ut){var ct=Ks.current;fr(Ks),wn?ut._currentValue=ct:ut._currentValue2=ct}function cu(ut,ct,vt){for(;ut!==null;){var wt=ut.alternate;if((ut.childLanes&ct)!==ct?(ut.childLanes|=ct,wt!==null&&(wt.childLanes|=ct)):wt!==null&&(wt.childLanes&ct)!==ct&&(wt.childLanes|=ct),ut===vt)break;ut=ut.return}}function hs(ut,ct){qs=ut,su=fs=null,ut=ut.dependencies,ut!==null&&ut.firstContext!==null&&(ut.lanes&ct&&(Qr=!0),ut.firstContext=null)}function lo(ut){var ct=wn?ut._currentValue:ut._currentValue2;if(su!==ut)if(ut={context:ut,memoizedValue:ct,next:null},fs===null){if(qs===null)throw Error(tt(308));fs=ut,qs.dependencies={lanes:0,firstContext:ut}}else fs=fs.next=ut;return ct}var ba=null;function du(ut){ba===null?ba=[ut]:ba.push(ut)}function lp(ut,ct,vt,wt){var St=ct.interleaved;return St===null?(vt.next=vt,du(ct)):(vt.next=St.next,St.next=vt),ct.interleaved=vt,To(ut,wt)}function To(ut,ct){ut.lanes|=ct;var vt=ut.alternate;for(vt!==null&&(vt.lanes|=ct),vt=ut,ut=ut.return;ut!==null;)ut.childLanes|=ct,vt=ut.alternate,vt!==null&&(vt.childLanes|=ct),vt=ut,ut=ut.return;return vt.tag===3?vt.stateNode:null}var Go=!1;function fu(ut){ut.updateQueue={baseState:ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(ut,ct){ut=ut.updateQueue,ct.updateQueue===ut&&(ct.updateQueue={baseState:ut.baseState,firstBaseUpdate:ut.firstBaseUpdate,lastBaseUpdate:ut.lastBaseUpdate,shared:ut.shared,effects:ut.effects})}function No(ut,ct){return{eventTime:ut,lane:ct,tag:0,payload:null,callback:null,next:null}}function Ho(ut,ct,vt){var wt=ut.updateQueue;if(wt===null)return null;if(wt=wt.shared,tr&2){var St=wt.pending;return St===null?ct.next=ct:(ct.next=St.next,St.next=ct),wt.pending=ct,To(ut,vt)}return St=wt.interleaved,St===null?(ct.next=ct,du(wt)):(ct.next=St.next,St.next=ct),wt.interleaved=ct,To(ut,vt)}function Ys(ut,ct,vt){if(ct=ct.updateQueue,ct!==null&&(ct=ct.shared,(vt&4194240)!==0)){var wt=ct.lanes;wt&=ut.pendingLanes,vt|=wt,ct.lanes=vt,ls(ut,vt)}}function cp(ut,ct){var vt=ut.updateQueue,wt=ut.alternate;if(wt!==null&&(wt=wt.updateQueue,vt===wt)){var St=null,Ct=null;if(vt=vt.firstBaseUpdate,vt!==null){do{var Mt={eventTime:vt.eventTime,lane:vt.lane,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null};Ct===null?St=Ct=Mt:Ct=Ct.next=Mt,vt=vt.next}while(vt!==null);Ct===null?St=Ct=ct:Ct=Ct.next=ct}else St=Ct=ct;vt={baseState:wt.baseState,firstBaseUpdate:St,lastBaseUpdate:Ct,shared:wt.shared,effects:wt.effects},ut.updateQueue=vt;return}ut=vt.lastBaseUpdate,ut===null?vt.firstBaseUpdate=ct:ut.next=ct,vt.lastBaseUpdate=ct}function Xs(ut,ct,vt,wt){var St=ut.updateQueue;Go=!1;var Ct=St.firstBaseUpdate,Mt=St.lastBaseUpdate,qt=St.shared.pending;if(qt!==null){St.shared.pending=null;var nn=qt,gn=nn.next;nn.next=null,Mt===null?Ct=gn:Mt.next=gn,Mt=nn;var kn=ut.alternate;kn!==null&&(kn=kn.updateQueue,qt=kn.lastBaseUpdate,qt!==Mt&&(qt===null?kn.firstBaseUpdate=gn:qt.next=gn,kn.lastBaseUpdate=nn))}if(Ct!==null){var Qn=St.baseState;Mt=0,kn=gn=nn=null,qt=Ct;do{var Cn=qt.lane,mr=qt.eventTime;if((wt&Cn)===Cn){kn!==null&&(kn=kn.next={eventTime:mr,lane:0,tag:qt.tag,payload:qt.payload,callback:qt.callback,next:null});e:{var pr=ut,_i=qt;switch(Cn=ct,mr=vt,_i.tag){case 1:if(pr=_i.payload,typeof pr=="function"){Qn=pr.call(mr,Qn,Cn);break e}Qn=pr;break e;case 3:pr.flags=pr.flags&-65537|128;case 0:if(pr=_i.payload,Cn=typeof pr=="function"?pr.call(mr,Qn,Cn):pr,Cn==null)break e;Qn=et({},Qn,Cn);break e;case 2:Go=!0}}qt.callback!==null&&qt.lane!==0&&(ut.flags|=64,Cn=St.effects,Cn===null?St.effects=[qt]:Cn.push(qt))}else mr={eventTime:mr,lane:Cn,tag:qt.tag,payload:qt.payload,callback:qt.callback,next:null},kn===null?(gn=kn=mr,nn=Qn):kn=kn.next=mr,Mt|=Cn;if(qt=qt.next,qt===null){if(qt=St.shared.pending,qt===null)break;Cn=qt,qt=Cn.next,Cn.next=null,St.lastBaseUpdate=Cn,St.shared.pending=null}}while(1);if(kn===null&&(nn=Qn),St.baseState=nn,St.firstBaseUpdate=gn,St.lastBaseUpdate=kn,ct=St.shared.interleaved,ct!==null){St=ct;do Mt|=St.lane,St=St.next;while(St!==ct)}else Ct===null&&(St.shared.lanes=0);xa|=Mt,ut.lanes=Mt,ut.memoizedState=Qn}}function dp(ut,ct,vt){if(ut=ct.effects,ct.effects=null,ut!==null)for(ct=0;ct<ut.length;ct++){var wt=ut[ct],St=wt.callback;if(St!==null){if(wt.callback=null,wt=vt,typeof St!="function")throw Error(tt(191,St));St.call(wt)}}}var fp=new s.Component().refs;function hu(ut,ct,vt,wt){ct=ut.memoizedState,vt=vt(wt,ct),vt=vt==null?ct:et({},ct,vt),ut.memoizedState=vt,ut.lanes===0&&(ut.updateQueue.baseState=vt)}var Qs={isMounted:function(ut){return(ut=ut._reactInternals)?xt(ut)===ut:!1},enqueueSetState:function(ut,ct,vt){ut=ut._reactInternals;var wt=qr(),St=qo(ut),Ct=No(wt,St);Ct.payload=ct,vt!=null&&(Ct.callback=vt),ct=Ho(ut,Ct,St),ct!==null&&(fo(ct,ut,St,wt),Ys(ct,ut,St))},enqueueReplaceState:function(ut,ct,vt){ut=ut._reactInternals;var wt=qr(),St=qo(ut),Ct=No(wt,St);Ct.tag=1,Ct.payload=ct,vt!=null&&(Ct.callback=vt),ct=Ho(ut,Ct,St),ct!==null&&(fo(ct,ut,St,wt),Ys(ct,ut,St))},enqueueForceUpdate:function(ut,ct){ut=ut._reactInternals;var vt=qr(),wt=qo(ut),St=No(vt,wt);St.tag=2,ct!=null&&(St.callback=ct),ct=Ho(ut,St,wt),ct!==null&&(fo(ct,ut,wt,vt),Ys(ct,ut,wt))}};function hp(ut,ct,vt,wt,St,Ct,Mt){return ut=ut.stateNode,typeof ut.shouldComponentUpdate=="function"?ut.shouldComponentUpdate(wt,Ct,Mt):ct.prototype&&ct.prototype.isPureReactComponent?!Ws(vt,wt)||!Ws(St,Ct):!0}function pp(ut,ct,vt){var wt=!1,St=go,Ct=ct.contextType;return typeof Ct=="object"&&Ct!==null?Ct=lo(Ct):(St=Fr(ct)?wo:$r.current,wt=ct.contextTypes,Ct=(wt=wt!=null)?ko(ut,St):go),ct=new ct(vt,Ct),ut.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,ct.updater=Qs,ut.stateNode=ct,ct._reactInternals=ut,wt&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=St,ut.__reactInternalMemoizedMaskedChildContext=Ct),ct}function gp(ut,ct,vt,wt){ut=ct.state,typeof ct.componentWillReceiveProps=="function"&&ct.componentWillReceiveProps(vt,wt),typeof ct.UNSAFE_componentWillReceiveProps=="function"&&ct.UNSAFE_componentWillReceiveProps(vt,wt),ct.state!==ut&&Qs.enqueueReplaceState(ct,ct.state,null)}function pu(ut,ct,vt,wt){var St=ut.stateNode;St.props=vt,St.state=ut.memoizedState,St.refs=fp,fu(ut);var Ct=ct.contextType;typeof Ct=="object"&&Ct!==null?St.context=lo(Ct):(Ct=Fr(ct)?wo:$r.current,St.context=ko(ut,Ct)),St.state=ut.memoizedState,Ct=ct.getDerivedStateFromProps,typeof Ct=="function"&&(hu(ut,ct,Ct,vt),St.state=ut.memoizedState),typeof ct.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||(ct=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),ct!==St.state&&Qs.enqueueReplaceState(St,St.state,null),Xs(ut,vt,St,wt),St.state=ut.memoizedState),typeof St.componentDidMount=="function"&&(ut.flags|=4194308)}function Es(ut,ct,vt){if(ut=vt.ref,ut!==null&&typeof ut!="function"&&typeof ut!="object"){if(vt._owner){if(vt=vt._owner,vt){if(vt.tag!==1)throw Error(tt(309));var wt=vt.stateNode}if(!wt)throw Error(tt(147,ut));var St=wt,Ct=""+ut;return ct!==null&&ct.ref!==null&&typeof ct.ref=="function"&&ct.ref._stringRef===Ct?ct.ref:(ct=function(Mt){var qt=St.refs;qt===fp&&(qt=St.refs={}),Mt===null?delete qt[Ct]:qt[Ct]=Mt},ct._stringRef=Ct,ct)}if(typeof ut!="string")throw Error(tt(284));if(!vt._owner)throw Error(tt(290,ut))}return ut}function Zs(ut,ct){throw ut=Object.prototype.toString.call(ct),Error(tt(31,ut==="[object Object]"?"object with keys {"+Object.keys(ct).join(", ")+"}":ut))}function mp(ut){var ct=ut._init;return ct(ut._payload)}function yp(ut){function ct(Jt,Yt){if(ut){var sn=Jt.deletions;sn===null?(Jt.deletions=[Yt],Jt.flags|=16):sn.push(Yt)}}function vt(Jt,Yt){if(!ut)return null;for(;Yt!==null;)ct(Jt,Yt),Yt=Yt.sibling;return null}function wt(Jt,Yt){for(Jt=new Map;Yt!==null;)Yt.key!==null?Jt.set(Yt.key,Yt):Jt.set(Yt.index,Yt),Yt=Yt.sibling;return Jt}function St(Jt,Yt){return Jt=Xo(Jt,Yt),Jt.index=0,Jt.sibling=null,Jt}function Ct(Jt,Yt,sn){return Jt.index=sn,ut?(sn=Jt.alternate,sn!==null?(sn=sn.index,sn<Yt?(Jt.flags|=2,Yt):sn):(Jt.flags|=2,Yt)):(Jt.flags|=1048576,Yt)}function Mt(Jt){return ut&&Jt.alternate===null&&(Jt.flags|=2),Jt}function qt(Jt,Yt,sn,Pn){return Yt===null||Yt.tag!==6?(Yt=_d(sn,Jt.mode,Pn),Yt.return=Jt,Yt):(Yt=St(Yt,sn),Yt.return=Jt,Yt)}function nn(Jt,Yt,sn,Pn){var Nn=sn.type;return Nn===st?kn(Jt,Yt,sn.props.children,Pn,sn.key):Yt!==null&&(Yt.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===ht&&mp(Nn)===Yt.type)?(Pn=St(Yt,sn.props),Pn.ref=Es(Jt,Yt,sn),Pn.return=Jt,Pn):(Pn=Wl(sn.type,sn.key,sn.props,null,Jt.mode,Pn),Pn.ref=Es(Jt,Yt,sn),Pn.return=Jt,Pn)}function gn(Jt,Yt,sn,Pn){return Yt===null||Yt.tag!==4||Yt.stateNode.containerInfo!==sn.containerInfo||Yt.stateNode.implementation!==sn.implementation?(Yt=_f(sn,Jt.mode,Pn),Yt.return=Jt,Yt):(Yt=St(Yt,sn.children||[]),Yt.return=Jt,Yt)}function kn(Jt,Yt,sn,Pn,Nn){return Yt===null||Yt.tag!==7?(Yt=ns(sn,Jt.mode,Pn,Nn),Yt.return=Jt,Yt):(Yt=St(Yt,sn),Yt.return=Jt,Yt)}function Qn(Jt,Yt,sn){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number")return Yt=_d(""+Yt,Jt.mode,sn),Yt.return=Jt,Yt;if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case at:return sn=Wl(Yt.type,Yt.key,Yt.props,null,Jt.mode,sn),sn.ref=Es(Jt,null,Yt),sn.return=Jt,sn;case ot:return Yt=_f(Yt,Jt.mode,sn),Yt.return=Jt,Yt;case ht:var Pn=Yt._init;return Qn(Jt,Pn(Yt._payload),sn)}if(It(Yt)||yt(Yt))return Yt=ns(Yt,Jt.mode,sn,null),Yt.return=Jt,Yt;Zs(Jt,Yt)}return null}function Cn(Jt,Yt,sn,Pn){var Nn=Yt!==null?Yt.key:null;if(typeof sn=="string"&&sn!==""||typeof sn=="number")return Nn!==null?null:qt(Jt,Yt,""+sn,Pn);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case at:return sn.key===Nn?nn(Jt,Yt,sn,Pn):null;case ot:return sn.key===Nn?gn(Jt,Yt,sn,Pn):null;case ht:return Nn=sn._init,Cn(Jt,Yt,Nn(sn._payload),Pn)}if(It(sn)||yt(sn))return Nn!==null?null:kn(Jt,Yt,sn,Pn,null);Zs(Jt,sn)}return null}function mr(Jt,Yt,sn,Pn,Nn){if(typeof Pn=="string"&&Pn!==""||typeof Pn=="number")return Jt=Jt.get(sn)||null,qt(Yt,Jt,""+Pn,Nn);if(typeof Pn=="object"&&Pn!==null){switch(Pn.$$typeof){case at:return Jt=Jt.get(Pn.key===null?sn:Pn.key)||null,nn(Yt,Jt,Pn,Nn);case ot:return Jt=Jt.get(Pn.key===null?sn:Pn.key)||null,gn(Yt,Jt,Pn,Nn);case ht:var er=Pn._init;return mr(Jt,Yt,sn,er(Pn._payload),Nn)}if(It(Pn)||yt(Pn))return Jt=Jt.get(sn)||null,kn(Yt,Jt,Pn,Nn,null);Zs(Yt,Pn)}return null}function pr(Jt,Yt,sn,Pn){for(var Nn=null,er=null,Zn=Yt,ar=Yt=0,Ur=null;Zn!==null&&ar<sn.length;ar++){Zn.index>ar?(Ur=Zn,Zn=null):Ur=Zn.sibling;var sr=Cn(Jt,Zn,sn[ar],Pn);if(sr===null){Zn===null&&(Zn=Ur);break}ut&&Zn&&sr.alternate===null&&ct(Jt,Zn),Yt=Ct(sr,Yt,ar),er===null?Nn=sr:er.sibling=sr,er=sr,Zn=Ur}if(ar===sn.length)return vt(Jt,Zn),vr&&ga(Jt,ar),Nn;if(Zn===null){for(;ar<sn.length;ar++)Zn=Qn(Jt,sn[ar],Pn),Zn!==null&&(Yt=Ct(Zn,Yt,ar),er===null?Nn=Zn:er.sibling=Zn,er=Zn);return vr&&ga(Jt,ar),Nn}for(Zn=wt(Jt,Zn);ar<sn.length;ar++)Ur=mr(Zn,Jt,ar,sn[ar],Pn),Ur!==null&&(ut&&Ur.alternate!==null&&Zn.delete(Ur.key===null?ar:Ur.key),Yt=Ct(Ur,Yt,ar),er===null?Nn=Ur:er.sibling=Ur,er=Ur);return ut&&Zn.forEach(function(Qo){return ct(Jt,Qo)}),vr&&ga(Jt,ar),Nn}function _i(Jt,Yt,sn,Pn){var Nn=yt(sn);if(typeof Nn!="function")throw Error(tt(150));if(sn=Nn.call(sn),sn==null)throw Error(tt(151));for(var er=Nn=null,Zn=Yt,ar=Yt=0,Ur=null,sr=sn.next();Zn!==null&&!sr.done;ar++,sr=sn.next()){Zn.index>ar?(Ur=Zn,Zn=null):Ur=Zn.sibling;var Qo=Cn(Jt,Zn,sr.value,Pn);if(Qo===null){Zn===null&&(Zn=Ur);break}ut&&Zn&&Qo.alternate===null&&ct(Jt,Zn),Yt=Ct(Qo,Yt,ar),er===null?Nn=Qo:er.sibling=Qo,er=Qo,Zn=Ur}if(sr.done)return vt(Jt,Zn),vr&&ga(Jt,ar),Nn;if(Zn===null){for(;!sr.done;ar++,sr=sn.next())sr=Qn(Jt,sr.value,Pn),sr!==null&&(Yt=Ct(sr,Yt,ar),er===null?Nn=sr:er.sibling=sr,er=sr);return vr&&ga(Jt,ar),Nn}for(Zn=wt(Jt,Zn);!sr.done;ar++,sr=sn.next())sr=mr(Zn,Jt,ar,sr.value,Pn),sr!==null&&(ut&&sr.alternate!==null&&Zn.delete(sr.key===null?ar:sr.key),Yt=Ct(sr,Yt,ar),er===null?Nn=sr:er.sibling=sr,er=sr);return ut&&Zn.forEach(function(gm){return ct(Jt,gm)}),vr&&ga(Jt,ar),Nn}function Uo(Jt,Yt,sn,Pn){if(typeof sn=="object"&&sn!==null&&sn.type===st&&sn.key===null&&(sn=sn.props.children),typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case at:e:{for(var Nn=sn.key,er=Yt;er!==null;){if(er.key===Nn){if(Nn=sn.type,Nn===st){if(er.tag===7){vt(Jt,er.sibling),Yt=St(er,sn.props.children),Yt.return=Jt,Jt=Yt;break e}}else if(er.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===ht&&mp(Nn)===er.type){vt(Jt,er.sibling),Yt=St(er,sn.props),Yt.ref=Es(Jt,er,sn),Yt.return=Jt,Jt=Yt;break e}vt(Jt,er);break}else ct(Jt,er);er=er.sibling}sn.type===st?(Yt=ns(sn.props.children,Jt.mode,Pn,sn.key),Yt.return=Jt,Jt=Yt):(Pn=Wl(sn.type,sn.key,sn.props,null,Jt.mode,Pn),Pn.ref=Es(Jt,Yt,sn),Pn.return=Jt,Jt=Pn)}return Mt(Jt);case ot:e:{for(er=sn.key;Yt!==null;){if(Yt.key===er)if(Yt.tag===4&&Yt.stateNode.containerInfo===sn.containerInfo&&Yt.stateNode.implementation===sn.implementation){vt(Jt,Yt.sibling),Yt=St(Yt,sn.children||[]),Yt.return=Jt,Jt=Yt;break e}else{vt(Jt,Yt);break}else ct(Jt,Yt);Yt=Yt.sibling}Yt=_f(sn,Jt.mode,Pn),Yt.return=Jt,Jt=Yt}return Mt(Jt);case ht:return er=sn._init,Uo(Jt,Yt,er(sn._payload),Pn)}if(It(sn))return pr(Jt,Yt,sn,Pn);if(yt(sn))return _i(Jt,Yt,sn,Pn);Zs(Jt,sn)}return typeof sn=="string"&&sn!==""||typeof sn=="number"?(sn=""+sn,Yt!==null&&Yt.tag===6?(vt(Jt,Yt.sibling),Yt=St(Yt,sn),Yt.return=Jt,Jt=Yt):(vt(Jt,Yt),Yt=_d(sn,Jt.mode,Pn),Yt.return=Jt,Jt=Yt),Mt(Jt)):vt(Jt,Yt)}return Uo}var ps=yp(!0),vp=yp(!1),Ts={},uo=io(Ts),Cs=io(Ts),gs=io(Ts);function Co(ut){if(ut===Ts)throw Error(tt(174));return ut}function gu(ut,ct){lr(gs,ct),lr(Cs,ut),lr(uo,Ts),ut=kt(ct),fr(uo),lr(uo,ut)}function ms(){fr(uo),fr(Cs),fr(gs)}function bp(ut){var ct=Co(gs.current),vt=Co(uo.current);ct=Ft(vt,ut.type,ct),vt!==ct&&(lr(Cs,ut),lr(uo,ct))}function mu(ut){Cs.current===ut&&(fr(uo),fr(Cs))}var _r=io(0);function Js(ut){for(var ct=ut;ct!==null;){if(ct.tag===13){var vt=ct.memoizedState;if(vt!==null&&(vt=vt.dehydrated,vt===null||Ir(vt)||Gn(vt)))return ct}else if(ct.tag===19&&ct.memoizedProps.revealOrder!==void 0){if(ct.flags&128)return ct}else if(ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===ut)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)return null;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}return null}var yu=[];function vu(){for(var ut=0;ut<yu.length;ut++){var ct=yu[ut];wn?ct._workInProgressVersionPrimary=null:ct._workInProgressVersionSecondary=null}yu.length=0}var yl=rt.ReactCurrentDispatcher,bu=rt.ReactCurrentBatchConfig,_a=0,xr=null,kr=null,Lr=null,_l=!1,Ps=!1,As=0,U0=0;function Hr(){throw Error(tt(321))}function _u(ut,ct){if(ct===null)return!1;for(var vt=0;vt<ct.length&&vt<ut.length;vt++)if(!mo(ut[vt],ct[vt]))return!1;return!0}function xu(ut,ct,vt,wt,St,Ct){if(_a=Ct,xr=ct,ct.memoizedState=null,ct.updateQueue=null,ct.lanes=0,yl.current=ut===null||ut.memoizedState===null?G0:H0,ut=vt(wt,St),Ps){Ct=0;do{if(Ps=!1,As=0,25<=Ct)throw Error(tt(301));Ct+=1,Lr=kr=null,ct.updateQueue=null,yl.current=W0,ut=vt(wt,St)}while(Ps)}if(yl.current=El,ct=kr!==null&&kr.next!==null,_a=0,Lr=kr=xr=null,_l=!1,ct)throw Error(tt(300));return ut}function wu(){var ut=As!==0;return As=0,ut}function Po(){var ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?xr.memoizedState=Lr=ut:Lr=Lr.next=ut,Lr}function co(){if(kr===null){var ut=xr.alternate;ut=ut!==null?ut.memoizedState:null}else ut=kr.next;var ct=Lr===null?xr.memoizedState:Lr.next;if(ct!==null)Lr=ct,kr=ut;else{if(ut===null)throw Error(tt(310));kr=ut,ut={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Lr===null?xr.memoizedState=Lr=ut:Lr=Lr.next=ut}return Lr}function Os(ut,ct){return typeof ct=="function"?ct(ut):ct}function Su(ut){var ct=co(),vt=ct.queue;if(vt===null)throw Error(tt(311));vt.lastRenderedReducer=ut;var wt=kr,St=wt.baseQueue,Ct=vt.pending;if(Ct!==null){if(St!==null){var Mt=St.next;St.next=Ct.next,Ct.next=Mt}wt.baseQueue=St=Ct,vt.pending=null}if(St!==null){Ct=St.next,wt=wt.baseState;var qt=Mt=null,nn=null,gn=Ct;do{var kn=gn.lane;if((_a&kn)===kn)nn!==null&&(nn=nn.next={lane:0,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null}),wt=gn.hasEagerState?gn.eagerState:ut(wt,gn.action);else{var Qn={lane:kn,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null};nn===null?(qt=nn=Qn,Mt=wt):nn=nn.next=Qn,xr.lanes|=kn,xa|=kn}gn=gn.next}while(gn!==null&&gn!==Ct);nn===null?Mt=wt:nn.next=qt,mo(wt,ct.memoizedState)||(Qr=!0),ct.memoizedState=wt,ct.baseState=Mt,ct.baseQueue=nn,vt.lastRenderedState=wt}if(ut=vt.interleaved,ut!==null){St=ut;do Ct=St.lane,xr.lanes|=Ct,xa|=Ct,St=St.next;while(St!==ut)}else St===null&&(vt.lanes=0);return[ct.memoizedState,vt.dispatch]}function Eu(ut){var ct=co(),vt=ct.queue;if(vt===null)throw Error(tt(311));vt.lastRenderedReducer=ut;var wt=vt.dispatch,St=vt.pending,Ct=ct.memoizedState;if(St!==null){vt.pending=null;var Mt=St=St.next;do Ct=ut(Ct,Mt.action),Mt=Mt.next;while(Mt!==St);mo(Ct,ct.memoizedState)||(Qr=!0),ct.memoizedState=Ct,ct.baseQueue===null&&(ct.baseState=Ct),vt.lastRenderedState=Ct}return[Ct,wt]}function _p(){}function xp(ut,ct){var vt=xr,wt=co(),St=ct(),Ct=!mo(wt.memoizedState,St);if(Ct&&(wt.memoizedState=St,Qr=!0),wt=wt.queue,Tu(Ep.bind(null,vt,wt,ut),[ut]),wt.getSnapshot!==ct||Ct||Lr!==null&&Lr.memoizedState.tag&1){if(vt.flags|=2048,$s(9,Sp.bind(null,vt,wt,St,ct),void 0,null),jr===null)throw Error(tt(349));_a&30||wp(vt,ct,St)}return St}function wp(ut,ct,vt){ut.flags|=16384,ut={getSnapshot:ct,value:vt},ct=xr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},xr.updateQueue=ct,ct.stores=[ut]):(vt=ct.stores,vt===null?ct.stores=[ut]:vt.push(ut))}function Sp(ut,ct,vt,wt){ct.value=vt,ct.getSnapshot=wt,Tp(ct)&&Cp(ut)}function Ep(ut,ct,vt){return vt(function(){Tp(ct)&&Cp(ut)})}function Tp(ut){var ct=ut.getSnapshot;ut=ut.value;try{var vt=ct();return!mo(ut,vt)}catch{return!0}}function Cp(ut){var ct=To(ut,1);ct!==null&&fo(ct,ut,1,-1)}function Pp(ut){var ct=Po();return typeof ut=="function"&&(ut=ut()),ct.memoizedState=ct.baseState=ut,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:ut},ct.queue=ut,ut=ut.dispatch=B0.bind(null,xr,ut),[ct.memoizedState,ut]}function $s(ut,ct,vt,wt){return ut={tag:ut,create:ct,destroy:vt,deps:wt,next:null},ct=xr.updateQueue,ct===null?(ct={lastEffect:null,stores:null},xr.updateQueue=ct,ct.lastEffect=ut.next=ut):(vt=ct.lastEffect,vt===null?ct.lastEffect=ut.next=ut:(wt=vt.next,vt.next=ut,ut.next=wt,ct.lastEffect=ut)),ut}function Ap(){return co().memoizedState}function xl(ut,ct,vt,wt){var St=Po();xr.flags|=ut,St.memoizedState=$s(1|ct,vt,void 0,wt===void 0?null:wt)}function Sl(ut,ct,vt,wt){var St=co();wt=wt===void 0?null:wt;var Ct=void 0;if(kr!==null){var Mt=kr.memoizedState;if(Ct=Mt.destroy,wt!==null&&_u(wt,Mt.deps)){St.memoizedState=$s(ct,vt,Ct,wt);return}}xr.flags|=ut,St.memoizedState=$s(1|ct,vt,Ct,wt)}function Op(ut,ct){return xl(8390656,8,ut,ct)}function Tu(ut,ct){return Sl(2048,8,ut,ct)}function $p(ut,ct){return Sl(4,2,ut,ct)}function kp(ut,ct){return Sl(4,4,ut,ct)}function Rp(ut,ct){if(typeof ct=="function")return ut=ut(),ct(ut),function(){ct(null)};if(ct!=null)return ut=ut(),ct.current=ut,function(){ct.current=null}}function Ip(ut,ct,vt){return vt=vt!=null?vt.concat([ut]):null,Sl(4,4,Rp.bind(null,ct,ut),vt)}function Cu(){}function Dp(ut,ct){var vt=co();ct=ct===void 0?null:ct;var wt=vt.memoizedState;return wt!==null&&ct!==null&&_u(ct,wt[1])?wt[0]:(vt.memoizedState=[ut,ct],ut)}function Mp(ut,ct){var vt=co();ct=ct===void 0?null:ct;var wt=vt.memoizedState;return wt!==null&&ct!==null&&_u(ct,wt[1])?wt[0]:(ut=ut(),vt.memoizedState=[ut,ct],ut)}function Fp(ut,ct,vt){return _a&21?(mo(vt,ct)||(vt=ln(),xr.lanes|=vt,xa|=vt,ut.baseState=!0),ct):(ut.baseState&&(ut.baseState=!1,Qr=!0),ut.memoizedState=vt)}function V0(ut,ct){var vt=or;or=vt!==0&&4>vt?vt:4,ut(!0);var wt=bu.transition;bu.transition={};try{ut(!1),ct()}finally{or=vt,bu.transition=wt}}function Np(){return co().memoizedState}function z0(ut,ct,vt){var wt=qo(ut);if(vt={lane:wt,action:vt,hasEagerState:!1,eagerState:null,next:null},Lp(ut))jp(ct,vt);else if(vt=lp(ut,ct,vt,wt),vt!==null){var St=qr();fo(vt,ut,wt,St),Up(vt,ct,wt)}}function B0(ut,ct,vt){var wt=qo(ut),St={lane:wt,action:vt,hasEagerState:!1,eagerState:null,next:null};if(Lp(ut))jp(ct,St);else{var Ct=ut.alternate;if(ut.lanes===0&&(Ct===null||Ct.lanes===0)&&(Ct=ct.lastRenderedReducer,Ct!==null))try{var Mt=ct.lastRenderedState,qt=Ct(Mt,vt);if(St.hasEagerState=!0,St.eagerState=qt,mo(qt,Mt)){var nn=ct.interleaved;nn===null?(St.next=St,du(ct)):(St.next=nn.next,nn.next=St),ct.interleaved=St;return}}catch{}finally{}vt=lp(ut,ct,St,wt),vt!==null&&(St=qr(),fo(vt,ut,wt,St),Up(vt,ct,wt))}}function Lp(ut){var ct=ut.alternate;return ut===xr||ct!==null&&ct===xr}function jp(ut,ct){Ps=_l=!0;var vt=ut.pending;vt===null?ct.next=ct:(ct.next=vt.next,vt.next=ct),ut.pending=ct}function Up(ut,ct,vt){if(vt&4194240){var wt=ct.lanes;wt&=ut.pendingLanes,vt|=wt,ct.lanes=vt,ls(ut,vt)}}var El={readContext:lo,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},G0={readContext:lo,useCallback:function(ut,ct){return Po().memoizedState=[ut,ct===void 0?null:ct],ut},useContext:lo,useEffect:Op,useImperativeHandle:function(ut,ct,vt){return vt=vt!=null?vt.concat([ut]):null,xl(4194308,4,Rp.bind(null,ct,ut),vt)},useLayoutEffect:function(ut,ct){return xl(4194308,4,ut,ct)},useInsertionEffect:function(ut,ct){return xl(4,2,ut,ct)},useMemo:function(ut,ct){var vt=Po();return ct=ct===void 0?null:ct,ut=ut(),vt.memoizedState=[ut,ct],ut},useReducer:function(ut,ct,vt){var wt=Po();return ct=vt!==void 0?vt(ct):ct,wt.memoizedState=wt.baseState=ct,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ut,lastRenderedState:ct},wt.queue=ut,ut=ut.dispatch=z0.bind(null,xr,ut),[wt.memoizedState,ut]},useRef:function(ut){var ct=Po();return ut={current:ut},ct.memoizedState=ut},useState:Pp,useDebugValue:Cu,useDeferredValue:function(ut){return Po().memoizedState=ut},useTransition:function(){var ut=Pp(!1),ct=ut[0];return ut=V0.bind(null,ut[1]),Po().memoizedState=ut,[ct,ut]},useMutableSource:function(){},useSyncExternalStore:function(ut,ct,vt){var wt=xr,St=Po();if(vr){if(vt===void 0)throw Error(tt(407));vt=vt()}else{if(vt=ct(),jr===null)throw Error(tt(349));_a&30||wp(wt,ct,vt)}St.memoizedState=vt;var Ct={value:vt,getSnapshot:ct};return St.queue=Ct,Op(Ep.bind(null,wt,Ct,ut),[ut]),wt.flags|=2048,$s(9,Sp.bind(null,wt,Ct,vt,ct),void 0,null),vt},useId:function(){var ut=Po(),ct=jr.identifierPrefix;if(vr){var vt=Fo,wt=Mo;vt=(wt&~(1<<32-Gt(wt)-1)).toString(32)+vt,ct=":"+ct+"R"+vt,vt=As++,0<vt&&(ct+="H"+vt.toString(32)),ct+=":"}else vt=U0++,ct=":"+ct+"r"+vt.toString(32)+":";return ut.memoizedState=ct},unstable_isNewReconciler:!1},H0={readContext:lo,useCallback:Dp,useContext:lo,useEffect:Tu,useImperativeHandle:Ip,useInsertionEffect:$p,useLayoutEffect:kp,useMemo:Mp,useReducer:Su,useRef:Ap,useState:function(){return Su(Os)},useDebugValue:Cu,useDeferredValue:function(ut){var ct=co();return Fp(ct,kr.memoizedState,ut)},useTransition:function(){var ut=Su(Os)[0],ct=co().memoizedState;return[ut,ct]},useMutableSource:_p,useSyncExternalStore:xp,useId:Np,unstable_isNewReconciler:!1},W0={readContext:lo,useCallback:Dp,useContext:lo,useEffect:Tu,useImperativeHandle:Ip,useInsertionEffect:$p,useLayoutEffect:kp,useMemo:Mp,useReducer:Eu,useRef:Ap,useState:function(){return Eu(Os)},useDebugValue:Cu,useDeferredValue:function(ut){var ct=co();return kr===null?ct.memoizedState=ut:Fp(ct,kr.memoizedState,ut)},useTransition:function(){var ut=Eu(Os)[0],ct=co().memoizedState;return[ut,ct]},useMutableSource:_p,useSyncExternalStore:xp,useId:Np,unstable_isNewReconciler:!1};function ys(ut,ct){try{var vt="",wt=ct;do vt+=j0(wt),wt=wt.return;while(wt);var St=vt}catch(Ct){St=`
Error generating stack: `+Ct.message+`
`+Ct.stack}return{value:ut,source:ct,stack:St,digest:null}}function Pu(ut,ct,vt){return{value:ut,source:null,stack:vt??null,digest:ct??null}}function Au(ut,ct){try{console.error(ct.value)}catch(vt){setTimeout(function(){throw vt})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function Vp(ut,ct,vt){vt=No(-1,vt),vt.tag=3,vt.payload={element:null};var wt=ct.value;return vt.callback=function(){Ul||(Ul=!0,qu=wt),Au(ut,ct)},vt}function zp(ut,ct,vt){vt=No(-1,vt),vt.tag=3;var wt=ut.type.getDerivedStateFromError;if(typeof wt=="function"){var St=ct.value;vt.payload=function(){return wt(St)},vt.callback=function(){Au(ut,ct)}}var Ct=ut.stateNode;return Ct!==null&&typeof Ct.componentDidCatch=="function"&&(vt.callback=function(){Au(ut,ct),typeof wt!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var Mt=ct.stack;this.componentDidCatch(ct.value,{componentStack:Mt!==null?Mt:""})}),vt}function Bp(ut,ct,vt){var wt=ut.pingCache;if(wt===null){wt=ut.pingCache=new K0;var St=new Set;wt.set(ct,St)}else St=wt.get(ct),St===void 0&&(St=new Set,wt.set(ct,St));St.has(vt)||(St.add(vt),ut=sm.bind(null,ut,ct,vt),ct.then(ut,ut))}function Gp(ut){do{var ct;if((ct=ut.tag===13)&&(ct=ut.memoizedState,ct=ct!==null?ct.dehydrated!==null:!0),ct)return ut;ut=ut.return}while(ut!==null);return null}function Hp(ut,ct,vt,wt,St){return ut.mode&1?(ut.flags|=65536,ut.lanes=St,ut):(ut===ct?ut.flags|=65536:(ut.flags|=128,vt.flags|=131072,vt.flags&=-52805,vt.tag===1&&(vt.alternate===null?vt.tag=17:(ct=No(-1,1),ct.tag=2,Ho(vt,ct,1))),vt.lanes|=1),ut)}var q0=rt.ReactCurrentOwner,Qr=!1;function Yr(ut,ct,vt,wt){ct.child=ut===null?vp(ct,null,vt,wt):ps(ct,ut.child,vt,wt)}function Wp(ut,ct,vt,wt,St){vt=vt.render;var Ct=ct.ref;return hs(ct,St),wt=xu(ut,ct,vt,wt,Ct,St),vt=wu(),ut!==null&&!Qr?(ct.updateQueue=ut.updateQueue,ct.flags&=-2053,ut.lanes&=~St,Lo(ut,ct,St)):(vr&&vt&&nu(ct),ct.flags|=1,Yr(ut,ct,wt,St),ct.child)}function Kp(ut,ct,vt,wt,St){if(ut===null){var Ct=vt.type;return typeof Ct=="function"&&!_c(Ct)&&Ct.defaultProps===void 0&&vt.compare===null&&vt.defaultProps===void 0?(ct.tag=15,ct.type=Ct,qp(ut,ct,Ct,wt,St)):(ut=Wl(vt.type,null,wt,ct,ct.mode,St),ut.ref=ct.ref,ut.return=ct,ct.child=ut)}if(Ct=ut.child,!(ut.lanes&St)){var Mt=Ct.memoizedProps;if(vt=vt.compare,vt=vt!==null?vt:Ws,vt(Mt,wt)&&ut.ref===ct.ref)return Lo(ut,ct,St)}return ct.flags|=1,ut=Xo(Ct,wt),ut.ref=ct.ref,ut.return=ct,ct.child=ut}function qp(ut,ct,vt,wt,St){if(ut!==null){var Ct=ut.memoizedProps;if(Ws(Ct,wt)&&ut.ref===ct.ref)if(Qr=!1,ct.pendingProps=wt=Ct,(ut.lanes&St)!==0)ut.flags&131072&&(Qr=!0);else return ct.lanes=ut.lanes,Lo(ut,ct,St)}return Ou(ut,ct,vt,wt,St)}function Yp(ut,ct,vt){var wt=ct.pendingProps,St=wt.children,Ct=ut!==null?ut.memoizedState:null;if(wt.mode==="hidden")if(!(ct.mode&1))ct.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(bs,no),no|=vt;else{if(!(vt&1073741824))return ut=Ct!==null?Ct.baseLanes|vt:vt,ct.lanes=ct.childLanes=1073741824,ct.memoizedState={baseLanes:ut,cachePool:null,transitions:null},ct.updateQueue=null,lr(bs,no),no|=ut,null;ct.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt=Ct!==null?Ct.baseLanes:vt,lr(bs,no),no|=wt}else Ct!==null?(wt=Ct.baseLanes|vt,ct.memoizedState=null):wt=vt,lr(bs,no),no|=wt;return Yr(ut,ct,St,vt),ct.child}function Xp(ut,ct){var vt=ct.ref;(ut===null&&vt!==null||ut!==null&&ut.ref!==vt)&&(ct.flags|=512,ct.flags|=2097152)}function Ou(ut,ct,vt,wt,St){var Ct=Fr(vt)?wo:$r.current;return Ct=ko(ct,Ct),hs(ct,St),vt=xu(ut,ct,vt,wt,Ct,St),wt=wu(),ut!==null&&!Qr?(ct.updateQueue=ut.updateQueue,ct.flags&=-2053,ut.lanes&=~St,Lo(ut,ct,St)):(vr&&wt&&nu(ct),ct.flags|=1,Yr(ut,ct,vt,St),ct.child)}function Qp(ut,ct,vt,wt,St){if(Fr(vt)){var Ct=!0;Dt(ct)}else Ct=!1;if(hs(ct,St),ct.stateNode===null)Cl(ut,ct),pp(ct,vt,wt),pu(ct,vt,wt,St),wt=!0;else if(ut===null){var Mt=ct.stateNode,qt=ct.memoizedProps;Mt.props=qt;var nn=Mt.context,gn=vt.contextType;typeof gn=="object"&&gn!==null?gn=lo(gn):(gn=Fr(vt)?wo:$r.current,gn=ko(ct,gn));var kn=vt.getDerivedStateFromProps,Qn=typeof kn=="function"||typeof Mt.getSnapshotBeforeUpdate=="function";Qn||typeof Mt.UNSAFE_componentWillReceiveProps!="function"&&typeof Mt.componentWillReceiveProps!="function"||(qt!==wt||nn!==gn)&&gp(ct,Mt,wt,gn),Go=!1;var Cn=ct.memoizedState;Mt.state=Cn,Xs(ct,wt,Mt,St),nn=ct.memoizedState,qt!==wt||Cn!==nn||Mr.current||Go?(typeof kn=="function"&&(hu(ct,vt,kn,wt),nn=ct.memoizedState),(qt=Go||hp(ct,vt,qt,wt,Cn,nn,gn))?(Qn||typeof Mt.UNSAFE_componentWillMount!="function"&&typeof Mt.componentWillMount!="function"||(typeof Mt.componentWillMount=="function"&&Mt.componentWillMount(),typeof Mt.UNSAFE_componentWillMount=="function"&&Mt.UNSAFE_componentWillMount()),typeof Mt.componentDidMount=="function"&&(ct.flags|=4194308)):(typeof Mt.componentDidMount=="function"&&(ct.flags|=4194308),ct.memoizedProps=wt,ct.memoizedState=nn),Mt.props=wt,Mt.state=nn,Mt.context=gn,wt=qt):(typeof Mt.componentDidMount=="function"&&(ct.flags|=4194308),wt=!1)}else{Mt=ct.stateNode,up(ut,ct),qt=ct.memoizedProps,gn=ct.type===ct.elementType?qt:vo(ct.type,qt),Mt.props=gn,Qn=ct.pendingProps,Cn=Mt.context,nn=vt.contextType,typeof nn=="object"&&nn!==null?nn=lo(nn):(nn=Fr(vt)?wo:$r.current,nn=ko(ct,nn));var mr=vt.getDerivedStateFromProps;(kn=typeof mr=="function"||typeof Mt.getSnapshotBeforeUpdate=="function")||typeof Mt.UNSAFE_componentWillReceiveProps!="function"&&typeof Mt.componentWillReceiveProps!="function"||(qt!==Qn||Cn!==nn)&&gp(ct,Mt,wt,nn),Go=!1,Cn=ct.memoizedState,Mt.state=Cn,Xs(ct,wt,Mt,St);var pr=ct.memoizedState;qt!==Qn||Cn!==pr||Mr.current||Go?(typeof mr=="function"&&(hu(ct,vt,mr,wt),pr=ct.memoizedState),(gn=Go||hp(ct,vt,gn,wt,Cn,pr,nn)||!1)?(kn||typeof Mt.UNSAFE_componentWillUpdate!="function"&&typeof Mt.componentWillUpdate!="function"||(typeof Mt.componentWillUpdate=="function"&&Mt.componentWillUpdate(wt,pr,nn),typeof Mt.UNSAFE_componentWillUpdate=="function"&&Mt.UNSAFE_componentWillUpdate(wt,pr,nn)),typeof Mt.componentDidUpdate=="function"&&(ct.flags|=4),typeof Mt.getSnapshotBeforeUpdate=="function"&&(ct.flags|=1024)):(typeof Mt.componentDidUpdate!="function"||qt===ut.memoizedProps&&Cn===ut.memoizedState||(ct.flags|=4),typeof Mt.getSnapshotBeforeUpdate!="function"||qt===ut.memoizedProps&&Cn===ut.memoizedState||(ct.flags|=1024),ct.memoizedProps=wt,ct.memoizedState=pr),Mt.props=wt,Mt.state=pr,Mt.context=nn,wt=gn):(typeof Mt.componentDidUpdate!="function"||qt===ut.memoizedProps&&Cn===ut.memoizedState||(ct.flags|=4),typeof Mt.getSnapshotBeforeUpdate!="function"||qt===ut.memoizedProps&&Cn===ut.memoizedState||(ct.flags|=1024),wt=!1)}return $u(ut,ct,vt,wt,Ct,St)}function $u(ut,ct,vt,wt,St,Ct){Xp(ut,ct);var Mt=(ct.flags&128)!==0;if(!wt&&!Mt)return St&&Vt(ct,vt,!1),Lo(ut,ct,Ct);wt=ct.stateNode,q0.current=ct;var qt=Mt&&typeof vt.getDerivedStateFromError!="function"?null:wt.render();return ct.flags|=1,ut!==null&&Mt?(ct.child=ps(ct,ut.child,null,Ct),ct.child=ps(ct,null,qt,Ct)):Yr(ut,ct,qt,Ct),ct.memoizedState=wt.state,St&&Vt(ct,vt,!0),ct.child}function Zp(ut){var ct=ut.stateNode;ct.pendingContext?as(ut,ct.pendingContext,ct.pendingContext!==ct.context):ct.context&&as(ut,ct.context,!1),gu(ut,ct.containerInfo)}function Jp(ut,ct,vt,wt,St){return ds(),au(St),ct.flags|=256,Yr(ut,ct,vt,wt),ct.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function Ru(ut){return{baseLanes:ut,cachePool:null,transitions:null}}function _g(ut,ct,vt){var wt=ct.pendingProps,St=_r.current,Ct=!1,Mt=(ct.flags&128)!==0,qt;if((qt=Mt)||(qt=ut!==null&&ut.memoizedState===null?!1:(St&2)!==0),qt?(Ct=!0,ct.flags&=-129):(ut===null||ut.memoizedState!==null)&&(St|=1),lr(_r,St&1),ut===null)return ou(ct),ut=ct.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null)?(ct.mode&1?Gn(ut)?ct.lanes=8:ct.lanes=1073741824:ct.lanes=1,null):(Mt=wt.children,ut=wt.fallback,Ct?(wt=ct.mode,Ct=ct.child,Mt={mode:"hidden",children:Mt},!(wt&1)&&Ct!==null?(Ct.childLanes=0,Ct.pendingProps=Mt):Ct=Kl(Mt,wt,0,null),ut=ns(ut,wt,vt,null),Ct.return=ct,ut.return=ct,Ct.sibling=ut,ct.child=Ct,ct.child.memoizedState=Ru(vt),ct.memoizedState=ku,ut):Iu(ct,Mt));if(St=ut.memoizedState,St!==null&&(qt=St.dehydrated,qt!==null))return Y0(ut,ct,Mt,wt,qt,St,vt);if(Ct){Ct=wt.fallback,Mt=ct.mode,St=ut.child,qt=St.sibling;var nn={mode:"hidden",children:wt.children};return!(Mt&1)&&ct.child!==St?(wt=ct.child,wt.childLanes=0,wt.pendingProps=nn,ct.deletions=null):(wt=Xo(St,nn),wt.subtreeFlags=St.subtreeFlags&14680064),qt!==null?Ct=Xo(qt,Ct):(Ct=ns(Ct,Mt,vt,null),Ct.flags|=2),Ct.return=ct,wt.return=ct,wt.sibling=Ct,ct.child=wt,wt=Ct,Ct=ct.child,Mt=ut.child.memoizedState,Mt=Mt===null?Ru(vt):{baseLanes:Mt.baseLanes|vt,cachePool:null,transitions:Mt.transitions},Ct.memoizedState=Mt,Ct.childLanes=ut.childLanes&~vt,ct.memoizedState=ku,wt}return Ct=ut.child,ut=Ct.sibling,wt=Xo(Ct,{mode:"visible",children:wt.children}),!(ct.mode&1)&&(wt.lanes=vt),wt.return=ct,wt.sibling=null,ut!==null&&(vt=ct.deletions,vt===null?(ct.deletions=[ut],ct.flags|=16):vt.push(ut)),ct.child=wt,ct.memoizedState=null,wt}function Iu(ut,ct){return ct=Kl({mode:"visible",children:ct},ut.mode,0,null),ct.return=ut,ut.child=ct}function Tl(ut,ct,vt,wt){return wt!==null&&au(wt),ps(ct,ut.child,null,vt),ut=Iu(ct,ct.pendingProps.children),ut.flags|=2,ct.memoizedState=null,ut}function Y0(ut,ct,vt,wt,St,Ct,Mt){if(vt)return ct.flags&256?(ct.flags&=-257,wt=Pu(Error(tt(422))),Tl(ut,ct,Mt,wt)):ct.memoizedState!==null?(ct.child=ut.child,ct.flags|=128,null):(Ct=wt.fallback,St=ct.mode,wt=Kl({mode:"visible",children:wt.children},St,0,null),Ct=ns(Ct,St,Mt,null),Ct.flags|=2,wt.return=ct,Ct.return=ct,wt.sibling=Ct,ct.child=wt,ct.mode&1&&ps(ct,ut.child,null,Mt),ct.child.memoizedState=Ru(Mt),ct.memoizedState=ku,Ct);if(!(ct.mode&1))return Tl(ut,ct,Mt,null);if(Gn(St))return wt=qn(St).digest,Ct=Error(tt(419)),wt=Pu(Ct,wt,void 0),Tl(ut,ct,Mt,wt);if(vt=(Mt&ut.childLanes)!==0,Qr||vt){if(wt=jr,wt!==null){switch(Mt&-Mt){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(wt.suspendedLanes|Mt)?0:St,St!==0&&St!==Ct.retryLane&&(Ct.retryLane=St,To(ut,St),fo(wt,ut,St,-1))}return Ju(),wt=Pu(Error(tt(421))),Tl(ut,ct,Mt,wt)}return Ir(St)?(ct.flags|=128,ct.child=ut.child,ct=lm.bind(null,ut),Yn(St,ct),null):(ut=Ct.treeContext,bn&&(so=Dn(St),to=ct,vr=!0,yo=null,Ss=!1,ut!==null&&(oo[ao++]=Mo,oo[ao++]=Fo,oo[ao++]=na,Mo=ut.id,Fo=ut.overflow,na=ct)),ct=Iu(ct,wt.children),ct.flags|=4096,ct)}function e0(ut,ct,vt){ut.lanes|=ct;var wt=ut.alternate;wt!==null&&(wt.lanes|=ct),cu(ut.return,ct,vt)}function Du(ut,ct,vt,wt,St){var Ct=ut.memoizedState;Ct===null?ut.memoizedState={isBackwards:ct,rendering:null,renderingStartTime:0,last:wt,tail:vt,tailMode:St}:(Ct.isBackwards=ct,Ct.rendering=null,Ct.renderingStartTime=0,Ct.last=wt,Ct.tail=vt,Ct.tailMode=St)}function t0(ut,ct,vt){var wt=ct.pendingProps,St=wt.revealOrder,Ct=wt.tail;if(Yr(ut,ct,wt.children,vt),wt=_r.current,wt&2)wt=wt&1|2,ct.flags|=128;else{if(ut!==null&&ut.flags&128)e:for(ut=ct.child;ut!==null;){if(ut.tag===13)ut.memoizedState!==null&&e0(ut,vt,ct);else if(ut.tag===19)e0(ut,vt,ct);else if(ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===ct)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===ct)break e;ut=ut.return}ut.sibling.return=ut.return,ut=ut.sibling}wt&=1}if(lr(_r,wt),!(ct.mode&1))ct.memoizedState=null;else switch(St){case"forwards":for(vt=ct.child,St=null;vt!==null;)ut=vt.alternate,ut!==null&&Js(ut)===null&&(St=vt),vt=vt.sibling;vt=St,vt===null?(St=ct.child,ct.child=null):(St=vt.sibling,vt.sibling=null),Du(ct,!1,St,vt,Ct);break;case"backwards":for(vt=null,St=ct.child,ct.child=null;St!==null;){if(ut=St.alternate,ut!==null&&Js(ut)===null){ct.child=St;break}ut=St.sibling,St.sibling=vt,vt=St,St=ut}Du(ct,!0,vt,null,Ct);break;case"together":Du(ct,!1,null,null,void 0);break;default:ct.memoizedState=null}return ct.child}function Cl(ut,ct){!(ct.mode&1)&&ut!==null&&(ut.alternate=null,ct.alternate=null,ct.flags|=2)}function Lo(ut,ct,vt){if(ut!==null&&(ct.dependencies=ut.dependencies),xa|=ct.lanes,!(vt&ct.childLanes))return null;if(ut!==null&&ct.child!==ut.child)throw Error(tt(153));if(ct.child!==null){for(ut=ct.child,vt=Xo(ut,ut.pendingProps),ct.child=vt,vt.return=ct;ut.sibling!==null;)ut=ut.sibling,vt=vt.sibling=Xo(ut,ut.pendingProps),vt.return=ct;vt.sibling=null}return ct.child}function X0(ut,ct,vt){switch(ct.tag){case 3:Zp(ct),ds();break;case 5:bp(ct);break;case 1:Fr(ct.type)&&Dt(ct);break;case 4:gu(ct,ct.stateNode.containerInfo);break;case 10:sp(ct,ct.type._context,ct.memoizedProps.value);break;case 13:var wt=ct.memoizedState;if(wt!==null)return wt.dehydrated!==null?(lr(_r,_r.current&1),ct.flags|=128,null):vt&ct.child.childLanes?_g(ut,ct,vt):(lr(_r,_r.current&1),ut=Lo(ut,ct,vt),ut!==null?ut.sibling:null);lr(_r,_r.current&1);break;case 19:if(wt=(vt&ct.childLanes)!==0,ut.flags&128){if(wt)return t0(ut,ct,vt);ct.flags|=128}var St=ct.memoizedState;if(St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),lr(_r,_r.current),wt)break;return null;case 22:case 23:return ct.lanes=0,Yp(ut,ct,vt)}return Lo(ut,ct,vt)}function Ao(ut){ut.flags|=4}function n0(ut,ct){if(ut!==null&&ut.child===ct.child)return!0;if(ct.flags&16)return!1;for(ut=ct.child;ut!==null;){if(ut.flags&12854||ut.subtreeFlags&12854)return!1;ut=ut.sibling}return!0}var ks,Rs,Pl,Al;if(cn)ks=function(ut,ct){for(var vt=ct.child;vt!==null;){if(vt.tag===5||vt.tag===6)Qt(ut,vt.stateNode);else if(vt.tag!==4&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===ct)break;for(;vt.sibling===null;){if(vt.return===null||vt.return===ct)return;vt=vt.return}vt.sibling.return=vt.return,vt=vt.sibling}},Rs=function(){},Pl=function(ut,ct,vt,wt,St){if(ut=ut.memoizedProps,ut!==wt){var Ct=ct.stateNode,Mt=Co(uo.current);vt=an(Ct,vt,ut,wt,St,Mt),(ct.updateQueue=vt)&&Ao(ct)}},Al=function(ut,ct,vt,wt){vt!==wt&&Ao(ct)};else if(An){ks=function(ut,ct,vt,wt){for(var St=ct.child;St!==null;){if(St.tag===5){var Ct=St.stateNode;vt&&wt&&(Ct=Un(Ct,St.type,St.memoizedProps,St)),Qt(ut,Ct)}else if(St.tag===6)Ct=St.stateNode,vt&&wt&&(Ct=cr(Ct,St.memoizedProps,St)),Qt(ut,Ct);else if(St.tag!==4){if(St.tag===22&&St.memoizedState!==null)Ct=St.child,Ct!==null&&(Ct.return=St),ks(ut,St,!0,!0);else if(St.child!==null){St.child.return=St,St=St.child;continue}}if(St===ct)break;for(;St.sibling===null;){if(St.return===null||St.return===ct)return;St=St.return}St.sibling.return=St.return,St=St.sibling}};var r0=function(ut,ct,vt,wt){for(var St=ct.child;St!==null;){if(St.tag===5){var Ct=St.stateNode;vt&&wt&&(Ct=Un(Ct,St.type,St.memoizedProps,St)),Mn(ut,Ct)}else if(St.tag===6)Ct=St.stateNode,vt&&wt&&(Ct=cr(Ct,St.memoizedProps,St)),Mn(ut,Ct);else if(St.tag!==4){if(St.tag===22&&St.memoizedState!==null)Ct=St.child,Ct!==null&&(Ct.return=St),r0(ut,St,!0,!0);else if(St.child!==null){St.child.return=St,St=St.child;continue}}if(St===ct)break;for(;St.sibling===null;){if(St.return===null||St.return===ct)return;St=St.return}St.sibling.return=St.return,St=St.sibling}};Rs=function(ut,ct){var vt=ct.stateNode;if(!n0(ut,ct)){ut=vt.containerInfo;var wt=_n(ut);r0(wt,ct,!1,!1),vt.pendingChildren=wt,Ao(ct),Kt(ut,wt)}},Pl=function(ut,ct,vt,wt,St){var Ct=ut.stateNode,Mt=ut.memoizedProps;if((ut=n0(ut,ct))&&Mt===wt)ct.stateNode=Ct;else{var qt=ct.stateNode,nn=Co(uo.current),gn=null;Mt!==wt&&(gn=an(qt,vt,Mt,wt,St,nn)),ut&&gn===null?ct.stateNode=Ct:(Ct=mn(Ct,gn,vt,Mt,wt,ct,ut,qt),un(Ct,vt,wt,St,nn)&&Ao(ct),ct.stateNode=Ct,ut?Ao(ct):ks(Ct,ct,!1,!1))}},Al=function(ut,ct,vt,wt){vt!==wt?(ut=Co(gs.current),vt=Co(uo.current),ct.stateNode=fn(wt,ut,vt,ct),Ao(ct)):ct.stateNode=ut.stateNode}}else Rs=function(){},Pl=function(){},Al=function(){};function Is(ut,ct){if(!vr)switch(ut.tailMode){case"hidden":ct=ut.tail;for(var vt=null;ct!==null;)ct.alternate!==null&&(vt=ct),ct=ct.sibling;vt===null?ut.tail=null:vt.sibling=null;break;case"collapsed":vt=ut.tail;for(var wt=null;vt!==null;)vt.alternate!==null&&(wt=vt),vt=vt.sibling;wt===null?ct||ut.tail===null?ut.tail=null:ut.tail.sibling=null:wt.sibling=null}}function Wr(ut){var ct=ut.alternate!==null&&ut.alternate.child===ut.child,vt=0,wt=0;if(ct)for(var St=ut.child;St!==null;)vt|=St.lanes|St.childLanes,wt|=St.subtreeFlags&14680064,wt|=St.flags&14680064,St.return=ut,St=St.sibling;else for(St=ut.child;St!==null;)vt|=St.lanes|St.childLanes,wt|=St.subtreeFlags,wt|=St.flags,St.return=ut,St=St.sibling;return ut.subtreeFlags|=wt,ut.childLanes=vt,ct}function Q0(ut,ct,vt){var wt=ct.pendingProps;switch(ru(ct),ct.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(ct),null;case 1:return Fr(ct.type)&&Ro(),Wr(ct),null;case 3:return vt=ct.stateNode,ms(),fr(Mr),fr($r),vu(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(ut===null||ut.child===null)&&(Hs(ct)?Ao(ct):ut===null||ut.memoizedState.isDehydrated&&!(ct.flags&256)||(ct.flags|=1024,yo!==null&&(Qu(yo),yo=null))),Rs(ut,ct),Wr(ct),null;case 5:mu(ct),vt=Co(gs.current);var St=ct.type;if(ut!==null&&ct.stateNode!=null)Pl(ut,ct,St,wt,vt),ut.ref!==ct.ref&&(ct.flags|=512,ct.flags|=2097152);else{if(!wt){if(ct.stateNode===null)throw Error(tt(166));return Wr(ct),null}if(ut=Co(uo.current),Hs(ct)){if(!bn)throw Error(tt(175));ut=Or(ct.stateNode,ct.type,ct.memoizedProps,vt,ut,ct,!Ss),ct.updateQueue=ut,ut!==null&&Ao(ct)}else{var Ct=Wt(St,wt,vt,ut,ct);ks(Ct,ct,!1,!1),ct.stateNode=Ct,un(Ct,St,wt,vt,ut)&&Ao(ct)}ct.ref!==null&&(ct.flags|=512,ct.flags|=2097152)}return Wr(ct),null;case 6:if(ut&&ct.stateNode!=null)Al(ut,ct,ut.memoizedProps,wt);else{if(typeof wt!="string"&&ct.stateNode===null)throw Error(tt(166));if(ut=Co(gs.current),vt=Co(uo.current),Hs(ct)){if(!bn)throw Error(tt(176));if(ut=ct.stateNode,vt=ct.memoizedProps,(wt=Vr(ut,vt,ct,!Ss))&&(St=to,St!==null))switch(St.tag){case 3:Xl(St.stateNode.containerInfo,ut,vt,(St.mode&1)!==0);break;case 5:js(St.type,St.memoizedProps,St.stateNode,ut,vt,(St.mode&1)!==0)}wt&&Ao(ct)}else ct.stateNode=fn(wt,ut,vt,ct)}return Wr(ct),null;case 13:if(fr(_r),wt=ct.memoizedState,ut===null||ut.memoizedState!==null&&ut.memoizedState.dehydrated!==null){if(vr&&so!==null&&ct.mode&1&&!(ct.flags&128))ap(),ds(),ct.flags|=98560,St=!1;else if(St=Hs(ct),wt!==null&&wt.dehydrated!==null){if(ut===null){if(!St)throw Error(tt(318));if(!bn)throw Error(tt(344));if(St=ct.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(tt(317));Cr(St,ct)}else ds(),!(ct.flags&128)&&(ct.memoizedState=null),ct.flags|=4;Wr(ct),St=!1}else yo!==null&&(Qu(yo),yo=null),St=!0;if(!St)return ct.flags&65536?ct:null}return ct.flags&128?(ct.lanes=vt,ct):(vt=wt!==null,vt!==(ut!==null&&ut.memoizedState!==null)&&vt&&(ct.child.flags|=8192,ct.mode&1&&(ut===null||_r.current&1?Rr===0&&(Rr=3):Ju())),ct.updateQueue!==null&&(ct.flags|=4),Wr(ct),null);case 4:return ms(),Rs(ut,ct),ut===null&&xn(ct.stateNode.containerInfo),Wr(ct),null;case 10:return uu(ct.type._context),Wr(ct),null;case 17:return Fr(ct.type)&&Ro(),Wr(ct),null;case 19:if(fr(_r),St=ct.memoizedState,St===null)return Wr(ct),null;if(wt=(ct.flags&128)!==0,Ct=St.rendering,Ct===null)if(wt)Is(St,!1);else{if(Rr!==0||ut!==null&&ut.flags&128)for(ut=ct.child;ut!==null;){if(Ct=Js(ut),Ct!==null){for(ct.flags|=128,Is(St,!1),ut=Ct.updateQueue,ut!==null&&(ct.updateQueue=ut,ct.flags|=4),ct.subtreeFlags=0,ut=vt,vt=ct.child;vt!==null;)wt=vt,St=ut,wt.flags&=14680066,Ct=wt.alternate,Ct===null?(wt.childLanes=0,wt.lanes=St,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=Ct.childLanes,wt.lanes=Ct.lanes,wt.child=Ct.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=Ct.memoizedProps,wt.memoizedState=Ct.memoizedState,wt.updateQueue=Ct.updateQueue,wt.type=Ct.type,St=Ct.dependencies,wt.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext}),vt=vt.sibling;return lr(_r,_r.current&1|2),ct.child}ut=ut.sibling}St.tail!==null&&Nr()>Ku&&(ct.flags|=128,wt=!0,Is(St,!1),ct.lanes=4194304)}else{if(!wt)if(ut=Js(Ct),ut!==null){if(ct.flags|=128,wt=!0,ut=ut.updateQueue,ut!==null&&(ct.updateQueue=ut,ct.flags|=4),Is(St,!0),St.tail===null&&St.tailMode==="hidden"&&!Ct.alternate&&!vr)return Wr(ct),null}else 2*Nr()-St.renderingStartTime>Ku&&vt!==1073741824&&(ct.flags|=128,wt=!0,Is(St,!1),ct.lanes=4194304);St.isBackwards?(Ct.sibling=ct.child,ct.child=Ct):(ut=St.last,ut!==null?ut.sibling=Ct:ct.child=Ct,St.last=Ct)}return St.tail!==null?(ct=St.tail,St.rendering=ct,St.tail=ct.sibling,St.renderingStartTime=Nr(),ct.sibling=null,ut=_r.current,lr(_r,wt?ut&1|2:ut&1),ct):(Wr(ct),null);case 22:case 23:return Zu(),vt=ct.memoizedState!==null,ut!==null&&ut.memoizedState!==null!==vt&&(ct.flags|=8192),vt&&ct.mode&1?no&1073741824&&(Wr(ct),cn&&ct.subtreeFlags&6&&(ct.flags|=8192)):Wr(ct),null;case 24:return null;case 25:return null}throw Error(tt(156,ct.tag))}function Z0(ut,ct){switch(ru(ct),ct.tag){case 1:return Fr(ct.type)&&Ro(),ut=ct.flags,ut&65536?(ct.flags=ut&-65537|128,ct):null;case 3:return ms(),fr(Mr),fr($r),vu(),ut=ct.flags,ut&65536&&!(ut&128)?(ct.flags=ut&-65537|128,ct):null;case 5:return mu(ct),null;case 13:if(fr(_r),ut=ct.memoizedState,ut!==null&&ut.dehydrated!==null){if(ct.alternate===null)throw Error(tt(340));ds()}return ut=ct.flags,ut&65536?(ct.flags=ut&-65537|128,ct):null;case 19:return fr(_r),null;case 4:return ms(),null;case 10:return uu(ct.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Ol=!1,Kr=!1,J0=typeof WeakSet=="function"?WeakSet:Set,$n=null;function vs(ut,ct){var vt=ut.ref;if(vt!==null)if(typeof vt=="function")try{vt(null)}catch(wt){br(ut,ct,wt)}else vt.current=null}function Mu(ut,ct,vt){try{vt()}catch(wt){br(ut,ct,wt)}}var i0=!1;function em(ut,ct){for(Ut(ut.containerInfo),$n=ct;$n!==null;)if(ut=$n,ct=ut.child,(ut.subtreeFlags&1028)!==0&&ct!==null)ct.return=ut,$n=ct;else for(;$n!==null;){ut=$n;try{var vt=ut.alternate;if(ut.flags&1024)switch(ut.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var wt=vt.memoizedProps,St=vt.memoizedState,Ct=ut.stateNode,Mt=Ct.getSnapshotBeforeUpdate(ut.elementType===ut.type?wt:vo(ut.type,wt),St);Ct.__reactInternalSnapshotBeforeUpdate=Mt}break;case 3:cn&&pn(ut.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(qt){br(ut,ut.return,qt)}if(ct=ut.sibling,ct!==null){ct.return=ut.return,$n=ct;break}$n=ut.return}return vt=i0,i0=!1,vt}function Ds(ut,ct,vt){var wt=ct.updateQueue;if(wt=wt!==null?wt.lastEffect:null,wt!==null){var St=wt=wt.next;do{if((St.tag&ut)===ut){var Ct=St.destroy;St.destroy=void 0,Ct!==void 0&&Mu(ct,vt,Ct)}St=St.next}while(St!==wt)}}function $l(ut,ct){if(ct=ct.updateQueue,ct=ct!==null?ct.lastEffect:null,ct!==null){var vt=ct=ct.next;do{if((vt.tag&ut)===ut){var wt=vt.create;vt.destroy=wt()}vt=vt.next}while(vt!==ct)}}function Fu(ut){var ct=ut.ref;if(ct!==null){var vt=ut.stateNode;switch(ut.tag){case 5:ut=$t(vt);break;default:ut=vt}typeof ct=="function"?ct(ut):ct.current=ut}}function o0(ut){var ct=ut.alternate;ct!==null&&(ut.alternate=null,o0(ct)),ut.child=null,ut.deletions=null,ut.sibling=null,ut.tag===5&&(ct=ut.stateNode,ct!==null&&Ln(ct)),ut.stateNode=null,ut.return=null,ut.dependencies=null,ut.memoizedProps=null,ut.memoizedState=null,ut.pendingProps=null,ut.stateNode=null,ut.updateQueue=null}function a0(ut){return ut.tag===5||ut.tag===3||ut.tag===4}function s0(ut){e:for(;;){for(;ut.sibling===null;){if(ut.return===null||a0(ut.return))return null;ut=ut.return}for(ut.sibling.return=ut.return,ut=ut.sibling;ut.tag!==5&&ut.tag!==6&&ut.tag!==18;){if(ut.flags&2||ut.child===null||ut.tag===4)continue e;ut.child.return=ut,ut=ut.child}if(!(ut.flags&2))return ut.stateNode}}function Nu(ut,ct,vt){var wt=ut.tag;if(wt===5||wt===6)ut=ut.stateNode,ct?Nt(vt,ut,ct):gr(vt,ut);else if(wt!==4&&(ut=ut.child,ut!==null))for(Nu(ut,ct,vt),ut=ut.sibling;ut!==null;)Nu(ut,ct,vt),ut=ut.sibling}function Lu(ut,ct,vt){var wt=ut.tag;if(wt===5||wt===6)ut=ut.stateNode,ct?Rt(vt,ut,ct):ir(vt,ut);else if(wt!==4&&(ut=ut.child,ut!==null))for(Lu(ut,ct,vt),ut=ut.sibling;ut!==null;)Lu(ut,ct,vt),ut=ut.sibling}var zr=null,bo=!1;function Oo(ut,ct,vt){for(vt=vt.child;vt!==null;)ju(ut,ct,vt),vt=vt.sibling}function ju(ut,ct,vt){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(Vs,vt)}catch{}switch(vt.tag){case 5:Kr||vs(vt,ct);case 6:if(cn){var wt=zr,St=bo;zr=null,Oo(ut,ct,vt),zr=wt,bo=St,zr!==null&&(bo?Bt(zr,vt.stateNode):Lt(zr,vt.stateNode))}else Oo(ut,ct,vt);break;case 18:cn&&zr!==null&&(bo?xo(zr,vt.stateNode):rs(zr,vt.stateNode));break;case 4:cn?(wt=zr,St=bo,zr=vt.stateNode.containerInfo,bo=!0,Oo(ut,ct,vt),zr=wt,bo=St):(An&&(wt=vt.stateNode.containerInfo,St=_n(wt),En(wt,St)),Oo(ut,ct,vt));break;case 0:case 11:case 14:case 15:if(!Kr&&(wt=vt.updateQueue,wt!==null&&(wt=wt.lastEffect,wt!==null))){St=wt=wt.next;do{var Ct=St,Mt=Ct.destroy;Ct=Ct.tag,Mt!==void 0&&(Ct&2||Ct&4)&&Mu(vt,ct,Mt),St=St.next}while(St!==wt)}Oo(ut,ct,vt);break;case 1:if(!Kr&&(vs(vt,ct),wt=vt.stateNode,typeof wt.componentWillUnmount=="function"))try{wt.props=vt.memoizedProps,wt.state=vt.memoizedState,wt.componentWillUnmount()}catch(qt){br(vt,ct,qt)}Oo(ut,ct,vt);break;case 21:Oo(ut,ct,vt);break;case 22:vt.mode&1?(Kr=(wt=Kr)||vt.memoizedState!==null,Oo(ut,ct,vt),Kr=wt):Oo(ut,ct,vt);break;default:Oo(ut,ct,vt)}}function l0(ut){var ct=ut.updateQueue;if(ct!==null){ut.updateQueue=null;var vt=ut.stateNode;vt===null&&(vt=ut.stateNode=new J0),ct.forEach(function(wt){var St=um.bind(null,ut,wt);vt.has(wt)||(vt.add(wt),wt.then(St,St))})}}function _o(ut,ct){var vt=ct.deletions;if(vt!==null)for(var wt=0;wt<vt.length;wt++){var St=vt[wt];try{var Ct=ut,Mt=ct;if(cn){var qt=Mt;e:for(;qt!==null;){switch(qt.tag){case 5:zr=qt.stateNode,bo=!1;break e;case 3:zr=qt.stateNode.containerInfo,bo=!0;break e;case 4:zr=qt.stateNode.containerInfo,bo=!0;break e}qt=qt.return}if(zr===null)throw Error(tt(160));ju(Ct,Mt,St),zr=null,bo=!1}else ju(Ct,Mt,St);var nn=St.alternate;nn!==null&&(nn.return=null),St.return=null}catch(gn){br(St,ct,gn)}}if(ct.subtreeFlags&12854)for(ct=ct.child;ct!==null;)u0(ct,ut),ct=ct.sibling}function u0(ut,ct){var vt=ut.alternate,wt=ut.flags;switch(ut.tag){case 0:case 11:case 14:case 15:if(_o(ct,ut),$o(ut),wt&4){try{Ds(3,ut,ut.return),$l(3,ut)}catch(Cn){br(ut,ut.return,Cn)}try{Ds(5,ut,ut.return)}catch(Cn){br(ut,ut.return,Cn)}}break;case 1:_o(ct,ut),$o(ut),wt&512&&vt!==null&&vs(vt,vt.return);break;case 5:if(_o(ct,ut),$o(ut),wt&512&&vt!==null&&vs(vt,vt.return),cn){if(ut.flags&32){var St=ut.stateNode;try{Ht(St)}catch(Cn){br(ut,ut.return,Cn)}}if(wt&4&&(St=ut.stateNode,St!=null)){var Ct=ut.memoizedProps;if(vt=vt!==null?vt.memoizedProps:Ct,wt=ut.type,ct=ut.updateQueue,ut.updateQueue=null,ct!==null)try{Rn(St,ct,wt,vt,Ct,ut)}catch(Cn){br(ut,ut.return,Cn)}}}break;case 6:if(_o(ct,ut),$o(ut),wt&4&&cn){if(ut.stateNode===null)throw Error(tt(162));St=ut.stateNode,Ct=ut.memoizedProps,vt=vt!==null?vt.memoizedProps:Ct;try{ur(St,vt,Ct)}catch(Cn){br(ut,ut.return,Cn)}}break;case 3:if(_o(ct,ut),$o(ut),wt&4){if(cn&&bn&&vt!==null&&vt.memoizedState.isDehydrated)try{Zo(ct.containerInfo)}catch(Cn){br(ut,ut.return,Cn)}if(An){St=ct.containerInfo,Ct=ct.pendingChildren;try{En(St,Ct)}catch(Cn){br(ut,ut.return,Cn)}}}break;case 4:if(_o(ct,ut),$o(ut),wt&4&&An){Ct=ut.stateNode,St=Ct.containerInfo,Ct=Ct.pendingChildren;try{En(St,Ct)}catch(Cn){br(ut,ut.return,Cn)}}break;case 13:_o(ct,ut),$o(ut),St=ut.child,St.flags&8192&&(Ct=St.memoizedState!==null,St.stateNode.isHidden=Ct,!Ct||St.alternate!==null&&St.alternate.memoizedState!==null||(Wu=Nr())),wt&4&&l0(ut);break;case 22:var Mt=vt!==null&&vt.memoizedState!==null;if(ut.mode&1?(Kr=(vt=Kr)||Mt,_o(ct,ut),Kr=vt):_o(ct,ut),$o(ut),wt&8192){if(vt=ut.memoizedState!==null,(ut.stateNode.isHidden=vt)&&!Mt&&ut.mode&1)for($n=ut,wt=ut.child;wt!==null;){for(ct=$n=wt;$n!==null;){Mt=$n;var qt=Mt.child;switch(Mt.tag){case 0:case 11:case 14:case 15:Ds(4,Mt,Mt.return);break;case 1:vs(Mt,Mt.return);var nn=Mt.stateNode;if(typeof nn.componentWillUnmount=="function"){var gn=Mt,kn=Mt.return;try{var Qn=gn;nn.props=Qn.memoizedProps,nn.state=Qn.memoizedState,nn.componentWillUnmount()}catch(Cn){br(gn,kn,Cn)}}break;case 5:vs(Mt,Mt.return);break;case 22:if(Mt.memoizedState!==null){f0(ct);continue}}qt!==null?(qt.return=Mt,$n=qt):f0(ct)}wt=wt.sibling}if(cn){e:if(wt=null,cn)for(ct=ut;;){if(ct.tag===5){if(wt===null){wt=ct;try{St=ct.stateNode,vt?Xt(St):tn(ct.stateNode,ct.memoizedProps)}catch(Cn){br(ut,ut.return,Cn)}}}else if(ct.tag===6){if(wt===null)try{Ct=ct.stateNode,vt?Zt(Ct):dn(Ct,ct.memoizedProps)}catch(Cn){br(ut,ut.return,Cn)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===ut)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===ut)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)break e;wt===ct&&(wt=null),ct=ct.return}wt===ct&&(wt=null),ct.sibling.return=ct.return,ct=ct.sibling}}}break;case 19:_o(ct,ut),$o(ut),wt&4&&l0(ut);break;case 21:break;default:_o(ct,ut),$o(ut)}}function $o(ut){var ct=ut.flags;if(ct&2){try{if(cn){e:{for(var vt=ut.return;vt!==null;){if(a0(vt)){var wt=vt;break e}vt=vt.return}throw Error(tt(160))}switch(wt.tag){case 5:var St=wt.stateNode;wt.flags&32&&(Ht(St),wt.flags&=-33);var Ct=s0(ut);Lu(ut,Ct,St);break;case 3:case 4:var Mt=wt.stateNode.containerInfo,qt=s0(ut);Nu(ut,qt,Mt);break;default:throw Error(tt(161))}}}catch(nn){br(ut,ut.return,nn)}ut.flags&=-3}ct&4096&&(ut.flags&=-4097)}function tm(ut,ct,vt){$n=ut,c0(ut)}function c0(ut,ct,vt){for(var wt=(ut.mode&1)!==0;$n!==null;){var St=$n,Ct=St.child;if(St.tag===22&&wt){var Mt=St.memoizedState!==null||Ol;if(!Mt){var qt=St.alternate,nn=qt!==null&&qt.memoizedState!==null||Kr;qt=Ol;var gn=Kr;if(Ol=Mt,(Kr=nn)&&!gn)for($n=St;$n!==null;)Mt=$n,nn=Mt.child,Mt.tag===22&&Mt.memoizedState!==null?h0(St):nn!==null?(nn.return=Mt,$n=nn):h0(St);for(;Ct!==null;)$n=Ct,c0(Ct),Ct=Ct.sibling;$n=St,Ol=qt,Kr=gn}d0(ut)}else St.subtreeFlags&8772&&Ct!==null?(Ct.return=St,$n=Ct):d0(ut)}}function d0(ut){for(;$n!==null;){var ct=$n;if(ct.flags&8772){var vt=ct.alternate;try{if(ct.flags&8772)switch(ct.tag){case 0:case 11:case 15:Kr||$l(5,ct);break;case 1:var wt=ct.stateNode;if(ct.flags&4&&!Kr)if(vt===null)wt.componentDidMount();else{var St=ct.elementType===ct.type?vt.memoizedProps:vo(ct.type,vt.memoizedProps);wt.componentDidUpdate(St,vt.memoizedState,wt.__reactInternalSnapshotBeforeUpdate)}var Ct=ct.updateQueue;Ct!==null&&dp(ct,Ct,wt);break;case 3:var Mt=ct.updateQueue;if(Mt!==null){if(vt=null,ct.child!==null)switch(ct.child.tag){case 5:vt=$t(ct.child.stateNode);break;case 1:vt=ct.child.stateNode}dp(ct,Mt,vt)}break;case 5:var qt=ct.stateNode;vt===null&&ct.flags&4&&yr(qt,ct.type,ct.memoizedProps,ct);break;case 6:break;case 4:break;case 12:break;case 13:if(bn&&ct.memoizedState===null){var nn=ct.alternate;if(nn!==null){var gn=nn.memoizedState;if(gn!==null){var kn=gn.dehydrated;kn!==null&&Jo(kn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Kr||ct.flags&512&&Fu(ct)}catch(Qn){br(ct,ct.return,Qn)}}if(ct===ut){$n=null;break}if(vt=ct.sibling,vt!==null){vt.return=ct.return,$n=vt;break}$n=ct.return}}function f0(ut){for(;$n!==null;){var ct=$n;if(ct===ut){$n=null;break}var vt=ct.sibling;if(vt!==null){vt.return=ct.return,$n=vt;break}$n=ct.return}}function h0(ut){for(;$n!==null;){var ct=$n;try{switch(ct.tag){case 0:case 11:case 15:var vt=ct.return;try{$l(4,ct)}catch(nn){br(ct,vt,nn)}break;case 1:var wt=ct.stateNode;if(typeof wt.componentDidMount=="function"){var St=ct.return;try{wt.componentDidMount()}catch(nn){br(ct,St,nn)}}var Ct=ct.return;try{Fu(ct)}catch(nn){br(ct,Ct,nn)}break;case 5:var Mt=ct.return;try{Fu(ct)}catch(nn){br(ct,Mt,nn)}}}catch(nn){br(ct,ct.return,nn)}if(ct===ut){$n=null;break}var qt=ct.sibling;if(qt!==null){qt.return=ct.return,$n=qt;break}$n=ct.return}}var Rl=0,Il=1,Dl=2,Ml=3,Fl=4;if(typeof Symbol=="function"&&Symbol.for){var Ms=Symbol.for;Rl=Ms("selector.component"),Il=Ms("selector.has_pseudo_class"),Dl=Ms("selector.role"),Ml=Ms("selector.test_id"),Fl=Ms("selector.text")}function Uu(ut){var ct=Vn(ut);if(ct!=null){if(typeof ct.memoizedProps["data-testname"]!="string")throw Error(tt(364));return ct}if(ut=zn(ut),ut===null)throw Error(tt(362));return ut.stateNode.current}function Vu(ut,ct){switch(ct.$$typeof){case Rl:if(ut.type===ct.value)return!0;break;case Il:e:{ct=ct.value,ut=[ut,0];for(var vt=0;vt<ut.length;){var wt=ut[vt++],St=ut[vt++],Ct=ct[St];if(wt.tag!==5||!hn(wt)){for(;Ct!=null&&Vu(wt,Ct);)St++,Ct=ct[St];if(St===ct.length){ct=!0;break e}else for(wt=wt.child;wt!==null;)ut.push(wt,St),wt=wt.sibling}}ct=!1}return ct;case Dl:if(ut.tag===5&&Sn(ut.stateNode,ct.value))return!0;break;case Fl:if((ut.tag===5||ut.tag===6)&&(ut=Bn(ut),ut!==null&&0<=ut.indexOf(ct.value)))return!0;break;case Ml:if(ut.tag===5&&(ut=ut.memoizedProps["data-testname"],typeof ut=="string"&&ut.toLowerCase()===ct.value.toLowerCase()))return!0;break;default:throw Error(tt(365))}return!1}function zu(ut){switch(ut.$$typeof){case Rl:return"<"+(bt(ut.value)||"Unknown")+">";case Il:return":has("+(zu(ut)||"")+")";case Dl:return'[role="'+ut.value+'"]';case Fl:return'"'+ut.value+'"';case Ml:return'[data-testname="'+ut.value+'"]';default:throw Error(tt(365))}}function p0(ut,ct){var vt=[];ut=[ut,0];for(var wt=0;wt<ut.length;){var St=ut[wt++],Ct=ut[wt++],Mt=ct[Ct];if(St.tag!==5||!hn(St)){for(;Mt!=null&&Vu(St,Mt);)Ct++,Mt=ct[Ct];if(Ct===ct.length)vt.push(St);else for(St=St.child;St!==null;)ut.push(St,Ct),St=St.sibling}}return vt}function Bu(ut,ct){if(!On)throw Error(tt(363));ut=Uu(ut),ut=p0(ut,ct),ct=[],ut=Array.from(ut);for(var vt=0;vt<ut.length;){var wt=ut[vt++];if(wt.tag===5)hn(wt)||ct.push(wt.stateNode);else for(wt=wt.child;wt!==null;)ut.push(wt),wt=wt.sibling}return ct}var nm=Math.ceil,Nl=rt.ReactCurrentDispatcher,Gu=rt.ReactCurrentOwner,Er=rt.ReactCurrentBatchConfig,tr=0,jr=null,Ar=null,Br=0,no=0,bs=io(0),Rr=0,Fs=null,xa=0,Ll=0,Hu=0,Ns=null,Zr=null,Wu=0,Ku=1/0,jo=null;function _s(){Ku=Nr()+500}var Ul=!1,qu=null,Wo=null,Vl=!1,Ko=null,zl=0,Ls=0,Yu=null,Bl=-1,Gl=0;function qr(){return tr&6?Nr():Bl!==-1?Bl:Bl=Nr()}function qo(ut){return ut.mode&1?tr&2&&Br!==0?Br&-Br:L0.transition!==null?(Gl===0&&(Gl=ln()),Gl):(ut=or,ut!==0?ut:Jn()):1}function fo(ut,ct,vt,wt){if(50<Ls)throw Ls=0,Yu=null,Error(tt(185));hr(ut,vt,wt),(!(tr&2)||ut!==jr)&&(ut===jr&&(!(tr&2)&&(Ll|=vt),Rr===4&&Yo(ut,Br)),Jr(ut,wt),vt===1&&tr===0&&!(ct.mode&1)&&(_s(),zs&&Eo()))}function Jr(ut,ct){var vt=ut.callbackNode;Us(ut,ct);var wt=Pr(ut,ut===jr?Br:0);if(wt===0)vt!==null&&ep(vt),ut.callbackNode=null,ut.callbackPriority=0;else if(ct=wt&-wt,ut.callbackPriority!==ct){if(vt!=null&&ep(vt),ct===1)ut.tag===0?N0(m0.bind(null,ut)):tp(m0.bind(null,ut)),Hn?jn(function(){!(tr&6)&&Eo()}):Zl(Jl,Eo),vt=null;else{switch(_h(wt)){case 1:vt=Jl;break;case 4:vt=I0;break;case 16:vt=eu;break;case 536870912:vt=D0;break;default:vt=eu}vt=T0(vt,g0.bind(null,ut))}ut.callbackPriority=ct,ut.callbackNode=vt}}function g0(ut,ct){if(Bl=-1,Gl=0,tr&6)throw Error(tt(327));var vt=ut.callbackNode;if(ts()&&ut.callbackNode!==vt)return null;var wt=Pr(ut,ut===jr?Br:0);if(wt===0)return null;if(wt&30||wt&ut.expiredLanes||ct)ct=Hl(ut,wt);else{ct=wt;var St=tr;tr|=2;var Ct=b0();(jr!==ut||Br!==ct)&&(jo=null,_s(),$a(ut,ct));do try{om();break}catch(qt){v0(ut,qt)}while(1);lu(),Nl.current=Ct,tr=St,Ar!==null?ct=0:(jr=null,Br=0,ct=Rr)}if(ct!==0){if(ct===2&&(St=ss(ut),St!==0&&(wt=St,ct=Xu(ut,St))),ct===1)throw vt=Fs,$a(ut,0),Yo(ut,wt),Jr(ut,Nr()),vt;if(ct===6)Yo(ut,wt);else{if(St=ut.current.alternate,!(wt&30)&&!rm(St)&&(ct=Hl(ut,wt),ct===2&&(Ct=ss(ut),Ct!==0&&(wt=Ct,ct=Xu(ut,Ct))),ct===1))throw vt=Fs,$a(ut,0),Yo(ut,wt),Jr(ut,Nr()),vt;switch(ut.finishedWork=St,ut.finishedLanes=wt,ct){case 0:case 1:throw Error(tt(345));case 2:es(ut,Zr,jo);break;case 3:if(Yo(ut,wt),(wt&130023424)===wt&&(ct=Wu+500-Nr(),10<ct)){if(Pr(ut,0)!==0)break;if(St=ut.suspendedLanes,(St&wt)!==wt){qr(),ut.pingedLanes|=ut.suspendedLanes&St;break}ut.timeoutHandle=jt(es.bind(null,ut,Zr,jo),ct);break}es(ut,Zr,jo);break;case 4:if(Yo(ut,wt),(wt&4194240)===wt)break;for(ct=ut.eventTimes,St=-1;0<wt;){var Mt=31-Gt(wt);Ct=1<<Mt,Mt=ct[Mt],Mt>St&&(St=Mt),wt&=~Ct}if(wt=St,wt=Nr()-wt,wt=(120>wt?120:480>wt?480:1080>wt?1080:1920>wt?1920:3e3>wt?3e3:4320>wt?4320:1960*nm(wt/1960))-wt,10<wt){ut.timeoutHandle=jt(es.bind(null,ut,Zr,jo),wt);break}es(ut,Zr,jo);break;case 5:es(ut,Zr,jo);break;default:throw Error(tt(329))}}}return Jr(ut,Nr()),ut.callbackNode===vt?g0.bind(null,ut):null}function Xu(ut,ct){var vt=Ns;return ut.current.memoizedState.isDehydrated&&($a(ut,ct).flags|=256),ut=Hl(ut,ct),ut!==2&&(ct=Zr,Zr=vt,ct!==null&&Qu(ct)),ut}function Qu(ut){Zr===null?Zr=ut:Zr.push.apply(Zr,ut)}function rm(ut){for(var ct=ut;;){if(ct.flags&16384){var vt=ct.updateQueue;if(vt!==null&&(vt=vt.stores,vt!==null))for(var wt=0;wt<vt.length;wt++){var St=vt[wt],Ct=St.getSnapshot;St=St.value;try{if(!mo(Ct(),St))return!1}catch{return!1}}}if(vt=ct.child,ct.subtreeFlags&16384&&vt!==null)vt.return=ct,ct=vt;else{if(ct===ut)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===ut)return!0;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}}return!0}function Yo(ut,ct){for(ct&=~Hu,ct&=~Ll,ut.suspendedLanes|=ct,ut.pingedLanes&=~ct,ut=ut.expirationTimes;0<ct;){var vt=31-Gt(ct),wt=1<<vt;ut[vt]=-1,ct&=~wt}}function m0(ut){if(tr&6)throw Error(tt(327));ts();var ct=Pr(ut,0);if(!(ct&1))return Jr(ut,Nr()),null;var vt=Hl(ut,ct);if(ut.tag!==0&&vt===2){var wt=ss(ut);wt!==0&&(ct=wt,vt=Xu(ut,wt))}if(vt===1)throw vt=Fs,$a(ut,0),Yo(ut,ct),Jr(ut,Nr()),vt;if(vt===6)throw Error(tt(345));return ut.finishedWork=ut.current.alternate,ut.finishedLanes=ct,es(ut,Zr,jo),Jr(ut,Nr()),null}function y0(ut){Ko!==null&&Ko.tag===0&&!(tr&6)&&ts();var ct=tr;tr|=1;var vt=Er.transition,wt=or;try{if(Er.transition=null,or=1,ut)return ut()}finally{or=wt,Er.transition=vt,tr=ct,!(tr&6)&&Eo()}}function Zu(){no=bs.current,fr(bs)}function $a(ut,ct){ut.finishedWork=null,ut.finishedLanes=0;var vt=ut.timeoutHandle;if(vt!==on&&(ut.timeoutHandle=on,en(vt)),Ar!==null)for(vt=Ar.return;vt!==null;){var wt=vt;switch(ru(wt),wt.tag){case 1:wt=wt.type.childContextTypes,wt!=null&&Ro();break;case 3:ms(),fr(Mr),fr($r),vu();break;case 5:mu(wt);break;case 4:ms();break;case 13:fr(_r);break;case 19:fr(_r);break;case 10:uu(wt.type._context);break;case 22:case 23:Zu()}vt=vt.return}if(jr=ut,Ar=ut=Xo(ut.current,null),Br=no=ct,Rr=0,Fs=null,Hu=Ll=xa=0,Zr=Ns=null,ba!==null){for(ct=0;ct<ba.length;ct++)if(vt=ba[ct],wt=vt.interleaved,wt!==null){vt.interleaved=null;var St=wt.next,Ct=vt.pending;if(Ct!==null){var Mt=Ct.next;Ct.next=St,wt.next=Mt}vt.pending=wt}ba=null}return ut}function v0(ut,ct){do{var vt=Ar;try{if(lu(),yl.current=El,_l){for(var wt=xr.memoizedState;wt!==null;){var St=wt.queue;St!==null&&(St.pending=null),wt=wt.next}_l=!1}if(_a=0,Lr=kr=xr=null,Ps=!1,As=0,Gu.current=null,vt===null||vt.return===null){Rr=1,Fs=ct,Ar=null;break}e:{var Ct=ut,Mt=vt.return,qt=vt,nn=ct;if(ct=Br,qt.flags|=32768,nn!==null&&typeof nn=="object"&&typeof nn.then=="function"){var gn=nn,kn=qt,Qn=kn.tag;if(!(kn.mode&1)&&(Qn===0||Qn===11||Qn===15)){var Cn=kn.alternate;Cn?(kn.updateQueue=Cn.updateQueue,kn.memoizedState=Cn.memoizedState,kn.lanes=Cn.lanes):(kn.updateQueue=null,kn.memoizedState=null)}var mr=Gp(Mt);if(mr!==null){mr.flags&=-257,Hp(mr,Mt,qt,Ct,ct),mr.mode&1&&Bp(Ct,gn,ct),ct=mr,nn=gn;var pr=ct.updateQueue;if(pr===null){var _i=new Set;_i.add(nn),ct.updateQueue=_i}else pr.add(nn);break e}else{if(!(ct&1)){Bp(Ct,gn,ct),Ju();break e}nn=Error(tt(426))}}else if(vr&&qt.mode&1){var Uo=Gp(Mt);if(Uo!==null){!(Uo.flags&65536)&&(Uo.flags|=256),Hp(Uo,Mt,qt,Ct,ct),au(ys(nn,qt));break e}}Ct=nn=ys(nn,qt),Rr!==4&&(Rr=2),Ns===null?Ns=[Ct]:Ns.push(Ct),Ct=Mt;do{switch(Ct.tag){case 3:Ct.flags|=65536,ct&=-ct,Ct.lanes|=ct;var Jt=Vp(Ct,nn,ct);cp(Ct,Jt);break e;case 1:qt=nn;var Yt=Ct.type,sn=Ct.stateNode;if(!(Ct.flags&128)&&(typeof Yt.getDerivedStateFromError=="function"||sn!==null&&typeof sn.componentDidCatch=="function"&&(Wo===null||!Wo.has(sn)))){Ct.flags|=65536,ct&=-ct,Ct.lanes|=ct;var Pn=zp(Ct,qt,ct);cp(Ct,Pn);break e}}Ct=Ct.return}while(Ct!==null)}x0(vt)}catch(Nn){ct=Nn,Ar===vt&&vt!==null&&(Ar=vt=vt.return);continue}break}while(1)}function b0(){var ut=Nl.current;return Nl.current=El,ut===null?El:ut}function Ju(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),jr===null||!(xa&268435455)&&!(Ll&268435455)||Yo(jr,Br)}function Hl(ut,ct){var vt=tr;tr|=2;var wt=b0();(jr!==ut||Br!==ct)&&(jo=null,$a(ut,ct));do try{im();break}catch(St){v0(ut,St)}while(1);if(lu(),tr=vt,Nl.current=wt,Ar!==null)throw Error(tt(261));return jr=null,Br=0,Rr}function im(){for(;Ar!==null;)_0(Ar)}function om(){for(;Ar!==null&&!k0();)_0(Ar)}function _0(ut){var ct=E0(ut.alternate,ut,no);ut.memoizedProps=ut.pendingProps,ct===null?x0(ut):Ar=ct,Gu.current=null}function x0(ut){var ct=ut;do{var vt=ct.alternate;if(ut=ct.return,ct.flags&32768){if(vt=Z0(vt,ct),vt!==null){vt.flags&=32767,Ar=vt;return}if(ut!==null)ut.flags|=32768,ut.subtreeFlags=0,ut.deletions=null;else{Rr=6,Ar=null;return}}else if(vt=Q0(vt,ct,no),vt!==null){Ar=vt;return}if(ct=ct.sibling,ct!==null){Ar=ct;return}Ar=ct=ut}while(ct!==null);Rr===0&&(Rr=5)}function es(ut,ct,vt){var wt=or,St=Er.transition;try{Er.transition=null,or=1,am(ut,ct,vt,wt)}finally{Er.transition=St,or=wt}return null}function am(ut,ct,vt,wt){do ts();while(Ko!==null);if(tr&6)throw Error(tt(327));vt=ut.finishedWork;var St=ut.finishedLanes;if(vt===null)return null;if(ut.finishedWork=null,ut.finishedLanes=0,vt===ut.current)throw Error(tt(177));ut.callbackNode=null,ut.callbackPriority=0;var Ct=vt.lanes|vt.childLanes;if(Io(ut,Ct),ut===jr&&(Ar=jr=null,Br=0),!(vt.subtreeFlags&2064)&&!(vt.flags&2064)||Vl||(Vl=!0,T0(eu,function(){return ts(),null})),Ct=(vt.flags&15990)!==0,vt.subtreeFlags&15990||Ct){Ct=Er.transition,Er.transition=null;var Mt=or;or=1;var qt=tr;tr|=4,Gu.current=null,em(ut,vt),u0(vt,ut),zt(ut.containerInfo),ut.current=vt,tm(vt),R0(),tr=qt,or=Mt,Er.transition=Ct}else ut.current=vt;if(Vl&&(Vl=!1,Ko=ut,zl=St),Ct=ut.pendingLanes,Ct===0&&(Wo=null),M0(vt.stateNode),Jr(ut,Nr()),ct!==null)for(wt=ut.onRecoverableError,vt=0;vt<ct.length;vt++)St=ct[vt],wt(St.value,{componentStack:St.stack,digest:St.digest});if(Ul)throw Ul=!1,ut=qu,qu=null,ut;return zl&1&&ut.tag!==0&&ts(),Ct=ut.pendingLanes,Ct&1?ut===Yu?Ls++:(Ls=0,Yu=ut):Ls=0,Eo(),null}function ts(){if(Ko!==null){var ut=_h(zl),ct=Er.transition,vt=or;try{if(Er.transition=null,or=16>ut?16:ut,Ko===null)var wt=!1;else{if(ut=Ko,Ko=null,zl=0,tr&6)throw Error(tt(331));var St=tr;for(tr|=4,$n=ut.current;$n!==null;){var Ct=$n,Mt=Ct.child;if($n.flags&16){var qt=Ct.deletions;if(qt!==null){for(var nn=0;nn<qt.length;nn++){var gn=qt[nn];for($n=gn;$n!==null;){var kn=$n;switch(kn.tag){case 0:case 11:case 15:Ds(8,kn,Ct)}var Qn=kn.child;if(Qn!==null)Qn.return=kn,$n=Qn;else for(;$n!==null;){kn=$n;var Cn=kn.sibling,mr=kn.return;if(o0(kn),kn===gn){$n=null;break}if(Cn!==null){Cn.return=mr,$n=Cn;break}$n=mr}}}var pr=Ct.alternate;if(pr!==null){var _i=pr.child;if(_i!==null){pr.child=null;do{var Uo=_i.sibling;_i.sibling=null,_i=Uo}while(_i!==null)}}$n=Ct}}if(Ct.subtreeFlags&2064&&Mt!==null)Mt.return=Ct,$n=Mt;else e:for(;$n!==null;){if(Ct=$n,Ct.flags&2048)switch(Ct.tag){case 0:case 11:case 15:Ds(9,Ct,Ct.return)}var Jt=Ct.sibling;if(Jt!==null){Jt.return=Ct.return,$n=Jt;break e}$n=Ct.return}}var Yt=ut.current;for($n=Yt;$n!==null;){Mt=$n;var sn=Mt.child;if(Mt.subtreeFlags&2064&&sn!==null)sn.return=Mt,$n=sn;else e:for(Mt=Yt;$n!==null;){if(qt=$n,qt.flags&2048)try{switch(qt.tag){case 0:case 11:case 15:$l(9,qt)}}catch(Nn){br(qt,qt.return,Nn)}if(qt===Mt){$n=null;break e}var Pn=qt.sibling;if(Pn!==null){Pn.return=qt.return,$n=Pn;break e}$n=qt.return}}if(tr=St,Eo(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(Vs,ut)}catch{}wt=!0}return wt}finally{or=vt,Er.transition=ct}}return!1}function w0(ut,ct,vt){ct=ys(vt,ct),ct=Vp(ut,ct,1),ut=Ho(ut,ct,1),ct=qr(),ut!==null&&(hr(ut,1,ct),Jr(ut,ct))}function br(ut,ct,vt){if(ut.tag===3)w0(ut,ut,vt);else for(;ct!==null;){if(ct.tag===3){w0(ct,ut,vt);break}else if(ct.tag===1){var wt=ct.stateNode;if(typeof ct.type.getDerivedStateFromError=="function"||typeof wt.componentDidCatch=="function"&&(Wo===null||!Wo.has(wt))){ut=ys(vt,ut),ut=zp(ct,ut,1),ct=Ho(ct,ut,1),ut=qr(),ct!==null&&(hr(ct,1,ut),Jr(ct,ut));break}}ct=ct.return}}function sm(ut,ct,vt){var wt=ut.pingCache;wt!==null&&wt.delete(ct),ct=qr(),ut.pingedLanes|=ut.suspendedLanes&vt,jr===ut&&(Br&vt)===vt&&(Rr===4||Rr===3&&(Br&130023424)===Br&&500>Nr()-Wu?$a(ut,0):Hu|=vt),Jr(ut,ct)}function S0(ut,ct){ct===0&&(ut.mode&1?(ct=wr,wr<<=1,!(wr&130023424)&&(wr=4194304)):ct=1);var vt=qr();ut=To(ut,ct),ut!==null&&(hr(ut,ct,vt),Jr(ut,vt))}function lm(ut){var ct=ut.memoizedState,vt=0;ct!==null&&(vt=ct.retryLane),S0(ut,vt)}function um(ut,ct){var vt=0;switch(ut.tag){case 13:var wt=ut.stateNode,St=ut.memoizedState;St!==null&&(vt=St.retryLane);break;case 19:wt=ut.stateNode;break;default:throw Error(tt(314))}wt!==null&&wt.delete(ct),S0(ut,vt)}var E0;E0=function(ut,ct,vt){if(ut!==null)if(ut.memoizedProps!==ct.pendingProps||Mr.current)Qr=!0;else{if(!(ut.lanes&vt)&&!(ct.flags&128))return Qr=!1,X0(ut,ct,vt);Qr=!!(ut.flags&131072)}else Qr=!1,vr&&ct.flags&1048576&&np(ct,Gs,ct.index);switch(ct.lanes=0,ct.tag){case 2:var wt=ct.type;Cl(ut,ct),ut=ct.pendingProps;var St=ko(ct,$r.current);hs(ct,vt),St=xu(null,ct,wt,ut,St,vt);var Ct=wu();return ct.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?(ct.tag=1,ct.memoizedState=null,ct.updateQueue=null,Fr(wt)?(Ct=!0,Dt(ct)):Ct=!1,ct.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,fu(ct),St.updater=Qs,ct.stateNode=St,St._reactInternals=ct,pu(ct,wt,ut,vt),ct=$u(null,ct,wt,!0,Ct,vt)):(ct.tag=0,vr&&Ct&&nu(ct),Yr(null,ct,St,vt),ct=ct.child),ct;case 16:wt=ct.elementType;e:{switch(Cl(ut,ct),ut=ct.pendingProps,St=wt._init,wt=St(wt._payload),ct.type=wt,St=ct.tag=dm(wt),ut=vo(wt,ut),St){case 0:ct=Ou(null,ct,wt,ut,vt);break e;case 1:ct=Qp(null,ct,wt,ut,vt);break e;case 11:ct=Wp(null,ct,wt,ut,vt);break e;case 14:ct=Kp(null,ct,wt,vo(wt.type,ut),vt);break e}throw Error(tt(306,wt,""))}return ct;case 0:return wt=ct.type,St=ct.pendingProps,St=ct.elementType===wt?St:vo(wt,St),Ou(ut,ct,wt,St,vt);case 1:return wt=ct.type,St=ct.pendingProps,St=ct.elementType===wt?St:vo(wt,St),Qp(ut,ct,wt,St,vt);case 3:e:{if(Zp(ct),ut===null)throw Error(tt(387));wt=ct.pendingProps,Ct=ct.memoizedState,St=Ct.element,up(ut,ct),Xs(ct,wt,null,vt);var Mt=ct.memoizedState;if(wt=Mt.element,bn&&Ct.isDehydrated)if(Ct={element:wt,isDehydrated:!1,cache:Mt.cache,pendingSuspenseBoundaries:Mt.pendingSuspenseBoundaries,transitions:Mt.transitions},ct.updateQueue.baseState=Ct,ct.memoizedState=Ct,ct.flags&256){St=ys(Error(tt(423)),ct),ct=Jp(ut,ct,wt,vt,St);break e}else if(wt!==St){St=ys(Error(tt(424)),ct),ct=Jp(ut,ct,wt,vt,St);break e}else for(bn&&(so=Dr(ct.stateNode.containerInfo),to=ct,vr=!0,yo=null,Ss=!1),vt=vp(ct,null,wt,vt),ct.child=vt;vt;)vt.flags=vt.flags&-3|4096,vt=vt.sibling;else{if(ds(),wt===St){ct=Lo(ut,ct,vt);break e}Yr(ut,ct,wt,vt)}ct=ct.child}return ct;case 5:return bp(ct),ut===null&&ou(ct),wt=ct.type,St=ct.pendingProps,Ct=ut!==null?ut.memoizedProps:null,Mt=St.children,vn(wt,St)?Mt=null:Ct!==null&&vn(wt,Ct)&&(ct.flags|=32),Xp(ut,ct),Yr(ut,ct,Mt,vt),ct.child;case 6:return ut===null&&ou(ct),null;case 13:return _g(ut,ct,vt);case 4:return gu(ct,ct.stateNode.containerInfo),wt=ct.pendingProps,ut===null?ct.child=ps(ct,null,wt,vt):Yr(ut,ct,wt,vt),ct.child;case 11:return wt=ct.type,St=ct.pendingProps,St=ct.elementType===wt?St:vo(wt,St),Wp(ut,ct,wt,St,vt);case 7:return Yr(ut,ct,ct.pendingProps,vt),ct.child;case 8:return Yr(ut,ct,ct.pendingProps.children,vt),ct.child;case 12:return Yr(ut,ct,ct.pendingProps.children,vt),ct.child;case 10:e:{if(wt=ct.type._context,St=ct.pendingProps,Ct=ct.memoizedProps,Mt=St.value,sp(ct,wt,Mt),Ct!==null)if(mo(Ct.value,Mt)){if(Ct.children===St.children&&!Mr.current){ct=Lo(ut,ct,vt);break e}}else for(Ct=ct.child,Ct!==null&&(Ct.return=ct);Ct!==null;){var qt=Ct.dependencies;if(qt!==null){Mt=Ct.child;for(var nn=qt.firstContext;nn!==null;){if(nn.context===wt){if(Ct.tag===1){nn=No(-1,vt&-vt),nn.tag=2;var gn=Ct.updateQueue;if(gn!==null){gn=gn.shared;var kn=gn.pending;kn===null?nn.next=nn:(nn.next=kn.next,kn.next=nn),gn.pending=nn}}Ct.lanes|=vt,nn=Ct.alternate,nn!==null&&(nn.lanes|=vt),cu(Ct.return,vt,ct),qt.lanes|=vt;break}nn=nn.next}}else if(Ct.tag===10)Mt=Ct.type===ct.type?null:Ct.child;else if(Ct.tag===18){if(Mt=Ct.return,Mt===null)throw Error(tt(341));Mt.lanes|=vt,qt=Mt.alternate,qt!==null&&(qt.lanes|=vt),cu(Mt,vt,ct),Mt=Ct.sibling}else Mt=Ct.child;if(Mt!==null)Mt.return=Ct;else for(Mt=Ct;Mt!==null;){if(Mt===ct){Mt=null;break}if(Ct=Mt.sibling,Ct!==null){Ct.return=Mt.return,Mt=Ct;break}Mt=Mt.return}Ct=Mt}Yr(ut,ct,St.children,vt),ct=ct.child}return ct;case 9:return St=ct.type,wt=ct.pendingProps.children,hs(ct,vt),St=lo(St),wt=wt(St),ct.flags|=1,Yr(ut,ct,wt,vt),ct.child;case 14:return wt=ct.type,St=vo(wt,ct.pendingProps),St=vo(wt.type,St),Kp(ut,ct,wt,St,vt);case 15:return qp(ut,ct,ct.type,ct.pendingProps,vt);case 17:return wt=ct.type,St=ct.pendingProps,St=ct.elementType===wt?St:vo(wt,St),Cl(ut,ct),ct.tag=1,Fr(wt)?(ut=!0,Dt(ct)):ut=!1,hs(ct,vt),pp(ct,wt,St),pu(ct,wt,St,vt),$u(null,ct,wt,!0,ut,vt);case 19:return t0(ut,ct,vt);case 22:return Yp(ut,ct,vt)}throw Error(tt(156,ct.tag))};function T0(ut,ct){return Zl(ut,ct)}function cm(ut,ct,vt,wt){this.tag=ut,this.key=vt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ct,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=wt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(ut,ct,vt,wt){return new cm(ut,ct,vt,wt)}function _c(ut){return ut=ut.prototype,!(!ut||!ut.isReactComponent)}function dm(ut){if(typeof ut=="function")return _c(ut)?1:0;if(ut!=null){if(ut=ut.$$typeof,ut===lt)return 11;if(ut===pt)return 14}return 2}function Xo(ut,ct){var vt=ut.alternate;return vt===null?(vt=ho(ut.tag,ct,ut.key,ut.mode),vt.elementType=ut.elementType,vt.type=ut.type,vt.stateNode=ut.stateNode,vt.alternate=ut,ut.alternate=vt):(vt.pendingProps=ct,vt.type=ut.type,vt.flags=0,vt.subtreeFlags=0,vt.deletions=null),vt.flags=ut.flags&14680064,vt.childLanes=ut.childLanes,vt.lanes=ut.lanes,vt.child=ut.child,vt.memoizedProps=ut.memoizedProps,vt.memoizedState=ut.memoizedState,vt.updateQueue=ut.updateQueue,ct=ut.dependencies,vt.dependencies=ct===null?null:{lanes:ct.lanes,firstContext:ct.firstContext},vt.sibling=ut.sibling,vt.index=ut.index,vt.ref=ut.ref,vt}function Wl(ut,ct,vt,wt,St,Ct){var Mt=2;if(wt=ut,typeof ut=="function")_c(ut)&&(Mt=1);else if(typeof ut=="string")Mt=5;else e:switch(ut){case st:return ns(vt.children,St,Ct,ct);case _e:Mt=8,St|=8;break;case $:return ut=ho(12,vt,ct,St|2),ut.elementType=$,ut.lanes=Ct,ut;case dt:return ut=ho(13,vt,ct,St),ut.elementType=dt,ut.lanes=Ct,ut;case ft:return ut=ho(19,vt,ct,St),ut.elementType=ft,ut.lanes=Ct,ut;case gt:return Kl(vt,St,Ct,ct);default:if(typeof ut=="object"&&ut!==null)switch(ut.$$typeof){case nt:Mt=10;break e;case it:Mt=9;break e;case lt:Mt=11;break e;case pt:Mt=14;break e;case ht:Mt=16,wt=null;break e}throw Error(tt(130,ut==null?ut:typeof ut,""))}return ct=ho(Mt,vt,ct,St),ct.elementType=ut,ct.type=wt,ct.lanes=Ct,ct}function ns(ut,ct,vt,wt){return ut=ho(7,ut,wt,ct),ut.lanes=vt,ut}function Kl(ut,ct,vt,wt){return ut=ho(22,ut,wt,ct),ut.elementType=gt,ut.lanes=vt,ut.stateNode={isHidden:!1},ut}function _d(ut,ct,vt){return ut=ho(6,ut,null,ct),ut.lanes=vt,ut}function _f(ut,ct,vt){return ct=ho(4,ut.children!==null?ut.children:[],ut.key,ct),ct.lanes=vt,ct.stateNode={containerInfo:ut.containerInfo,pendingChildren:null,implementation:ut.implementation},ct}function fm(ut,ct,vt,wt,St){this.tag=ct,this.containerInfo=ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=on,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nr(0),this.expirationTimes=nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.identifierPrefix=wt,this.onRecoverableError=St,bn&&(this.mutableSourceEagerHydrationData=null)}function C0(ut,ct,vt,wt,St,Ct,Mt,qt,nn){return ut=new fm(ut,ct,vt,qt,nn),ct===1?(ct=1,Ct===!0&&(ct|=8)):ct=0,Ct=ho(3,null,null,ct),ut.current=Ct,Ct.stateNode=ut,Ct.memoizedState={element:wt,isDehydrated:vt,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(Ct),ut}function P0(ut){if(!ut)return go;ut=ut._reactInternals;e:{if(xt(ut)!==ut||ut.tag!==1)throw Error(tt(170));var ct=ut;do{switch(ct.tag){case 3:ct=ct.stateNode.context;break e;case 1:if(Fr(ct.type)){ct=ct.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ct=ct.return}while(ct!==null);throw Error(tt(171))}if(ut.tag===1){var vt=ut.type;if(Fr(vt))return ws(ut,vt,ct)}return ct}function A0(ut){var ct=ut._reactInternals;if(ct===void 0)throw typeof ut.render=="function"?Error(tt(188)):(ut=Object.keys(ut).join(","),Error(tt(268,ut)));return ut=Pt(ct),ut===null?null:ut.stateNode}function O0(ut,ct){if(ut=ut.memoizedState,ut!==null&&ut.dehydrated!==null){var vt=ut.retryLane;ut.retryLane=vt!==0&&vt<ct?vt:ct}}function Yl(ut,ct){O0(ut,ct),(ut=ut.alternate)&&O0(ut,ct)}function hm(ut){return ut=Pt(ut),ut===null?null:ut.stateNode}function pm(){return null}return a.attemptContinuousHydration=function(ut){if(ut.tag===13){var ct=To(ut,134217728);if(ct!==null){var vt=qr();fo(ct,ut,134217728,vt)}Yl(ut,134217728)}},a.attemptDiscreteHydration=function(ut){if(ut.tag===13){var ct=To(ut,1);if(ct!==null){var vt=qr();fo(ct,ut,1,vt)}Yl(ut,1)}},a.attemptHydrationAtCurrentPriority=function(ut){if(ut.tag===13){var ct=qo(ut),vt=To(ut,ct);if(vt!==null){var wt=qr();fo(vt,ut,ct,wt)}Yl(ut,ct)}},a.attemptSynchronousHydration=function(ut){switch(ut.tag){case 3:var ct=ut.stateNode;if(ct.current.memoizedState.isDehydrated){var vt=Xr(ct.pendingLanes);vt!==0&&(ls(ct,vt|1),Jr(ct,Nr()),!(tr&6)&&(_s(),Eo()))}break;case 13:y0(function(){var wt=To(ut,1);if(wt!==null){var St=qr();fo(wt,ut,1,St)}}),Yl(ut,1)}},a.batchedUpdates=function(ut,ct){var vt=tr;tr|=1;try{return ut(ct)}finally{tr=vt,tr===0&&(_s(),zs&&Eo())}},a.createComponentSelector=function(ut){return{$$typeof:Rl,value:ut}},a.createContainer=function(ut,ct,vt,wt,St,Ct,Mt){return C0(ut,ct,!1,null,vt,wt,St,Ct,Mt)},a.createHasPseudoClassSelector=function(ut){return{$$typeof:Il,value:ut}},a.createHydrationContainer=function(ut,ct,vt,wt,St,Ct,Mt,qt,nn){return ut=C0(vt,wt,!0,ut,St,Ct,Mt,qt,nn),ut.context=P0(null),vt=ut.current,wt=qr(),St=qo(vt),Ct=No(wt,St),Ct.callback=ct??null,Ho(vt,Ct,St),ut.current.lanes=St,hr(ut,St,wt),Jr(ut,wt),ut},a.createPortal=function(ut,ct,vt){var wt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ot,key:wt==null?null:""+wt,children:ut,containerInfo:ct,implementation:vt}},a.createRoleSelector=function(ut){return{$$typeof:Dl,value:ut}},a.createTestNameSelector=function(ut){return{$$typeof:Ml,value:ut}},a.createTextSelector=function(ut){return{$$typeof:Fl,value:ut}},a.deferredUpdates=function(ut){var ct=or,vt=Er.transition;try{return Er.transition=null,or=16,ut()}finally{or=ct,Er.transition=vt}},a.discreteUpdates=function(ut,ct,vt,wt,St){var Ct=or,Mt=Er.transition;try{return Er.transition=null,or=1,ut(ct,vt,wt,St)}finally{or=Ct,Er.transition=Mt,tr===0&&_s()}},a.findAllNodes=Bu,a.findBoundingRects=function(ut,ct){if(!On)throw Error(tt(363));ct=Bu(ut,ct),ut=[];for(var vt=0;vt<ct.length;vt++)ut.push(Fn(ct[vt]));for(ct=ut.length-1;0<ct;ct--){vt=ut[ct];for(var wt=vt.x,St=wt+vt.width,Ct=vt.y,Mt=Ct+vt.height,qt=ct-1;0<=qt;qt--)if(ct!==qt){var nn=ut[qt],gn=nn.x,kn=gn+nn.width,Qn=nn.y,Cn=Qn+nn.height;if(wt>=gn&&Ct>=Qn&&St<=kn&&Mt<=Cn){ut.splice(ct,1);break}else if(wt!==gn||vt.width!==nn.width||Cn<Ct||Qn>Mt){if(!(Ct!==Qn||vt.height!==nn.height||kn<wt||gn>St)){gn>wt&&(nn.width+=gn-wt,nn.x=wt),kn<St&&(nn.width=St-gn),ut.splice(ct,1);break}}else{Qn>Ct&&(nn.height+=Qn-Ct,nn.y=Ct),Cn<Mt&&(nn.height=Mt-Qn),ut.splice(ct,1);break}}}return ut},a.findHostInstance=A0,a.findHostInstanceWithNoPortals=function(ut){return ut=Tt(ut),ut=ut!==null?Ot(ut):null,ut===null?null:ut.stateNode},a.findHostInstanceWithWarning=function(ut){return A0(ut)},a.flushControlled=function(ut){var ct=tr;tr|=1;var vt=Er.transition,wt=or;try{Er.transition=null,or=1,ut()}finally{or=wt,Er.transition=vt,tr=ct,tr===0&&(_s(),Eo())}},a.flushPassiveEffects=ts,a.flushSync=y0,a.focusWithin=function(ut,ct){if(!On)throw Error(tt(363));for(ut=Uu(ut),ct=p0(ut,ct),ct=Array.from(ct),ut=0;ut<ct.length;){var vt=ct[ut++];if(!hn(vt)){if(vt.tag===5&&Wn(vt.stateNode))return!0;for(vt=vt.child;vt!==null;)ct.push(vt),vt=vt.sibling}}return!1},a.getCurrentUpdatePriority=function(){return or},a.getFindAllNodesFailureDescription=function(ut,ct){if(!On)throw Error(tt(363));var vt=0,wt=[];ut=[Uu(ut),0];for(var St=0;St<ut.length;){var Ct=ut[St++],Mt=ut[St++],qt=ct[Mt];if((Ct.tag!==5||!hn(Ct))&&(Vu(Ct,qt)&&(wt.push(zu(qt)),Mt++,Mt>vt&&(vt=Mt)),Mt<ct.length))for(Ct=Ct.child;Ct!==null;)ut.push(Ct,Mt),Ct=Ct.sibling}if(vt<ct.length){for(ut=[];vt<ct.length;vt++)ut.push(zu(ct[vt]));return`findAllNodes was able to match part of the selector:
  `+(wt.join(" > ")+`

No matching component was found for:
  `)+ut.join(" > ")}return null},a.getPublicRootInstance=function(ut){if(ut=ut.current,!ut.child)return null;switch(ut.child.tag){case 5:return $t(ut.child.stateNode);default:return ut.child.stateNode}},a.injectIntoDevTools=function(ut){if(ut={bundleType:ut.bundleType,version:ut.version,rendererPackageName:ut.rendererPackageName,rendererConfig:ut.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rt.ReactCurrentDispatcher,findHostInstanceByFiber:hm,findFiberByHostInstance:ut.findFiberByHostInstance||pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")ut=!1;else{var ct=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ct.isDisabled||!ct.supportsFiber)ut=!0;else{try{Vs=ct.inject(ut),So=ct}catch{}ut=!!ct.checkDCE}}return ut},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(ut,ct,vt,wt){if(!On)throw Error(tt(363));ut=Bu(ut,ct);var St=Kn(ut,vt,wt).disconnect;return{disconnect:function(){St()}}},a.registerMutableSourceForHydration=function(ut,ct){var vt=ct._getVersion;vt=vt(ct._source),ut.mutableSourceEagerHydrationData==null?ut.mutableSourceEagerHydrationData=[ct,vt]:ut.mutableSourceEagerHydrationData.push(ct,vt)},a.runWithPriority=function(ut,ct){var vt=or;try{return or=ut,ct()}finally{or=vt}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(ut,ct,vt,wt){var St=ct.current,Ct=qr(),Mt=qo(St);return vt=P0(vt),ct.context===null?ct.context=vt:ct.pendingContext=vt,ct=No(Ct,Mt),ct.payload={element:ut},wt=wt===void 0?null:wt,wt!==null&&(ct.callback=wt),ut=Ho(St,ct,Mt),ut!==null&&(fo(ut,St,Mt,Ct),Ys(ut,St,Mt)),Mt},a};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const ReactFiberReconciler=getDefaultExportFromCjs(reactReconcilerExports);var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event",DRAGGABLE_WARNING=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Z_INDEX_WARNING=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,EMPTY_PROPS={};function applyNodeProps(o,i,a=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in i&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&i.draggable){var s=i.x!==void 0||i.y!==void 0,j=i.onDragEnd||i.onDragMove;s&&!j&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var et in a)if(!propsToSkip[et]){var tt=et.slice(0,2)==="on",rt=a[et]!==i[et];if(tt&&rt){var at=et.substr(2).toLowerCase();at.substr(0,7)==="content"&&(at="content"+at.substr(7,1).toUpperCase()+at.substr(8)),o.off(at,a[et])}var ot=!i.hasOwnProperty(et);ot&&o.setAttr(et,void 0)}var st=i._useStrictMode,_e={},$=!1;const nt={};for(var et in i)if(!propsToSkip[et]){var tt=et.slice(0,2)==="on",it=a[et]!==i[et];if(tt&&it){var at=et.substr(2).toLowerCase();at.substr(0,7)==="content"&&(at="content"+at.substr(7,1).toUpperCase()+at.substr(8)),i[et]&&(nt[at]=i[et])}!tt&&(i[et]!==a[et]||st&&i[et]!==o.getAttr(et))&&($=!0,_e[et]=i[et])}$&&(o.setAttrs(_e),updatePicture(o));for(var at in nt)o.on(at+EVENTS_NAMESPACE,nt[at])}function updatePicture(o){if(!Global.Konva.autoDrawEnabled){var i=o.getLayer()||o.getStage();i&&i.batchDraw()}}const NO_CONTEXT={},UPDATE_SIGNAL={};Konva.Node.prototype._applyProps=applyNodeProps;function appendInitialChild(o,i){if(typeof i=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${i}`);return}o.add(i),updatePicture(o)}function createInstance(o,i,a){let s=Konva[o];s||(console.error(`Konva has no node with the type ${o}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${o}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),s=Konva.Group);const j={},et={};for(var tt in i){var rt=tt.slice(0,2)==="on";rt?et[tt]=i[tt]:j[tt]=i[tt]}const at=new s(j);return applyNodeProps(at,et),at}function createTextInstance(o,i,a){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${o}"`)}function finalizeInitialChildren(o,i,a){return!1}function getPublicInstance(o){return o}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(o,i,a,s){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(o){}function shouldDeprioritizeSubtree(o,i){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(o,i){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(o,i){i.parent===o?i.moveToTop():o.add(i),updatePicture(o)}function appendChildToContainer(o,i){i.parent===o?i.moveToTop():o.add(i),updatePicture(o)}function insertBefore(o,i,a){i._remove(),o.add(i),i.setZIndex(a.getZIndex()),updatePicture(o)}function insertInContainerBefore(o,i,a){insertBefore(o,i,a)}function removeChild(o,i){i.destroy(),i.off(EVENTS_NAMESPACE),updatePicture(o)}function removeChildFromContainer(o,i){i.destroy(),i.off(EVENTS_NAMESPACE),updatePicture(o)}function commitTextUpdate(o,i,a){console.error(`Text components are not yet supported in ReactKonva. You text is: "${a}"`)}function commitMount(o,i,a){}function commitUpdate(o,i,a,s,j){applyNodeProps(o,j,s)}function hideInstance(o){o.hide(),updatePicture(o)}function hideTextInstance(o){}function unhideInstance(o,i){(i.visible==null||i.visible)&&o.show()}function unhideTextInstance(o,i){}function clearContainer(o){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constantsExports.DefaultEventPriority,HostConfig=Object.freeze(Object.defineProperty({__proto__:null,appendChild,appendChildToContainer,appendInitialChild,cancelTimeout,clearContainer,commitMount,commitTextUpdate,commitUpdate,createInstance,createTextInstance,detachDeletedInstance,finalizeInitialChildren,getChildHostContext,getCurrentEventPriority,getPublicInstance,getRootHostContext,hideInstance,hideTextInstance,idlePriority:schedulerExports.unstable_IdlePriority,insertBefore,insertInContainerBefore,isPrimaryRenderer,noTimeout,now:schedulerExports.unstable_now,prepareForCommit,preparePortalMount,prepareUpdate,removeChild,removeChildFromContainer,resetAfterCommit,resetTextContent,run:schedulerExports.unstable_runWithPriority,scheduleTimeout,shouldDeprioritizeSubtree,shouldSetTextContent,supportsMutation,unhideInstance,unhideTextInstance,warnsIfNotActing},Symbol.toStringTag,{value:"Module"}));var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(o,i,a)=>i in o?__defProp(o,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[i]=a,__spreadValues=(o,i)=>{for(var a in i||(i={}))__hasOwnProp.call(i,a)&&__defNormalProp(o,a,i[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(i))__propIsEnum.call(i,a)&&__defNormalProp(o,a,i[a]);return o},__spreadProps=(o,i)=>__defProps(o,__getOwnPropDescs(i));function traverseFiber(o,i,a){if(!o)return;if(a(o)===!0)return o;let s=i?o.return:o.child;for(;s;){const j=traverseFiber(s,i,a);if(j)return j;s=i?null:s.sibling}}function wrapContext(o){try{return Object.defineProperties(o,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return o}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const o=reactExports.useContext(FiberContext);if(o===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=reactExports.useId();return reactExports.useMemo(()=>{for(const s of[ReactCurrentOwner==null?void 0:ReactCurrentOwner.current,o,o==null?void 0:o.alternate]){if(!s)continue;const j=traverseFiber(s,!1,et=>{let tt=et.memoizedState;for(;tt;){if(tt.memoizedState===i)return!0;tt=tt.next}});if(j)return j}},[o,i])}function useContextMap(){var o,i;const a=useFiber(),[s]=reactExports.useState(()=>new Map);s.clear();let j=a;for(;j;){const et=(o=j.type)==null?void 0:o._context;et&&et!==FiberContext&&!s.has(et)&&s.set(et,(i=ReactCurrentDispatcher==null?void 0:ReactCurrentDispatcher.current)==null?void 0:i.readContext(wrapContext(et))),j=j.return}return s}function useContextBridge(){const o=useContextMap();return reactExports.useMemo(()=>Array.from(o.keys()).reduce((i,a)=>s=>reactExports.createElement(i,null,reactExports.createElement(a.Provider,__spreadProps(__spreadValues({},s),{value:o.get(a)}))),i=>reactExports.createElement(FiberProvider,__spreadValues({},i))),[o])}function usePrevious(o){const i=React.useRef({});return React.useLayoutEffect(()=>{i.current=o}),React.useLayoutEffect(()=>()=>{i.current={}},[]),i.current}const StageWrap=o=>{const i=React.useRef(),a=React.useRef(),s=React.useRef(),j=usePrevious(o),et=useContextBridge(),tt=rt=>{const{forwardedRef:at}=o;at&&(typeof at=="function"?at(rt):at.current=rt)};return React.useLayoutEffect(()=>(a.current=new Konva.Stage({width:o.width,height:o.height,container:i.current}),tt(a.current),s.current=KonvaRenderer.createContainer(a.current,constantsExports.LegacyRoot,!1,null),KonvaRenderer.updateContainer(React.createElement(et,{},o.children),s.current),()=>{Konva.isBrowser&&(tt(null),KonvaRenderer.updateContainer(null,s.current,null),a.current.destroy())}),[]),React.useLayoutEffect(()=>{tt(a.current),applyNodeProps(a.current,o,j),KonvaRenderer.updateContainer(React.createElement(et,{},o.children),s.current,null)}),React.createElement("div",{ref:i,id:o.id,accessKey:o.accessKey,className:o.className,role:o.role,style:o.style,tabIndex:o.tabIndex,title:o.title})},Layer="Layer",Rect="Rect",Circle="Circle",Image$1="Image",Ring="Ring",Path="Path",KonvaRenderer=ReactFiberReconciler(HostConfig);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:React.version,rendererPackageName:"react-konva"});const Stage$1=React.forwardRef((o,i)=>React.createElement(FiberProvider,{},React.createElement(StageWrap,{...o,forwardedRef:i}))),canvasScaleInitializer=({width:o,height:i,containerRef:a,shouldFitToWidth:s})=>{var tt,rt;const j=((tt=a.current)==null?void 0:tt.offsetWidth)||o,et=((rt=a.current)==null?void 0:rt.offsetHeight)||i;return canvasScaleResizer({width:o,height:i,containerWidth:j,containerHeight:et,shouldFitToWidth:s})},canvasScaleResizer=({width:o,height:i,containerWidth:a,containerHeight:s,shouldFitToWidth:j})=>{const et=window.innerWidth<768;let tt=1;const rt=a/o,at=s/i;et?tt=Math.max(rt,at):j?tt=rt:tt=Math.min(rt,at);const ot=tt*o,st=tt*i;return{scalingStyle:{transform:`scale(${tt})`,transformOrigin:"left top"},scaledDimensionsStyle:{width:ot,height:st},scaledWidth:ot,scaledHeight:st,containerWidth:a,containerHeight:s}},DETECTRON2_COLORS=[[0,.447,.741],[.85,.325,.098],[.929,.694,.125],[.494,.184,.556],[.466,.674,.188],[.301,.745,.933],[.635,.078,.184],[.3,.3,.3],[.6,.6,.6],[1,0,0],[1,.5,0],[.749,.749,0],[0,1,0],[0,0,1],[.667,0,1],[.333,.333,0],[.333,.667,0],[.333,1,0],[.667,.333,0],[.667,.667,0],[.667,1,0],[1,.333,0],[1,.667,0],[1,1,0],[0,.333,.5],[0,.667,.5],[0,1,.5],[.333,0,.5],[.333,.333,.5],[.333,.667,.5],[.333,1,.5],[.667,0,.5],[.667,.333,.5],[.667,.667,.5],[.667,1,.5],[1,0,.5],[1,.333,.5],[1,.667,.5],[1,1,.5],[0,.333,1],[0,.667,1],[0,1,1],[.333,0,1],[.333,.333,1],[.333,.667,1],[.333,1,1],[.667,0,1],[.667,.333,1],[.667,.667,1],[.667,1,1],[1,0,1],[1,.333,1],[1,.667,1],[.333,0,0],[.5,0,0],[.667,0,0],[.833,0,0],[1,0,0],[0,.167,0],[0,.333,0],[0,.5,0],[0,.667,0],[0,.833,0],[0,1,0],[0,0,.167],[0,0,.333],[0,0,.5],[0,0,.667],[0,0,.833],[0,0,1],[0,0,0],[.143,.143,.143],[.857,.857,.857],[1,1,1]],colors=function(){const o=[];return DETECTRON2_COLORS.map(i=>{const[a,s,j]=i.map(et=>Math.round(et*255));o.push(`rgb(${a},${s},${j})`)}),o}(),SvgMask=({xScale:o,yScale:i,svgStr:a,id:s="",className:j=""})=>{const{click:[et],image:[tt],isLoading:[rt],isErasing:[at],svg:[ot],isMultiMaskMode:[st]}=reactExports.useContext(AppContext),[_e,$]=reactExports.useState(Math.random()),[nt,it]=reactExports.useState(void 0),lt=reactExports.useRef(null),dt=()=>{lt!=null&&lt.current&&it(lt.current.getBBox())};reactExports.useEffect(()=>{rt||$(Math.random()),dt()},[ot]);const ft=nt==null?void 0:nt.x,pt=nt==null?void 0:nt.y,ht=nt==null?void 0:nt.width,gt=nt==null?void 0:nt.height,mt=pt&&gt&&pt+gt/2,yt=ht&&ht/o;return jsxRuntimeExports.jsxs("svg",{className:`absolute w-full h-full pointer-events-none ${j}`,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${o} ${i}`,children:[!st&&ft&&ht&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("radialGradient",{id:"gradient"+s,cx:0,cy:0,r:ht,gradientUnits:"userSpaceOnUse",gradientTransform:`translate(${ft-ht/4},${mt})`,children:[jsxRuntimeExports.jsx("stop",{offset:0,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:.25,stopColor:"white",stopOpacity:.7}),jsxRuntimeExports.jsx("stop",{offset:.5,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:.75,stopColor:"white",stopOpacity:.7}),jsxRuntimeExports.jsx("stop",{offset:1,stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("animateTransform",{attributeName:"gradientTransform",attributeType:"XML",type:"scale",from:0,to:12,dur:"1.5s",begin:".3s",fill:"freeze",additive:"sum"})]})}),jsxRuntimeExports.jsx("clipPath",{id:"clip-path"+s,children:jsxRuntimeExports.jsx("path",{d:a})}),jsxRuntimeExports.jsxs("filter",{id:"glow"+s,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:"#1d85bb"}),jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#1d85bb"}),jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"6",floodColor:"#1d85bb"})]}),jsxRuntimeExports.jsx("image",{width:"100%",height:"100%",xlinkHref:tt==null?void 0:tt.src,clipPath:`url(#clip-path${s})`}),!et&&(!rt||at)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!st&&yt&&jsxRuntimeExports.jsx("path",{id:"mask-gradient"+s,className:`mask-gradient ${yt>.5&&window.innerWidth<768?"hidden":""}`,d:a,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"0",fillOpacity:"1",fill:`url(#gradient${s})`}),jsxRuntimeExports.jsx("path",{id:"mask-path"+s,className:"mask-path",d:a,strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:".8",fillOpacity:"0",stroke:"#1d85bb",strokeWidth:"3",ref:lt,filter:`url(#glow${s})`})]})]},_e)};Konva$1.pixelRatio=1;const Canvas=reactExports.memo(({konvaRef:o,handleMouseUp:i,scale:a,handleMouseDown:s,handleMouseMove:j,handleMouseOut:et,annotations:tt,newAnnotation:rt,containerRef:at,hasClicked:ot,setCanvasScale:st,isStandalone:_e,isHoverToolTip:[,$],allText:[,nt]})=>{const{click:[it],clicks:[lt,dt],image:[ft],svg:[pt],svgs:[ht],allsvg:[gt],segmentTypes:[mt],isErased:[yt],isErasing:[bt],isLoading:[_t,xt],canvasWidth:[,Et],canvasHeight:[,Tt],maskImg:[Pt],stickerTabBool:[At,Ot],isModelLoaded:[It],isMultiMaskMode:[$t],isHovering:[kt,Ft],didShowAMGAnimation:[Ut,zt],isAllAnimationDone:[,Wt]}=reactExports.useContext(AppContext);if(!ft)return null;const Qt=1677721,un=a.width,an=a.height,fn=un*an>Qt?Math.sqrt(Qt/(un*an)):1,jt={width:Math.floor(un*fn),height:Math.floor(an*fn)},en=new window.Image;en.src=ft.src,en.width=un,en.height=an;const on=canvasScaleInitializer({width:jt.width,height:jt.height,containerRef:at,shouldFitToWidth:_e}),[wn,cn]=reactExports.useState(on.scalingStyle),[An,bn]=reactExports.useState(on.scaledDimensionsStyle),[Vn,xn]=reactExports.useState(null),[Jn,Ln]=reactExports.useState(!1),[Hn,jn]=reactExports.useState(0),On=reactExports.useRef(null),[zn,Fn]=reactExports.useState([]),[Bn,hn]=reactExports.useState(!1),Sn=reactExports.useRef(!1),Wn=[...tt,...rt],Kn="turquoise",ir="pink",gr=Lt=>{switch(Lt){case 0:return ir;case 1:return Kn;default:return null}},ur=it?gr(it.clickType):null,yr=new ResizeObserver(Lt=>{for(const Bt of Lt)if(Bt.target===at.current){let Ht,Xt;if(Bt.contentBoxSize){const tn=Array.isArray(Bt.contentBoxSize)?Bt.contentBoxSize[0]:Bt.contentBoxSize;Ht=tn.inlineSize,Xt=tn.blockSize}else Ht=Bt.contentRect.width,Xt=Bt.contentRect.height;const Zt=canvasScaleResizer({width:jt.width,height:jt.height,containerWidth:Ht,containerHeight:Xt,shouldFitToWidth:_e});Et(Zt.scaledWidth),Tt(Zt.scaledHeight),bn(Zt.scaledDimensionsStyle),cn(Zt.scalingStyle)}});reactExports.useEffect(()=>{if(mt==="All")Sn.current=!0,hn(!0);else{if(Sn.current=!1,hn(!1),zn.forEach(Bt=>clearTimeout(Bt)),Fn([]),o===null||o.current===null)return;const Lt=o.current.findOne(".animateAllSvg");Lt.destroyChildren(),Lt.draw()}},[mt]);const Rn=()=>{if(console.log("animateAllSvg"),console.log(Ut),console.log(o),Ut||o===null||o.current===null)return;Wt(!1);const Lt=o.current.findOne(".animateAllSvg");Lt.find("Circle").forEach(_n=>_n.destroy()),Lt.find("Path").forEach(_n=>_n.destroy());const Bt=jt.width/32,Ht=jt.height/32,Zt=Math.max(1.5,2.5*fn/a.uploadScale),tn=2*Zt,dn=_n=>new Promise((Mn,Kt)=>setTimeout(()=>{Bn&&Sn.current?Mn():Kt()},_n));(async()=>{try{nt("Prompting SAM with each point in the grid");for(let _n=0;_n<=32;_n++){await dn(50);for(let Mn=0;Mn<=32;Mn++){const Kt=new Konva$1.Circle({x:Bt*(_n+.5),y:Ht*(Mn+.5),radius:Zt,fill:"white",perfectDrawEnabled:!1,opacity:0});Lt.add(Kt),Kt.to({opacity:1,duration:1,easing:Konva$1.Easings.EaseInOut});const En=setTimeout(()=>{Kt.to({opacity:0,duration:1,easing:Konva$1.Easings.EaseInOut})},2700);Fn(Un=>[...Un,En])}}}catch{console.log("Rejected")}})(),(async()=>{try{if(zt(!0),await dn(2300),nt("Final points after de-duplicating predicted masks"),!gt||!a)return;gt.map(async({svg:_n,point_coord:Mn},Kt)=>{const En=new Konva$1.Circle({x:Mn[0]*(fn/a.uploadScale),y:Mn[1]*(fn/a.uploadScale),radius:Zt,fill:"white",perfectDrawEnabled:!1}),Un=new Konva$1.Path({key:Kt,id:`${Kt}`,data:_n.join(" "),fill:colors[Kt%colors.length],stroke:"blue",strokeWidth:3,scaleX:fn/a.uploadScale,scaleY:fn/a.uploadScale,opacity:0,lineCap:"round",lineJoin:"round",preventDefault:!1,perfectDrawEnabled:!1});Lt.add(Un),Lt.add(En),Lt.draw(),En.to({duration:1,radius:tn,easing:Konva$1.Easings.EaseInOut});const cr=setTimeout(()=>{Un.to({opacity:.4,duration:1,easing:Konva$1.Easings.EaseInOut})},2600),dr=setTimeout(()=>{nt("All of the predicted masks"),En.to({duration:1,opacity:0,easing:Konva$1.Easings.EaseInOut})},3500),Sr=setTimeout(()=>{Wt(!0),nt(jsxRuntimeExports.jsxs("span",{children:["Interested in learning more? Check out the"," ",jsxRuntimeExports.jsx("a",{href:"https://ai.facebook.com/research/publications/segment-anything/",target:"_blank",className:"underline",children:"Paper"}),","," ",jsxRuntimeExports.jsx("a",{href:"https://ai.facebook.com/blog/segment-anything-foundation-model-image-segmentation/",target:"_blank",className:"underline",children:"Blog Post"}),", or"," ",jsxRuntimeExports.jsx("a",{href:"https://github.com/facebookresearch/segment-anything",target:"_blank",className:"underline",children:"Code"}),"."]}))},5e3);Fn(Tr=>[...Tr,cr,dr,Sr])})}catch{console.log("Rejected")}})()};reactExports.useEffect(()=>(st(fn),Et(on.scaledWidth),Tt(on.scaledHeight),at.current&&yr.observe(at.current),()=>{at.current&&yr.unobserve(at.current)}),[]);const Rt=Lt=>{setTimeout(()=>window.requestAnimationFrame(()=>{setTimeout(()=>{Lt()},0)}),0)};reactExports.useEffect(()=>{let Lt=null;lt&&it?Lt=[...lt,it]:it&&(Lt=[it]),Lt&&Rt(()=>Rt(()=>dt(Lt)))},[it]),reactExports.useEffect(()=>{const Lt=_e?0:144,Bt=On.current;if(Bt){const Ht=on.scaledWidth-on.containerWidth,Xt=on.scaledHeight-on.containerHeight;Bt.scrollLeft=Ht/2,Bt.scrollTop=Lt+Xt/2}},[wn]),reactExports.useEffect(()=>{kt&&lt&&lt.length==1?(console.log("isHovering setShouldShowAnimation"),console.log(lt),xn(!0)):xn(!1)},[lt,kt]);const Nt=mt==="All"&&_t||_t&&!ot&&!It.boxModel||_t&&bt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Nt&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 flex items-center justify-center w-full h-full md:hidden"}),jsxRuntimeExports.jsx("div",{className:`absolute w-full h-full overflow-auto Canvas-wrapper md:overflow-visible md:w-auto md:h-auto absolute-center ${_e?"":"pt-36 pb-14 md:p-0"}`,ref:On,children:jsxRuntimeExports.jsxs("div",{onMouseOver:()=>{$(!0),mt==="Click"&&$t&&(console.log("onMouseOver"),Ft(!0))},onMouseOut:()=>{$(!1),mt==="Click"&&$t&&lt!==null&&lt.length===1&&(console.log("onMouseOut"),Ft(!1))},className:`Canvas relative ${_t?"pointer-events-none":""} ${Vn?"rotate":kt===!1?"unrotate":""} ${$t?"multi-mask-mode":""}`,style:An,children:[jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full bg-black pointer-events-none background"}),jsxRuntimeExports.jsx("img",{src:ft.src,className:`absolute w-full h-full pointer-events-none ${_t||ot&&!$t||$t&&lt?"opacity-50":""}`,style:{margin:0}}),mt!=="All"&&pt&&ht&&a&&ot&&$t&&ht.map((Lt,Bt)=>jsxRuntimeExports.jsx(SvgMask,{id:`${Bt}`,className:`mask-${Bt+1}-of-${ht.length}`,xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:Lt.join(" ")},Bt)).concat(jsxRuntimeExports.jsx(SvgMask,{className:"mask-best",xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:pt.join(" ")},pt.join(" "))),mt!=="All"&&pt&&a&&ot&&!$t&&jsxRuntimeExports.jsx(SvgMask,{id:pt.join(" "),xScale:a.width*a.uploadScale,yScale:a.height*a.uploadScale,svgStr:pt.join(" ")},pt.join(" ")),jsxRuntimeExports.jsxs(Stage$1,{className:"konva",width:jt.width,height:jt.height,onMouseDown:Lt=>{At||s(Lt)},onMouseUp:Lt=>{if(At){Ot(!1);return}mt!=="All"&&($t&&lt||(xt(!0),i(Lt)))},onMouseMove:j,onMouseOut:et,onMouseLeave:et,onTouchStart:Lt=>{At||(s(Lt),jn(Bt=>Bt+1))},onTouchEnd:Lt=>{At||(mt!=="All"&&!Jn&&Hn===1&&(xt(!0),Rt(()=>Rt(()=>i(Lt,!0)))),Ln(!1),jn(0))},onTouchMove:()=>{Ln(!0)},onContextMenu:Lt=>Lt.evt.preventDefault(),ref:o,style:wn,children:[jsxRuntimeExports.jsxs(Layer,{name:"svgMask",children:[jsxRuntimeExports.jsx(Image$1,{x:0,y:0,image:en,width:jt.width,height:jt.height,opacity:0,preventDefault:!1}),mt!=="All"?pt&&a&&ot&&jsxRuntimeExports.jsx(Path,{data:pt.join(" "),fill:"black",scaleX:fn/a.uploadScale,scaleY:fn/a.uploadScale,lineCap:"round",lineJoin:"round",opacity:0,preventDefault:!1}):gt&&a&&gt.map(({svg:Lt},Bt)=>jsxRuntimeExports.jsx(Path,{id:Lt.join(" "),data:Lt.join(" "),fill:colors[Bt%colors.length],stroke:"blue",strokeWidth:3,scaleX:fn/a.uploadScale,scaleY:fn/a.uploadScale,opacity:.5,lineCap:"round",lineJoin:"round",preventDefault:!1,visible:!1},Bt))]}),jsxRuntimeExports.jsx(Layer,{name:"animateAllSvg",children:mt==="All"&&Bn&&Rn()}),jsxRuntimeExports.jsxs(Layer,{name:"annotations",children:[lt&&ot&&lt.map((Lt,Bt)=>{const Ht=gr(Lt.clickType);return Ht&&jsxRuntimeExports.jsx(Circle,{id:`${Bt}`,x:Lt.x*fn/a.scale,y:Lt.y*fn/a.scale,fill:Ht,radius:5*fn/a.scale,shadowBlur:5,shadowColor:Ht===Kn?"black":Ht,preventDefault:!1},Bt)}),it&&ur&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Circle,{x:it.x*fn/a.scale,y:it.y*fn/a.scale,fill:ur,shadowColor:ur===Kn?"black":ir,shadowBlur:5,preventDefault:!1,radius:5*fn/a.scale}),jsxRuntimeExports.jsx(Ring,{x:it.x*fn/a.scale,y:it.y*fn/a.scale,fill:ur,shadowColor:ur===Kn?"black":ir,shadowBlur:5,preventDefault:!1,radius:55*fn/a.scale,innerRadius:50*fn/a.scale,outerRadius:60*fn/a.scale})]}),!yt&&Wn.map((Lt,Bt)=>jsxRuntimeExports.jsx(Rect,{id:`${Bt}`,x:Lt.x,y:Lt.y,width:Lt.width,height:Lt.height,fill:"transparent",stroke:"white",strokeWidth:1.5,preventDefault:!1},Bt))]})]}),mt!=="All"&&Pt&&!ot&&jsxRuntimeExports.jsx("img",{src:Pt==null?void 0:Pt.src,style:{margin:0},className:"absolute top-0 opacity-40 pointer-events-none w-full h-full"}),Nt&&jsxRuntimeExports.jsx("div",{className:"hidden absolute z-10 md:flex items-center justify-center w-full h-full top-0"})]})})]})}),LoadingModal=({handleResetState:o})=>{const{showLoadingModal:[i],isErasing:[a],eraserText:[s],image:[j]}=reactExports.useContext(AppContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i&&jsxRuntimeExports.jsx("div",{className:"modal modal-open",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-72 modal-box",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("img",{className:"object-contain w-10 mr-3",src:j==null?void 0:j.src}),jsxRuntimeExports.jsx("img",{className:"mr-3",src:"/assets/arrow-icn.svg"}),jsxRuntimeExports.jsx("img",{src:"/assets/icn-nn.svg"}),jsxRuntimeExports.jsx("img",{className:"mr-3",src:"/assets/arrow-icn.svg"}),jsxRuntimeExports.jsx("img",{src:"/assets/stack.svg"})]}),jsxRuntimeExports.jsxs("p",{className:"py-4 text-sm md:text-lg",children:[a&&s.isEmbedding&&"Re-extracting embedding on the erased image",a&&s.isErase&&"Masks can be fed into other open source models",!a&&"Extracting an embedding for the image..."]}),jsxRuntimeExports.jsx("div",{className:"loading-bar"}),jsxRuntimeExports.jsx("button",{className:"pt-8 text-lg font-bold",onClick:o,children:"Cancel"})]})})})};function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}function _toPrimitive(o,i){if(_typeof(o)!=="object"||o===null)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var s=a.call(o,i||"default");if(_typeof(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _toPropertyKey(o){var i=_toPrimitive(o,"string");return _typeof(i)==="symbol"?i:String(i)}function _defineProperties(o,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,_toPropertyKey(s.key),s)}}function _createClass(o,i,a){return i&&_defineProperties(o.prototype,i),a&&_defineProperties(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}function _setPrototypeOf$1(o,i){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,j){return s.__proto__=j,s},_setPrototypeOf$1(o,i)}function _inherits(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$1(o,i)}function _getPrototypeOf$1(o){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf$1(o)}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _possibleConstructorReturn(o,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _createSuper(o){var i=_isNativeReflectConstruct$1();return function(){var s=_getPrototypeOf$1(o),j;if(i){var et=_getPrototypeOf$1(this).constructor;j=Reflect.construct(s,arguments,et)}else j=s.apply(this,arguments);return _possibleConstructorReturn(this,j)}}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var i={}.hasOwnProperty;function a(){for(var s=[],j=0;j<arguments.length;j++){var et=arguments[j];if(et){var tt=typeof et;if(tt==="string"||tt==="number")s.push(et);else if(Array.isArray(et)){if(et.length){var rt=a.apply(null,et);rt&&s.push(rt)}}else if(tt==="object"){if(et.toString!==Object.prototype.toString&&!et.toString.toString().includes("[native code]")){s.push(et.toString());continue}for(var at in et)i.call(et,at)&&et[at]&&s.push(at)}}}return s.join(" ")}o.exports?(a.default=a,o.exports=a):window.classNames=a})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends$1.apply(this,arguments)}var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case c:switch(o=o.type,o){case l:case m:case e:case g:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k:case n:case t:case r:case h:return o;default:return i}}case d:return i}}}function A(o){return z(o)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A(o)||z(o)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(o){return z(o)===k};reactIs_production_min.isContextProvider=function(o){return z(o)===h};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z(o)===n};reactIs_production_min.isFragment=function(o){return z(o)===e};reactIs_production_min.isLazy=function(o){return z(o)===t};reactIs_production_min.isMemo=function(o){return z(o)===r};reactIs_production_min.isPortal=function(o){return z(o)===d};reactIs_production_min.isProfiler=function(o){return z(o)===g};reactIs_production_min.isStrictMode=function(o){return z(o)===f};reactIs_production_min.isSuspense=function(o){return z(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m||o===g||o===f||o===p||o===q||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h||o.$$typeof===k||o.$$typeof===n||o.$$typeof===w||o.$$typeof===x||o.$$typeof===y||o.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;function toArray$1(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[];return React.Children.forEach(o,function(s){s==null&&!i.keepEmpty||(Array.isArray(s)?a=a.concat(toArray$1(s)):reactIsExports.isFragment(s)&&s.props?a=a.concat(toArray$1(s.props.children,i)):a.push(s))}),a}var warned={},preMessage=function o(i){};function warning$2(o,i){}function note(o,i){}function resetWarned(){warned={}}function call(o,i,a){!i&&!warned[a]&&(o(!1,a),warned[a]=!0)}function warningOnce(o,i){call(warning$2,o,i)}function noteOnce(o,i){call(note,o,i)}warningOnce.preMessage=preMessage;warningOnce.resetWarned=resetWarned;warningOnce.noteOnce=noteOnce;function _defineProperty(o,i,a){return i=_toPropertyKey(i),i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}function ownKeys(o,i){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);i&&(s=s.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),a.push.apply(a,s)}return a}function _objectSpread2(o){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(s){_defineProperty(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function useMemo(o,i,a){var s=reactExports.useRef({});return(!("value"in s.current)||a(s.current.condition,i))&&(s.current.value=o(),s.current.condition=i),s.current.value}function fillRef(o,i){typeof o=="function"?o(i):_typeof(o)==="object"&&o&&"current"in o&&(o.current=i)}function supportRef(o){var i,a,s=reactIsExports.isMemo(o)?o.type.type:o.type;return!(typeof s=="function"&&!((i=s.prototype)!==null&&i!==void 0&&i.render)||typeof o=="function"&&!((a=o.prototype)!==null&&a!==void 0&&a.render))}function isDOM(o){return o instanceof HTMLElement||o instanceof SVGElement}function findDOMNode(o){return isDOM(o)?o:o instanceof React.Component?ReactDOM.findDOMNode(o):null}function _arrayLikeToArray(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=o[a];return s}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _unsupportedIterableToArray(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(o,i)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableSpread()}var raf=function o(i){return+setTimeout(i,16)},caf=function o(i){return clearTimeout(i)};typeof window<"u"&&"requestAnimationFrame"in window&&(raf=function(i){return window.requestAnimationFrame(i)},caf=function(i){return window.cancelAnimationFrame(i)});var rafUUID=0,rafIds=new Map;function cleanup(o){rafIds.delete(o)}var wrapperRaf=function o(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;var s=rafUUID;function j(et){if(et===0)cleanup(s),i();else{var tt=raf(function(){j(et-1)});rafIds.set(s,tt)}}return j(a),s};wrapperRaf.cancel=function(o){var i=rafIds.get(o);return cleanup(i),caf(i)};function murmur2(o){for(var i=0,a,s=0,j=o.length;j>=4;++s,j-=4)a=o.charCodeAt(s)&255|(o.charCodeAt(++s)&255)<<8|(o.charCodeAt(++s)&255)<<16|(o.charCodeAt(++s)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,i=(a&65535)*1540483477+((a>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(j){case 3:i^=(o.charCodeAt(s+2)&255)<<16;case 2:i^=(o.charCodeAt(s+1)&255)<<8;case 1:i^=o.charCodeAt(s)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}function _objectWithoutPropertiesLoose(o,i){if(o==null)return{};var a={},s=Object.keys(o),j,et;for(et=0;et<s.length;et++)j=s[et],!(i.indexOf(j)>=0)&&(a[j]=o[j]);return a}function _objectWithoutProperties(o,i){if(o==null)return{};var a=_objectWithoutPropertiesLoose(o,i),s,j;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(o);for(j=0;j<et.length;j++)s=et[j],!(i.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(a[s]=o[s])}return a}function isEqual(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=new Set;function j(et,tt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,at=s.has(et);if(warningOnce(!at,"Warning: There may be circular references"),at)return!1;if(et===tt)return!0;if(a&&rt>1)return!1;s.add(et);var ot=rt+1;if(Array.isArray(et)){if(!Array.isArray(tt)||et.length!==tt.length)return!1;for(var st=0;st<et.length;st++)if(!j(et[st],tt[st],ot))return!1;return!0}if(et&&tt&&_typeof(et)==="object"&&_typeof(tt)==="object"){var _e=Object.keys(et);return _e.length!==Object.keys(tt).length?!1:_e.every(function($){return j(et[$],tt[$],ot)})}return!1}return j(o,i)}var Entity=function(){function o(i){_classCallCheck(this,o),_defineProperty(this,"instanceId",void 0),_defineProperty(this,"cache",new Map),this.instanceId=i}return _createClass(o,[{key:"get",value:function(a){return this.cache.get(a.join("%"))||null}},{key:"update",value:function(a,s){var j=a.join("%"),et=this.cache.get(j),tt=s(et);tt===null?this.cache.delete(j):this.cache.set(j,tt)}}]),o}(),ATTR_TOKEN="data-token-hash",ATTR_MARK="data-css-hash",CSS_IN_JS_INSTANCE="__cssinjs_instance__";function createCache(){var o=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var i=document.body.querySelectorAll("style[".concat(ATTR_MARK,"]"))||[],a=document.head.firstChild;Array.from(i).forEach(function(j){j[CSS_IN_JS_INSTANCE]=j[CSS_IN_JS_INSTANCE]||o,j[CSS_IN_JS_INSTANCE]===o&&document.head.insertBefore(j,a)});var s={};Array.from(document.querySelectorAll("style[".concat(ATTR_MARK,"]"))).forEach(function(j){var et=j.getAttribute(ATTR_MARK);if(s[et]){if(j[CSS_IN_JS_INSTANCE]===o){var tt;(tt=j.parentNode)===null||tt===void 0||tt.removeChild(j)}}else s[et]=!0})}return new Entity(o)}var StyleContext=reactExports.createContext({hashPriority:"low",cache:createCache(),defaultCache:!0});const StyleContext$1=StyleContext;function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains(o,i){if(!o)return!1;if(o.contains)return o.contains(i);for(var a=i;a;){if(a===o)return!0;a=a.parentNode}return!1}var APPEND_ORDER="data-rc-order",MARK_KEY="rc-util-key",containerCache=new Map;function getMark(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=o.mark;return i?i.startsWith("data-")?i:"data-".concat(i):MARK_KEY}function getContainer(o){if(o.attachTo)return o.attachTo;var i=document.querySelector("head");return i||document.body}function getOrder(o){return o==="queue"?"prependQueue":o?"prepend":"append"}function findStyles(o){return Array.from((containerCache.get(o)||o).children).filter(function(i){return i.tagName==="STYLE"})}function injectCSS(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var a=i.csp,s=i.prepend,j=document.createElement("style");j.setAttribute(APPEND_ORDER,getOrder(s)),a!=null&&a.nonce&&(j.nonce=a==null?void 0:a.nonce),j.innerHTML=o;var et=getContainer(i),tt=et.firstChild;if(s){if(s==="queue"){var rt=findStyles(et).filter(function(at){return["prepend","prependQueue"].includes(at.getAttribute(APPEND_ORDER))});if(rt.length)return et.insertBefore(j,rt[rt.length-1].nextSibling),j}et.insertBefore(j,tt)}else et.appendChild(j);return j}function findExistNode(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=getContainer(i);return findStyles(a).find(function(s){return s.getAttribute(getMark(i))===o})}function removeCSS(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=findExistNode(o,i);if(a){var s=getContainer(i);s.removeChild(a)}}function syncRealContainer(o,i){var a=containerCache.get(o);if(!a||!contains(document,a)){var s=injectCSS("",i),j=s.parentNode;containerCache.set(o,j),o.removeChild(s)}}function updateCSS(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=getContainer(a);syncRealContainer(s,a);var j=findExistNode(i,a);if(j){var et,tt;if((et=a.csp)!==null&&et!==void 0&&et.nonce&&j.nonce!==((tt=a.csp)===null||tt===void 0?void 0:tt.nonce)){var rt;j.nonce=(rt=a.csp)===null||rt===void 0?void 0:rt.nonce}return j.innerHTML!==o&&(j.innerHTML=o),j}var at=injectCSS(o,a);return at.setAttribute(getMark(a),i),at}function flattenToken(o){var i="";return Object.keys(o).forEach(function(a){var s=o[a];i+=a,s&&_typeof(s)==="object"?i+=flattenToken(s):i+=s}),i}function token2key(o,i){return murmur2("".concat(i,"_").concat(flattenToken(o)))}var layerKey="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),layerWidth="903px";function supportSelector(o,i){if(canUseDom()){var a;updateCSS(o,layerKey);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",i==null||i(s),document.body.appendChild(s);var j=getComputedStyle(s).width===layerWidth;return(a=s.parentNode)===null||a===void 0||a.removeChild(s),removeCSS(layerKey),j}return!1}var canLayer=void 0;function supportLayer(){return canLayer===void 0&&(canLayer=supportSelector("@layer ".concat(layerKey," { .").concat(layerKey," { width: ").concat(layerWidth,"!important; } }"),function(o){o.className=layerKey})),canLayer}function _arrayWithHoles(o){if(Array.isArray(o))return o}function _iterableToArrayLimit(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var s,j,et,tt,rt=[],at=!0,ot=!1;try{if(et=(a=a.call(o)).next,i===0){if(Object(a)!==a)return;at=!1}else for(;!(at=(s=et.call(a)).done)&&(rt.push(s.value),rt.length!==i);at=!0);}catch(st){ot=!0,j=st}finally{try{if(!at&&a.return!=null&&(tt=a.return(),Object(tt)!==tt))return}finally{if(ot)throw j}}return rt}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(o,i){return _arrayWithHoles(o)||_iterableToArrayLimit(o,i)||_unsupportedIterableToArray(o,i)||_nonIterableRest()}function useClientCache(o,i,a,s){var j=reactExports.useContext(StyleContext$1),et=j.cache,tt=[o].concat(_toConsumableArray(i));return reactExports.useMemo(function(){et.update(tt,function(rt){var at=rt||[],ot=_slicedToArray(at,2),st=ot[0],_e=st===void 0?0:st,$=ot[1],nt=$,it=nt||a();return[_e+1,it]})},[tt.join("_")]),reactExports.useEffect(function(){return function(){et.update(tt,function(rt){var at=rt||[],ot=_slicedToArray(at,2),st=ot[0],_e=st===void 0?0:st,$=ot[1],nt=_e-1;return nt===0?(s==null||s($,!1),null):[_e-1,$]})}},tt),et.get(tt)[1]}var EMPTY_OVERRIDE={},hashPrefix="css",tokenKeys=new Map;function recordCleanToken(o){tokenKeys.set(o,(tokenKeys.get(o)||0)+1)}function removeStyleTags(o,i){if(typeof document<"u"){var a=document.querySelectorAll("style[".concat(ATTR_TOKEN,'="').concat(o,'"]'));a.forEach(function(s){if(s[CSS_IN_JS_INSTANCE]===i){var j;(j=s.parentNode)===null||j===void 0||j.removeChild(s)}})}}function cleanTokenStyle(o,i){tokenKeys.set(o,(tokenKeys.get(o)||0)-1);var a=Array.from(tokenKeys.keys()),s=a.filter(function(j){var et=tokenKeys.get(j)||0;return et<=0});s.length<a.length&&s.forEach(function(j){removeStyleTags(j,i),tokenKeys.delete(j)})}var getComputedToken=function o(i,a,s,j){var et=s.getDerivativeToken(i),tt=_objectSpread2(_objectSpread2({},et),a);return j&&(tt=j(tt)),tt};function useCacheToken(o,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=reactExports.useContext(StyleContext$1),j=s.cache.instanceId,et=a.salt,tt=et===void 0?"":et,rt=a.override,at=rt===void 0?EMPTY_OVERRIDE:rt,ot=a.formatToken,st=reactExports.useMemo(function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(i)))},[i]),_e=reactExports.useMemo(function(){return flattenToken(st)},[st]),$=reactExports.useMemo(function(){return flattenToken(at)},[at]),nt=useClientCache("token",[tt,o.id,_e,$],function(){var it=getComputedToken(st,at,o,ot),lt=token2key(it,tt);it._tokenKey=lt,recordCleanToken(lt);var dt="".concat(hashPrefix,"-").concat(murmur2(lt));return it._hashId=dt,[it,dt]},function(it){cleanTokenStyle(it[0]._tokenKey,j)});return nt}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(o){return o.trim()}function replace(o,i,a){return o.replace(i,a)}function indexof(o,i){return o.indexOf(i)}function charat(o,i){return o.charCodeAt(i)|0}function substr(o,i,a){return o.slice(i,a)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,i){return i.push(o),o}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,i,a,s,j,et,tt){return{value:o,root:i,parent:a,type:s,props:j,children:et,line,column,length:tt,return:""}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,i){return substr(characters,o,i)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace$1(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,i){for(;next()&&o+character!==47+10;)if(o+character===42+42&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse(o,i,a,s,j,et,tt,rt,at){for(var ot=0,st=0,_e=tt,$=0,nt=0,it=0,lt=1,dt=1,ft=1,pt=0,ht="",gt=j,mt=et,yt=s,bt=ht;dt;)switch(it=pt,pt=next()){case 40:if(it!=108&&charat(bt,_e-1)==58){indexof(bt+=replace(delimit(pt),"&","&\f"),"&\f")!=-1&&(ft=-1);break}case 34:case 39:case 91:bt+=delimit(pt);break;case 9:case 10:case 13:case 32:bt+=whitespace$1(it);break;case 92:bt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,a),at);break;default:bt+="/"}break;case 123*lt:rt[ot++]=strlen(bt)*ft;case 125*lt:case 59:case 0:switch(pt){case 0:case 125:dt=0;case 59+st:ft==-1&&(bt=replace(bt,/\f/g,"")),nt>0&&strlen(bt)-_e&&append(nt>32?declaration(bt+";",s,a,_e-1):declaration(replace(bt," ","")+";",s,a,_e-2),at);break;case 59:bt+=";";default:if(append(yt=ruleset(bt,i,a,ot,st,j,rt,ht,gt=[],mt=[],_e),et),pt===123)if(st===0)parse(bt,i,yt,yt,gt,et,_e,rt,mt);else switch($===99&&charat(bt,3)===110?100:$){case 100:case 108:case 109:case 115:parse(o,yt,yt,s&&append(ruleset(o,yt,yt,0,0,j,rt,ht,j,gt=[],_e),mt),j,mt,_e,rt,s?gt:mt);break;default:parse(bt,yt,yt,yt,[""],mt,0,rt,mt)}}ot=st=nt=0,lt=ft=1,ht=bt="",_e=tt;break;case 58:_e=1+strlen(bt),nt=it;default:if(lt<1){if(pt==123)--lt;else if(pt==125&&lt++==0&&prev()==125)continue}switch(bt+=from(pt),pt*lt){case 38:ft=st>0?1:(bt+="\f",-1);break;case 44:rt[ot++]=(strlen(bt)-1)*ft,ft=1;break;case 64:peek()===45&&(bt+=delimit(next())),$=peek(),st=_e=strlen(ht=bt+=identifier(caret())),pt++;break;case 45:it===45&&strlen(bt)==2&&(lt=0)}}return et}function ruleset(o,i,a,s,j,et,tt,rt,at,ot,st){for(var _e=j-1,$=j===0?et:[""],nt=sizeof($),it=0,lt=0,dt=0;it<s;++it)for(var ft=0,pt=substr(o,_e+1,_e=abs(lt=tt[it])),ht=o;ft<nt;++ft)(ht=trim(lt>0?$[ft]+" "+pt:replace(pt,/&\f/g,$[ft])))&&(at[dt++]=ht);return node(o,i,a,j===0?RULESET:rt,at,ot,st)}function comment(o,i,a){return node(o,i,a,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,i,a,s){return node(o,i,a,DECLARATION,substr(o,0,s),substr(o,s+1,-1),s)}function serialize(o,i){for(var a="",s=sizeof(o),j=0;j<s;j++)a+=i(o[j],j,o,i)||"";return a}function stringify$1(o,i,a,s){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,s)+"}";case RULESET:o.value=o.props.join(",")}return strlen(a=serialize(o.children,s))?o.return=o.value+"{"+a+"}":""}var isClientSide=canUseDom(),SKIP_CHECK="_skip_check_",MULTI_VALUE="_multi_value_";function normalizeStyle(o){var i=serialize(compile(o),stringify$1);return i.replace(/\{%%%\:[^;];}/g,";")}function isCompoundCSSProperty(o){return _typeof(o)==="object"&&o&&(SKIP_CHECK in o||MULTI_VALUE in o)}function injectSelectorHash(o,i,a){if(!i)return o;var s=".".concat(i),j=a==="low"?":where(".concat(s,")"):s,et=o.split(",").map(function(tt){var rt,at=tt.trim().split(/\s+/),ot=at[0]||"",st=((rt=ot.match(/^\w+/))===null||rt===void 0?void 0:rt[0])||"";return ot="".concat(st).concat(j).concat(ot.slice(st.length)),[ot].concat(_toConsumableArray(at.slice(1))).join(" ")});return et.join(",")}var parseStyle=function o(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},j=s.root,et=s.injectHash,tt=s.parentSelectors,rt=a.hashId,at=a.layer;a.path;var ot=a.hashPriority,st=a.transformers,_e=st===void 0?[]:st;a.linters;var $="",nt={};function it(ht){var gt=ht.getName(rt);if(!nt[gt]){var mt=o(ht.style,a,{root:!1,parentSelectors:tt}),yt=_slicedToArray(mt,1),bt=yt[0];nt[gt]="@keyframes ".concat(ht.getName(rt)).concat(bt)}}function lt(ht){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ht.forEach(function(mt){Array.isArray(mt)?lt(mt,gt):mt&&gt.push(mt)}),gt}var dt=lt(Array.isArray(i)?i:[i]);if(dt.forEach(function(ht){var gt=typeof ht=="string"&&!j?{}:ht;if(typeof gt=="string")$+="".concat(gt,`
`);else if(gt._keyframe)it(gt);else{var mt=_e.reduce(function(yt,bt){var _t;return(bt==null||(_t=bt.visit)===null||_t===void 0?void 0:_t.call(bt,yt))||yt},gt);Object.keys(mt).forEach(function(yt){var bt=mt[yt];if(_typeof(bt)==="object"&&bt&&(yt!=="animationName"||!bt._keyframe)&&!isCompoundCSSProperty(bt)){var _t=!1,xt=yt.trim(),Et=!1;(j||et)&&rt?xt.startsWith("@")?_t=!0:xt=injectSelectorHash(yt,rt,ot):j&&!rt&&(xt==="&"||xt==="")&&(xt="",Et=!0);var Tt=o(bt,a,{root:Et,injectHash:_t,parentSelectors:[].concat(_toConsumableArray(tt),[xt])}),Pt=_slicedToArray(Tt,2),At=Pt[0],Ot=Pt[1];nt=_objectSpread2(_objectSpread2({},nt),Ot),$+="".concat(xt).concat(At)}else{let Ft=function(Ut,zt){var Wt=Ut.replace(/[A-Z]/g,function(un){return"-".concat(un.toLowerCase())}),Qt=zt;!unitlessKeys[Ut]&&typeof Qt=="number"&&Qt!==0&&(Qt="".concat(Qt,"px")),Ut==="animationName"&&zt!==null&&zt!==void 0&&zt._keyframe&&(it(zt),Qt=zt.getName(rt)),$+="".concat(Wt,":").concat(Qt,";")};var kt=Ft,It,$t=(It=bt==null?void 0:bt.value)!==null&&It!==void 0?It:bt;_typeof(bt)==="object"&&bt!==null&&bt!==void 0&&bt[MULTI_VALUE]&&Array.isArray($t)?$t.forEach(function(Ut){Ft(yt,Ut)}):Ft(yt,$t)}})}}),!j)$="{".concat($,"}");else if(at&&supportLayer()){var ft=at.split(","),pt=ft[ft.length-1].trim();$="@layer ".concat(pt," {").concat($,"}"),ft.length>1&&($="@layer ".concat(at,"{%%%:%}").concat($))}return[$,nt]};function uniqueHash(o,i){return murmur2("".concat(o.join("%")).concat(i))}function Empty(){return null}function useStyleRegister(o,i){var a=o.token,s=o.path,j=o.hashId,et=o.layer,tt=o.nonce,rt=reactExports.useContext(StyleContext$1),at=rt.autoClear;rt.mock;var ot=rt.defaultCache,st=rt.hashPriority,_e=rt.container,$=rt.ssrInline,nt=rt.transformers,it=rt.linters,lt=rt.cache,dt=a._tokenKey,ft=[dt].concat(_toConsumableArray(s)),pt=isClientSide,ht=useClientCache("style",ft,function(){var _t=i(),xt=parseStyle(_t,{hashId:j,hashPriority:st,layer:et,path:s.join("-"),transformers:nt,linters:it}),Et=_slicedToArray(xt,2),Tt=Et[0],Pt=Et[1],At=normalizeStyle(Tt),Ot=uniqueHash(ft,At);if(pt){var It={mark:ATTR_MARK,prepend:"queue",attachTo:_e},$t=typeof tt=="function"?tt():tt;$t&&(It.csp={nonce:$t});var kt=updateCSS(At,Ot,It);kt[CSS_IN_JS_INSTANCE]=lt.instanceId,kt.setAttribute(ATTR_TOKEN,dt),Object.keys(Pt).forEach(function(Ft){updateCSS(normalizeStyle(Pt[Ft]),"_effect-".concat(Ft),It)})}return[At,dt,Ot]},function(_t,xt){var Et=_slicedToArray(_t,3),Tt=Et[2];(xt||at)&&isClientSide&&removeCSS(Tt,{mark:ATTR_MARK})}),gt=_slicedToArray(ht,3),mt=gt[0],yt=gt[1],bt=gt[2];return function(_t){var xt;if(!$||pt||!ot)xt=reactExports.createElement(Empty,null);else{var Et;xt=reactExports.createElement("style",_extends$1({},(Et={},_defineProperty(Et,ATTR_TOKEN,yt),_defineProperty(Et,ATTR_MARK,bt),Et),{dangerouslySetInnerHTML:{__html:mt}}))}return reactExports.createElement(reactExports.Fragment,null,xt,_t)}}var Keyframe=function(){function o(i,a){_classCallCheck(this,o),_defineProperty(this,"name",void 0),_defineProperty(this,"style",void 0),_defineProperty(this,"_keyframe",!0),this.name=i,this.style=a}return _createClass(o,[{key:"getName",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return a?"".concat(a,"-").concat(this.name):this.name}}]),o}();function sameDerivativeOption(o,i){if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(o[a]!==i[a])return!1;return!0}var ThemeCache=function(){function o(){_classCallCheck(this,o),_defineProperty(this,"cache",void 0),_defineProperty(this,"keys",void 0),_defineProperty(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return _createClass(o,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(a){var s,j,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tt={map:this.cache};return a.forEach(function(rt){if(!tt)tt=void 0;else{var at,ot;tt=(at=tt)===null||at===void 0||(ot=at.map)===null||ot===void 0?void 0:ot.get(rt)}}),(s=tt)!==null&&s!==void 0&&s.value&&et&&(tt.value[1]=this.cacheCallTimes++),(j=tt)===null||j===void 0?void 0:j.value}},{key:"get",value:function(a){var s;return(s=this.internalGet(a,!0))===null||s===void 0?void 0:s[0]}},{key:"has",value:function(a){return!!this.internalGet(a)}},{key:"set",value:function(a,s){var j=this;if(!this.has(a)){if(this.size()+1>o.MAX_CACHE_SIZE+o.MAX_CACHE_OFFSET){var et=this.keys.reduce(function(ot,st){var _e=_slicedToArray(ot,2),$=_e[1];return j.internalGet(st)[1]<$?[st,j.internalGet(st)[1]]:ot},[this.keys[0],this.cacheCallTimes]),tt=_slicedToArray(et,1),rt=tt[0];this.delete(rt)}this.keys.push(a)}var at=this.cache;a.forEach(function(ot,st){if(st===a.length-1)at.set(ot,{value:[s,j.cacheCallTimes++]});else{var _e=at.get(ot);_e?_e.map||(_e.map=new Map):at.set(ot,{map:new Map}),at=at.get(ot).map}})}},{key:"deleteByPath",value:function(a,s){var j=a.get(s[0]);if(s.length===1){var et;return j.map?a.set(s[0],{map:j.map}):a.delete(s[0]),(et=j.value)===null||et===void 0?void 0:et[0]}var tt=this.deleteByPath(j.map,s.slice(1));return(!j.map||j.map.size===0)&&!j.value&&a.delete(s[0]),tt}},{key:"delete",value:function(a){if(this.has(a))return this.keys=this.keys.filter(function(s){return!sameDerivativeOption(s,a)}),this.deleteByPath(this.cache,a)}}]),o}();_defineProperty(ThemeCache,"MAX_CACHE_SIZE",20);_defineProperty(ThemeCache,"MAX_CACHE_OFFSET",5);var uuid=0,Theme=function(){function o(i){_classCallCheck(this,o),_defineProperty(this,"derivatives",void 0),_defineProperty(this,"id",void 0),this.derivatives=Array.isArray(i)?i:[i],this.id=uuid,i.length===0&&(i.length>0,void 0),uuid+=1}return _createClass(o,[{key:"getDerivativeToken",value:function(a){return this.derivatives.reduce(function(s,j){return j(a,s)},void 0)}}]),o}(),cacheThemes=new ThemeCache;function createTheme(o){var i=Array.isArray(o)?o:[o];return cacheThemes.has(i)||cacheThemes.set(i,new Theme(i)),cacheThemes.get(i)}function noSplit(o){return o.notSplit=!0,o}noSplit(["borderTop","borderBottom"]),noSplit(["borderTop"]),noSplit(["borderBottom"]),noSplit(["borderLeft","borderRight"]),noSplit(["borderLeft"]),noSplit(["borderRight"]);var IconContext=reactExports.createContext({});const Context$2=IconContext;function _toArray(o){return _arrayWithHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableRest()}function get(o,i){for(var a=o,s=0;s<i.length;s+=1){if(a==null)return;a=a[i[s]]}return a}function internalSet(o,i,a,s){if(!i.length)return a;var j=_toArray(i),et=j[0],tt=j.slice(1),rt;return!o&&typeof et=="number"?rt=[]:Array.isArray(o)?rt=_toConsumableArray(o):rt=_objectSpread2({},o),s&&a===void 0&&tt.length===1?delete rt[et][tt[0]]:rt[et]=internalSet(rt[et],tt,a,s),rt}function set(o,i,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return i.length&&s&&a===void 0&&!get(o,i.slice(0,-1))?o:internalSet(o,i,a,s)}function isObject(o){return _typeof(o)==="object"&&o!==null&&Object.getPrototypeOf(o)===Object.prototype}function createEmpty(o){return Array.isArray(o)?[]:{}}function merge$1(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=createEmpty(i[0]);return i.forEach(function(j){function et(tt,rt){var at=new Set(rt),ot=get(j,tt),st=Array.isArray(ot);if(st||isObject(ot)){if(!at.has(ot)){at.add(ot);var _e=get(s,tt);st?s=set(s,tt,[]):(!_e||_typeof(_e)!=="object")&&(s=set(s,tt,createEmpty(ot))),Object.keys(ot).forEach(function($){et([].concat(_toConsumableArray(tt),[$]),at)})}}else s=set(s,tt,ot)}et([])}),s}var HOOK_MARK="RC_FORM_INTERNAL_HOOKS",warningFunc=function o(){warningOnce(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Context$1=reactExports.createContext({getFieldValue:warningFunc,getFieldsValue:warningFunc,getFieldError:warningFunc,getFieldWarning:warningFunc,getFieldsError:warningFunc,isFieldsTouched:warningFunc,isFieldTouched:warningFunc,isFieldValidating:warningFunc,isFieldsValidating:warningFunc,resetFields:warningFunc,setFields:warningFunc,setFieldValue:warningFunc,setFieldsValue:warningFunc,validateFields:warningFunc,submit:warningFunc,getInternalHooks:function o(){return warningFunc(),{dispatch:warningFunc,initEntityValue:warningFunc,registerField:warningFunc,useSubscribe:warningFunc,setInitialValues:warningFunc,destroyForm:warningFunc,setCallbacks:warningFunc,registerWatch:warningFunc,getFields:warningFunc,setValidateMessages:warningFunc,setPreserve:warningFunc,getInitialValue:warningFunc}}}),ListContext=reactExports.createContext(null);function toArray(o){return o==null?[]:Array.isArray(o)?o:[o]}function isFormInstance(o){return o&&!!o._init}function _regeneratorRuntime(){_regeneratorRuntime=function(){return o};var o={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(Pt,At,Ot){Pt[At]=Ot.value},j=typeof Symbol=="function"?Symbol:{},et=j.iterator||"@@iterator",tt=j.asyncIterator||"@@asyncIterator",rt=j.toStringTag||"@@toStringTag";function at(Pt,At,Ot){return Object.defineProperty(Pt,At,{value:Ot,enumerable:!0,configurable:!0,writable:!0}),Pt[At]}try{at({},"")}catch{at=function(Ot,It,$t){return Ot[It]=$t}}function ot(Pt,At,Ot,It){var $t=At&&At.prototype instanceof $?At:$,kt=Object.create($t.prototype),Ft=new xt(It||[]);return s(kt,"_invoke",{value:mt(Pt,Ot,Ft)}),kt}function st(Pt,At,Ot){try{return{type:"normal",arg:Pt.call(At,Ot)}}catch(It){return{type:"throw",arg:It}}}o.wrap=ot;var _e={};function $(){}function nt(){}function it(){}var lt={};at(lt,et,function(){return this});var dt=Object.getPrototypeOf,ft=dt&&dt(dt(Et([])));ft&&ft!==i&&a.call(ft,et)&&(lt=ft);var pt=it.prototype=$.prototype=Object.create(lt);function ht(Pt){["next","throw","return"].forEach(function(At){at(Pt,At,function(Ot){return this._invoke(At,Ot)})})}function gt(Pt,At){function Ot($t,kt,Ft,Ut){var zt=st(Pt[$t],Pt,kt);if(zt.type!=="throw"){var Wt=zt.arg,Qt=Wt.value;return Qt&&_typeof(Qt)=="object"&&a.call(Qt,"__await")?At.resolve(Qt.__await).then(function(un){Ot("next",un,Ft,Ut)},function(un){Ot("throw",un,Ft,Ut)}):At.resolve(Qt).then(function(un){Wt.value=un,Ft(Wt)},function(un){return Ot("throw",un,Ft,Ut)})}Ut(zt.arg)}var It;s(this,"_invoke",{value:function(kt,Ft){function Ut(){return new At(function(zt,Wt){Ot(kt,Ft,zt,Wt)})}return It=It?It.then(Ut,Ut):Ut()}})}function mt(Pt,At,Ot){var It="suspendedStart";return function($t,kt){if(It==="executing")throw new Error("Generator is already running");if(It==="completed"){if($t==="throw")throw kt;return Tt()}for(Ot.method=$t,Ot.arg=kt;;){var Ft=Ot.delegate;if(Ft){var Ut=yt(Ft,Ot);if(Ut){if(Ut===_e)continue;return Ut}}if(Ot.method==="next")Ot.sent=Ot._sent=Ot.arg;else if(Ot.method==="throw"){if(It==="suspendedStart")throw It="completed",Ot.arg;Ot.dispatchException(Ot.arg)}else Ot.method==="return"&&Ot.abrupt("return",Ot.arg);It="executing";var zt=st(Pt,At,Ot);if(zt.type==="normal"){if(It=Ot.done?"completed":"suspendedYield",zt.arg===_e)continue;return{value:zt.arg,done:Ot.done}}zt.type==="throw"&&(It="completed",Ot.method="throw",Ot.arg=zt.arg)}}}function yt(Pt,At){var Ot=At.method,It=Pt.iterator[Ot];if(It===void 0)return At.delegate=null,Ot==="throw"&&Pt.iterator.return&&(At.method="return",At.arg=void 0,yt(Pt,At),At.method==="throw")||Ot!=="return"&&(At.method="throw",At.arg=new TypeError("The iterator does not provide a '"+Ot+"' method")),_e;var $t=st(It,Pt.iterator,At.arg);if($t.type==="throw")return At.method="throw",At.arg=$t.arg,At.delegate=null,_e;var kt=$t.arg;return kt?kt.done?(At[Pt.resultName]=kt.value,At.next=Pt.nextLoc,At.method!=="return"&&(At.method="next",At.arg=void 0),At.delegate=null,_e):kt:(At.method="throw",At.arg=new TypeError("iterator result is not an object"),At.delegate=null,_e)}function bt(Pt){var At={tryLoc:Pt[0]};1 in Pt&&(At.catchLoc=Pt[1]),2 in Pt&&(At.finallyLoc=Pt[2],At.afterLoc=Pt[3]),this.tryEntries.push(At)}function _t(Pt){var At=Pt.completion||{};At.type="normal",delete At.arg,Pt.completion=At}function xt(Pt){this.tryEntries=[{tryLoc:"root"}],Pt.forEach(bt,this),this.reset(!0)}function Et(Pt){if(Pt){var At=Pt[et];if(At)return At.call(Pt);if(typeof Pt.next=="function")return Pt;if(!isNaN(Pt.length)){var Ot=-1,It=function $t(){for(;++Ot<Pt.length;)if(a.call(Pt,Ot))return $t.value=Pt[Ot],$t.done=!1,$t;return $t.value=void 0,$t.done=!0,$t};return It.next=It}}return{next:Tt}}function Tt(){return{value:void 0,done:!0}}return nt.prototype=it,s(pt,"constructor",{value:it,configurable:!0}),s(it,"constructor",{value:nt,configurable:!0}),nt.displayName=at(it,rt,"GeneratorFunction"),o.isGeneratorFunction=function(Pt){var At=typeof Pt=="function"&&Pt.constructor;return!!At&&(At===nt||(At.displayName||At.name)==="GeneratorFunction")},o.mark=function(Pt){return Object.setPrototypeOf?Object.setPrototypeOf(Pt,it):(Pt.__proto__=it,at(Pt,rt,"GeneratorFunction")),Pt.prototype=Object.create(pt),Pt},o.awrap=function(Pt){return{__await:Pt}},ht(gt.prototype),at(gt.prototype,tt,function(){return this}),o.AsyncIterator=gt,o.async=function(Pt,At,Ot,It,$t){$t===void 0&&($t=Promise);var kt=new gt(ot(Pt,At,Ot,It),$t);return o.isGeneratorFunction(At)?kt:kt.next().then(function(Ft){return Ft.done?Ft.value:kt.next()})},ht(pt),at(pt,rt,"Generator"),at(pt,et,function(){return this}),at(pt,"toString",function(){return"[object Generator]"}),o.keys=function(Pt){var At=Object(Pt),Ot=[];for(var It in At)Ot.push(It);return Ot.reverse(),function $t(){for(;Ot.length;){var kt=Ot.pop();if(kt in At)return $t.value=kt,$t.done=!1,$t}return $t.done=!0,$t}},o.values=Et,xt.prototype={constructor:xt,reset:function(At){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_t),!At)for(var Ot in this)Ot.charAt(0)==="t"&&a.call(this,Ot)&&!isNaN(+Ot.slice(1))&&(this[Ot]=void 0)},stop:function(){this.done=!0;var At=this.tryEntries[0].completion;if(At.type==="throw")throw At.arg;return this.rval},dispatchException:function(At){if(this.done)throw At;var Ot=this;function It(Wt,Qt){return Ft.type="throw",Ft.arg=At,Ot.next=Wt,Qt&&(Ot.method="next",Ot.arg=void 0),!!Qt}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var kt=this.tryEntries[$t],Ft=kt.completion;if(kt.tryLoc==="root")return It("end");if(kt.tryLoc<=this.prev){var Ut=a.call(kt,"catchLoc"),zt=a.call(kt,"finallyLoc");if(Ut&&zt){if(this.prev<kt.catchLoc)return It(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return It(kt.finallyLoc)}else if(Ut){if(this.prev<kt.catchLoc)return It(kt.catchLoc,!0)}else{if(!zt)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return It(kt.finallyLoc)}}}},abrupt:function(At,Ot){for(var It=this.tryEntries.length-1;It>=0;--It){var $t=this.tryEntries[It];if($t.tryLoc<=this.prev&&a.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var kt=$t;break}}kt&&(At==="break"||At==="continue")&&kt.tryLoc<=Ot&&Ot<=kt.finallyLoc&&(kt=null);var Ft=kt?kt.completion:{};return Ft.type=At,Ft.arg=Ot,kt?(this.method="next",this.next=kt.finallyLoc,_e):this.complete(Ft)},complete:function(At,Ot){if(At.type==="throw")throw At.arg;return At.type==="break"||At.type==="continue"?this.next=At.arg:At.type==="return"?(this.rval=this.arg=At.arg,this.method="return",this.next="end"):At.type==="normal"&&Ot&&(this.next=Ot),_e},finish:function(At){for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var It=this.tryEntries[Ot];if(It.finallyLoc===At)return this.complete(It.completion,It.afterLoc),_t(It),_e}},catch:function(At){for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var It=this.tryEntries[Ot];if(It.tryLoc===At){var $t=It.completion;if($t.type==="throw"){var kt=$t.arg;_t(It)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(At,Ot,It){return this.delegate={iterator:Et(At),resultName:Ot,nextLoc:It},this.method==="next"&&(this.arg=void 0),_e}},o}function asyncGeneratorStep(o,i,a,s,j,et,tt){try{var rt=o[et](tt),at=rt.value}catch(ot){a(ot);return}rt.done?i(at):Promise.resolve(at).then(s,j)}function _asyncToGenerator(o){return function(){var i=this,a=arguments;return new Promise(function(s,j){var et=o.apply(i,a);function tt(at){asyncGeneratorStep(et,s,j,tt,rt,"next",at)}function rt(at){asyncGeneratorStep(et,s,j,tt,rt,"throw",at)}tt(void 0)})}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},_extends.apply(this,arguments)}function _inheritsLoose(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,_setPrototypeOf(o,i)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(o)}function _setPrototypeOf(o,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,j){return s.__proto__=j,s},_setPrototypeOf(o,i)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(o,i,a){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(j,et,tt){var rt=[null];rt.push.apply(rt,et);var at=Function.bind.apply(j,rt),ot=new at;return tt&&_setPrototypeOf(ot,tt.prototype),ot},_construct.apply(null,arguments)}function _isNativeFunction(o){return Function.toString.call(o).indexOf("[native code]")!==-1}function _wrapNativeSuper(o){var i=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(s){if(s===null||!_isNativeFunction(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof i<"u"){if(i.has(s))return i.get(s);i.set(s,j)}function j(){return _construct(s,arguments,_getPrototypeOf(this).constructor)}return j.prototype=Object.create(s.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(j,s)},_wrapNativeSuper(o)}var formatRegExp=/%[sdj%]/g,warning$1=function o(){};typeof process<"u";function convertFieldsError(o){if(!o||!o.length)return null;var i={};return o.forEach(function(a){var s=a.field;i[s]=i[s]||[],i[s].push(a)}),i}function format(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var j=0,et=a.length;if(typeof o=="function")return o.apply(null,a);if(typeof o=="string"){var tt=o.replace(formatRegExp,function(rt){if(rt==="%%")return"%";if(j>=et)return rt;switch(rt){case"%s":return String(a[j++]);case"%d":return Number(a[j++]);case"%j":try{return JSON.stringify(a[j++])}catch{return"[Circular]"}break;default:return rt}});return tt}return o}function isNativeStringType(o){return o==="string"||o==="url"||o==="hex"||o==="email"||o==="date"||o==="pattern"}function isEmptyValue(o,i){return!!(o==null||i==="array"&&Array.isArray(o)&&!o.length||isNativeStringType(i)&&typeof o=="string"&&!o)}function asyncParallelArray(o,i,a){var s=[],j=0,et=o.length;function tt(rt){s.push.apply(s,rt||[]),j++,j===et&&a(s)}o.forEach(function(rt){i(rt,tt)})}function asyncSerialArray(o,i,a){var s=0,j=o.length;function et(tt){if(tt&&tt.length){a(tt);return}var rt=s;s=s+1,rt<j?i(o[rt],et):a([])}et([])}function flattenObjArr(o){var i=[];return Object.keys(o).forEach(function(a){i.push.apply(i,o[a]||[])}),i}var AsyncValidationError=function(o){_inheritsLoose(i,o);function i(a,s){var j;return j=o.call(this,"Async Validation Error")||this,j.errors=a,j.fields=s,j}return i}(_wrapNativeSuper(Error));function asyncMap(o,i,a,s,j){if(i.first){var et=new Promise(function($,nt){var it=function(ft){return s(ft),ft.length?nt(new AsyncValidationError(ft,convertFieldsError(ft))):$(j)},lt=flattenObjArr(o);asyncSerialArray(lt,a,it)});return et.catch(function($){return $}),et}var tt=i.firstFields===!0?Object.keys(o):i.firstFields||[],rt=Object.keys(o),at=rt.length,ot=0,st=[],_e=new Promise(function($,nt){var it=function(dt){if(st.push.apply(st,dt),ot++,ot===at)return s(st),st.length?nt(new AsyncValidationError(st,convertFieldsError(st))):$(j)};rt.length||(s(st),$(j)),rt.forEach(function(lt){var dt=o[lt];tt.indexOf(lt)!==-1?asyncSerialArray(dt,a,it):asyncParallelArray(dt,a,it)})});return _e.catch(function($){return $}),_e}function isErrorObj(o){return!!(o&&o.message!==void 0)}function getValue$1(o,i){for(var a=o,s=0;s<i.length;s++){if(a==null)return a;a=a[i[s]]}return a}function complementError(o,i){return function(a){var s;return o.fullFields?s=getValue$1(i,o.fullFields):s=i[a.field||o.fullField],isErrorObj(a)?(a.field=a.field||o.fullField,a.fieldValue=s,a):{message:typeof a=="function"?a():a,fieldValue:s,field:a.field||o.fullField}}}function deepMerge(o,i){if(i){for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];typeof s=="object"&&typeof o[a]=="object"?o[a]=_extends({},o[a],s):o[a]=s}}return o}var required$1=function o(i,a,s,j,et,tt){i.required&&(!s.hasOwnProperty(i.field)||isEmptyValue(a,tt||i.type))&&j.push(format(et.messages.required,i.fullField))},whitespace=function o(i,a,s,j,et){(/^\s+$/.test(a)||a==="")&&j.push(format(et.messages.whitespace,i.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var o="[a-fA-F\\d:]",i=function(gt){return gt&&gt.includeBoundaries?"(?:(?<=\\s|^)(?="+o+")|(?<="+o+")(?=\\s|$))":""},a="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",j=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+a+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+a+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+a+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+a+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+a+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+a+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+a+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),et=new RegExp("(?:^"+a+"$)|(?:^"+j+"$)"),tt=new RegExp("^"+a+"$"),rt=new RegExp("^"+j+"$"),at=function(gt){return gt&&gt.exact?et:new RegExp("(?:"+i(gt)+a+i(gt)+")|(?:"+i(gt)+j+i(gt)+")","g")};at.v4=function(ht){return ht&&ht.exact?tt:new RegExp(""+i(ht)+a+i(ht),"g")},at.v6=function(ht){return ht&&ht.exact?rt:new RegExp(""+i(ht)+j+i(ht),"g")};var ot="(?:(?:[a-z]+:)?//)",st="(?:\\S+(?::\\S*)?@)?",_e=at.v4().source,$=at.v6().source,nt="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",it="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",lt="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",dt="(?::\\d{2,5})?",ft='(?:[/?#][^\\s"]*)?',pt="(?:"+ot+"|www\\.)"+st+"(?:localhost|"+_e+"|"+$+"|"+nt+it+lt+")"+dt+ft;return urlReg=new RegExp("(?:^"+pt+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function o(i){return types.number(i)&&parseInt(i,10)===i},float:function o(i){return types.number(i)&&!types.integer(i)},array:function o(i){return Array.isArray(i)},regexp:function o(i){if(i instanceof RegExp)return!0;try{return!!new RegExp(i)}catch{return!1}},date:function o(i){return typeof i.getTime=="function"&&typeof i.getMonth=="function"&&typeof i.getYear=="function"&&!isNaN(i.getTime())},number:function o(i){return isNaN(i)?!1:typeof i=="number"},object:function o(i){return typeof i=="object"&&!types.array(i)},method:function o(i){return typeof i=="function"},email:function o(i){return typeof i=="string"&&i.length<=320&&!!i.match(pattern$2.email)},url:function o(i){return typeof i=="string"&&i.length<=2048&&!!i.match(getUrlRegex())},hex:function o(i){return typeof i=="string"&&!!i.match(pattern$2.hex)}},type$1=function o(i,a,s,j,et){if(i.required&&a===void 0){required$1(i,a,s,j,et);return}var tt=["integer","float","array","regexp","object","method","email","number","date","url","hex"],rt=i.type;tt.indexOf(rt)>-1?types[rt](a)||j.push(format(et.messages.types[rt],i.fullField,i.type)):rt&&typeof a!==i.type&&j.push(format(et.messages.types[rt],i.fullField,i.type))},range=function o(i,a,s,j,et){var tt=typeof i.len=="number",rt=typeof i.min=="number",at=typeof i.max=="number",ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,st=a,_e=null,$=typeof a=="number",nt=typeof a=="string",it=Array.isArray(a);if($?_e="number":nt?_e="string":it&&(_e="array"),!_e)return!1;it&&(st=a.length),nt&&(st=a.replace(ot,"_").length),tt?st!==i.len&&j.push(format(et.messages[_e].len,i.fullField,i.len)):rt&&!at&&st<i.min?j.push(format(et.messages[_e].min,i.fullField,i.min)):at&&!rt&&st>i.max?j.push(format(et.messages[_e].max,i.fullField,i.max)):rt&&at&&(st<i.min||st>i.max)&&j.push(format(et.messages[_e].range,i.fullField,i.min,i.max))},ENUM$1="enum",enumerable$1=function o(i,a,s,j,et){i[ENUM$1]=Array.isArray(i[ENUM$1])?i[ENUM$1]:[],i[ENUM$1].indexOf(a)===-1&&j.push(format(et.messages[ENUM$1],i.fullField,i[ENUM$1].join(", ")))},pattern$1=function o(i,a,s,j,et){if(i.pattern){if(i.pattern instanceof RegExp)i.pattern.lastIndex=0,i.pattern.test(a)||j.push(format(et.messages.pattern.mismatch,i.fullField,a,i.pattern));else if(typeof i.pattern=="string"){var tt=new RegExp(i.pattern);tt.test(a)||j.push(format(et.messages.pattern.mismatch,i.fullField,a,i.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"string")&&!i.required)return s();rules.required(i,a,j,tt,et,"string"),isEmptyValue(a,"string")||(rules.type(i,a,j,tt,et),rules.range(i,a,j,tt,et),rules.pattern(i,a,j,tt,et),i.whitespace===!0&&rules.whitespace(i,a,j,tt,et))}s(tt)},method=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&rules.type(i,a,j,tt,et)}s(tt)},number=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(a===""&&(a=void 0),isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&(rules.type(i,a,j,tt,et),rules.range(i,a,j,tt,et))}s(tt)},_boolean=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&rules.type(i,a,j,tt,et)}s(tt)},regexp=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),isEmptyValue(a)||rules.type(i,a,j,tt,et)}s(tt)},integer=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&(rules.type(i,a,j,tt,et),rules.range(i,a,j,tt,et))}s(tt)},floatFn=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&(rules.type(i,a,j,tt,et),rules.range(i,a,j,tt,et))}s(tt)},array=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(a==null&&!i.required)return s();rules.required(i,a,j,tt,et,"array"),a!=null&&(rules.type(i,a,j,tt,et),rules.range(i,a,j,tt,et))}s(tt)},object=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&rules.type(i,a,j,tt,et)}s(tt)},ENUM="enum",enumerable=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et),a!==void 0&&rules[ENUM](i,a,j,tt,et)}s(tt)},pattern=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"string")&&!i.required)return s();rules.required(i,a,j,tt,et),isEmptyValue(a,"string")||rules.pattern(i,a,j,tt,et)}s(tt)},date=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a,"date")&&!i.required)return s();if(rules.required(i,a,j,tt,et),!isEmptyValue(a,"date")){var at;a instanceof Date?at=a:at=new Date(a),rules.type(i,at,j,tt,et),at&&rules.range(i,at.getTime(),j,tt,et)}}s(tt)},required=function o(i,a,s,j,et){var tt=[],rt=Array.isArray(a)?"array":typeof a;rules.required(i,a,j,tt,et,rt),s(tt)},type=function o(i,a,s,j,et){var tt=i.type,rt=[],at=i.required||!i.required&&j.hasOwnProperty(i.field);if(at){if(isEmptyValue(a,tt)&&!i.required)return s();rules.required(i,a,j,rt,et,tt),isEmptyValue(a,tt)||rules.type(i,a,j,rt,et)}s(rt)},any=function o(i,a,s,j,et){var tt=[],rt=i.required||!i.required&&j.hasOwnProperty(i.field);if(rt){if(isEmptyValue(a)&&!i.required)return s();rules.required(i,a,j,tt,et)}s(tt)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var i=JSON.parse(JSON.stringify(this));return i.clone=this.clone,i}}}var messages=newMessages(),Schema=function(){function o(a){this.rules=null,this._messages=messages,this.define(a)}var i=o.prototype;return i.define=function(s){var j=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(et){var tt=s[et];j.rules[et]=Array.isArray(tt)?tt:[tt]})},i.messages=function(s){return s&&(this._messages=deepMerge(newMessages(),s)),this._messages},i.validate=function(s,j,et){var tt=this;j===void 0&&(j={}),et===void 0&&(et=function(){});var rt=s,at=j,ot=et;if(typeof at=="function"&&(ot=at,at={}),!this.rules||Object.keys(this.rules).length===0)return ot&&ot(null,rt),Promise.resolve(rt);function st(lt){var dt=[],ft={};function pt(gt){if(Array.isArray(gt)){var mt;dt=(mt=dt).concat.apply(mt,gt)}else dt.push(gt)}for(var ht=0;ht<lt.length;ht++)pt(lt[ht]);dt.length?(ft=convertFieldsError(dt),ot(dt,ft)):ot(null,rt)}if(at.messages){var _e=this.messages();_e===messages&&(_e=newMessages()),deepMerge(_e,at.messages),at.messages=_e}else at.messages=this.messages();var $={},nt=at.keys||Object.keys(this.rules);nt.forEach(function(lt){var dt=tt.rules[lt],ft=rt[lt];dt.forEach(function(pt){var ht=pt;typeof ht.transform=="function"&&(rt===s&&(rt=_extends({},rt)),ft=rt[lt]=ht.transform(ft)),typeof ht=="function"?ht={validator:ht}:ht=_extends({},ht),ht.validator=tt.getValidationMethod(ht),ht.validator&&(ht.field=lt,ht.fullField=ht.fullField||lt,ht.type=tt.getType(ht),$[lt]=$[lt]||[],$[lt].push({rule:ht,value:ft,source:rt,field:lt}))})});var it={};return asyncMap($,at,function(lt,dt){var ft=lt.rule,pt=(ft.type==="object"||ft.type==="array")&&(typeof ft.fields=="object"||typeof ft.defaultField=="object");pt=pt&&(ft.required||!ft.required&&lt.value),ft.field=lt.field;function ht(yt,bt){return _extends({},bt,{fullField:ft.fullField+"."+yt,fullFields:ft.fullFields?[].concat(ft.fullFields,[yt]):[yt]})}function gt(yt){yt===void 0&&(yt=[]);var bt=Array.isArray(yt)?yt:[yt];!at.suppressWarning&&bt.length&&o.warning("async-validator:",bt),bt.length&&ft.message!==void 0&&(bt=[].concat(ft.message));var _t=bt.map(complementError(ft,rt));if(at.first&&_t.length)return it[ft.field]=1,dt(_t);if(!pt)dt(_t);else{if(ft.required&&!lt.value)return ft.message!==void 0?_t=[].concat(ft.message).map(complementError(ft,rt)):at.error&&(_t=[at.error(ft,format(at.messages.required,ft.field))]),dt(_t);var xt={};ft.defaultField&&Object.keys(lt.value).map(function(Pt){xt[Pt]=ft.defaultField}),xt=_extends({},xt,lt.rule.fields);var Et={};Object.keys(xt).forEach(function(Pt){var At=xt[Pt],Ot=Array.isArray(At)?At:[At];Et[Pt]=Ot.map(ht.bind(null,Pt))});var Tt=new o(Et);Tt.messages(at.messages),lt.rule.options&&(lt.rule.options.messages=at.messages,lt.rule.options.error=at.error),Tt.validate(lt.value,lt.rule.options||at,function(Pt){var At=[];_t&&_t.length&&At.push.apply(At,_t),Pt&&Pt.length&&At.push.apply(At,Pt),dt(At.length?At:null)})}}var mt;if(ft.asyncValidator)mt=ft.asyncValidator(ft,lt.value,gt,lt.source,at);else if(ft.validator){try{mt=ft.validator(ft,lt.value,gt,lt.source,at)}catch(yt){console.error==null||console.error(yt),at.suppressValidatorError||setTimeout(function(){throw yt},0),gt(yt.message)}mt===!0?gt():mt===!1?gt(typeof ft.message=="function"?ft.message(ft.fullField||ft.field):ft.message||(ft.fullField||ft.field)+" fails"):mt instanceof Array?gt(mt):mt instanceof Error&&gt(mt.message)}mt&&mt.then&&mt.then(function(){return gt()},function(yt){return gt(yt)})},function(lt){st(lt)},rt)},i.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!validators.hasOwnProperty(s.type))throw new Error(format("Unknown rule type %s",s.type));return s.type||"string"},i.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var j=Object.keys(s),et=j.indexOf("message");return et!==-1&&j.splice(et,1),j.length===1&&j[0]==="required"?validators.required:validators[this.getType(s)]||void 0},o}();Schema.register=function o(i,a){if(typeof a!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[i]=a};Schema.warning=warning$1;Schema.messages=messages;Schema.validators=validators;var typeTemplate$1="'${name}' is not a valid ${type}",defaultValidateMessages={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},AsyncValidator=Schema;function replaceMessage(o,i){return o.replace(/\$\{\w+\}/g,function(a){var s=a.slice(2,-1);return i[s]})}var CODE_LOGIC_ERROR="CODE_LOGIC_ERROR";function validateRule(o,i,a,s,j){return _validateRule.apply(this,arguments)}function _validateRule(){return _validateRule=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,a,s,j,et){var tt,rt,at,ot,st,_e,$,nt,it;return _regeneratorRuntime().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return tt=_objectSpread2({},s),delete tt.ruleIndex,AsyncValidator.warning=function(){},tt.validator&&(rt=tt.validator,tt.validator=function(){try{return rt.apply(void 0,arguments)}catch(ft){return console.error(ft),Promise.reject(CODE_LOGIC_ERROR)}}),at=null,tt&&tt.type==="array"&&tt.defaultField&&(at=tt.defaultField,delete tt.defaultField),ot=new AsyncValidator(_defineProperty({},i,[tt])),st=merge$1(defaultValidateMessages,j.validateMessages),ot.messages(st),_e=[],dt.prev=10,dt.next=13,Promise.resolve(ot.validate(_defineProperty({},i,a),_objectSpread2({},j)));case 13:dt.next=18;break;case 15:dt.prev=15,dt.t0=dt.catch(10),dt.t0.errors&&(_e=dt.t0.errors.map(function(ft,pt){var ht=ft.message,gt=ht===CODE_LOGIC_ERROR?st.default:ht;return reactExports.isValidElement(gt)?reactExports.cloneElement(gt,{key:"error_".concat(pt)}):gt}));case 18:if(!(!_e.length&&at)){dt.next=23;break}return dt.next=21,Promise.all(a.map(function(ft,pt){return validateRule("".concat(i,".").concat(pt),ft,at,j,et)}));case 21:return $=dt.sent,dt.abrupt("return",$.reduce(function(ft,pt){return[].concat(_toConsumableArray(ft),_toConsumableArray(pt))},[]));case 23:return nt=_objectSpread2(_objectSpread2({},s),{},{name:i,enum:(s.enum||[]).join(", ")},et),it=_e.map(function(ft){return typeof ft=="string"?replaceMessage(ft,nt):ft}),dt.abrupt("return",it);case 26:case"end":return dt.stop()}},o,null,[[10,15]])})),_validateRule.apply(this,arguments)}function validateRules(o,i,a,s,j,et){var tt=o.join("."),rt=a.map(function(st,_e){var $=st.validator,nt=_objectSpread2(_objectSpread2({},st),{},{ruleIndex:_e});return $&&(nt.validator=function(it,lt,dt){var ft=!1,pt=function(){for(var mt=arguments.length,yt=new Array(mt),bt=0;bt<mt;bt++)yt[bt]=arguments[bt];Promise.resolve().then(function(){warningOnce(!ft,"Your validator function has already return a promise. `callback` will be ignored."),ft||dt.apply(void 0,yt)})},ht=$(it,lt,pt);ft=ht&&typeof ht.then=="function"&&typeof ht.catch=="function",warningOnce(ft,"`callback` is deprecated. Please return a promise instead."),ft&&ht.then(function(){dt()}).catch(function(gt){dt(gt||" ")})}),nt}).sort(function(st,_e){var $=st.warningOnly,nt=st.ruleIndex,it=_e.warningOnly,lt=_e.ruleIndex;return!!$==!!it?nt-lt:$?1:-1}),at;if(j===!0)at=new Promise(function(){var st=_asyncToGenerator(_regeneratorRuntime().mark(function _e($,nt){var it,lt,dt;return _regeneratorRuntime().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:it=0;case 1:if(!(it<rt.length)){pt.next=12;break}return lt=rt[it],pt.next=5,validateRule(tt,i,lt,s,et);case 5:if(dt=pt.sent,!dt.length){pt.next=9;break}return nt([{errors:dt,rule:lt}]),pt.abrupt("return");case 9:it+=1,pt.next=1;break;case 12:$([]);case 13:case"end":return pt.stop()}},_e)}));return function(_e,$){return st.apply(this,arguments)}}());else{var ot=rt.map(function(st){return validateRule(tt,i,st,s,et).then(function(_e){return{errors:_e,rule:st}})});at=(j?finishOnFirstFailed(ot):finishOnAllFailed(ot)).then(function(st){return Promise.reject(st)})}return at.catch(function(st){return st}),at}function finishOnAllFailed(o){return _finishOnAllFailed.apply(this,arguments)}function _finishOnAllFailed(){return _finishOnAllFailed=_asyncToGenerator(_regeneratorRuntime().mark(function o(i){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Promise.all(i).then(function(j){var et,tt=(et=[]).concat.apply(et,_toConsumableArray(j));return tt}));case 1:case"end":return s.stop()}},o)})),_finishOnAllFailed.apply(this,arguments)}function finishOnFirstFailed(o){return _finishOnFirstFailed.apply(this,arguments)}function _finishOnFirstFailed(){return _finishOnFirstFailed=_asyncToGenerator(_regeneratorRuntime().mark(function o(i){var a;return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return a=0,j.abrupt("return",new Promise(function(et){i.forEach(function(tt){tt.then(function(rt){rt.errors.length&&et([rt]),a+=1,a===i.length&&et([])})})}));case 2:case"end":return j.stop()}},o)})),_finishOnFirstFailed.apply(this,arguments)}function getNamePath(o){return toArray(o)}function cloneByNamePathList(o,i){var a={};return i.forEach(function(s){var j=get(o,s);a=set(a,s,j)}),a}function containsNamePath(o,i){return o&&o.some(function(a){return matchNamePath(a,i)})}function matchNamePath(o,i){return!o||!i||o.length!==i.length?!1:o.every(function(a,s){return i[s]===a})}function isSimilar(o,i){if(o===i)return!0;if(!o&&i||o&&!i||!o||!i||_typeof(o)!=="object"||_typeof(i)!=="object")return!1;var a=Object.keys(o),s=Object.keys(i),j=new Set([].concat(a,s));return _toConsumableArray(j).every(function(et){var tt=o[et],rt=i[et];return typeof tt=="function"&&typeof rt=="function"?!0:tt===rt})}function defaultGetValueFromEvent(o){var i=arguments.length<=1?void 0:arguments[1];return i&&i.target&&_typeof(i.target)==="object"&&o in i.target?i.target[o]:i}function move(o,i,a){var s=o.length;if(i<0||i>=s||a<0||a>=s)return o;var j=o[i],et=i-a;return et>0?[].concat(_toConsumableArray(o.slice(0,a)),[j],_toConsumableArray(o.slice(a,i)),_toConsumableArray(o.slice(i+1,s))):et<0?[].concat(_toConsumableArray(o.slice(0,i)),_toConsumableArray(o.slice(i+1,a+1)),[j],_toConsumableArray(o.slice(a+1,s))):o}var _excluded$7=["name"],EMPTY_ERRORS=[];function requireUpdate(o,i,a,s,j,et){return typeof o=="function"?o(i,a,"source"in et?{source:et.source}:{}):s!==j}var Field=function(o){_inherits(a,o);var i=_createSuper(a);function a(s){var j;if(_classCallCheck(this,a),j=i.call(this,s),j.state={resetCount:0},j.cancelRegisterFunc=null,j.mounted=!1,j.touched=!1,j.dirty=!1,j.validatePromise=void 0,j.prevValidating=void 0,j.errors=EMPTY_ERRORS,j.warnings=EMPTY_ERRORS,j.cancelRegister=function(){var at=j.props,ot=at.preserve,st=at.isListField,_e=at.name;j.cancelRegisterFunc&&j.cancelRegisterFunc(st,ot,getNamePath(_e)),j.cancelRegisterFunc=null},j.getNamePath=function(){var at=j.props,ot=at.name,st=at.fieldContext,_e=st.prefixName,$=_e===void 0?[]:_e;return ot!==void 0?[].concat(_toConsumableArray($),_toConsumableArray(ot)):[]},j.getRules=function(){var at=j.props,ot=at.rules,st=ot===void 0?[]:ot,_e=at.fieldContext;return st.map(function($){return typeof $=="function"?$(_e):$})},j.refresh=function(){j.mounted&&j.setState(function(at){var ot=at.resetCount;return{resetCount:ot+1}})},j.triggerMetaEvent=function(at){var ot=j.props.onMetaChange;ot==null||ot(_objectSpread2(_objectSpread2({},j.getMeta()),{},{destroy:at}))},j.onStoreChange=function(at,ot,st){var _e=j.props,$=_e.shouldUpdate,nt=_e.dependencies,it=nt===void 0?[]:nt,lt=_e.onReset,dt=st.store,ft=j.getNamePath(),pt=j.getValue(at),ht=j.getValue(dt),gt=ot&&containsNamePath(ot,ft);switch(st.type==="valueUpdate"&&st.source==="external"&&pt!==ht&&(j.touched=!0,j.dirty=!0,j.validatePromise=null,j.errors=EMPTY_ERRORS,j.warnings=EMPTY_ERRORS,j.triggerMetaEvent()),st.type){case"reset":if(!ot||gt){j.touched=!1,j.dirty=!1,j.validatePromise=void 0,j.errors=EMPTY_ERRORS,j.warnings=EMPTY_ERRORS,j.triggerMetaEvent(),lt==null||lt(),j.refresh();return}break;case"remove":{if($){j.reRender();return}break}case"setField":{if(gt){var mt=st.data;"touched"in mt&&(j.touched=mt.touched),"validating"in mt&&!("originRCField"in mt)&&(j.validatePromise=mt.validating?Promise.resolve([]):null),"errors"in mt&&(j.errors=mt.errors||EMPTY_ERRORS),"warnings"in mt&&(j.warnings=mt.warnings||EMPTY_ERRORS),j.dirty=!0,j.triggerMetaEvent(),j.reRender();return}if($&&!ft.length&&requireUpdate($,at,dt,pt,ht,st)){j.reRender();return}break}case"dependenciesUpdate":{var yt=it.map(getNamePath);if(yt.some(function(bt){return containsNamePath(st.relatedFields,bt)})){j.reRender();return}break}default:if(gt||(!it.length||ft.length||$)&&requireUpdate($,at,dt,pt,ht,st)){j.reRender();return}break}$===!0&&j.reRender()},j.validateRules=function(at){var ot=j.getNamePath(),st=j.getValue(),_e=at||{},$=_e.triggerName,nt=_e.validateOnly,it=nt===void 0?!1:nt,lt=Promise.resolve().then(function(){if(!j.mounted)return[];var dt=j.props,ft=dt.validateFirst,pt=ft===void 0?!1:ft,ht=dt.messageVariables,gt=j.getRules();$&&(gt=gt.filter(function(yt){return yt}).filter(function(yt){var bt=yt.validateTrigger;if(!bt)return!0;var _t=toArray(bt);return _t.includes($)}));var mt=validateRules(ot,st,gt,at,pt,ht);return mt.catch(function(yt){return yt}).then(function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EMPTY_ERRORS;if(j.validatePromise===lt){var bt;j.validatePromise=null;var _t=[],xt=[];(bt=yt.forEach)===null||bt===void 0||bt.call(yt,function(Et){var Tt=Et.rule.warningOnly,Pt=Et.errors,At=Pt===void 0?EMPTY_ERRORS:Pt;Tt?xt.push.apply(xt,_toConsumableArray(At)):_t.push.apply(_t,_toConsumableArray(At))}),j.errors=_t,j.warnings=xt,j.triggerMetaEvent(),j.reRender()}}),mt});return it||(j.validatePromise=lt,j.dirty=!0,j.errors=EMPTY_ERRORS,j.warnings=EMPTY_ERRORS,j.triggerMetaEvent(),j.reRender()),lt},j.isFieldValidating=function(){return!!j.validatePromise},j.isFieldTouched=function(){return j.touched},j.isFieldDirty=function(){if(j.dirty||j.props.initialValue!==void 0)return!0;var at=j.props.fieldContext,ot=at.getInternalHooks(HOOK_MARK),st=ot.getInitialValue;return st(j.getNamePath())!==void 0},j.getErrors=function(){return j.errors},j.getWarnings=function(){return j.warnings},j.isListField=function(){return j.props.isListField},j.isList=function(){return j.props.isList},j.isPreserve=function(){return j.props.preserve},j.getMeta=function(){j.prevValidating=j.isFieldValidating();var at={touched:j.isFieldTouched(),validating:j.prevValidating,errors:j.errors,warnings:j.warnings,name:j.getNamePath(),validated:j.validatePromise===null};return at},j.getOnlyChild=function(at){if(typeof at=="function"){var ot=j.getMeta();return _objectSpread2(_objectSpread2({},j.getOnlyChild(at(j.getControlled(),ot,j.props.fieldContext))),{},{isFunction:!0})}var st=toArray$1(at);return st.length!==1||!reactExports.isValidElement(st[0])?{child:st,isFunction:!1}:{child:st[0],isFunction:!1}},j.getValue=function(at){var ot=j.props.fieldContext.getFieldsValue,st=j.getNamePath();return get(at||ot(!0),st)},j.getControlled=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=j.props,st=ot.trigger,_e=ot.validateTrigger,$=ot.getValueFromEvent,nt=ot.normalize,it=ot.valuePropName,lt=ot.getValueProps,dt=ot.fieldContext,ft=_e!==void 0?_e:dt.validateTrigger,pt=j.getNamePath(),ht=dt.getInternalHooks,gt=dt.getFieldsValue,mt=ht(HOOK_MARK),yt=mt.dispatch,bt=j.getValue(),_t=lt||function(Pt){return _defineProperty({},it,Pt)},xt=at[st],Et=_objectSpread2(_objectSpread2({},at),_t(bt));Et[st]=function(){j.touched=!0,j.dirty=!0,j.triggerMetaEvent();for(var Pt,At=arguments.length,Ot=new Array(At),It=0;It<At;It++)Ot[It]=arguments[It];$?Pt=$.apply(void 0,Ot):Pt=defaultGetValueFromEvent.apply(void 0,[it].concat(Ot)),nt&&(Pt=nt(Pt,bt,gt(!0))),yt({type:"updateValue",namePath:pt,value:Pt}),xt&&xt.apply(void 0,Ot)};var Tt=toArray(ft||[]);return Tt.forEach(function(Pt){var At=Et[Pt];Et[Pt]=function(){At&&At.apply(void 0,arguments);var Ot=j.props.rules;Ot&&Ot.length&&yt({type:"validateField",namePath:pt,triggerName:Pt})}}),Et},s.fieldContext){var et=s.fieldContext.getInternalHooks,tt=et(HOOK_MARK),rt=tt.initEntityValue;rt(_assertThisInitialized(j))}return j}return _createClass(a,[{key:"componentDidMount",value:function(){var j=this.props,et=j.shouldUpdate,tt=j.fieldContext;if(this.mounted=!0,tt){var rt=tt.getInternalHooks,at=rt(HOOK_MARK),ot=at.registerField;this.cancelRegisterFunc=ot(this)}et===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var j=this.state.resetCount,et=this.props.children,tt=this.getOnlyChild(et),rt=tt.child,at=tt.isFunction,ot;return at?ot=rt:reactExports.isValidElement(rt)?ot=reactExports.cloneElement(rt,this.getControlled(rt.props)):(warningOnce(!rt,"`children` of Field is not validate ReactElement."),ot=rt),reactExports.createElement(reactExports.Fragment,{key:j},ot)}}]),a}(reactExports.Component);Field.contextType=Context$1;Field.defaultProps={trigger:"onChange",valuePropName:"value"};function WrapperField(o){var i=o.name,a=_objectWithoutProperties(o,_excluded$7),s=reactExports.useContext(Context$1),j=reactExports.useContext(ListContext),et=i!==void 0?getNamePath(i):void 0,tt="keep";return a.isListField||(tt="_".concat((et||[]).join("_"))),reactExports.createElement(Field,_extends$1({key:tt,name:et,isListField:!!j},a,{fieldContext:s}))}var List=function o(i){var a=i.name,s=i.initialValue,j=i.children,et=i.rules,tt=i.validateTrigger,rt=i.isListField,at=reactExports.useContext(Context$1),ot=reactExports.useContext(ListContext),st=reactExports.useRef({keys:[],id:0}),_e=st.current,$=reactExports.useMemo(function(){var dt=getNamePath(at.prefixName)||[];return[].concat(_toConsumableArray(dt),_toConsumableArray(getNamePath(a)))},[at.prefixName,a]),nt=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},at),{},{prefixName:$})},[at,$]),it=reactExports.useMemo(function(){return{getKey:function(ft){var pt=$.length,ht=ft[pt];return[_e.keys[ht],ft.slice(pt+1)]}}},[$]);if(typeof j!="function")return warningOnce(!1,"Form.List only accepts function as children."),null;var lt=function(ft,pt,ht){var gt=ht.source;return gt==="internal"?!1:ft!==pt};return reactExports.createElement(ListContext.Provider,{value:it},reactExports.createElement(Context$1.Provider,{value:nt},reactExports.createElement(WrapperField,{name:[],shouldUpdate:lt,rules:et,validateTrigger:tt,initialValue:s,isList:!0,isListField:rt??!!ot},function(dt,ft){var pt=dt.value,ht=pt===void 0?[]:pt,gt=dt.onChange,mt=at.getFieldValue,yt=function(){var Et=mt($||[]);return Et||[]},bt={add:function(Et,Tt){var Pt=yt();Tt>=0&&Tt<=Pt.length?(_e.keys=[].concat(_toConsumableArray(_e.keys.slice(0,Tt)),[_e.id],_toConsumableArray(_e.keys.slice(Tt))),gt([].concat(_toConsumableArray(Pt.slice(0,Tt)),[Et],_toConsumableArray(Pt.slice(Tt))))):(_e.keys=[].concat(_toConsumableArray(_e.keys),[_e.id]),gt([].concat(_toConsumableArray(Pt),[Et]))),_e.id+=1},remove:function(Et){var Tt=yt(),Pt=new Set(Array.isArray(Et)?Et:[Et]);Pt.size<=0||(_e.keys=_e.keys.filter(function(At,Ot){return!Pt.has(Ot)}),gt(Tt.filter(function(At,Ot){return!Pt.has(Ot)})))},move:function(Et,Tt){if(Et!==Tt){var Pt=yt();Et<0||Et>=Pt.length||Tt<0||Tt>=Pt.length||(_e.keys=move(_e.keys,Et,Tt),gt(move(Pt,Et,Tt)))}}},_t=ht||[];return Array.isArray(_t)||(_t=[]),j(_t.map(function(xt,Et){var Tt=_e.keys[Et];return Tt===void 0&&(_e.keys[Et]=_e.id,Tt=_e.keys[Et],_e.id+=1),{name:Et,key:Tt,isListField:!0}}),bt,ft)})))};function allPromiseFinish(o){var i=!1,a=o.length,s=[];return o.length?new Promise(function(j,et){o.forEach(function(tt,rt){tt.catch(function(at){return i=!0,at}).then(function(at){a-=1,s[rt]=at,!(a>0)&&(i&&et(s),j(s))})})}):Promise.resolve([])}var SPLIT="__@field_split__";function normalize(o){return o.map(function(i){return"".concat(_typeof(i),":").concat(i)}).join(SPLIT)}var NameMap=function(){function o(){_classCallCheck(this,o),this.kvs=new Map}return _createClass(o,[{key:"set",value:function(a,s){this.kvs.set(normalize(a),s)}},{key:"get",value:function(a){return this.kvs.get(normalize(a))}},{key:"update",value:function(a,s){var j=this.get(a),et=s(j);et?this.set(a,et):this.delete(a)}},{key:"delete",value:function(a){this.kvs.delete(normalize(a))}},{key:"map",value:function(a){return _toConsumableArray(this.kvs.entries()).map(function(s){var j=_slicedToArray(s,2),et=j[0],tt=j[1],rt=et.split(SPLIT);return a({key:rt.map(function(at){var ot=at.match(/^([^:]*):(.*)$/),st=_slicedToArray(ot,3),_e=st[1],$=st[2];return _e==="number"?Number($):$}),value:tt})})}},{key:"toJSON",value:function(){var a={};return this.map(function(s){var j=s.key,et=s.value;return a[j.join(".")]=et,null}),a}}]),o}(),_excluded$6=["name"],FormStore=_createClass(function o(i){var a=this;_classCallCheck(this,o),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:a.getFieldValue,getFieldsValue:a.getFieldsValue,getFieldError:a.getFieldError,getFieldWarning:a.getFieldWarning,getFieldsError:a.getFieldsError,isFieldsTouched:a.isFieldsTouched,isFieldTouched:a.isFieldTouched,isFieldValidating:a.isFieldValidating,isFieldsValidating:a.isFieldsValidating,resetFields:a.resetFields,setFields:a.setFields,setFieldValue:a.setFieldValue,setFieldsValue:a.setFieldsValue,validateFields:a.validateFields,submit:a.submit,_init:!0,getInternalHooks:a.getInternalHooks}},this.getInternalHooks=function(s){return s===HOOK_MARK?(a.formHooked=!0,{dispatch:a.dispatch,initEntityValue:a.initEntityValue,registerField:a.registerField,useSubscribe:a.useSubscribe,setInitialValues:a.setInitialValues,destroyForm:a.destroyForm,setCallbacks:a.setCallbacks,setValidateMessages:a.setValidateMessages,getFields:a.getFields,setPreserve:a.setPreserve,getInitialValue:a.getInitialValue,registerWatch:a.registerWatch}):(warningOnce(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(s){a.subscribable=s},this.prevWithoutPreserves=null,this.setInitialValues=function(s,j){if(a.initialValues=s||{},j){var et,tt=merge$1(s,a.store);(et=a.prevWithoutPreserves)===null||et===void 0||et.map(function(rt){var at=rt.key;tt=set(tt,at,get(s,at))}),a.prevWithoutPreserves=null,a.updateStore(tt)}},this.destroyForm=function(){var s=new NameMap;a.getFieldEntities(!0).forEach(function(j){a.isMergedPreserve(j.isPreserve())||s.set(j.getNamePath(),!0)}),a.prevWithoutPreserves=s},this.getInitialValue=function(s){var j=get(a.initialValues,s);return s.length?merge$1(j):j},this.setCallbacks=function(s){a.callbacks=s},this.setValidateMessages=function(s){a.validateMessages=s},this.setPreserve=function(s){a.preserve=s},this.watchList=[],this.registerWatch=function(s){return a.watchList.push(s),function(){a.watchList=a.watchList.filter(function(j){return j!==s})}},this.notifyWatch=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(a.watchList.length){var j=a.getFieldsValue(),et=a.getFieldsValue(!0);a.watchList.forEach(function(tt){tt(j,et,s)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(s){a.store=s},this.getFieldEntities=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return s?a.fieldEntities.filter(function(j){return j.getNamePath().length}):a.fieldEntities},this.getFieldsMap=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=new NameMap;return a.getFieldEntities(s).forEach(function(et){var tt=et.getNamePath();j.set(tt,et)}),j},this.getFieldEntitiesForNamePathList=function(s){if(!s)return a.getFieldEntities(!0);var j=a.getFieldsMap(!0);return s.map(function(et){var tt=getNamePath(et);return j.get(tt)||{INVALIDATE_NAME_PATH:getNamePath(et)}})},this.getFieldsValue=function(s,j){if(a.warningUnhooked(),s===!0&&!j)return a.store;var et=a.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),tt=[];return et.forEach(function(rt){var at,ot="INVALIDATE_NAME_PATH"in rt?rt.INVALIDATE_NAME_PATH:rt.getNamePath();if(!(!s&&(!((at=rt.isListField)===null||at===void 0)&&at.call(rt))))if(!j)tt.push(ot);else{var st="getMeta"in rt?rt.getMeta():null;j(st)&&tt.push(ot)}}),cloneByNamePathList(a.store,tt.map(getNamePath))},this.getFieldValue=function(s){a.warningUnhooked();var j=getNamePath(s);return get(a.store,j)},this.getFieldsError=function(s){a.warningUnhooked();var j=a.getFieldEntitiesForNamePathList(s);return j.map(function(et,tt){return et&&!("INVALIDATE_NAME_PATH"in et)?{name:et.getNamePath(),errors:et.getErrors(),warnings:et.getWarnings()}:{name:getNamePath(s[tt]),errors:[],warnings:[]}})},this.getFieldError=function(s){a.warningUnhooked();var j=getNamePath(s),et=a.getFieldsError([j])[0];return et.errors},this.getFieldWarning=function(s){a.warningUnhooked();var j=getNamePath(s),et=a.getFieldsError([j])[0];return et.warnings},this.isFieldsTouched=function(){a.warningUnhooked();for(var s=arguments.length,j=new Array(s),et=0;et<s;et++)j[et]=arguments[et];var tt=j[0],rt=j[1],at,ot=!1;j.length===0?at=null:j.length===1?Array.isArray(tt)?(at=tt.map(getNamePath),ot=!1):(at=null,ot=tt):(at=tt.map(getNamePath),ot=rt);var st=a.getFieldEntities(!0),_e=function(dt){return dt.isFieldTouched()};if(!at)return ot?st.every(_e):st.some(_e);var $=new NameMap;at.forEach(function(lt){$.set(lt,[])}),st.forEach(function(lt){var dt=lt.getNamePath();at.forEach(function(ft){ft.every(function(pt,ht){return dt[ht]===pt})&&$.update(ft,function(pt){return[].concat(_toConsumableArray(pt),[lt])})})});var nt=function(dt){return dt.some(_e)},it=$.map(function(lt){var dt=lt.value;return dt});return ot?it.every(nt):it.some(nt)},this.isFieldTouched=function(s){return a.warningUnhooked(),a.isFieldsTouched([s])},this.isFieldsValidating=function(s){a.warningUnhooked();var j=a.getFieldEntities();if(!s)return j.some(function(tt){return tt.isFieldValidating()});var et=s.map(getNamePath);return j.some(function(tt){var rt=tt.getNamePath();return containsNamePath(et,rt)&&tt.isFieldValidating()})},this.isFieldValidating=function(s){return a.warningUnhooked(),a.isFieldsValidating([s])},this.resetWithFieldInitialValue=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=new NameMap,et=a.getFieldEntities(!0);et.forEach(function(at){var ot=at.props.initialValue,st=at.getNamePath();if(ot!==void 0){var _e=j.get(st)||new Set;_e.add({entity:at,value:ot}),j.set(st,_e)}});var tt=function(ot){ot.forEach(function(st){var _e=st.props.initialValue;if(_e!==void 0){var $=st.getNamePath(),nt=a.getInitialValue($);if(nt!==void 0)warningOnce(!1,"Form already set 'initialValues' with path '".concat($.join("."),"'. Field can not overwrite it."));else{var it=j.get($);if(it&&it.size>1)warningOnce(!1,"Multiple Field with path '".concat($.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(it){var lt=a.getFieldValue($);(!s.skipExist||lt===void 0)&&a.updateStore(set(a.store,$,_toConsumableArray(it)[0].value))}}}})},rt;s.entities?rt=s.entities:s.namePathList?(rt=[],s.namePathList.forEach(function(at){var ot=j.get(at);if(ot){var st;(st=rt).push.apply(st,_toConsumableArray(_toConsumableArray(ot).map(function(_e){return _e.entity})))}})):rt=et,tt(rt)},this.resetFields=function(s){a.warningUnhooked();var j=a.store;if(!s){a.updateStore(merge$1(a.initialValues)),a.resetWithFieldInitialValue(),a.notifyObservers(j,null,{type:"reset"}),a.notifyWatch();return}var et=s.map(getNamePath);et.forEach(function(tt){var rt=a.getInitialValue(tt);a.updateStore(set(a.store,tt,rt))}),a.resetWithFieldInitialValue({namePathList:et}),a.notifyObservers(j,et,{type:"reset"}),a.notifyWatch(et)},this.setFields=function(s){a.warningUnhooked();var j=a.store,et=[];s.forEach(function(tt){var rt=tt.name,at=_objectWithoutProperties(tt,_excluded$6),ot=getNamePath(rt);et.push(ot),"value"in at&&a.updateStore(set(a.store,ot,at.value)),a.notifyObservers(j,[ot],{type:"setField",data:tt})}),a.notifyWatch(et)},this.getFields=function(){var s=a.getFieldEntities(!0),j=s.map(function(et){var tt=et.getNamePath(),rt=et.getMeta(),at=_objectSpread2(_objectSpread2({},rt),{},{name:tt,value:a.getFieldValue(tt)});return Object.defineProperty(at,"originRCField",{value:!0}),at});return j},this.initEntityValue=function(s){var j=s.props.initialValue;if(j!==void 0){var et=s.getNamePath(),tt=get(a.store,et);tt===void 0&&a.updateStore(set(a.store,et,j))}},this.isMergedPreserve=function(s){var j=s!==void 0?s:a.preserve;return j??!0},this.registerField=function(s){a.fieldEntities.push(s);var j=s.getNamePath();if(a.notifyWatch([j]),s.props.initialValue!==void 0){var et=a.store;a.resetWithFieldInitialValue({entities:[s],skipExist:!0}),a.notifyObservers(et,[s.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(tt,rt){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(a.fieldEntities=a.fieldEntities.filter(function(_e){return _e!==s}),!a.isMergedPreserve(rt)&&(!tt||at.length>1)){var ot=tt?void 0:a.getInitialValue(j);if(j.length&&a.getFieldValue(j)!==ot&&a.fieldEntities.every(function(_e){return!matchNamePath(_e.getNamePath(),j)})){var st=a.store;a.updateStore(set(st,j,ot,!0)),a.notifyObservers(st,[j],{type:"remove"}),a.triggerDependenciesUpdate(st,j)}}a.notifyWatch([j])}},this.dispatch=function(s){switch(s.type){case"updateValue":{var j=s.namePath,et=s.value;a.updateValue(j,et);break}case"validateField":{var tt=s.namePath,rt=s.triggerName;a.validateFields([tt],{triggerName:rt});break}}},this.notifyObservers=function(s,j,et){if(a.subscribable){var tt=_objectSpread2(_objectSpread2({},et),{},{store:a.getFieldsValue(!0)});a.getFieldEntities().forEach(function(rt){var at=rt.onStoreChange;at(s,j,tt)})}else a.forceRootUpdate()},this.triggerDependenciesUpdate=function(s,j){var et=a.getDependencyChildrenFields(j);return et.length&&a.validateFields(et),a.notifyObservers(s,et,{type:"dependenciesUpdate",relatedFields:[j].concat(_toConsumableArray(et))}),et},this.updateValue=function(s,j){var et=getNamePath(s),tt=a.store;a.updateStore(set(a.store,et,j)),a.notifyObservers(tt,[et],{type:"valueUpdate",source:"internal"}),a.notifyWatch([et]);var rt=a.triggerDependenciesUpdate(tt,et),at=a.callbacks.onValuesChange;if(at){var ot=cloneByNamePathList(a.store,[et]);at(ot,a.getFieldsValue())}a.triggerOnFieldsChange([et].concat(_toConsumableArray(rt)))},this.setFieldsValue=function(s){a.warningUnhooked();var j=a.store;if(s){var et=merge$1(a.store,s);a.updateStore(et)}a.notifyObservers(j,null,{type:"valueUpdate",source:"external"}),a.notifyWatch()},this.setFieldValue=function(s,j){a.setFields([{name:s,value:j}])},this.getDependencyChildrenFields=function(s){var j=new Set,et=[],tt=new NameMap;a.getFieldEntities().forEach(function(at){var ot=at.props.dependencies;(ot||[]).forEach(function(st){var _e=getNamePath(st);tt.update(_e,function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return $.add(at),$})})});var rt=function at(ot){var st=tt.get(ot)||new Set;st.forEach(function(_e){if(!j.has(_e)){j.add(_e);var $=_e.getNamePath();_e.isFieldDirty()&&$.length&&(et.push($),at($))}})};return rt(s),et},this.triggerOnFieldsChange=function(s,j){var et=a.callbacks.onFieldsChange;if(et){var tt=a.getFields();if(j){var rt=new NameMap;j.forEach(function(ot){var st=ot.name,_e=ot.errors;rt.set(st,_e)}),tt.forEach(function(ot){ot.errors=rt.get(ot.name)||ot.errors})}var at=tt.filter(function(ot){var st=ot.name;return containsNamePath(s,st)});et(at,tt)}},this.validateFields=function(s,j){a.warningUnhooked();var et,tt;Array.isArray(s)||typeof s=="string"||typeof j=="string"?(et=s,tt=j):tt=s;var rt=!!et,at=rt?et.map(getNamePath):[],ot=[];a.getFieldEntities(!0).forEach(function($){var nt;if(rt||at.push($.getNamePath()),!((nt=tt)===null||nt===void 0)&&nt.recursive&&rt){var it=$.getNamePath();it.every(function(ft,pt){return et[pt]===ft||et[pt]===void 0})&&at.push(it)}if(!(!$.props.rules||!$.props.rules.length)){var lt=$.getNamePath();if(!rt||containsNamePath(at,lt)){var dt=$.validateRules(_objectSpread2({validateMessages:_objectSpread2(_objectSpread2({},defaultValidateMessages),a.validateMessages)},tt));ot.push(dt.then(function(){return{name:lt,errors:[],warnings:[]}}).catch(function(ft){var pt,ht=[],gt=[];return(pt=ft.forEach)===null||pt===void 0||pt.call(ft,function(mt){var yt=mt.rule.warningOnly,bt=mt.errors;yt?gt.push.apply(gt,_toConsumableArray(bt)):ht.push.apply(ht,_toConsumableArray(bt))}),ht.length?Promise.reject({name:lt,errors:ht,warnings:gt}):{name:lt,errors:ht,warnings:gt}}))}}});var st=allPromiseFinish(ot);a.lastValidatePromise=st,st.catch(function($){return $}).then(function($){var nt=$.map(function(it){var lt=it.name;return lt});a.notifyObservers(a.store,nt,{type:"validateFinish"}),a.triggerOnFieldsChange(nt,$)});var _e=st.then(function(){return a.lastValidatePromise===st?Promise.resolve(a.getFieldsValue(at)):Promise.reject([])}).catch(function($){var nt=$.filter(function(it){return it&&it.errors.length});return Promise.reject({values:a.getFieldsValue(at),errorFields:nt,outOfDate:a.lastValidatePromise!==st})});return _e.catch(function($){return $}),a.triggerOnFieldsChange(at),_e},this.submit=function(){a.warningUnhooked(),a.validateFields().then(function(s){var j=a.callbacks.onFinish;if(j)try{j(s)}catch(et){console.error(et)}}).catch(function(s){var j=a.callbacks.onFinishFailed;j&&j(s)})},this.forceRootUpdate=i});function useForm(o){var i=reactExports.useRef(),a=reactExports.useState({}),s=_slicedToArray(a,2),j=s[1];if(!i.current)if(o)i.current=o;else{var et=function(){j({})},tt=new FormStore(et);i.current=tt.getForm()}return[i.current]}var FormContext=reactExports.createContext({triggerFormChange:function o(){},triggerFormFinish:function o(){},registerForm:function o(){},unregisterForm:function o(){}}),FormProvider=function o(i){var a=i.validateMessages,s=i.onFormChange,j=i.onFormFinish,et=i.children,tt=reactExports.useContext(FormContext),rt=reactExports.useRef({});return reactExports.createElement(FormContext.Provider,{value:_objectSpread2(_objectSpread2({},tt),{},{validateMessages:_objectSpread2(_objectSpread2({},tt.validateMessages),a),triggerFormChange:function(ot,st){s&&s(ot,{changedFields:st,forms:rt.current}),tt.triggerFormChange(ot,st)},triggerFormFinish:function(ot,st){j&&j(ot,{values:st,forms:rt.current}),tt.triggerFormFinish(ot,st)},registerForm:function(ot,st){ot&&(rt.current=_objectSpread2(_objectSpread2({},rt.current),{},_defineProperty({},ot,st))),tt.registerForm(ot,st)},unregisterForm:function(ot){var st=_objectSpread2({},rt.current);delete st[ot],rt.current=st,tt.unregisterForm(ot)}})},et)},_excluded$5=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Form=function o(i,a){var s=i.name,j=i.initialValues,et=i.fields,tt=i.form,rt=i.preserve,at=i.children,ot=i.component,st=ot===void 0?"form":ot,_e=i.validateMessages,$=i.validateTrigger,nt=$===void 0?"onChange":$,it=i.onValuesChange,lt=i.onFieldsChange,dt=i.onFinish,ft=i.onFinishFailed,pt=_objectWithoutProperties(i,_excluded$5),ht=reactExports.useContext(FormContext),gt=useForm(tt),mt=_slicedToArray(gt,1),yt=mt[0],bt=yt.getInternalHooks(HOOK_MARK),_t=bt.useSubscribe,xt=bt.setInitialValues,Et=bt.setCallbacks,Tt=bt.setValidateMessages,Pt=bt.setPreserve,At=bt.destroyForm;reactExports.useImperativeHandle(a,function(){return yt}),reactExports.useEffect(function(){return ht.registerForm(s,yt),function(){ht.unregisterForm(s)}},[ht,yt,s]),Tt(_objectSpread2(_objectSpread2({},ht.validateMessages),_e)),Et({onValuesChange:it,onFieldsChange:function(Qt){if(ht.triggerFormChange(s,Qt),lt){for(var un=arguments.length,an=new Array(un>1?un-1:0),vn=1;vn<un;vn++)an[vn-1]=arguments[vn];lt.apply(void 0,[Qt].concat(an))}},onFinish:function(Qt){ht.triggerFormFinish(s,Qt),dt&&dt(Qt)},onFinishFailed:ft}),Pt(rt);var Ot=reactExports.useRef(null);xt(j,!Ot.current),Ot.current||(Ot.current=!0),reactExports.useEffect(function(){return At},[]);var It,$t=typeof at=="function";if($t){var kt=yt.getFieldsValue(!0);It=at(kt,yt)}else It=at;_t(!$t);var Ft=reactExports.useRef();reactExports.useEffect(function(){isSimilar(Ft.current||[],et||[])||yt.setFields(et||[]),Ft.current=et},[et,yt]);var Ut=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},yt),{},{validateTrigger:nt})},[yt,nt]),zt=reactExports.createElement(Context$1.Provider,{value:Ut},It);return st===!1?zt:reactExports.createElement(st,_extends$1({},pt,{onSubmit:function(Qt){Qt.preventDefault(),Qt.stopPropagation(),yt.submit()},onReset:function(Qt){var un;Qt.preventDefault(),yt.resetFields(),(un=pt.onReset)===null||un===void 0||un.call(pt,Qt)}}),zt)};function stringify(o){try{return JSON.stringify(o)}catch{return Math.random()}}function useWatch(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=i[0],j=s===void 0?[]:s,et=i[1],tt=et===void 0?{}:et,rt=isFormInstance(tt)?{form:tt}:tt,at=rt.form,ot=reactExports.useState(),st=_slicedToArray(ot,2),_e=st[0],$=st[1],nt=reactExports.useMemo(function(){return stringify(_e)},[_e]),it=reactExports.useRef(nt);it.current=nt;var lt=reactExports.useContext(Context$1),dt=at||lt,ft=dt&&dt._init,pt=getNamePath(j),ht=reactExports.useRef(pt);return ht.current=pt,reactExports.useEffect(function(){if(ft){var gt=dt.getFieldsValue,mt=dt.getInternalHooks,yt=mt(HOOK_MARK),bt=yt.registerWatch,_t=bt(function(Et,Tt){var Pt=get(rt.preserve?Tt:Et,ht.current),At=stringify(Pt);it.current!==At&&(it.current=At,$(Pt))}),xt=get(rt.preserve?gt(!0):gt(),ht.current);return $(xt),_t}},[ft]),_e}var InternalForm=reactExports.forwardRef(Form),RefForm=InternalForm;RefForm.FormProvider=FormProvider;RefForm.Field=WrapperField;RefForm.List=List;RefForm.useForm=useForm;RefForm.useWatch=useWatch;const ValidateMessagesContext=reactExports.createContext(void 0),enUS$1={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var locale$2={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const locale$1={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},TimePicker=locale$1,locale={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},locale$2),timePickerLocale:Object.assign({},TimePicker)},enUS=locale,typeTemplate="${label} is not a valid ${type}",localeValues={locale:"en",Pagination:enUS$1,DatePicker:enUS,TimePicker,Calendar:enUS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},defaultLocale=localeValues;let runtimeLocale=Object.assign({},defaultLocale.Modal);function changeConfirmLocale(o){o?runtimeLocale=Object.assign(Object.assign({},runtimeLocale),o):runtimeLocale=Object.assign({},defaultLocale.Modal)}const LocaleContext=reactExports.createContext(void 0),LocaleContext$1=LocaleContext,ANT_MARK="internalMark",LocaleProvider=o=>{const{locale:i={},children:a,_ANT_MARK__:s}=o;reactExports.useEffect(()=>(changeConfirmLocale(i&&i.Modal),()=>{changeConfirmLocale()}),[i]);const j=reactExports.useMemo(()=>Object.assign(Object.assign({},i),{exist:!0}),[i]);return reactExports.createElement(LocaleContext$1.Provider,{value:j},a)},LocaleProvider$1=LocaleProvider,version$1="5.6.1";function bound01(o,i){isOnePointZero(o)&&(o="100%");var a=isPercentage(o);return o=i===360?o:Math.min(i,Math.max(0,parseFloat(o))),a&&(o=parseInt(String(o*i),10)/100),Math.abs(o-i)<1e-6?1:(i===360?o=(o<0?o%i+i:o%i)/parseFloat(String(i)):o=o%i/parseFloat(String(i)),o)}function clamp01(o){return Math.min(1,Math.max(0,o))}function isOnePointZero(o){return typeof o=="string"&&o.indexOf(".")!==-1&&parseFloat(o)===1}function isPercentage(o){return typeof o=="string"&&o.indexOf("%")!==-1}function boundAlpha(o){return o=parseFloat(o),(isNaN(o)||o<0||o>1)&&(o=1),o}function convertToPercentage(o){return o<=1?"".concat(Number(o)*100,"%"):o}function pad2(o){return o.length===1?"0"+o:String(o)}function rgbToRgb(o,i,a){return{r:bound01(o,255)*255,g:bound01(i,255)*255,b:bound01(a,255)*255}}function rgbToHsl(o,i,a){o=bound01(o,255),i=bound01(i,255),a=bound01(a,255);var s=Math.max(o,i,a),j=Math.min(o,i,a),et=0,tt=0,rt=(s+j)/2;if(s===j)tt=0,et=0;else{var at=s-j;switch(tt=rt>.5?at/(2-s-j):at/(s+j),s){case o:et=(i-a)/at+(i<a?6:0);break;case i:et=(a-o)/at+2;break;case a:et=(o-i)/at+4;break}et/=6}return{h:et,s:tt,l:rt}}function hue2rgb(o,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(i-o)*(6*a):a<1/2?i:a<2/3?o+(i-o)*(2/3-a)*6:o}function hslToRgb(o,i,a){var s,j,et;if(o=bound01(o,360),i=bound01(i,100),a=bound01(a,100),i===0)j=a,et=a,s=a;else{var tt=a<.5?a*(1+i):a+i-a*i,rt=2*a-tt;s=hue2rgb(rt,tt,o+1/3),j=hue2rgb(rt,tt,o),et=hue2rgb(rt,tt,o-1/3)}return{r:s*255,g:j*255,b:et*255}}function rgbToHsv(o,i,a){o=bound01(o,255),i=bound01(i,255),a=bound01(a,255);var s=Math.max(o,i,a),j=Math.min(o,i,a),et=0,tt=s,rt=s-j,at=s===0?0:rt/s;if(s===j)et=0;else{switch(s){case o:et=(i-a)/rt+(i<a?6:0);break;case i:et=(a-o)/rt+2;break;case a:et=(o-i)/rt+4;break}et/=6}return{h:et,s:at,v:tt}}function hsvToRgb(o,i,a){o=bound01(o,360)*6,i=bound01(i,100),a=bound01(a,100);var s=Math.floor(o),j=o-s,et=a*(1-i),tt=a*(1-j*i),rt=a*(1-(1-j)*i),at=s%6,ot=[a,tt,et,et,rt,a][at],st=[rt,a,a,tt,et,et][at],_e=[et,et,rt,a,a,tt][at];return{r:ot*255,g:st*255,b:_e*255}}function rgbToHex(o,i,a,s){var j=[pad2(Math.round(o).toString(16)),pad2(Math.round(i).toString(16)),pad2(Math.round(a).toString(16))];return s&&j[0].startsWith(j[0].charAt(1))&&j[1].startsWith(j[1].charAt(1))&&j[2].startsWith(j[2].charAt(1))?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0):j.join("")}function rgbaToHex(o,i,a,s,j){var et=[pad2(Math.round(o).toString(16)),pad2(Math.round(i).toString(16)),pad2(Math.round(a).toString(16)),pad2(convertDecimalToHex(s))];return j&&et[0].startsWith(et[0].charAt(1))&&et[1].startsWith(et[1].charAt(1))&&et[2].startsWith(et[2].charAt(1))&&et[3].startsWith(et[3].charAt(1))?et[0].charAt(0)+et[1].charAt(0)+et[2].charAt(0)+et[3].charAt(0):et.join("")}function convertDecimalToHex(o){return Math.round(parseFloat(o)*255).toString(16)}function convertHexToDecimal(o){return parseIntFromHex(o)/255}function parseIntFromHex(o){return parseInt(o,16)}function numberInputToObject(o){return{r:o>>16,g:(o&65280)>>8,b:o&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(o){var i={r:0,g:0,b:0},a=1,s=null,j=null,et=null,tt=!1,rt=!1;return typeof o=="string"&&(o=stringInputToObject(o)),typeof o=="object"&&(isValidCSSUnit(o.r)&&isValidCSSUnit(o.g)&&isValidCSSUnit(o.b)?(i=rgbToRgb(o.r,o.g,o.b),tt=!0,rt=String(o.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(o.h)&&isValidCSSUnit(o.s)&&isValidCSSUnit(o.v)?(s=convertToPercentage(o.s),j=convertToPercentage(o.v),i=hsvToRgb(o.h,s,j),tt=!0,rt="hsv"):isValidCSSUnit(o.h)&&isValidCSSUnit(o.s)&&isValidCSSUnit(o.l)&&(s=convertToPercentage(o.s),et=convertToPercentage(o.l),i=hslToRgb(o.h,s,et),tt=!0,rt="hsl"),Object.prototype.hasOwnProperty.call(o,"a")&&(a=o.a)),a=boundAlpha(a),{ok:tt,format:o.format||rt,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(o){if(o=o.trim().toLowerCase(),o.length===0)return!1;var i=!1;if(names[o])o=names[o],i=!0;else if(o==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var a=matchers.rgb.exec(o);return a?{r:a[1],g:a[2],b:a[3]}:(a=matchers.rgba.exec(o),a?{r:a[1],g:a[2],b:a[3],a:a[4]}:(a=matchers.hsl.exec(o),a?{h:a[1],s:a[2],l:a[3]}:(a=matchers.hsla.exec(o),a?{h:a[1],s:a[2],l:a[3],a:a[4]}:(a=matchers.hsv.exec(o),a?{h:a[1],s:a[2],v:a[3]}:(a=matchers.hsva.exec(o),a?{h:a[1],s:a[2],v:a[3],a:a[4]}:(a=matchers.hex8.exec(o),a?{r:parseIntFromHex(a[1]),g:parseIntFromHex(a[2]),b:parseIntFromHex(a[3]),a:convertHexToDecimal(a[4]),format:i?"name":"hex8"}:(a=matchers.hex6.exec(o),a?{r:parseIntFromHex(a[1]),g:parseIntFromHex(a[2]),b:parseIntFromHex(a[3]),format:i?"name":"hex"}:(a=matchers.hex4.exec(o),a?{r:parseIntFromHex(a[1]+a[1]),g:parseIntFromHex(a[2]+a[2]),b:parseIntFromHex(a[3]+a[3]),a:convertHexToDecimal(a[4]+a[4]),format:i?"name":"hex8"}:(a=matchers.hex3.exec(o),a?{r:parseIntFromHex(a[1]+a[1]),g:parseIntFromHex(a[2]+a[2]),b:parseIntFromHex(a[3]+a[3]),format:i?"name":"hex"}:!1)))))))))}function isValidCSSUnit(o){return!!matchers.CSS_UNIT.exec(String(o))}var TinyColor=function(){function o(i,a){i===void 0&&(i=""),a===void 0&&(a={});var s;if(i instanceof o)return i;typeof i=="number"&&(i=numberInputToObject(i)),this.originalInput=i;var j=inputToRGB(i);this.originalInput=i,this.r=j.r,this.g=j.g,this.b=j.b,this.a=j.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=a.format)!==null&&s!==void 0?s:j.format,this.gradientType=a.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=j.ok}return o.prototype.isDark=function(){return this.getBrightness()<128},o.prototype.isLight=function(){return!this.isDark()},o.prototype.getBrightness=function(){var i=this.toRgb();return(i.r*299+i.g*587+i.b*114)/1e3},o.prototype.getLuminance=function(){var i=this.toRgb(),a,s,j,et=i.r/255,tt=i.g/255,rt=i.b/255;return et<=.03928?a=et/12.92:a=Math.pow((et+.055)/1.055,2.4),tt<=.03928?s=tt/12.92:s=Math.pow((tt+.055)/1.055,2.4),rt<=.03928?j=rt/12.92:j=Math.pow((rt+.055)/1.055,2.4),.2126*a+.7152*s+.0722*j},o.prototype.getAlpha=function(){return this.a},o.prototype.setAlpha=function(i){return this.a=boundAlpha(i),this.roundA=Math.round(100*this.a)/100,this},o.prototype.isMonochrome=function(){var i=this.toHsl().s;return i===0},o.prototype.toHsv=function(){var i=rgbToHsv(this.r,this.g,this.b);return{h:i.h*360,s:i.s,v:i.v,a:this.a}},o.prototype.toHsvString=function(){var i=rgbToHsv(this.r,this.g,this.b),a=Math.round(i.h*360),s=Math.round(i.s*100),j=Math.round(i.v*100);return this.a===1?"hsv(".concat(a,", ").concat(s,"%, ").concat(j,"%)"):"hsva(".concat(a,", ").concat(s,"%, ").concat(j,"%, ").concat(this.roundA,")")},o.prototype.toHsl=function(){var i=rgbToHsl(this.r,this.g,this.b);return{h:i.h*360,s:i.s,l:i.l,a:this.a}},o.prototype.toHslString=function(){var i=rgbToHsl(this.r,this.g,this.b),a=Math.round(i.h*360),s=Math.round(i.s*100),j=Math.round(i.l*100);return this.a===1?"hsl(".concat(a,", ").concat(s,"%, ").concat(j,"%)"):"hsla(".concat(a,", ").concat(s,"%, ").concat(j,"%, ").concat(this.roundA,")")},o.prototype.toHex=function(i){return i===void 0&&(i=!1),rgbToHex(this.r,this.g,this.b,i)},o.prototype.toHexString=function(i){return i===void 0&&(i=!1),"#"+this.toHex(i)},o.prototype.toHex8=function(i){return i===void 0&&(i=!1),rgbaToHex(this.r,this.g,this.b,this.a,i)},o.prototype.toHex8String=function(i){return i===void 0&&(i=!1),"#"+this.toHex8(i)},o.prototype.toHexShortString=function(i){return i===void 0&&(i=!1),this.a===1?this.toHexString(i):this.toHex8String(i)},o.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},o.prototype.toRgbString=function(){var i=Math.round(this.r),a=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(i,", ").concat(a,", ").concat(s,")"):"rgba(".concat(i,", ").concat(a,", ").concat(s,", ").concat(this.roundA,")")},o.prototype.toPercentageRgb=function(){var i=function(a){return"".concat(Math.round(bound01(a,255)*100),"%")};return{r:i(this.r),g:i(this.g),b:i(this.b),a:this.a}},o.prototype.toPercentageRgbString=function(){var i=function(a){return Math.round(bound01(a,255)*100)};return this.a===1?"rgb(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%)"):"rgba(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%, ").concat(this.roundA,")")},o.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var i="#"+rgbToHex(this.r,this.g,this.b,!1),a=0,s=Object.entries(names);a<s.length;a++){var j=s[a],et=j[0],tt=j[1];if(i===tt)return et}return!1},o.prototype.toString=function(i){var a=!!i;i=i??this.format;var s=!1,j=this.a<1&&this.a>=0,et=!a&&j&&(i.startsWith("hex")||i==="name");return et?i==="name"&&this.a===0?this.toName():this.toRgbString():(i==="rgb"&&(s=this.toRgbString()),i==="prgb"&&(s=this.toPercentageRgbString()),(i==="hex"||i==="hex6")&&(s=this.toHexString()),i==="hex3"&&(s=this.toHexString(!0)),i==="hex4"&&(s=this.toHex8String(!0)),i==="hex8"&&(s=this.toHex8String()),i==="name"&&(s=this.toName()),i==="hsl"&&(s=this.toHslString()),i==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},o.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},o.prototype.clone=function(){return new o(this.toString())},o.prototype.lighten=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.l+=i/100,a.l=clamp01(a.l),new o(a)},o.prototype.brighten=function(i){i===void 0&&(i=10);var a=this.toRgb();return a.r=Math.max(0,Math.min(255,a.r-Math.round(255*-(i/100)))),a.g=Math.max(0,Math.min(255,a.g-Math.round(255*-(i/100)))),a.b=Math.max(0,Math.min(255,a.b-Math.round(255*-(i/100)))),new o(a)},o.prototype.darken=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.l-=i/100,a.l=clamp01(a.l),new o(a)},o.prototype.tint=function(i){return i===void 0&&(i=10),this.mix("white",i)},o.prototype.shade=function(i){return i===void 0&&(i=10),this.mix("black",i)},o.prototype.desaturate=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.s-=i/100,a.s=clamp01(a.s),new o(a)},o.prototype.saturate=function(i){i===void 0&&(i=10);var a=this.toHsl();return a.s+=i/100,a.s=clamp01(a.s),new o(a)},o.prototype.greyscale=function(){return this.desaturate(100)},o.prototype.spin=function(i){var a=this.toHsl(),s=(a.h+i)%360;return a.h=s<0?360+s:s,new o(a)},o.prototype.mix=function(i,a){a===void 0&&(a=50);var s=this.toRgb(),j=new o(i).toRgb(),et=a/100,tt={r:(j.r-s.r)*et+s.r,g:(j.g-s.g)*et+s.g,b:(j.b-s.b)*et+s.b,a:(j.a-s.a)*et+s.a};return new o(tt)},o.prototype.analogous=function(i,a){i===void 0&&(i=6),a===void 0&&(a=30);var s=this.toHsl(),j=360/a,et=[this];for(s.h=(s.h-(j*i>>1)+720)%360;--i;)s.h=(s.h+j)%360,et.push(new o(s));return et},o.prototype.complement=function(){var i=this.toHsl();return i.h=(i.h+180)%360,new o(i)},o.prototype.monochromatic=function(i){i===void 0&&(i=6);for(var a=this.toHsv(),s=a.h,j=a.s,et=a.v,tt=[],rt=1/i;i--;)tt.push(new o({h:s,s:j,v:et})),et=(et+rt)%1;return tt},o.prototype.splitcomplement=function(){var i=this.toHsl(),a=i.h;return[this,new o({h:(a+72)%360,s:i.s,l:i.l}),new o({h:(a+216)%360,s:i.s,l:i.l})]},o.prototype.onBackground=function(i){var a=this.toRgb(),s=new o(i).toRgb(),j=a.a+s.a*(1-a.a);return new o({r:(a.r*a.a+s.r*s.a*(1-a.a))/j,g:(a.g*a.a+s.g*s.a*(1-a.a))/j,b:(a.b*a.a+s.b*s.a*(1-a.a))/j,a:j})},o.prototype.triad=function(){return this.polyad(3)},o.prototype.tetrad=function(){return this.polyad(4)},o.prototype.polyad=function(i){for(var a=this.toHsl(),s=a.h,j=[this],et=360/i,tt=1;tt<i;tt++)j.push(new o({h:(s+tt*et)%360,s:a.s,l:a.l}));return j},o.prototype.equals=function(i){return this.toRgbString()===new o(i).toRgbString()},o}(),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(o){var i=o.r,a=o.g,s=o.b,j=rgbToHsv(i,a,s);return{h:j.h*360,s:j.s,v:j.v}}function toHex(o){var i=o.r,a=o.g,s=o.b;return"#".concat(rgbToHex(i,a,s,!1))}function mix(o,i,a){var s=a/100,j={r:(i.r-o.r)*s+o.r,g:(i.g-o.g)*s+o.g,b:(i.b-o.b)*s+o.b};return j}function getHue(o,i,a){var s;return Math.round(o.h)>=60&&Math.round(o.h)<=240?s=a?Math.round(o.h)-hueStep*i:Math.round(o.h)+hueStep*i:s=a?Math.round(o.h)+hueStep*i:Math.round(o.h)-hueStep*i,s<0?s+=360:s>=360&&(s-=360),s}function getSaturation(o,i,a){if(o.h===0&&o.s===0)return o.s;var s;return a?s=o.s-saturationStep*i:i===darkColorCount?s=o.s+saturationStep:s=o.s+saturationStep2*i,s>1&&(s=1),a&&i===lightColorCount&&s>.1&&(s=.1),s<.06&&(s=.06),Number(s.toFixed(2))}function getValue(o,i,a){var s;return a?s=o.v+brightnessStep1*i:s=o.v-brightnessStep2*i,s>1&&(s=1),Number(s.toFixed(2))}function generate$1(o){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=[],s=inputToRGB(o),j=lightColorCount;j>0;j-=1){var et=toHsv(s),tt=toHex(inputToRGB({h:getHue(et,j,!0),s:getSaturation(et,j,!0),v:getValue(et,j,!0)}));a.push(tt)}a.push(toHex(s));for(var rt=1;rt<=darkColorCount;rt+=1){var at=toHsv(s),ot=toHex(inputToRGB({h:getHue(at,rt),s:getSaturation(at,rt),v:getValue(at,rt)}));a.push(ot)}return i.theme==="dark"?darkColorMap.map(function(st){var _e=st.index,$=st.opacity,nt=toHex(mix(inputToRGB(i.backgroundColor||"#141414"),inputToRGB(a[_e]),$*100));return nt}):a}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(o){presetPalettes[o]=generate$1(presetPrimaryColors[o]),presetPalettes[o].primary=presetPalettes[o][5],presetDarkPalettes[o]=generate$1(presetPrimaryColors[o],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[o].primary=presetDarkPalettes[o][5]});var blue=presetPalettes.blue;const genControlHeight=o=>{const{controlHeight:i}=o;return{controlHeightSM:i*.75,controlHeightXS:i*.5,controlHeightLG:i*1.25}},genControlHeight$1=genControlHeight;function genSizeMapToken(o){const{sizeUnit:i,sizeStep:a}=o;return{sizeXXL:i*(a+8),sizeXL:i*(a+4),sizeLG:i*(a+2),sizeMD:i*(a+1),sizeMS:i*a,size:i*a,sizeSM:i*(a-1),sizeXS:i*(a-2),sizeXXS:i*(a-3)}}const defaultPresetColors={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},seedToken=Object.assign(Object.assign({},defaultPresetColors),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),seedToken$1=seedToken;function genColorMapToken(o,i){let{generateColorPalettes:a,generateNeutralColorPalettes:s}=i;const{colorSuccess:j,colorWarning:et,colorError:tt,colorInfo:rt,colorPrimary:at,colorBgBase:ot,colorTextBase:st}=o,_e=a(at),$=a(j),nt=a(et),it=a(tt),lt=a(rt),dt=s(ot,st);return Object.assign(Object.assign({},dt),{colorPrimaryBg:_e[1],colorPrimaryBgHover:_e[2],colorPrimaryBorder:_e[3],colorPrimaryBorderHover:_e[4],colorPrimaryHover:_e[5],colorPrimary:_e[6],colorPrimaryActive:_e[7],colorPrimaryTextHover:_e[8],colorPrimaryText:_e[9],colorPrimaryTextActive:_e[10],colorSuccessBg:$[1],colorSuccessBgHover:$[2],colorSuccessBorder:$[3],colorSuccessBorderHover:$[4],colorSuccessHover:$[4],colorSuccess:$[6],colorSuccessActive:$[7],colorSuccessTextHover:$[8],colorSuccessText:$[9],colorSuccessTextActive:$[10],colorErrorBg:it[1],colorErrorBgHover:it[2],colorErrorBorder:it[3],colorErrorBorderHover:it[4],colorErrorHover:it[5],colorError:it[6],colorErrorActive:it[7],colorErrorTextHover:it[8],colorErrorText:it[9],colorErrorTextActive:it[10],colorWarningBg:nt[1],colorWarningBgHover:nt[2],colorWarningBorder:nt[3],colorWarningBorderHover:nt[4],colorWarningHover:nt[4],colorWarning:nt[6],colorWarningActive:nt[7],colorWarningTextHover:nt[8],colorWarningText:nt[9],colorWarningTextActive:nt[10],colorInfoBg:lt[1],colorInfoBgHover:lt[2],colorInfoBorder:lt[3],colorInfoBorderHover:lt[4],colorInfoHover:lt[4],colorInfo:lt[6],colorInfoActive:lt[7],colorInfoTextHover:lt[8],colorInfoText:lt[9],colorInfoTextActive:lt[10],colorBgMask:new TinyColor("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const genRadius=o=>{let i=o,a=o,s=o,j=o;return o<6&&o>=5?i=o+1:o<16&&o>=6?i=o+2:o>=16&&(i=16),o<7&&o>=5?a=4:o<8&&o>=7?a=5:o<14&&o>=8?a=6:o<16&&o>=14?a=7:o>=16&&(a=8),o<6&&o>=2?s=1:o>=6&&(s=2),o>4&&o<8?j=4:o>=8&&(j=6),{borderRadius:o>16?16:o,borderRadiusXS:s,borderRadiusSM:a,borderRadiusLG:i,borderRadiusOuter:j}},genRadius$1=genRadius;function genCommonMapToken(o){const{motionUnit:i,motionBase:a,borderRadius:s,lineWidth:j}=o;return Object.assign({motionDurationFast:`${(a+i).toFixed(1)}s`,motionDurationMid:`${(a+i*2).toFixed(1)}s`,motionDurationSlow:`${(a+i*3).toFixed(1)}s`,lineWidthBold:j+1},genRadius$1(s))}const getAlphaColor$1=(o,i)=>new TinyColor(o).setAlpha(i).toRgbString(),getSolidColor=(o,i)=>new TinyColor(o).darken(i).toHexString(),generateColorPalettes=o=>{const i=generate$1(o);return{1:i[0],2:i[1],3:i[2],4:i[3],5:i[4],6:i[5],7:i[6],8:i[4],9:i[5],10:i[6]}},generateNeutralColorPalettes=(o,i)=>{const a=o||"#fff",s=i||"#000";return{colorBgBase:a,colorTextBase:s,colorText:getAlphaColor$1(s,.88),colorTextSecondary:getAlphaColor$1(s,.65),colorTextTertiary:getAlphaColor$1(s,.45),colorTextQuaternary:getAlphaColor$1(s,.25),colorFill:getAlphaColor$1(s,.15),colorFillSecondary:getAlphaColor$1(s,.06),colorFillTertiary:getAlphaColor$1(s,.04),colorFillQuaternary:getAlphaColor$1(s,.02),colorBgLayout:getSolidColor(a,4),colorBgContainer:getSolidColor(a,0),colorBgElevated:getSolidColor(a,0),colorBgSpotlight:getAlphaColor$1(s,.85),colorBorder:getSolidColor(a,15),colorBorderSecondary:getSolidColor(a,6)}};function getFontSizes(o){const i=new Array(10).fill(null).map((a,s)=>{const j=s-1,et=o*Math.pow(2.71828,j/5),tt=s>1?Math.floor(et):Math.ceil(et);return Math.floor(tt/2)*2});return i[1]=o,i.map(a=>{const s=a+8;return{size:a,lineHeight:s/a}})}const genFontMapToken=o=>{const i=getFontSizes(o),a=i.map(j=>j.size),s=i.map(j=>j.lineHeight);return{fontSizeSM:a[0],fontSize:a[1],fontSizeLG:a[2],fontSizeXL:a[3],fontSizeHeading1:a[6],fontSizeHeading2:a[5],fontSizeHeading3:a[4],fontSizeHeading4:a[3],fontSizeHeading5:a[2],lineHeight:s[1],lineHeightLG:s[2],lineHeightSM:s[0],lineHeightHeading1:s[6],lineHeightHeading2:s[5],lineHeightHeading3:s[4],lineHeightHeading4:s[3],lineHeightHeading5:s[2]}},genFontMapToken$1=genFontMapToken;function derivative(o){const i=Object.keys(defaultPresetColors).map(a=>{const s=generate$1(o[a]);return new Array(10).fill(1).reduce((j,et,tt)=>(j[`${a}-${tt+1}`]=s[tt],j[`${a}${tt+1}`]=s[tt],j),{})}).reduce((a,s)=>(a=Object.assign(Object.assign({},a),s),a),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),i),genColorMapToken(o,{generateColorPalettes,generateNeutralColorPalettes})),genFontMapToken$1(o.fontSize)),genSizeMapToken(o)),genControlHeight$1(o)),genCommonMapToken(o))}function isStableColor(o){return o>=0&&o<=255}function getAlphaColor(o,i){const{r:a,g:s,b:j,a:et}=new TinyColor(o).toRgb();if(et<1)return o;const{r:tt,g:rt,b:at}=new TinyColor(i).toRgb();for(let ot=.01;ot<=1;ot+=.01){const st=Math.round((a-tt*(1-ot))/ot),_e=Math.round((s-rt*(1-ot))/ot),$=Math.round((j-at*(1-ot))/ot);if(isStableColor(st)&&isStableColor(_e)&&isStableColor($))return new TinyColor({r:st,g:_e,b:$,a:Math.round(ot*100)/100}).toRgbString()}return new TinyColor({r:a,g:s,b:j,a:1}).toRgbString()}var __rest$3=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,s=Object.getOwnPropertySymbols(o);j<s.length;j++)i.indexOf(s[j])<0&&Object.prototype.propertyIsEnumerable.call(o,s[j])&&(a[s[j]]=o[s[j]]);return a};function formatToken(o){const{override:i}=o,a=__rest$3(o,["override"]),s=Object.assign({},i);Object.keys(seedToken$1).forEach($=>{delete s[$]});const j=Object.assign(Object.assign({},a),s),et=480,tt=576,rt=768,at=992,ot=1200,st=1600;if(j.motion===!1){const $="0s";j.motionDurationFast=$,j.motionDurationMid=$,j.motionDurationSlow=$}return Object.assign(Object.assign(Object.assign({},j),{colorLink:j.colorInfoText,colorLinkHover:j.colorInfoHover,colorLinkActive:j.colorInfoActive,colorFillContent:j.colorFillSecondary,colorFillContentHover:j.colorFill,colorFillAlter:j.colorFillQuaternary,colorBgContainerDisabled:j.colorFillTertiary,colorBorderBg:j.colorBgContainer,colorSplit:getAlphaColor(j.colorBorderSecondary,j.colorBgContainer),colorTextPlaceholder:j.colorTextQuaternary,colorTextDisabled:j.colorTextQuaternary,colorTextHeading:j.colorText,colorTextLabel:j.colorTextSecondary,colorTextDescription:j.colorTextTertiary,colorTextLightSolid:j.colorWhite,colorHighlight:j.colorError,colorBgTextHover:j.colorFillSecondary,colorBgTextActive:j.colorFill,colorIcon:j.colorTextTertiary,colorIconHover:j.colorText,colorErrorOutline:getAlphaColor(j.colorErrorBg,j.colorBgContainer),colorWarningOutline:getAlphaColor(j.colorWarningBg,j.colorBgContainer),fontSizeIcon:j.fontSizeSM,lineWidthFocus:j.lineWidth*4,lineWidth:j.lineWidth,controlOutlineWidth:j.lineWidth*2,controlInteractiveSize:j.controlHeight/2,controlItemBgHover:j.colorFillTertiary,controlItemBgActive:j.colorPrimaryBg,controlItemBgActiveHover:j.colorPrimaryBgHover,controlItemBgActiveDisabled:j.colorFill,controlTmpOutline:j.colorFillQuaternary,controlOutline:getAlphaColor(j.colorPrimaryBg,j.colorBgContainer),lineType:j.lineType,borderRadius:j.borderRadius,borderRadiusXS:j.borderRadiusXS,borderRadiusSM:j.borderRadiusSM,borderRadiusLG:j.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:j.sizeXXS,paddingXS:j.sizeXS,paddingSM:j.sizeSM,padding:j.size,paddingMD:j.sizeMD,paddingLG:j.sizeLG,paddingXL:j.sizeXL,paddingContentHorizontalLG:j.sizeLG,paddingContentVerticalLG:j.sizeMS,paddingContentHorizontal:j.sizeMS,paddingContentVertical:j.sizeSM,paddingContentHorizontalSM:j.size,paddingContentVerticalSM:j.sizeXS,marginXXS:j.sizeXXS,marginXS:j.sizeXS,marginSM:j.sizeSM,margin:j.size,marginMD:j.sizeMD,marginLG:j.sizeLG,marginXL:j.sizeXL,marginXXL:j.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:et,screenXSMin:et,screenXSMax:tt-1,screenSM:tt,screenSMMin:tt,screenSMMax:rt-1,screenMD:rt,screenMDMin:rt,screenMDMax:at-1,screenLG:at,screenLGMin:at,screenLGMax:ot-1,screenXL:ot,screenXLMin:ot,screenXLMax:st-1,screenXXL:st,screenXXLMin:st,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new TinyColor("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new TinyColor("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new TinyColor("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),s)}function useSafeState(o){var i=reactExports.useRef(!1),a=reactExports.useState(o),s=_slicedToArray(a,2),j=s[0],et=s[1];reactExports.useEffect(function(){return i.current=!1,function(){i.current=!0}},[]);function tt(rt,at){at&&i.current||et(rt)}return[j,tt]}const defaultIconPrefixCls="anticon",defaultGetPrefixCls=(o,i)=>i||(o?`ant-${o}`:"ant"),ConfigContext=reactExports.createContext({getPrefixCls:defaultGetPrefixCls,iconPrefixCls:defaultIconPrefixCls}),resetComponent=o=>({boxSizing:"border-box",margin:0,padding:0,color:o.colorText,fontSize:o.fontSize,lineHeight:o.lineHeight,listStyle:"none",fontFamily:o.fontFamily}),resetIcon=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),genLinkStyle=o=>({a:{color:o.colorLink,textDecoration:o.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${o.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:o.colorLinkHover},"&:active":{color:o.colorLinkActive},[`&:active,
  &:hover`]:{textDecoration:o.linkHoverDecoration,outline:0},"&:focus":{textDecoration:o.linkFocusDecoration,outline:0},"&[disabled]":{color:o.colorTextDisabled,cursor:"not-allowed"}}}),genCommonStyle=(o,i)=>{const{fontFamily:a,fontSize:s}=o,j=`[class^="${i}"], [class*=" ${i}"]`;return{[j]:{fontFamily:a,fontSize:s,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[j]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}};function genComponentStyleHook(o,i,a,s){return j=>{const[et,tt,rt]=useToken(),{getPrefixCls:at,iconPrefixCls:ot,csp:st}=reactExports.useContext(ConfigContext),_e=at(),$={theme:et,token:tt,hashId:rt,nonce:()=>st==null?void 0:st.nonce};return useStyleRegister(Object.assign(Object.assign({},$),{path:["Shared",_e]}),()=>[{"&":genLinkStyle(tt)}]),[useStyleRegister(Object.assign(Object.assign({},$),{path:[o,j,ot]}),()=>{const{token:nt,flush:it}=statisticToken(tt),lt=Object.assign({},tt[o]);if(s!=null&&s.deprecatedTokens){const{deprecatedTokens:mt}=s;mt.forEach(yt=>{let[bt,_t]=yt;var xt;(lt!=null&&lt[bt]||lt!=null&&lt[_t])&&((xt=lt[_t])!==null&&xt!==void 0||(lt[_t]=lt==null?void 0:lt[bt]))})}const dt=typeof a=="function"?a(merge(nt,lt??{})):a,ft=Object.assign(Object.assign({},dt),lt),pt=`.${j}`,ht=merge(nt,{componentCls:pt,prefixCls:j,iconCls:`.${ot}`,antCls:`.${_e}`},ft),gt=i(ht,{hashId:rt,prefixCls:j,rootPrefixCls:_e,iconPrefixCls:ot,overrideComponentToken:lt});return it(o,ft),[(s==null?void 0:s.resetStyle)===!1?null:genCommonStyle(tt,j),gt]}),rt]}}const enableStatistic=typeof CSSINJS_STATISTIC<"u";let recording=!0;function merge(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if(!enableStatistic)return Object.assign.apply(Object,[{}].concat(i));recording=!1;const s={};return i.forEach(j=>{Object.keys(j).forEach(tt=>{Object.defineProperty(s,tt,{configurable:!0,enumerable:!0,get:()=>j[tt]})})}),recording=!0,s}function noop(){}function statisticToken(o){let i,a=o,s=noop;return enableStatistic&&(i=new Set,a=new Proxy(o,{get(j,et){return recording&&i.add(et),j[et]}}),s=(j,et)=>{Array.from(i)}),{token:a,keys:i,flush:s}}const defaultTheme=createTheme(derivative),defaultConfig={token:seedToken$1,hashed:!0},DesignTokenContext=React.createContext(defaultConfig);function useToken(){const{token:o,hashed:i,theme:a,components:s}=React.useContext(DesignTokenContext),j=`${version$1}-${i||""}`,et=a||defaultTheme,[tt,rt]=useCacheToken(et,[seedToken$1,o],{salt:j,override:Object.assign({override:o},s),formatToken});return[et,tt,i?rt:""]}const dynamicStyleMark=`-ant-${Date.now()}-${Math.random()}`;function getStyle(o,i){const a={},s=(tt,rt)=>{let at=tt.clone();return at=(rt==null?void 0:rt(at))||at,at.toRgbString()},j=(tt,rt)=>{const at=new TinyColor(tt),ot=generate$1(at.toRgbString());a[`${rt}-color`]=s(at),a[`${rt}-color-disabled`]=ot[1],a[`${rt}-color-hover`]=ot[4],a[`${rt}-color-active`]=ot[6],a[`${rt}-color-outline`]=at.clone().setAlpha(.2).toRgbString(),a[`${rt}-color-deprecated-bg`]=ot[0],a[`${rt}-color-deprecated-border`]=ot[2]};if(i.primaryColor){j(i.primaryColor,"primary");const tt=new TinyColor(i.primaryColor),rt=generate$1(tt.toRgbString());rt.forEach((ot,st)=>{a[`primary-${st+1}`]=ot}),a["primary-color-deprecated-l-35"]=s(tt,ot=>ot.lighten(35)),a["primary-color-deprecated-l-20"]=s(tt,ot=>ot.lighten(20)),a["primary-color-deprecated-t-20"]=s(tt,ot=>ot.tint(20)),a["primary-color-deprecated-t-50"]=s(tt,ot=>ot.tint(50)),a["primary-color-deprecated-f-12"]=s(tt,ot=>ot.setAlpha(ot.getAlpha()*.12));const at=new TinyColor(rt[0]);a["primary-color-active-deprecated-f-30"]=s(at,ot=>ot.setAlpha(ot.getAlpha()*.3)),a["primary-color-active-deprecated-d-02"]=s(at,ot=>ot.darken(2))}return i.successColor&&j(i.successColor,"success"),i.warningColor&&j(i.warningColor,"warning"),i.errorColor&&j(i.errorColor,"error"),i.infoColor&&j(i.infoColor,"info"),`
  :root {
    ${Object.keys(a).map(tt=>`--${o}-${tt}: ${a[tt]};`).join(`
`)}
  }
  `.trim()}function registerTheme(o,i){const a=getStyle(o,i);canUseDom()&&updateCSS(a,`${dynamicStyleMark}-dynamic-theme`)}const DisabledContext=reactExports.createContext(!1),DisabledContextProvider=o=>{let{children:i,disabled:a}=o;const s=reactExports.useContext(DisabledContext);return reactExports.createElement(DisabledContext.Provider,{value:a??s},i)},DisabledContext$1=DisabledContext,useSize=o=>{const i=React.useContext(SizeContext$1);return React.useMemo(()=>o?typeof o=="string"?o??i:o instanceof Function?o(i):i:i,[o,i])},useSize$1=useSize,SizeContext=reactExports.createContext(void 0),SizeContextProvider=o=>{let{children:i,size:a}=o;const s=useSize$1(a);return reactExports.createElement(SizeContext.Provider,{value:s},i)},SizeContext$1=SizeContext;function useConfig(){const o=reactExports.useContext(DisabledContext$1),i=reactExports.useContext(SizeContext$1);return{componentDisabled:o,componentSize:i}}function useTheme(o,i){const a=o||{},s=a.inherit===!1||!i?defaultConfig:i;return useMemo(()=>{if(!o)return i;const et=Object.assign({},s.components);return Object.keys(o.components||{}).forEach(tt=>{et[tt]=Object.assign(Object.assign({},et[tt]),o.components[tt])}),Object.assign(Object.assign(Object.assign({},s),a),{token:Object.assign(Object.assign({},s.token),a.token),components:et})},[a,s],(et,tt)=>et.some((rt,at)=>{const ot=tt[at];return!isEqual(rt,ot,!0)}))}var _excluded$4=["children"],Context=reactExports.createContext({});function MotionProvider(o){var i=o.children,a=_objectWithoutProperties(o,_excluded$4);return reactExports.createElement(Context.Provider,{value:a},i)}var DomWrapper=function(o){_inherits(a,o);var i=_createSuper(a);function a(){return _classCallCheck(this,a),i.apply(this,arguments)}return _createClass(a,[{key:"render",value:function(){return this.props.children}}]),a}(reactExports.Component),STATUS_NONE="none",STATUS_APPEAR="appear",STATUS_ENTER="enter",STATUS_LEAVE="leave",STEP_NONE="none",STEP_PREPARE="prepare",STEP_START="start",STEP_ACTIVE="active",STEP_ACTIVATED="end",STEP_PREPARED="prepared";function makePrefixMap(o,i){var a={};return a[o.toLowerCase()]=i.toLowerCase(),a["Webkit".concat(o)]="webkit".concat(i),a["Moz".concat(o)]="moz".concat(i),a["ms".concat(o)]="MS".concat(i),a["O".concat(o)]="o".concat(i.toLowerCase()),a}function getVendorPrefixes(o,i){var a={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return o&&("AnimationEvent"in i||delete a.animationend.animation,"TransitionEvent"in i||delete a.transitionend.transition),a}var vendorPrefixes=getVendorPrefixes(canUseDom(),typeof window<"u"?window:{}),style={};if(canUseDom()){var _document$createEleme=document.createElement("div");style=_document$createEleme.style}var prefixedEventNames={};function getVendorPrefixedEventName(o){if(prefixedEventNames[o])return prefixedEventNames[o];var i=vendorPrefixes[o];if(i)for(var a=Object.keys(i),s=a.length,j=0;j<s;j+=1){var et=a[j];if(Object.prototype.hasOwnProperty.call(i,et)&&et in style)return prefixedEventNames[o]=i[et],prefixedEventNames[o]}return""}var internalAnimationEndName=getVendorPrefixedEventName("animationend"),internalTransitionEndName=getVendorPrefixedEventName("transitionend"),supportTransition=!!(internalAnimationEndName&&internalTransitionEndName),animationEndName=internalAnimationEndName||"animationend",transitionEndName=internalTransitionEndName||"transitionend";function getTransitionName(o,i){if(!o)return null;if(_typeof(o)==="object"){var a=i.replace(/-\w/g,function(s){return s[1].toUpperCase()});return o[a]}return"".concat(o,"-").concat(i)}const useDomMotionEvents=function(o){var i=reactExports.useRef(),a=reactExports.useRef(o);a.current=o;var s=reactExports.useCallback(function(tt){a.current(tt)},[]);function j(tt){tt&&(tt.removeEventListener(transitionEndName,s),tt.removeEventListener(animationEndName,s))}function et(tt){i.current&&i.current!==tt&&j(i.current),tt&&tt!==i.current&&(tt.addEventListener(transitionEndName,s),tt.addEventListener(animationEndName,s),i.current=tt)}return reactExports.useEffect(function(){return function(){j(i.current)}},[]),[et,j]};var useIsomorphicLayoutEffect=canUseDom()?reactExports.useLayoutEffect:reactExports.useEffect;const useNextFrame=function(){var o=reactExports.useRef(null);function i(){wrapperRaf.cancel(o.current)}function a(s){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;i();var et=wrapperRaf(function(){j<=1?s({isCanceled:function(){return et!==o.current}}):a(s,j-1)});o.current=et}return reactExports.useEffect(function(){return function(){i()}},[]),[a,i]};var FULL_STEP_QUEUE=[STEP_PREPARE,STEP_START,STEP_ACTIVE,STEP_ACTIVATED],SIMPLE_STEP_QUEUE=[STEP_PREPARE,STEP_PREPARED],SkipStep=!1,DoStep=!0;function isActive(o){return o===STEP_ACTIVE||o===STEP_ACTIVATED}const useStepQueue=function(o,i,a){var s=useSafeState(STEP_NONE),j=_slicedToArray(s,2),et=j[0],tt=j[1],rt=useNextFrame(),at=_slicedToArray(rt,2),ot=at[0],st=at[1];function _e(){tt(STEP_PREPARE,!0)}var $=i?SIMPLE_STEP_QUEUE:FULL_STEP_QUEUE;return useIsomorphicLayoutEffect(function(){if(et!==STEP_NONE&&et!==STEP_ACTIVATED){var nt=$.indexOf(et),it=$[nt+1],lt=a(et);lt===SkipStep?tt(it,!0):it&&ot(function(dt){function ft(){dt.isCanceled()||tt(it,!0)}lt===!0?ft():Promise.resolve(lt).then(ft)})}},[o,et]),reactExports.useEffect(function(){return function(){st()}},[]),[_e,et]};function useStatus(o,i,a,s){var j=s.motionEnter,et=j===void 0?!0:j,tt=s.motionAppear,rt=tt===void 0?!0:tt,at=s.motionLeave,ot=at===void 0?!0:at,st=s.motionDeadline,_e=s.motionLeaveImmediately,$=s.onAppearPrepare,nt=s.onEnterPrepare,it=s.onLeavePrepare,lt=s.onAppearStart,dt=s.onEnterStart,ft=s.onLeaveStart,pt=s.onAppearActive,ht=s.onEnterActive,gt=s.onLeaveActive,mt=s.onAppearEnd,yt=s.onEnterEnd,bt=s.onLeaveEnd,_t=s.onVisibleChanged,xt=useSafeState(),Et=_slicedToArray(xt,2),Tt=Et[0],Pt=Et[1],At=useSafeState(STATUS_NONE),Ot=_slicedToArray(At,2),It=Ot[0],$t=Ot[1],kt=useSafeState(null),Ft=_slicedToArray(kt,2),Ut=Ft[0],zt=Ft[1],Wt=reactExports.useRef(!1),Qt=reactExports.useRef(null);function un(){return a()}var an=reactExports.useRef(!1);function vn(){$t(STATUS_NONE,!0),zt(null,!0)}function fn(jn){var On=un();if(!(jn&&!jn.deadline&&jn.target!==On)){var zn=an.current,Fn;It===STATUS_APPEAR&&zn?Fn=mt==null?void 0:mt(On,jn):It===STATUS_ENTER&&zn?Fn=yt==null?void 0:yt(On,jn):It===STATUS_LEAVE&&zn&&(Fn=bt==null?void 0:bt(On,jn)),It!==STATUS_NONE&&zn&&Fn!==!1&&vn()}}var jt=useDomMotionEvents(fn),en=_slicedToArray(jt,1),on=en[0],wn=function(On){var zn,Fn,Bn;switch(On){case STATUS_APPEAR:return zn={},_defineProperty(zn,STEP_PREPARE,$),_defineProperty(zn,STEP_START,lt),_defineProperty(zn,STEP_ACTIVE,pt),zn;case STATUS_ENTER:return Fn={},_defineProperty(Fn,STEP_PREPARE,nt),_defineProperty(Fn,STEP_START,dt),_defineProperty(Fn,STEP_ACTIVE,ht),Fn;case STATUS_LEAVE:return Bn={},_defineProperty(Bn,STEP_PREPARE,it),_defineProperty(Bn,STEP_START,ft),_defineProperty(Bn,STEP_ACTIVE,gt),Bn;default:return{}}},cn=reactExports.useMemo(function(){return wn(It)},[It]),An=useStepQueue(It,!o,function(jn){if(jn===STEP_PREPARE){var On=cn[STEP_PREPARE];return On?On(un()):SkipStep}if(xn in cn){var zn;zt(((zn=cn[xn])===null||zn===void 0?void 0:zn.call(cn,un(),null))||null)}return xn===STEP_ACTIVE&&(on(un()),st>0&&(clearTimeout(Qt.current),Qt.current=setTimeout(function(){fn({deadline:!0})},st))),xn===STEP_PREPARED&&vn(),DoStep}),bn=_slicedToArray(An,2),Vn=bn[0],xn=bn[1],Jn=isActive(xn);an.current=Jn,useIsomorphicLayoutEffect(function(){Pt(i);var jn=Wt.current;Wt.current=!0;var On;!jn&&i&&rt&&(On=STATUS_APPEAR),jn&&i&&et&&(On=STATUS_ENTER),(jn&&!i&&ot||!jn&&_e&&!i&&ot)&&(On=STATUS_LEAVE);var zn=wn(On);On&&(o||zn[STEP_PREPARE])?($t(On),Vn()):$t(STATUS_NONE)},[i]),reactExports.useEffect(function(){(It===STATUS_APPEAR&&!rt||It===STATUS_ENTER&&!et||It===STATUS_LEAVE&&!ot)&&$t(STATUS_NONE)},[rt,et,ot]),reactExports.useEffect(function(){return function(){Wt.current=!1,clearTimeout(Qt.current)}},[]);var Ln=reactExports.useRef(!1);reactExports.useEffect(function(){Tt&&(Ln.current=!0),Tt!==void 0&&It===STATUS_NONE&&((Ln.current||Tt)&&(_t==null||_t(Tt)),Ln.current=!0)},[Tt,It]);var Hn=Ut;return cn[STEP_PREPARE]&&xn===STEP_START&&(Hn=_objectSpread2({transition:"none"},Hn)),[It,xn,Hn,Tt??i]}function genCSSMotion(o){var i=o;_typeof(o)==="object"&&(i=o.transitionSupport);function a(j,et){return!!(j.motionName&&i&&et!==!1)}var s=reactExports.forwardRef(function(j,et){var tt=j.visible,rt=tt===void 0?!0:tt,at=j.removeOnLeave,ot=at===void 0?!0:at,st=j.forceRender,_e=j.children,$=j.motionName,nt=j.leavedClassName,it=j.eventProps,lt=reactExports.useContext(Context),dt=lt.motion,ft=a(j,dt),pt=reactExports.useRef(),ht=reactExports.useRef();function gt(){try{return pt.current instanceof HTMLElement?pt.current:findDOMNode(ht.current)}catch{return null}}var mt=useStatus(ft,rt,gt,j),yt=_slicedToArray(mt,4),bt=yt[0],_t=yt[1],xt=yt[2],Et=yt[3],Tt=reactExports.useRef(Et);Et&&(Tt.current=!0);var Pt=reactExports.useCallback(function(zt){pt.current=zt,fillRef(et,zt)},[et]),At,Ot=_objectSpread2(_objectSpread2({},it),{},{visible:rt});if(!_e)At=null;else if(bt===STATUS_NONE)Et?At=_e(_objectSpread2({},Ot),Pt):!ot&&Tt.current&&nt?At=_e(_objectSpread2(_objectSpread2({},Ot),{},{className:nt}),Pt):st||!ot&&!nt?At=_e(_objectSpread2(_objectSpread2({},Ot),{},{style:{display:"none"}}),Pt):At=null;else{var It,$t;_t===STEP_PREPARE?$t="prepare":isActive(_t)?$t="active":_t===STEP_START&&($t="start");var kt=getTransitionName($,"".concat(bt,"-").concat($t));At=_e(_objectSpread2(_objectSpread2({},Ot),{},{className:classNames(getTransitionName($,bt),(It={},_defineProperty(It,kt,kt&&$t),_defineProperty(It,$,typeof $=="string"),It)),style:xt}),Pt)}if(reactExports.isValidElement(At)&&supportRef(At)){var Ft=At,Ut=Ft.ref;Ut||(At=reactExports.cloneElement(At,{ref:Pt}))}return reactExports.createElement(DomWrapper,{ref:ht},At)});return s.displayName="CSSMotion",s}const CSSMotion=genCSSMotion(supportTransition);var STATUS_ADD="add",STATUS_KEEP="keep",STATUS_REMOVE="remove",STATUS_REMOVED="removed";function wrapKeyToObject(o){var i;return o&&_typeof(o)==="object"&&"key"in o?i=o:i={key:o},_objectSpread2(_objectSpread2({},i),{},{key:String(i.key)})}function parseKeys(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return o.map(wrapKeyToObject)}function diffKeys(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[],s=0,j=i.length,et=parseKeys(o),tt=parseKeys(i);et.forEach(function(ot){for(var st=!1,_e=s;_e<j;_e+=1){var $=tt[_e];if($.key===ot.key){s<_e&&(a=a.concat(tt.slice(s,_e).map(function(nt){return _objectSpread2(_objectSpread2({},nt),{},{status:STATUS_ADD})})),s=_e),a.push(_objectSpread2(_objectSpread2({},$),{},{status:STATUS_KEEP})),s+=1,st=!0;break}}st||a.push(_objectSpread2(_objectSpread2({},ot),{},{status:STATUS_REMOVE}))}),s<j&&(a=a.concat(tt.slice(s).map(function(ot){return _objectSpread2(_objectSpread2({},ot),{},{status:STATUS_ADD})})));var rt={};a.forEach(function(ot){var st=ot.key;rt[st]=(rt[st]||0)+1});var at=Object.keys(rt).filter(function(ot){return rt[ot]>1});return at.forEach(function(ot){a=a.filter(function(st){var _e=st.key,$=st.status;return _e!==ot||$!==STATUS_REMOVE}),a.forEach(function(st){st.key===ot&&(st.status=STATUS_KEEP)})}),a}var _excluded$3=["component","children","onVisibleChanged","onAllRemoved"],_excluded2=["status"],MOTION_PROP_NAMES=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function genCSSMotionList(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CSSMotion,a=function(s){_inherits(et,s);var j=_createSuper(et);function et(){var tt;_classCallCheck(this,et);for(var rt=arguments.length,at=new Array(rt),ot=0;ot<rt;ot++)at[ot]=arguments[ot];return tt=j.call.apply(j,[this].concat(at)),_defineProperty(_assertThisInitialized(tt),"state",{keyEntities:[]}),_defineProperty(_assertThisInitialized(tt),"removeKey",function(st){var _e=tt.state.keyEntities,$=_e.map(function(nt){return nt.key!==st?nt:_objectSpread2(_objectSpread2({},nt),{},{status:STATUS_REMOVED})});return tt.setState({keyEntities:$}),$.filter(function(nt){var it=nt.status;return it!==STATUS_REMOVED}).length}),tt}return _createClass(et,[{key:"render",value:function(){var rt=this,at=this.state.keyEntities,ot=this.props,st=ot.component,_e=ot.children,$=ot.onVisibleChanged,nt=ot.onAllRemoved,it=_objectWithoutProperties(ot,_excluded$3),lt=st||reactExports.Fragment,dt={};return MOTION_PROP_NAMES.forEach(function(ft){dt[ft]=it[ft],delete it[ft]}),delete it.keys,reactExports.createElement(lt,it,at.map(function(ft){var pt=ft.status,ht=_objectWithoutProperties(ft,_excluded2),gt=pt===STATUS_ADD||pt===STATUS_KEEP;return reactExports.createElement(i,_extends$1({},dt,{key:ht.key,visible:gt,eventProps:ht,onVisibleChanged:function(yt){if($==null||$(yt,{key:ht.key}),!yt){var bt=rt.removeKey(ht.key);bt===0&&nt&&nt()}}}),_e)}))}}],[{key:"getDerivedStateFromProps",value:function(rt,at){var ot=rt.keys,st=at.keyEntities,_e=parseKeys(ot),$=diffKeys(st,_e);return{keyEntities:$.filter(function(nt){var it=st.find(function(lt){var dt=lt.key;return nt.key===dt});return!(it&&it.status===STATUS_REMOVED&&nt.status===STATUS_REMOVE)})}}}]),et}(reactExports.Component);return _defineProperty(a,"defaultProps",{component:"div"}),a}const CSSMotionList=genCSSMotionList(supportTransition);function MotionWrapper(o){const{children:i}=o,[,a]=useToken(),{motion:s}=a,j=reactExports.useRef(!1);return j.current=j.current||s===!1,j.current?reactExports.createElement(MotionProvider,{motion:s},i):i}const useStyle$1=(o,i)=>{const[a,s]=useToken();return useStyleRegister({theme:a,token:s,hashId:"",path:["ant-design-icons",o],nonce:()=>i==null?void 0:i.nonce},()=>[{[`.${o}`]:Object.assign(Object.assign({},resetIcon()),{[`.${o} .${o}-icon`]:{display:"block"}})}])},useStyle$2=useStyle$1;var __rest$2=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,s=Object.getOwnPropertySymbols(o);j<s.length;j++)i.indexOf(s[j])<0&&Object.prototype.propertyIsEnumerable.call(o,s[j])&&(a[s[j]]=o[s[j]]);return a};const PASSED_PROPS=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],defaultPrefixCls="ant";let globalPrefixCls,globalIconPrefixCls,globalTheme;function getGlobalPrefixCls(){return globalPrefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalIconPrefixCls||defaultIconPrefixCls}function isLegacyTheme(o){return Object.keys(o).some(i=>i.endsWith("Color"))}const setGlobalConfig=o=>{let{prefixCls:i,iconPrefixCls:a,theme:s}=o;i!==void 0&&(globalPrefixCls=i),a!==void 0&&(globalIconPrefixCls=a),s&&(isLegacyTheme(s)?registerTheme(getGlobalPrefixCls(),s):globalTheme=s)},globalConfig=()=>({getPrefixCls:(o,i)=>i||(o?`${getGlobalPrefixCls()}-${o}`:getGlobalPrefixCls()),getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:()=>globalPrefixCls||getGlobalPrefixCls(),getTheme:()=>globalTheme}),ProviderChildren=o=>{const{children:i,csp:a,autoInsertSpaceInButton:s,form:j,locale:et,componentSize:tt,direction:rt,space:at,virtual:ot,dropdownMatchSelectWidth:st,popupMatchSelectWidth:_e,popupOverflow:$,legacyLocale:nt,parentContext:it,iconPrefixCls:lt,theme:dt,componentDisabled:ft}=o,pt=reactExports.useCallback((It,$t)=>{const{prefixCls:kt}=o;if($t)return $t;const Ft=kt||it.getPrefixCls("");return It?`${Ft}-${It}`:Ft},[it.getPrefixCls,o.prefixCls]),ht=lt||it.iconPrefixCls||defaultIconPrefixCls,gt=ht!==it.iconPrefixCls,mt=a||it.csp,yt=useStyle$2(ht,mt),bt=useTheme(dt,it.theme),_t={csp:mt,autoInsertSpaceInButton:s,locale:et||nt,direction:rt,space:at,virtual:ot,popupMatchSelectWidth:_e??st,popupOverflow:$,getPrefixCls:pt,iconPrefixCls:ht,theme:bt},xt=Object.assign({},it);Object.keys(_t).forEach(It=>{_t[It]!==void 0&&(xt[It]=_t[It])}),PASSED_PROPS.forEach(It=>{const $t=o[It];$t&&(xt[It]=$t)});const Et=useMemo(()=>xt,xt,(It,$t)=>{const kt=Object.keys(It),Ft=Object.keys($t);return kt.length!==Ft.length||kt.some(Ut=>It[Ut]!==$t[Ut])}),Tt=reactExports.useMemo(()=>({prefixCls:ht,csp:mt}),[ht,mt]);let Pt=gt?yt(i):i;const At=reactExports.useMemo(()=>{var It,$t,kt;return merge$1(((It=defaultLocale.Form)===null||It===void 0?void 0:It.defaultValidateMessages)||{},((kt=($t=Et.locale)===null||$t===void 0?void 0:$t.Form)===null||kt===void 0?void 0:kt.defaultValidateMessages)||{},(j==null?void 0:j.validateMessages)||{})},[Et,j==null?void 0:j.validateMessages]);Object.keys(At).length>0&&(Pt=reactExports.createElement(ValidateMessagesContext.Provider,{value:At},i)),et&&(Pt=reactExports.createElement(LocaleProvider$1,{locale:et,_ANT_MARK__:ANT_MARK},Pt)),(ht||mt)&&(Pt=reactExports.createElement(Context$2.Provider,{value:Tt},Pt)),tt&&(Pt=reactExports.createElement(SizeContextProvider,{size:tt},Pt)),Pt=reactExports.createElement(MotionWrapper,null,Pt);const Ot=reactExports.useMemo(()=>{const It=bt||{},{algorithm:$t,token:kt}=It,Ft=__rest$2(It,["algorithm","token"]),Ut=$t&&(!Array.isArray($t)||$t.length>0)?createTheme($t):void 0;return Object.assign(Object.assign({},Ft),{theme:Ut,token:Object.assign(Object.assign({},seedToken$1),kt)})},[bt]);return dt&&(Pt=reactExports.createElement(DesignTokenContext.Provider,{value:Ot},Pt)),ft!==void 0&&(Pt=reactExports.createElement(DisabledContextProvider,{disabled:ft},Pt)),reactExports.createElement(ConfigContext.Provider,{value:Et},Pt)},ConfigProvider=o=>{const i=reactExports.useContext(ConfigContext),a=reactExports.useContext(LocaleContext$1);return reactExports.createElement(ProviderChildren,Object.assign({parentContext:i,legacyLocale:a},o))};ConfigProvider.ConfigContext=ConfigContext;ConfigProvider.SizeContext=SizeContext$1;ConfigProvider.config=setGlobalConfig;ConfigProvider.useConfig=useConfig;Object.defineProperty(ConfigProvider,"SizeContext",{get:()=>SizeContext$1});var CheckCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const CheckCircleFilledSvg=CheckCircleFilled$2;function getRoot(o){var i;return o==null||(i=o.getRootNode)===null||i===void 0?void 0:i.call(o)}function inShadow(o){return getRoot(o)!==(o==null?void 0:o.ownerDocument)}function getShadowRoot(o){return inShadow(o)?getRoot(o):null}function warning(o,i){warningOnce(o,"[@ant-design/icons] ".concat(i))}function isIconDefinition(o){return _typeof(o)==="object"&&typeof o.name=="string"&&typeof o.theme=="string"&&(_typeof(o.icon)==="object"||typeof o.icon=="function")}function normalizeAttrs(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(o).reduce(function(i,a){var s=o[a];switch(a){case"class":i.className=s,delete i.class;break;default:i[a]=s}return i},{})}function generate(o,i,a){return a?React.createElement(o.tag,_objectSpread2(_objectSpread2({key:i},normalizeAttrs(o.attrs)),a),(o.children||[]).map(function(s,j){return generate(s,"".concat(i,"-").concat(o.tag,"-").concat(j))})):React.createElement(o.tag,_objectSpread2({key:i},normalizeAttrs(o.attrs)),(o.children||[]).map(function(s,j){return generate(s,"".concat(i,"-").concat(o.tag,"-").concat(j))}))}function getSecondaryColor(o){return generate$1(o)[0]}function normalizeTwoToneColors(o){return o?Array.isArray(o)?o:[o]:[]}var iconStyles=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,useInsertStyles=function o(i){var a=reactExports.useContext(Context$2),s=a.csp,j=a.prefixCls,et=iconStyles;j&&(et=et.replace(/anticon/g,j)),reactExports.useEffect(function(){var tt=i.current,rt=getShadowRoot(tt);updateCSS(et,"@ant-design-icons",{prepend:!0,csp:s,attachTo:rt})},[])},_excluded$2=["icon","className","onClick","style","primaryColor","secondaryColor"],twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors(o){var i=o.primaryColor,a=o.secondaryColor;twoToneColorPalette.primaryColor=i,twoToneColorPalette.secondaryColor=a||getSecondaryColor(i),twoToneColorPalette.calculated=!!a}function getTwoToneColors(){return _objectSpread2({},twoToneColorPalette)}var IconBase=function o(i){var a=i.icon,s=i.className,j=i.onClick,et=i.style,tt=i.primaryColor,rt=i.secondaryColor,at=_objectWithoutProperties(i,_excluded$2),ot=reactExports.useRef(),st=twoToneColorPalette;if(tt&&(st={primaryColor:tt,secondaryColor:rt||getSecondaryColor(tt)}),useInsertStyles(ot),warning(isIconDefinition(a),"icon should be icon definiton, but got ".concat(a)),!isIconDefinition(a))return null;var _e=a;return _e&&typeof _e.icon=="function"&&(_e=_objectSpread2(_objectSpread2({},_e),{},{icon:_e.icon(st.primaryColor,st.secondaryColor)})),generate(_e.icon,"svg-".concat(_e.name),_objectSpread2(_objectSpread2({className:s,onClick:j,style:et,"data-icon":_e.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},at),{},{ref:ot}))};IconBase.displayName="IconReact";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;const ReactIcon=IconBase;function setTwoToneColor(o){var i=normalizeTwoToneColors(o),a=_slicedToArray(i,2),s=a[0],j=a[1];return ReactIcon.setTwoToneColors({primaryColor:s,secondaryColor:j})}function getTwoToneColor(){var o=ReactIcon.getTwoToneColors();return o.calculated?[o.primaryColor,o.secondaryColor]:o.primaryColor}var _excluded$1=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];setTwoToneColor(blue.primary);var Icon=reactExports.forwardRef(function(o,i){var a,s=o.className,j=o.icon,et=o.spin,tt=o.rotate,rt=o.tabIndex,at=o.onClick,ot=o.twoToneColor,st=_objectWithoutProperties(o,_excluded$1),_e=reactExports.useContext(Context$2),$=_e.prefixCls,nt=$===void 0?"anticon":$,it=_e.rootClassName,lt=classNames(it,nt,(a={},_defineProperty(a,"".concat(nt,"-").concat(j.name),!!j.name),_defineProperty(a,"".concat(nt,"-spin"),!!et||j.name==="loading"),a),s),dt=rt;dt===void 0&&at&&(dt=-1);var ft=tt?{msTransform:"rotate(".concat(tt,"deg)"),transform:"rotate(".concat(tt,"deg)")}:void 0,pt=normalizeTwoToneColors(ot),ht=_slicedToArray(pt,2),gt=ht[0],mt=ht[1];return reactExports.createElement("span",_extends$1({role:"img","aria-label":j.name},st,{ref:i,tabIndex:dt,onClick:at,className:lt}),reactExports.createElement(ReactIcon,{icon:j,primaryColor:gt,secondaryColor:mt,style:ft}))});Icon.displayName="AntdIcon";Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;const AntdIcon=Icon;var CheckCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CheckCircleFilledSvg}))};const CheckCircleFilled$1=reactExports.forwardRef(CheckCircleFilled);var CloseCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const CloseCircleFilledSvg=CloseCircleFilled$2;var CloseCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CloseCircleFilledSvg}))};const CloseCircleFilled$1=reactExports.forwardRef(CloseCircleFilled);var CloseOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const CloseOutlinedSvg=CloseOutlined$2;var CloseOutlined=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:CloseOutlinedSvg}))};const CloseOutlined$1=reactExports.forwardRef(CloseOutlined);var ExclamationCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const ExclamationCircleFilledSvg=ExclamationCircleFilled$2;var ExclamationCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:ExclamationCircleFilledSvg}))};const ExclamationCircleFilled$1=reactExports.forwardRef(ExclamationCircleFilled);var InfoCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const InfoCircleFilledSvg=InfoCircleFilled$2;var InfoCircleFilled=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:InfoCircleFilledSvg}))};const InfoCircleFilled$1=reactExports.forwardRef(InfoCircleFilled);var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function o(i){var a=i.keyCode;if(i.altKey&&!i.ctrlKey||i.metaKey||a>=KeyCode.F1&&a<=KeyCode.F12)return!1;switch(a){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function o(i){if(i>=KeyCode.ZERO&&i<=KeyCode.NINE||i>=KeyCode.NUM_ZERO&&i<=KeyCode.NUM_MULTIPLY||i>=KeyCode.A&&i<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&i===0)return!0;switch(i){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Notify=reactExports.forwardRef(function(o,i){var a=o.prefixCls,s=o.style,j=o.className,et=o.duration,tt=et===void 0?4.5:et,rt=o.eventKey,at=o.content,ot=o.closable,st=o.closeIcon,_e=st===void 0?"x":st,$=o.props,nt=o.onClick,it=o.onNoticeClose,lt=o.times,dt=reactExports.useState(!1),ft=_slicedToArray(dt,2),pt=ft[0],ht=ft[1],gt=function(){it(rt)},mt=function(_t){(_t.key==="Enter"||_t.code==="Enter"||_t.keyCode===KeyCode.ENTER)&&gt()};reactExports.useEffect(function(){if(!pt&&tt>0){var bt=setTimeout(function(){gt()},tt*1e3);return function(){clearTimeout(bt)}}},[tt,pt,lt]);var yt="".concat(a,"-notice");return reactExports.createElement("div",_extends$1({},$,{ref:i,className:classNames(yt,j,_defineProperty({},"".concat(yt,"-closable"),ot)),style:s,onMouseEnter:function(){ht(!0)},onMouseLeave:function(){ht(!1)},onClick:nt}),reactExports.createElement("div",{className:"".concat(yt,"-content")},at),ot&&reactExports.createElement("a",{tabIndex:0,className:"".concat(yt,"-close"),onKeyDown:mt,onClick:function(_t){_t.preventDefault(),_t.stopPropagation(),gt()}},_e))});const Notice=Notify;var Notifications=reactExports.forwardRef(function(o,i){var a=o.prefixCls,s=a===void 0?"rc-notification":a,j=o.container,et=o.motion,tt=o.maxCount,rt=o.className,at=o.style,ot=o.onAllRemoved,st=reactExports.useState([]),_e=_slicedToArray(st,2),$=_e[0],nt=_e[1],it=function(bt){var _t,xt=$.find(function(Et){return Et.key===bt});xt==null||(_t=xt.onClose)===null||_t===void 0||_t.call(xt),nt(function(Et){return Et.filter(function(Tt){return Tt.key!==bt})})};reactExports.useImperativeHandle(i,function(){return{open:function(bt){nt(function(_t){var xt=_toConsumableArray(_t),Et=xt.findIndex(function(At){return At.key===bt.key}),Tt=_objectSpread2({},bt);if(Et>=0){var Pt;Tt.times=(((Pt=_t[Et])===null||Pt===void 0?void 0:Pt.times)||0)+1,xt[Et]=Tt}else Tt.times=0,xt.push(Tt);return tt>0&&xt.length>tt&&(xt=xt.slice(-tt)),xt})},close:function(bt){it(bt)},destroy:function(){nt([])}}});var lt=reactExports.useState({}),dt=_slicedToArray(lt,2),ft=dt[0],pt=dt[1];reactExports.useEffect(function(){var yt={};$.forEach(function(bt){var _t=bt.placement,xt=_t===void 0?"topRight":_t;xt&&(yt[xt]=yt[xt]||[],yt[xt].push(bt))}),Object.keys(ft).forEach(function(bt){yt[bt]=yt[bt]||[]}),pt(yt)},[$]);var ht=function(bt){pt(function(_t){var xt=_objectSpread2({},_t),Et=xt[bt]||[];return Et.length||delete xt[bt],xt})},gt=reactExports.useRef(!1);if(reactExports.useEffect(function(){Object.keys(ft).length>0?gt.current=!0:gt.current&&(ot==null||ot(),gt.current=!1)},[ft]),!j)return null;var mt=Object.keys(ft);return reactDomExports.createPortal(reactExports.createElement(reactExports.Fragment,null,mt.map(function(yt){var bt=ft[yt],_t=bt.map(function(Et){return{config:Et,key:Et.key}}),xt=typeof et=="function"?et(yt):et;return reactExports.createElement(CSSMotionList,_extends$1({key:yt,className:classNames(s,"".concat(s,"-").concat(yt),rt==null?void 0:rt(yt)),style:at==null?void 0:at(yt),keys:_t,motionAppear:!0},xt,{onAllRemoved:function(){ht(yt)}}),function(Et,Tt){var Pt=Et.config,At=Et.className,Ot=Et.style,It=Pt.key,$t=Pt.times,kt=Pt.className,Ft=Pt.style;return reactExports.createElement(Notice,_extends$1({},Pt,{ref:Tt,prefixCls:s,className:classNames(At,kt),style:_objectSpread2(_objectSpread2({},Ot),Ft),times:$t,key:It,eventKey:It,onNoticeClose:it}))})})),j)}),_excluded=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],defaultGetContainer=function o(){return document.body},uniqueKey=0;function mergeConfig(){for(var o={},i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.forEach(function(j){j&&Object.keys(j).forEach(function(et){var tt=j[et];tt!==void 0&&(o[et]=tt)})}),o}function useNotification(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=o.getContainer,a=i===void 0?defaultGetContainer:i,s=o.motion,j=o.prefixCls,et=o.maxCount,tt=o.className,rt=o.style,at=o.onAllRemoved,ot=_objectWithoutProperties(o,_excluded),st=reactExports.useState(),_e=_slicedToArray(st,2),$=_e[0],nt=_e[1],it=reactExports.useRef(),lt=reactExports.createElement(Notifications,{container:$,ref:it,prefixCls:j,motion:s,maxCount:et,className:tt,style:rt,onAllRemoved:at}),dt=reactExports.useState([]),ft=_slicedToArray(dt,2),pt=ft[0],ht=ft[1],gt=reactExports.useMemo(function(){return{open:function(yt){var bt=mergeConfig(ot,yt);(bt.key===null||bt.key===void 0)&&(bt.key="rc-notification-".concat(uniqueKey),uniqueKey+=1),ht(function(_t){return[].concat(_toConsumableArray(_t),[{type:"open",config:bt}])})},close:function(yt){ht(function(bt){return[].concat(_toConsumableArray(bt),[{type:"close",key:yt}])})},destroy:function(){ht(function(yt){return[].concat(_toConsumableArray(yt),[{type:"destroy"}])})}}},[]);return reactExports.useEffect(function(){nt(a())}),reactExports.useEffect(function(){it.current&&pt.length&&(pt.forEach(function(mt){switch(mt.type){case"open":it.current.open(mt.config);break;case"close":it.current.close(mt.key);break;case"destroy":it.current.destroy();break}}),ht([]))},[pt]),[gt,lt]}const genMessageStyle=o=>{const{componentCls:i,iconCls:a,boxShadow:s,colorText:j,colorSuccess:et,colorError:tt,colorWarning:rt,colorInfo:at,fontSizeLG:ot,motionEaseInOutCirc:st,motionDurationSlow:_e,marginXS:$,paddingXS:nt,borderRadiusLG:it,zIndexPopup:lt,contentPadding:dt,contentBg:ft}=o,pt=`${i}-notice`,ht=new Keyframe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:nt,transform:"translateY(0)",opacity:1}}),gt=new Keyframe("MessageMoveOut",{"0%":{maxHeight:o.height,padding:nt,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),mt={padding:nt,textAlign:"center",[`${i}-custom-content > ${a}`]:{verticalAlign:"text-bottom",marginInlineEnd:$,fontSize:ot},[`${pt}-content`]:{display:"inline-block",padding:dt,background:ft,borderRadius:it,boxShadow:s,pointerEvents:"all"},[`${i}-success > ${a}`]:{color:et},[`${i}-error > ${a}`]:{color:tt},[`${i}-warning > ${a}`]:{color:rt},[`${i}-info > ${a},
      ${i}-loading > ${a}`]:{color:at}};return[{[i]:Object.assign(Object.assign({},resetComponent(o)),{color:j,position:"fixed",top:$,width:"100%",pointerEvents:"none",zIndex:lt,[`${i}-move-up`]:{animationFillMode:"forwards"},[`
        ${i}-move-up-appear,
        ${i}-move-up-enter
      `]:{animationName:ht,animationDuration:_e,animationPlayState:"paused",animationTimingFunction:st},[`
        ${i}-move-up-appear${i}-move-up-appear-active,
        ${i}-move-up-enter${i}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${i}-move-up-leave`]:{animationName:gt,animationDuration:_e,animationPlayState:"paused",animationTimingFunction:st},[`${i}-move-up-leave${i}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[i]:{[pt]:Object.assign({},mt)}},{[`${i}-notice-pure-panel`]:Object.assign(Object.assign({},mt),{padding:0,textAlign:"start"})}]},useStyle=genComponentStyleHook("Message",o=>{const i=merge(o,{height:150});return[genMessageStyle(i)]},o=>({zIndexPopup:o.zIndexPopupBase+10,contentBg:o.colorBgElevated,contentPadding:`${(o.controlHeightLG-o.fontSize*o.lineHeight)/2}px ${o.paddingSM}px`}));function getMotion(o,i){return{motionName:i??`${o}-move-up`}}function wrapPromiseFn(o){let i;const a=new Promise(j=>{i=o(()=>{j(!0)})}),s=()=>{i==null||i()};return s.then=(j,et)=>a.then(j,et),s.promise=a,s}var LoadingOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const LoadingOutlinedSvg=LoadingOutlined$2;var LoadingOutlined=function o(i,a){return reactExports.createElement(AntdIcon,_extends$1({},i,{ref:a,icon:LoadingOutlinedSvg}))};const LoadingOutlined$1=reactExports.forwardRef(LoadingOutlined);var __rest$1=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,s=Object.getOwnPropertySymbols(o);j<s.length;j++)i.indexOf(s[j])<0&&Object.prototype.propertyIsEnumerable.call(o,s[j])&&(a[s[j]]=o[s[j]]);return a};const TypeIcon={info:reactExports.createElement(InfoCircleFilled$1,null),success:reactExports.createElement(CheckCircleFilled$1,null),error:reactExports.createElement(CloseCircleFilled$1,null),warning:reactExports.createElement(ExclamationCircleFilled$1,null),loading:reactExports.createElement(LoadingOutlined$1,null)};function PureContent(o){let{prefixCls:i,type:a,icon:s,children:j}=o;return reactExports.createElement("div",{className:classNames(`${i}-custom-content`,`${i}-${a}`)},s||TypeIcon[a],reactExports.createElement("span",null,j))}function PurePanel(o){const{prefixCls:i,className:a,type:s,icon:j,content:et}=o,tt=__rest$1(o,["prefixCls","className","type","icon","content"]),{getPrefixCls:rt}=reactExports.useContext(ConfigContext),at=i||rt("message"),[,ot]=useStyle(at);return reactExports.createElement(Notice,Object.assign({},tt,{prefixCls:at,className:classNames(a,ot,`${at}-notice-pure-panel`),eventKey:"pure",duration:null,content:reactExports.createElement(PureContent,{prefixCls:at,type:s,icon:j},et)}))}var __rest=globalThis&&globalThis.__rest||function(o,i){var a={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(a[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,s=Object.getOwnPropertySymbols(o);j<s.length;j++)i.indexOf(s[j])<0&&Object.prototype.propertyIsEnumerable.call(o,s[j])&&(a[s[j]]=o[s[j]]);return a};const DEFAULT_OFFSET=8,DEFAULT_DURATION=3,Holder=reactExports.forwardRef((o,i)=>{const{top:a,prefixCls:s,getContainer:j,maxCount:et,duration:tt=DEFAULT_DURATION,rtl:rt,transitionName:at,onAllRemoved:ot}=o,{getPrefixCls:st,getPopupContainer:_e}=reactExports.useContext(ConfigContext),$=s||st("message"),[,nt]=useStyle($),it=()=>({left:"50%",transform:"translateX(-50%)",top:a??DEFAULT_OFFSET}),lt=()=>classNames(nt,rt?`${$}-rtl`:""),dt=()=>getMotion($,at),ft=reactExports.createElement("span",{className:`${$}-close-x`},reactExports.createElement(CloseOutlined$1,{className:`${$}-close-icon`})),[pt,ht]=useNotification({prefixCls:$,style:it,className:lt,motion:dt,closable:!1,closeIcon:ft,duration:tt,getContainer:()=>(j==null?void 0:j())||(_e==null?void 0:_e())||document.body,maxCount:et,onAllRemoved:ot});return reactExports.useImperativeHandle(i,()=>Object.assign(Object.assign({},pt),{prefixCls:$,hashId:nt})),ht});let keyIndex=0;function useInternalMessage(o){const i=reactExports.useRef(null);return[reactExports.useMemo(()=>{const s=at=>{var ot;(ot=i.current)===null||ot===void 0||ot.close(at)},j=at=>{if(!i.current){const mt=()=>{};return mt.then=()=>{},mt}const{open:ot,prefixCls:st,hashId:_e}=i.current,$=`${st}-notice`,{content:nt,icon:it,type:lt,key:dt,className:ft,onClose:pt}=at,ht=__rest(at,["content","icon","type","key","className","onClose"]);let gt=dt;return gt==null&&(keyIndex+=1,gt=`antd-message-${keyIndex}`),wrapPromiseFn(mt=>(ot(Object.assign(Object.assign({},ht),{key:gt,content:reactExports.createElement(PureContent,{prefixCls:st,type:lt,icon:it},nt),placement:"top",className:classNames(lt&&`${$}-${lt}`,_e,ft),onClose:()=>{pt==null||pt(),mt()}})),()=>{s(gt)}))},tt={open:j,destroy:at=>{var ot;at!==void 0?s(at):(ot=i.current)===null||ot===void 0||ot.destroy()}};return["info","success","warning","error","loading"].forEach(at=>{const ot=(st,_e,$)=>{let nt;st&&typeof st=="object"&&"content"in st?nt=st:nt={content:st};let it,lt;typeof _e=="function"?lt=_e:(it=_e,lt=$);const dt=Object.assign(Object.assign({onClose:lt,duration:it},nt),{type:at});return j(dt)};tt[at]=ot}),tt},[]),reactExports.createElement(Holder,Object.assign({key:"message-holder"},o,{ref:i}))]}function useMessage(o){return useInternalMessage(o)}var fullClone=_objectSpread2({},ReactDOM$1),version=fullClone.version,reactRender=fullClone.render;fullClone.unmountComponentAtNode;var createRoot;try{var mainVersion=Number((version||"").split(".")[0]);mainVersion>=18&&(createRoot=fullClone.createRoot)}catch(o){}function toggleWarning(o){var i=fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;i&&_typeof(i)==="object"&&(i.usingClientEntryPoint=o)}var MARK="__rc_react_root__";function modernRender(o,i){toggleWarning(!0);var a=i[MARK]||createRoot(i);toggleWarning(!1),a.render(o),i[MARK]=a}function legacyRender(o,i){reactRender(o,i)}function render(o,i){if(createRoot){modernRender(o,i);return}legacyRender(o,i)}let message=null,act=o=>o(),taskQueue=[],defaultGlobalConfig={};function getGlobalContext(){const{prefixCls:o,getContainer:i,duration:a,rtl:s,maxCount:j,top:et}=defaultGlobalConfig,tt=o??globalConfig().getPrefixCls("message"),rt=(i==null?void 0:i())||document.body;return{prefixCls:tt,container:rt,duration:a,rtl:s,maxCount:j,top:et}}const GlobalHolder=reactExports.forwardRef((o,i)=>{const a=()=>{const{prefixCls:$,container:nt,maxCount:it,duration:lt,rtl:dt,top:ft}=getGlobalContext();return{prefixCls:$,getContainer:()=>nt,maxCount:it,duration:lt,rtl:dt,top:ft}},[s,j]=reactExports.useState(a),[et,tt]=useInternalMessage(s),rt=globalConfig(),at=rt.getRootPrefixCls(),ot=rt.getIconPrefixCls(),st=rt.getTheme(),_e=()=>{j(a)};return reactExports.useEffect(_e,[]),reactExports.useImperativeHandle(i,()=>{const $=Object.assign({},et);return Object.keys($).forEach(nt=>{$[nt]=function(){return _e(),et[nt].apply(et,arguments)}}),{instance:$,sync:_e}}),reactExports.createElement(ConfigProvider,{prefixCls:at,iconPrefixCls:ot,theme:st},tt)});function flushNotice(){if(!message){const o=document.createDocumentFragment(),i={fragment:o};message=i,act(()=>{render(reactExports.createElement(GlobalHolder,{ref:a=>{const{instance:s,sync:j}=a||{};Promise.resolve().then(()=>{!i.instance&&s&&(i.instance=s,i.sync=j,flushNotice())})}}),o)});return}message.instance&&(taskQueue.forEach(o=>{const{type:i,skipped:a}=o;if(!a)switch(i){case"open":{act(()=>{const s=message.instance.open(Object.assign(Object.assign({},defaultGlobalConfig),o.config));s==null||s.then(o.resolve),o.setCloseFn(s)});break}case"destroy":act(()=>{message==null||message.instance.destroy(o.key)});break;default:act(()=>{var s;const j=(s=message.instance)[i].apply(s,_toConsumableArray(o.args));j==null||j.then(o.resolve),o.setCloseFn(j)})}}),taskQueue=[])}function setMessageGlobalConfig(o){defaultGlobalConfig=Object.assign(Object.assign({},defaultGlobalConfig),o),act(()=>{var i;(i=message==null?void 0:message.sync)===null||i===void 0||i.call(message)})}function open(o){const i=wrapPromiseFn(a=>{let s;const j={type:"open",config:o,resolve:a,setCloseFn:et=>{s=et}};return taskQueue.push(j),()=>{s?act(()=>{s()}):j.skipped=!0}});return flushNotice(),i}function typeOpen(o,i){const a=wrapPromiseFn(s=>{let j;const et={type:o,args:i,resolve:s,setCloseFn:tt=>{j=tt}};return taskQueue.push(et),()=>{j?act(()=>{j()}):et.skipped=!0}});return flushNotice(),a}function destroy(o){taskQueue.push({type:"destroy",key:o}),flushNotice()}const methods=["success","info","warning","error","loading"],baseStaticMethods={open,destroy,config:setMessageGlobalConfig,useMessage,_InternalPanelDoNotUseOrYouWillBeFired:PurePanel},staticMethods=baseStaticMethods;methods.forEach(o=>{staticMethods[o]=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeOpen(o,a)}});const message$1=staticMethods;function useDelayUnmount(o,i){const[a,s]=reactExports.useState(!1);return reactExports.useEffect(()=>{let j;return o&&!a?s(!0):!o&&a&&(j=setTimeout(()=>s(!1),i)),()=>clearTimeout(j)},[o,i,a]),a}const Animate=({children:o,isMounted:i})=>{const a=useDelayUnmount(i,450),s={animation:"inAnimation 450ms ease-in"},j={animation:"outAnimation 700ms ease-out",animationFillMode:"forwards"};return jsxRuntimeExports.jsx("div",{children:a&&jsxRuntimeExports.jsx("div",{style:i?s:j,children:o})})},SegmentOptions=({handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:j,isCutOut:[et,tt],handleMultiMaskMode:rt})=>{const{segmentTypes:[at,ot],isLoading:[,st],isErased:[_e,$],svg:[nt],clicksHistory:[it],isMultiMaskMode:[lt],svgs:[dt],didShowAMGAnimation:[,ft],handleImage:pt}=reactExports.useContext(AppContext);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`flex justify-between px-4 py-2 my-2 text-sm bg-gray-200 rounded-xl opacity-70 ${at==="All"&&"hidden"} ${et&&"hidden"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{_e&&($(!1),st(!0),pt()),ot("Click"),o()},className:`${(!nt&&!dt&&!_e||at==="All")&&"disabled"}`,children:"Reset"}),jsxRuntimeExports.jsx("button",{onClick:i,className:`${(!nt||at==="All"||lt)&&"disabled"}`,children:"Undo"}),jsxRuntimeExports.jsx("button",{onClick:a,className:`${(!(it!=null&&it.length)||at==="All")&&"disabled"}`,children:"Redo"})]}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col gap-3 py-3 pl-3 text-sm bg-gray-200 cursor-pointer rounded-xl ${j&&"bg-gradient-to-r from-gray-200 to-blue-400/30 background-animate"} ${et&&"hidden"}`,children:[at==="Click"&&jsxRuntimeExports.jsxs("button",{onClick:()=>{rt(),ft(!1)},className:"flex opacity-70",children:[jsxRuntimeExports.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("rect",{x:"1",y:"1",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:lt?"#2962D9":"#1C2A33",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:lt?"#2962D9":"#1C2A33",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"7",y:"7",width:"12",height:"12",rx:"2",fill:"#DEE3E9",stroke:lt?"#2962D9":"#1C2A33",strokeWidth:"2"})]}),jsxRuntimeExports.jsx("span",{className:`pl-2 opacity-70 font-bold ${lt&&"text-blue-600 "}`,children:"Multi-mask"})]}),jsxRuntimeExports.jsxs("button",{className:`flex ${!nt&&at!=="All"&&"disabled"} `,onClick:ht=>{s(),ht.stopPropagation(),tt(!0)},children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M11.7895 0H13.4737V2.52632H16V4.21053H13.4737V6.73684H11.7895V4.21053H9.26316V2.52632H11.7895V0ZM3.36842 2.52632H6.73684V4.21053H3.36842C2.44211 4.21053 1.68421 4.96842 1.68421 5.89474V12.6316C1.68421 13.5663 2.44211 14.3158 3.36842 14.3158H10.1053C11.04 14.3158 11.7895 13.5663 11.7895 12.6316V9.26316H13.4737V12.6316C13.4737 14.4926 11.9663 16 10.1053 16H3.36842C1.50737 16 0 14.4926 0 12.6316V5.89474C0 4.03368 1.50737 2.52632 3.36842 2.52632Z",fill:"black"})}),jsxRuntimeExports.jsx("span",{className:"pl-2 opacity-70",children:at==="All"?"Cut out all objects":"Cut out object"})]})]})]})},SegmentDrawer=({handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,handleMultiMaskMode:j,userNegClickBool:[et,tt],showGallery:[,rt],hasClicked:at})=>{const{isModelLoaded:[ot],segmentTypes:[st,_e],isLoading:[$],isErased:[nt],isMultiMaskMode:[,it],stickers:[lt],activeSticker:[dt,ft],didShowAMGAnimation:[,pt],isAllAnimationDone:[ht],isToolBarUpload:[,gt],handleResetState:mt,handleSelectedImage:yt}=reactExports.useContext(AppContext),[bt,_t]=reactExports.useState(!0),[xt,Et]=reactExports.useState(!1),[Tt,Pt]=reactExports.useState(!1),[At,Ot]=reactExports.useState(!1),[It,$t]=reactExports.useState(!1),[kt,Ft]=reactExports.useState(!1),Ut=Fn=>{ft(Fn)},[zt,Wt]=reactExports.useState(!0),[Qt,un]=reactExports.useState(!0),[an,vn]=reactExports.useState(!0),[fn,jt]=reactExports.useState(!0),[en,on]=reactExports.useState(!1),[wn,cn]=reactExports.useState(!1),[An,bn]=reactExports.useState(!1),[Vn,xn]=reactExports.useState(!1);let Jn,Ln,Hn,jn;const{getRootProps:On,getInputProps:zn}=useDropzone({accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"]},onDrop:Fn=>{try{if(Fn.length===0){message$1.warning("不支持此格式图片，请重新选择图片");return}if(Fn.length>1){message$1.warning("1次只能添加一张图片");return}const Bn=new FileReader;Bn.onloadend=()=>{yt(Fn[0])},Bn.readAsDataURL(Fn[0])}catch(Bn){console.log(Bn)}},maxSize:5e7});return jsxRuntimeExports.jsx("section",{className:"flex-col hidden w-1/5 pt-[6%] overflow-y-auto md:flex lg:w-72",children:jsxRuntimeExports.jsx("div",{className:"shadow-[0px_0px_15px_5px_#00000024] rounded-xl md:mx-1 lg:mx-5",children:jsxRuntimeExports.jsxs("div",{className:"p-4 pt-5",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between p-2 pb-3",children:jsxRuntimeExports.jsx("span",{className:"leading-3",children:"Tools"})}),bt&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between px-3 py-2 mb-3 cursor-pointer rounded-xl outline outline-gray-200",children:[jsxRuntimeExports.jsx("button",{className:"flex",onClick:()=>{rt(!0),Ft(!1),gt(!0)},children:jsxRuntimeExports.jsxs("span",{...On(),className:"flex text-sm",children:[jsxRuntimeExports.jsx("input",{...zn()}),jsxRuntimeExports.jsx("img",{src:"/assets/upload_arrow.svg",className:"w-5 mr-1"}),"Upload"]})}),jsxRuntimeExports.jsxs("button",{className:"flex",onClick:()=>{gt(!1),rt(!1),Ft(!1),pt(!1),mt(),history.back()},children:[jsxRuntimeExports.jsx("img",{src:"/assets/icn-image-gallery.svg",className:"w-5 mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Gallery"})]})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{st!=="Click"&&o(),clearTimeout(Jn),_e("Click"),Ft(!1),pt(!1)},className:`transition-all overflow-hidden pb-2 ${st!=="Click"&&(zt?"max-h-[40px]":"max-h-[85px]")} px-3 py-2 cursor-pointer rounded-xl ${st==="Click"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200 "} ${kt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(Jn),Jn=setTimeout(()=>{Wt(!1),Et(!0),on(!en)},700)},onMouseLeave:()=>{Wt(!0),un(!0),vn(!0),jt(!0),clearTimeout(Jn),on(!1),cn(!1),bn(!1),xn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-3 mr-2",children:jsxRuntimeExports.jsx("path",{d:"M9.13635 23.8813C8.53843 24.1683 7.82091 23.9172 7.54586 23.3192L4.93889 17.6509L1.93729 20.0665C1.73399 20.2339 1.48286 20.3296 1.19586 20.3296C0.878697 20.3296 0.574526 20.2036 0.350259 19.9793C0.125992 19.7551 0 19.4509 0 19.1337V1.19586C0 0.878697 0.125992 0.574526 0.350259 0.350259C0.574526 0.125992 0.878697 0 1.19586 0C1.48286 0 1.75791 0.107627 1.96121 0.275047L1.97317 0.263089L15.7136 11.7912C16.2278 12.2217 16.2876 12.9751 15.869 13.4773C15.6897 13.6926 15.4385 13.8361 15.1874 13.8839L11.4085 14.6253L14.0394 20.2817C14.3503 20.8797 14.0633 21.5852 13.4654 21.8603L9.13635 23.8813Z",fill:`${st==="Click"?"#2962D9":"#000000"}`})}),jsxRuntimeExports.jsx("span",{className:`font-bold ${st==="Click"&&"text-blue-600"}`,children:"点选"})]}),st!=="Click"&&xt&&jsxRuntimeExports.jsx(Animate,{isMounted:en,children:jsxRuntimeExports.jsx("p",{className:"my-3 text-[11px] opacity-70",children:"Click an object one or more times. Shift-click to remove regions."})}),st==="Click"&&jsxRuntimeExports.jsx("p",{className:"my-3 text-[11px] text-blue-700 opacity-70",children:"Click an object one or more times. Shift-click to remove regions."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mx-5 my-3",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>tt(!1),className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-7 text-center align-middle rounded-lg mb-1 ${et?"outline outline-1":"bg-blue-600 text-white"}`,children:"+"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${!et&&"text-blue-600"}`,children:"Add Mask"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>tt(!0),className:`flex flex-col items-center ${at?"":"disabled"}`,children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-6 text-center align-middle rounded-lg mb-1 ${et?"bg-blue-600 text-white":"outline outline-1"}`,children:"-"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${et&&"text-blue-600"}`,children:"Remove Area"})]})]}),st==="Click"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:at,isCutOut:[kt,Ft],handleMultiMaskMode:j})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{st!=="Box"&&o(!0),clearTimeout(Ln),it(!1),_e("Box"),Ft(!1),pt(!1)},className:`transition-all overflow-hidden ${st!=="Box"&&(Qt?"max-h-[40px]":"max-h-[85px]")} my-2 rounded-xl px-4 py-2 cursor-pointer ${st==="Box"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"} ${kt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(Ln),Ln=setTimeout(()=>{un(!1),Pt(!0),cn(!0)},700)},onMouseLeave:()=>{Wt(!0),un(!0),vn(!0),jt(!0),clearTimeout(Ln),on(!1),cn(!1),bn(!1),xn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M17.7778 0H2.22222C1.63285 0 1.06762 0.234126 0.650874 0.650874C0.234126 1.06762 0 1.63285 0 2.22222V17.7778C0 18.3671 0.234126 18.9324 0.650874 19.3491C1.06762 19.7659 1.63285 20 2.22222 20H17.7778C18.3671 20 18.9324 19.7659 19.3491 19.3491C19.7659 18.9324 20 18.3671 20 17.7778V2.22222C20 1.63285 19.7659 1.06762 19.3491 0.650874C18.9324 0.234126 18.3671 0 17.7778 0ZM17.7778 17.7778H2.22222V2.22222H17.7778V17.7778ZM15.5556 15.5556H4.44444V4.44444H15.5556V15.5556Z",fill:`${st==="Box"?"#2962D9":"#000000"}`})}),jsxRuntimeExports.jsx("span",{className:`pl-2 font-bold ${st==="Box"&&"text-blue-600"}`,children:"框选"})]}),st!=="Box"&&Tt&&jsxRuntimeExports.jsx(Animate,{isMounted:wn,children:jsxRuntimeExports.jsx("p",{className:"my-3 text-xs opacity-70",children:"Roughly draw a box around an object."})}),st==="Box"&&jsxRuntimeExports.jsx("p",{className:"my-3 text-xs text-blue-700 opacity-70",children:"Roughly draw a box around an object."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mx-5 my-3",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>tt(!1),className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-7 text-center align-middle rounded-lg mb-1 ${et?"outline outline-1":"bg-blue-600 text-white"}`,children:"+"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${!et&&"text-blue-600"}`,children:"Add Mask"})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>tt(!0),className:`flex flex-col items-center ${at?"":"disabled"}`,children:[jsxRuntimeExports.jsx("p",{className:`w-8 h-7 text-3xl leading-6 text-center align-middle rounded-lg mb-1 ${et?"bg-blue-600 text-white":"outline outline-1"}`,children:"-"}),jsxRuntimeExports.jsx("p",{className:`text-xs font-bold ${et&&"text-blue-600"}`,children:"Remove Area"})]})]}),st==="Box"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:at,isCutOut:[kt,Ft],handleMultiMaskMode:j})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{st!=="All"&&o(),clearTimeout(Hn),_e("All"),Ft(!1),pt(!1)},className:`transition-all overflow-hidden ${st==="All"&&ht===!1&&"disabled"} ${st!=="All"&&(an?"max-h-[40px]":"max-h-[85px]")} my-2 rounded-xl px-4 py-2 cursor-pointer ${st==="All"?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"} ${(!ot.allModel||$&&!nt)&&"pointer-events-none"} ${kt&&"hidden"}`,onMouseEnter:()=>{clearTimeout(Hn),Hn=setTimeout(()=>{vn(!1),Ot(!0),bn(!0)},700)},onMouseLeave:()=>{Wt(!0),un(!0),vn(!0),jt(!0),clearTimeout(Hn),on(!1),cn(!1),bn(!1),xn(!1)},children:[jsxRuntimeExports.jsx("div",{className:"flex",children:jsxRuntimeExports.jsx("span",{className:`pl-3 font-bold ${st==="All"&&"text-blue-600"} ${(!ot.allModel||$&&!nt)&&"disabled"}`,children:"全景分割"})}),st!=="All"&&At&&jsxRuntimeExports.jsx(Animate,{isMounted:An,children:jsxRuntimeExports.jsx("p",{className:`text-xs my-3 opacity-70 ${(!ot.allModel||$&&!nt)&&"disabled"}`,children:"Find all the objects in the image automatically."})}),st==="All"&&jsxRuntimeExports.jsx("p",{className:`text-xs my-3 opacity-70 text-blue-700 ${(!ot.allModel||$&&!nt)&&"disabled"}`,children:"Find all the objects in the image automatically."}),st==="All"&&jsxRuntimeExports.jsx(SegmentOptions,{handleResetInteraction:o,handleUndoInteraction:i,handleRedoInteraction:a,handleCreateSticker:s,hasClicked:at,isCutOut:[kt,Ft],handleMultiMaskMode:j})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{clearTimeout(jn),it(!1),Ft(!0),_t(!1)},className:`transition-all overflow-hidden my-2 rounded-xl px-4 py-2 cursor-pointer ${kt?"outline-blue-700 outline outline-[2.5px]":"outline outline-gray-200"}`,onMouseEnter:()=>{clearTimeout(jn),jn=setTimeout(()=>{jt(!1),$t(!0),xn(!0)},700)},onMouseLeave:()=>{Wt(!0),un(!0),vn(!0),jt(!0),clearTimeout(jn),on(!1),cn(!1),bn(!1),xn(!1)},children:[jsxRuntimeExports.jsxs("div",{className:`flex ${kt===!1&&(fn?"max-h-[40px]":"max-h-[2048px]")}`,children:[jsxRuntimeExports.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:"mt-1",children:[jsxRuntimeExports.jsx("path",{d:"M10.575 6.3C10.575 5.175 11.0812 4.5 11.925 4.5C12.7687 4.5 13.275 5.175 13.275 6.3C13.275 7.425 12.7687 8.1 11.925 8.1C11.0812 8.1 10.575 7.425 10.575 6.3Z",fill:`${kt?"#2962D9":"#000000"}`}),jsxRuntimeExports.jsx("path",{d:"M6.075 4.5C5.23125 4.5 4.725 5.175 4.725 6.3C4.725 7.425 5.23125 8.1 6.075 8.1C6.91875 8.1 7.425 7.425 7.425 6.3C7.425 5.175 6.91875 4.5 6.075 4.5Z",fill:`${kt?"#2962D9":"#000000"}`}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10.2088V3.6C18 1.61177 16.3882 0 14.4 0H3.6C1.61177 0 0 1.61177 0 3.6V14.4C0 16.3882 1.61177 18 3.6 18H10.2088C11.1636 18 12.0793 17.6207 12.7544 16.9456L16.9456 12.7544C17.6207 12.0793 18 11.1636 18 10.2088ZM3.6 2.25H14.4C15.1456 2.25 15.75 2.85442 15.75 3.6V8.75C15.75 8.88807 15.6381 9 15.5 9H12.6C10.8656 9 9.4177 10.2265 9.07625 11.8594C9.06866 11.8957 9.03707 11.9225 8.99998 11.9225C7.65188 11.9225 6.41916 11.4285 5.47297 10.6116C5.07293 10.2662 4.45995 10.2265 4.08625 10.6001C3.75946 10.9269 3.73435 11.4546 4.07118 11.771C5.3028 12.928 6.94175 13.6565 8.74991 13.7182C8.8879 13.7229 8.99998 13.8344 8.99998 13.9725L9 15.5C9 15.6381 8.88807 15.75 8.75 15.75H3.6C2.85442 15.75 2.25 15.1456 2.25 14.4V3.6C2.25 2.85442 2.85442 2.25 3.6 2.25Z",fill:`${kt?"#2962D9":"#000000"}`})]}),jsxRuntimeExports.jsx("span",{className:`pl-2 font-bold ${kt&&"text-blue-600"}`,children:"Cut-Outs"}),kt&&jsxRuntimeExports.jsx("button",{className:"ml-auto font-bold",onClick:Fn=>{Fn.stopPropagation(),Ft(!1),_e("Click"),_t(!0)},children:"Close"})]}),kt===!1&&It&&jsxRuntimeExports.jsx(Animate,{isMounted:Vn,children:jsxRuntimeExports.jsx("p",{className:"my-2 text-xs opacity-70",children:"See Cut-outs"})}),kt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Animate,{isMounted:kt,children:[jsxRuntimeExports.jsx("p",{className:"my-1 text-xs text-blue-700",children:"See Cut-outs"}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-[30rem] text-center",children:lt.map((Fn,Bn)=>jsxRuntimeExports.jsx("img",{className:`sticker m-5 max-w-[75%] max-h-20 md:max-h-24 lg:max-h-28 xl:max-h-32 cursor-pointer inline hover:opacity-100 ${Bn===dt?"sticker-select":""}`,alt:"sticker",src:Fn.toDataURL(),onClick:()=>Ut(Bn)},Bn))})]})})]})]})})})},Stage=()=>{const{click:[,o],clicks:[i,a],clicksHistory:[s,j],svg:[,et],stickers:[tt,rt],segmentTypes:[at],isErased:[,ot],maskImg:[,st],userNegClickBool:[_e,$],activeSticker:[,nt],isLoading:[,it],hasNegClicked:[,lt],stickerTabBool:[dt],isMultiMaskMode:[ft,pt],svgs:[,ht],isHovering:[,gt],showLoadingModal:[mt],predMask:[,yt],predMasks:[bt,_t],predMasksHistory:[xt,Et],isToolBarUpload:[Tt],modelScale:[Pt],hasClicked:[At,Ot],image:[It],handleResetState:$t}=reactExports.useContext(AppContext),[kt,Ft]=reactExports.useState([]),[Ut,zt]=reactExports.useState([]),[Wt,Qt]=reactExports.useState([]),[un,an]=reactExports.useState(!0),[vn,fn]=reactExports.useState(!1),[jt,en]=reactExports.useState(0),[on,wn]=reactExports.useState(),[cn,An]=reactExports.useState(1),bn=4,Vn=30,xn=reactExports.useRef(null),Jn=reactExports.useRef(null),[Ln,Hn]=reactExports.useState("");reactExports.useEffect(()=>()=>{$t()},[]);const jn=Ht=>{setTimeout(()=>window.requestAnimationFrame(()=>{setTimeout(()=>{Ht()},0)}),0)},On=()=>{xn.current!==null&&(it(!0),jn(()=>jn(()=>jn(()=>jn(zn)))))},zn=()=>{if(xn.current===null)return;const Ht=Mn=>{let Kt=null;try{const En=Mn.toCanvas().getContext("2d");let Un=Mn.width(),cr=Mn.height();const dr={x:[],y:[]},Sr=En.getImageData(0,0,Un,cr);let Tr,Ir,Gn;for(Ir=0;Ir<cr;Ir++)for(Tr=0;Tr<Un;Tr++)Gn=(Ir*Un+Tr)*4,Sr.data[Gn+3]>0&&(dr.x.push(Tr),dr.y.push(Ir));dr.x.sort(function(In,rr){return In-rr}),dr.y.sort(function(In,rr){return In-rr});const qn=dr.x.length-1;Un=1+dr.x[qn]-dr.x[0],cr=1+dr.y[qn]-dr.y[0];const Yn=En.getImageData(dr.x[0],dr.y[0],Un,cr);En.width=Un,En.height=cr,En.putImageData(Yn,0,0),Kt=document.createElement("canvas"),Kt.width=Un,Kt.height=cr,Kt.getContext("2d").putImageData(Yn,0,0)}catch(En){console.log(En);return}return Kt},Xt=window.innerWidth<768,Zt=xn.current.clone(),tn=Zt.findOne(".svgMask"),dn=tn.find("Path"),pn=tn.find("Image")[0];if(at==="All")for(const Mn of dn)Mn.attrs.visible=!0;const mn=[];let _n=0;Zt.findOne(".annotations").hide(),Zt.findOne(".animateAllSvg").hide(),tn.globalCompositeOperation("destination-atop"),pn.opacity(-1),pn.remove();for(const Mn of dn)Mn.opacity(-1).remove();for(const Mn of dn){_n++,tn.add(pn),tn.add(Mn);const Kt=Ht(Zt);if(Kt&&mn.push(Kt),pn.remove(),Mn.remove(),Xt&&_n===Vn)break}nt(0),rt([...mn||[],...tt||[]]),Rt(),it(!1)},Fn=throttle((Ht,Xt,Zt)=>{const tn=Kn(Ht,Xt,Zt);tn&&a([tn])},15);reactExports.useEffect(()=>{jt===bn&&on&&(en(0),gr(on))},[jt,on]);const Bn=Ht=>{if(dt||(s&&j(null),xt&&Et(null),at!=="Box"))return;const{x:Xt,y:Zt}=Ht.target.getStage().getPointerPosition();en(0),Ut.length===0&&zt([{x:Xt,y:Zt,width:0,height:0,clickType:-1}])},hn=(Ht,Xt)=>{if(dt)return;it(!0),Ot(!0);const{x:Zt,y:tn}=Ht.target.getStage().getPointerPosition();switch(at){case"Click":if(At||Xt)if(Xt){const Kt=Kn(Ht,Zt,tn)||null;(Kt==null?void 0:Kt.clickType)===0&&lt(!0),o(Kt)}else ir(Ht,Zt,tn);break;case"Box":const dn=Ut[0].x,pn=Ut[0].y,mn=Zt-dn,_n=tn-pn,Mn=mn===0&&_n===0;if(zt([]),Mn)if(i!=null&&i.length&&i[0].width&&i[0].height){const Kt=Kn(Ht,Zt,tn),En={sx:i[0].x*cn/Pt.scale,sy:i[0].y*cn/Pt.scale,x:i[0].width*cn/Pt.scale,y:i[0].height*cn/Pt.scale};yr(En,Kt),Ft([ur(En)]),gr(En,Kt)}else Ot(!1),it(!1);else{const Kt={sx:dn,sy:pn,x:Zt,y:tn};wn(Kt),yr(Kt),Ft([ur(Kt)]),gr(Kt)}break}},Sn=Ht=>{if(dt)return;const{x:Xt,y:Zt}=Ht.target.getStage().getPointerPosition();if(at==="Click"&&!At)Fn(Ht,Xt,Zt);else if(Ut.length===1){const tn=Ut[0].x,dn=Ut[0].y;zt([ur({sx:tn,sy:dn,x:Xt,y:Zt})]),Ft([]),wn({sx:tn,sy:dn,x:Xt,y:Zt}),en(pn=>pn+1)}},Wn=()=>{dt||(i==null?void 0:i.length)===1&&at==="Click"&&!At&&(defer(Rt),setTimeout(Rt,25))},Kn=(Ht,Xt,Zt)=>{let tn;if(Ht.evt.button===0||!Ht.evt.button?tn=1:Ht.evt.button===2&&(tn=0),tn!==void 0)return _e&&(tn=0),Xt*=Pt.scale/cn,Zt*=Pt.scale/cn,{x:Xt,y:Zt,width:null,height:null,clickType:tn}},ir=(Ht,Xt,Zt)=>{const tn=Kn(Ht,Xt,Zt);tn&&a([...i||[],tn])},gr=({sx:Ht,sy:Xt,x:Zt,y:tn},dn,pn)=>{Ht*=Pt.scale/cn,Xt*=Pt.scale/cn,Zt*=Pt.scale/cn,tn*=Pt.scale/cn;const mn={x:Math.min(Ht,Zt),y:Math.min(Xt,tn),width:Math.max(Ht,Zt),height:Math.max(Xt,tn),clickType:2},_n=pn||[...i||[]];dn&&_n.push(dn),_n[0]&&!_n[0].width?_n.unshift(mn):_n[0]=mn,a(_n)},ur=({sx:Ht,sy:Xt,x:Zt,y:tn})=>({x:Ht,y:Xt,width:Zt-Ht,height:tn-Xt,clickType:2}),yr=(Ht,Xt,Zt)=>{const tn=Rn(Xt,Zt);if(!tn||!tn.xMin||!tn.yMin||!tn.xMax||!tn.yMax)return;let{sx:dn,sy:pn,x:mn,y:_n}=Ht;const Mn=Math.min(dn,mn),Kt=Math.min(pn,_n),En=Math.max(dn,mn),Un=Math.max(pn,_n);tn.xMin<Mn&&(dn<mn?dn=tn.xMin:mn=tn.xMin),tn.yMin<Kt&&(pn<_n?pn=tn.yMin:_n=tn.yMin),tn.xMax>En&&(dn>mn?dn=tn.xMax:mn=tn.xMax),tn.yMax>Un&&(pn>_n?pn=tn.yMax:_n=tn.yMax),Ht.sx=dn,Ht.sy=pn,Ht.x=mn,Ht.y=_n},Rn=(Ht,Xt)=>{let Zt,tn,dn,pn;const mn=Xt||(i?[...i]:null);if(mn){Ht&&mn.push(Ht);for(const _n of mn)_n.width||_n.clickType!==0&&((!Zt||_n.x<Zt)&&(Zt=_n.x),(!tn||_n.y<tn)&&(tn=_n.y),(!dn||_n.x>dn)&&(dn=_n.x),(!pn||_n.y>pn)&&(pn=_n.y));return Zt=Zt&&Zt*cn/Pt.scale,tn=tn&&tn*cn/Pt.scale,dn=dn&&dn*cn/Pt.scale,pn=pn&&pn*cn/Pt.scale,{xMin:Zt,yMin:tn,xMax:dn,yMax:pn}}},Rt=Ht=>{et(null),ht(null),o(null),a(null),Ft([]),zt([]),j(null),st(null),$(!1),gt(null),yt(null),_t(null),Et(null),it(!1),wn(void 0),at==="Click"&&!Ht?ft||Ot(!1):(Ot(!1),pt(!1))},Nt=()=>{ft?i||Ot(!1):(i&&i.length>1&&Rt(),Ot(!0)),pt(!ft)};reactExports.useEffect(()=>{i||(Ft([]),zt([]),wn(void 0))},[i]);const Lt=()=>{if((i==null?void 0:i.length)===1&&(kt!=null&&kt.length)&&at==="Box"&&(Qt(kt),Ft([]),zt([])),bt!=null&&bt.length&&(i!=null&&i.length)){const Ht=[...bt],Xt=Ht.pop(),Zt=[...xt||[]];_t(Ht),Xt&&Zt.push(Xt),Et(Zt);const tn=[...i],dn=tn.pop(),pn=[...s||[]];if(dn&&pn.push(dn),j(pn),i.length===1)yt(null),Ot(!1),a(null),et(null),ot(!1),st(null);else if(it(!0),yt(Ht[Ht.length-1]),on){const mn={...on};yr(mn,void 0,tn),Ft([ur(mn)]),gr(mn,void 0,tn)}else a(tn)}},Bt=()=>{if(s!=null&&s.length&&(Wt!=null&&Wt.length)&&at==="Box"&&(Ft(Wt),zt([]),Qt([])),xt!=null&&xt.length&&(s!=null&&s.length)){it(!0),Ot(!0);const Ht=[...bt||[]],Xt=[...xt||[]],Zt=Xt.pop();Zt&&Ht.push(Zt),Et(Xt),_t(Ht),yt(Ht[Ht.length-1]);const tn=[...i||[]],dn=[...s||[]],pn=dn.pop();if(pn&&tn.push(pn),j(dn),on){const mn={...on};yr(mn,void 0,tn),Ft([ur(mn)]),gr(mn,void 0,tn)}else a(tn)}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:It||Tt?jsxRuntimeExports.jsxs("div",{className:"flex items-stretch justify-center flex-1 overflow-hidden stage",children:[mt&&jsxRuntimeExports.jsx(LoadingModal,{handleResetState:$t}),jsxRuntimeExports.jsx(SegmentDrawer,{handleResetInteraction:Rt,handleUndoInteraction:Lt,handleRedoInteraction:Bt,handleCreateSticker:On,userNegClickBool:[_e,$],handleMultiMaskMode:Nt,showGallery:[un,an],hasClicked:At}),jsxRuntimeExports.jsx("div",{className:"relative flex flex-col items-center md:justify-center flex-1 overflow-hidden md:overflow-visible md:px-12 md:py-9",children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-[calc(100%-6rem)] md:h-full md:my-7",ref:Jn,children:jsxRuntimeExports.jsx(reactExports.Profiler,{id:"Canvas",onRender:()=>{},children:jsxRuntimeExports.jsx(Canvas,{konvaRef:xn,containerRef:Jn,annotations:kt,newAnnotation:Ut,scale:Pt,handleMouseUp:hn,handleMouseDown:Bn,handleMouseMove:Sn,handleMouseOut:Wn,hasClicked:At,setCanvasScale:An,isHoverToolTip:[vn,fn],allText:[Ln,Hn]})})})})]}):jsxRuntimeExports.jsx(Home,{})})},index="",router=createBrowserRouter([{path:"/",children:[{path:"/",element:jsxRuntimeExports.jsx(Home,{})},{path:"main",element:jsxRuntimeExports.jsx(Stage,{})}]}]);client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(AppContextProvider,{children:jsxRuntimeExports.jsx(RouterProvider,{router})})}));
